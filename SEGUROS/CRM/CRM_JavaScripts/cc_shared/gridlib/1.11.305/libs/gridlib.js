this.MscrmControls=this.MscrmControls||{},function(t,P,a,C,f,d,y,i,e,h,m,n,o,j,x,c,r,s,u){"use strict";var I="default"in P?P.default:P;j=j&&j.hasOwnProperty("default")?j.default:j,x=x&&x.hasOwnProperty("default")?x.default:x,c=c&&c.hasOwnProperty("default")?c.default:c;var M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function A(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function g(t,i){return t(i={exports:{}},i.exports),i.exports}function w(t){return t&&t.Math==Math&&t}function p(t){try{return!!t()}catch(t){return!0}}function v(t,i){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:i}}function b(t){return Z.call(t).slice(8,-1)}function F(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function E(t){return tt(F(t))}function B(t){return"object"==typeof t?null!==t:"function"==typeof t}function Q(t,i){if(!B(t))return t;var e,n;if(i&&"function"==typeof(e=t.toString)&&!B(n=e.call(t)))return n;if("function"==typeof(e=t.valueOf)&&!B(n=e.call(t)))return n;if(!i&&"function"==typeof(e=t.toString)&&!B(n=e.call(t)))return n;throw TypeError("Can't convert object to primitive value")}function R(t,i){return it.call(t,i)}function k(t){return nt?et.createElement(t):{}}function S(t){if(!B(t))throw TypeError(String(t)+" is not an object");return t}function D(i,e){try{ct(J,i,e)}catch(t){J[i]=e}return e}function N(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++wt+mt).toString(36)}function T(t){return pt[t]||(pt[t]=N(t))}var O,Y,U,H,z,G,V,L,J=w("object"==typeof globalThis&&globalThis)||w("object"==typeof window&&window)||w("object"==typeof self&&self)||w("object"==typeof M&&M)||Function("return this")(),W=!p(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),_={}.propertyIsEnumerable,X=Object.getOwnPropertyDescriptor,K={f:X&&!_.call({1:2},1)?function(t){var i=X(this,t);return!!i&&i.enumerable}:_},Z={}.toString,q="".split,tt=p(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==b(t)?q.call(t,""):Object(t)}:Object,it={}.hasOwnProperty,et=J.document,nt=B(et)&&B(et.createElement),rt=!W&&!p(function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a}),st=Object.getOwnPropertyDescriptor,ot={f:W?st:function(t,i){if(t=E(t),i=Q(i,!0),rt)try{return st(t,i)}catch(t){}if(R(t,i))return v(!K.f.call(t,i),t[i])}},at=Object.defineProperty,ht={f:W?at:function(t,i,e){if(S(t),i=Q(i,!0),S(e),rt)try{return at(t,i,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[i]=e.value),t}},ct=W?function(t,i,e){return ht.f(t,i,v(1,e))}:function(t,i,e){return t[i]=e,t},ut="__core-js_shared__",lt=J[ut]||D(ut,{}),ft=g(function(t){(t.exports=function(t,i){return lt[t]||(lt[t]=void 0!==i?i:{})})("versions",[]).push({version:"3.3.3",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),dt=ft("native-function-to-string",Function.toString),At=J.WeakMap,gt="function"==typeof At&&/native code/.test(dt.call(At)),wt=0,mt=Math.random(),pt=ft("keys"),vt={},bt=J.WeakMap;function Et(t){return"function"==typeof t?t:void 0}function Bt(t,i){return arguments.length<2?Et(Yt[t])||Et(J[t]):Yt[t]&&Yt[t][i]||J[t]&&J[t][i]}function Ct(t){return isNaN(t=+t)?0:(0<t?Ht:Ut)(t)}function jt(t){return 0<t?zt(Ct(t),9007199254740991):0}function yt(t,i){var e=Ct(t);return e<0?Gt(e+i,0):Pt(e,i)}function xt(a){return function(t,i,e){var n,r=E(t),s=jt(r.length),o=yt(e,s);if(a&&i!=i){for(;o<s;)if((n=r[o++])!=n)return!0}else for(;o<s;o++)if((a||o in r)&&r[o]===i)return a||o||0;return!a&&-1}}function It(t,i){var e,n=E(t),r=0,s=[];for(e in n)!R(vt,e)&&R(n,e)&&s.push(e);for(;i.length>r;)R(n,e=i[r++])&&(~Lt(s,e)||s.push(e));return s}function Mt(t,i){for(var e=Kt(i),n=ht.f,r=ot.f,s=0;s<e.length;s++){var o=e[s];R(t,o)||n(t,o,r(i,o))}}function Ft(t,i){var e=$t[qt(t)];return e==ii||e!=ti&&("function"==typeof i?p(i):!!i)}function Qt(t,i){var e,n,r,s,o=t.target,a=t.global,h=t.stat,c=a?J:h?J[o]||D(o,{}):(J[o]||{}).prototype;if(c)for(e in i){if(r=i[e],n=t.noTargetGet?(s=ni(c,e))&&s.value:c[e],!ei(a?e:o+(h?".":"#")+e,t.forced)&&void 0!==n){if(typeof r==typeof n)continue;Mt(r,n)}(t.sham||n&&n.sham)&&ct(r,"sham",!0),Ot(c,e,r,t)}}function Rt(t){return Object(F(t))}function kt(t,i,e){var n=Q(i);n in t?ht.f(t,n,v(0,e)):t[n]=e}function St(t){return ai[t]||(ai[t]=si&&oi[t]||(si?oi:N)("Symbol."+t))}function Dt(t,i){var e;return ri(t)&&("function"==typeof(e=t.constructor)&&(e===Array||ri(e.prototype))||B(e)&&null===(e=e[hi]))&&(e=void 0),new(void 0===e?Array:e)(0===i?0:i)}function Nt(i){return!p(function(){var t=[];return(t.constructor={})[ci]=function(){return{foo:1}},1!==t[i](Boolean).foo})}V=gt?(O=new bt,Y=O.get,U=O.has,H=O.set,z=function(t,i){return H.call(O,t,i),i},G=function(t){return Y.call(O,t)||{}},function(t){return U.call(O,t)}):(L=T("state"),vt[L]=!0,z=function(t,i){return ct(t,L,i),i},G=function(t){return R(t,L)?t[L]:{}},function(t){return R(t,L)});var Tt={set:z,get:G,has:V,enforce:function(t){return V(t)?G(t):z(t,{})},getterFor:function(e){return function(t){var i;if(!B(t)||(i=G(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}},Ot=g(function(t){var i=Tt.get,a=Tt.enforce,h=String(dt).split("toString");ft("inspectSource",function(t){return dt.call(t)}),(t.exports=function(t,i,e,n){var r=!!n&&!!n.unsafe,s=!!n&&!!n.enumerable,o=!!n&&!!n.noTargetGet;"function"==typeof e&&("string"!=typeof i||R(e,"name")||ct(e,"name",i),a(e).source=h.join("string"==typeof i?i:"")),t!==J?(r?!o&&t[i]&&(s=!0):delete t[i],s?t[i]=e:ct(t,i,e)):s?t[i]=e:D(i,e)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||dt.call(this)})}),Yt=J,Ut=Math.ceil,Ht=Math.floor,zt=Math.min,Gt=Math.max,Pt=Math.min,Vt={includes:xt(!0),indexOf:xt(!1)},Lt=Vt.indexOf,Jt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Wt=Jt.concat("length","prototype"),_t={f:Object.getOwnPropertyNames||function(t){return It(t,Wt)}},Xt={f:Object.getOwnPropertySymbols},Kt=Bt("Reflect","ownKeys")||function(t){var i=_t.f(S(t)),e=Xt.f;return e?i.concat(e(t)):i},Zt=/#|\.prototype\./,qt=Ft.normalize=function(t){return String(t).replace(Zt,".").toLowerCase()},$t=Ft.data={},ti=Ft.NATIVE="N",ii=Ft.POLYFILL="P",ei=Ft,ni=ot.f,ri=Array.isArray||function(t){return"Array"==b(t)},si=!!Object.getOwnPropertySymbols&&!p(function(){return!String(Symbol())}),oi=J.Symbol,ai=ft("wks"),hi=St("species"),ci=St("species"),ui=St("isConcatSpreadable"),li=9007199254740991,fi="Maximum allowed index exceeded",di=!p(function(){var t=[];return t[ui]=!1,t.concat()[0]!==t}),Ai=Nt("concat");function gi(t,i){var e=[][t];return!e||!p(function(){e.call(null,i||function(){throw 1},1)})}Qt({target:"Array",proto:!0,forced:!di||!Ai},{concat:function(t){for(var i,e,n,r=Rt(this),s=Dt(r,0),o=0,a=-1,h=arguments.length;a<h;a++)if(function(t){if(B(t)){var i=t[ui];return void 0!==i?i:ri(t)}}(n=-1===a?r:arguments[a])){if(e=jt(n.length),li<o+e)throw TypeError(fi);for(i=0;i<e;i++,o++)i in n&&kt(s,o,n[i])}else{if(li<=o)throw TypeError(fi);kt(s,o++,n)}return s.length=o,s}});var wi=Vt.indexOf,mi=[].indexOf,pi=!!mi&&1/[1].indexOf(1,-0)<0,vi=gi("indexOf");function bi(){}Qt({target:"Array",proto:!0,forced:pi||vi},{indexOf:function(t,i){return pi?mi.apply(this,arguments)||0:wi(this,t,1<arguments.length?i:void 0)}});var Ei=Object.keys||function(t){return It(t,Jt)},Bi=W?Object.defineProperties:function(t,i){S(t);for(var e,n=Ei(i),r=n.length,s=0;s<r;)ht.f(t,e=n[s++],i[e]);return t},Ci=Bt("document","documentElement"),ji=T("IE_PROTO"),yi="prototype",xi=function(){var t,i=k("iframe"),e=Jt.length;for(i.style.display="none",Ci.appendChild(i),i.src=String("javascript:"),(t=i.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),xi=t.F;e--;)delete xi[yi][Jt[e]];return xi()},Ii=Object.create||function(t,i){var e;return null!==t?(bi[yi]=S(t),e=new bi,bi[yi]=null,e[ji]=t):e=xi(),void 0===i?e:Bi(e,i)};vt[ji]=!0;var Mi=St("unscopables"),Fi=Array.prototype;function Qi(t){Fi[Mi][t]=!0}null==Fi[Mi]&&ct(Fi,Mi,Ii(null));var Ri,ki,Si,Di={},Ni=!p(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Ti=T("IE_PROTO"),Oi=Object.prototype,Yi=Ni?Object.getPrototypeOf:function(t){return R(t=Rt(t),Ti)?t[Ti]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Oi:null},Ui=St("iterator"),Hi=!1;function zi(t,i,e){t&&!R(t=e?t:t.prototype,Wi)&&Ji(t,Wi,{configurable:!0,value:i})}function Gi(){return this}function Pi(){return this}function Vi(t,i,e,n,r,s,o){var a,h;function c(t){if(t===r&&m)return m;if(!Zi&&t in g)return g[t];switch(t){case"keys":case $i:case te:return function(){return new e(this,t)}}return function(){return new e(this)}}h=i+" Iterator",(a=e).prototype=Ii(_i,{next:v(1,n)}),zi(a,h,!1),Di[h]=Gi;var u,l,f,d=i+" Iterator",A=!1,g=t.prototype,w=g[qi]||g["@@iterator"]||r&&g[r],m=!Zi&&w||c(r),p="Array"==i&&g.entries||w;if(p&&(u=Yi(p.call(new t)),Ki!==Object.prototype&&u.next&&(Yi(u)!==Ki&&(Xi?Xi(u,Ki):"function"!=typeof u[qi]&&ct(u,qi,Pi)),zi(u,d,!0))),r==$i&&w&&w.name!==$i&&(A=!0,m=function(){return w.call(this)}),g[qi]!==m&&ct(g,qi,m),Di[i]=m,r)if(l={values:c($i),keys:s?m:c("keys"),entries:c(te)},o)for(f in l)!Zi&&!A&&f in g||Ot(g,f,l[f]);else Qt({target:i,proto:!0,forced:Zi||A},l);return l}[].keys&&("next"in(Si=[].keys())?(ki=Yi(Yi(Si)))!==Object.prototype&&(Ri=ki):Hi=!0),null==Ri&&(Ri={}),R(Ri,Ui)||ct(Ri,Ui,function(){return this});var Li={IteratorPrototype:Ri,BUGGY_SAFARI_ITERATORS:Hi},Ji=ht.f,Wi=St("toStringTag"),_i=Li.IteratorPrototype,Xi=Object.setPrototypeOf||("__proto__"in{}?function(){var e,n=!1,t={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),n=t instanceof Array}catch(t){}return function(t,i){return S(t),function(){if(!B(i)&&null!==i)throw TypeError("Can't set "+String(i)+" as a prototype")}(),n?e.call(t,i):t.__proto__=i,t}}():void 0),Ki=Li.IteratorPrototype,Zi=Li.BUGGY_SAFARI_ITERATORS,qi=St("iterator"),$i="values",te="entries",ie="Array Iterator",ee=Tt.set,ne=Tt.getterFor(ie),re=Vi(Array,"Array",function(t,i){ee(this,{type:ie,target:E(t),index:0,kind:i})},function(){var t=ne(this),i=t.target,e=t.kind,n=t.index++;return!i||n>=i.length?{value:t.target=void 0,done:!0}:"keys"==e?{value:n,done:!1}:"values"==e?{value:i[n],done:!1}:{value:[n,i[n]],done:!1}},"values");Di.Arguments=Di.Array,Qi("keys"),Qi("values"),Qi("entries");var se=[].join,oe=tt!=Object,ae=gi("join",",");Qt({target:"Array",proto:!0,forced:oe||ae},{join:function(t){return se.call(E(this),void 0===t?",":t)}});var he=[].reverse,ce=[1,2];Qt({target:"Array",proto:!0,forced:String(ce)===String(ce.reverse())},{reverse:function(){return ri(this)&&(this.length=this.length),he.call(this)}});var ue=St("species"),le=[].slice,fe=Math.max;Qt({target:"Array",proto:!0,forced:!Nt("slice")},{slice:function(t,i){var e,n,r,s=E(this),o=jt(s.length),a=yt(t,o),h=yt(void 0===i?o:i,o);if(ri(s)&&(("function"==typeof(e=s.constructor)&&(e===Array||ri(e.prototype))||B(e)&&null===(e=e[ue]))&&(e=void 0),e===Array||void 0===e))return le.call(s,a,h);for(n=new(void 0===e?Array:e)(fe(h-a,0)),r=0;a<h;a++,r++)a in s&&kt(n,r,s[a]);return n.length=r,n}});var de=Math.max,Ae=Math.min;Qt({target:"Array",proto:!0,forced:!Nt("splice")},{splice:function(t,i){var e,n,r,s,o,a,h=Rt(this),c=jt(h.length),u=yt(t,c),l=arguments.length;if(0===l?e=n=0:n=1===l?(e=0,c-u):(e=l-2,Ae(de(Ct(i),0),c-u)),9007199254740991<c+e-n)throw TypeError("Maximum allowed length exceeded");for(r=Dt(h,n),s=0;s<n;s++)(o=u+s)in h&&kt(r,s,h[o]);if(e<(r.length=n)){for(s=u;s<c-n;s++)a=s+e,(o=s+n)in h?h[a]=h[o]:delete h[a];for(s=c;c-n+e<s;s--)delete h[s-1]}else if(n<e)for(s=c-n;u<s;s--)a=s+e-1,(o=s+n-1)in h?h[a]=h[o]:delete h[a];for(s=0;s<e;s++)h[s+u]=arguments[s+2];return h.length=c-n+e,r}}),Qt({target:"Date",proto:!0,forced:p(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(){var t=Rt(this),i=Q(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}});var ge=ht.f,we=Function.prototype,me=we.toString,pe=/^\s*function ([^ (]*)/;function ve(t,i,e){var n,r;return Xi&&"function"==typeof(n=i.constructor)&&n!==e&&B(r=n.prototype)&&r!==e.prototype&&Xi(t,r),t}function be(e){return function(t){var i=String(F(t));return 1&e&&(i=i.replace(je,"")),2&e&&(i=i.replace(ye,"")),i}}function Ee(t){var i,e,n,r,s,o,a,h,c=Q(t,!1);if("string"==typeof c&&2<c.length)if(43===(i=(c=Qe(c)).charCodeAt(0))||45===i){if(88===(e=c.charCodeAt(2))||120===e)return NaN}else if(48===i){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(o=(s=c.slice(2)).length,a=0;a<o;a++)if((h=s.charCodeAt(a))<48||r<h)return NaN;return parseInt(s,n)}return+c}!W||"name"in we||ge(we,"name",{configurable:!0,get:function(){try{return me.call(this).match(pe)[1]}catch(t){return""}}});var Be="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Ce="["+Be+"]",je=RegExp("^"+Ce+Ce+"*"),ye=RegExp(Ce+Ce+"*$"),xe={start:be(1),end:be(2),trim:be(3)},Ie=_t.f,Me=ot.f,Fe=ht.f,Qe=xe.trim,Re="Number",ke=J[Re],Se=ke.prototype,De=b(Ii(Se))==Re;if(ei(Re,!ke(" 0o1")||!ke("0b1")||ke("+0x1"))){for(var Ne,Te=function(t){var i=arguments.length<1?0:t,e=this;return e instanceof Te&&(De?p(function(){Se.valueOf.call(e)}):b(e)!=Re)?ve(new ke(Ee(i)),e,Te):Ee(i)},Oe=W?Ie(ke):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ye=0;Oe.length>Ye;Ye++)R(ke,Ne=Oe[Ye])&&!R(Te,Ne)&&Fe(Te,Ne,Me(ke,Ne));(Te.prototype=Se).constructor=Te,Ot(J,Re,Te)}function Ue(t){var i,e,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,i){try{return t[i]}catch(t){}}(i=Object(t),He))?e:ze?b(i):"Object"==(n=b(i))&&"function"==typeof i.callee?"Arguments":n}var He=St("toStringTag"),ze="Arguments"==b(function(){return arguments}()),Ge={};Ge[St("toStringTag")]="z";var Pe="[object z]"!==String(Ge)?function(){return"[object "+Ue(this)+"]"}:Ge.toString,Ve=Object.prototype;Pe!==Ve.toString&&Ot(Ve,"toString",Pe,{unsafe:!0});var Le=xe.trim,Je=J.parseFloat,We=1/Je(Be+"-0")!=-1/0?function(t){var i=Le(String(t)),e=Je(i);return 0===e&&"-"==i.charAt(0)?-0:e}:Je;Qt({global:!0,forced:parseFloat!=We},{parseFloat:We});var _e=xe.trim,Xe=J.parseInt,Ke=/^[+-]?0[Xx]/,Ze=8!==Xe(Be+"08")||22!==Xe(Be+"0x16")?function(t,i){var e=_e(String(t));return Xe(e,i>>>0||(Ke.test(e)?16:10))}:Xe;function qe(t){var i;return B(t)&&(void 0!==(i=t[en])?!!i:"RegExp"==b(t))}function $e(){var t=S(this),i="";return t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.dotAll&&(i+="s"),t.unicode&&(i+="u"),t.sticky&&(i+="y"),i}function tn(t){var i=Bt(t),e=ht.f;W&&i&&!i[nn]&&e(i,nn,{configurable:!0,get:function(){return this}})}Qt({global:!0,forced:parseInt!=Ze},{parseInt:Ze});var en=St("match"),nn=St("species"),rn=ht.f,sn=_t.f,on=St("match"),an=J.RegExp,hn=an.prototype,cn=/a/g,un=/a/g,ln=new an(cn)!==cn;if(W&&ei("RegExp",!ln||p(function(){return un[on]=!1,an(cn)!=cn||an(un)==un||"/a/i"!=an(cn,"i")}))){for(var fn=function(t,i){var e=this instanceof fn,n=qe(t),r=void 0===i;return!e&&n&&t.constructor===fn&&r?t:ve(ln?new an(n&&!r?t.source:t,i):an((n=t instanceof fn)?t.source:t,n&&r?$e.call(t):i),e?this:hn,fn)},dn=sn(an),An=0;dn.length>An;)!function(i){i in fn||rn(fn,i,{configurable:!0,get:function(){return an[i]},set:function(t){an[i]=t}})}(dn[An++]);(hn.constructor=fn).prototype=hn,Ot(J,"RegExp",fn)}tn("RegExp");var gn,wn,mn=RegExp.prototype.exec,pn=String.prototype.replace,vn=mn,bn=(gn=/a/,wn=/b*/g,mn.call(gn,"a"),mn.call(wn,"a"),0!==gn.lastIndex||0!==wn.lastIndex),En=void 0!==/()??/.exec("")[1];(bn||En)&&(vn=function(t){var i,e,n,r,s=this;return En&&(e=new RegExp("^"+s.source+"$(?!\\s)",$e.call(s))),bn&&(i=s.lastIndex),n=mn.call(s,t),bn&&n&&(s.lastIndex=s.global?n.index+n[0].length:i),En&&n&&1<n.length&&pn.call(n[0],e,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)}),n});var Bn=vn;Qt({target:"RegExp",proto:!0,forced:/./.exec!==Bn},{exec:Bn});var Cn="toString",jn=RegExp.prototype,yn=jn[Cn],xn=p(function(){return"/a/b"!=yn.call({source:"a",flags:"b"})}),In=yn.name!=Cn;function Mn(e,t,i,n){var s,r,o,a,h=St(e),c=!p(function(){var t={};return t[h]=function(){return 7},7!=""[e](t)}),u=c&&!p(function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[kn]=function(){return i}),i[h](""),!t});c&&u&&("replace"!==e||Sn)&&("split"!==e||Dn)||(s=/./[h],o=(r=i(h,""[e],function(t,i,e,n,r){return i.exec===Bn?c&&!r?{done:!0,value:s.call(i,e,n)}:{done:!0,value:t.call(e,i,n)}:{done:!1}}))[0],a=r[1],Ot(String.prototype,e,o),Ot(RegExp.prototype,h,2==t?function(t,i){return a.call(t,this,i)}:function(t){return a.call(t,this)}),n&&ct(RegExp.prototype[h],"sham",!0))}function Fn(a){return function(t,i){var e,n,r=String(F(t)),s=Ct(i),o=r.length;return s<0||o<=s?a?"":void 0:(e=r.charCodeAt(s))<55296||56319<e||s+1===o||(n=r.charCodeAt(s+1))<56320||57343<n?a?r.charAt(s):e:a?r.slice(s,s+2):n-56320+(e-55296<<10)+65536}}function Qn(t,i,e){return i+(e?Tn(t,i).length:1)}function Rn(t,i){var e=t.exec;if("function"==typeof e){var n=e.call(t,i);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==b(t))throw TypeError("RegExp#exec called on incompatible receiver");return Bn.call(t,i)}(xn||In)&&Ot(RegExp.prototype,Cn,function(){var t=S(this),i=String(t.source),e=t.flags;return"/"+i+"/"+String(void 0===e&&t instanceof RegExp&&!("flags"in jn)?$e.call(t):e)},{unsafe:!0});var kn=St("species"),Sn=!p(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Dn=!p(function(){var t=/(?:)/,i=t.exec;t.exec=function(){return i.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}),Nn={codeAt:Fn(!1),charAt:Fn(!0)},Tn=Nn.charAt;Mn("match",1,function(n,c,u){return[function(t){var i=F(this),e=null==t?void 0:t[n];return void 0!==e?e.call(t,i):new RegExp(t)[n](String(i))},function(t){var i=u(c,t,this);if(i.done)return i.value;var e=S(t),n=String(this);if(!e.global)return Rn(e,n);for(var r,s=e.unicode,o=[],a=e.lastIndex=0;null!==(r=Rn(e,n));){var h=String(r[0]);""===(o[a]=h)&&(e.lastIndex=Qn(n,jt(e.lastIndex),s)),a++}return 0===a?null:o}]});var On=Math.max,Yn=Math.min,Un=Math.floor,Hn=/\$([$&'`]|\d\d?|<[^>]*>)/g,zn=/\$([$&'`]|\d\d?)/g;function Gn(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function Pn(t,i){var e,n=S(t).constructor;return void 0===n||null==(e=S(n)[Vn])?i:Gn(e)}Mn("replace",2,function(r,E,B){return[function(t,i){var e=F(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e,i):E.call(String(e),t,i)},function(t,i){var e=B(E,t,this,i);if(e.done)return e.value;var n=S(t),r=String(this),s="function"==typeof i;s||(i=String(i));var o,a=n.global;a&&(o=n.unicode,n.lastIndex=0);for(var h=[];;){var c=Rn(n,r);if(null===c)break;if(h.push(c),!a)break;""===String(c[0])&&(n.lastIndex=Qn(r,jt(n.lastIndex),o))}for(var u,l="",f=0,d=0;d<h.length;d++){c=h[d];for(var A=String(c[0]),g=On(Yn(Ct(c.index),r.length),0),w=[],m=1;m<c.length;m++)w.push(void 0===(u=c[m])?u:String(u));var p,v=c.groups,b=s?(p=[A].concat(w,g,r),void 0!==v&&p.push(v),String(i.apply(void 0,p))):function(s,o,a,h,c,t){var u=a+s.length,l=h.length,i=zn;return void 0!==c&&(c=Rt(c),i=Hn),E.call(t,i,function(t,i){var e;switch(i.charAt(0)){case"$":return"$";case"&":return s;case"`":return o.slice(0,a);case"'":return o.slice(u);case"<":e=c[i.slice(1,-1)];break;default:var n=+i;if(0==n)return t;if(l<n){var r=Un(n/10);return 0!==r&&r<=l?void 0===h[r-1]?i.charAt(1):h[r-1]+i.charAt(1):t}e=h[n-1]}return void 0===e?"":e})}(A,r,g,w,v,i);f<=g&&(l+=r.slice(f,g)+b,f=g+A.length)}return l+r.slice(f)}]});var Vn=St("species"),Ln=[].push,Jn=Math.min,Wn=4294967295,_n=!p(function(){return!RegExp(Wn,"y")});Mn("split",2,function(r,w,m){var p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,i){var e=String(F(this)),n=void 0===i?Wn:i>>>0;if(0==n)return[];if(void 0===t)return[e];if(!qe(t))return w.call(e,t,n);for(var r,s,o,a=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,u=new RegExp(t.source,h+"g");(r=Bn.call(u,e))&&!(c<(s=u.lastIndex)&&(a.push(e.slice(c,r.index)),1<r.length&&r.index<e.length&&Ln.apply(a,r.slice(1)),o=r[0].length,c=s,a.length>=n));)u.lastIndex===r.index&&u.lastIndex++;return c===e.length?!o&&u.test("")||a.push(""):a.push(e.slice(c)),a.length>n?a.slice(0,n):a}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:w.call(this,t,i)}:w;return[function(t,i){var e=F(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e,i):p.call(String(e),t,i)},function(t,i){var e=m(p,t,this,i,p!==w);if(e.done)return e.value;var n=S(t),r=String(this),s=Pn(n,RegExp),o=n.unicode,a=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(_n?"y":"g"),h=new s(_n?n:"^(?:"+n.source+")",a),c=void 0===i?Wn:i>>>0;if(0==c)return[];if(0===r.length)return null===Rn(h,r)?[r]:[];for(var u=0,l=0,f=[];l<r.length;){h.lastIndex=_n?l:0;var d,A=Rn(h,_n?r:r.slice(l));if(null===A||(d=Jn(jt(h.lastIndex+(_n?0:l)),r.length))===u)l=Qn(r,l,o);else{if(f.push(r.slice(u,l)),f.length===c)return f;for(var g=1;g<=A.length-1;g++)if(f.push(A[g]),f.length===c)return f;l=u=d}}return f.push(r.slice(u)),f}]},!_n);var Xn,Kn=xe.trim;Qt({target:"String",proto:!0,forced:(Xn="trim",p(function(){return Be[Xn]()||"âÂá "!="âÂá "[Xn]()||Be[Xn].name!==Xn}))},{trim:function(){return Kn(this)}});var Zn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},qn=St("iterator"),$n=St("toStringTag"),tr=re.values;for(var ir in Zn){var er=J[ir],nr=er&&er.prototype;if(nr){if(nr[qn]!==tr)try{ct(nr,qn,tr)}catch(t){nr[qn]=tr}if(nr[$n]||ct(nr,$n,ir),Zn[ir])for(var rr in re)if(nr[rr]!==re[rr])try{ct(nr,rr,re[rr])}catch(t){nr[rr]=re[rr]}}}function sr(t){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function or(t,i,e,n,r,s,o){try{var a=t[s](o),h=a.value}catch(t){return e(t),0}a.done?i(h):Promise.resolve(h).then(n,r)}function ar(a){return function(){var t=this,o=arguments;return new Promise(function(i,e){var n=a.apply(t,o);function r(t){or(n,i,e,r,s,"next",t)}function s(t){or(n,i,e,r,s,"throw",t)}r(void 0)})}}function hr(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function cr(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ur(t,i,e){return i&&cr(t.prototype,i),e&&cr(t,e),t}function lr(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function fr(i,t){var e,n=Object.keys(i);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(i),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})),n.push.apply(n,e)),n}function dr(i){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(e),!0).forEach(function(t){lr(i,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):fr(Object(e)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(e,t))})}return i}function Ar(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&wr(t,i)}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wr(t,i){return(wr=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function mr(t,i){if(null==t)return{};var e,n=function(t,i){if(null==t)return{};for(var e,n={},r=Object.keys(t),s=0;s<r.length;s++)e=r[s],0<=i.indexOf(e)||(n[e]=t[e]);return n}(t,i);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),s=0;s<r.length;s++)e=r[s],0<=i.indexOf(e)||Object.prototype.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function pr(r){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i,e,n=gr(r);return i=this,!(e=s?(t=gr(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i):e}}function vr(t){return function(t){if(Array.isArray(t))return br(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t){if(t){if("string"==typeof t)return br(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?br(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function Er(n,r,t){if(Gn(n),void 0===r)return n;switch(t){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,i){return n.call(r,t,i)};case 3:return function(t,i,e){return n.call(r,t,i,e)}}return function(){return n.apply(r,arguments)}}function Br(d){var A=1==d,g=2==d,w=3==d,m=4==d,p=6==d,v=5==d||p;return function(t,i,e,n){for(var r,s,o=Rt(t),a=tt(o),h=Er(i,e,3),c=jt(a.length),u=0,l=n||Dt,f=A?l(t,c):g?l(t,0):void 0;u<c;u++)if((v||u in a)&&(s=h(r=a[u],u,o),d))if(A)f[u]=s;else if(s)switch(d){case 3:return!0;case 5:return r;case 6:return u;case 2:jr.call(f,r)}else if(m)return!1;return p?-1:w||m?m:f}}Qt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var Cr=g(function(t,i){
/*!
	  ------------------------------------------- START OF THIRD PARTY NOTICE -----------------------------------------
	  
	  This file is based on or incorporates material from the projects listed below (Third Party IP). The original copyright notice and the license under which Microsoft received such Third Party IP, are set forth below. Such licenses and notices are provided for informational purposes only. Microsoft licenses the Third Party IP to you under the licensing terms for the Microsoft product. Microsoft reserves all other rights not expressly granted under this agreement, whether by implication, estoppel or otherwise. 
	  
	  Knockout JavaScript library v3.2.0
	  (c) Steven Sanderson - http://knockoutjs.com/
	  License: MIT (http://www.opensource.org/licenses/mit-license.php)
	   Provided for Informational Purposes Only
	  
	  MIT License 
	  
	  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: 
	  
	  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
	  
	  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
	  
	  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
	  
	  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 
	  
	  LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 
	  
	  OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION 
	  
	  WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
	  
	  ----------------------------------------------- END OF THIRD PARTY NOTICE ------------------------------------------
	  */
!function(it){var et=this||(0,eval)("this"),nt=et.document,rt=et.navigator,st=et.jQuery,ot=et.JSON;!function(t,n){function e(t,i){return(null===t||sr(t)in a)&&t===i}function s(t,i){var e;return function(){e=e||setTimeout(function(){e=it,t()},i)}}function o(t,i){var e;return function(){clearTimeout(e),e=setTimeout(t,i)}}function i(t,h,c,u){I.d[t]={init:function(n,r,t,i,s){var o,a;return I.s(function(){var t=I.a.c(r()),i=!c!=!t,e=!a;(e||h||i!==o)&&(e&&I.Y.la()&&(a=I.a.ia(I.f.childNodes(n),!0)),i?(e||I.f.T(n,I.a.ia(a)),I.Ca(u?u(s,t):s,n)):I.f.ja(n),o=i)},null,{o:n}),{controlsDescendantBindings:!0}}},I.h.ha[t]=!1,I.f.Q[t]=!0}var r,I=void 0!==t?t:{};I.b=function(t,i){for(var e=t.split("."),n=I,r=0;r<e.length-1;r++)n=n[e[r]];n[e[e.length-1]]=i},I.A=function(t,i,e){t[i]=e},I.version="3.2.0",I.b("version",I.version),I.a=function(){function l(t,i){for(var e in t)t.hasOwnProperty(e)&&i(e,t[e])}function t(t,i){if(i)for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function i(t,i){return t.__proto__=i,t}var e={__proto__:[]}instanceof Array,n={},r={};n[rt&&/Firefox\/2/i.test(rt.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],n.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),l(n,function(t,i){if(i.length)for(var e=0,n=i.length;e<n;e++)r[i[e]]=t});var o={propertychange:!0},a=nt&&function(){for(var t=3,i=nt.createElement("div"),e=i.getElementsByTagName("i");i.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",e[0];);return 4<t?t:it}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(t,i){for(var e=0,n=t.length;e<n;e++)i(t[e],e)},m:function(t,i){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,i);for(var e=0,n=t.length;e<n;e++)if(t[e]===i)return e;return-1},qb:function(t,i,e){for(var n=0,r=t.length;n<r;n++)if(i.call(e,t[n],n))return t[n];return null},ua:function(t,i){var e=I.a.m(t,i);0<e?t.splice(e,1):0===e&&t.shift()},rb:function(t){for(var i=[],e=0,n=(t=t||[]).length;e<n;e++)I.a.m(i,t[e])<0&&i.push(t[e]);return i},Da:function(t,i){for(var e=[],n=0,r=(t=t||[]).length;n<r;n++)e.push(i(t[n],n));return e},ta:function(t,i){for(var e=[],n=0,r=(t=t||[]).length;n<r;n++)i(t[n],n)&&e.push(t[n]);return e},ga:function(t,i){if(i instanceof Array)t.push.apply(t,i);else for(var e=0,n=i.length;e<n;e++)t.push(i[e]);return t},ea:function(t,i,e){var n=I.a.m(I.a.Xa(t),i);n<0?e&&t.push(i):e||t.splice(n,1)},xa:e,extend:t,za:i,Aa:e?i:t,G:l,na:function(t,i){if(!t)return t;var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=i(t[e],e,t));return n},Ka:function(t){for(;t.firstChild;)I.removeNode(t.firstChild)},oc:function(t){t=I.a.S(t);for(var i=nt.createElement("div"),e=0,n=t.length;e<n;e++)i.appendChild(I.R(t[e]));return i},ia:function(t,i){for(var e=0,n=t.length,r=[];e<n;e++){var s=t[e].cloneNode(!0);r.push(i?I.R(s):s)}return r},T:function(t,i){if(I.a.Ka(t),i)for(var e=0,n=i.length;e<n;e++)t.appendChild(i[e])},Lb:function(t,i){var e=t.nodeType?[t]:t;if(0<e.length){for(var n=e[0],r=n.parentNode,s=0,o=i.length;s<o;s++)r.insertBefore(i[s],n);for(s=0,o=e.length;s<o;s++)I.removeNode(e[s])}},ka:function(t,i){if(t.length){for(i=8===i.nodeType&&i.parentNode||i;t.length&&t[0].parentNode!==i;)t.shift();if(1<t.length){var e=t[0],n=t[t.length-1];for(t.length=0;e!==n;)if(t.push(e),!(e=e.nextSibling))return;t.push(n)}}return t},Nb:function(t,i){a<7?t.setAttribute("selected",i):t.selected=i},cb:function(t){return null===t||t===it?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(t,i){return t=t||"",!(i.length>t.length)&&t.substring(0,i.length)===i},cc:function(t,i){if(t===i)return!0;if(11===t.nodeType)return!1;if(i.contains)return i.contains(3===t.nodeType?t.parentNode:t);if(i.compareDocumentPosition)return 16==(16&i.compareDocumentPosition(t));for(;t&&t!=i;)t=t.parentNode;return!!t},Ja:function(t){return I.a.cc(t,t.ownerDocument.documentElement)},ob:function(t){return!!I.a.qb(t,I.a.Ja)},t:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},n:function(i,t,e){var n=a&&o[t];if(!n&&st)st(i).bind(t,e);else if(n||"function"!=typeof i.addEventListener){if(void 0===i.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var r=function(t){e.call(i,t)},s="on"+t;i.attachEvent(s,r),I.a.w.da(i,function(){i.detachEvent(s,r)})}else i.addEventListener(t,e,!1)},oa:function(t,i){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var e=!("input"!==I.a.t(t)||!t.type||"click"!=i.toLowerCase()||"checkbox"!=(e=t.type)&&"radio"!=e);if(st&&!e)st(t).trigger(i);else if("function"==typeof nt.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(e=nt.createEvent(r[i]||"HTMLEvents")).initEvent(i,!0,!0,et,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(e)}else if(e&&t.click)t.click();else{if(void 0===t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+i)}},c:function(t){return I.C(t)?t():t},Xa:function(t){return I.C(t)?t.v():t},Ba:function(t,i,e){var n,r;i&&(n=/\S+/g,r=t.className.match(n)||[],I.a.u(i.match(n),function(t){I.a.ea(r,t,e)}),t.className=r.join(" "))},bb:function(t,i){var e=I.a.c(i);null!==e&&e!==it||(e="");var n=I.f.firstChild(t);!n||3!=n.nodeType||I.f.nextSibling(n)?I.f.T(t,[t.ownerDocument.createTextNode(e)]):n.data=e,I.a.fc(t)},Mb:function(t,i){if(t.name=i,a<=7)try{t.mergeAttributes(nt.createElement("<input name='"+t.name+"'/>"),!1)}catch(t){}},fc:function(t){9<=a&&(t=1==t.nodeType?t:t.parentNode).style&&(t.style.zoom=t.style.zoom)},dc:function(t){var i;a&&(i=t.style.width,t.style.width=0,t.style.width=i)},sc:function(t,i){t=I.a.c(t),i=I.a.c(i);for(var e=[],n=t;n<=i;n++)e.push(n);return e},S:function(t){for(var i=[],e=0,n=t.length;e<n;e++)i.push(t[e]);return i},yc:6===a,zc:7===a,L:a,xb:function(t,i){for(var e=I.a.S(t.getElementsByTagName("input")).concat(I.a.S(t.getElementsByTagName("textarea"))),n="string"==typeof i?function(t){return t.name===i}:function(t){return i.test(t.name)},r=[],s=e.length-1;0<=s;s--)n(e[s])&&r.push(e[s]);return r},pc:function(t){return"string"==typeof t&&(t=I.a.cb(t))?ot&&ot.parse?ot.parse(t):new Function("return "+t)():null},eb:function(t,i,e){if(!ot||!ot.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return ot.stringify(I.a.c(t),i,e)},qc:function(t,i,e){var n=(e=e||{}).params||{},r=e.includeFields||this.vb,s=t;if("object"==sr(t)&&"form"===I.a.t(t))for(var s=t.action,o=r.length-1;0<=o;o--)for(var a=I.a.xb(t,r[o]),h=a.length-1;0<=h;h--)n[a[h].name]=a[h].value;i=I.a.c(i);var c=nt.createElement("form");for(var u in c.style.display="none",c.action=s,c.method="post",i)(t=nt.createElement("input")).type="hidden",t.name=u,t.value=I.a.eb(I.a.c(i[u])),c.appendChild(t);l(n,function(t,i){var e=nt.createElement("input");e.type="hidden",e.name=t,e.value=i,c.appendChild(e)}),nt.body.appendChild(c),e.submitter?e.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),I.b("utils",I.a),I.b("utils.arrayForEach",I.a.u),I.b("utils.arrayFirst",I.a.qb),I.b("utils.arrayFilter",I.a.ta),I.b("utils.arrayGetDistinctValues",I.a.rb),I.b("utils.arrayIndexOf",I.a.m),I.b("utils.arrayMap",I.a.Da),I.b("utils.arrayPushAll",I.a.ga),I.b("utils.arrayRemoveItem",I.a.ua),I.b("utils.extend",I.a.extend),I.b("utils.fieldsIncludedWithJsonPost",I.a.vb),I.b("utils.getFormFields",I.a.xb),I.b("utils.peekObservable",I.a.Xa),I.b("utils.postJson",I.a.qc),I.b("utils.parseJson",I.a.pc),I.b("utils.registerEventHandler",I.a.n),I.b("utils.stringifyJson",I.a.eb),I.b("utils.range",I.a.sc),I.b("utils.toggleDomNodeCssClass",I.a.Ba),I.b("utils.triggerEvent",I.a.oa),I.b("utils.unwrapObservable",I.a.c),I.b("utils.objectForEach",I.a.G),I.b("utils.addOrRemoveItem",I.a.ea),I.b("unwrap",I.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var i=this,e=Array.prototype.slice.call(arguments);return t=e.shift(),function(){return i.apply(t,e.concat(Array.prototype.slice.call(arguments)))}}),I.a.e=new function(){function n(t,i){var e=t[s];if(!e||"null"===e||!o[e]){if(!i)return it;e=t[s]="ko"+r++,o[e]={}}return o[e]}var r=0,s="__ko__"+(new Date).getTime(),o={};return{get:function(t,i){var e=n(t,!1);return e===it?it:e[i]},set:function(t,i,e){e===it&&n(t,!1)===it||(n(t,!0)[i]=e)},clear:function(t){var i=t[s];return!(!i||(delete o[i],t[s]=null))},F:function(){return r+++s}}},I.b("utils.domData",I.a.e),I.b("utils.domData.clear",I.a.e.clear),I.a.w=new function(){function n(t,i){var e=I.a.e.get(t,s);return e===it&&i&&(e=[],I.a.e.set(t,s,e)),e}function r(t){if(i=n(t,!1))for(var i=i.slice(0),e=0;e<i.length;e++)i[e](t);if(I.a.e.clear(t),I.a.w.cleanExternalData(t),a[t.nodeType])for(i=t.firstChild;t=i;)i=t.nextSibling,8===t.nodeType&&r(t)}var s=I.a.e.F(),o={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{da:function(t,i){if("function"!=typeof i)throw Error("Callback must be a function");n(t,!0).push(i)},Kb:function(t,i){var e=n(t,!1);e&&(I.a.ua(e,i),0==e.length&&I.a.e.set(t,s,it))},R:function(t){if(o[t.nodeType]&&(r(t),a[t.nodeType])){var i=[];I.a.ga(i,t.getElementsByTagName("*"));for(var e=0,n=i.length;e<n;e++)r(i[e])}return t},removeNode:function(t){I.R(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){st&&"function"==typeof st.cleanData&&st.cleanData([t])}}},I.R=I.a.w.R,I.removeNode=I.a.w.removeNode,I.b("cleanNode",I.R),I.b("removeNode",I.removeNode),I.b("utils.domNodeDisposal",I.a.w),I.b("utils.domNodeDisposal.addDisposeCallback",I.a.w.da),I.b("utils.domNodeDisposal.removeDisposeCallback",I.a.w.Kb),I.a.ba=function(t){if(st){if(st.parseHTML)e=st.parseHTML(t)||[];else if((e=st.clean([t]))&&e[0]){for(t=e[0];t.parentNode&&11!==t.parentNode.nodeType;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}}else{var i=I.a.cb(t).toLowerCase(),e=nt.createElement("div");for(t="ignored<div>"+(i=(i.match(/^<(thead|tbody|tfoot)/)?[1,"<table>","</table>"]:!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"])||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""])[1]+t+i[2]+"</div>","function"==typeof et.innerShiv?e.appendChild(et.innerShiv(t)):e.innerHTML=t;i[0]--;)e=e.lastChild;e=I.a.S(e.lastChild.childNodes)}return e},I.a.$a=function(t,i){if(I.a.Ka(t),null!==(i=I.a.c(i))&&i!==it)if("string"!=typeof i&&(i=i.toString()),st)st(t).html(i);else for(var e=I.a.ba(i),n=0;n<e.length;n++)t.appendChild(e[n])},I.b("utils.parseHtmlFragment",I.a.ba),I.b("utils.setHtml",I.a.$a),I.D=(r={},{Ua:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var i=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return r[i]=t,"\x3c!--[ko_memo:"+i+"]--\x3e"},Rb:function(t,i){var e=r[t];if(e===it)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return e.apply(null,i||[]),!0}finally{delete r[t]}},Sb:function(t,i){var e=[];!function t(i,e){if(i)if(8==i.nodeType)null!=(n=I.D.Gb(i.nodeValue))&&e.push({bc:i,mc:n});else if(1==i.nodeType)for(var n=0,r=i.childNodes,s=r.length;n<s;n++)t(r[n],e)}(t,e);for(var n=0,r=e.length;n<r;n++){var s=e[n].bc,o=[s];i&&I.a.ga(o,i),I.D.Rb(e[n].mc,o),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Gb:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}),I.b("memoization",I.D),I.b("memoization.memoize",I.D.Ua),I.b("memoization.unmemoize",I.D.Rb),I.b("memoization.parseMemoText",I.D.Gb),I.b("memoization.unmemoizeDomNodeAndDescendants",I.D.Sb),I.La={throttle:function(i,e){i.throttleEvaluation=e;var n=null;return I.j({read:i,write:function(t){clearTimeout(n),n=setTimeout(function(){i(t)},e)}})},rateLimit:function(t,i){var e,n,r;"number"==typeof i?e=i:(e=i.timeout,n=i.method),r="notifyWhenChangesStop"==n?o:s,t.Ta(function(t){return r(t,e)})},notify:function(t,i){t.equalityComparer="always"==i?null:e}};var a={undefined:1,boolean:1,number:1,string:1};I.b("extenders",I.La),I.Pb=function(t,i,e){this.target=t,this.wa=i,this.ac=e,this.Cb=!1,I.A(this,"dispose",this.K)},I.Pb.prototype.K=function(){this.Cb=!0,this.ac()},I.P=function(){I.a.Aa(this,I.P.fn),this.M={}};var h,c,u,A="change",l={U:function(t,i,e){var n=this;e=e||A;var r=new I.Pb(n,i?t.bind(i):t,function(){I.a.ua(n.M[e],r),n.nb&&n.nb()});return n.va&&n.va(e),n.M[e]||(n.M[e]=[]),n.M[e].push(r),r},notifySubscribers:function(t,i){if(i=i||A,this.Ab(i))try{I.k.Ea();for(var e,n=this.M[i].slice(0),r=0;e=n[r];++r)e.Cb||e.wa(t)}finally{I.k.end()}},Ta:function(t){var i,e,n,r=this,s=I.C(r);r.qa||(r.qa=r.notifySubscribers,r.notifySubscribers=function(t,i){i&&i!==A?"beforeChange"===i?r.kb(t):r.qa(t,i):r.lb(t)});var o=t(function(){s&&n===r&&(n=r()),i=!1,r.Pa(e,n)&&r.qa(e=n)});r.lb=function(t){i=!0,n=t,o()},r.kb=function(t){i||(e=t,r.qa(t,"beforeChange"))}},Ab:function(t){return this.M[t]&&this.M[t].length},yb:function(){var e=0;return I.a.G(this.M,function(t,i){e+=i.length}),e},Pa:function(t,i){return!this.equalityComparer||!this.equalityComparer(t,i)},extend:function(t){var n=this;return t&&I.a.G(t,function(t,i){var e=I.La[t];"function"==typeof e&&(n=e(n,i)||n)}),n}};function f(t){c.push(h),h=t}function d(){h=c.pop()}I.A(l,"subscribe",l.U),I.A(l,"extend",l.extend),I.A(l,"getSubscriptionsCount",l.yb),I.a.xa&&I.a.za(l,Function.prototype),I.P.fn=l,I.Db=function(t){return null!=t&&"function"==typeof t.U&&"function"==typeof t.notifySubscribers},I.b("subscribable",I.P),I.b("isSubscribable",I.Db),I.Y=I.k=(c=[],u=0,{Ea:f,end:d,Jb:function(t){if(h){if(!I.Db(t))throw Error("Only subscribable things can act as dependencies");h.wa(t,t.Vb||(t.Vb=++u))}},B:function(t,i,e){try{return f(),t.apply(i,e||[])}finally{d()}},la:function(){if(h)return h.s.la()},ma:function(){if(h)return h.ma}}),I.b("computedContext",I.Y),I.b("computedContext.getDependenciesCount",I.Y.la),I.b("computedContext.isInitial",I.Y.ma),I.b("computedContext.isSleeping",I.Y.Ac),I.p=function(t){function i(){return 0<arguments.length?(i.Pa(e,arguments[0])&&(i.X(),e=arguments[0],i.W()),this):(I.k.Jb(i),e)}var e=t;return I.P.call(i),I.a.Aa(i,I.p.fn),i.v=function(){return e},i.W=function(){i.notifySubscribers(e)},i.X=function(){i.notifySubscribers(e,"beforeChange")},I.A(i,"peek",i.v),I.A(i,"valueHasMutated",i.W),I.A(i,"valueWillMutate",i.X),i},I.p.fn={equalityComparer:e};var g=I.p.rc="__ko_proto__";I.p.fn[g]=I.p,I.a.xa&&I.a.za(I.p.fn,I.P.fn),I.Ma=function(t,i){return null!==t&&t!==it&&t[g]!==it&&(t[g]===i||I.Ma(t[g],i))},I.C=function(t){return I.Ma(t,I.p)},I.Ra=function(t){return!!("function"==typeof t&&t[g]===I.p||"function"==typeof t&&t[g]===I.j&&t.hc)},I.b("observable",I.p),I.b("isObservable",I.C),I.b("isWriteableObservable",I.Ra),I.b("isWritableObservable",I.Ra),I.aa=function(t){if("object"!=sr(t=t||[])||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=I.p(t),I.a.Aa(t,I.aa.fn),t.extend({trackArrayChanges:!0})},I.aa.fn={remove:function(i){for(var t=this.v(),e=[],n="function"!=typeof i||I.C(i)?function(t){return t===i}:i,r=0;r<t.length;r++){var s=t[r];n(s)&&(0===e.length&&this.X(),e.push(s),t.splice(r,1),r--)}return e.length&&this.W(),e},removeAll:function(i){if(i!==it)return i?this.remove(function(t){return 0<=I.a.m(i,t)}):[];var t=this.v(),e=t.slice(0);return this.X(),t.splice(0,t.length),this.W(),e},destroy:function(i){var t=this.v(),e="function"!=typeof i||I.C(i)?function(t){return t===i}:i;this.X();for(var n=t.length-1;0<=n;n--)e(t[n])&&(t[n]._destroy=!0);this.W()},destroyAll:function(i){return i===it?this.destroy(function(){return!0}):i?this.destroy(function(t){return 0<=I.a.m(i,t)}):[]},indexOf:function(t){var i=this();return I.a.m(i,t)},replace:function(t,i){var e=this.indexOf(t);0<=e&&(this.X(),this.v()[e]=i,this.W())}},I.a.u("pop push reverse shift sort splice unshift".split(" "),function(i){I.aa.fn[i]=function(){var t=this.v();return this.X(),this.sb(t,i,arguments),t=t[i].apply(t,arguments),this.W(),t}}),I.a.u(["slice"],function(i){I.aa.fn[i]=function(){var t=this();return t[i].apply(t,arguments)}}),I.a.xa&&I.a.za(I.aa.fn,I.p.fn),I.b("observableArray",I.aa);var w,m,p,v,b,E,B,C,j,y,x,M,F,Q,R="arrayChange";function k(){this.keys=[],this.hb=[]}function S(t){123===(t=I.a.cb(t)).charCodeAt(0)&&(t=t.slice(1,-1));var i,e,n=[],r=t.match(p),s=0;if(r){r.push(",");for(var o,a=0;o=r[a];++a){var h=o.charCodeAt(0);if(44===h){if(s<=0){i&&n.push(e?{key:i,value:e.join("")}:{unknown:i}),i=e=s=0;continue}}else if(58===h){if(!e)continue}else if(47===h&&a&&1<o.length)(h=r[a-1].match(v))&&!b[h[0]]&&((r=(t=t.substr(t.indexOf(o)+1)).match(p)).push(","),a=-1,o="/");else if(40===h||123===h||91===h)++s;else if(41===h||125===h||93===h)--s;else if(!i&&!e){i=34===h||39===h?o.slice(1,-1):o;continue}e?e.push(o):e=[o]}}return n}function D(t){return 8==t.nodeType&&C.test(B?t.text:t.nodeValue)}function N(t){return 8==t.nodeType&&j.test(B?t.text:t.nodeValue)}function T(t,i){for(var e=t,n=1,r=[];e=e.nextSibling;){if(N(e)&&0==--n)return r;r.push(e),D(e)&&n++}if(!i)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function O(t,i){var e=T(t,i);return e?0<e.length?e[e.length-1].nextSibling:t.nextSibling:null}function Y(i,e,n,r){var t=(r=r||I.g.loaders.slice(0)).shift();if(t){var s=t[i];if(s){var o=!1;if(s.apply(t,e.concat(function(t){o?n(null):null!==t?n(t):Y(i,e,n,r)}))!==x&&(o=!0,!t.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else Y(i,e,n,r)}else n(null)}I.La.trackArrayChanges=function(s){var l,f,d,o;s.sb||(l=!1,f=null,d=0,o=s.U,s.U=s.subscribe=function(t,i,e){var n,r;return e===R&&(l||(l=!0,n=s.notifySubscribers,s.notifySubscribers=function(t,i){return i&&i!==A||++d,n.apply(this,arguments)},r=[].concat(s.v()||[]),f=null,s.U(function(t){t=[].concat(t||[]),s.Ab(R)&&((!f||1<d)&&(f=I.a.Fa(r,t,{sparse:!0})),f.length&&s.notifySubscribers(f,R)),r=t,f=null,d=0}))),o.apply(this,arguments)},s.sb=function(t,i,e){function n(t,i,e){return r[r.length]={status:t,value:i,index:e}}if(l&&!d){var r=[],s=t.length,o=e.length,a=0;switch(i){case"push":a=s;case"unshift":for(i=0;i<o;i++)n("added",e[i],a+i);break;case"pop":a=s-1;case"shift":s&&n("deleted",t[a],a);break;case"splice":i=Math.min(Math.max(0,e[0]<0?s+e[0]:e[0]),s);for(var s=1===o?s:Math.min(i+(e[1]||0),s),o=i+o-2,a=Math.max(s,o),h=[],c=[],u=2;i<a;++i,++u)i<s&&c.push(n("deleted",t[i],i)),i<o&&h.push(n("added",e[u],i));I.a.wb(c,h);break;default:return}f=r}})},I.s=I.j=function(t,s,i){function e(){I.a.G(C,function(t,i){i.K()}),C={}}function n(){e(),l=!(A=!(j=0))}function o(){var t=a.throttleEvaluation;t&&0<=t?(clearTimeout(y),y=setTimeout(r,t)):a.ib?a.ib():r()}function r(t){if(f){if(w)throw Error("A 'pure' computed must not be called recursively")}else if(!A){if(E&&E()){if(!d)return void B()}else d=!1;if(f=!0,m)try{var e={};I.k.Ea({wa:function(t,i){e[i]||(e[i]=1,++j)},s:a,ma:it}),j=0,u=g.call(s)}finally{I.k.end(),f=!1}else try{var n=C,r=j;I.k.Ea({wa:function(t,i){A||(r&&n[i]?(C[i]=n[i],++j,delete n[i],--r):C[i]||(C[i]=t.U(o),++j))},s:a,ma:w?it:!j}),C={},j=0;try{var i=s?g.call(s):g()}finally{I.k.end(),r&&I.a.G(n,function(t,i){i.K()}),l=!1}a.Pa(u,i)&&(a.notifySubscribers(u,"beforeChange"),u=i,!0!==t&&a.notifySubscribers(u))}finally{f=!1}j||B()}}function a(){if(0<arguments.length){if("function"!=typeof p)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return p.apply(s,arguments),this}return I.k.Jb(a),l&&r(!0),u}function h(){return l&&!j&&r(!0),u}function c(){return l||0<j}var u,l=!0,f=!1,d=!1,A=!1,g=t,w=!1,m=!1;if("function"!=typeof(g=g&&"object"==sr(g)?(i=g).read:(i=i||{},g||i.read)))throw Error("Pass a function that returns the value of the ko.computed");var p=i.write,v=i.disposeWhenNodeIsRemoved||i.o||null,b=i.disposeWhen||i.Ia,E=b,B=n,C={},j=0,y=null;s=s||i.owner,I.P.call(a),I.a.Aa(a,I.j.fn),a.v=h,a.la=function(){return j},a.hc="function"==typeof i.write,a.K=function(){B()},a.Z=c;var x=a.Ta;return a.Ta=function(t){x.call(a,t),a.ib=function(){a.kb(u),l=!0,a.lb(a)}},i.pure?(m=w=!0,a.va=function(){m&&r(!(m=!1))},a.nb=function(){a.yb()||(e(),m=l=!0)}):i.deferEvaluation&&(a.va=function(){h(),delete a.va}),I.A(a,"peek",a.v),I.A(a,"dispose",a.K),I.A(a,"isActive",a.Z),I.A(a,"getDependenciesCount",a.la),v&&(d=!0,v.nodeType&&(E=function(){return!I.a.Ja(v)||b&&b()})),m||i.deferEvaluation||r(),v&&c()&&v.nodeType&&(B=function(){I.a.w.Kb(v,B),n()},I.a.w.da(v,B)),a},I.jc=function(t){return I.Ma(t,I.j)},l=I.p.rc,I.j[l]=I.p,I.j.fn={equalityComparer:e},I.j.fn[l]=I.j,I.a.xa&&I.a.za(I.j.fn,I.P.fn),I.b("dependentObservable",I.j),I.b("computed",I.j),I.b("isComputed",I.jc),I.Ib=function(t,i){return"function"==typeof t?I.s(t,i,{pure:!0}):((t=I.a.extend({},t)).pure=!0,I.s(t,i))},I.b("pureComputed",I.Ib),I.Qb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return function n(r,s,o){if(o=o||new k,"object"!=sr(r=s(r))||null===r||r===it||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var a=r instanceof Array?[]:{};return o.save(r,a),function(t,i){if(t instanceof Array){for(var e=0;e<t.length;e++)i(e);"function"==typeof t.toJSON&&i("toJSON")}else for(e in t)i(e)}(r,function(t){var i=s(r[t]);switch(sr(i)){case"boolean":case"number":case"string":case"function":a[t]=i;break;case"object":case"undefined":var e=o.get(i);a[t]=e!==it?e:n(i,s,o)}}),a}(t,function(t){for(var i=0;I.C(t)&&i<10;i++)t=t();return t})},I.toJSON=function(t,i,e){return t=I.Qb(t),I.a.eb(t,i,e)},k.prototype={save:function(t,i){var e=I.a.m(this.keys,t);0<=e?this.hb[e]=i:(this.keys.push(t),this.hb.push(i))},get:function(t){return 0<=(t=I.a.m(this.keys,t))?this.hb[t]:it}},I.b("toJS",I.Qb),I.b("toJSON",I.toJSON),I.i={q:function(t){switch(I.a.t(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?I.a.e.get(t,I.d.options.Va):!(I.a.L<=7)||t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text;case"select":return 0<=t.selectedIndex?I.i.q(t.options[t.selectedIndex]):it;default:return t.value}},ca:function(t,i,e){switch(I.a.t(t)){case"option":switch(sr(i)){case"string":I.a.e.set(t,I.d.options.Va,it),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=i;break;default:I.a.e.set(t,I.d.options.Va,i),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof i?i:""}break;case"select":""!==i&&null!==i||(i=it);for(var n,r=-1,s=0,o=t.options.length;s<o;++s)if((n=I.i.q(t.options[s]))==i||""==n&&i===it){r=s;break}(e||0<=r||i===it&&1<t.size)&&(t.selectedIndex=r);break;default:null!==i&&i!==it||(i=""),t.value=i}}},I.b("selectExtensions",I.i),I.b("selectExtensions.readValue",I.i.q),I.b("selectExtensions.writeValue",I.i.ca),I.h=(w=["true","false","null","undefined"],m=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,p=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),v=/[\])"'A-Za-z0-9_$]+$/,b={in:1,return:1,typeof:1},{ha:[],V:E={},Wa:S,ya:function(t,i){function r(t,i){var e;if(!h){var n=I.getBindingHandler(t);if(n&&n.preprocess&&!(i=n.preprocess(i,t,r)))return;(n=E[t])&&(e=i,n=e=!(0<=I.a.m(w,e))&&null!==(n=e.match(m))&&(n[1]?"Object("+n[1]+")"+n[2]:e)),n&&o.push("'"+t+"':function(_z){"+e+"=_z}")}a&&(i="function(){return "+i+" }"),s.push("'"+t+"':"+i)}var s=[],o=[],a=(i=i||{}).valueAccessors,h=i.bindingParams,e="string"==typeof t?S(t):t;return I.a.u(e,function(t){r(t.key||t.unknown,t.value)}),o.length&&r("_ko_property_writers","{"+o.join(",")+" }"),s.join(",")},lc:function(t,i){for(var e=0;e<t.length;e++)if(t[e].key==i)return!0;return!1},pa:function(t,i,e,n,r){t&&I.C(t)?!I.Ra(t)||r&&t.v()===n||t(n):(t=i.get("_ko_property_writers"))&&t[e]&&t[e](n)}}),I.b("expressionRewriting",I.h),I.b("expressionRewriting.bindingRewriteValidators",I.h.ha),I.b("expressionRewriting.parseObjectLiteral",I.h.Wa),I.b("expressionRewriting.preProcessBindings",I.h.ya),I.b("expressionRewriting._twoWayBindings",I.h.V),I.b("jsonExpressionRewriting",I.h),I.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",I.h.ya),B=nt&&"\x3c!--test--\x3e"===nt.createComment("test").text,C=B?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,j=B?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,y={ul:!0,ol:!0},I.f={Q:{},childNodes:function(t){return D(t)?T(t):t.childNodes},ja:function(t){if(D(t))for(var i=0,e=(t=I.f.childNodes(t)).length;i<e;i++)I.removeNode(t[i]);else I.a.Ka(t)},T:function(t,i){if(D(t)){I.f.ja(t);for(var e=t.nextSibling,n=0,r=i.length;n<r;n++)e.parentNode.insertBefore(i[n],e)}else I.a.T(t,i)},Hb:function(t,i){D(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},Bb:function(t,i,e){e?D(t)?t.parentNode.insertBefore(i,e.nextSibling):e.nextSibling?t.insertBefore(i,e.nextSibling):t.appendChild(i):I.f.Hb(t,i)},firstChild:function(t){return D(t)?!t.nextSibling||N(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return D(t)&&(t=O(t)),t.nextSibling&&N(t.nextSibling)?null:t.nextSibling},gc:D,xc:function(t){return(t=(B?t.text:t.nodeValue).match(C))?t[1]:null},Fb:function(t){if(y[I.a.t(t)]){var i=t.firstChild;if(i)do{if(1===i.nodeType){var e,n=i.firstChild,r=null;if(n)for(;r?r.push(n):D(n)?(e=O(n,!0))?n=e:r=[n]:N(n)&&(r=[n]),n=n.nextSibling;);if(n=r)for(r=i.nextSibling,e=0;e<n.length;e++)r?t.insertBefore(n[e],r):t.appendChild(n[e])}}while(i=i.nextSibling)}}},I.b("virtualElements",I.f),I.b("virtualElements.allowedBindings",I.f.Q),I.b("virtualElements.emptyNode",I.f.ja),I.b("virtualElements.insertAfter",I.f.Bb),I.b("virtualElements.prepend",I.f.Hb),I.b("virtualElements.setDomNodeChildren",I.f.T),I.J=function(){this.Yb={}},I.a.extend(I.J.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||I.g.getComponentNameForNode(t);case 8:return I.f.gc(t);default:return!1}},getBindings:function(t,i){var e=(e=this.getBindingsString(t,i))?this.parseBindingsString(e,i,t):null;return I.g.mb(e,t,i,!1)},getBindingAccessors:function(t,i){var e=(e=this.getBindingsString(t,i))?this.parseBindingsString(e,i,t,{valueAccessors:!0}):null;return I.g.mb(e,t,i,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return I.f.xc(t);default:return null}},parseBindingsString:function(i,t,e,n){try{var r,s,o,a=this.Yb,h=i+(n&&n.valueAccessors||"");return(o=a[h])||(r="with($context){with($data||{}){return{"+I.h.ya(i,n)+"}}}",s=new Function("$context","$element",r),o=a[h]=s),o(t,e)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+i+"\nMessage: "+t.message,t}}}),I.J.instance=new I.J,I.b("bindingProvider",I.J),function(){function n(t){return function(){return t}}function w(t){return t()}function r(e){return I.a.na(I.k.B(e),function(t,i){return function(){return e()[i]}})}function m(t,i){return r(this.getBindings.bind(this,t,i))}function s(t,i,e){var n,r=I.f.firstChild(i),s=I.J.instance,o=s.preprocessNode;if(o){for(;n=r;)r=I.f.nextSibling(n),o.call(s,n);r=I.f.firstChild(i)}for(;n=r;)r=I.f.nextSibling(n),a(t,n,e)}function a(t,i,e){var n=!0,r=1===i.nodeType;r&&I.f.Fb(i),(r&&e||I.J.instance.nodeHasBindings(i))&&(n=o(i,null,t,e).shouldBindDescendants),n&&!c[I.a.t(i)]&&s(t,i,!r)}function o(r,t,s,i){var o,e,n,a,h,c,u,l,f,d,A,g=I.a.e.get(r,p);if(!t){if(g)throw Error("You cannot apply bindings multiple times to the same element.");I.a.e.set(r,p,!0)}return!g&&i&&I.Ob(r,s),t&&"function"!=typeof t?o=t:(e=I.J.instance,n=e.getBindingAccessors||m,a=I.j(function(){return(o=t?t(s,r):n.call(e,r,s))&&s.I&&s.I(),o},null,{o:r}),o&&a.Z()||(a=null)),o&&(c=a?function(t){return function(){return w(a()[t])}}:function(t){return o[t]},(u=function(){return I.a.na(a?a():o,w)}).get=function(t){return o[t]&&c(t)()},u.has=function(t){return t in o},l=o,f=[],d={},A=[],I.a.G(l,function i(t){var e;d[t]||((e=I.getBindingHandler(t))&&(e.after&&(A.push(t),I.a.u(e.after,function(t){if(l[t]){if(-1!==I.a.m(A,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+A.join(", "));i(t)}}),A.length--),f.push({key:t,zb:e})),d[t]=!0)}),i=f,I.a.u(i,function(t){var i=t.zb.init,e=t.zb.update,n=t.key;if(8===r.nodeType&&!I.f.Q[n])throw Error("The binding '"+n+"' cannot be used with virtual elements");try{"function"==typeof i&&I.k.B(function(){var t=i(r,c(n),u,s.$data,s);if(t&&t.controlsDescendantBindings){if(h!==it)throw Error("Multiple bindings ("+h+" and "+n+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=n}}),"function"==typeof e&&I.j(function(){e(r,c(n),u,s.$data,s)},null,{o:r})}catch(t){throw t.message='Unable to process binding "'+n+": "+o[n]+'"\nMessage: '+t.message,t}})),{shouldBindDescendants:h===it}}function h(t){return t&&t instanceof I.N?t:new I.N(t)}I.d={};var c={script:!0};I.getBindingHandler=function(t){return I.d[t]},I.N=function(e,n,r,s){var i,o=this,a="function"==typeof e&&!I.C(e),h=I.j(function(){var t=a?e():e,i=I.a.c(t);return n?(n.I&&n.I(),I.a.extend(o,n),h&&(o.I=h)):(o.$parents=[],o.$root=i,o.ko=I),o.$rawData=t,o.$data=i,r&&(o[r]=i),s&&s(o,n,i),o.$data},null,{Ia:function(){return i&&!I.a.ob(i)},o:!0});h.Z()&&((o.I=h).equalityComparer=null,i=[],h.Tb=function(t){i.push(t),I.a.w.da(t,function(t){I.a.ua(i,t),i.length||(h.K(),o.I=h=it)})})},I.N.prototype.createChildContext=function(t,i,e){return new I.N(t,this,i,function(t,i){t.$parentContext=i,t.$parent=i.$data,t.$parents=(i.$parents||[]).slice(0),t.$parents.unshift(t.$parent),e&&e(t)})},I.N.prototype.extend=function(e){return new I.N(this.I||this.$data,this,null,function(t,i){t.$rawData=i.$rawData,I.a.extend(t,"function"==typeof e?e():e)})};var p=I.a.e.F(),e=I.a.e.F();I.Ob=function(t,i){if(2!=arguments.length)return I.a.e.get(t,e);I.a.e.set(t,e,i),i.I&&i.I.Tb(t)},I.ra=function(t,i,e){return 1===t.nodeType&&I.f.Fb(t),o(t,i,h(e),!0)},I.Wb=function(t,i,e){return e=h(e),I.ra(t,"function"==typeof i?r(i.bind(null,e,t)):I.a.na(i,n),e)},I.Ca=function(t,i){1!==i.nodeType&&8!==i.nodeType||s(h(t),i,!0)},I.pb=function(t,i){if(!st&&et.jQuery&&(st=et.jQuery),i&&1!==i.nodeType&&8!==i.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||et.document.body,a(h(t),i,!0)},I.Ha=function(t){switch(t.nodeType){case 1:case 8:var i=I.Ob(t);if(i)return i;if(t.parentNode)return I.Ha(t.parentNode)}return it},I.$b=function(t){return(t=I.Ha(t))?t.$data:it},I.b("bindingHandlers",I.d),I.b("applyBindings",I.pb),I.b("applyBindingsToDescendants",I.Ca),I.b("applyBindingAccessorsToNode",I.ra),I.b("applyBindingsToNode",I.Wb),I.b("contextFor",I.Ha),I.b("dataFor",I.$b)}(),M={},F={},I.g={get:function(t,i){var e,n,r,s,o,a,h=F.hasOwnProperty(t)?F[t]:x;h?setTimeout(function(){i(h)},0):(e=t,n=i,(a=M.hasOwnProperty(e)?M[e]:x)||(a=M[e]=new I.P,o=function(t){F[e]=t,delete M[e],r?a.notifySubscribers(t):setTimeout(function(){a.notifySubscribers(t)},0)},Y("getConfig",[s=e],function(t){t?Y("loadComponent",[s,t],function(t){o(t)}):o(null)}),r=!0),a.U(n))},tb:function(t){delete F[t]},jb:Y},I.g.loaders=[],I.b("components",I.g),I.b("components.get",I.g.get),I.b("components.clearCachedDefinition",I.g.tb),function(){function r(t){switch(I.a.t(t)){case"script":return I.a.ba(t.text);case"textarea":return I.a.ba(t.value);case"template":if(s(t.content))return I.a.ia(t.content.childNodes)}return I.a.ia(t.childNodes)}function s(t){return et.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function f(t,i,e){"string"==typeof i.require?n||et.require?(n||et.require)([i.require],e):t("Uses require, but no AMD loader is present"):e(i)}function o(i){return function(t){throw Error("Component '"+i+"': "+t)}}var e={};I.g.tc=function(t,i){if(!i)throw Error("Invalid configuration for "+t);if(I.g.Qa(t))throw Error("Component "+t+" is already registered");e[t]=i},I.g.Qa=function(t){return t in e},I.g.wc=function(t){delete e[t],I.g.tb(t)},I.g.ub={getConfig:function(t,i){i(e.hasOwnProperty(t)?e[t]:null)},loadComponent:function(c,t,u){var l=o(c);f(l,t,function(t){function i(){0==--o&&r(s)}var e=c,n=l,r=u,s={},o=2,a=(h=t).template,h=h.viewModel;a?f(n,a,function(t){I.g.jb("loadTemplate",[e,t],function(t){s.template=t,i()})}):i(),h?f(n,h,function(t){I.g.jb("loadViewModel",[e,t],function(t){s[d]=t,i()})}):i()})},loadTemplate:function(t,i,e){var n;t=o(t),"string"==typeof i?e(I.a.ba(i)):i instanceof Array?e(i):s(i)?e(I.a.S(i.childNodes)):i.element?(i=i.element,(et.HTMLElement?i instanceof HTMLElement:i&&i.tagName&&1===i.nodeType)?e(r(i)):"string"==typeof i?(n=nt.getElementById(i))?e(r(n)):t("Cannot find element with ID "+i):t("Unknown element type: "+i)):t("Unknown template value: "+i)},loadViewModel:function(t,i,e){!function t(i,e,n){var r;"function"==typeof e?n(function(t){return new e(t)}):"function"==typeof e[d]?n(e[d]):"instance"in e?(r=e.instance,n(function(){return r})):"viewModel"in e?t(i,e.viewModel,n):i("Unknown viewModel value: "+e)}(o(t),i,e)}};var d="createViewModel";I.b("components.register",I.g.tc),I.b("components.isRegistered",I.g.Qa),I.b("components.unregister",I.g.wc),I.b("components.defaultLoader",I.g.ub),I.g.loaders.push(I.g.ub),I.g.Ub=e}(),function(){I.g.getComponentNameForNode=function(t){return t=I.a.t(t),I.g.Qa(t)&&t},I.g.mb=function(t,i,e,n){if(1===i.nodeType){var r=I.g.getComponentNameForNode(i);if(r){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var s={name:r,params:function(i,t){if(e=i.getAttribute("params")){var e=o.parseBindingsString(e,t,i,{valueAccessors:!0,bindingParams:!0}),e=I.a.na(e,function(t){return I.s(t,null,{o:i})}),n=I.a.na(e,function(t){return t.Z()?I.s(function(){return I.a.c(t())},null,{o:i}):t.v()});return n.hasOwnProperty("$raw")||(n.$raw=e),n}return{$raw:{}}}(i,e)};t.component=n?function(){return s}:s}}return t};var n,i,o=new I.J;I.a.L<9&&(I.g.register=(i=I.g.register,function(t){return nt.createElement(t),i.apply(this,arguments)}),nt.createDocumentFragment=(n=nt.createDocumentFragment,function(){var t,i=n(),e=I.g.Ub;for(t in e)e.hasOwnProperty(t)&&i.createElement(t);return i}))}(),Q=0,I.d.component={init:function(o,i,t,e,a){function h(){var t=c&&c.dispose;"function"==typeof t&&t.call(c),u=null}var c,u;return I.a.w.da(o,h),I.s(function(){var n,r,t=I.a.c(i());if("string"==typeof t?n=t:(n=I.a.c(t.name),r=I.a.c(t.params)),!n)throw Error("No component name specified");var s=u=++Q;I.g.get(n,function(t){if(u===s){if(h(),!t)throw Error("Unknown component '"+n+"'");if(!(i=t.template))throw Error("Component '"+n+"' has no template");i=I.a.ia(i),I.f.T(o,i);var i=r,e=t.createViewModel;t=e?e.call(t,i,{element:o}):i,i=a.createChildContext(t),c=t,I.Ca(i,o)}})},null,{o:o}),{controlsDescendantBindings:!0}}},I.f.Q.component=!0;var U={class:"className",for:"htmlFor"};I.d.attr={update:function(n,t){var i=I.a.c(t())||{};I.a.G(i,function(t,i){var e=!1===(i=I.a.c(i))||null===i||i===it;e&&n.removeAttribute(t),I.a.L<=8&&t in U?(t=U[t],e?n.removeAttribute(t):n[t]=i):e||n.setAttribute(t,i.toString()),"name"===t&&I.a.Mb(n,e?"":i.toString())})}},I.d.checked={after:["value","attr"],init:function(n,r,s){function t(){var t,i=n.checked,e=h?c():i;I.Y.ma()||u&&!i||(t=I.k.B(r),o?a!==e?(i&&(I.a.ea(t,e,!0),I.a.ea(t,a,!1)),a=e):I.a.ea(t,e,i):I.h.pa(t,s,"checked",e,!0))}var o,a,h,c=I.Ib(function(){return s.has("checkedValue")?I.a.c(s.get("checkedValue")):s.has("value")?I.a.c(s.get("value")):n.value}),i="checkbox"==n.type,u="radio"==n.type;(i||u)&&(o=i&&I.a.c(r())instanceof Array,a=o?c():it,h=u||o,u&&!n.name&&I.d.uniqueName.init(n,function(){return!0}),I.s(t,null,{o:n}),I.a.n(n,"click",t),I.s(function(){var t=I.a.c(r());n.checked=o?0<=I.a.m(t,c()):i?t:c()===t},null,{o:n}))}},I.h.V.checked=!0,I.d.checkedValue={update:function(t,i){t.value=I.a.c(i())}},I.d.css={update:function(e,t){var i=I.a.c(t());"object"==sr(i)?I.a.G(i,function(t,i){i=I.a.c(i),I.a.Ba(e,t,i)}):(i=String(i||""),I.a.Ba(e,e.__ko__cssValue,!1),e.__ko__cssValue=i,I.a.Ba(e,i,!0))}},I.d.enable={update:function(t,i){var e=I.a.c(i());e&&t.disabled?t.removeAttribute("disabled"):e||t.disabled||(t.disabled=!0)}},I.d.disable={update:function(t,i){I.d.enable.update(t,function(){return!I.a.c(i())})}},I.d.event={init:function(t,s,o,a,h){var i=s()||{};I.a.G(i,function(r){"string"==typeof r&&I.a.n(t,r,function(t){var i,e=s()[r];if(e){try{var n=I.a.S(arguments);a=h.$data,n.unshift(a),i=e.apply(a,n)}finally{!0!==i&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===o.get(r+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},I.d.foreach={Eb:function(e){return function(){var t=e(),i=I.a.Xa(t);return i&&"number"!=typeof i.length?(I.a.c(t),{foreach:i.data,as:i.as,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,beforeMove:i.beforeMove,afterMove:i.afterMove,templateEngine:I.O.Oa}):{foreach:t,templateEngine:I.O.Oa}}},init:function(t,i){return I.d.template.init(t,I.d.foreach.Eb(i))},update:function(t,i,e,n,r){return I.d.template.update(t,I.d.foreach.Eb(i),e,n,r)}},I.h.ha.foreach=!1,I.f.Q.foreach=!0,I.d.hasfocus={init:function(n,r,s){function t(t){n.__ko_hasfocusUpdating=!0;var i,e=n.ownerDocument;if("activeElement"in e){try{i=e.activeElement}catch(t){i=e.body}t=i===n}e=r(),I.h.pa(e,s,"hasfocus",t,!0),n.__ko_hasfocusLastValue=t,n.__ko_hasfocusUpdating=!1}var i=t.bind(null,!0),e=t.bind(null,!1);I.a.n(n,"focus",i),I.a.n(n,"focusin",i),I.a.n(n,"blur",e),I.a.n(n,"focusout",e)},update:function(t,i){var e=!!I.a.c(i());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===e||(e?t.focus():t.blur(),I.k.B(I.a.oa,null,[t,e?"focusin":"focusout"]))}},I.h.V.hasfocus=!0,I.d.hasFocus=I.d.hasfocus,I.h.V.hasFocus=!0,I.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i){I.a.$a(t,i())}},i("if"),i("ifnot",!1,!0),i("with",!0,!1,function(t,i){return t.createChildContext(i)});var H,z,G,P,V,L,J,W,_,X,K,Z,q={};function $(t,i,e,n){t=I.h.Wa(t);for(var r=I.h.ha,s=0;s<t.length;s++){var o=t[s].key;if(r.hasOwnProperty(o)){var a=r[o];if("function"==typeof a){if(o=a(t[s].value))throw Error(o)}else if(!a)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+I.h.ya(t,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')",n.createJavaScriptEvaluatorBlock(e)+i}function tt(t,i,e,n,r){for(var s,o,a,h,c=Math.min,u=Math.max,l=[],f=t.length,d=i.length,A=d-f||1,g=f+d+1,w=0;w<=f;w++)for(a=o,l.push(o=[]),h=c(d,w+A),s=u(0,w-1);s<=h;s++)o[s]=s?w?t[w-1]===i[s-1]?a[s-1]:c(a[s]||g,o[s-1]||g)+1:s+1:w+1;for(c=[],u=[],A=[],w=f,s=d;w||s;)d=l[w][s]-1,s&&d===l[w][s-1]?u.push(c[c.length]={status:e,value:i[--s],index:s}):w&&d===l[w-1][s]?A.push(c[c.length]={status:n,value:t[--w],index:w}):(--s,--w,r.sparse||c.push({status:"retained",value:i[s]}));return I.a.wb(u,A,10*f),c.reverse()}I.d.options={init:function(t){if("select"!==I.a.t(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(n,t,r){function i(){return I.a.ta(n.options,function(t){return t.selected})}function s(t,i,e){var n=sr(i);return"function"==n?i(t):"string"==n?t[i]:e}function e(t,i){var e;a.length&&(e=0<=I.a.m(a,I.i.q(i[0])),I.a.Nb(i[0],e),l&&!e&&I.k.B(I.a.oa,null,[n,"change"]))}var o,a,h=0!=n.length&&n.multiple?n.scrollTop:null,c=I.a.c(t()),u=r.get("optionsIncludeDestroyed");t={},a=n.multiple?I.a.Da(i(),I.i.q):0<=n.selectedIndex?[I.i.q(n.options[n.selectedIndex])]:[],c&&(void 0===c.length&&(c=[c]),o=I.a.ta(c,function(t){return u||t===it||null===t||!I.a.c(t._destroy)}),!r.has("optionsCaption")||null!==(c=I.a.c(r.get("optionsCaption")))&&c!==it&&o.unshift(q));var l=!1;t.beforeRemove=function(t){n.removeChild(t)},c=e,r.has("optionsAfterRender")&&(c=function(t,i){e(0,i),I.k.B(r.get("optionsAfterRender"),null,[i[0],t!==q?t:it])}),I.a.Za(n,o,function(t,i,e){return e.length&&(a=e[0].selected?[I.i.q(e[0])]:[],l=!0),i=n.ownerDocument.createElement("option"),t===q?(I.a.bb(i,r.get("optionsCaption")),I.i.ca(i,it)):(e=s(t,r.get("optionsValue"),t),I.i.ca(i,I.a.c(e)),t=s(t,r.get("optionsText"),e),I.a.bb(i,t)),[i]},t,c),I.k.B(function(){r.get("valueAllowUnset")&&r.has("value")?I.i.ca(n,I.a.c(r.get("value")),!0):(n.multiple?a.length&&i().length<a.length:a.length&&0<=n.selectedIndex?I.i.q(n.options[n.selectedIndex])!==a[0]:a.length||0<=n.selectedIndex)&&I.a.oa(n,"change")}),I.a.dc(n),h&&20<Math.abs(h-n.scrollTop)&&(n.scrollTop=h)}},I.d.options.Va=I.a.e.F(),I.d.selectedOptions={after:["options","foreach"],init:function(e,n,r){I.a.n(e,"change",function(){var t=n(),i=[];I.a.u(e.getElementsByTagName("option"),function(t){t.selected&&i.push(I.i.q(t))}),I.h.pa(t,r,"selectedOptions",i)})},update:function(t,i){if("select"!=I.a.t(t))throw Error("values binding applies only to SELECT elements");var e=I.a.c(i());e&&"number"==typeof e.length&&I.a.u(t.getElementsByTagName("option"),function(t){var i=0<=I.a.m(e,I.i.q(t));I.a.Nb(t,i)})}},I.h.V.selectedOptions=!0,I.d.style={update:function(e,t){var i=I.a.c(t()||{});I.a.G(i,function(t,i){null!==(i=I.a.c(i))&&i!==it&&!1!==i||(i=""),e.style[t]=i})}},I.d.submit={init:function(n,r,t,i,s){if("function"!=typeof r())throw Error("The value for a submit binding must be a function");I.a.n(n,"submit",function(t){var i,e=r();try{i=e.call(s.$data,n)}finally{!0!==i&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},I.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i){I.a.bb(t,i())}},I.f.Q.text=!0,et&&et.navigator&&(H=function(t){if(t)return parseFloat(t[1])},z=et.opera&&et.opera.version&&parseInt(et.opera.version()),G=et.navigator.userAgent,P=H(G.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),V=H(G.match(/Firefox\/([^ ]*)/))),I.a.L<10&&(L=I.a.e.F(),J=I.a.e.F(),W=function(t){var i=this.activeElement;(i=i&&I.a.e.get(i,J))&&i(t)},_=function(t,i){var e=t.ownerDocument;I.a.e.get(e,L)||(I.a.e.set(e,L,!0),I.a.n(e,"selectionchange",W)),I.a.e.set(t,J,i)}),I.d.textInput={init:function(e,n,i){function t(t,i){I.a.n(e,t,i)}function r(){o||(a=e.value,o=setTimeout(s,4))}function s(){clearTimeout(o),a=o=it;var t=e.value;h!==t&&(h=t,I.h.pa(n(),i,"textInput",t))}var o,a,h=e.value;I.a.L<10?(t("propertychange",function(t){"value"===t.propertyName&&s()}),8==I.a.L&&(t("keyup",s),t("keydown",s)),8<=I.a.L&&(_(e,s),t("dragend",r))):(t("input",s),P<5&&"textarea"===I.a.t(e)?(t("keydown",r),t("paste",r),t("cut",r)):z<11?t("keydown",r):V<4&&(t("DOMAutoComplete",s),t("dragdrop",s),t("drop",s))),t("change",s),I.s(function t(){var i=I.a.c(n());null!==i&&i!==it||(i=""),a!==it&&i===a?setTimeout(t,4):e.value!==i&&(h=i,e.value=i)},null,{o:e})}},I.h.V.textInput=!0,I.d.textinput={preprocess:function(t,i,e){e("textInput",t)}},I.d.uniqueName={init:function(t,i){var e;i()&&(e="ko_unique_"+ ++I.d.uniqueName.Zb,I.a.Mb(t,e))}},I.d.uniqueName.Zb=0,I.d.value={after:["options","foreach"],init:function(r,s,o){var t,i,e,a,n;"input"!=r.tagName.toLowerCase()||"checkbox"!=r.type&&"radio"!=r.type?(t=["change"],i=o.get("valueUpdate"),e=!1,a=null,i&&("string"==typeof i&&(i=[i]),I.a.ga(t,i),t=I.a.rb(t)),n=function(){a=null,e=!1;var t=s(),i=I.i.q(r);I.h.pa(t,o,"value",i)},!I.a.L||"input"!=r.tagName.toLowerCase()||"text"!=r.type||"off"==r.autocomplete||r.form&&"off"==r.form.autocomplete||-1!=I.a.m(t,"propertychange")||(I.a.n(r,"propertychange",function(){e=!0}),I.a.n(r,"focus",function(){e=!1}),I.a.n(r,"blur",function(){e&&n()})),I.a.u(t,function(t){var i=n;I.a.vc(t,"after")&&(i=function(){a=I.i.q(r),setTimeout(n,0)},t=t.substring(5)),I.a.n(r,t,i)}),I.s(function t(){var i,e=I.a.c(s()),n=I.i.q(r);null!==a&&e===a?setTimeout(t,0):e!==n&&("select"===I.a.t(r)?(i=o.get("valueAllowUnset"),(n=function(){I.i.ca(r,e,i)})(),i||e===I.i.q(r)?setTimeout(n,0):I.k.B(I.a.oa,null,[r,"change"])):I.i.ca(r,e))},null,{o:r})):I.ra(r,{checkedValue:s})},update:function(){}},I.h.V.value=!0,I.d.visible={update:function(t,i){var e=I.a.c(i()),n="none"!=t.style.display;e&&!n?t.style.display="":!e&&n&&(t.style.display="none")}},I.d.click={init:function(t,i,e,n,r){return I.d.event.init.call(this,t,function(){var t={};return t.click=i(),t},e,n,r)}},I.H=function(){},I.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},I.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},I.H.prototype.makeTemplateSource=function(t,i){if("string"==typeof t){var e=(i=i||nt).getElementById(t);if(!e)throw Error("Cannot find template with ID "+t);return new I.r.l(e)}if(1==t.nodeType||8==t.nodeType)return new I.r.fa(t);throw Error("Unknown template type: "+t)},I.H.prototype.renderTemplate=function(t,i,e,n){return t=this.makeTemplateSource(t,n),this.renderTemplateSource(t,i,e)},I.H.prototype.isTemplateRewritten=function(t,i){return!1===this.allowTemplateRewriting||this.makeTemplateSource(t,i).data("isRewritten")},I.H.prototype.rewriteTemplate=function(t,i,e){i=i((t=this.makeTemplateSource(t,e)).text()),t.text(i),t.data("isRewritten",!0)},I.b("templateEngine",I.H),I.fb=(X=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,K=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g,{ec:function(t,i,e){i.isTemplateRewritten(t,e)||i.rewriteTemplate(t,function(t){return I.fb.nc(t,i)},e)},nc:function(t,s){return t.replace(X,function(t,i,e,n,r){return $(r,i,e,s)}).replace(K,function(t,i){return $(i,"\x3c!-- ko --\x3e","#comment",s)})},Xb:function(n,r){return I.D.Ua(function(t,i){var e=t.nextSibling;e&&e.nodeName.toLowerCase()===r&&I.ra(e,n,i)})}}),I.b("__tr_ambtns",I.fb.Xb),function(){I.r={},I.r.l=function(t){this.l=t},I.r.l.prototype.text=function(){var t="script"===(t=I.a.t(this.l))?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.l[t];var i=arguments[0];"innerHTML"===t?I.a.$a(this.l,i):this.l[t]=i};var i=I.a.e.F()+"_";I.r.l.prototype.data=function(t){if(1===arguments.length)return I.a.e.get(this.l,i+t);I.a.e.set(this.l,i+t,arguments[1])};var e=I.a.e.F();I.r.fa=function(t){this.l=t},I.r.fa.prototype=new I.r.l,I.r.fa.prototype.text=function(){if(0==arguments.length){var t=I.a.e.get(this.l,e)||{};return t.gb===it&&t.Ga&&(t.gb=t.Ga.innerHTML),t.gb}I.a.e.set(this.l,e,{gb:arguments[0]})},I.r.l.prototype.nodes=function(){if(0==arguments.length)return(I.a.e.get(this.l,e)||{}).Ga;I.a.e.set(this.l,e,{Ga:arguments[0]})},I.b("templateSources",I.r),I.b("templateSources.domElement",I.r.l),I.b("templateSources.anonymousTemplate",I.r.fa)}(),function(){function n(t,i,e){var n;for(i=I.f.nextSibling(i);t&&(n=t)!==i;)e(n,t=I.f.nextSibling(n))}function c(t,i){if(t.length){var r=t[0],s=t[t.length-1],e=r.parentNode,o=I.J.instance,a=o.preprocessNode;if(a){if(n(r,s,function(t,i){var e=t.previousSibling,n=a.call(o,t);n&&(t===r&&(r=n[0]||i),t===s&&(s=n[n.length-1]||e))}),t.length=0,!r)return;r===s?t.push(r):(t.push(r,s),I.a.ka(t,e))}n(r,s,function(t){1!==t.nodeType&&8!==t.nodeType||I.pb(i,t)}),n(r,s,function(t){1!==t.nodeType&&8!==t.nodeType||I.D.Sb(t,[i])}),I.a.ka(t,e)}}function h(t){return t.nodeType?t:0<t.length?t[0]:null}function u(t,i,e,n,r){r=r||{};var s=(s=t&&h(t))&&s.ownerDocument,o=r.templateEngine||l;if(I.fb.ec(e,o,s),"number"!=typeof(e=o.renderTemplate(e,n,r,s)).length||0<e.length&&"number"!=typeof e[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(s=!1,i){case"replaceChildren":I.f.T(t,e),s=!0;break;case"replaceNode":I.a.Lb(t,e),s=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+i)}return s&&(c(e,n),r.afterRender&&I.k.B(r.afterRender,null,[e,n.$data])),e}var l;I.ab=function(t){if(t!=it&&!(t instanceof I.H))throw Error("templateEngine must inherit from ko.templateEngine");l=t},I.Ya=function(e,n,r,s,o){if(((r=r||{}).templateEngine||l)==it)throw Error("Set a template engine before calling renderTemplate");if(o=o||"replaceChildren",s){var a=h(s);return I.j(function(){var t=n&&n instanceof I.N?n:new I.N(I.a.c(n)),i=I.C(e)?e():"function"==typeof e?e(t.$data,t):e,t=u(s,o,i,t,r);"replaceNode"==o&&(a=h(s=t))},null,{Ia:function(){return!a||!I.a.Ja(a)},o:a&&"replaceNode"==o?a.parentNode:a})}return I.D.Ua(function(t){I.Ya(e,n,r,t,"replaceNode")})},I.uc=function(e,i,n,r,s){function o(t,i){c(i,h),n.afterRender&&n.afterRender(i,t)}function a(t,i){return h=s.createChildContext(t,n.as,function(t){t.$index=i}),u(null,"ignoreTargetNode",I.C(e)?e():"function"==typeof e?e(t,h):e,h,n)}var h;return I.j(function(){var t=I.a.c(i)||[];void 0===t.length&&(t=[t]),t=I.a.ta(t,function(t){return n.includeDestroyed||t===it||null===t||!I.a.c(t._destroy)}),I.k.B(I.a.Za,null,[r,t,a,n,o])},null,{o:r})};var a=I.a.e.F();I.d.template={init:function(t,i){var e=I.a.c(i());return"string"==typeof e||e.name?I.f.ja(t):(e=I.f.childNodes(t),e=I.a.oc(e),new I.r.fa(t).nodes(e)),{controlsDescendantBindings:!0}},update:function(t,i,e,n,r){var s,o=i();e=!0,n=null,"string"==typeof(i=I.a.c(o))?i={}:(o=i.name,"if"in i&&(e=I.a.c(i.if)),e&&"ifnot"in i&&(e=!I.a.c(i.ifnot)),s=I.a.c(i.data)),"foreach"in i?n=I.uc(o||t,e&&i.foreach||[],i,t,r):e?(r="data"in i?r.createChildContext(s,i.as):r,n=I.Ya(o||t,r,i,t)):I.f.ja(t),r=n,(s=I.a.e.get(t,a))&&"function"==typeof s.K&&s.K(),I.a.e.set(t,a,r&&r.Z()?r:it)}},I.h.ha.template=function(t){return 1==(t=I.h.Wa(t)).length&&t[0].unknown||I.h.lc(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},I.f.Q.template=!0}(),I.b("setTemplateEngine",I.ab),I.b("renderTemplate",I.Ya),I.a.wb=function(t,i,e){if(t.length&&i.length)for(var n,r,s,o,a=n=0;(!e||a<e)&&(s=t[n]);++n){for(r=0;o=i[r];++r)if(s.value===o.value){s.moved=o.index,o.moved=s.index,i.splice(r,1),a=r=0;break}a+=r}},I.a.Fa=function(t,i,e){return e="boolean"==typeof e?{dontLimitMoves:e}:e||{},(t=t||[]).length<=(i=i||[]).length?tt(t,i,"added","deleted",e):tt(i,t,"deleted","added",e)},I.b("utils.compareArrays",I.a.Fa),Z=I.a.e.F(),I.a.Za=function(e,t,i,n,r){function s(t,i){w=h[i],d!==i&&(v[t]=w),w.Na(d++),I.a.ka(w.$,e),l.push(w),g.push(w)}function o(i,e){if(i)for(var n=0,t=e.length;n<t;n++)e[n]&&I.a.u(e[n].$,function(t){i(t,n,e[n].sa)})}t=t||[],n=n||{};var a=I.a.e.get(e,Z)===it,h=I.a.e.get(e,Z)||[],c=I.a.Da(h,function(t){return t.sa}),u=I.a.Fa(c,t,n.dontLimitMoves),l=[],f=0,d=0,A=[],g=[];t=[];for(var w,m,p,v=[],c=[],b=0;m=u[b];b++)switch(p=m.moved,m.status){case"deleted":p===it&&((w=h[f]).j&&w.j.K(),A.push.apply(A,I.a.ka(w.$,e)),n.beforeRemove&&(t[b]=w,g.push(w))),f++;break;case"retained":s(b,f++);break;case"added":p!==it?s(b,p):(w={sa:m.value,Na:I.p(d++)},l.push(w),g.push(w),a||(c[b]=w))}o(n.beforeMove,v),I.a.u(A,n.beforeRemove?I.R:I.removeNode);for(var E,b=0,a=I.f.firstChild(e);w=g[b];b++){for(w.$||I.a.extend(w,function(i,e,n,r,s){var o=[],t=I.j(function(){var t=e(n,s,I.a.ka(o,i))||[];0<o.length&&(I.a.Lb(o,t),r&&I.k.B(r,null,[n,t,s])),o.length=0,I.a.ga(o,t)},null,{o:i,Ia:function(){return!I.a.ob(o)}});return{$:o,j:t.Z()?t:it}}(e,i,w.sa,r,w.Na)),f=0;u=w.$[f];a=u.nextSibling,E=u,f++)u!==a&&I.f.Bb(e,u,E);!w.ic&&r&&(r(w.sa,w.$,w.Na),w.ic=!0)}o(n.beforeRemove,t),o(n.afterMove,v),o(n.afterAdd,c),I.a.e.set(e,Z,l)},I.b("utils.setDomNodeChildrenFromArrayMapping",I.a.Za),I.O=function(){this.allowTemplateRewriting=!1},I.O.prototype=new I.H,I.O.prototype.renderTemplateSource=function(t){var i=I.a.L<9||!t.nodes?null:t.nodes();return i?I.a.S(i.cloneNode(!0).childNodes):(t=t.text(),I.a.ba(t))},I.O.Oa=new I.O,I.ab(I.O.Oa),I.b("nativeTemplateEngine",I.O),function(){I.Sa=function(){var r=this.kc=function(){if(!st||!st.tmpl)return 0;try{if(0<=st.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(t,i,e){if(e=e||{},r<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var n=t.data("precompiled");return n||(n=t.text()||"",n=st.template(null,"{{ko_with $item.koBindingContext}}"+n+"{{/ko_with}}"),t.data("precompiled",n)),t=[i.$data],i=st.extend({koBindingContext:i},e.templateOptions),(i=st.tmpl(n,t,i)).appendTo(nt.createElement("div")),st.fragments={},i},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,i){nt.write("<script type='text/html' id='"+t+"'>"+i+"<\/script>")},0<r&&(st.tmpl.tag.ko_code={open:"__.push($1 || '');"},st.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},I.Sa.prototype=new I.H;var t=new I.Sa;0<t.kc&&I.ab(t),I.b("jqueryTmplTemplateEngine",I.Sa)}()}(t.exports||i,l)}()}),jr=[].push,yr={forEach:Br(0),map:Br(1),filter:Br(2),some:Br(3),every:Br(4),find:Br(5),findIndex:Br(6)},xr=yr.filter;Qt({target:"Array",proto:!0,forced:!Nt("filter")},{filter:function(t,i){return xr(this,t,1<arguments.length?i:void 0)}});var Ir=yr.find,Mr="find",Fr=!0;Mr in[]&&Array(1)[Mr](function(){Fr=!1}),Qt({target:"Array",proto:!0,forced:Fr},{find:function(t,i){return Ir(this,t,1<arguments.length?i:void 0)}}),Qi(Mr);var Qr=yr.forEach,Rr=gi("forEach")?function(t,i){return Qr(this,t,1<arguments.length?i:void 0)}:[].forEach;for(var kr in Qt({target:"Array",proto:!0,forced:[].forEach!=Rr},{forEach:Rr}),Zn){var Sr=J[kr],Dr=Sr&&Sr.prototype;if(Dr&&Dr.forEach!==Rr)try{ct(Dr,"forEach",Rr)}catch(t){Dr.forEach=Rr}}function Nr(M,F,t){function r(t,i){this.$originalElement=t,this.options=i,this.metadata=this.$originalElement.data("sol-options")}r.defaults=(r.prototype={SOL_OPTION_FORMAT:{type:"option",value:void 0,selected:!1,disabled:!1,label:void 0,tooltip:void 0},SOL_OPTIONGROUP_FORMAT:{type:"optiongroup",label:void 0,tooltip:void 0,disabled:!1,children:void 0},DATA_KEY:"sol-element",WINDOW_EVENTS_KEY:"sol-window-events",defaults:{data:void 0,name:void 0,defaultMaxRowsInCurrentSelections:void 0,isRTL:void 0,shouldDefaultFocusonInput:void 0,isControlDisabled:!1,key:void 0,texts:{noItemsAvailable:"No entries found",selectAll:"Select all",quickDelete:"x",searchplaceholder:"Click here to search",expand:"{0} more",collapse:"less",optionSetItemAriaLabel:"{0} {1} of {2}",typeSomethingInputAriaLabel:"Enter a value to filter on, or select enter to show available options.",selectedListNavigation:"In selected list, use left right arrow keys to navigate, press delete key to remove selection",displayItemsRemoved:"{0} Removed",moreLinkTitle:"{0} results. Select Enter to show all results in the list.",lessLinkTitle:"Show less. Select enter to include fewer results the list.",selectAllFocusTitle:"Select all. List includes {0} items. Use the arrow keys to move up or down in the list.",selectAllDeselect:"{0} items removed",selectAllSelect:"{0} items selected",totalItems:"{0} items",deleteItemTitle:"Remove the value"},events:{onInitialized:void 0,onRendered:void 0,onOpen:void 0,onClose:void 0,onChange:void 0,onScroll:function(){var t=Math.floor(this.$input.offset().top)-Math.floor(this.config.scrollTarget.scrollTop())+Math.floor(this.$input.outerHeight()),i=this.$innerContainer.outerWidth(!1);"block"!==this.$innerContainer.css("display")?i=Math.ceil(1.2*i):(this.$selectionContainer.css("border-top-right-radius","initial"),this.$actionButtons&&this.$actionButtons.css("border-top-right-radius","initial")),this.$selectionContainer.css("top",Math.floor(t)).css("left",Math.floor(this.$container.offset().left)).css("width",i)}},useBracketParameters:!1,multiple:void 0,showSelectAll:!1,showSelectionBelowList:!1,allowNullSelection:!1,scrollTarget:void 0,maxHeight:void 0,converter:void 0},init:function(){this.config=M.extend(!0,{},this.defaults,this.options,this.metadata);var t=this._getNameAttribute();if(t)return this.config.multiple=this.config.multiple||this.$originalElement.attr("multiple"),this.config.scrollTarget||(this.config.scrollTarget=M(F)),this._registerWindowEventsIfNeccessary(),this._attachWindowResizeHandler(),this._initializeUiElements(),this._initializeInputEvents(),this._initializeData(),this.$originalElement.data(this.DATA_KEY,this).removeAttr("name").data("sol-name",t).hide(),this.config.shouldDefaultFocusonInput&&this.$input&&this.$input.focus(),this;this._showErrorLabel("name attribute is required")},_getNameAttribute:function(){return this.config.name||this.$originalElement.data("sol-name")||this.$originalElement.attr("name")},_showErrorLabel:function(t){var i=M('<div style="color: red; font-weight: bold;" />').html(t);this.$container?this.$container.append(i):i.insertAfter(this.$originalElement)},_attachWindowResizeHandler:function(){M(F).resize(function(t){this.refreshControl(this.getValues())}.bind(this))},_registerWindowEventsIfNeccessary:function(){F[this.WINDOW_EVENTS_KEY]||(M(t).on("mousedown touchstart",function(t){var i=M(t.target).closest(".sol-inner-container").first().parent(".sol-container");M(".sol-container").not(i).each(function(t,i){M(i).data(r.prototype.DATA_KEY).close()})}),F[this.WINDOW_EVENTS_KEY]=!0)},_initializeUiElements:function(){var i=this;this.internalScrollWrapper=function(){M.isFunction(i.config.events.onScroll)&&i.config.events.onScroll.call(i)},this.$input=M('<input id={0}_ledit type="text"/>'.replace("{0}",this.config.key)).attr("placeholder",this.config.texts.searchplaceholder).attr("aria-label",this.config.texts.typeSomethingInputAriaLabel).attr("aria-haspopup",!0).attr("title","").click(function(){i.clearAllSelections(),this.focus()}),this.$noResultsItem=M('<div id={0} class="sol-no-results"/>'.replace("{0}",this.config.key+"_no-results")).html(this.config.texts.noItemsAvailable).hide(),this.$caret=M('<div class="sol-caret-container" title=""><b class="caret"/></div>').click(function(){i.clearAllSelections(),i.toggle()});var t=M('<div class="sol-input-container"/>').append(this.$input);this.$innerContainer=M('<div class="sol-inner-container"/>').append(t).append(this.$caret),this.$selection=M('<ul class="sol-selection" role="listbox"/>'),this.$selectionContainer=M('<div class="sol-selection-container" role="application" aria-multiselectable="true"/>').append(this.$noResultsItem).append(this.$selection).appendTo(this.$innerContainer),this.$container=M('<div id={0}_i class="sol-container" aria-haspopup="true"/>'.replace("{0}",this.config.key)).data(this.DATA_KEY,this).append(this.$innerContainer).insertBefore(this.$originalElement);var e,n,r,s,o,a,h=this.config.key+"_moreless-link",c='<div name={0} class="sol-moreless-link-normal" role="button" tabIndex="-1"/>'.replace("{0}",h);this.$moreLink=M(c).click(function(){i.clearAllSelections(),i.expandAndShowLessLink(!0)}).hide(),this.$lessLink=M(c).html(this.config.texts.collapse).click(function(){i.clearAllSelections(),i.$currentSelectionContainer.hasClass("sol-current-selection-expanded")&&(i.$currentSelectionContainer[0].scrollTop=0),i.collapseAndShowMoreLink()}).hide(),this.$moreLink.blur(function(t){M(this).removeClass("sol-moreless-link-focused"),M(this).addClass("sol-moreless-link-normal")}),this.$lessLink.blur(function(t){M(this).removeClass("sol-moreless-link-focused"),M(this).addClass("sol-moreless-link-normal")}),this.$lessLink.attr("aria-label",this.config.texts.lessLinkTitle),this.$lessLink.attr("title",""),this.overflowingCurrentSelectionCount=0,this.$moreLessContainer=M('<div class="sol-moreless-container"/>').append(this.$moreLink).append(this.$lessLink).hide(),this.$moreLessContainer.click(function(t){t.target.getAttribute("name")!=h&&i.$input.focus()}),this.$currentSelectionContainer=M('<div class="sol-current-selection-normal" role="listbox"/>'),this.config.showSelectionBelowList?(this.$moreLessContainer.insertAfter(this.$innerContainer),this.$currentSelectionContainer.insertAfter(this.$moreLessContainer)):(this.$moreLessContainer.insertBefore(this.$innerContainer),this.$currentSelectionContainer.insertBefore(this.$moreLessContainer)),this.$innerContainer.click(function(t){M(t.target.parentElement).attr("name")!=i.config.key+"sol-label"&&i.$input.focus()}),this.config.multiple&&this.config.showSelectAll&&(e='<input type="checkbox" class="sol-checkbox" id={0} >'.replace("{0}",this.config.key+"_selectAll"),this.$selectAllCheckbox=M(e).click(function(t){i.$alertContainer[0].innerHTML="",i.clearAllSelections(),i.toggleSelectAll(this)}).attr("aria-label",this.formatString(this.config.texts.selectAllFocusTitle,this.config.data.length)),n=M(this.formatString('<label name={0} class="sol-label" for={1}>',this.config.key+"sol-label",this.config.key+"_selectAll")),r='<div class="sol-optionitem-text">{0}</div>'.replace("{0}",this.config.texts.selectAll),s=this.formatString('<div id={0} class="sol-optionitem-text">{1}</div>',this.config.key+"sol-no-of-Items",this.formatString(this.config.texts.totalItems,this.config.data.length)),o=M('<div class="sol-label-text"></div></label>').append(r).append(s),a=M(n).append(this.$selectAllCheckbox).append(o),this.$actionButtons=M('<div class="sol-action-buttons"/>').append(a).append('<div class="sol-clearfix"/>'),this.$selectionContainer.prepend(this.$actionButtons)),this.config.maxHeight&&this.$selection.css("max-height",this.config.maxHeight),this.currentSelectionContainerNonExpandedMaxHeight=26*this.config.defaultMaxRowsInCurrentSelections+10,this.currentSelectionContainerExpandedMaxHeight=204,M.isFunction(this.config.events.onRendered)&&this.config.events.onRendered.call(this,this),this.$alertContainer=M('<div class="sol-alert-text" aria-live="assertive" aria-atomic="true" aria-relevant="additions"></div>'),this.$container.append(this.$alertContainer)},_initializeInputEvents:function(){var i,I=this,t=this.$input.parents("form").first();t&&1===t.length&&!t.data(this.WINDOW_EVENTS_KEY)&&(i=function(){var r=[];t.find(".sol-option input").each(function(t,i){var e=M(i),n=e.data("sol-item").selected;e.prop("checked")!==n&&(e.prop("checked",n).trigger("change",n),r.push(e))}),0<r.length&&M.isFunction(I.config.events.onChange)&&I.config.events.onChange.call(I,I,r)},t.on("reset",function(t){i.call(I),setTimeout(function(){i.call(I)},100)}),t.data(this.WINDOW_EVENTS_KEY,!0)),this.$input.on("input",function(){I._applySearchTermFilter(),0<(I.$input.val()||"").length&&I.open(),I.repositionFlyOut()}),this.$container.on("keydown",function(t){F.isKeyPressed=!0;var i=t.keyCode,e=!1;i===F.KEY_CODE.ESC&&(I.$selectAllCheckbox.is(":visible")?(I._setKeyBoardNavigationMode(!1),I.$input.val("").trigger("input"),I.$caret.trigger("click"),I.$input.focus(),e=!0):I.close());var n,r,s,o,a,h,c,u=I.$selection.find(".sol-option:visible"),l=I.$currentSelectionContainer.find(".sol-selected-display-item"),f=u.length,d=l.length,A=l.not(".sol-visibility-hidden").length,g=0<d,w=!1,m=!1,p=!1;I._setKeyBoardNavigationMode(!0),n=I.$selection.find(".sol-option.keyboard-selection"),h=u.index(n),s=I.$currentSelectionContainer.find(".sol-selected-display-item.keyboard-selection");var v,b,E=0<=(a=l.index(s))&&a<=d-1,B=I.$selectAllCheckbox.is(":focus")||0<=h&&h<=f-1,C=I.$moreLessContainer.is(":visible"),j=I.$moreLink.hasClass("sol-moreless-link-focused"),y=I.$lessLink.hasClass("sol-moreless-link-focused"),x=I.$input.is(":focus");if(i===F.KEY_CODE.TAB&&(c=t.shiftKey?(w=g&&!C&&x||g&&C&&(j||y),m=C&&x,p=B,I.$selectAllCheckbox.is(":visible")&&!I.$selectAllCheckbox.is(":focus")&&(E&&!x||!g&&x)):(w=!E&&g&&B,m=g&&E&&C,p=!g&&B||g&&E&&!C||C&&(j||y),I.$selectAllCheckbox.is(":visible")&&!I.$selectAllCheckbox.is(":focus")&&x),I.clearAllSelections(),e=!0,w?((o=M(l[0]).addClass("keyboard-selection")).focus(),o.attr("aria-label",o[0].firstChild.innerText+I.config.texts.selectedListNavigation)):m?I.$moreLink.is(":visible")?I.toggleMoreLessLinkFocus(I.$moreLink):I.$lessLink.is(":visible")&&I.toggleMoreLessLinkFocus(I.$lessLink):p?I.$input.focus():c?I.focusSelectAll():(I.close(),e=!1)),i!==F.KEY_CODE.LEFT&&i!==F.KEY_CODE.RIGHT||!E||((v=a+(i===F.KEY_CODE.LEFT?-1:1))<0?v=0:A<=v&&(v=A-1),s.removeClass("keyboard-selection"),(o=M(l[v]).addClass("keyboard-selection")).focus(),e=!0),i!==F.KEY_CODE.LEFT&&i!==F.KEY_CODE.RIGHT||!B||(I.close(),I.$input.focus()),i!==F.KEY_CODE.UP&&i!==F.KEY_CODE.DOWN||!B||(I.$actionButtons.removeClass("keyboard-selection"),(b=h+(i===F.KEY_CODE.UP?-1:1))<0?I.focusSelectAll():f<=b&&(b=f-1),n.removeClass("keyboard-selection"),0<=b&&((r=M(u[b]).addClass("keyboard-selection")).find("input").focus(),I.$selection.scrollTop(I.$selection.scrollTop()+r.position().top)),!t.shiftKey||i!==F.KEY_CODE.UP&&i!==F.KEY_CODE.DOWN||(n=I.$selection.find(".sol-option.keyboard-selection input")).prop("checked")||n.trigger("change",!0),e=!0),i===F.KEY_CODE.ENTER||i===F.KEY_CODE.SPACE){if(e=!0,-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&i===F.KEY_CODE.SPACE)return;I.$moreLink.hasClass("sol-moreless-link-focused")?(I.$moreLink.click(),I.$lessLink.addClass("sol-moreless-link-focused")):I.$lessLink.hasClass("sol-moreless-link-focused")?(I.$lessLink.click(),I.$moreLink.addClass("sol-moreless-link-focused")):i===F.KEY_CODE.ENTER&&I.$input.is(":focus")?I.toggle():I.$selectAllCheckbox.is(":focus")?(I.$selectAllCheckbox.click(),i===F.KEY_CODE.ENTER&&(I.close(),I.$input.focus())):B?((n=I.$selection.find(".sol-option.keyboard-selection input")).trigger("change",!n.prop("checked")),i===F.KEY_CODE.ENTER&&(I.close(),I.$input.focus())):i===F.KEY_CODE.SPACE&&(e=!1)}if(i===F.KEY_CODE.DELETE&&E&&!I.config.isControlDisabled&&(e=!0,I.$alertContainer[0].innerHTML="",I.$alertContainer[0].innerHTML=I.config.texts.displayItemsRemoved.replace("{0}",s[0].firstChild.innerText),s.find(".sol-quick-delete").click()),e)return t.preventDefault(),!1})},toggleMoreLessLinkFocus:function(t){t.hasClass("sol-moreless-link-normal")?(t.removeClass("sol-moreless-link-normal"),t.addClass("sol-moreless-link-focused"),t.focus()):(t.removeClass("sol-moreless-link-focused"),t.addClass("sol-moreless-link-normal"))},clearAllSelections:function(){this.$currentSelectionContainer.find(".sol-selected-display-item.keyboard-selection").removeClass("keyboard-selection"),this.$moreLink.removeClass("sol-moreless-link-focused"),this.$moreLink.addClass("sol-moreless-link-normal"),this.$lessLink.removeClass("sol-moreless-link-focused"),this.$lessLink.addClass("sol-moreless-link-normal"),this.$actionButtons.removeClass("keyboard-selection"),this.$selection.find(".sol-option.keyboard-selection").removeClass("keyboard-selection")},_setKeyBoardNavigationMode:function(t){t?(this.keyboardNavigationMode=!0,this.$selection.addClass("sol-keyboard-navigation")):(this.keyboardNavigationMode=!1,this.$selection.find(".sol-option.keyboard-selection"),this.$selection.removeClass("sol-keyboard-navigation"),this.$selectionContainer.find(".sol-option.keyboard-selection").removeClass("keyboard-selection"),this.$selection.scrollTop(0))},_applySearchTermFilter:function(){var t,i;this.items&&0!==this.items.length&&(t=(this.$input.val()||"").toLowerCase(),this.$selectionContainer.find(".sol-filtered-search").removeClass("sol-filtered-search"),this._setNoResultsItemVisible(!1),0<t.trim().length&&this._findTerms(this.items,t),i=this.getNonFilteredOptions().length,M("#"+this.config.key+"sol-no-of-Items").html(this.formatString(this.config.texts.totalItems,i)),this.$selectAllCheckbox.prop("checked",this.areAllOptionsChecked()),this.$selectAllCheckbox.attr("aria-label",this.formatString(this.config.texts.selectAllFocusTitle,i)))},_findTerms:function(t,n){var r;t&&M.isArray(t)&&0!==t.length&&((r=this)._setKeyBoardNavigationMode(!1),M.each(t,function(t,i){var e;"option"===i.type?(e=i.displayElement,-1===(i.label+" "+i.tooltip).trim().toLowerCase().indexOf(n)&&e.addClass("sol-filtered-search")):(r._findTerms(i.children,n),0===i.displayElement.find(".sol-option:not(.sol-filtered-search)").length&&i.displayElement.addClass("sol-filtered-search"))}),this._setNoResultsItemVisible(0===this.getNonFilteredOptions().length))},_initializeData:function(){this.config.data?M.isFunction(this.config.data)?this.items=this._fetchDataFromFunction(this.config.data):M.isArray(this.config.data)?this.items=this._fetchDataFromArray(this.config.data):sr(this.config.data)===sr("a string")?this._loadItemsFromUrl(this.config.data):this._showErrorLabel("Unknown data type"):this.items=this._detectDataFromOriginalElement(),this.items&&this._processDataItems(this.items)},_detectDataFromOriginalElement:function(){if("select"===this.$originalElement.prop("tagName").toLowerCase()){var s=this,o=[];return M.each(this.$originalElement.children(),function(t,i){var e,n=M(i),r=n.prop("tagName").toLowerCase();"option"===r?(e=s._processSelectOption(n))&&o.push(e):"optgroup"===r?(e=s._processSelectOptgroup(n))&&o.push(e):s._showErrorLabel("Invalid element found in select: "+r+". Only option and optgroup are allowed")}),this._invokeConverterIfNeccessary(o)}if(this.$originalElement.data("sol-data")){var t=this.$originalElement.data("sol-data");return this._invokeConverterIfNeccessary(t)}this._showErrorLabel('Could not determine data from original element. Must be a select or data must be provided as data-sol-data="" attribute')},_processSelectOption:function(t){return M.extend({},this.SOL_OPTION_FORMAT,{value:t.val(),selected:t.prop("selected"),disabled:t.prop("disabled"),label:t.html(),tooltip:t.attr("title"),element:t})},_processSelectOptgroup:function(t){var r=this,s=M.extend({},this.SOL_OPTIONGROUP_FORMAT,{label:t.attr("label"),tooltip:t.attr("title"),disabled:t.prop("disabled"),children:[]}),i=t.children("option");return M.each(i,function(t,i){var e=M(i),n=r._processSelectOption(e);s.disabled&&(n.disabled=!0),s.children.push(n)}),s},_fetchDataFromFunction:function(t){return this._invokeConverterIfNeccessary(t(this))},_fetchDataFromArray:function(t){return this._invokeConverterIfNeccessary(t)},_loadItemsFromUrl:function(n){var r=this;M.ajax(n,{success:function(t){r.items=r._invokeConverterIfNeccessary(t),r.items&&r._processDataItems(r.items)},error:function(t,i,e){r._showErrorLabel("Error loading from url "+n+": "+e)}})},_invokeConverterIfNeccessary:function(t){return M.isFunction(this.config.converter)?this.config.converter.call(this,this,t):t},_processDataItems:function(t){var e,n;t?0!==t.length?(e=this,n=t,M.each(t,function(t,i){if(i.type===r.prototype.SOL_OPTION_FORMAT.type)e._renderOption(i,t,n.length);else{if(i.type!==r.prototype.SOL_OPTIONGROUP_FORMAT.type)return void e._showErrorLabel("Invalid item type found "+i.type);e._renderOptiongroup(i)}}),this.$selectionContainer.find('input[type="checkbox"]:not([disabled]):checked').length===t.length&&this.$selectAllCheckbox.prop("checked",!0),M.isFunction(this.config.events.onInitialized)&&this.config.events.onInitialized.call(this,this,t)):this._setNoResultsItemVisible(!0):this._showErrorLabel("Data items not present. Maybe the converter did not return any values")},_renderOption:function(t,e,i,n){var r,s,o=this,a=n||this.$selection,h=M('<div class="sol-label-text sol-optionitem-text"/>').html(0===t.label.trim().length?"&nbsp;":t.label),c=this._getNameAttribute();this.config.multiple?(r='<input type="checkbox" id={0} class="sol-checkbox" name={0} >'.split("{0}").join(this.config.key+"_checkbox"),s=M(r),this.config.useBracketParameters&&(c+="[]")):s=M('<input type="radio" class="sol-radio"/>').on("change",function(){o.$selectionContainer.find('input[type="radio"][name="'+c+'"]').not(M(this)).trigger("sol-deselect")}).on("sol-deselect",function(){o._removeSelectionDisplayItem(M(this))}),s.on("change",function(t,i){o.checkUncheckOption(M(this),i,e)}).data("sol-item",t).prop("checked",t.selected).prop("disabled",t.disabled).attr("name",c).attr("id",this.config.key+"_item"+(e+1)).val(t.value);var u=this.formatString(this.config.texts.optionSetItemAriaLabel,t.tooltip,e+1,i),l=this.formatString('<label name={0} class="sol-label">',this.config.key+"sol-label"),f=M(l).attr("title",t.tooltip).attr("aria-label",u).append(s).append(h),d=M('<li class="sol-option" role="option"/>').append(f);t.displayElement=d,a.append(d),t.selected&&(d.addClass("sol-option-selected"),this._addSelectionDisplayItem(s,e))},_renderOptiongroup:function(t){var e=this,i=M('<div class="sol-optiongroup-label"/>').attr("title",t.tooltip).html(t.label),n=M('<div class="sol-optiongroup"/>').append(i);t.disabled&&n.addClass("disabled");var r=t;M.isArray(t.children)&&M.each(t.children,function(t,i){e._renderOption(i,t,r.children.length,n)}),t.displayElement=n,this.$selection.append(n)},_selectionChange:function(t,i,e){t.prop("checked")?(this._addSelectionDisplayItem(t,i),t.closest(".sol-option").addClass("sol-option-selected")):(this._removeSelectionDisplayItem(t),t.closest(".sol-option").removeClass("sol-option-selected")),t.closest(".sol-option").attr("aria-selected",t.prop("checked")),this.config.multiple?this.config.scrollTarget.trigger("scroll"):this.close(),!e&&M.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,t)},_addSelectionDisplayItem:function(e,t){var i,n,r=e.data("sol-item"),s=r.displaySelectionItem,o=this;s||(i=M('<span class="sol-selected-display-item-text" role="option"/>').html(r.label),n='<div name={0} class="sol-selected-display-item" role="option" tabIndex="0"/>'.replace("{0}",this.config.key+"_selected-item"),s=M(n).append(i).attr("title","").attr("data-value",r.value).attr("aria-label",r.label).appendTo(this.$currentSelectionContainer).click(function(){o.clearAllSelections(),M(this).addClass("keyboard-selection"),M(this).focus()}).blur(function(t){M(this).removeClass("keyboard-selection")}),!this.config.multiple&&!this.config.allowNullSelection||e.prop("disabled")||M('<span class="sol-quick-delete" role="button"/>').attr("title",this.config.texts.deleteItemTitle).attr("id",this.config.key+(t+1)+"-selected-item-delete").html(this.config.texts.quickDelete).click(function(){var t=e.data("sol-item").displaySelectionItem,i=o.getNextItemTobeHighlighted(t);o.clearAllSelections(),e.trigger("change",!1),null===i&&o.$input.focus(),M(i).addClass("keyboard-selection").focus()}).appendTo(s),r.displaySelectionItem=s),this.handleMoreLessLink(!0,s)},_removeSelectionDisplayItem:function(t){var i=t.data("sol-item"),e=i.displaySelectionItem;e&&(e.remove(),i.displaySelectionItem=void 0),this.$currentSelectionContainer.find(".sol-selected-display-item.sol-visibility-hidden").first().removeClass("sol-visibility-hidden"),this.handleMoreLessLink(!1,e)},handleMoreLessLink:function(t,i){this.$currentSelectionContainer.hasClass("sol-current-selection-normal")?this.$currentSelectionContainer.prop("scrollHeight")>this.currentSelectionContainerNonExpandedMaxHeight?(this.computeOverflowCount(t),this.showMoreLink(),i.addClass("sol-visibility-hidden")):this.hideMoreLessContainer():this.$currentSelectionContainer.prop("scrollHeight")>this.currentSelectionContainerNonExpandedMaxHeight?(this.computeOverflowCount(t),this.showLessLink()):(this.$currentSelectionContainer.removeClass("sol-current-selection-expanded"),this.$currentSelectionContainer.addClass("sol-current-selection-normal"),this.hideMoreLessContainer())},computeOverflowCount:function(t){t?this.overflowingCurrentSelectionCount+=1:--this.overflowingCurrentSelectionCount},showMoreLink:function(){this.$moreLessContainer.show();var t=this.formatString(this.config.texts.expand,this.overflowingCurrentSelectionCount);this.$moreLink.html(t);var i=this.config.texts.moreLinkTitle.replace("{0}",t);this.$moreLink.attr("aria-label",i),this.$moreLink.attr("title",""),this.$lessLink.hide(),this.$moreLink.show()},showLessLink:function(){this.$moreLessContainer.show(),this.$moreLink.hide(),this.$lessLink.show()},hideMoreLessContainer:function(){this.overflowingCurrentSelectionCount=0,this.$moreLessContainer.hide();var t=this.formatString(this.config.texts.expand,this.overflowingCurrentSelectionCount);this.$moreLink.html(t).hide(),this.$lessLink.hide()},expandAndShowLessLink:function(t){this.$currentSelectionContainer.removeClass("sol-current-selection-normal"),this.$currentSelectionContainer.addClass("sol-current-selection-expanded"),this.$moreLink.hide(),this.$lessLink.show(),t&&(this.$lessLink.focus(),this.$lessLink.removeClass("sol-moreless-link-normal"),this.$lessLink.addClass("sol-moreless-link-focused")),this.$currentSelectionContainer.find(".sol-selected-display-item.sol-visibility-hidden").each(function(){return M(this).removeClass("sol-visibility-hidden")})},collapseAndShowMoreLink:function(){this.$currentSelectionContainer.removeClass("sol-current-selection-expanded"),this.$currentSelectionContainer.addClass("sol-current-selection-normal"),this.$lessLink.hide(),this.showMoreLink(),this.$moreLink.removeClass("sol-moreless-link-normal"),this.$moreLink.addClass("sol-moreless-link-focused"),this.$moreLink.focus();var t=this.$currentSelectionContainer.find(".sol-selected-display-item"),i=t.length-this.overflowingCurrentSelectionCount;t.each(function(t){i<=t&&M(this).addClass("sol-visibility-hidden")})},_setNoResultsItemVisible:function(t){t?(this.$alertContainer[0].innerHTML="",this.$alertContainer[0].innerHTML=this.config.texts.noItemsAvailable,this.$noResultsItem.show(),this.$actionButtons&&this.$actionButtons.hide(),this.$selection.addClass("sol-selection-hidden")):(this.$noResultsItem.hide(),this.$actionButtons&&this.$actionButtons.show(),this.$selection.removeClass("sol-selection-hidden"))},isOpen:function(){return this.$container.hasClass("sol-active")},isClosed:function(){return!this.isOpen()},toggle:function(){this.isOpen()?this.close():this.open(),this.$input.focus()},open:function(){this.isClosed()&&(this.clearAllSelections(),this.$container.addClass("sol-active"),this.$container.attr("aria-expanded",!0),this.config.scrollTarget.bind("scroll",this.internalScrollWrapper).trigger("scroll"),M(F).on("resize",this.internalScrollWrapper),M.isFunction(this.config.events.onOpen)&&this.config.events.onOpen.call(this,this),this.$input.focus())},formatString:function(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var n=t,r=1;r<arguments.length;r++)var s=void 0===arguments[r]||null==arguments[r]?"":arguments[r].toString(),n=n.replace(new RegExp("\\{"+(r-1)+"\\}","g"),s);return n},close:function(){this.isOpen()&&(this._setKeyBoardNavigationMode(!1),this.$container.removeClass("sol-active"),this.$container.attr("aria-expanded",!1),this.$selectionContainer.removeClass("sol-selection-container-reduced-height"),this.$selection.removeClass("sol-selection-reduced-height"),this.config.scrollTarget.unbind("scroll",this.internalScrollWrapper),M(F).off("resize",this.internalScrollWrapper),this.$input.val(""),this._applySearchTermFilter(),M.isFunction(this.config.events.onClose)&&this.config.events.onClose.call(this,this))},toggleSelectAll:function(t){t.checked?this.selectAll():this.deselectAll(),this.focusSelectAll()},selectAll:function(){var t,i;this.config.showSelectAll&&this.config.multiple&&(t=this.getNonFilteredOptions().find('input[type="checkbox"]:not([disabled], :checked)').trigger("change",!0),M.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,t),i=this.config.texts.selectAllSelect.replace("{0}",this.getNonFilteredOptions().length),this.$alertContainer[0].innerHTML=i)},focusSelectAll:function(){this.$selectAllCheckbox.focus(),this.$actionButtons.addClass("keyboard-selection")},deselectAll:function(t){var i,e;this.config.showSelectAll&&this.config.multiple&&(i=(t?this.$selectionContainer:this.getNonFilteredOptions()).find('input[type="checkbox"]:not([disabled]):checked').trigger("change",!1),M.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,i),e=this.config.texts.selectAllDeselect.replace("{0}",this.getNonFilteredOptions().length),this.$alertContainer[0].innerHTML=e)},getValues:function(){var i=[];return this.$currentSelectionContainer.find(".sol-selected-display-item").each(function(t){i.push(M(this).data("value"))}),i},setValues:function(t){var e;t&&t.length&&(e=this,t.forEach(function(t){var i=t;e.$selectionContainer.find(".sol-checkbox").filter(function(){if(null!=M(this).data("sol-item"))return M(this).data("sol-item").value===i}).trigger("change",!0)}))},toggleControlState:function(t){this.config.isControlDisabled=t,this.config.isControlDisabled?(this.$innerContainer.hide(),this.$container.addClass("sol-container-Disabled"),this.$moreLessContainer.addClass("sol-moreless-container-Disabled"),this.$currentSelectionContainer.find(".sol-quick-delete").each(function(t){M(this).addClass("sol-visibility-hidden")})):(this.$innerContainer.show(),this.$container.removeClass("sol-container-Disabled"),this.$moreLessContainer.removeClass("sol-moreless-container-Disabled"),this.$currentSelectionContainer.find(".sol-quick-delete").each(function(t){M(this).removeClass("sol-visibility-hidden")}))},checkUncheckOption:function(t,i,e){void 0!==i&&t.prop("checked",i),this._selectionChange(t,e),this.$selectAllCheckbox.prop("checked",this.areAllOptionsChecked())},areAllOptionsChecked:function(){return 0===this.getNonFilteredOptions().find('input[type="checkbox"]:not([disabled], :checked)').length},getNonFilteredOptions:function(){return this.$selectionContainer.find(".sol-option:not(.sol-filtered-search)")},getSelection:function(){return this.$selection.find("input:checked")},storeControlState:function(){var t,i;this.currentHighlightedSelectionIndex=-1,null!=this.$currentSelectionContainer&&(0<(t=this.$currentSelectionContainer.find(".sol-selected-display-item.keyboard-selection")).length&&(i=this.$currentSelectionContainer.find(".sol-selected-display-item"),this.currentHighlightedSelectionIndex=i.index(t)),this.expanded=this.$lessLink.is(":visible"))},restoreControlState:function(){var t;-1<this.currentHighlightedSelectionIndex&&(t=this.$currentSelectionContainer.find(".sol-selected-display-item"),M(t[this.currentHighlightedSelectionIndex]).addClass("keyboard-selection").focus()),this.expanded&&this.expandAndShowLessLink(!1),this.isOpen()&&this.repositionFlyOut()},refreshControl:function(t){0<t.length?(this.storeControlState(),this.deselectAll(!0),this.setValues(t),this.restoreControlState()):0<this.getValues().length&&this.deselectAll(!0)},repositionFlyOut:function(){this.config.scrollTarget.bind("scroll",this.internalScrollWrapper).trigger("scroll"),M(F).on("resize",this.internalScrollWrapper)},getNextItemTobeHighlighted:function(t){if(null===t)return null;var i=this.$currentSelectionContainer.find(".sol-selected-display-item"),e=i.index(t);return e<i.length-1?i[e+1]:null}}).defaults,F.SearchableOptionList=r,F.KEY_CODE={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},M.fn.searchableOptionList=function(e){var n=[];return this.each(function(){var t=M(this),i=t.data(r.prototype.DATA_KEY);i?n.push(i):n.push(new r(t,e).init())}),1===n.length?n[0]:n}}Nr(jQuery,window,document);var Tr,Or,Yr,Ur=yr.map;function Hr(t,i){this.$originalElement=t,this.options=i,this.metadata=this.$originalElement.data("msos-options"),this.debounceId=null,this.debounceTimeout=5,this.blurTimerId=null,this.blurTimerTimeout=5,this.isIE11=!!Or.MSInputMethodContext&&!!Yr.documentMode,this.isSelectionChanging=!1}function zr(t){var i=Yt.Symbol||(Yt.Symbol={});R(i,t)||$r(i,t,{value:qr.f(t)})}function Gr(t,i){var e=gs[t]=Ii(hs[ns]);return ss(e,{type:es,tag:t,description:i}),W||(e.description=i),e}function Pr(i,t){S(i);var e=E(t),n=Ei(e).concat(Wr(e));return ts(n,function(t){W&&!Jr.call(e,t)||js(i,t,e[t])}),i}function Vr(t,i){var e=E(t),n=Q(i,!0);if(e!==as||!R(gs,n)||R(ws,n)){var r=ls(e,n);return!r||!R(gs,n)||R(e,is)&&e[is][n]||(r.enumerable=!0),r}}function Lr(t){var i=ds(E(t)),e=[];return ts(i,function(t){R(gs,t)||R(vt,t)||e.push(t)}),e}Qt({target:"Array",proto:!0,forced:!Nt("map")},{map:function(t,i){return Ur(this,t,1<arguments.length?i:void 0)}}),Tr=jQuery,Or=window,Yr=document,Hr.prototype={SOL_OPTION_FORMAT:{type:"option",value:void 0,selected:!1,disabled:!1,label:void 0,tooltip:void 0},SOL_OPTIONGROUP_FORMAT:{type:"optiongroup",label:void 0,tooltip:void 0,disabled:!1,children:void 0},DATA_KEY:"msos-element",WINDOW_EVENTS_KEY:"msos-window-events",defaults:{data:void 0,name:void 0,defaultMaxRowsInCurrentSelections:void 0,accessibilityLabel:void 0,isRTL:void 0,shouldDefaultFocusonInput:void 0,isControlDisabled:!1,required:!1,key:void 0,texts:{noItemsAvailable:"No entries found",selectAll:"Select all",selectAllDeselect:"{0} items removed",selectAllSelect:"{0} items selected",totalItems:"{0} items",searchPlaceholder:"Select or search options",expand:"+{0}",collapse:"less",viewmodeExpandLabel:"Expand",viewmodeCollapseLabel:"Collapse",viewmodeExpandCollapseLabel:"Expand or collapse selected content",resultsFound:"Number of results: {0}",deleteItemLabel:"Remove {0}",expandLabel:"Show {0} more selected items",collapseLabel:"Show fewer selected items",dropdownToggleLabel:"Toggle menu",noItemsSelected:"---",viewmodeItemsSeparator:", ",selectedItemAdded:"{0} added",selectedItemRemoved:"{0} removed",selectedItemsInstructions:"Use the arrow keys to navigate through the list of currently selected items. Press delete or backspace to deselect an item. For touch devices, use swipe and touch gestures to explore the list.",comboboxInstructions:"Use the arrow keys to navigate through the list of items. Press space to select or deselect an item. For touch devices, use swipe and touch gestures to explore this list."},events:{onInitialized:void 0,onRendered:void 0,onOpen:void 0,onClose:void 0,onChange:void 0,onPointerEnter:void 0,onPointerLeave:void 0,onPointerDown:void 0,onPointerUp:void 0,onScroll:void 0},useBracketParameters:!1,multiple:!0,showSelectAll:!0,showSelectionBelowList:!1,allowNullSelection:!1,scrollTarget:Tr(Or),maxHeight:void 0,converter:void 0,labelledBy:void 0,alwaysActive:!1,autoExpandDropdown:!1,fullscreenCombobox:!1},init:function(){this.config=Tr.extend(!0,{},this.defaults,this.options,this.metadata);var t=this._getNameAttribute();if(t)return this.config.multiple=this.config.multiple||this.$originalElement.attr("multiple"),this._registerWindowEventsIfNeccessary(),this._attachWindowResizeHandler(),this._initializeUiElements(),this._initializeInputEvents(),this._initializeData(),this._populateViewmodeContainer(),this._updateExpandSelectedItemsButtonText(),this.$originalElement.data(this.DATA_KEY,this).removeAttr("name").data("sol-name",t).hide(),this.config.shouldDefaultFocusonInput&&this.$input&&this.$input.focus(),this;this._showErrorLabel("name attribute is required")},_onPointerEnter:function(){var t;this.$container.addClass("msos-active"),this.isSelectionChanging||(this.debounceId&&clearTimeout(this.debounceId),(t=this).debounceId=setTimeout(function(){t._updateExpandSelectedItemsButtonText()},this.debounceTimeout))},_onPointerLeave:function(){this.config.alwaysActive||this.$container.hasClass("msos-focused")||(this.$container.removeClass("msos-active"),this._collapseSelectedItemsContainer(),this.debounceId&&clearTimeout(this.debounceId))},_onPointerDown:function(){this._activateControl()},_getNameAttribute:function(){return this.config.name||this.$originalElement.data("sol-name")||this.$originalElement.attr("name")},_showErrorLabel:function(t){var i=Tr('<div style="color: red; font-weight: bold;" />').html(t);this.$container?this.$container.append(i):i.insertAfter(this.$originalElement)},_attachWindowResizeHandler:function(){Tr(Or).resize(function(t){this._collapseViewmodeContainer(),this.refreshControl(this.getValues())}.bind(this))},_activateControl:function(){this.config.alwaysActive||this.$container.addClass("msos-active msos-focused")},_deactivateControl:function(){this.isOpen()&&this.close(),this._collapseSelectedItemsContainer(),0<this._getSelectedItemsCount()&&this._updateCurrentlySelectedItem(this._getVisibleSelectedItems().first()),this.config.alwaysActive||this.$container.removeClass("msos-active msos-focused")},_collapseSelectedItemsContainer:function(){this.$currentSelectionContainer.scrollTop(0),this.$selectedItemsContainer.removeClass("msos-selecteditems-expanded"),this._updateExpandSelectedItemsButtonText()},_expandSelectedItemsContainer:function(){this.$selectedItemsContainer.addClass("msos-selecteditems-expanded"),this.$selectedItemsToggleButton.text(this.config.texts.collapse).attr("aria-label",this.config.texts.collapseLabel)},deactivate:function(){this._deactivateControl()},_deactivateOtherControls:function(t){var i=Tr(t.target),e=i.closest(".msos-inner-container"),n=i.closest(".msos-container");e.length&&n.hasClass("msos-open")||(Tr(".msos-container.msos-open").each(function(t,i){Tr(i).data(Hr.prototype.DATA_KEY).close()}),Tr(".msos-container.msos-active.msos-focused").not(n).each(function(t,i){Tr(i).data(Hr.prototype.DATA_KEY).deactivate()}))},_registerWindowEventsIfNeccessary:function(){Or[this.WINDOW_EVENTS_KEY]||(Tr(Yr).on("mousedown touchstart",this._deactivateOtherControls),Or[this.WINDOW_EVENTS_KEY]=!0)},_initializeUiElements:function(){var s=this;this.internalScrollWrapper=function(){Tr.isFunction(s.config.events.onScroll)&&s.config.events.onScroll.call(s)},this.$selectedItemsInstructions=Tr("<div class='msos-a11y' aria-hidden='true' />").attr("id","{0}_selecteditems_instructions".replace("{0}",this.config.key)).text(this.config.texts.selectedItemsInstructions),this.$comboboxInstructions=Tr("<div class='msos-a11y' aria-hidden='true' />").attr("id","{0}_combobox_instructions".replace("{0}",this.config.key)).text(this.config.texts.comboboxInstructions),this.$alertContainer=Tr('<div class="msos-alert-text" aria-live="assertive" aria-atomic="true" aria-relevant="additions" />'),this.$input=Tr('<input id={0}_ledit type="text" class="msos-input" />'.replace("{0}",this.config.key)).attr("placeholder",this.config.texts.searchPlaceholder).attr("aria-label",this.config.accessibilityLabel).attr("aria-autocomplete","list").attr("aria-describedby",this.$comboboxInstructions.attr("id")).on("focus",function(t){s.isClosed()&&s.config.autoExpandDropdown&&s.open()}).click(function(){this.focus()}),this.config.required&&this.$input.attr("required",!0).attr("aria-invalid",!1),this.$noResultsItem=Tr('<div id={0} class="msos-no-results"/>'.replace("{0}",this.config.key+"_no-results")).text(this.config.texts.noItemsAvailable).addClass("msos-hidden");var t=Tr("<div class='msos-caret-container' />");this.$caret=Tr('<button class="msos-caret-button" tabindex="-1"><span class="msos-glyph" /></button>').attr("aria-label",this.config.texts.dropdownToggleLabel).click(function(){s.toggle(!0)}),t.append(this.$caret);var i=Tr("<div class='msos-filter-container' />"),e=Tr('<div class="msos-input-container"/>').append(this.$input);i.append(e).append(t),this.$innerContainer=Tr("<div class='msos-inner-container' />").attr("role","combobox").attr("aria-haspopup","true").attr("aria-expanded","false").attr("aria-activedescendant",null).on("mousedown",function(t){if(s.config.fullscreenCombobox&&t.target&&t.target===this)return!1}).append(i),this.$selection=Tr('<ul class="msos-selected-items msos-selection" role="listbox" tabindex="-1" />').attr("aria-multiselectable",this.config.showSelectAll).attr("aria-labelledby",this.config.labelledBy),this.$selectionContainer=Tr('<div class="msos-selection-container" />').append(this.$noResultsItem).append(this.$selection).appendTo(this.$innerContainer),this.$container=Tr('<div id={0}_i class="msos-container" />'.replace("{0}",this.config.key)).data(this.DATA_KEY,this).toggleClass("msos-active msos-focused",this.config.alwaysActive),this.config.isControlDisabled||this.$container.append(this.$alertContainer).append(this.$selectedItemsInstructions).append(this.$comboboxInstructions),this.$container.append(this.$innerContainer).insertBefore(this.$originalElement),this.$selectedItemsContainer=Tr("<div class='msos-selecteditems-container' />"),this.$selectedItemsToggleContainer=Tr("<div class='msos-selecteditems-toggle-container' />"),this.$selectedItemsToggleButton=Tr("<button class='msos-selecteditems-toggle msos-invisible' tabindex='-1' aria-hidden='true' />").text(this.config.texts.expand).on("click",function(){s._toggleSelectedItemsContainerHeight(),s.$currentSelectionContainer.focus()}),this.$selectedItemsToggleContainer.append(this.$selectedItemsToggleButton),this.$currentSelectionContainer=Tr("<ul class='msos-selecteditems msos-current-selection-normal' />").attr("tabindex",this.config.alwaysActive?"0":"-1").attr("aria-describedby",this.$selectedItemsInstructions.attr("id")).attr("aria-labelledby",this.config.labelledBy).on("focus",function(t){var i=Tr(this);i.children().removeClass("msos-selecteditem-active");var e,n,r=i.attr("aria-activedescendant")||s._getSelectedItems().first().attr("id");r&&(e=s.formatString("#{0}",r),(n=i.find(e).first()).length&&(n.hasClass("msos-visible")||s.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")||(r=(n=s._getVisibleSelectedItems().first()).attr("id")),n.addClass("msos-selecteditem-active"),i.attr("aria-activedescendant",r)))}).on("blur",function(){Tr(this).removeClass("msos-selecteditems-focused")}),this.config.showSelectionBelowList?(this.$selectedItemsContainer.append(this.$selectedItemsToggleContainer),this.$selectedItemsContainer.append(this.$currentSelectionContainer)):(this.$selectedItemsContainer.append(this.$currentSelectionContainer),this.$selectedItemsContainer.append(this.$selectedItemsToggleContainer)),this.$selectedItemsContainer.insertBefore(this.$innerContainer);var n,r,o,a,h,c,u=this.config.key+"_viewmodecontainer";this.$viewmodeContainer=Tr("<div class='msos-viewmode-container' id='"+u+"' />"),this.$viewmodeContent=Tr("<div class='msos-viewmode-content' />"),this.$viewmodeText=Tr("<div class='msos-viewmode-text' />"),this.$viewmodeContent.append(this.$viewmodeText),this.$viewmodeContainer.append(this.$viewmodeContent),this.$viewmodeButtonContainer=Tr("<div class='msos-viewmode-button-container' />"),this.$viewmodeExpansionToggle=Tr("<button class='msos-viewmode-button'><span class='msos-glyph' /></button>").attr({"aria-controls":u,"aria-expanded":!1,"aria-label":this.config.texts.viewmodeExpandCollapseLabel}).on("click",function(t){s.$viewmodeContainer.toggleClass("msos-viewmode-expanded");var i=s.$viewmodeContainer.hasClass("msos-viewmode-expanded");Tr(this).attr("aria-expanded",i)}),this.$viewmodeButtonContainer.append(this.$viewmodeExpansionToggle),this.$viewmodeContainer.append(this.$viewmodeButtonContainer),this.$viewmodeContainer.insertBefore(this.$selectedItemsContainer),this.config.multiple&&this.config.showSelectAll&&(n='<input type="checkbox" class="msos-checkbox" id={0} tabindex="-1">'.replace("{0}",this.config.key+"_selectAll"),this.$selectAllCheckbox=Tr(n).click(function(t){s._announce(""),s.toggleSelectAll(this)}).on("focus",function(){var t=Tr(this);t.parent().addClass("msos-option-focused");var i=t.attr("id");s.$innerContainer.attr("aria-activedescendant",i)}).on("blur",function(){var t=Tr(this);t.parent().removeClass("msos-option-focused");var i=t.attr("id");s.$innerContainer.attr("aria-activedescendant")===i&&s.$innerContainer.attr("aria-activedescendant",null)}).attr("aria-label",this.config.texts.selectAll+" "+this.formatString(this.config.texts.totalItems,this.config.data.length)),r=Tr(this.formatString('<label name={0} class="msos-label msos-selectall msos-option">',this.config.key+"msos-label")),o='<div class="msos-optionitem-text">{0}</div>'.replace("{0}",this.config.texts.selectAll),a=this.formatString('<div id={0} class="msos-itemcount-text">{1}</div>',this.config.key+"msos-no-of-Items",this.formatString(this.config.texts.totalItems,this.config.data.length)),this.$numberOfItemsDiv=Tr(a),h=Tr('<div class="msos-label-text" aria-hidden="true"></div></label>').append(o).append(this.$numberOfItemsDiv),c=Tr(r).append(this.$selectAllCheckbox).append(h),this.$actionButtons=Tr('<div class="msos-action-buttons"/>').append(c),this.$selectionContainer.prepend(this.$actionButtons)),this.config.isControlDisabled&&this.toggleControlState(this.config.isControlDisabled),Tr.isFunction(this.config.events.onRendered)&&this.config.events.onRendered.call(this,this)},_scrollSelectedItemIntoView:function(t){if(t&&t.length&&this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")){var i=t.get(0);if(Element.prototype.scrollIntoViewIfNeeded)i.scrollIntoViewIfNeeded();else{var e=this.$currentSelectionContainer.scrollTop(),n=this.$currentSelectionContainer.outerHeight(!0),r=e,s=e+n,o=i.offsetTop,a=o-parseInt(Or.getComputedStyle(i).getPropertyValue("margin-top"),10),h=o+i.offsetHeight;if(r<=a&&h<=s)return;var c=Math.max(a-Math.floor(.5*n),0);this.$currentSelectionContainer.scrollTop(c)}}},_initializeInputEvents:function(){var i,e=this,t=this.$input.parents("form").first();t&&1===t.length&&!t.data(this.WINDOW_EVENTS_KEY)&&(i=function(){var r=[];t.find(".msos-option input").each(function(t,i){var e=Tr(i),n=e.data("msos-item").selected;e.prop("checked")!==n&&(e.prop("checked",n).trigger("change",n),r.push(e))}),0<r.length&&Tr.isFunction(e.config.events.onChange)&&e.config.events.onChange.call(e,e,r)},t.on("reset",function(t){i.call(e),setTimeout(function(){i.call(e)},100)}),t.data(this.WINDOW_EVENTS_KEY,!0)),this.$input.on("input",function(){e._applySearchTermFilter(),0<(e.$input.val()||"").length&&e.open(),e.repositionFlyOut()}),this.$container.on("focusin",function(t){e.blurTimerId&&clearTimeout(e.blurTimerId),e._onPointerDown()}).on("keydown",function(t){switch(t.keyCode.toString()||t.key||t.code){case"Escape":case"27":e._handleEscape(t);break;case"Tab":case"9":e._handleTab(t);break;case"Enter":case"13":e._handleEnter(t);break;case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":case"Numpad2":case"Numpad4":case"Numpad6":case"Numpad8":case"37":case"38":case"39":case"40":case"98":case"100":case"102":case"104":e._handleArrows(t);break;case"Backspace":case"Delete":case"8":case"46":e._handleDelete(t)}}),this.$container.bind({mouseenter:function(){e._onPointerEnter.call(e),Tr.isFunction(e.config.events.onPointerEnter)&&e.config.events.onPointerEnter.call(e)},mouseleave:function(){e._onPointerLeave.call(e),Tr.isFunction(e.config.events.onPointerLeave)&&e.config.events.onPointerLeave.call(e)},mousedown:function(){e._onPointerDown.call(e),Tr.isFunction(e.config.events.onPointerDown)&&e.config.events.onPointerDown.call(e)},mouseup:function(){Tr.isFunction(e.config.events.onPointerUp)&&e.config.events.onPointerUp.call(e)}})},_handleTab:function(t){if(!this.config.isControlDisabled){for(var i=this._getFocusableElements(),e=Tr(Yr.activeElement),n=0;n<i.length;n++){var r=i[n];if(e.is(r)){var s=t.shiftKey?n-1:n+1;if(i[s])return i[s].focus(),t.preventDefault(),void t.stopPropagation();break}}this.blurTimerId&&clearTimeout(this.blurTimerId);var o=this;this.blurTimerId=setTimeout(function(){o._deactivateControl()},this.blurTimerTimeout)}},_handleEscape:function(t){var i;if(Tr(Yr.activeElement).is(this.$currentSelectionContainer))return this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")&&(i=this.$currentSelectionContainer.attr("aria-activedescendant"),Tr(i).hasClass("msos-visible")||this._updateCurrentlySelectedItem(this._getVisibleSelectedItems().first()),this._collapseSelectedItemsContainer()),void t.stopPropagation();this.isOpen()&&(this.$input.val("").trigger("input").focus(),this.close(),t.stopPropagation())},_handleEnter:function(t){var i=Tr(Yr.activeElement);return i.is(this.$input)?(this.open(),void t.preventDefault()):i.is(this.$currentSelectionContainer)?(this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")||this._toggleSelectedItemsContainerHeight(),void t.preventDefault()):void 0},_handleArrows:function(t){var i=Tr(Yr.activeElement),e=i.is(this.$currentSelectionContainer),n=i.is(this.$input),r=i.hasClass("msos-checkbox");if(e||n||r){var s=this._getArrowKey(t);if(s){var o,a,h="left"===s||"up"===s?-1:1,c=null,u=null;if(n){if("up"!==s&&"down"!==s)return;if(this.$noResultsItem.hasClass("msos-hidden")&&1==h){this.isClosed()&&this.open();var l=this._getFilteredDropdownItemCheckboxes();return l.length&&l.first().focus(),void t.preventDefault()}this.isOpen()&&-1==h&&(this.close(!0),t.preventDefault())}else{if(-1!==(a=e?(c=this._getSelectedItems(),o=Tr("#"+i.attr("aria-activedescendant")),c.index(o)):(c=this._getFilteredDropdownItemCheckboxes()).index(i)))return-1==h&&0===a?r&&this.$input.focus():1==h&&a===c.length-1||(u=c.eq(a+h),e?(u.hasClass("msos-visible")||this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")||this._toggleSelectedItemsContainerHeight(),this._updateCurrentlySelectedItem(u)):u.focus()),void t.preventDefault();t.preventDefault()}}}},_handleDelete:function(t){var i,e=Tr(Yr.activeElement);!e.eq(this.$currentSelectionContainer)||(i=Tr("#"+e.attr("aria-activedescendant"))).length&&(i.find(".msos-quick-delete").trigger("mouseup"),t.preventDefault())},_getArrowKey:function(t){switch(t.keyCode.toString()||t.key||t.code){case"ArrowLeft":case"37":case"Numpad4":case"100":return"left";case"ArrowUp":case"38":case"Numpad8":case"104":return"up";case"ArrowRight":case"39":case"Numpad6":case"102":return"right";case"ArrowDown":case"40":case"Numpad2":case"98":return"down";default:return""}},_getArrowKeyDirection:function(t){var i=0,e=null;switch(t.keyCode.toString()||t.key||t.code){case"ArrowLeft":case"37":case"Numpad4":case"100":i=-1,e="left";break;case"ArrowUp":case"38":case"Numpad8":case"104":i=-1,e="up";break;case"ArrowRight":case"39":case"Numpad6":case"102":i=1,e="right";break;case"ArrowDown":case"40":case"Numpad2":case"98":i=1,e="down"}return{direction:i,arrow:e}},_updateCurrentlySelectedItem:function(t){t&&(this.$currentSelectionContainer.children().removeClass("msos-selecteditem-active"),this._updateSelectedItemsActiveDescendant(t),t.addClass("msos-selecteditem-active"),this._scrollSelectedItemIntoView(t))},_updateSelectedItemsActiveDescendant:function(t){t&&this.$currentSelectionContainer.attr("aria-activedescendant",t.attr("id"))},_collapseSelectedItemsContainerIfNeeded:function(){var t=this._getSelectedItems();(t.length<2||t.last().offset().top===t.first().offset().top)&&this._collapseSelectedItemsContainer()},_toggleSelectedItemsContainerHeight:function(){this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")?this._collapseSelectedItemsContainer():this._expandSelectedItemsContainer()},_applySearchTermFilter:function(){var t,i,e;this.items&&0!==this.items.length&&(t=(this.$input.val()||"").toLowerCase(),this.$selectionContainer.find(".msos-filtered-search").removeClass("msos-filtered-search"),this._setNoResultsItemVisible(!1),0<t.trim().length&&this._findTerms(this.items,t),i=this.getNonFilteredOptions().length,this.$selectAllCheckbox&&(this.$numberOfItemsDiv.text(this.formatString(this.config.texts.totalItems,i)),this.$selectAllCheckbox.prop("checked",this.areAllOptionsChecked())),0<i&&(e=this.config.texts.resultsFound.replace("{0}",i),this._announce(e)))},_findTerms:function(t,n){var r;t&&Tr.isArray(t)&&0!==t.length&&(r=this,Tr.each(t,function(t,i){var e;"option"===i.type?(e=i.displayElement,-1===(i.label+" "+i.tooltip).trim().toLowerCase().indexOf(n)&&e.addClass("msos-filtered-search")):(r._findTerms(i.children,n),0===i.displayElement.find(".msos-option:not(.msos-filtered-search)").length&&i.displayElement.addClass("msos-filtered-search"))}),this._setNoResultsItemVisible(0===this.getNonFilteredOptions().length))},_initializeData:function(){this.config.data?Tr.isFunction(this.config.data)?this.items=this._fetchDataFromFunction(this.config.data):Tr.isArray(this.config.data)?this.items=this._fetchDataFromArray(this.config.data):sr(this.config.data)===sr("a string")?this._loadItemsFromUrl(this.config.data):this._showErrorLabel("Unknown data type"):this.items=this._detectDataFromOriginalElement(),this.items&&this._processDataItems(this.items)},_detectDataFromOriginalElement:function(){if("select"===this.$originalElement.prop("tagName").toLowerCase()){var s=this,o=[];return Tr.each(this.$originalElement.children(),function(t,i){var e,n=Tr(i),r=n.prop("tagName").toLowerCase();"option"===r?(e=s._processSelectOption(n))&&o.push(e):"optgroup"===r?(e=s._processSelectOptgroup(n))&&o.push(e):s._showErrorLabel("Invalid element found in select: "+r+". Only option and optgroup are allowed")}),this._invokeConverterIfNeccessary(o)}if(this.$originalElement.data("sol-data")){var t=this.$originalElement.data("sol-data");return this._invokeConverterIfNeccessary(t)}this._showErrorLabel('Could not determine data from original element. Must be a select or data must be provided as data-sol-data="" attribute')},_processSelectOption:function(t){return Tr.extend({},this.SOL_OPTION_FORMAT,{value:t.val(),selected:t.prop("selected"),disabled:t.prop("disabled"),label:t.html(),tooltip:t.attr("title"),element:t})},_processSelectOptgroup:function(t){var r=this,s=Tr.extend({},this.SOL_OPTIONGROUP_FORMAT,{label:t.attr("label"),tooltip:t.attr("title"),disabled:t.prop("disabled"),children:[]}),i=t.children("option");return Tr.each(i,function(t,i){var e=Tr(i),n=r._processSelectOption(e);s.disabled&&(n.disabled=!0),s.children.push(n)}),s},_fetchDataFromFunction:function(t){return this._invokeConverterIfNeccessary(t(this))},_fetchDataFromArray:function(t){return this._invokeConverterIfNeccessary(t)},_loadItemsFromUrl:function(n){var r=this;Tr.ajax(n,{success:function(t){r.items=r._invokeConverterIfNeccessary(t),r.items&&r._processDataItems(r.items)},error:function(t,i,e){r._showErrorLabel("Error loading from url "+n+": "+e)}})},_invokeConverterIfNeccessary:function(t){return Tr.isFunction(this.config.converter)?this.config.converter.call(this,this,t):t},_processDataItems:function(t){var e,n;t?0!==t.length?(e=this,n=t,Tr.each(t,function(t,i){if(i.type===Hr.prototype.SOL_OPTION_FORMAT.type)e._renderOption(i,t,n.length);else{if(i.type!==Hr.prototype.SOL_OPTIONGROUP_FORMAT.type)return void e._showErrorLabel("Invalid item type found "+i.type);e._renderOptiongroup(i)}}),this.config.showSelectAll&&this.$selectionContainer.find('input[type="checkbox"]:not([disabled]):checked').length===t.length&&this.$selectAllCheckbox.prop("checked",!0),Tr.isFunction(this.config.events.onInitialized)&&this.config.events.onInitialized.call(this,this,t)):this._setNoResultsItemVisible(!0):this._showErrorLabel("Data items not present. Maybe the converter did not return any values")},_renderOption:function(t,n,i,e){var r,s,o=this,a=e||this.$selection,h=Tr('<div class="msos-label-text msos-optionitem-text" aria-hidden="true"/>').html(0===t.label.trim().length?"&nbsp;":t.label),c=this._getNameAttribute();this.config.multiple?(r='<input type="checkbox" id={0} class="msos-checkbox" name={0} tabindex="-1">'.split("{0}").join(this.config.key+"_checkbox"),s=Tr(r).attr("aria-label",t.tooltip),this.config.useBracketParameters&&(c+="[]")):s=Tr('<input type="radio" class="msos-radio"/>').on("change",function(){o.$selectionContainer.find('input[type="radio"][name="'+c+'"]').not(Tr(this)).trigger("msos-deselect")}).on("msos-deselect",function(){o._removeSelectionDisplayItem(Tr(this))}),s.attr("id",this.config.key+"_item"+(n+1)).on("change",function(t,i,e){o.checkUncheckOption(Tr(this),i,n,e),o.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")&&o._collapseSelectedItemsContainerIfNeeded()}).on("focus",function(){var t=Tr(this);t.parent().addClass("msos-option-focused");var i=t.attr("id");o.$innerContainer.attr("aria-activedescendant",i)}).on("blur",function(){var t=Tr(this);t.parent().removeClass("msos-option-focused");var i=t.attr("id");o.$innerContainer.attr("aria-activedescendant")===i&&o.$innerContainer.attr("aria-activedescendant",null)}).data("msos-item",t).prop("checked",t.selected).prop("disabled",t.disabled).attr("name",c).val(t.value);var u=this.formatString('<label name={0} class="msos-label" />',this.config.key+"msos-label"),l=Tr(u).attr("title",t.tooltip).append(s).append(h),f=Tr('<li class="msos-option" role="option" />').append(l);t.displayElement=f,a.append(f),t.selected&&(f.addClass("msos-option-selected").attr("aria-selected","true"),this._addSelectionDisplayItem(s,n))},_renderOptiongroup:function(t){var e=this,i=Tr('<div class="msos-optiongroup-label"/>').attr("title",t.tooltip).html(t.label),n=Tr('<div class="msos-optiongroup"/>').append(i);t.disabled&&n.addClass("disabled");var r=t;Tr.isArray(t.children)&&Tr.each(t.children,function(t,i){e._renderOption(i,t,r.children.length,n)}),t.displayElement=n,this.$selection.append(n)},_updateSelectedItemsVisibility:function(){var n,t=this._getSelectedItems();t.length&&(n=null,t.each(function(t,i){var e=i.offsetTop;null===n&&(n=e),n===e?i.classList.add("msos-visible"):i.classList.remove("msos-visible")}))},_getSelectedItems:function(){return this.$currentSelectionContainer.children()},_getSelectedItemsCount:function(){return this._getSelectedItems().length},_getVisibleSelectedItems:function(){return this.$currentSelectionContainer.children(".msos-selected-display-item.msos-visible")},_getVisibleSelectedItemsCount:function(){return this._getVisibleSelectedItems().length},_getHiddenSelectedItems:function(){return this.$currentSelectionContainer.children(".msos-selected-display-item:not(.msos-visible)")},_getHiddenSelectedItemsCount:function(){return this._getHiddenSelectedItems().length},_getFocusableElements:function(){return[this._getSelectedItemsCount()?this.$currentSelectionContainer:null,this.$input].filter(function(t){return null!==t})},_getDropdownItems:function(){var t=this.$selectionContainer.find(".msos-option");return t.length?t:null},_getFilteredDropdownItems:function(){var t=this._getDropdownItems();if(t.length){var i=t.filter(".msos-option:not(.msos-filtered-search)");return i.length?i:null}},_getFilteredDropdownItemCheckboxes:function(){var t=this._getFilteredDropdownItems();if(!t.length)return null;var i=t.find(".msos-checkbox:not(.msos-filtered-search)");return i.length?i:null},_getDeselectButtons:function(){if(this._getSelectedItemsCount()){var t=this._getSelectedItems().find(".msos-quick-delete");return t&&t.length?t:null}return null},_getFirstDeselectButton:function(){if(this._getSelectedItemsCount()){var t=this._getDeselectButtons().first();return t&&t.length?t:null}return null},_getLastDeselectButton:function(){if(this._getSelectedItemsCount()){var t,i=this._getDeselectButtons();return(t=this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")?i.last():this._getVisibleSelectedItems().last().find(".msos-quick-delete"))&&t.length?t:null}return null},_getNextSelectedItem:function(){if(this._getSelectedItemsCount()<2)return null;var t=this.$currentSelectionContainer.attr("aria-activedescendant"),i=Tr("#"+t),e=this._getSelectedItems(),n=e.index(i);return-1===n?e.first():n===e.length-1?e.eq(n-1):e.eq(n+1)},_getNextDeselectButton:function(t){var i=Tr(t),e=this._getDeselectButtons();if(!e.length)return null;var n=e.index(i);return n<0?null:n<e.length-1?e.eq(n+1):n===e.length-1?e.eq(n-1):null},_getViewmodeText:function(){var t=this.$currentSelectionContainer.children(".msos-selected-display-item"),i=t.length,e=this.config.texts.noItemsSelected,n=this.config.texts.viewmodeItemsSeparator;return 0<i&&(e=Tr(t,".msos-selected-display-item-text").map(function(){return Tr(this).text()}).get().join(n)),e},_collapseViewmodeContainer:function(){this.$viewmodeContainer.removeClass("msos-viewmode-expanded")},_checkViewmodeOverflow:function(){var t=this.$viewmodeText.get(0);t.scrollWidth<=t.offsetWidth+1?this.$viewmodeButtonContainer.addClass("msos-hidden"):this.$viewmodeButtonContainer.removeClass("msos-hidden")},_updateSelectedItemsContainerClass:function(){var t="msos-none-selected";0===this._getSelectedItemsCount()?this.$container.addClass(t):this.$container.removeClass(t)},_updateSelectedItemsContainerTitle:function(t){t&&t!==this.config.texts.noItemsSelected?this.$selectedItemsContainer.attr("title",t):this.$selectedItemsContainer.removeAttr("title")},_populateViewmodeContainer:function(){var t=this._getViewmodeText();this.$viewmodeText.text(t),this.$viewmodeText.attr("title",t),this._checkViewmodeOverflow(),this._updateSelectedItemsContainerClass(),this._updateSelectedItemsContainerTitle(t)},_updateExpandSelectedItemsButtonText:function(t){var i;(t||this.$container.hasClass("msos-active"))&&(this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")||(this._updateSelectedItemsVisibility(),0<(i=this._getHiddenSelectedItemsCount())?this.$selectedItemsToggleButton.text(this.config.texts.expand.replace("{0}",i)).attr("aria-label",this.config.texts.expandLabel.replace("{0}",this._getHiddenSelectedItemsCount())).removeClass("msos-invisible"):this.$selectedItemsToggleButton.addClass("msos-invisible")))},_announce:function(t){null!=t&&this.$alertContainer.text(t)},_selectionChange:function(t,i,e,n){var r=t.siblings(".msos-optionitem-text").text(),s="";t.prop("checked")?(this._addSelectionDisplayItem(t,i),t.closest(".msos-option").addClass("msos-option-selected"),r&&(s=this.config.texts.selectedItemAdded.replace("{0}",r))):(this._removeSelectionDisplayItem(t),t.closest(".msos-option").removeClass("msos-option-selected"),r&&(s=this.config.texts.selectedItemRemoved.replace("{0}",r))),n||this._announce(s),t.closest(".msos-option").attr("aria-selected",t.prop("checked")),this.config.multiple?this.config.scrollTarget.trigger("scroll"):this.close(),!e&&Tr.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,t),this.debounceId&&clearTimeout(this.debounceId);var o=this;this.isSelectionChanging=!0,this.debounceId=setTimeout(function(){o._populateViewmodeContainer(),o._updateExpandSelectedItemsButtonText(),o.isSelectionChanging=!1},this.debounceTimeout)},_addSelectionDisplayItem:function(i,t){var e,n=i.data("msos-item"),r=n.displaySelectionItem,s=this;r||(e=Tr('<span class="msos-selected-display-item-text" />').html(n.label),r=Tr('<li class="msos-selected-display-item msos-visible" />').append(e).attr("name",this.config.key+"-selected-item-"+(t+1)).attr("id",this.config.key+"-selected-item-"+(t+1)).attr("tabindex","-1").attr("title","").attr("data-value",n.value).attr("aria-label",n.label+" for "+this.config.accessibilityLabel).appendTo(this.$currentSelectionContainer).on("mousedown",function(){var t=Tr(this);s._updateCurrentlySelectedItem(t),s.$currentSelectionContainer.focus()}),this.$currentSelectionContainer.attr("aria-activedescendant")===r.attr("id")&&r.addClass("msos-selecteditem-active"),(this.config.multiple||this.config.allowNullSelection)&&Tr('<button class="msos-quick-delete" tabindex="-1"><span class="msos-glyph" /></button>').attr("name",this.config.key+"-selected-item-delete-"+(t+1)).attr("aria-label",this.config.texts.deleteItemLabel.replace("{0}",n.label)).on("mouseup touchend",function(){var t=s._getNextSelectedItem();i.trigger("change",!1),t?(s._updateCurrentlySelectedItem(t),s.$currentSelectionContainer.focus()):s.$input.focus()}).appendTo(r),n.displaySelectionItem=r)},_removeSelectionDisplayItem:function(t){var i=t.data("msos-item"),e=i.displaySelectionItem;e&&(e.remove(),i.displaySelectionItem=void 0)},_setNoResultsItemVisible:function(t){t?(this._announce(this.config.texts.noItemsAvailable),this.$noResultsItem.removeClass("msos-hidden"),this.$actionButtons&&this.$actionButtons.addClass("msos-hidden"),this.$selection.addClass("msos-selection-hidden")):(this.$noResultsItem.addClass("msos-hidden"),this.$actionButtons&&this.$actionButtons.removeClass("msos-hidden"),this.$selection.removeClass("msos-selection-hidden"))},_positionFlyOut:function(t){this._updateSelectedItemsContainerClass();var i=this.$innerContainer.outerHeight(!1);t?this.$selectionContainer.css({bottom:i,top:"inherit"}):this.$selectionContainer.css({bottom:"inherit",top:i})},positionFlyOut:function(t){this._positionFlyOut(t)},isOpen:function(){return this.$container.hasClass("msos-open")},isClosed:function(){return!this.isOpen()},toggle:function(t){this.isOpen()?(t&&!this.isIE11&&this.$input.focus(),this.close()):(this.open(),this.$input.focus())},open:function(){this.isClosed()&&(this.$innerContainer.toggleClass("msos-fullscreen",this.config.fullscreenCombobox),Tr("body").toggleClass("msos-fullscreen",this.config.fullscreenCombobox),this.$container.addClass("msos-open"),this.$innerContainer.attr("aria-expanded","true"),this.$innerContainer.attr("aria-activedescendant",null),this.config.scrollTarget.bind("scroll",this.internalScrollWrapper).trigger("scroll"),Tr(Or).on("resize",this.internalScrollWrapper),Tr.isFunction(this.config.events.onOpen)&&this.config.events.onOpen.call(this,this),this.$input.focus(),this.forceOptionListRedraw())},forceOptionListRedraw:function(){var t,i=this.$selectionContainer.find(".msos-option:not(.msos-filtered-search):not(.msos-selectall)");i&&i.length&&(t=Tr(i[0])).css({display:"block"===t.css("display")?"":"block"})},close:function(t){this.isOpen()&&(this.$innerContainer.removeClass("msos-fullscreen"),Tr("body").removeClass("msos-fullscreen"),this.$selection.scrollTop(0),this.$container.removeClass("msos-open msos-compact"),this.$innerContainer.attr("aria-expanded","false"),this.$innerContainer.attr("aria-activedescendant",null),this.config.scrollTarget.unbind("scroll",this.internalScrollWrapper),Tr(Or).off("resize",this.internalScrollWrapper),t||(this.$input.val(""),this._applySearchTermFilter()),Tr.isFunction(this.config.events.onClose)&&this.config.events.onClose.call(this,this))},formatString:function(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var n=t,r=1;r<arguments.length;r++)var s=void 0===arguments[r]||null==arguments[r]?"":arguments[r].toString(),n=n.replace(new RegExp("\\{"+(r-1)+"\\}","g"),s);return n},toggleSelectAll:function(t){t.checked?this.selectAll():this.deselectAll(!1),this._updateExpandSelectedItemsButtonText(),this.$selectAllCheckbox.focus()},selectAll:function(){var t,i,e;this.config.showSelectAll&&this.config.multiple&&(t=this.getNonFilteredOptions().find('input[type="checkbox"]:not([disabled], :checked):not(.msos-selectall)').trigger("change",[!0,!0]),Tr.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,t),i=this.config.texts.selectAllSelect.replace("{0}",this.getNonFilteredOptions().length),e=this,setTimeout(function(){e._announce(i)},1e3))},deselectAll:function(t){var i;this.config.showSelectAll&&this.config.multiple&&(this.deselectAllInternal(t),i=this.config.texts.selectAllDeselect.replace("{0}",this.getNonFilteredOptions().length),this._announce(i))},deselectAllInternal:function(t){var i=(t?this.$selectionContainer:this.getNonFilteredOptions()).find('input[type="checkbox"]:not([disabled]):checked').trigger("change",[!1,!0]);Tr.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,i)},getValues:function(){var t=[];return this.$currentSelectionContainer.find(".msos-selected-display-item").each(function(){t.push(Tr(this).data("value"))}),t},setValues:function(t){var e;t&&t.length&&(e=this,t.forEach(function(t){var i=t;e.$selectionContainer.find(".msos-checkbox").filter(function(){if(null!=Tr(this).data("msos-item"))return Tr(this).data("msos-item").value===i}).trigger("change",[!0,!0])}))},toggleControlState:function(t){this.config.isControlDisabled=t,this.config.isControlDisabled?(this.$container.addClass("msos-disabled"),this._populateViewmodeContainer()):(this.$container.hasClass("msos-disabled")&&this._collapseViewmodeContainer(),this.$container.removeClass("msos-disabled"),this._updateExpandSelectedItemsButtonText())},checkUncheckOption:function(t,i,e,n){void 0!==i&&t.prop("checked",i),this._selectionChange(t,e,!1,n),this._updateExpandSelectedItemsButtonText(),this.$selectAllCheckbox&&this.$selectAllCheckbox.prop("checked",this.areAllOptionsChecked())},areAllOptionsChecked:function(){return 0===this.getNonFilteredOptions().find('input[type="checkbox"]:not([disabled], :checked)').length},getNonFilteredOptions:function(){return this.$selectionContainer.find(".msos-option:not(.msos-filtered-search):not(.msos-selectall)")},getSelection:function(){return this.$selection.find("input:checked")},storeControlState:function(){var t,i;this.currentHighlightedSelectionIndex=-1,null==this.$currentSelectionContainer||0<(t=this.$currentSelectionContainer.find(".msos-selected-display-item.keyboard-selection")).length&&(i=this.$currentSelectionContainer.find(".msos-selected-display-item"),this.currentHighlightedSelectionIndex=i.index(t))},restoreControlState:function(){var t;-1<this.currentHighlightedSelectionIndex&&(t=this.$currentSelectionContainer.find(".msos-selected-display-item"),Tr(t[this.currentHighlightedSelectionIndex]).addClass("keyboard-selection").focus()),this.isOpen()&&this.repositionFlyOut()},refreshControl:function(t){0<t.length?(this.storeControlState(),this.deselectAllInternal(!0),this.setValues(t),this.restoreControlState()):0<this.getValues().length&&this.deselectAllInternal(!0)},repositionFlyOut:function(){this.config.scrollTarget.bind("scroll",this.internalScrollWrapper).trigger("scroll"),Tr(Or).on("resize",this.internalScrollWrapper)}},Hr.defaults=Hr.prototype.defaults,Or.MultiSelectOptionSet=Hr,Tr.fn.multiSelectOptionSet=function(e){var n=[];return this.each(function(){var t=Tr(this),i=t.data(Hr.prototype.DATA_KEY);i?n.push(i):n.push(new Hr(t,e).init())}),1===n.length?n[0]:n};function Jr(t){var i=Q(t,!0),e=As.call(this,i);return!(this===as&&R(gs,i)&&!R(ws,i))&&(!(e||!R(this,i)||!R(gs,i)||R(this,is)&&this[is][i])||e)}function Wr(t){var i=t===as,e=ds(i?ws:E(t)),n=[];return ts(e,function(t){!R(gs,t)||i&&!R(as,t)||n.push(gs[t])}),n}var _r=_t.f,Xr={}.toString,Kr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Zr={f:function(t){return Kr&&"[object Window]"==Xr.call(t)?function(t){try{return _r(t)}catch(t){return Kr.slice()}}(t):_r(E(t))}},qr={f:St},$r=ht.f,ts=yr.forEach,is=T("hidden"),es="Symbol",ns="prototype",rs=St("toPrimitive"),ss=Tt.set,os=Tt.getterFor(es),as=Object[ns],hs=J.Symbol,cs=J.JSON,us=cs&&cs.stringify,ls=ot.f,fs=ht.f,ds=Zr.f,As=K.f,gs=ft("symbols"),ws=ft("op-symbols"),ms=ft("string-to-symbol-registry"),ps=ft("symbol-to-string-registry"),vs=ft("wks"),bs=J.QObject,Es=!bs||!bs[ns]||!bs[ns].findChild,Bs=W&&p(function(){return 7!=Ii(fs({},"a",{get:function(){return fs(this,"a",{value:7}).a}})).a})?function(t,i,e){var n=ls(as,i);n&&delete as[i],fs(t,i,e),n&&t!==as&&fs(as,i,n)}:fs,Cs=si&&"symbol"==typeof hs.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof hs},js=function(t,i,e){t===as&&js(ws,i,e),S(t);var n=Q(i,!0);return S(e),R(gs,n)?(e.enumerable?(R(t,is)&&t[is][n]&&(t[is][n]=!1),e=Ii(e,{enumerable:v(0,!1)})):(R(t,is)||fs(t,is,v(1,{})),t[is][n]=!0),Bs(t,n,e)):fs(t,n,e)};si||(Ot((hs=function(t){if(this instanceof hs)throw TypeError("Symbol is not a constructor");var i=arguments.length&&void 0!==t?String(t):void 0,e=N(i),n=function(t){this===as&&n.call(ws,t),R(this,is)&&R(this[is],e)&&(this[is][e]=!1),Bs(this,e,v(1,t))};return W&&Es&&Bs(as,e,{configurable:!0,set:n}),Gr(e,i)})[ns],"toString",function(){return os(this).tag}),K.f=Jr,ht.f=js,ot.f=Vr,_t.f=Zr.f=Lr,Xt.f=Wr,W&&(fs(hs[ns],"description",{configurable:!0,get:function(){return os(this).description}}),Ot(as,"propertyIsEnumerable",Jr,{unsafe:!0})),qr.f=function(t){return Gr(St(t),t)}),Qt({global:!0,wrap:!0,forced:!si,sham:!si},{Symbol:hs}),ts(Ei(vs),function(t){zr(t)}),Qt({target:es,stat:!0,forced:!si},{for:function(t){var i=String(t);if(R(ms,i))return ms[i];var e=hs(i);return ms[i]=e,ps[e]=i,e},keyFor:function(t){if(!Cs(t))throw TypeError(t+" is not a symbol");if(R(ps,t))return ps[t]},useSetter:function(){Es=!0},useSimple:function(){Es=!1}}),Qt({target:"Object",stat:!0,forced:!si,sham:!W},{create:function(t,i){return void 0===i?Ii(t):Pr(Ii(t),i)},defineProperty:js,defineProperties:Pr,getOwnPropertyDescriptor:Vr}),Qt({target:"Object",stat:!0,forced:!si},{getOwnPropertyNames:Lr,getOwnPropertySymbols:Wr}),Qt({target:"Object",stat:!0,forced:p(function(){Xt.f(1)})},{getOwnPropertySymbols:function(t){return Xt.f(Rt(t))}}),cs&&Qt({target:"JSON",stat:!0,forced:!si||p(function(){var t=hs();return"[null]"!=us([t])||"{}"!=us({a:t})||"{}"!=us(Object(t))})},{stringify:function(t){for(var i,e,n=[t],r=1;r<arguments.length;)n.push(arguments[r++]);if(e=i=n[1],(B(i)||void 0!==t)&&!Cs(t))return ri(i)||(i=function(t,i){if("function"==typeof e&&(i=e.call(this,t,i)),!Cs(i))return i}),n[1]=i,us.apply(cs,n)}}),hs[ns][rs]||ct(hs[ns],rs,hs[ns].valueOf),zi(hs,es),vt[is]=!0;var ys,xs,Is,Ms,Fs,Qs,Rs=ht.f,ks=J.Symbol;!W||"function"!=typeof ks||"description"in ks.prototype&&void 0===ks().description||(ys={},Mt(xs=function(t){var i=arguments.length<1||void 0===t?void 0:String(t),e=this instanceof xs?new ks(i):void 0===i?ks():ks(i);return""===i&&(ys[e]=!0),e},ks),(Is=xs.prototype=ks.prototype).constructor=xs,Ms=Is.toString,Fs="Symbol(test)"==String(ks("test")),Qs=/^Symbol\((.*)\)[^)]+$/,Rs(Is,"description",{configurable:!0,get:function(){var t=B(this)?this.valueOf():this,i=Ms.call(t);if(R(ys,t))return"";var e=Fs?i.slice(7,-1):i.replace(Qs,"$1");return""===e?void 0:e}}),Qt({global:!0,forced:!0},{Symbol:xs}));var Ss=[].sort,Ds=[1,2,3],Ns=p(function(){Ds.sort(void 0)}),Ts=p(function(){Ds.sort(null)}),Os=gi("sort");function Ys(c){return function(t,i,e){var n,r,s=String(F(t)),o=s.length,a=void 0===e?" ":String(e),h=jt(i);return h<=o||""==a?s:(n=h-o,(r=Us.call(a,Hs(n/a.length))).length>n&&(r=r.slice(0,n)),c?s+r:r+s)}}Qt({target:"Array",proto:!0,forced:Ns||!Ts||Os},{sort:function(t){return void 0===t?Ss.call(Rt(this)):Ss.call(Rt(this),Gn(t))}});var Us="".repeat||function(t){var i=String(F(this)),e="",n=Ct(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(i+=i))1&n&&(e+=i);return e},Hs=Math.ceil,zs=[Ys(!1),Ys(!0)][0],Gs=Math.abs,Ps=Date.prototype,Vs=Ps.getTime,Ls=Ps.toISOString,Js=p(function(){return"0385-07-25T07:06:39.999Z"!=Ls.call(new Date(-5e13-1))})||!p(function(){Ls.call(new Date(NaN))})?function(){if(!isFinite(Vs.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),i=this.getUTCMilliseconds(),e=t<0?"-":9999<t?"+":"";return e+zs(Gs(t),e?6:4,0)+"-"+zs(this.getUTCMonth()+1,2,0)+"-"+zs(this.getUTCDate(),2,0)+"T"+zs(this.getUTCHours(),2,0)+":"+zs(this.getUTCMinutes(),2,0)+":"+zs(this.getUTCSeconds(),2,0)+"."+zs(i,3,0)+"Z"}:Ls;Qt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Js},{toISOString:Js});var Ws,_s=1..toFixed,Xs=Math.floor,Ks=function(t,i,e){return 0===i?e:i%2==1?Ks(t,i-1,e*t):Ks(t*t,i/2,e)};function Zs(t){this.path=t}Qt({target:"Number",proto:!0,forced:_s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!p(function(){_s.call({})})},{toFixed:function(t){function i(t,i){for(var e=-1,n=i;++e<6;)n+=t*u[e],u[e]=n%1e7,n=Xs(n/1e7)}function e(t){for(var i=6,e=0;0<=--i;)e+=u[i],u[i]=Xs(e/t),e=e%t*1e7}function n(){for(var t,i=6,e="";0<=--i;)""===e&&0!==i&&0===u[i]||(t=String(u[i]),e=""===e?t:e+Us.call("0",7-t.length)+t);return e}var r,s,o,a,h=function(t){if("number"!=typeof t&&"Number"!=b(t))throw TypeError("Incorrect invocation");return+t}(this),c=Ct(t),u=[0,0,0,0,0,0],l="",f="0";if(c<0||20<c)throw RangeError("Incorrect fraction digits");if(h!=h)return"NaN";if(h<=-1e21||1e21<=h)return String(h);if(h<0&&(l="-",h=-h),1e-21<h)if(s=(r=function(){for(var t=0,i=h*Ks(2,69,1);4096<=i;)t+=12,i/=4096;for(;2<=i;)t+=1,i/=2;return t}()-69)<0?h*Ks(2,-r,1):h/Ks(2,r,1),s*=4503599627370496,0<(r=52-r)){for(i(0,s),o=c;7<=o;)i(1e7,0),o-=7;for(i(Ks(10,o,1),0),o=r-1;23<=o;)e(1<<23),o-=23;e(1<<o),i(1,1),e(2),f=n()}else i(0,s),i(1<<-r,0),f=n()+Us.call("0",c);return 0<c?l+((a=f.length)<=c?"0."+Us.call("0",c-a)+f:f.slice(0,a-c)+"."+f.slice(a-c)):l+f}}),Qt({target:"Object",stat:!0,forced:p(function(){Yi(1)}),sham:!Ni},{getPrototypeOf:function(t){return Yi(Rt(t))}}),Qt({target:"Object",stat:!0},{setPrototypeOf:Xi}),function(a){var s,t,i;function n(t,i){return null==t?null:f(i)?A(t.implementsInterface)&&t.implementsInterface(i)?t:null:t instanceof i?t:null}function f(t){return"string"==typeof t}function d(t){return"number"==typeof t}function r(t){return d(t)&&t==Math.round(t)}function e(t){return"boolean"==typeof t}function A(t){return"function"==typeof t}function g(t){return(t instanceof Date||"[object Date]"===Object.prototype.toString.call(t))&&!isNaN(t.getTime())}function o(t){return t instanceof Array||Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function w(t){return null!=t&&"object"==sr(t)&&!g(t)&&!o(t)}function h(t,i,e){if(null!=t){if(f(t))switch(i){case s.Number:var n=a.Globalize.parseFloat(t,e);return isNaN(n)?t:n;case s.Date:var r=a.Globalize.parseDate(t,e);return r||e||!t||(r=new Date(t)),r&&isFinite(r.getTime())?r:t;case s.Boolean:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t}if(i==s.String)return a.Globalize.format(t,e)}return t}function c(t,i){if(!t)throw"** Assertion failed in Wijmo: "+i}function m(t,i){return void 0===i&&(i=!0),c(i&&null==t||f(t),"String expected."),t}function u(t,i,e){if(void 0===i&&(i=!1),void 0===e&&(e=!1),c(i&&null==t||d(t),"Number expected."),e&&t&&t<0)throw"Positive number expected.";return t}function p(t,i){return void 0===i&&(i=!1),c(i&&null==t||e(t),"Boolean expected."),t}function v(t,i){return void 0===i&&(i=!0),c(i&&null==t||A(t),"Function expected."),t}a.getVersion=function(){return"5.20181.501"},a.setLicenseKey=function(t){a.Control._licKey=t},(i=a.Key||(a.Key={}))[i.Back=8]="Back",i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.Left=37]="Left",i[i.Up=38]="Up",i[i.Right=39]="Right",i[i.Down=40]="Down",i[i.Delete=46]="Delete",i[i.F1=112]="F1",i[i.F2=113]="F2",i[i.F3=114]="F3",i[i.F4=115]="F4",i[i.F5=116]="F5",i[i.F6=117]="F6",i[i.F7=118]="F7",i[i.F8=119]="F8",i[i.F9=120]="F9",i[i.F10=121]="F10",i[i.F11=122]="F11",i[i.F12=123]="F12",(t=s=a.DataType||(a.DataType={}))[t.Object=0]="Object",t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=3]="Boolean",t[t.Date=4]="Date",t[t.Array=5]="Array",a.tryCast=n,a.isPrimitive=function(t){return f(t)||d(t)||e(t)||g(t)},a.isString=f,a.isNullOrWhiteSpace=function(t){return null==t||t.replace(/\s/g,"").length<1},a.isNumber=d,a.isInt=r,a.isBoolean=e,a.isFunction=A,a.isUndefined=function(t){return void 0===t},a.isDate=g,a.isArray=o,a.isObject=w,a.isEmpty=function(t){for(var i in t)return!1;return!0},a.getUniqueId=function(t){for(var i=t,e=0;null!=document.getElementById(i);e++)i=t+e;return i},a.mouseToPage=function(t){if(t instanceof F)return t;if(t.touches&&0<t.touches.length&&(t=t.touches[0]),d(t.clientX)&&d(t.clientY))return new F(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."},a.getType=function(t){return d(t)?s.Number:e(t)?s.Boolean:g(t)?s.Date:f(t)?s.String:o(t)?s.Array:s.Object},a.changeType=h,a.toFixed=function(t,i,e){var n,r;return e?(n=(r=t.toString()).indexOf("."),r.indexOf("e")<0&&-1<n&&(r=r.substr(0,n+1+i),t=parseFloat(r))):(r=t.toFixed(i),t=parseFloat(r)),t},a.format=function(t,s,o){if((t=m(t)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var i,e,n,r=JSON.parse(t);f(r.count)&&(i=s[r.count],e=r.when,d(i)&&w(e)&&f(n=e[i]||e.other)&&(t=n))}catch(t){}return t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,i,e,n){var r=t;return i&&"{"!=i[0]&&s&&(r=s[i],n&&(r=a.Globalize.format(r,n)),o&&(r=o(s,i,n,r))),null==r?"":r})},a.clamp=function(t,i,e){return null!=t&&(null!=e&&e<t&&(t=e),null!=i&&t<i&&(t=i)),t},a.copy=function t(i,e){if(e)for(var n in e){var r;"_"!=n[0]&&(c(n in i,'Unknown property "'+n+'".'),r=e[n],i._copy&&i._copy(n,r)||(i[n]instanceof a.Event?A(r)&&i[n].addHandler(r):!w(r)||r instanceof Element||!i[n]||"itemsSource"==n?i[n]=r:t(i[n],r)))}},a.assert=c,a._deprecated=function(t,i){},a.asString=m,a.asNumber=u,a.asInt=function(t,i,e){if(void 0===i&&(i=!1),void 0===e&&(e=!1),c(i&&null==t||r(t),"Integer expected."),e&&t&&t<0)throw"Positive integer expected.";return t},a.asBoolean=p,a.asDate=function(t,i){var e;return void 0===i&&(i=!1),f(t)&&g(e=h(t,s.Date,"r"))&&(t=e),c(i&&null==t||g(t),"Date expected."),t},a.asFunction=v,a.asArray=function(t,i){return void 0===i&&(i=!0),c(i&&null==t||o(t),"Array expected."),t},a.asType=function(t,i,e){return void 0===e&&(e=!1),t=n(t,i),c(e||null!=t,i+" expected."),t},a.asEnum=function(t,i,e){if(void 0===e&&(e=!1),null==t&&e)return null;var n=i[t];return c(null!=n,"Invalid enum value."),d(n)?n:t},a.asCollectionView=function(t,i){if(void 0===i&&(i=!0),null==t&&i)return null;var e=n(t,"ICollectionView");return null!=e?e:(o(t)||c(!1,"Array or ICollectionView expected."),new a.collections.CollectionView(t))},a.hasItems=function(t){return null!=t&&null!=t.items&&0<t.items.length},a.toHeaderCase=function(t){return t&&t.length?t[0].toUpperCase()+t.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""},a.escapeHtml=function(t){return f(t)&&(t=t.replace(/[&<>"'\/]/g,function(t){return l[t]})),t};var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function b(t,i){if(t&&i){if(t instanceof HTMLElement&&t.classList&&!a.isIE9())return t.classList.contains(i);if(t.getAttribute){var e=new RegExp("(\\s|^)"+i+"(\\s|$)");return t&&e.test(t.getAttribute("class"))}}return!1}function E(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!a.isIE9())return void(t.indexOf(" ")<0?e.classList.add(t):t.split(" ").forEach(function(t){e.classList.add(t)}));e.setAttribute&&t.split(" ").forEach(function(t){var i;b(e,t)||(i=e.getAttribute("class"),e.setAttribute("class",i?i+" "+t:t))})}}function B(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!a.isIE9())return void(t.indexOf(" ")<0?n.classList.remove(t):t.split(" ").forEach(function(t){n.classList.remove(t)}));n.setAttribute&&t.split(" ").forEach(function(t){var i,e;b(n,t)&&(i=new RegExp("((\\s|^)"+t+"(\\s|$))","g"),(e=(e=n.getAttribute("class")).replace(i," ").replace(/ +/g," ").trim())?n.setAttribute("class",e):n.removeAttribute("class"))})}}function C(t,i,e){null==e&&(e=!b(t,i)),(e?E:B)(t,i)}function j(t,i,e,n){t&&(null!=e?n&&t.getAttribute(i)||t.setAttribute(i,e.toString()):t.removeAttribute(i))}function y(){var t,i=document.activeElement;return!i||(t=i.shadowRoot)&&t.activeElement&&(i=t.activeElement),i}function x(t){return t instanceof Element?t:f(t)?document.querySelector(t):t&&t.jquery?t[0]:null}function I(t,i){for(var e=i;e&&t;){if(e===t)return!0;e=e.parentNode||e.host}return!1}function M(t,i){var e=t?t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector:null;if(e)for(;t;t=t.parentNode)if(t instanceof Element&&e.call(t,i))return t;return null}a.hasClass=b,a.addClass=E,a.removeClass=B,a.toggleClass=C,a.setAttribute=j,a.setAriaLabel=function(t,i){j(t,"aria-label",i)},a.setSelectionRange=function(t,i,e){if(void 0===e&&(e=i),c(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),I(document.body,t)&&!t.disabled&&"none"!=t.style.display)try{return t.setSelectionRange(u(i),u(e),a.isIE()?null:"backward"),t.focus(),!0}catch(t){}return!1},a.disableAutoComplete=function(i){"autocomplete,autocorrect,autocapitalize,spellcheck".split(",").forEach(function(t){i.setAttribute(t,"spellcheck"==t?"false":"off")})},a.removeChild=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},a.getActiveElement=y,a.moveFocus=function(t,i){var e,n,r=function t(i){for(var e=[],n=i.querySelectorAll("input,select,textarea,button,a,div"),r=0;r<n.length;r++){var s=n[r];if(0<s.offsetHeight&&-1<s.tabIndex&&!s.disabled&&!M(s,"[disabled],.wj-state-disabled")){if(s instanceof HTMLAnchorElement&&!s.hasAttribute("href"))continue;if(a.isIE()&&!s.hasAttribute("tabindex")){if(s instanceof HTMLDivElement)continue;var o=a.Control.getControl(M(s,".wj-flexgrid"));if(o&&0==o.keyActionTab)continue}!a.Control.getControl(s)&&t(s).length||e.push(s)}}return e}(t),s=0;!i||-1<(e=r.indexOf(y()))&&(s=(e+i+r.length)%r.length),s<r.length&&((n=r[s]).focus(),n instanceof HTMLInputElement&&n.select())},a.getElement=x,a.createElement=function(t,i){var e=document.createElement("div");return e.innerHTML=t,1==e.children.length&&(e=e.children[0]),i&&(i=x(i)).appendChild(e),e},a.setText=function(t,i){t.textContent=i||""},a.contains=I,a.closest=M,a.closestClass=function(t,i){return M(t,"."+i)},a.enable=function(t,i){var e=!i;C(t,"wj-state-disabled",e),j(t,"disabled",e?"true":null);for(var n=t.querySelectorAll("input"),r=0;r<n.length;r++){var s=n[r];i?s.removeAttribute("disabled"):s.setAttribute("disabled","true")}},a.getElementRect=function(t){var i=t.getBoundingClientRect();return new S(i.left+pageXOffset,i.top+pageYOffset,i.width,i.height)},a.setCss=function t(i,e){if(c(w(e),"css parameter should be an object"),i instanceof Array)for(var n=0;n<i.length;n++)t(i[n],e);else if(i&&i.style){var r=i.style;for(var s in e){var o=e[s];"number"==typeof o&&s.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),r[s]!==o&&(r[s]=o.toString())}}},a.animate=function(i,e,t){void 0===e&&(e=a.Control._ANIM_DEF_DURATION),void 0===t&&(t=a.Control._ANIM_DEF_STEP),i=v(i),e=u(e,!1,!0),t=u(t,!1,!0);var n=Date.now(),r=setInterval(function(){var t=Math.min(1,(Date.now()-n)/e),t=Math.sin(t*Math.PI/2);t*=t,requestAnimationFrame(function(){i(t)}),1<=t&&clearInterval(r)},t);return r};var F=(Q.prototype.equals=function(t){return t instanceof Q&&this.x==t.x&&this.y==t.y},Q.prototype.clone=function(){return new Q(this.x,this.y)},Q);function Q(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=u(t),this.y=u(i)}a.Point=F;var R=(k.prototype.equals=function(t){return t instanceof k&&this.width==t.width&&this.height==t.height},k.prototype.clone=function(){return new k(this.width,this.height)},k);function k(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.width=u(t),this.height=u(i)}a.Size=R;var S=(Object.defineProperty(D.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),D.prototype.equals=function(t){return t instanceof D&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},D.prototype.clone=function(){return new D(this.left,this.top,this.width,this.height)},D.fromBoundingRect=function(t){return null!=t.left?new D(t.left,t.top,t.width,t.height):null!=t.x?new D(t.x,t.y,t.width,t.height):void c(!1,"Invalid source rectangle.")},D.union=function(t,i){var e=Math.min(t.left,i.left),n=Math.min(t.top,i.top);return new D(e,n,Math.max(t.right,i.right)-e,Math.max(t.bottom,i.bottom)-n)},D.intersection=function(t,i){var e=Math.max(t.left,i.left),n=Math.max(t.top,i.top);return new D(e,n,Math.min(t.right,i.right)-e,Math.min(t.bottom,i.bottom)-n)},D.prototype.contains=function(t){return t instanceof F?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof D?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void c(!1,"Point or Rect expected.")},D.prototype.inflate=function(t,i){return new D(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},D);function D(t,i,e,n){this.left=u(t),this.top=u(i),this.width=u(e),this.height=u(n)}a.Rect=S;var N=(T.addDays=function(t,i){return T.newDate(t.getFullYear(),t.getMonth(),t.getDate()+i)},T.addMonths=function(t,i){return T.newDate(t.getFullYear(),t.getMonth()+i,t.getDate())},T.addYears=function(t,i){return T.newDate(t.getFullYear()+i,t.getMonth(),t.getDate())},T.addHours=function(t,i){return T.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+i)},T.addMinutes=function(t,i){return T.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+i)},T.addSeconds=function(t,i){return T.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()+i)},T.sameDate=function(t,i){return g(t)&&g(i)&&t.getFullYear()==i.getFullYear()&&t.getMonth()==i.getMonth()&&t.getDate()==i.getDate()},T.sameTime=function(t,i){return g(t)&&g(i)&&t.getHours()==i.getHours()&&t.getMinutes()==i.getMinutes()&&t.getSeconds()==i.getSeconds()},T.equals=function(t,i){return g(t)&&g(i)&&t.getTime()==i.getTime()},T.fromDateTime=function(t,i){return t||i?(t=t||i,i=i||t,T.newDate(t.getFullYear(),t.getMonth(),t.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):null},T.toFiscal=function(t,i){var e=a.culture.Globalize.calendar;return o(e.fiscalYearOffsets)?T.addMonths(t,-e.fiscalYearOffsets[i?0:1]):t},T.fromFiscal=function(t,i){var e=a.culture.Globalize.calendar;return o(e.fiscalYearOffsets)?T.addMonths(t,+e.fiscalYearOffsets[i?0:1]):t},T.newDate=function(t,i,e,n,r,s,o){var a;null!=t&&null!=i&&null!=e||(a=new Date,null==t&&(t=a.getFullYear()),null==i&&(i=a.getMonth()),null==e&&(e=a.getDate())),null==n&&(n=0),null==r&&(r=0),null==s&&(s=0),null==o&&(o=0);var h=new Date(t,i,e,n,r,s,o),c=h.getFullYear();return t<100&&1900<=c&&h.setFullYear(h.getFullYear()-1900),h},T.clone=function(t){return T.fromDateTime(t,t)},T);function T(){}a.DateTime=N,a.httpRequest=function(t,i){var e=(i=i||{}).method?m(i.method).toUpperCase():"GET",n=null==i.async||p(i.async),r=i.data;if(null!=r&&"GET"==e){var s,o=[];for(var a in r){var h=r[a];g(h)&&(h=h.toJSON()),o.push(a+"="+h)}o.length&&(s=t.indexOf("?")<0?"?":"&",t+=s+o.join("&")),r=null}var c=new XMLHttpRequest;c.URL_DEBUG=t;var u=!1;if(null==r||f(r)||(u=w(r),r=JSON.stringify(r)),c.onload=function(){4==c.readyState&&(c.status<300?i.success&&v(i.success)(c):i.error&&v(i.error)(c),i.complete&&v(i.complete)(c))},c.onerror=function(){if(!A(i.error))throw"HttpRequest Error: "+c.status+" "+c.statusText;i.error(c)},c.open(e,t,n,i.user,i.password),i.user&&i.password&&c.setRequestHeader("Authorization","Basic "+btoa(i.user+":"+i.password)),u&&c.setRequestHeader("Content-Type","application/json"),i.requestHeaders)for(var l in i.requestHeaders)c.setRequestHeader(l,i.requestHeaders[l]);return d(i.timeout)&&(c.timeout=i.timeout),A(i.beforeSend)&&i.beforeSend(c),c.send(r),c}}(ru||(window.wijmo=ru={})),function(D){D.culture=window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}};var t=(N.format=function(t,i,e,n){return D.isString(t)?t:D.isNumber(t)?(i=i||(t==Math.round(t)?"n0":"n2"),N.formatNumber(t,i,e,n)):D.isDate(t)?N.formatDate(t,i=i||"d"):null!=t?t.toString():""},N.formatNumber=function(t,i,e,n){t=D.asNumber(t),i=D.asString(i);var r,s,o,a,h,c,u=D.culture.Globalize.numberFormat,l=i?i.match(/([a-z])(\d*)(,*)(.*)/i):null,f=l?l[1].toLowerCase():"n",d=l&&l[2]?parseInt(l[2]):"c"==f?u.currency.decimals:t==Math.round(t)?0:2,A=l&&l[3]?3*l[3].length:0,g=u["."]||".",w=u[","]||",",m=u["-"]||"-";if(A&&(t/=Math.pow(10,A)),"d"!=f&&"x"!=f)return"p"==f&&(t=N._mul100(t),t=D.toFixed(t,d,n)),n&&"p"!=f&&(t=D.toFixed(t,d,!0)),o=N._toFixedStr("c"==f||"p"==f?Math.abs(t):t,d),(e||"g"==f)&&-1<o.indexOf(".")&&(o=(o=o.replace(/(\.[0-9]*?)0+$/g,"$1")).replace(/\.$/,"")),"."!=g&&(o=o.replace(".",g)),"-"!=m&&(o=o.replace("-",m)),!w||"n"!=f&&"c"!=f&&"p"!=f||(s=/\B(?=(\d\d\d)+(?!\d))/g,o=-1<(r=o.indexOf(g))?o.substr(0,r).replace(s,w)+o.substr(r):o.replace(s,w)),"c"==f&&(a=u.currency.pattern[t<0?0:1],"â"==(h=l&&l[4]?l[4]:u.currency.symbol)&&(h=""),o=a.replace("n",o).replace("$",h)),"p"==f&&(a=u.percent.pattern[t<0?0:1],c=u["%"]||"%",o=a.replace("n",o),"%"!=c&&(o=o.replace("%",c)),"-"!=m&&t<0&&(o=o.replace("-",m))),o;for(o=Math.round(Math.abs(t)).toString("d"==f?10:16);o.length<d;)o="0"+o;return t<0&&(o=m+o),i&&"X"==i[0]&&(o=o.toUpperCase()),o},N.formatDate=function(t,i){switch(t=D.asDate(t),i){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}i=N._expandFormat(i);for(var e=N._parseDateFormat(i),n="",r=0;r<e.length;r++)n+=N._formatDatePart(t,i,e[r]);return n},N.parseInt=function(t,i){return Math.round(N.parseFloat(t,i))},N.parseFloat=function(t,i){var e,n,r=D.culture.Globalize.numberFormat,s=r["-"]||"-",o=r["%"]||"%",a=-1<t.indexOf(s)||-1<t.indexOf("(")&&-1<t.indexOf(")")?-1:1,h=-1<t.indexOf(o)?.01:1,c=i?i.match(/,+/):null,u=c?3*c[0].length:0;return(!i||"x"!=i[0]&&"X"!=i[0]?(e=r["."]||".",n=new RegExp("[^\\d\\"+e+"]","g"),t=t.replace(n,"").replace(e,"."),parseFloat(t)):(t=t.replace(/[^0-9a-f]+.*$/gi,""),parseInt(t,16)))*a*h*Math.pow(10,u)},N.parseDate=function(t,i,e){if(!(t=D.asString(t)))return null;if("u"==i)return new Date(t);var n;if("R"==i||"r"==i){var r=t.match(/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/);return r[1]||r[5]?(n=r[1]?new Date(parseInt(r[2]),parseInt(r[3])-1,parseInt(r[4])):new Date,r[5]&&(n.setHours(parseInt(r[6])),n.setMinutes(parseInt(r[7])),n.setSeconds(r[8]?parseInt(r[9]):0))):n=new Date(t),isNaN(n.getTime())?null:n}i=N._expandFormat(i||"d");var s,o,a,h,c,u,l=D.culture.Globalize.calendar,f=N._CJK,d=new RegExp("(\\"+l["/"]+")|(\\"+l[":"]+")|(\\d+)|(["+f+"\\.]{2,})|(["+f+"]+)","gi"),A=t.match(d),g=N._parseDateFormat(i),w=0,m=-1,p=0,v=1,b=0,E=0,B=0,C=0,j=-1;if(!(A&&A.length&&g&&g.length))return null;for(var y=0;y<g.length&&A;y++){var x=y-w,I=-1<x&&x<A.length?A[x]:"",M=g[y].length;switch(g[y]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":u=g[y];case"yyyy":case"yyy":case"yy":case"y":1<M&&I.length>M&&(A[x]=I.substr(M),I=I.substr(0,M),w++),m=parseInt(I),c=4==I.length;break;case"MMMM":case"MMM":h=!0;for(var F=I.toLowerCase(),p=-1,Q=0;Q<12;Q++)if(0==l.months[Q].toLowerCase().indexOf(F)){p=Q;break}if(-1<p)break;case"MM":case"M":h=!0,1<M&&I.length>M&&(A[x]=I.substr(M),I=I.substr(0,M),w++),p=parseInt(I)-1;break;case"dddd":case"ddd":s=!0;break;case"dd":case"d":1<M&&I.length>M&&(A[x]=I.substr(M),I=I.substr(0,M),w++),v=parseInt(I),o=!0;break;case"hh":case"h":1<M&&I.length>M&&(A[x]=I.substr(M),I=I.substr(0,M),w++),b=12==(b=parseInt(I))?0:b;break;case"HH":1<M&&I.length>M&&(A[x]=I.substr(M),I=I.substr(0,M),w++),b=parseInt(I);break;case"H":b=parseInt(I);break;case"mm":case"m":1<M&&I.length>M&&(A[x]=I.substr(M),I=I.substr(0,M),w++),E=parseInt(I);break;case"ss":case"s":1<M&&I.length>M&&(A[x]=I.substr(M),I=I.substr(0,M),w++),B=parseInt(I);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":C=parseInt(I)/Math.pow(10,M-3);break;case"tt":case"t":I=I.toUpperCase(),b<12&&-1<l.pm.indexOf(I)&&(b+=12);break;case"q":case"Q":case"u":case"U":a=!0;break;case"ggg":case"gg":case"g":j=1<l.eras.length?N._getEra(I,l):-1;break;case l["/"]:case l[":"]:if(I&&I!=g[y])return null;break;case"K":break;default:N._unquote(g[y]).trim()!=I.trim()&&w++}}if(h&&o&&(isNaN(b)&&(b=0),isNaN(E)&&(E=0),isNaN(B)&&(B=0)),p<0||11<p||isNaN(p)||v<1||31<v||isNaN(v)||b<0||24<b||isNaN(b)||E<0||60<E||isNaN(E)||B<0||60<B||isNaN(B))return null;if(u){if(!h)return null;var R,k,S=D.culture.Globalize.calendar;D.isArray(S.fiscalYearOffsets)&&(R="E"==u[0],m+=11<(k=p-S.fiscalYearOffsets[R?0:1])?-1:k<0?1:0)}return s&&!o||a&&!h?null:(m<0&&(m=D.isDate(e)?e.getFullYear():(new Date).getFullYear()),-1<j?m=m+l.eras[j].start.getFullYear()-1:m<100&&!c&&(m+=m+2e3<(D.isNumber(l.twoDigitYearMax)?l.twoDigitYearMax:2029)?2e3:1900),v>new Date(m,p+1,0).getDate()?null:(n=D.DateTime.newDate(m,p,v,b,E+0,B,C),isNaN(n.getTime())?null:n))},N.getFirstDayOfWeek=function(){return D.culture.Globalize.calendar.firstDay||0},N.getNumberDecimalSeparator=function(){return D.culture.Globalize.numberFormat["."]||"."},N._toFixedStr=function(t,i){var e=t.toString(),n=e.indexOf("."),r=i-(e.length-n)+1;return e.indexOf("e")<0&&-1<n&&0<=r?e+Array(1+r).join("0"):t.toFixed(i)},N._unquote=function(t){return 1<t.length&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},N._parseDateFormat=function(t){if(t in N._dateFormatParts)return N._dateFormatParts[t];var i,e,n=[];if(t)for(i=0;-1<i&&i<t.length;i++){var r=t[i];if(("'"==r||'"'==r)&&-1<(e=t.indexOf(r,i+1)))n.push(t.substring(i,e+1)),i=e;else if("\\"==r&&i<t.length-1)i++,n.push('"'+t[i]+'"');else{for(e=i+1;e<t.length&&t[e]==r;e++);n.push(t.substring(i,e)),i=e-1}}return N._dateFormatParts[t]=n},N._formatDatePart=function(t,i,e){var n,r=D.culture.Globalize.calendar,s=0,o=0,a=0,h=e.length;switch(e){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":o=(n="E"==e[0]?D.DateTime.toFiscal(t,!0):"e"==e[0]?D.DateTime.toFiscal(t,!1):t).getFullYear(),1<r.eras.length&&-1<i.indexOf("g")&&-1<(s=N._getEra(t,r))&&(o=o-r.eras[s].start.getFullYear()+1);var c=e.length<3?o%100:3==e.length?o%1e3:o;return N._zeroPad(c,e.length);case"MMMMM":return r.monthsAbbr[t.getMonth()][0];case"MMMM":return r.months[t.getMonth()];case"MMM":return r.monthsAbbr[t.getMonth()];case"MM":case"M":return N._zeroPad(t.getMonth()+1,h);case"dddd":return r.days[t.getDay()];case"ddd":return r.daysAbbr[t.getDay()];case"dd":return N._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return N._zeroPad(N._h12(t),h);case"HH":case"H":return N._zeroPad(t.getHours(),h);case"mm":case"m":return N._zeroPad(t.getMinutes(),h);case"ss":case"s":return N._zeroPad(t.getSeconds(),h);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return a=t.getMilliseconds()*Math.pow(10,h-3),"f"==e[0]?N._zeroPad(a,h):a.toFixed(0);case"tt":return t.getHours()<12?r.am[0]:r.pm[0];case"t":return t.getHours()<12?r.am[1]:r.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return n=D.DateTime.toFiscal(t,"U"==e),(Math.floor(n.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":return 1<r.eras.length&&-1<(s=N._getEra(t,r))?"ggg"==e?r.eras[s].name:"gg"==e?r.eras[s].name[0]:r.eras[s].symbol:r.eras[0];case":":case"/":return r[e];case"K":var u=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return u?u[1]+u[2]+u[3]:"";case"zzz":case"zz":case"z":var l=-t.getTimezoneOffset(),f=void 0;switch(e){case"zzz":f=N.format(l/60,"d2",!1,!0)+r[":"]+N.format(l%60,"d2",!1,!0);break;case"zz":f=N.format(l/60,"d2",!1,!0);break;case"z":f=N.format(l/60,"d",!1,!0)}return 0<=l?"+"+f:f}return 1<h&&e[0]==e[h-1]&&('"'==e[0]||"'"==e[0])?e.substr(1,h-2):e},N._getEra=function(t,i){if(D.isDate(t)){for(var e=0;e<i.eras.length;e++)if(t>=i.eras[e].start)return e}else if(D.isString(t))for(e=0;e<i.eras.length;e++)if(i.eras[e].name&&(0==i.eras[e].name.indexOf(t)||0==i.eras[e].symbol.indexOf(t)))return e;return-1},N._expandFormat=function(t){return D.culture.Globalize.calendar.patterns[t]||t},N._zeroPad=function(t,i){var e=t.toFixed(0),n=i-e.length+1;return 0<n?Array(n).join("0")+e:e},N._h12=function(t){var i=D.culture.Globalize.calendar,e=t.getHours();return i.am&&i.am[0]&&0==(e%=12)&&(e=12),e},N._mul100=function(t){var i=t.toString(),e=i.indexOf(".");return-1<i.indexOf("e")?100*t:(e<0?i+="00":(e+=2,i=(i=i.replace(".","")+"00").substr(0,e)+"."+i.substr(e)),parseFloat(i))},N._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),N._dateFormatParts={},N);function N(){}D.Globalize=t,D._updateCulture=function(){D.culture=window.wijmo.culture}}(ru||(window.wijmo=ru={})),Ws=ru||(window.wijmo=ru={}),Object.defineProperty(Zs.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var i=0;i<this._parts.length;i++){var e=this._parts[i],n=e.indexOf("[");-1<n&&(this._parts[i]=e.substr(0,n),this._parts.splice(++i,0,parseInt(e.substr(n+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),Zs.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var i=0;i<this._parts.length&&t;i++)t=t[this._parts[i]]}return t},Zs.prototype.setValue=function(t,i){if(t){if(this._path in t)return void(t[this._path]=i);for(var e=0;e<this._parts.length-1;e++)if(null==(t=t[this._parts[e]]))return;t[this._parts[this._parts.length-1]]=i}},Ws.Binding=Zs;var qs,$s,to,io,eo,no,ro,so,oo,ao,ho,co,uo,lo,fo,Ao,go=window&&window.__extends||(qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}qs(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});function wo(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._onClickBnd=this._onClick.bind(this),this.element=t,this._connect(!0)}function mo(t){this._copyCss=!0,null!=t&&uo.copy(this,t)}function po(t,i){t.style.display="none",i&&t.parentElement&&setTimeout(function(){"none"==t.style.display&&(lo.removeChild(t),lo.isFunction(i)&&i())},lo.Control._FOCUS_INTERVAL+1);var e=t[lo.Control._SCRL_KEY];e instanceof lo.Control&&e.dispose(),delete t[lo.Control._SCRL_KEY],delete t[lo.Control._OWNR_KEY]}function vo(t){var i=window.jQuery,e=lo.isFunction(i)?i(t):null;return e&&lo.isFunction(e.dialog)&&lo.hasClass(t,"ui-dialog")}function bo(){}function Eo(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}!function(r){function e(t,i){this.handler=t,this.self=i}var t=(i.prototype.addHandler=function(t,i){t=r.asFunction(t),this._handlers.push(new e(t,i))},i.prototype.removeHandler=function(t,i){t=r.asFunction(t);for(var e=0;e<this._handlers.length;e++){var n=this._handlers[e];if((n.handler==t||null==t)&&(n.self==i||null==i)&&(this._handlers.splice(e,1),t&&i))break}},i.prototype.removeAllHandlers=function(){this._handlers.length=0},i.prototype.raise=function(t,i){void 0===i&&(i=s.empty);for(var e=0;e<this._handlers.length;e++){var n=this._handlers[e];n.handler.call(n.self,t,i)}},Object.defineProperty(i.prototype,"hasHandlers",{get:function(){return 0<this._handlers.length},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),i);function i(){this._handlers=[]}r.Event=t;var s=(n.empty=new n,n);function n(){}r.EventArgs=s;var o,a=(go(h,o=s),h);function h(){var t=null!==o&&o.apply(this,arguments)||this;return t.cancel=!1,t}r.CancelEventArgs=a;var c,u=(go(l,c=s),Object.defineProperty(l.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),l);function l(t,i,e){var n=c.call(this)||this;return n._name=t,n._oldVal=i,n._newVal=e,n}r.PropertyChangedEventArgs=u;var f,d=(go(A,f=a),Object.defineProperty(A.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"message",{get:function(){return this._msg},set:function(t){this._msg=t},enumerable:!0,configurable:!0}),A);function A(t,i){var e=f.call(this)||this;return e._xhr=t,e._msg=i,e}r.RequestErrorEventArgs=d}(ru||(window.wijmo=ru={})),go=window&&window.__extends||($s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}$s(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(C){C.controlBaseClass=window["wj-control-is-element"]?HTMLElement:Object;var t=!1;try{t=Array.prototype!==Array.prototype}catch(C){t=!0}var i,e=t||C.controlBaseClass!==Object,n=(i=C.controlBaseClass,go(r,i),r);function r(){var t=this;return e&&(t=i.call(this)||this),t}C.ControlBase=n;var A,s=(go(j,A=n),j.prototype.getTemplate=function(){for(var t=Object.getPrototypeOf(this);t;t=Object.getPrototypeOf(t)){var i=t.constructor.controlTemplate;if(i)return i}return null},j.prototype.applyTemplate=function(t,i,e,n){var r=this,s=this._e;t&&C.addClass(s,t);var o=null;i&&(o=C.createElement(i,s));for(var a=s.querySelectorAll("a.wj-btn"),h=0;h<a.length;h++){var c=a[h];C.setAttribute(c,"role","button",!0),C.setAttribute(c,"href","",!0),C.setAttribute(c,"draggable",!1,!0)}for(var u=s.querySelectorAll("button"),h=0;h<u.length;h++)C.setAttribute(u[h],"type","button",!0);var l,f,d,A=s.querySelectorAll("input"),g=1==A.length?A[0]:null;if(g&&(l=j._rxInputAtts,this._copyAttributes(g,s.attributes,l),this._copyAttributes(g,this._orgAtts,l)),g&&s.id){for(var w=s;w.parentElement;)w=w.parentElement;var m,p=w.querySelector('label[for="'+s.id+'"]');p instanceof HTMLLabelElement&&(m=C.getUniqueId(s.id+"_input"),g.id=m,p.htmlFor=m)}if(g&&(f=document.createEvent("HTMLEvents"),d=g.value,f.initEvent("change",!0,!1),this.addEventListener(g,"input",function(){r._pristine=!1,d=g.value},!0),this.gotFocus.addHandler(function(){d=g.value}),this.lostFocus.addHandler(function(){r._pristine&&(r._pristine=!1,r._updateState()),d!=g.value&&g.dispatchEvent(f)})),g?s.tabIndex=-1:s.getAttribute("tabindex")||(s.tabIndex=0),this._updateState(),e)for(var v in e){var b,E,B=e[v];if(this[v]=o.querySelector('[wj-part="'+B+'"]'),null==this[v]&&o.getAttribute("wj-part")==B&&(this[v]=o),null==this[v])throw'Missing template part: "'+B+'"';B==n&&(b="name",(E=s.attributes[b])&&E.value&&this[v].setAttribute(b,E.value),b="accesskey",(E=s.attributes[b])&&E.value&&(this[v].setAttribute(b,E.value),s.removeAttribute(b)))}return o},j.prototype.dispose=function(){for(var t=this._e.querySelectorAll(".wj-control"),i=0;i<t.length;i++){var e=j.getControl(t[i]);e&&e.dispose()}for(var n in this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.removeEventListener(),this)2<n.length&&0==n.indexOf("on")&&(r=this[n[2].toLowerCase()+n.substr(3)])instanceof C.Event&&r.removeAllHandlers();var r,s=this.collectionView;if(s instanceof C.collections.CollectionView)for(var n in s)(r=s[n])instanceof C.Event&&r.removeHandler(null,this);this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[j._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=null},j.getControl=function(t){var i=C.getElement(t);return i?C.asType(i[j._CTRL_KEY],j,!0):null},Object.defineProperty(j.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),j.prototype.focus=function(){var t=this._e;t&&(t.tabIndex<0?C.moveFocus(t,0):t.focus())},j.prototype.containsFocus=function(){var t=this._e,i=C.getActiveElement();if(!t)return!1;for(var e=i;e;){if(e==t)return!0;e=e[j._OWNR_KEY]||e.parentElement}return!1},j.prototype.invalidate=function(t){var i=this;void 0===t&&(t=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||t,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate),i._toInv=null},j._REFRESH_INTERVAL))},j.prototype.refresh=function(t){var i=this,e=this.hostElement;e&&(this._rtlDir="rtl"==getComputedStyle(e).direction,C.toggleClass(e,"wj-rtl",this._rtlDir)),this.isUpdating||(this.onRefreshing(),setTimeout(function(){i.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1,this._updateWme())},j.invalidateAll=function(t){if((t=t||document.body).children)for(var i=0;i<t.children.length;i++)j.invalidateAll(t.children[i]);var e=j.getControl(t);e&&e.invalidate()},j.refreshAll=function(t){if((t=t||document.body).children)for(var i=0;i<t.children.length;i++)j.refreshAll(t.children[i]);var e=j.getControl(t);e&&e.refresh()},j.disposeAll=function(t){var i=j.getControl(t);if(i)i.dispose();else if(t.children)for(var e=0;e<t.children.length;e++)j.disposeAll(t.children[e])},j.prototype.beginUpdate=function(){this._updating++},j.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(j.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),j.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(j.prototype,"isTouching",{get:function(){return j._touching},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){(t=C.asBoolean(t,!0))!=this.isDisabled&&C.enable(this._e,!t)},enumerable:!0,configurable:!0}),j.prototype.initialize=function(t){t&&C.copy(this,t)},j.prototype.addEventListener=function(t,i,e,n){void 0===n&&(n=!1),t&&(t.addEventListener(i,e,n),null==this._listeners&&(this._listeners=[]),this._listeners.push({target:t,type:i,fn:e,capture:n}))},j.prototype.removeEventListener=function(t,i,e,n){var r=0;if(this._listeners)for(var s=0;s<this._listeners.length;s++){var o=this._listeners[s];null!=t&&t!=o.target||null!=i&&i!=o.type||(null==e||e==o.fn||e&&o.fn&&e.toString()==o.fn.toString())&&(null!=n&&n!=o.capture||(o.target.removeEventListener(o.type,o.fn,o.capture),this._listeners.splice(s,1),s--,r++))}return r},j.prototype.onGotFocus=function(t){this.gotFocus.raise(this,t)},j.prototype.onLostFocus=function(t){this.lostFocus.raise(this,t)},j.prototype.onRefreshing=function(t){this.refreshing.raise(this,t)},j.prototype.onRefreshed=function(t){this.refreshed.raise(this,t)},j.prototype._getProductInfo=function(){return"B0C3,Control"},j.prototype._updateWme=function(){var t=window.wijmo._updateWme;C.isFunction(t)&&t(this,j._licKey)},j.prototype._hasPendingUpdates=function(){return null!=this._toInv},j.prototype._handleResize=function(){var t;this._e.parentElement&&((t=new C.Size(this._e.offsetWidth,this._e.offsetHeight)).equals(this._szCtl)||(this._szCtl=t,this.invalidate()))},j.prototype._updateFocusState=function(){setTimeout(function(){for(var t=C.EventArgs.empty,i=document.body.querySelectorAll(".wj-state-focused"),e=0;e<i.length;e++)(n=j.getControl(i[e]))&&n._focus&&!n.containsFocus()&&(C.removeClass(n._e,"wj-state-focus"),n._focus=!1,n._updateState(),n.onLostFocus(t));var n,r=C.getActiveElement();if(r)for(var s=!0,o=r;o;)(n=j.getControl(o))&&!n._focus&&n.containsFocus()&&(s&&(C.addClass(o,"wj-state-focus"),s=!1),n._focus=!0,n._updateState(),n.onGotFocus(t)),o=o[j._OWNR_KEY]||o.parentElement})},j.prototype._updateState=function(){var t,i,e=this.hostElement;e&&(C.toggleClass(e,"wj-state-focused",this._focus),(t=e.querySelector("input"))instanceof HTMLInputElement&&(C.toggleClass(e,"wj-state-empty",0==t.value.length),C.toggleClass(e,"wj-state-readonly",t.readOnly),i=t.validationMessage,C.toggleClass(e,"wj-state-invalid",!this._pristine&&null!=i&&0<i.length)))},j.prototype._handleTouchStart=function(t){null!=t.pointerType&&"touch"!=t.pointerType||(j._touching=!0)},j.prototype._handleTouchEnd=function(t){null!=t.pointerType&&"touch"!=t.pointerType||setTimeout(function(){j._touching=!1},800)},j.prototype._handleDisabled=function(t){this.isDisabled&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},j.prototype._replaceWithDiv=function(t){var i=document.createElement("div");return t.parentElement.replaceChild(i,t),i.innerHTML=t.innerHTML,this._copyAttributes(i,t.attributes,/id|style|class/i),i},j.prototype._copyAttributes=function(t,i,e){if(t)for(var n=0;n<i.length;n++){var r=i[n].name;r.match(e)&&t.setAttribute(r,i[n].value)}},j._REFRESH_INTERVAL=10,j._FOCUS_INTERVAL=0,j._ANIM_DEF_DURATION=400,j._ANIM_DEF_STEP=35,j._CLICK_DELAY=800,j._CLICK_REPEAT=75,j._CLIPBOARD_DELAY=100,j._DRAG_SCROLL_EDGE=15,j._DRAG_SCROLL_STEP=10,j._CTRL_KEY="$WJ-CTRL",j._OWNR_KEY="$WJ-OWNR",j._SCRL_KEY="$WJ-SCRL",j._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type/i,j);function j(t,i,e){void 0===e&&(e=!1);var n=A.call(this)||this;n._pristine=!0,n._focus=!1,n._updating=0,n._fullUpdate=!1,n.gotFocus=new C.Event,n.lostFocus=new C.Event,n.refreshing=new C.Event,n.refreshed=new C.Event,n._updateWme(),C.assert(null==j.getControl(t),"Element is already hosting a control.");var r,s,o=C.getElement(t);C.assert(null!=o,"Cannot find the host element."),n._orgTabIndex=o.hasAttribute("tabindex")?o.tabIndex:0,n._orgOuter=o.outerHTML,n._orgTag=o.tagName,n._orgAtts=o.attributes,"INPUT"!=o.tagName&&"SELECT"!=o.tagName||(o=n._replaceWithDiv(o)),(n._e=o)[j._CTRL_KEY]=n,1==e&&(n._szCtl=new C.Size(o.offsetWidth,o.offsetHeight),s=n._handleResize.bind(n),n.addEventListener(window,"resize",s)),n.addEventListener(o,"focus",function(t){r&&clearTimeout(r),r=setTimeout(function(){r=null,n._updateFocusState()},j._FOCUS_INTERVAL)},!0),n.addEventListener(o,"blur",function(t){r&&clearTimeout(r),r=setTimeout(function(){r=null,n._updateFocusState()},j._FOCUS_INTERVAL)},!0);var a,h,c,u,l,f=n._handleDisabled.bind(n),d=n.addEventListener.bind(n);return d(o,"mousedown",f,!0),d(o,"mouseup",f,!0),d(o,"click",f,!0),d(o,"dblclick",f,!0),d(o,"keydown",f,!0),d(o,"wheel",f,C.getEventOptions(!0,!0)),null==j._touching&&(j._touching=!1,"ontouchstart"in window||"onpointerdown"in window)&&(h=(a=document.body).addEventListener.bind(a),c=n._handleTouchStart,u=n._handleTouchEnd,l=C.getEventOptions(!0,!0),"ontouchstart"in window?(h("touchstart",c,l),h("touchend",u,l),h("touchcancel",u,l),h("touchleave",u,l)):"onpointerdown"in window&&(h("pointerdown",c,l),h("pointerup",u,l),h("pointerout",u,l),h("pointercancel",u,l),h("pointerleave",u,l))),n}C.Control=s}(ru||(window.wijmo=ru={})),to=ru||(window.wijmo=ru={}),(eo=io=to.Aggregate||(to.Aggregate={}))[eo.None=0]="None",eo[eo.Sum=1]="Sum",eo[eo.Cnt=2]="Cnt",eo[eo.Avg=3]="Avg",eo[eo.Max=4]="Max",eo[eo.Min=5]="Min",eo[eo.Rng=6]="Rng",eo[eo.Std=7]="Std",eo[eo.Var=8]="Var",eo[eo.StdPop=9]="StdPop",eo[eo.VarPop=10]="VarPop",eo[eo.CntAll=11]="CntAll",eo[eo.First=12]="First",eo[eo.Last=13]="Last",to.getAggregate=function(t,i,e){var n=0,r=0,s=0,o=0,a=null,h=null,c=null,u=e?new to.Binding(e):null;if((t=to.asEnum(t,io))==io.CntAll)return i.length;for(var l=0;l<i.length;l++){var f=i[l];if(u&&(f=u.getValue(f)),t==io.First)return f;null!=f&&(n++,(null==a||f<a)&&(a=f),(null==h||h<f)&&(h=f),c=f,to.isNumber(f)&&!isNaN(f)?(r++,s+=f,o+=f*f):to.isBoolean(f)&&(r++,1==f&&(s++,o++)))}var d=0==r?0:s/r;switch(t){case io.Avg:return d;case io.Cnt:return n;case io.Max:return h;case io.Min:return a;case io.Rng:return h-a;case io.Sum:return s;case io.VarPop:return r<=1?0:o/r-d*d;case io.StdPop:return r<=1?0:Math.sqrt(o/r-d*d);case io.Var:return r<=1?0:(o/r-d*d)*r/(r-1);case io.Std:return r<=1?0:Math.sqrt((o/r-d*d)*r/(r-1));case io.Last:return c}throw"Invalid aggregate type."},go=window&&window.__extends||(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}no(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){var r,i;(i=r=t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={}))[i.Add=0]="Add",i[i.Remove=1]="Remove",i[i.Change=2]="Change",i[i.Reset=3]="Reset";var s,e=(s=ro.EventArgs,go(n,s),n.reset=new n(r.Reset),n);function n(t,i,e){void 0===t&&(t=r.Reset),void 0===i&&(i=null),void 0===e&&(e=-1);var n=s.call(this)||this;return n.action=t,n.item=i,n.index=e,n}t.NotifyCollectionChangedEventArgs=e;var o=(Object.defineProperty(a.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),a);function a(t,i){this._bnd=new ro.Binding(t),this._asc=i}t.SortDescription=o;var h,c=(h=ro.CancelEventArgs,go(u,h),u);function u(t){var i=h.call(this)||this;return i.newPageIndex=t,i}t.PageChangingEventArgs=c;var l=(f.prototype.groupNameFromItem=function(t,i){return""},f.prototype.namesMatch=function(t,i){return t===i},f);function f(){}t.GroupDescription=l;var d,A=(go(g,d=l),Object.defineProperty(g.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),g.prototype.groupNameFromItem=function(t,i){return this._converter?this._converter(t,this.propertyName):this._bnd.getValue(t)},g.prototype.namesMatch=function(t,i){return t===i},g);function g(t,i){var e=d.call(this)||this;return e._bnd=new ro.Binding(t),e._converter=i,e}t.PropertyGroupDescription=A}((ro=ru||(window.wijmo=ru={})).collections||(ro.collections={})),go=window&&window.__extends||(so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}so(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(s){var i,t=(i=Array,go(e,i),e);function e(){var t=this;return n?t.length=0:t=i.call(this)||this,t}s.ArrayBase=t;var n=!0;try{t.prototype=Array.prototype,n=t.prototype===Array.prototype}catch(t){n=!1}var r=window.Symbol;!n&&r&&r.species&&Object.defineProperty(t,r.species,{get:function(){return Array},enumerable:!1,configurable:!1});var o,a=(go(h,o=t),h.prototype.push=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var e=this.length,n=0;t&&n<t.length;n++)e=o.prototype.push.call(this,t[n]),this._updating||this._raiseCollectionChanged(s.NotifyCollectionChangedAction.Add,t[n],e-1);return e},h.prototype.pop=function(){var t=o.prototype.pop.call(this);return this._raiseCollectionChanged(s.NotifyCollectionChangedAction.Remove,t,this.length),t},h.prototype.splice=function(t,i,e){var n,r=s.NotifyCollectionChangedAction;return i&&e?(n=o.prototype.splice.call(this,t,i,e),1==i?this._raiseCollectionChanged(r.Change,e,t):this._raiseCollectionChanged()):e?(n=o.prototype.splice.call(this,t,0,e),this._raiseCollectionChanged(r.Add,e,t)):(n=o.prototype.splice.call(this,t,i),1==i?this._raiseCollectionChanged(r.Remove,n[0],t):this._raiseCollectionChanged()),n},h.prototype.slice=function(t,i){return o.prototype.slice.call(this,t,i)},h.prototype.indexOf=function(t,i){return o.prototype.indexOf.call(this,t,i)},h.prototype.sort=function(t){var i=o.prototype.sort.call(this,t);return this._raiseCollectionChanged(),i},h.prototype.insert=function(t,i){this.splice(t,0,i)},h.prototype.remove=function(t){var i=this.indexOf(t);return-1<i&&(this.removeAt(i),!0)},h.prototype.removeAt=function(t){this.splice(t,1)},h.prototype.setAt=function(t,i){t>this.length&&(this.length=t),this.splice(t,1,i)},h.prototype.clear=function(){this.length&&this.splice(0,this.length)},h.prototype.beginUpdate=function(){this._updating++},h.prototype.endUpdate=function(){0<this._updating&&(this._updating--,0==this._updating&&this._raiseCollectionChanged())},Object.defineProperty(h.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),h.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},h.prototype.implementsInterface=function(t){return"INotifyCollectionChanged"==t},h.prototype.onCollectionChanged=function(t){void 0===t&&(t=s.NotifyCollectionChangedEventArgs.reset),this.isUpdating||this.collectionChanged.raise(this,t)},h.prototype._raiseCollectionChanged=function(t,i,e){var n;void 0===t&&(t=s.NotifyCollectionChangedAction.Reset),this.isUpdating||(n=new s.NotifyCollectionChangedEventArgs(t,i,e),this.onCollectionChanged(n))},h);function h(t){var i=o.call(this)||this;if(i._updating=0,i.collectionChanged=new ao.Event,t){t=ao.asArray(t),i._updating++;for(var e=0;e<t.length;e++)i.push(t[e]);i._updating--}return i}s.ObservableArray=a}((ao=ru||(window.wijmo=ru={})).collections||(ao.collections={})),function(c){var s=(A.prototype._copy=function(t,i){switch(t){case"sortDescriptions":this.sortDescriptions.clear();for(var e=oo.asArray(i),n=0;n<e.length;n++){var r=e[n];oo.isString(r)&&(r=new c.SortDescription(r,!0)),this.sortDescriptions.push(r)}return!0;case"groupDescriptions":this.groupDescriptions.clear();for(var s=oo.asArray(i),n=0;n<s.length;n++)r=s[n],oo.isString(r)&&(r=new c.PropertyGroupDescription(r)),this.groupDescriptions.push(r);return!0;case"currentItem":return this.currentItem=i,!0}return!1},Object.defineProperty(A.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=oo.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=oo.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=oo.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=oo.asBoolean(t)},enumerable:!0,configurable:!0}),A.prototype.getAggregate=function(t,i,e){var n=e?this._pgView:this._view;return oo.getAggregate(t,n,i)},Object.defineProperty(A.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=oo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),A.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},A.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(A.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError=oo.asFunction(t)},enumerable:!0,configurable:!0}),A.prototype.onCollectionChanged=function(t){void 0===t&&(t=c.NotifyCollectionChangedEventArgs.reset),t.action!=c.NotifyCollectionChangedAction.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this.collectionChanged.raise(this,t)},A.prototype._raiseCollectionChanged=function(t,i,e){void 0===t&&(t=c.NotifyCollectionChangedAction.Reset);var n=new c.NotifyCollectionChangedEventArgs(t,i,e);this.onCollectionChanged(n)},A.prototype._notifyItemChanged=function(t){var i=new c.NotifyCollectionChangedEventArgs(c.NotifyCollectionChangedAction.Change,t,this.items.indexOf(t));this.onCollectionChanged(i)},A.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},A.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(A.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=oo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=oo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=oo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"currentItem",{get:function(){return this._pgView&&-1<this._idx&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(oo.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=oo.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new oo.CancelEventArgs))return;var i=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=oo.asArray(t,!1),this._ncc=oo.tryCast(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&-1<i&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),A.prototype._sourceChanged=function(t,i){this._updating<=0&&this.refresh()},A.prototype.contains=function(t){return-1<this._pgView.indexOf(t)},A.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},A.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},A.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},A.prototype.moveCurrentToPrevious=function(){return 0<this._idx&&this.moveCurrentToPosition(this._idx-1)},A.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},A.prototype.moveCurrentToPosition=function(t){var i,e;return-1<=t&&t<this._pgView.length&&t!=this._idx&&(i=new oo.CancelEventArgs,this.onCurrentChanging(i)&&(e=this._pgView[t],this._edtItem&&e!=this._edtItem?this.commitEdit():this._newItem&&e!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged())),this._idx==t},A.prototype.refresh=function(){this._newItem||this._edtItem?this._pendingRefresh=!0:this._updating<=0&&(this._performRefresh(),this.onCollectionChanged())},A.prototype._performRefresh=function(){var t,i;0<this._updating||(this._pendingRefresh=!1,t=this.currentItem,this._view=this._src?this._performFilter(this._src):[],this.canSort&&0<this._srtDsc.length&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=oo.clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&1<this.pageCount&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups)),(i=this._pgView.indexOf(t))<0&&(i=Math.min(this._idx,this._pgView.length-1)),this._idx=i,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==t&&this.onCurrentChanged())},A.prototype._performSort=function(t){if(this._stableSort){var i=t.map(function(t,i){return{item:t,index:i}}),n=this._compareItems();i.sort(function(t,i){var e=n(t.item,i.item);return 0==e?t.index-i.index:e});for(var e=0;e<t.length;e++)t[e]=i[e].item}else t.sort(this._compareItems())},A.prototype._compareItems=function(){var c=this._srtDsc,u=this._srtCvt,l=this._srtCmp,f=!0,d=0;return function(t,i){for(var e=0;e<c.length;e++){var n=c[e],r=n._bnd.getValue(t),s=n._bnd.getValue(i);if(u&&(r=u(n,t,r,f),s=u(n,i,s,!1),f=!1),l&&null!=(d=l(r,s)))return n.ascending?+d:-d;if(r!=r&&(r=null),s!=s&&(s=null),null!=r&&null==s)return-1;if(null==r&&null!=s)return 1;if("string"==typeof r&&"string"==typeof s){var o=A._collator;if(o){if(0!=(d=o.compare(r,s)))return n.ascending?+d:-d;continue}var a=r.toLowerCase(),h=s.toLowerCase();a!=h&&(r=a,s=h)}if(0!=(d=r<s?-1:s<r?1:0))return n.ascending?+d:-d}return 0}},A.prototype._performFilter=function(t){return this.canFilter&&this._filter?t.filter(this._filter,this):t},A.prototype.onCurrentChanged=function(t){void 0===t&&(t=oo.EventArgs.empty),this.currentChanged.raise(this,t)},A.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(A.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),A.prototype.beginUpdate=function(){this._updating++},A.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.refresh()},Object.defineProperty(A.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),A.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(A.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=oo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=oo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=oo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),A.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone={},this._extend(this._edtClone,this._edtItem))},A.prototype.commitEdit=function(){var t,i,e,n,r=this._edtItem,s=this._edtClone;null!=r&&(this._committing=!0,t=this._sameContent(r,s),i=this._pendingRefresh,this._edtItem=null,this._edtClone=null,e=this._pgView.indexOf(r),n=this._digest,this._performRefresh(),t||this._trackItemChanged(r),this._pgView.indexOf(r)!=e||n!=this._digest||i?this._raiseCollectionChanged():this._raiseCollectionChanged(c.NotifyCollectionChangedAction.Change,r,e),this.commitNew(),this._committing=!1)},A.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return void oo.assert(!1,"cannot cancel edits (canCancelEdit == false).");var i=this._src.indexOf(t);0<=i&&this._edtClone&&(this._extend(this._src[i],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(c.NotifyCollectionChangedAction.Change,t,i),this._canceling=!1,this._pendingRefresh&&(this._performRefresh(),this._raiseCollectionChanged()))}},A.prototype.addNew=function(){if(0<arguments.length&&oo.assert(!1,"addNew does not take any parameters, it creates the new items."),this.commitEdit(),!this.canAddNew)return oo.assert(!1,"cannot add items (canAddNew == false)."),null;var t,i=this.sourceCollection;if(null!=(t=this.newItemCreator?this.newItemCreator():i&&i.length?new i[0].constructor:{})){if(this._newItem=t,this._updating++,this._src.push(t),this._updating--,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var e=this.groups[this.groups.length-1];for(e.items.push(t);e.groups&&e.groups.length;)(e=e.groups[e.groups.length-1]).items.push(t)}this._raiseCollectionChanged(c.NotifyCollectionChangedAction.Add,t,this._pgView.length-1),this.moveCurrentTo(t)}return this._newItem},A.prototype.commitNew=function(){var t,i,e,n=this._newItem;null!=n&&(this._newItem=null,t=this._pgView.indexOf(n),i=this._digest,this._performRefresh(),this._trackChanges&&(-1<(e=this._chgEdited.indexOf(n))&&this._chgEdited.removeAt(e),this._chgAdded.indexOf(n)<0&&this._chgAdded.push(n)),this._pgView.indexOf(n)==t&&i==this._digest?this._raiseCollectionChanged(c.NotifyCollectionChangedAction.Change,n,t):this._raiseCollectionChanged())},A.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},A.prototype.remove=function(t){var i,e,n,r,s,o,a,h=t==this._newItem;h&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove?-1<(i=this._src.indexOf(t))&&(e=this.currentItem,this._updating++,this._src.splice(i,1),this._updating--,n=this._digest,this._performRefresh(),this._trackChanges&&(-1<(r=this._chgAdded.indexOf(t))&&this._chgAdded.removeAt(r),-1<(s=this._chgEdited.indexOf(t))&&this._chgEdited.removeAt(s),this._chgRemoved.indexOf(t)<0&&!h&&r<0&&this._chgRemoved.push(t)),o=0<this.sortDescriptions.length,a=0<this.pageSize&&-1<this._pgIdx,o||a||n!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(c.NotifyCollectionChangedAction.Remove,t,i),this.currentItem!==e&&this.onCurrentChanged()):oo.assert(!1,"cannot remove items (canRemove == false).")},A.prototype.removeAt=function(t){t=oo.asInt(t),this.remove(this._pgView[t])},A.prototype._trackItemChanged=function(t){var i,e,n,r;!this._trackChanges||(i=this.sourceCollection)&&-1<i.indexOf(t)&&(e=this._chgEdited.indexOf(t),n=c.NotifyCollectionChangedAction.Change,e<0&&this._chgAdded.indexOf(t)<0?this._chgEdited.push(t):-1<e?(r=new c.NotifyCollectionChangedEventArgs(n,t,e),this._chgEdited.onCollectionChanged(r)):-1<(e=this._chgAdded.indexOf(t))&&(r=new c.NotifyCollectionChangedEventArgs(n,t,e),this._chgAdded.onCollectionChanged(r)))},A.prototype._extend=function(t,i){for(var e in i)t[e]=i[e]},A.prototype._sameContent=function(t,i){for(var e in oo.assert(null!=i&&null!=t,"Two objects expected"),i)if(!this._sameValue(t[e],i[e]))return!1;for(var e in t)if(!this._sameValue(t[e],i[e]))return!1;return!0},A.prototype._sameValue=function(t,i){return t===i||oo.DateTime.equals(t,i)},Object.defineProperty(A.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=oo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=oo.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),A.prototype.moveToFirstPage=function(){return this.moveToPage(0)},A.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},A.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},A.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},A.prototype.moveToPage=function(t){var i,e=oo.clamp(t,0,this.pageCount-1);return e!=this._pgIdx&&(this.canChangePage||oo.assert(!1,"cannot change pages (canChangePage == false)."),i=new c.PageChangingEventArgs(e),this.onPageChanging(i)&&(this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():this.onCollectionChanged(),this.onPageChanged())),this._pgIdx==t},A.prototype.onPageChanged=function(t){void 0===t&&(t=oo.EventArgs.empty),this.pageChanged.raise(this,t)},A.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},A.prototype._getFullGroup=function(t){var i=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=i&&(t=i),t},A.prototype._getGroupByPath=function(t,i,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.level==i&&r._path==e)return r;if(r.level<i&&0==e.indexOf(r._path)&&null!=(r=this._getGroupByPath(r.groups,i,e)))return r}return null},A.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,i=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,i)},A.prototype._createGroups=function(t){if(!this._grpDesc||!this._grpDesc.length)return null;for(var i=[],e={},n=null,r=0;r<t.length;r++)for(var s=t[r],o=i,a=this._grpDesc.length,h="",c=0;c<a;c++){var u=this._grpDesc[c],l=u.groupNameFromItem(s,c),f=c==a-1;!(n=e[h])&&oo.isPrimitive(l)&&(n={},e[h]=n);var d=this._getGroup(u,o,n,l,c,f);h+="/"+l,d._path=h,f&&d.items.push(s),o=d.groups}return i},A.prototype._getGroupsDigest=function(t){for(var i="",e=0;null!=t&&e<t.length;e++){var n=t[e];i+="{"+n.name+":"+(n.items?n.items.length:"*"),0<n.groups.length&&(i+=",",i+=this._getGroupsDigest(n.groups)),i+="}"}return i},A.prototype._mergeGroupItems=function(t){for(var i=[],e=0;e<t.length;e++){var n=t[e];if(!n._isBottomLevel)for(var r=this._mergeGroupItems(n.groups),s=0,o=r.length;s<o;s++)n._items.push(r[s]);for(s=0,o=n._items.length;s<o;s++)i.push(n._items[s])}return i},A.prototype._getGroup=function(t,i,e,n,r,s){var o;if(e&&oo.isPrimitive(n)){if(o=e[n])return o}else for(var a=0;a<i.length;a++)if(t.namesMatch(i[a].name,n))return i[a];var h=new u(t,n,r,s);return i.push(h),e&&(e[n]=h),h},A._collator="undefined"!=typeof window&&window.Intl?new Intl.Collator:null,A);function A(t,i){var e=this;this._idx=-1,this._srtDsc=new c.ObservableArray,this._grpDesc=new c.ObservableArray,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._trackChanges=!1,this._chgAdded=new c.ObservableArray,this._chgRemoved=new c.ObservableArray,this._chgEdited=new c.ObservableArray,this.collectionChanged=new oo.Event,this.sourceCollectionChanging=new oo.Event,this.sourceCollectionChanged=new oo.Event,this.currentChanged=new oo.Event,this.currentChanging=new oo.Event,this.pageChanged=new oo.Event,this.pageChanging=new oo.Event,this._srtDsc.collectionChanged.addHandler(function(){e._srtDsc.forEach(function(t){oo.assert(t instanceof c.SortDescription,"sortDescriptions array must contain SortDescription objects.")}),e.canSort&&e.refresh()}),this._grpDesc.collectionChanged.addHandler(function(){e._grpDesc.forEach(function(t){oo.assert(t instanceof c.GroupDescription,"groupDescriptions array must contain GroupDescription objects.")}),e.canGroup&&(e.currentEditItem||e.currentAddItem?e.commitEdit():e.refresh())}),this.sourceCollection=t||new c.ObservableArray,i&&(this.beginUpdate(),oo.copy(this,i),this.endUpdate())}c.CollectionView=s;var u=(Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,i,e){var n=oo.tryCast(e,s),r=n?n._getFullGroup(this):this;return oo.getAggregate(t,r.items,i)},t);function t(t,i,e,n){this._gd=t,this._name=i,this._level=e,this._isBottomLevel=n,this._groups=[],this._items=[]}c.CollectionViewGroup=u}((oo=ru||(window.wijmo=ru={})).collections||(oo.collections={})),go=window&&window.__extends||(ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}ho(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(s){var t=(o.prototype.setTooltip=function(t,i){t=s.getElement(t),i=this._getContent(i);var e=this._indexOf(t);-1<e&&(this._detach(t),this._tips.splice(e,1)),i&&(this._attach(t),this._tips.push({element:t,content:i}))},o.prototype.getTooltip=function(t){t=s.getElement(t);for(var i=this._tips,e=0;e<i.length;e++)if(i[e].element==t)return i[e].content;return null},o.prototype.show=function(t,i,e){t=s.getElement(t),i=this._getContent(i),e=e||s.Rect.fromBoundingRect(t.getBoundingClientRect());var n=o._eTip;n||(n=o._eTip=document.createElement("div"),s.addClass(n,"wj-tooltip"),n.style.visibility="none"),this._setContent(i);var r=new a(i);this.onPopup(r),r.content&&!r.cancel&&(document.body.appendChild(n),this._setContent(r.content),n.style.minWidth="",e=new s.Rect(e.left-(n.offsetWidth-e.width)/2,e.top-this.gap,n.offsetWidth,e.height+2*this.gap),s.showPopup(n,e,!0),document.addEventListener("mousedown",this._hideAutoTipBnd))},o.prototype.hide=function(){var t=o._eTip;t&&(s.removeChild(t),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},o.prototype.dispose=function(){var i=this;this._tips.forEach(function(t){i._detach(t.element)}),this._tips.splice(0,this._tips.length)},Object.defineProperty(o.prototype,"isVisible",{get:function(){var t=o._eTip;return null!=t&&null!=t.parentElement&&0<t.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=s.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=s.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=s.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=s.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=s.asInt(t)},enumerable:!0,configurable:!0}),o.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},o.prototype._indexOf=function(t){for(var i=0;i<this._tips.length;i++)if(this._tips[i].element==t)return i;return-1},o.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd)},o.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd)},o.prototype._showAutoTip=function(n){var t,r=this;n.defaultPrevented||("click"!=n.type||s.Control._touching?(t="mouseenter"==n.type?this._showDelay:0,this._clearTimeouts(),this._toShow=setTimeout(function(){var t,i,e=r._indexOf(n.target);-1<e&&(t=r._tips[e],i=r._showAtMouse?new s.Rect(n.clientX,n.clientY,0,0):null,r.show(t.element,t.content,i),0<r._hideDelay&&(r._toHide=setTimeout(function(){r.hide()},r._hideDelay)))},t)):this._hideAutoTip())},o.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},o.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},o.prototype._getContent=function(t){var i;return!(t=s.asString(t))||"#"!=t[0]||(i=s.getElement(t))&&(t=i.innerHTML),t},o.prototype._setContent=function(t){var i=o._eTip;i&&(this.isContentHtml?i.innerHTML=t:i.textContent=t)},o);function o(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new s.Event,s.copy(this,t)}s.Tooltip=t;var e,a=(e=s.CancelEventArgs,go(i,e),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){this._content=s.asString(t)},enumerable:!0,configurable:!0}),i);function i(t){var i=e.call(this)||this;return i._content=s.asString(t),i}s.TooltipEventArgs=a}(ru||(window.wijmo=ru={})),Ao=ru||(window.wijmo=ru={}),Object.defineProperty(Eo.prototype,"r",{get:function(){return this._r},set:function(t){this._r=Ao.clamp(Ao.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(Eo.prototype,"g",{get:function(){return this._g},set:function(t){this._g=Ao.clamp(Ao.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(Eo.prototype,"b",{get:function(){return this._b},set:function(t){this._b=Ao.clamp(Ao.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(Eo.prototype,"a",{get:function(){return this._a},set:function(t){this._a=Ao.clamp(Ao.asNumber(t),0,1)},enumerable:!0,configurable:!0}),Eo.prototype.equals=function(t){return t instanceof Eo&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},Eo.prototype.toString=function(){var t=Math.round(100*this.a);return 99<t?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},Eo.fromRgba=function(t,i,e,n){void 0===n&&(n=1);var r=new Eo(null);return r.r=Math.round(Ao.clamp(Ao.asNumber(t),0,255)),r.g=Math.round(Ao.clamp(Ao.asNumber(i),0,255)),r.b=Math.round(Ao.clamp(Ao.asNumber(e),0,255)),r.a=Ao.clamp(Ao.asNumber(n),0,1),r},Eo.fromHsb=function(t,i,e,n){void 0===n&&(n=1);var r=Eo._hsbToRgb(Ao.clamp(Ao.asNumber(t),0,1),Ao.clamp(Ao.asNumber(i),0,1),Ao.clamp(Ao.asNumber(e),0,1));return Eo.fromRgba(r[0],r[1],r[2],n)},Eo.fromHsl=function(t,i,e,n){void 0===n&&(n=1);var r=Eo._hslToRgb(Ao.clamp(Ao.asNumber(t),0,1),Ao.clamp(Ao.asNumber(i),0,1),Ao.clamp(Ao.asNumber(e),0,1));return Eo.fromRgba(r[0],r[1],r[2],n)},Eo.fromString=function(t){var i=new Eo(null);return i._parse(Ao.asString(t))?i:null},Eo.prototype.getHsb=function(){return Eo._rgbToHsb(this.r,this.g,this.b)},Eo.prototype.getHsl=function(){return Eo._rgbToHsl(this.r,this.g,this.b)},Eo.interpolate=function(t,i,e){e=Ao.clamp(Ao.asNumber(e),0,1);var n=Eo._rgbToHsl(t.r,t.g,t.b),r=Eo._rgbToHsl(i.r,i.g,i.b),s=1-e,o=t.a*s+i.a*e,a=[n[0]*s+r[0]*e,n[1]*s+r[1]*e,n[2]*s+r[2]*e],h=Eo._hslToRgb(a[0],a[1],a[2]);return Eo.fromRgba(h[0],h[1],h[2],o)},Eo.toOpaque=function(t,i){if(1==(t=Ao.isString(t)?Eo.fromString(t):Ao.asType(t,Eo)).a)return t;i=null==i?Eo.fromRgba(255,255,255,1):Ao.isString(i)?Eo.fromString(i):Ao.asType(i,Eo);var e=t.a,n=1-e;return Eo.fromRgba(t.r*e+i.r*n,t.g*e+i.g*n,t.b*e+i.b*n)},Eo.prototype._parse=function(t){if("transparent"==(t=t.toLowerCase()))return!(this._r=this._g=this._b=this._a=0);var i,e;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")&&((i=document.createElement("div")).style.color=t,(e=i.style.color)==t&&((e=window.getComputedStyle(i).color)||(document.body.appendChild(i),e=window.getComputedStyle(i).color,Ao.removeChild(i))),t=e.toLowerCase()),0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length&&(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0);if(0==t.indexOf("rgb")){var n=t.indexOf("("),r=t.indexOf(")");if(-1<n&&-1<r&&2<(s=t.substr(n+1,r-(n+1)).split(",")).length)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=3<s.length?parseFloat(s[3]):1,!0}if(0==t.indexOf("hsl")){var s,n=t.indexOf("("),r=t.indexOf(")");if(-1<n&&-1<r&&2<(s=t.substr(n+1,r-(n+1)).split(",")).length){var o=parseInt(s[0])/360,a=parseInt(s[1]),h=parseInt(s[2]);-1<s[1].indexOf("%")&&(a/=100),-1<s[2].indexOf("%")&&(h/=100);var c=Eo._hslToRgb(o,a,h);return this.r=c[0],this.g=c[1],this.b=c[2],this.a=3<s.length?parseFloat(s[3]):1,!0}}return!1},Eo._hslToRgb=function(t,i,e){var n,r,s,o,a;return Ao.assert(0<=t&&t<=1&&0<=i&&i<=1&&0<=e&&e<=1,"bad HSL values"),0==i?s=o=a=e:(s=Eo._hue2rgb(r=2*e-(n=e<.5?e*(1+i):e+i-e*i),n,t+1/3),o=Eo._hue2rgb(r,n,t),a=Eo._hue2rgb(r,n,t-1/3)),[Math.round(255*s),Math.round(255*o),Math.round(255*a)]},Eo._hue2rgb=function(t,i,e){return e<0&&(e+=1),1<e&&--e,e<1/6?t+6*(i-t)*e:e<.5?i:e<2/3?t+(i-t)*(2/3-e)*6:t},Eo._rgbToHsl=function(t,i,e){Ao.assert(0<=t&&t<=255&&0<=i&&i<=255&&0<=e&&e<=255,"bad RGB values"),t/=255,i/=255,e/=255;var n,r=Math.max(t,i,e),s=Math.min(t,i,e),o=(r+s)/2;if(r==s)n=h=0;else{var a=r-s,h=.5<o?a/(2-r-s):a/(r+s);switch(r){case t:n=(i-e)/a+(i<e?6:0);break;case i:n=(e-t)/a+2;break;case e:n=(t-i)/a+4}n/=6}return[n,h,o]},Eo._rgbToHsb=function(t,i,e){Ao.assert(0<=t&&t<=255&&0<=i&&i<=255&&0<=e&&e<=255,"bad RGB values");var n=Eo._rgbToHsl(t,i,e);return Eo._hslToHsb(n[0],n[1],n[2])},Eo._hsbToRgb=function(t,i,e){var n=Eo._hsbToHsl(t,i,e);return Eo._hslToRgb(n[0],n[1],n[2])},Eo._hsbToHsl=function(t,i,e){Ao.assert(0<=t&&t<=1&&0<=i&&i<=1&&0<=e&&e<=1,"bad HSB values");var n=Ao.clamp(e*(2-i)/2,0,1),r=1-Math.abs(2*n-1),s=Ao.clamp(0<r?e*i/r:i,0,1);return Ao.assert(!isNaN(n)&&!isNaN(s),"bad conversion to HSL"),[t,s,n]},Eo._hslToHsb=function(t,i,e){Ao.assert(0<=t&&t<=1&&0<=i&&i<=1&&0<=e&&e<=1,"bad HSL values");var n=Ao.clamp(1==e?1:(2*e+i*(1-Math.abs(2*e-1)))/2,0,1),r=Ao.clamp(0<n?2*(n-e)/n:i,0,1);return Ao.assert(!isNaN(n)&&!isNaN(r),"bad conversion to HSB"),[t,r,n]},Ao.Color=Eo,fo=ru||(window.wijmo=ru={}),bo.copy=function(t){bo._copyPaste(fo.asString(t),null)},bo.paste=function(t){bo._copyPaste(null,fo.asFunction(t))},bo._copyPaste=function(t,i){for(var e,n=fo.getActiveElement(),r=fo.closest(n,".wj-control");r&&fo.Control.getControl(r);)r=r.parentElement;(r=r||document.body)&&(e=fo.createElement('<textarea class="wj-clipboard" style="position:fixed;opacity:0"/>',r),fo.isString(t)&&(e.value=t),e.select(),e.onkeydown=function(t){t.preventDefault()},setTimeout(function(){n.focus(),fo.removeChild(e),fo.isFunction(i)&&i(e.value)},fo.Control._CLIPBOARD_DELAY))},fo.Clipboard=bo,(lo=ru||(window.wijmo=ru={})).showPopup=function(r,s,t,i,e){void 0===e&&(e=!0);var n=document.body;if(s instanceof HTMLElement){if(!lo.contains(document.body,s))return;for(var o=s;o;o=o.parentElement)if(vo(o)||"fixed"==getComputedStyle(o).position){n=o;break}}lo.setCss(r,{display:"none",left:"",top:""}),r.offsetHeight&&r.offsetWidth&&lo.contains(n,r)||n.lastChild!=r&&n.appendChild(r);var a,h,c,u=document.body,l=new lo.Point(u.scrollLeft||pageXOffset,u.scrollTop||pageYOffset),f=document.documentElement,d=f.clientWidth/window.innerWidth;(n!=u||1.005<d)&&(a=n==u?f:r.offsetParent||n,vo(n)&&n.offsetParent&&(a=n.offsetParent),a&&(h=a.getBoundingClientRect(),l=new lo.Point(a.scrollLeft-h.left,a.scrollTop-h.top))),lo.setCss(r,{position:"fixed",display:"",left:0,top:0}),r.offsetHeight&&r.offsetWidth&&lo.contains(n,r)||n.lastChild!=r&&n.appendChild(r),s instanceof HTMLElement&&(c=getComputedStyle(s),e&&new lo.Color(c.backgroundColor).a&&lo.setCss(r,{color:c.color,backgroundColor:c.backgroundColor,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,fontStyle:c.fontStyle})),lo.setCss(r,{position:"fixed",display:""}),lo.Control.refreshAll(r);var A=getComputedStyle(r),g=parseFloat(A.marginTop)+parseFloat(A.marginBottom),w=parseFloat(A.marginLeft)+parseFloat(A.marginRight),m=new lo.Size(r.offsetWidth+w,r.offsetHeight+g),p=new lo.Point,v=null,b=f.clientWidth,E=f.clientHeight;if(s&&null!=s.clientX&&null!=s.clientY&&null!=s.pageX&&null!=s.pageY)s.clientX<=0&&s.clientY<=0&&s.target?v=s.target.getBoundingClientRect():(p.x=Math.max(0,s.pageX-pageXOffset),p.y=Math.max(0,s.pageY-pageYOffset));else if(s instanceof lo.Point)p=s;else if(s instanceof HTMLElement)v=s.getBoundingClientRect();else if(s&&null!=s.top&&null!=s.left)v=s;else{if(null!=s)throw"Invalid ref parameter.";p.x=Math.max(0,(b-m.width)/2),p.y=Math.max(0,Math.round((E-m.height)/2*.7))}var B,C,j=parseFloat(A.minWidth);v?(j=Math.max(j,v.width),lo.isIE()&&(j-=r.offsetWidth-(r.clientWidth+parseInt(A.borderLeftWidth)+parseInt(A.borderRightWidth))),B=v.top,C=E-v.bottom,p.x=Math.max(0,Math.min(v.left,b-m.width)),p.y=t?B>m.height||C<B?Math.max(0,v.top-m.height):v.bottom:C>m.height||B<C?v.bottom:Math.max(0,v.top-m.height)):(p.y+m.height>E-20&&(p.y=Math.max(0,E-20-m.height)),p.x+m.width>b-20&&(p.x=Math.max(0,b-20-m.width)));var y={position:"absolute",left:p.x+l.x,top:p.y+l.y,minWidth:j,zIndex:1500,pointerEvents:"auto"},x=null;i&&(r.style.opacity="0",x=lo.animate(function(t){r.style.opacity=t<1?t.toString():""})),s instanceof HTMLElement&&(r[lo.Control._OWNR_KEY]=s),lo.setCss(r,y);var I,M,F,Q=s instanceof MouseEvent?s.target:s;return Q instanceof HTMLElement&&Q.parentElement!=document.body&&(I=Date.now(),M=Q.getBoundingClientRect(),F=new lo.Control(document.createElement("div")),(r[lo.Control._SCRL_KEY]=F).addEventListener(document,"scroll",function(t){var i,e,n;100<Date.now()-I&&lo.contains(document,Q)&&!lo.contains(r,t.target)&&(t.target!=document||null!=s&&"fixed"==r.style.position)&&(i=Q.getBoundingClientRect(),e=Math.abs(i.left-M.left),n=Math.abs(i.top-M.top),(1<e||1<n)&&po(r,!0))},!0)),x},lo.hidePopup=function(i,e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var n=null;return t?n=lo.animate(function(t){i.style.opacity=(1-t).toString(),1==t&&(po(i,e),i.style.opacity="")}):po(i,e),n},uo=ru||(window.wijmo=ru={}),Object.defineProperty(mo.prototype,"title",{get:function(){return this._title},set:function(t){this._title=uo.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(mo.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=uo.asBoolean(t)},enumerable:!0,configurable:!0}),mo.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},mo.prototype.append=function(t){var i,e=this._getDocument(),n=e.body,r=!1;n?uo.isString(t)?n.appendChild(uo.createElement(t)):t instanceof Node?(i=this._cloneNode(t),n.appendChild(i)):r=!0:uo.isString(t)?e.write(t):t instanceof HTMLElement?(i=this._cloneNode(t),e.write(i.outerHTML)):r=!0,r&&uo.assert(!1,"child parameter should be an HTML node or an HTML string.")},mo.prototype.print=function(){var e=this;this._iframe&&(this._close(),setTimeout(function(){var t=e._iframe.contentWindow,i="onafterprint"in t&&!uo.isFirefox();i&&(t.onafterprint=function(){uo.removeChild(e._iframe),e._iframe=null}),document.queryCommandSupported("print")?t.document.execCommand("print",!1,null):(t.focus(),t.print()),i||(uo.removeChild(e._iframe),e._iframe=null)},100))},mo.prototype._cloneNode=function(r){var s=r.cloneNode(!0);return r instanceof HTMLElement&&s instanceof HTMLElement&&["select","textarea"].forEach(function(t){for(var i=r.querySelectorAll(t),e=s.querySelectorAll(t),n=0;n<i.length;n++)e[n].value=i[n].value}),s},mo.prototype._getDocument=function(){return this._iframe||(this._iframe=document.createElement("iframe"),uo.addClass(this._iframe,"wj-printdocument"),uo.setCss(this._iframe,{position:"fixed",left:1e4,top:1e4}),document.body.appendChild(this._iframe),this._iframe.contentDocument.write('<body style="position:static"/>')),this._iframe.contentDocument},mo.prototype._close=function(){var t=this._getDocument();if(t.close(),t.title=null!=this.title?this.title:document.title,t.title&&t.title.trim()||(t.title="Â "),this._copyCss){for(var i=document.head.querySelectorAll("link"),e=0;e<i.length;e++){var n=i[e];n.href.match(/\.css$/i)&&n.rel.match(/stylesheet/i)&&(o=uo.httpRequest(n.href,{async:!1}),this._addStyle(o.responseText))}for(var r=document.head.querySelectorAll("STYLE"),e=0;e<r.length;e++)this._addStyle(r[e].textContent)}if(this._css)for(e=0;e<this._css.length;e++){var s=t.createElement("style"),o=uo.httpRequest(this._css[e],{async:!1});s.textContent=o.responseText,t.head.appendChild(s)}},mo.prototype._addStyle=function(t){var i=this._getDocument(),e=i.createElement("style");e.textContent=t,i.head.appendChild(e)},uo.PrintDocument=mo,function(h){var t=(Object.defineProperty(n.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=h.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=h.asString(t,!1),h.assert(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),n.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},n.prototype.getRawValue=function(){var t=this._tbx.value,i="";if(!this.mask)return t;for(var e=0;e<this._mskArr.length&&e<t.length;e++)this._mskArr[e].literal||t[e]==this._promptChar||(i+=t[e]);return i},n.prototype.refresh=function(){this._parseMask(),this._valueChanged()},n.prototype._input=function(t){var i=this;this._composing?t.stopImmediatePropagation():setTimeout(function(){i._valueChanged()})},n.prototype._keydown=function(t){if(t.keyCode==h.Key.Back){var i=this._tbx.selectionStart,e=this._tbx.selectionEnd;if(i<=this._firstPos&&e==i)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==h.Key.Back},n.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},n.prototype._compositionstart=function(t){this._composing=!0},n.prototype._compositionend=function(t){var i=this;this._composing&&(this._composing=!1,setTimeout(function(){i._tbx&&(i._valueChanged()||h.setSelectionRange(i._tbx,i._tbx.value.length),i._tbx.dispatchEvent(i._evtInput))}))},n.prototype._preventKey=function(t){if(t&&this._mskArr.length){var i=this._tbx,e=i.selectionStart,n=String.fromCharCode(t);if(e<this._firstPos&&(e=this._firstPos,h.setSelectionRange(i,e)),e>=this._mskArr.length)return!0;var r=this._mskArr[e];if(r.literal)this._validatePosition(e);else if(r.wildCard!=n&&!this._isCharValid(r.wildCard,n))return!0}return!1},n.prototype._connect=function(t){var i=this._tbx;i&&(h.assert(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=i.autocomplete,this._spellCheck=i.spellcheck,i.autocomplete="off",i.spellcheck=!1,i.addEventListener("input",this._hbInput),i.addEventListener("keydown",this._hbKeyDown,!0),i.addEventListener("keypress",this._hbKeyPress,!0),i.addEventListener("compositionstart",this._hbCompositionStart,!0),i.addEventListener("compositionend",this._hbCompositionEnd,!0),i.addEventListener("blur",this._hbCompositionEnd,!0),this._valueChanged()):(i.autocomplete=this._autoComplete,i.spellcheck=this._spellCheck,i.removeEventListener("input",this._hbInput),i.removeEventListener("keydown",this._hbKeyDown,!0),i.removeEventListener("keypress",this._hbKeyPress,!0),i.removeEventListener("compositionstart",this._hbCompositionStart,!0),i.removeEventListener("compositionend",this._hbCompositionEnd,!0),i.removeEventListener("blur",this._hbCompositionEnd,!0)))},n.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,i=t.value.length<2,e=t.selectionStart,n=0<e?t.value[e-1]:"",r=t.value;t.value=this._applyMask(),i&&(e=this._firstPos+1);var s=0<e?t.value[e-1]:"";return 0<e&&s==this._promptChar&&n!=this.promptChar&&e--,e==r.length&&(e=this._matchEnd),this._validatePosition(e),r!=t.value},n.prototype._applyMask=function(){this._full=!0,this._matchEnd=0;var t=this._tbx.value;if(!this._msk)return t;if(!t&&!this._tbx.required)return t;for(var i="",e=0,n=this._promptChar,t=this._handleVagueLiterals(t),r=0;r<this._mskArr.length;r++){var s=this._mskArr[r],o=s.literal;if(o&&o==t[e]&&e++,s.wildCard){if(o=n,t){for(var a=e;a<t.length;a++)if(this._isCharValid(s.wildCard,t[a])){switch(o=t[a],s.charCase){case">":o=o.toUpperCase();break;case"<":o=o.toLowerCase()}o!=n&&(this._matchEnd=i.length+1);break}e=a+1}o==n&&(this._full=!1)}i+=o}return i},n.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var i=t.length-this._mskArr.length;if(0!=i&&1<t.length){for(var e=-1,n=this._tbx,r=n==h.getActiveElement()?n.selectionStart:n.value.length,s=Math.max(0,r-i);s<this._mskArr.length;s++)if(this._mskArr[s].vague){e=s;break}if(-1<e)if(i<0){var o=Array(1-i).join(this._promptChar),a=e+i;-1<a&&(t=t.substr(0,a)+o+t.substr(a))}else{for(;0<e&&this._mskArr[e-1].literal;)e--;t=t.substr(0,e)+t.substr(e+i)}}return t},n.prototype._isCharValid=function(t,i){var e=this._promptChar;switch(t){case"0":return"0"<=i&&i<="9"||i==e;case"9":return"0"<=i&&i<="9"||" "==i||i==e;case"#":return"0"<=i&&i<="9"||" "==i||"+"==i||"-"==i||i==e;case"L":return"a"<=i&&i<="z"||"A"<=i&&i<="Z"||i==e;case"l":return"a"<=i&&i<="z"||"A"<=i&&i<="Z"||" "==i||i==e;case"A":return"0"<=i&&i<="9"||"a"<=i&&i<="z"||"A"<=i&&i<="Z"||i==e;case"a":return"0"<=i&&i<="9"||"a"<=i&&i<="z"||"A"<=i&&i<="Z"||" "==i||i==e;case"ï¼":return"ï¼"<=i&&i<="ï¼"||i==e;case"ï¼ª":case"ï¼§":return!("ï¼§"==t&&-1<n._X_DBCS_BIG_HIRA.indexOf(i))&&("ã"<=i&&i<="ã"||i==e);case"ï¼«":case"ï¼®":return!("ï¼®"==t&&-1<n._X_DBCS_BIG_KATA.indexOf(i))&&("ã¡"<=i&&i<="ãº"||i==e);case"ï¼º":return i<="!"||"Ã¿"<=i||i==e;case"H":return"!"<=i&&i<="Ã¿"||i==e;case"K":case"N":return!("N"==t&&-1<n._X_SBCS_BIG_KATA.indexOf(i))&&("ï½¦"<=i&&i<="ï¾"||i==e)}return!1},n.prototype._validatePosition=function(t){var i=this._mskArr;if(this._backSpace)for(;0<t&&t<i.length&&i[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<i.length&&i[t].literal;)t++;h.getActiveElement()==this._tbx&&h.setSelectionRange(this._tbx,t),this._backSpace=!1},n.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,i=this._msk,e="|",n=0;i&&n<i.length;n++)switch(i[n]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"ï¼":case"ï¼ª":case"ï¼§":case"ï¼«":case"ï¼®":case"ï¼º":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new a(i[n],e));break;case".":case",":case":":case"/":case"$":switch(i[n]){case".":case",":t=h.culture.Globalize.numberFormat[i[n]];break;case":":case"/":t=h.culture.Globalize.calendar[i[n]];break;case"$":t=h.culture.Globalize.numberFormat.currency.symbol}for(var r=0;r<t.length;r++)this._mskArr.push(new a(t[r]));break;case"<":case">":case"|":e=i[n];break;case"\\":n<i.length-1&&n++,this._mskArr.push(new a(i[n]));break;default:this._mskArr.push(new a(i[n]))}for(n=0;n<this._mskArr.length;n++){var s=this._mskArr[n];if(s.literal)for(r=0;r<n;r++){var o=this._mskArr[r];if(o.wildCard&&this._isCharValid(o.wildCard,s.literal)){s.vague=!0;break}}}},n._X_DBCS_BIG_HIRA="ãããããã£ãããããã",n._X_DBCS_BIG_KATA="ã¡ã£ã¥ã§ã©ãã£ã¥ã§ã®ãµã¶",n._X_SBCS_BIG_KATA="ï½§ï½¨ï½©ï½ªï½«ï½¬ï½­ï½®ï½¯",n);function n(t,i,e){void 0===i&&(i=null),void 0===e&&(e="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._hbInput=this._input.bind(this),this._hbKeyDown=this._keydown.bind(this),this._hbKeyPress=this._keypress.bind(this),this._hbCompositionStart=this._compositionstart.bind(this),this._hbCompositionEnd=this._compositionend.bind(this),this.mask=h.asString(i),this.input=t,this.promptChar=h.asString(e,!1),this._connect(!0),this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1)}h._MaskProvider=t;var a=function(t,i){i?(this.wildCard=t,this.charCase=i):this.literal=t};h._MaskElement=a}(ru||(window.wijmo=ru={})),co=ru||(window.wijmo=ru={}),Object.defineProperty(wo.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=co.asType(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(wo.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=co.asBoolean(t)},enumerable:!0,configurable:!0}),wo.prototype._connect=function(t){this._e&&(t?this._e.addEventListener("mousedown",this._mousedownBnd):this._e.removeEventListener("mousedown",this._mousedownBnd))},wo.prototype._clearTimeouts=function(){this._toRepeat&&(clearInterval(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearInterval(this._toDelay),this._toDelay=null)},wo.prototype._mousedown=function(t){var i=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,wo._stopEvents.forEach(function(t){document.addEventListener(t,i._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){i._isDown&&(i._onClick(),i._toRepeat=setTimeout(i._onClickBnd,co.Control._CLICK_REPEAT))},co.Control._CLICK_DELAY))},wo.prototype._mouseup=function(t){var i=this;this._isDown&&t&&"mouseup"==t.type&&t.preventDefault(),wo._stopEvents.forEach(function(t){document.removeEventListener(t,i._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1},wo.prototype._onClick=function(){this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._onClickBnd,co.Control._CLICK_REPEAT)))},wo._stopEvents=["mouseup","mouseout","keydown"],co._ClickRepeater=wo,function(n){var t=null!=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i);n.isMobile=function(){return t};var e=null!=navigator.userAgent.match(/Firefox\//);n.isFirefox=function(){return e};var i=null!=navigator.userAgent.match(/^((?!chrome|android).)*safari/i);n.isSafari=function(){return i};var r=null!=navigator.userAgent.match(/Edge\//);n.isEdge=function(){return r};var s=null!=navigator.userAgent.match(/MSIE |Trident\/|Edge\//),o=!(n.isIE=function(){return s}),a=!(n.isIE9=function(){return o});document.addEventListener("test",function(t){},{get passive(){return a=!0}});var h=!(n.getEventOptions=function(t,i){return a?{capture:t,passive:i}:t});document.createElement("div").focus({get preventScroll(){return h=!0}}),n.supportsFocusOptions=function(){return h},n._startDrag=function(t,i){t.effectAllowed=i,e&&t.setData("text","")},document.doctype&&-1<navigator.appVersion.indexOf("MSIE 9")&&(o=!0,document.addEventListener("mousemove",function(t){if(1==t.which){var i=n.closest(t.target,".wj-control");if(i&&!i.style.cursor)for(var e=t.target;e;e=e.parentElement)if(e.attributes&&e.attributes.draggable)return e.dragDrop(),!1}}));var c,u,l,f="requestAnimationFrame";window[f]||(c=0,window[f]=function(t){var i=Date.now(),e=16-(i-c),n=0<e?e:0;return c=i+n,setTimeout(function(){t(c)},n)},window.cancelAnimationFrame=clearTimeout),window.atob||(u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=new RegExp("[^"+u+"]"),window.atob=function(t){var i,e,n,r,s=[],o=0,a=t.length;if(l.test(t)||/=/.test(t)&&(/=[^=]/.test(t)||/={3}/.test(t)))throw new Error("Invalid base64 data");for(0<a%4&&(a=(t+=Array(4-a%4+1).join("=")).length);o<a;){for(e=[],r=o;o<r+4;)e.push(u.indexOf(t.charAt(o++)));for(n=[((i=(e[0]<<18)+(e[1]<<12)+((63&e[2])<<6)+(63&e[3]))&255<<16)>>16,64===e[2]?-1:(65280&i)>>8,64===e[3]?-1:255&i],r=0;r<3;++r)(0<=n[r]||0===r)&&s.push(String.fromCharCode(n[r]))}return s.join("")},window.btoa=function(t){for(var i,e,n=[],r=0,s=t.length;r<s;)i=((e=[t.charCodeAt(r++),t.charCodeAt(r++),t.charCodeAt(r++)])[0]<<16)+((e[1]||0)<<8)+(e[2]||0),n.push(u.charAt((i&63<<18)>>18),u.charAt((258048&i)>>12),u.charAt(isNaN(e[1])?64:(4032&i)>>6),u.charAt(isNaN(e[2])?64:63&i));return n.join("")})}(ru||(window.wijmo=ru={}));var Bo,Co,jo,yo,xo,Io,Mo,Fo,Qo,Ro,ko,So,Do,No,To,Oo,Yo,Uo,Ho,zo,Go,Po,Vo,Lo,Jo,Wo,_o,Xo,Ko,Zo,qo,$o,ta,ia,ea,na,ra,sa,oa,aa,ha,ca,ua,la,fa,da,Aa,ga,wa,ma,pa=window&&window.__extends||(Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Bo(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});function va(t,i){var n=Fo.call(this,t)||this;n._hsb=[.5,1,1],n._alpha=1,n.valueChanged=new Io.Event;var e=n.getTemplate();n.applyTemplate("wj-control wj-content wj-colorpicker",e,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),n._palette="#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),n._updatePalette(),n._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",n._eHue.style.backgroundSize="contain",-1<navigator.appVersion.indexOf("MSIE 9")&&(n._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",n._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),e=va._tplCursor,n._cSB=Io.createElement(e),n._cHue=Io.createElement(e),n._cHue.style.width="100%",n._cAlpha=Io.createElement(e),n._cAlpha.style.height="100%",n._eSB.appendChild(n._cSB),n._eHue.appendChild(n._cHue),n._eAlpha.appendChild(n._cAlpha),n.addEventListener(n.hostElement,"mousedown",function(t){document.addEventListener("mousemove",r),document.addEventListener("mouseup",s),n._mouseDown(t)});var r=function(t){n._mouseMove(t)},s=function t(i){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",t),n._mouseUp(i)};return n.addEventListener(n.hostElement,"click",function(t){var i,e=t.target;e&&"DIV"==e.tagName&&Io.contains(n._ePal,e)&&(i=e.style.backgroundColor)&&(n.value=new Io.Color(i).toString())}),n.value="#ffffff",n.initialize(i),n._updatePanels(),n}function ba(t,i){var e=No.call(this,t)||this;e._editable=!1,e._delKey=0,e._composing=!1,e._pathHdr=new So.Binding(null),e._bsCollapse=!0,e.itemsSourceChanged=new So.Event,e.selectedIndexChanged=new So.Event;var n=e.hostElement;return So.addClass(n,"wj-combobox"),e.dropDown.id=So.getUniqueId(n.id+"_dropdown"),e.autoExpandSelection=!1,e.addEventListener(e._tbx,"compositionstart",function(){e._composing=!0}),e.addEventListener(e._tbx,"compositionend",function(){e._composing=!1,setTimeout(function(){e._setText(e.text,!0)})}),e.addEventListener(n,"wheel",function(t){var i;!t.defaultPrevented&&!e.isDroppedDown&&!e.isReadOnly&&e.containsFocus()&&-1<e.selectedIndex&&(i=So.clamp(-t.deltaY,-1,1),e.selectedIndex=So.clamp(e.selectedIndex-i,0,e.collectionView.items.length-1),t.preventDefault())}),"SELECT"==e._orgTag&&e._lbx._initFromSelect(n),e._lbx.loadedItems.addHandler(function(t){-1<e.selectedIndex&&(e.selectedIndex=e._lbx.selectedIndex)}),e.isRequired=!0,e.initialize(i),e}function Ea(t,i){var e=Uo.call(this,t)||this;return e._cssMatch="wj-autocomplete-match",e._minLength=2,e._maxItems=6,e._itemCount=0,e._delay=500,e._query="",e._inCallback=!1,e._srchProps=[],Oo.addClass(e.hostElement,"wj-autocomplete"),e._bsCollapse=!1,e.isEditable=!0,e.isRequired=!1,e.listBox.formatItem.addHandler(e._formatListItem,e),e._itemsSourceFnCallBackBnd=e._itemSourceFunctionCallback.bind(e),e.initialize(i),e}function Ba(t,i){var e=Po.call(this,t)||this;e.itemClicked=new zo.Event;var n=e.hostElement,r=e._tbx;zo.addClass(n,"wj-menu"),r.style.display="none",e._hdr=e._elRef=zo.createElement('<div wj-part="header" class="wj-form-control" style="cursor:default"/>'),r.parentElement.insertBefore(e._hdr,e._tbx);var s=e._orgOuter.match(/tabindex="?(-?\d+)"?/i);return s&&(n.tabIndex=parseInt(s[1])),e.isRequired=!1,zo.setAttribute(n,"role","menubar",!0),zo.setAttribute(r,"role",null),zo.setAttribute(r,"aria-autocomplete",null),zo.setAttribute(r,"aria-owns",null),zo.setAttribute(e.dropDown,"role","menu"),e.listBox.itemRole="menuitem","SELECT"==e._orgTag&&(e.header=n.getAttribute("header"),e._lbx.itemsSource&&(e.commandParameterPath="cmdParam")),e.isContentHtml=!0,e.maxDropDownHeight=500,e.addEventListener(e._hdr,"click",function(t){t.defaultPrevented||(e._isButton?(e.isDroppedDown=!1,e._raiseCommand()):e.isDroppedDown=!e.isDroppedDown)}),e.listBox.lostFocus.addHandler(function(){e.containsFocus()||(e.isDroppedDown=!1)}),e.initialize(i),e}function Ca(t,i){var e=Xo.call(this,t)||this;return e._selItems=[],e._lastInputValue="",e._selPath=new Wo.Binding(null),e._notAddItm=!1,e.selectedItemsChanged=new Wo.Event,Wo.addClass(e.hostElement,"wj-multi-autocomplete"),e.showDropDownButton=!1,e.initialize(i),e._wjTpl=e.hostElement.querySelector(".wj-template"),e._wjInput=e.hostElement.querySelector(".wj-input"),e.addEventListener(e.hostElement,"keyup",e._keyup.bind(e),!0),e.addEventListener(window,"resize",e._adjustInputWidth.bind(e)),e.addEventListener(e._tbx,"focus",function(){e._itemOff()}),e._addHelperInput(),e._initSeltems(),e.listBox.itemsChanged.addHandler(function(){return e.selectedIndex=-1}),e._refreshHeader(),e}function ja(t,i){var e,n=ia.call(this,t)||this;return n._format="d",n.valueChanged=new $o.Event,$o.addClass(n.hostElement,"wj-inputdate"),n._msk=new $o._MaskProvider(n._tbx),$o.isIE9()||(n.inputType="tel"),n._tbx.type.match(/date/i)&&(n.inputType=""),n.addEventListener(n.hostElement,"wheel",function(t){var i;!t.defaultPrevented&&!n.isDroppedDown&&n.containsFocus()&&null!=n.value&&n._canChangeValue()&&(i=$o.clamp(-t.deltaY,-1,1),n.value=n.selectionMode==ta.DateSelectionMode.Month?$o.DateTime.addMonths(n.value,i):$o.DateTime.addDays(n.value,i),n.selectAll(),t.preventDefault())}),n.value=$o.DateTime.newDate(),"INPUT"==n._orgTag&&(e=n._tbx.getAttribute("value"))&&(n.value=$o.Globalize.parseDate(e,"yyyy-MM-dd")),n.isRequired=!0,n.initialize(i),n}function ya(t,i){var e,n=sa.call(this,t)||this;return n._format="t",n.valueChanged=new na.Event,na.addClass(n.hostElement,"wj-inputtime"),n._value=na.DateTime.newDate(),n._msk=new na._MaskProvider(n._tbx),na.isIE9()||(n._tbx.type="tel"),"INPUT"==n._orgTag&&(e=n._tbx.getAttribute("value"))&&(n.value=na.Globalize.parseDate(e,"HH:mm:ss")),n.step=15,n.autoExpandSelection=!0,n.initialize(i),n}function xa(t,i){var e=da.call(this,t)||this;e.valueChanged=new la.Event;var n,r=e.getTemplate();return e.applyTemplate("wj-control wj-content wj-inputmask",r,{_tbx:"input"},"input"),"INPUT"==e._orgTag&&(n=e._tbx.getAttribute("value"))&&(e.value=n),e._msk=new la._MaskProvider(e._tbx),e.isRequired=!0,e.initialize(i),e.addEventListener(e._tbx,"input",function(){setTimeout(function(){e.onValueChanged()})}),e}function Ia(t,i){var e=ma.call(this,t)||this;return e.valueChanged=new ga.Event,ga.addClass(e.hostElement,"wj-inputcolor"),e._tbx.style.paddingLeft="24px",e._ePreview=ga.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>',e.hostElement.firstElementChild),"INPUT"==e._orgTag&&(e._tbx.type="",e._commitText()),e.value="#ffffff",e.isRequired=!0,e.initialize(i),e.addEventListener(e._colorPicker.hostElement,"click",function(t){var i=t.target;i&&"DIV"==i.tagName&&(ga.closest(i,'[wj-part="div-pal"]')||ga.closest(i,'[wj-part="div-pv"]'))&&i.style.backgroundColor&&(e.isDroppedDown=!1)}),e}function Ma(t){return void 0!==t&&(Di.Array===t||Na[Da]===t)}function Fa(t){if(null!=t)return t[Ta]||t["@@iterator"]||Di[Ue(t)]}function Qa(i,t,e,n){try{return n?t(S(e)[0],e[1]):t(e)}catch(t){var r=i.return;throw void 0!==r&&S(r.call(i)),t}}function Ra(t,i,e){if(!(t instanceof i))throw TypeError("Incorrect "+(e?e+" ":"")+"invocation");return t}(function(t){Co.culture.DropDown=window.wijmo.culture.DropDown||{ariaLabels:{tgl:"Toggle Dropdown"}};var h,i=(h=Co.Control,pa(e,h),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=Co.asBoolean(t),Co.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=Co.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDroppedDown",{get:function(){var t=this._dropDown;return t&&"none"!=t.style.display},set:function(t){var i,e,n,r,s=this;(t=Co.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new Co.CancelEventArgs)&&(i=this.hostElement,n=(e=this._dropDown).style,t?(n.minWidth||(n.minWidth=i.getBoundingClientRect().width+"px"),n.display="block",this._updateDropDown(),this.addEventListener(document.body,"touchstart",function(t){Co.contains(i,t.target)||Co.contains(e,t.target)||(s.isDroppedDown=!1)})):(this.removeEventListener(document.body,"touchstart"),r=this.containsFocus(),Co.hidePopup(e),r&&(this.isTouching&&this.showDropDownButton?this.hostElement.focus():this.selectAll())),this._updateFocusState(),Co.toggleClass(i,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(Co.removeClass(this._dropDown,this._cssClass),this._cssClass=Co.asString(t),Co.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=Co.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=Co.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=Co.asBoolean(t)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){this._elRef==this._tbx&&Co.setSelectionRange(this._tbx,0,this.text.length),this.containsFocus()||this.focus()},e.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},e.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDownChanging.raise(this,t),!t.cancel},e.prototype.onIsDroppedDownChanged=function(t){this.isDroppedDownChanged.raise(this,t)},e.prototype.onGotFocus=function(t){this.isTouching||Co.contains(this._dropDown,Co.getActiveElement())||this.selectAll(),h.prototype.onGotFocus.call(this,t)},e.prototype.onLostFocus=function(t){this._commitText(),this.containsFocus()||(this.isDroppedDown=!1),h.prototype.onLostFocus.call(this,t)},e.prototype.containsFocus=function(){return h.prototype.containsFocus.call(this)||this.isDroppedDown&&Co.contains(this._dropDown,Co.getActiveElement())},e.prototype.dispose=function(){this.isDroppedDown=!1;var t,i=this.dropDown;i&&((t=Co.Control.getControl(i))&&t.dispose(),Co.removeChild(i)),h.prototype.dispose.call(this)},e.prototype.refresh=function(t){var i;void 0===t&&(t=!0),h.prototype.refresh.call(this,t),this.isDroppedDown&&"none"!=getComputedStyle(this.hostElement).display&&(i=Co.getActiveElement(),Co.showPopup(this._dropDown,this.hostElement,!1,!1,null==this.dropDownCssClass),i instanceof HTMLElement&&i!=Co.getActiveElement()&&i.focus())},e.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},e.prototype._expandSelection=function(){var t=this._tbx,i=t.value,e=t.selectionStart,n=t.selectionEnd;if(i&&e==n){var r=this._getCharType(i,e);if(-1<r){for(;n<i.length&&this._getCharType(i,n)==r;n++);for(;0<e&&this._getCharType(i,e-1)==r;e--);e!=n&&Co.setSelectionRange(t,e,n)}}},e.prototype._getCharType=function(t,i){var e=t[i];return"0"<=e&&e<="9"?0:"a"<=e&&e<="z"||"A"<=e&&e<="Z"?1:-1},e.prototype._keydown=function(t){if(this._altDown=t.altKey,!t.defaultPrevented)switch(t.keyCode){case Co.Key.Tab:case Co.Key.Escape:case Co.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==Co.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case Co.Key.F4:case Co.Key.Up:case Co.Key.Down:var i;(t.keyCode==Co.Key.F4||t.altKey)&&Co.contains(document.body,this.hostElement)&&(i=this.isDroppedDown,this.isDroppedDown=!i,this.isDroppedDown==!i&&t.preventDefault())}},e.prototype._btnclick=function(t){t.defaultPrevented||0!=t.button||(this.isDroppedDown=!this.isDroppedDown)},e.prototype._setText=function(t,i){null==t&&(t=""),(t=t.toString())!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t,this.onTextChanged())},e.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},e.prototype._createDropDown=function(){},e.prototype._commitText=function(){},e.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),Co.showPopup(this._dropDown,this.hostElement,!1,this._animate,null==this.dropDownCssClass))},e.controlTemplate='<div class="wj-template" style="position:relative"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none"></div></div>',e);function e(t,i){var e=h.call(this,t,null,!0)||this;e._showBtn=!0,e._autoExpand=!0,e._animate=!1,e.textChanged=new Co.Event,e.isDroppedDownChanging=new Co.Event,e.isDroppedDownChanged=new Co.Event;var n=e.getTemplate();e.applyTemplate("wj-control wj-content wj-dropdown",n,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input");var r=Co.culture.DropDown.ariaLabels;Co.setAriaLabel(e._btn.querySelector("button"),r.tgl);var s=e._tbx;e._elRef=s,Co.disableAutoComplete(s),e._createDropDown(),e._updateBtn(),Co.removeChild(e._dropDown),Co.addClass(e.hostElement,"wj-state-collapsed");var o=e._updateFocusState.bind(e);e.addEventListener(e.dropDown,"blur",o,!0),e.addEventListener(e.dropDown,"focus",o);var a=e._keydown.bind(e);return e.addEventListener(e.hostElement,"keydown",a),e.addEventListener(e.dropDown,"keydown",a),e.addEventListener(s,"keypress",function(t){9787==t.keyCode&&e._altDown&&t.preventDefault()}),e.addEventListener(s,"input",function(){e._setText(e.text,!1)}),e.addEventListener(s,"click",function(){e._autoExpand&&e._expandSelection()}),Co.isIE9()&&e.addEventListener(s,"keyup",function(){e._setText(e.text,!1)}),e.addEventListener(e._btn,"mousedown",function(t){t.defaultPrevented||0!=t.button||setTimeout(function(){e._btnclick(t)})}),e.addEventListener(e._dropDown,"click",function(t){t.stopPropagation()}),e}t.DropDown=i})((Co=ru||(window.wijmo=ru={})).input||(Co.input={})),pa=window&&window.__extends||(jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}jo(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(w){var r,t;yo.culture.Calendar=window.wijmo.culture.Calendar||{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}},(t=r=w.DateSelectionMode||(w.DateSelectionMode={}))[t.None=0]="None",t[t.Day=1]="Day",t[t.Month=2]="Month";var m,i=(m=yo.Control,pa(e,m),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t=yo.asDate(t,!0),t=this._clamp(t),!this._valid(t)&&null!=t||(this.displayMonth=this._getMonth(t),yo.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=yo.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=yo.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var i,e;(t=yo.asEnum(t,r))!=this._selMode&&(this._selMode=t,(i=this._monthMode())&&(this.monthView=!1),(e=this._btnMth.querySelector(".wj-glyph-down"))&&(e.style.display=i?"none":""),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=yo.asBoolean(t),yo.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if((t=yo.asNumber(t,!0))&&(6<t||t<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=t,this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){yo.DateTime.equals(this.displayMonth,t)||(t=yo.asDate(t),(this.monthView?this._monthInValidRange(t):this._yearInValidRange(t))&&(this._currMonth=this._getMonth(this._clamp(t)),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(t){t!=this._fmtYrMo&&(this._fmtYrMo=yo.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(t){t!=this._fmtDayHdr&&(this._fmtDayHdr=yo.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(t){t!=this._fmtDay&&(this._fmtDay=yo.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(t){t!=this._fmtYr&&(this._fmtYr=yo.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(t){t!=this._fmtMonths&&(this._fmtMonths=yo.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(t){this._tbHdr.style.display=yo.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(t){var i;t!=this.monthView&&(this._tbMth.style.display=t?"":"none",this._tbYr.style.display=t?"none":"",this.refresh(),i=yo.culture.Calendar.ariaLabels,yo.setAriaLabel(this._btnPrv,t?i.prvMo:i.prvYr),yo.setAriaLabel(this._btnTdy,t?i.today:i.currMo),yo.setAriaLabel(this._btnNxt,t?i.nxtMo:i.nxtYr),yo.setAriaLabel(this._btnMth,t?i.monthView:i.yearView))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=yo.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=yo.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onDisplayMonthChanged=function(t){this.displayMonthChanged.raise(this,t)},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype.refresh=function(t){void 0===t&&(t=!0);var i,e,n,r=this.displayMonth,s=null!=this.firstDayOfWeek?this.firstDayOfWeek:yo.Globalize.getFirstDayOfWeek(),o=this.hostElement,a=yo.getActiveElement(),h=yo.contains(o,a)?a:null;m.prototype.refresh.call(this,t),this._firstDay=yo.DateTime.addDays(r,-(r.getDay()-s+7)%7),yo.setText(this._spMth,yo.Globalize.format(r,this._fmtYrMo)),i=this._tbMth.querySelectorAll("td");for(var c=0;c<7&&c<i.length;c++)n=yo.DateTime.addDays(this._firstDay,c),yo.setText(i[c],yo.Globalize.format(n,this._fmtDayHdr));for(c=7;c<i.length;c++){e=i[c],n=yo.DateTime.addDays(this._firstDay,c-7),yo.setText(e,yo.Globalize.format(n,this._fmtDay));var u,l=!this._valid(n),f=this._selMode&&yo.DateTime.sameDate(n,this.value),d=n.getDay();yo.toggleClass(e,"wj-state-invalid",l),yo.toggleClass(e,"wj-state-selected",f),yo.toggleClass(e,"wj-day-weekend",0==d||6==d),yo.toggleClass(e,"wj-day-today",yo.DateTime.sameDate(n,yo.DateTime.newDate())),yo.toggleClass(e,"wj-day-othermonth",l||n.getMonth()!=r.getMonth()||!this._inValidRange(n)),yo.setAttribute(e,"aria-selected",f),e.tabIndex=-1,this.itemFormatter&&this.itemFormatter(n,e),this.formatItem.hasHandlers&&(u=new w.FormatItemEventArgs(c,n,e),this.onFormatItem(u))}var A=this._tbMth.querySelectorAll("tr");for(A.length&&(n=yo.DateTime.addDays(this._firstDay,28),A[A.length-2].style.display=n.getMonth()==r.getMonth()?"":"none",n=yo.DateTime.addDays(this._firstDay,35),A[A.length-1].style.display=n.getMonth()==r.getMonth()?"":"none"),(i=this._tbYr.querySelectorAll("td")).length&&yo.setText(i[0],yo.Globalize.format(r,this._fmtYr)),c=1;c<i.length;c++)n=yo.DateTime.newDate(r.getFullYear(),c-1,1),l=!this._monthInValidRange(n),f=this._sameMonth(n,this.value),e=i[c],yo.setText(e,yo.Globalize.format(n,this._fmtMonths)),yo.toggleClass(e,"wj-state-disabled",l),yo.toggleClass(e,"wj-state-selected",f),yo.setAttribute(e,"aria-selected",f),e.tabIndex=-1;var g=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||o;g.tabIndex=this._orgTabIndex,h&&h!=g&&(g.focus(),h.tabIndex=-1)},e.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=r.None},e.prototype._valid=function(t){return!!yo.isDate(t)&&!!yo.DateTime.sameDate(t,this._clamp(t))&&(!yo.isFunction(this.itemValidator)||this.itemValidator(t))},e.prototype._inValidRange=function(t){return!(this.min&&t<yo.DateTime.fromDateTime(this.min,t)||this.max&&t>yo.DateTime.fromDateTime(this.max,t))},e.prototype._monthInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),e=t.getMonth(),n=yo.DateTime.newDate(i,e,1),r=yo.DateTime.newDate(i,e+1,0);if(this.min&&this.min>r)return!1;if(this.max&&this.max<n)return!1}return!0},e.prototype._yearInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),e=yo.DateTime.newDate(i,0),n=yo.DateTime.newDate(i,11,31);if(this.min&&this.min>n)return!1;if(this.max&&this.max<e)return!1}return!0},e.prototype._sameMonth=function(t,i){return yo.isDate(t)&&yo.isDate(i)&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()},e.prototype._getValidDate=function(t,i){if(yo.isDate(t))for(var e=t.getFullYear(),n=t.getMonth()+(i?0:1),r=i?1:0,s=yo.DateTime.newDate(e,n,r),o=i?1:-1,a=0;a<31;a++){if(this._valid(s))return s;s=yo.DateTime.addDays(s,o)}return null},e.prototype._clamp=function(t){var i,e;return t&&(!this.min||t<(i=yo.DateTime.fromDateTime(this.min,t))&&(t=i),!this.max||(e=yo.DateTime.fromDateTime(this.max,t))<t&&(t=e)),t},e.prototype._createChildren=function(){var t=this.getTemplate();this.applyTemplate("wj-control wj-calendar",t,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"});var i=yo.culture.Calendar.ariaLabels;yo.setAriaLabel(this._tbMth,i.calendar),yo.setAriaLabel(this._tbYr,i.calendar),yo.setAriaLabel(this._btnPrv,i.calendar),yo.setAriaLabel(this._btnMth,i.monthView),yo.setAriaLabel(this._btnPrv,i.prvMo),yo.setAriaLabel(this._btnTdy,i.today),yo.setAriaLabel(this._btnNxt,i.nxtMo);for(var e=this._createElement("tr",this._tbMth,"wj-header"),n=0;n<7;n++)this._createElement("td",e);for(var r=0;r<6;r++)for(e=this._createElement("tr",this._tbMth),n=0;n<7;n++)this._createElement("td",e);e=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",e).setAttribute("colspan","4");for(var s=0;s<3;s++){e=this._createElement("tr",this._tbYr);for(var o=0;o<4;o++)this._createElement("td",e)}},e.prototype._createElement=function(t,i,e){var n,r=document.createElement(t);return i&&i.appendChild(r),e&&yo.addClass(r,e),"TD"==r.tagName&&(n=yo.closest(r,".wj-header")?"columnheader":"gridcell",yo.setAttribute(r,"role",n),yo.setAttribute(r,"aria-selected",!1)),r},e.prototype._click=function(t){var i,e,n,r;t.defaultPrevented||0!=t.button||(e=!1,n=t.target,yo.contains(this._btnMth,n)&&!this._monthMode()?(this.monthView=!this.monthView,e=!0):yo.contains(this._btnPrv,n)?(this._navigate(-1),e=!0):yo.contains(this._btnNxt,n)?(this._navigate(1),e=!0):yo.contains(this._btnTdy,n)&&(this._navigate(0),e=!0),!n||e||(n=yo.closest(n,"TD"))&&(this.monthView?6<(i=this._getCellIndex(this._tbMth,n))&&this._canChangeValue()&&(r=yo.DateTime.fromDateTime(yo.DateTime.addDays(this._firstDay,i-7),this.value),this._inValidRange(r)&&this._valid(r)&&(this.value=r),e=!0):0<(i=this._getCellIndex(this._tbYr,n))&&(this.displayMonth=yo.DateTime.newDate(this.displayMonth.getFullYear(),i-1,1),this._monthMode()?this._canChangeValue()&&(r=yo.DateTime.fromDateTime(this.displayMonth,this.value),this._inValidRange(r)&&(this.value=r)):this.monthView=!0,e=!0)),e&&(t.preventDefault(),this.focus()))},e.prototype._getCellIndex=function(t,i){for(var e=t.querySelectorAll("TD"),n=0;n<e.length;n++)if(e[n]==i)return n;return-1},e.prototype._keydown=function(t){if(!t.defaultPrevented){if(t.altKey)switch(t.keyCode){case yo.Key.Up:case yo.Key.Down:return;case yo.Key.End:return this._navigate(0),void t.preventDefault()}if(!(t.ctrlKey||t.metaKey||t.shiftKey)){var i=0,e=0,n=!0;if(this.monthView)switch(t.keyCode){case yo.Key.Left:i=-1;break;case yo.Key.Right:i=1;break;case yo.Key.Up:i=-7;break;case yo.Key.Down:i=7;break;case yo.Key.PageDown:e=t.altKey?12:1;break;case yo.Key.PageUp:e=t.altKey?-12:-1;break;case yo.Key.Home:this._canChangeValue()&&(r=this._getValidDate(this.value,!0))&&(this.value=yo.DateTime.fromDateTime(r,this.value));break;case yo.Key.End:this._canChangeValue()&&(r=this._getValidDate(this.value,!1))&&(this.value=yo.DateTime.fromDateTime(r,this.value));break;default:n=!1}else switch(t.keyCode){case yo.Key.Left:e=-1;break;case yo.Key.Right:e=1;break;case yo.Key.Up:e=-4;break;case yo.Key.Down:e=4;break;case yo.Key.PageDown:e=t.altKey?120:12;break;case yo.Key.PageUp:e=t.altKey?-120:-12;break;case yo.Key.Home:e=this.value?-this.value.getMonth():0;break;case yo.Key.End:e=this.value?11-this.value.getMonth():0;break;case yo.Key.Enter:this._monthMode()?n=!1:this.monthView=!0;break;default:n=!1}if(this._canChangeValue()&&(i||e)){var r=(r=this.value)?(r=yo.DateTime.addDays(r,i),yo.DateTime.addMonths(r,e)):this._getValidDate(new Date,!0);if(e&&!this._valid(r))for(var s=r.getMonth(),o=1;o<31&&!this._valid(r);o++){var a=yo.DateTime.addDays(r,+o),h=yo.DateTime.addDays(r,-o);this._valid(a)&&a.getMonth()==s?r=a:this._valid(h)&&h.getMonth()==s&&(r=h)}for(o=0;o<31&&!this._valid(r);o++)r=yo.DateTime.addDays(r,0<i||0<e?1:-1);this.value=r}n&&t.preventDefault()}}},e.prototype._getMonth=function(t){return t=t||yo.DateTime.newDate(),yo.DateTime.newDate(t.getFullYear(),t.getMonth(),1)},e.prototype._monthMode=function(){return this.selectionMode==r.Month},e.prototype._navigate=function(t){var i=this.monthView,e=this.displayMonth;switch(t){case 0:var n=yo.DateTime.newDate();this._canChangeValue()&&(this.value=i?yo.DateTime.fromDateTime(n,this.value):this._getMonth(n)),e=this._getMonth(n);break;case 1:e=yo.DateTime.addMonths(e,i?1:12);break;case-1:e=yo.DateTime.addMonths(e,i?-1:-12)}this.displayMonth=e},e.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid" style="display:none"></table></div>',e);function e(t,i){var e=m.call(this,t)||this;e._readOnly=!1,e._selMode=r.Day,e._fmtYrMo="y",e._fmtYr="yyyy",e._fmtDayHdr="ddd",e._fmtDay="d ",e._fmtMonths="MMM",e.valueChanged=new yo.Event,e.displayMonthChanged=new yo.Event,e.formatItem=new yo.Event;var n=e.hostElement;return n.tabIndex=-1,e._value=yo.DateTime.newDate(),e._currMonth=e._getMonth(e._value),e._createChildren(),e.addEventListener(n,"mouseup",e._click.bind(e)),e.addEventListener(n,"keydown",e._keydown.bind(e)),e.initialize(i),e.refresh(!0),e}w.Calendar=i}((yo=ru||(window.wijmo=ru={})).input||(yo.input={})),pa=window&&window.__extends||(xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}xo(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),Mo=(Io=ru||(window.wijmo=ru={})).input||(Io.input={}),Fo=Io.Control,pa(va,Fo),Object.defineProperty(va.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(t){this._eAlpha.parentElement.style.display=Io.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(va.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(t){this._eText.style.display=Io.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(va.prototype,"value",{get:function(){return this._value},set:function(t){var i,e;t!=this.value&&(this._value=Io.asString(t),this._eText.innerText=this._value,e=(i=new Io.Color(this._value)).getHsb(),this._hsb[0]==e[0]&&this._hsb[1]==e[1]&&this._hsb[2]==e[2]&&this._alpha==i.a||(0==e[2]?(e[0]=this._hsb[0],e[1]=this._hsb[1]):0==e[1]&&(e[0]=this._hsb[0]),this._hsb=e,this._alpha=i.a,this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(va.prototype,"palette",{get:function(){return this._palette},set:function(t){t=Io.asArray(t);for(var i=0;i<t.length&&i<this._palette.length;i++){var e=Io.asString(t[i]);this._palette[i]=e}this._updatePalette()},enumerable:!0,configurable:!0}),va.prototype.onValueChanged=function(t){this._updatePanels(),this.valueChanged.raise(this,t)},va.prototype._mouseDown=function(t){this._htDown=this._getTargetPanel(t),this._htDown&&(t.preventDefault(),this.focus(),this._mouseMove(t))},va.prototype._mouseMove=function(t){var i;this._htDown&&(i=this._htDown.getBoundingClientRect(),this._htDown==this._eHue?(this._hsb[0]=Io.clamp((t.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=Io.clamp((t.clientX-i.left)/i.width,0,1),this._hsb[2]=Io.clamp(1-(t.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=Io.clamp((t.clientX-i.left)/i.width,0,1),this._updateColor()))},va.prototype._mouseUp=function(t){this._htDown=null},va.prototype._updateColor=function(){var t=Io.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString(),this._updatePanels()},va.prototype._updatePalette=function(){var t=new Io.Color("#fff"),i=new Io.Color("#000");this._ePal.innerHTML="";for(var e=0;e<this._palette.length;e++){var n=Io.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),r=new Io.Color(this._palette[e]),s=r.getHsb();n.appendChild(this._makePalEntry(r,4));for(var o,a=0;a<5;a++)r=0==s[1]?(o=.1*a+(.5<s[2]?.05:.55),Io.Color.interpolate(t,i,o)):Io.Color.fromHsb(s[0],.1+.2*a,1-.1*a),n.appendChild(this._makePalEntry(r,0));this._ePal.appendChild(n)}},va.prototype._makePalEntry=function(t,i){var e=document.createElement("div");return Io.setCss(e,{cursor:"pointer",backgroundColor:t.toString(),marginBottom:i||""}),e.innerHTML="&nbsp",e},va.prototype._updatePanels=function(){var t=Io.Color.fromHsb(this._hsb[0],1,1,1),i=Io.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=t.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+i.toString()+" 100%)",-1<navigator.appVersion.indexOf("MSIE 9")&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+i.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},va.prototype._getTargetPanel=function(t){var i=t.target;return Io.contains(this._eSB,i)?this._eSB:Io.contains(this._eHue,i)?this._eHue:Io.contains(this._eAlpha,i)?this._eAlpha:null},va.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',va._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',Mo.ColorPicker=va,pa=window&&window.__extends||(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Qo(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){var r,i=(r=Ro.Control,pa(n,r),n.prototype.refresh=function(t){void 0===t&&(t=!0),r.prototype.refresh.call(this,t),!this.displayMemberPath&&this.checkedMemberPath||this._populateList()},Object.defineProperty(n.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=Ro.asCollectionView(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=Ro.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=Ro.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=Ro.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=Ro.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=Ro.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemRole",{get:function(){return this._itemRole},set:function(t){t!=this.itemRole&&(this._itemRole=Ro.asString(t),this._populateList())},enumerable:!0,configurable:!0}),n.prototype.getDisplayValue=function(t){var i=null;-1<t&&Ro.hasItems(this._cv)&&(i=this._cv.items[t],this.displayMemberPath&&(i=this._pathDisplay.getValue(i)));var e=null!=i?i.toString():"";return this.itemFormatter&&(e=this.itemFormatter(t,e)),e},n.prototype.getDisplayText=function(t){var i=this.hostElement.children,e=-1<t&&t<i.length?i[t]:null;return null!=e?e.textContent:""},n.prototype.isItemEnabled=function(t){if(!this.getDisplayText(t))return!1;var i=this.hostElement.children[t];return!(!i||i.hasAttribute("disabled")||Ro.hasClass(i,"wj-state-disabled"))},Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(Ro.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(t){this._cv&&this._cv.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValue",{get:function(){var t=this.selectedItem;return t&&this.selectedValuePath&&(t=this._pathValue.getValue(t)),t},set:function(t){var i=this.selectedValuePath,e=-1;if(this._cv){for(var n=0;n<this._cv.items.length;n++){var r=this._cv.items[n],s=i?this._pathValue.getValue(r):r;if(s===t||Ro.DateTime.equals(s,t)){e=n;break}}this.selectedIndex=e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxHeight",{get:function(){var t=this.hostElement;return t?parseFloat(t.style.maxHeight):null},set:function(t){var i=this.hostElement;i&&(i.style.maxHeight=Ro.asNumber(t)+"px")},enumerable:!0,configurable:!0}),n.prototype.showSelection=function(){for(var t,i,e=this.selectedIndex,n=this.hostElement,r=n.children,s=0;s<r.length;s++){var o=s==e,a=r[s];Ro.toggleClass(a,"wj-state-selected",o),a.tabIndex=o?this._orgTabIndex:-1,Ro.setAttribute(a,"aria-selected",o)}-1<e&&e<r.length&&(t=(a=r[e]).getBoundingClientRect(),i=n.getBoundingClientRect(),t.bottom>i.bottom?n.scrollTop+=t.bottom-i.bottom:t.top<i.top&&(n.scrollTop-=i.top-t.top)),-1<e&&this.containsFocus()&&(a=r[e])instanceof HTMLElement&&!Ro.contains(a,Ro.getActiveElement())&&a.focus(),n.tabIndex=e<0?this._orgTabIndex:-1},n.prototype.getItemChecked=function(t){var i=this._cv.items[t];if(Ro.isObject(i)&&this.checkedMemberPath)return this._pathChecked.getValue(i);var e=this._getCheckbox(t);return!!e&&e.checked},n.prototype.setItemChecked=function(t,i){this._setItemChecked(t,i,!0)},n.prototype.toggleItemChecked=function(t){this.setItemChecked(t,!this.getItemChecked(t))},Object.defineProperty(n.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var t=0;t<this._cv.items.length;t++)this.getItemChecked(t)&&this._checkedItems.push(this._cv.items[t]);return this._checkedItems},set:function(t){var i=this._cv,e=this.hostElement,n=Ro.asArray(t,!1);if(i&&n){for(var r=i.currentPosition,s=e.scrollTop,o=0;o<i.items.length;o++){var a=i.items[o];this._setItemChecked(o,-1<n.indexOf(a),!1)}i.moveCurrentToPosition(r),e.scrollTop=s,this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),n.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},n.prototype.onItemsChanged=function(t){this.itemsChanged.raise(this,t)},n.prototype.onLoadingItems=function(t){this.loadingItems.raise(this,t)},n.prototype.onLoadedItems=function(t){this.loadedItems.raise(this,t)},n.prototype.onItemChecked=function(t){this.itemChecked.raise(this,t)},n.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},n.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},n.prototype._setItemChecked=function(t,i,e){void 0===e&&(e=!0);var n,r=this._cv.items[t];Ro.isObject(r)&&(n=Ro.tryCast(this._cv,"IEditableCollectionView"),this._pathChecked.getValue(r)!=i&&(this._checking=!0,n?(n.editItem(r),this._pathChecked.setValue(r,i),n.commitEdit()):(this._pathChecked.setValue(r,i),this._cv.refresh()),this._checking=!1));var s,o=this._getCheckbox(t);o&&(o.checked=i,(s=Ro.closest(o,".wj-listbox-item"))&&Ro.toggleClass(s,"wj-state-checked",i)),e&&(this.onItemChecked(),this.onCheckedItemsChanged())},n.prototype._cvCollectionChanged=function(t,i){this._checking||(this._populateList(),this.onItemsChanged())},n.prototype._cvCurrentChanged=function(t,i){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},n.prototype._populateList=function(){var t=this.hostElement;if(t){var i=this.containsFocus();if(this.onLoadingItems(),t.innerHTML="",this._cv){for(var e=document.createDocumentFragment(),n=0;n<this._cv.items.length;n++){var r=this.getDisplayValue(n);1!=this._html&&(r=Ro.escapeHtml(r));var s=!1;this.checkedMemberPath&&(r='<label><input tabindex="-1" type="checkbox"'+((s=this._pathChecked.getValue(this._cv.items[n]))?" checked":"")+"> "+r+"</label>");var o,a=document.createElement("div"),h="wj-listbox-item";a.innerHTML=r,Ro.hasClass(a.firstChild,"wj-separator")&&(h+=" wj-separator"),s&&(h+=" wj-state-checked"),a.className=h,Ro.setAttribute(a,"role",this.itemRole?this.itemRole:null),Ro.setAttribute(a,"aria-selected",!1),this.formatItem.hasHandlers&&(o=new c(n,this._cv.items[n],a),this.onFormatItem(o)),e.appendChild(a)}t.appendChild(e)}0==t.children.length&&t.appendChild(document.createElement("div")),i&&!this.containsFocus()&&this.focus(),this.showSelection(),this.onLoadedItems()}},n.prototype._click=function(t){if(!t.defaultPrevented){for(var i=this.hostElement.children,e=0;e<i.length;e++)if(Ro.contains(i[e],t.target)){this.selectedIndex=e;break}var n,r=this.selectedIndex;this.checkedMemberPath&&-1<r&&(n=this._getCheckbox(r))==t.target&&(i[r].focus(),this.setItemChecked(r,n.checked))}},n.prototype._keydown=function(t){var i,e=this.selectedIndex;if(this.hostElement.children,!t.defaultPrevented){if(65==t.keyCode&&(t.ctrlKey||t.metaKey)&&this.checkedMemberPath&&Ro.hasItems(this.collectionView))return this.checkedItems=this.getItemChecked(0)?[]:this.collectionView.items,void t.preventDefault();if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case Ro.Key.Down:t.preventDefault(),this._selectNext();break;case Ro.Key.Up:t.preventDefault(),this._selectPrev();break;case Ro.Key.Home:t.preventDefault(),this._selectFirst();break;case Ro.Key.End:t.preventDefault(),this._selectLast();break;case Ro.Key.PageDown:t.preventDefault(),this._selectNextPage();break;case Ro.Key.PageUp:t.preventDefault(),this._selectPrevPage();break;case Ro.Key.Space:this.checkedMemberPath&&-1<e&&(i=this._getCheckbox(e))&&this.isItemEnabled(e)&&(this.setItemChecked(e,!i.checked),t.preventDefault())}}},n.prototype._keypress=function(t){var i,e=this;t.defaultPrevented||t.target instanceof HTMLInputElement||!(32<t.charCode||32==t.charCode&&this._search)||(t.preventDefault(),this._search+=String.fromCharCode(t.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},n._AUTOSEARCH_DELAY),(i=this._findNext())<0&&1<this._search.length&&(this._search=this._search[this._search.length-1],i=this._findNext()),-1<i&&(this.selectedIndex=i))},n.prototype._selectNext=function(){for(var t=this.hostElement.children.length,i=this.selectedIndex+1;i<t;i++)if(this.isItemEnabled(i))return this.selectedIndex=i,!0;return!1},n.prototype._selectPrev=function(){for(var t=this.selectedIndex-1;0<=t;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},n.prototype._selectFirst=function(){for(var t=this.hostElement.children.length,i=0;i<t;i++)if(this.isItemEnabled(i))return this.selectedIndex=i,!0;return!1},n.prototype._selectLast=function(){for(var t=this.hostElement.children.length-1;0<=t;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},n.prototype._selectNextPage=function(){for(var t=this.hostElement,i=t.offsetHeight,e=t.children,n=0,r=this.selectedIndex+1;r<this._cv.items.length;r++){var s=e[r].scrollHeight;if(i<n+s&&this.isItemEnabled(r))return this.selectedIndex=r,!0;n+=s}return this._selectLast()},n.prototype._selectPrevPage=function(){for(var t=this.hostElement,i=t.offsetHeight,e=t.children,n=0,r=this.selectedIndex-1;0<r;r--){var s=e[r].scrollHeight;if(i<n+s&&this.isItemEnabled(r))return this.selectedIndex=r,!0;n+=s}return this._selectFirst()},n.prototype._findNext=function(){if(this.hostElement){var t=this.hostElement.childElementCount,i=this.selectedIndex;(i<0||1==this._search.length)&&i++;for(var e=0;e<t;e++){var n=(i+e)%t;if(0==this.getDisplayText(n).trim().toLowerCase().indexOf(this._search)&&this.isItemEnabled(n))return n}}return-1},n.prototype._getCheckbox=function(t){var i=this.hostElement;return i&&-1<t&&t<i.children.length?i.children[t].querySelector("input[type=checkbox]"):null},n.prototype._initFromSelect=function(t){for(var i=t.children,e=[],n=-1,r=0;r<i.length;r++){var s=i[r];"OPTION"==s.tagName&&(s.hasAttribute("selected")&&(n=e.length),s.innerHTML?e.push({hdr:s.innerHTML,val:s.getAttribute("value"),cmdParam:s.getAttribute("cmd-param")}):e.push({hdr:'<div class="wj-separator"/>'}),t.removeChild(s),r--)}e&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=e,this.selectedIndex=n)},n._AUTOSEARCH_DELAY=600,n);function n(t,i){var e=r.call(this,t)||this;e._pathDisplay=new Ro.Binding(null),e._pathValue=new Ro.Binding(null),e._pathChecked=new Ro.Binding(null),e._html=!1,e._checkedItems=[],e._itemRole="option",e._search="",e.selectedIndexChanged=new Ro.Event,e.itemsChanged=new Ro.Event,e.loadingItems=new Ro.Event,e.loadedItems=new Ro.Event,e.itemChecked=new Ro.Event,e.checkedItemsChanged=new Ro.Event,e.formatItem=new Ro.Event,e.applyTemplate("wj-control wj-content wj-listbox",null,null);var n=e.hostElement;return Ro.setAttribute(n,"role","listbox",!0),"SELECT"==e._orgTag&&e._initFromSelect(e.hostElement),e.addEventListener(n,"click",e._click.bind(e)),e.addEventListener(n,"keydown",e._keydown.bind(e)),e.addEventListener(n,"keypress",e._keypress.bind(e)),e.addEventListener(n,"wheel",function(t){n.scrollHeight>n.offsetHeight&&(t.deltaY<0&&0==n.scrollTop||0<t.deltaY&&n.scrollTop+n.offsetHeight>=n.scrollHeight)&&(t.preventDefault(),t.stopPropagation())}),e.initialize(i),e}t.ListBox=i;var s,c=(s=Ro.EventArgs,pa(e,s),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),e);function e(t,i,e){var n=s.call(this)||this;return n._index=Ro.asNumber(t),n._data=i,n._item=Ro.asType(e,HTMLElement),n}t.FormatItemEventArgs=c}((Ro=ru||(window.wijmo=ru={})).input||(Ro.input={})),pa=window&&window.__extends||(ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}ko(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),So=ru||(window.wijmo=ru={}),Do=So.input||(So.input={}),No=Do.DropDown,pa(ba,No),Object.defineProperty(ba.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource!=t&&(this._lbx.itemsSource=t,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t;var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=So.asString(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(t){this._lbx.selectedValuePath=t},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){var i;t!=this.isContentHtml&&(this._lbx.isContentHtml=So.asBoolean(t),i=this.getDisplayText(),this.text!=i&&this._setText(i,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=So.asFunction(t),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&(this._lbx.selectedIndex=t),t=this.selectedIndex;var i=this.getDisplayText(t);this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(t){this._lbx.selectedItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(t){this._lbx.selectedValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=So.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=So.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"maxDropDownWidth",{get:function(){var t=this._dropDown;return parseInt(t.style.maxWidth)},set:function(t){this._dropDown.style.maxWidth=So.asNumber(t)+"px"},enumerable:!0,configurable:!0}),ba.prototype.getDisplayText=function(t){if(void 0===t&&(t=this.selectedIndex),this.headerPath&&-1<t&&So.hasItems(this.collectionView)){var i=this.collectionView.items[t],e=null!=(e=i?this._pathHdr.getValue(i):null)?e.toString():"";return this.isContentHtml&&(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=e,e=this._cvt.textContent),e.trim()}return this._lbx.getDisplayText(t).trim()},ba.prototype.indexOf=function(t,i){var e=this.collectionView;if(So.hasItems(e)&&null!=t){var n=this.selectedIndex;if(i&&t==this.getDisplayText(n))return n;t=t.toString().toLowerCase();for(var r=0;r<e.items.length;r++)if(this.listBox.isItemEnabled(r)){var s=this.getDisplayText(r).toLowerCase();if(i){if(s==t)return r}else if(t&&0==s.indexOf(t))return r}}return-1},Object.defineProperty(ba.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),ba.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},ba.prototype.onSelectedIndexChanged=function(t){this._updateBtn(),this.selectedIndexChanged.raise(this,t)},ba.prototype.refresh=function(t){void 0===t&&(t=!0),No.prototype.refresh.call(this,t),So.hasItems(this.collectionView)&&(this._lbx.refresh(),-1<this.selectedIndex&&(this.selectedIndex=this._lbx.selectedIndex))},ba.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&So.hasItems(this.collectionView)&&(this.selectedIndex=0),No.prototype.onLostFocus.call(this,t)},ba.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDown||So.hasItems(this.collectionView)?No.prototype.onIsDroppedDownChanging.call(this,t):!(t.cancel=!0)},ba.prototype.onIsDroppedDownChanged=function(t){No.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll()),So.setAttribute(this.dropDown,"aria-expanded",this.isDroppedDown)},ba.prototype._updateBtn=function(){var t=this.collectionView,i=this._tbx,e=this.dropDown.id,n=So.hasItems(t);No.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=t?"":"none",So.enable(this._btn,n),So.setAttribute(i,"role",n?"combobox":null),So.setAttribute(i,"aria-autocomplete",n?"both":null),So.setAttribute(i,"aria-owns",n&&this.dropDown.parentElement?e:null),So.setAttribute(this.dropDown,"aria-expanded",!n&&null)},ba.prototype._btnclick=function(t){No.prototype._btnclick.call(this,t),this.isTouching||this._elRef!=this._tbx||this.selectAll()},ba.prototype._createDropDown=function(){var n=this;this._lbx||(this._lbx=new Do.ListBox(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){n._updateBtn();var t=n._lbx.selectedIndex,i=n._lbx.hostElement.children,e=-1<t&&t<i.length?i[t].id:null;So.setAttribute(n._tbx,"aria-activedescendant",e&&e.length?e:null),n.selectedIndex=t,n.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){n._updateBtn()}),this.addEventListener(this._dropDown,"click",this._dropDownClick.bind(this))},ba.prototype._dropDownClick=function(t){t.defaultPrevented||t.target!=this._dropDown&&(this.isDroppedDown=!1)},ba.prototype._setText=function(t,i){if(!this._composing&&!this._settingText){this._settingText=!0,null==t&&(t=""),t=t.toString();var e=this.selectedIndex,n=this.collectionView,r=this._getSelStart(),s=-1,o=!0;if(this.isEditable&&(!this._delKey&&this.containsFocus()||(o=!(i=!0))),e=this.indexOf(t,i),o&&(e<0&&i&&(e=this.indexOf(t,!1)),e<0&&0<r&&(e=this.indexOf(t.substr(0,r),!1))),e<0&&!this.isEditable&&So.hasItems(n)&&(this.isRequired||t))for(var a=this._oldText||"",e=Math.max(0,this.indexOf(a,!1)),h=0;h<t.length&&h<a.length;h++)if(t[h]!=a[h]){r=h;break}-1<e&&(s=r,t=this.getDisplayText(e)),t!=this._tbx.value&&(this._tbx.value=t),-1<s&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(s),n&&n.moveCurrentToPosition(e),this._delKey=0,this._settingText=!1,No.prototype._setText.call(this,t,i)}},ba.prototype._findNext=function(t,i){var e=this.selectedIndex,n=this.collectionView,r=n?n.items.length:0,s=this.listBox;if(n&&r&&i){t=t.toLowerCase();for(var o=e+i;-1<o&&o<r;o+=i){var a=this.getDisplayText(o).toLowerCase();if(a&&0==a.indexOf(t)&&(!this.dropDown.children[o]||s.isItemEnabled(o)))return o}}return e},ba.prototype._keydown=function(t){if(No.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&So.hasItems(this.collectionView)&&this._elRef==this._tbx){this._delKey=0;var i,e=this._getSelStart();switch(t.keyCode){case So.Key.Back:this._bsCollapse&&!this.isEditable&&(i=this._getSelEnd(),0<e&&i==this._tbx.value.length&&So.hasItems(this.collectionView)&&this._setSelRange(e-1,i)),this._delKey=t.keyCode;break;case So.Key.Delete:this._delKey=t.keyCode;break;case So.Key.Up:case So.Key.Down:e==this.text.length&&(e=0),this.selectedIndex=this._findNext(this.text.substr(0,e),t.keyCode==So.Key.Up?-1:1),this._setSelRange(e,this.text.length),t.preventDefault();break;case So.Key.PageUp:this._lbx._selectPrevPage(),t.preventDefault();break;case So.Key.PageDown:this._lbx._selectNextPage(),t.preventDefault()}}},ba.prototype._updateInputSelection=function(t){this._elRef==this._tbx&&this._setSelRange(t,this._tbx.value.length)},ba.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},ba.prototype._getSelEnd=function(){return this._tbx&&this._tbx.value?this._tbx.selectionEnd:0},ba.prototype._setSelRange=function(t,i){var e=this._tbx;this._elRef==e&&So.setSelectionRange(e,t,i)},Do.ComboBox=ba,pa=window&&window.__extends||(To=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}To(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),Yo=(Oo=ru||(window.wijmo=ru={})).input||(Oo.input={}),Uo=Yo.ComboBox,pa(Ea,Uo),Object.defineProperty(Ea.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=Oo.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Ea.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=Oo.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Ea.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=Oo.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Ea.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=Oo.asString(t),this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(Ea.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=Oo.asFunction(t),Oo.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallBackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(Ea.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=Oo.asString(t)},enumerable:!0,configurable:!0}),Ea.prototype._keydown=function(t){if(!t.defaultPrevented&&this.isDroppedDown)switch(t.keyCode){case Oo.Key.Up:case Oo.Key.Down:this.selectAll()}Uo.prototype._keydown.call(this,t)},Ea.prototype._setText=function(t){var e=this;if(!this._inCallback){if(!t&&-1<this.selectedIndex&&(this.selectedIndex=-1),t!=this._oldText&&(this._tbx.value!=t&&(this._tbx.value=t),this._oldText=t,this.onTextChanged(),!t&&this.collectionView))return this._rxHighlight=null,this.collectionView.filter=this._query=null,void(this.isDroppedDown=!1);this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){e._toSearch=null;var t,i=e.text.trim().toLowerCase();i.length>=e._minLength&&i!=e._query&&(i=(e._query=i).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t=Oo.escapeHtml(i),e._rxMatch=new RegExp("(?=.*"+i.replace(/ /g,")(?=.*")+")","ig"),e._rxHighlight=e.isContentHtml?new RegExp("("+t.replace(/ /g,"|")+")(?![^<]*>|[^<>]* </)","ig"):new RegExp("("+t.replace(/ /g,"|")+")","ig"),e.itemsSourceFunction?e.itemsSourceFunction(i,e.maxItems,e._itemsSourceFnCallBackBnd):e._updateItems())},this._delay))}},Ea.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var i=Oo.asCollectionView(t);i&&i.moveCurrentToPosition(-1),this.itemsSource=i,this._inCallback=!1,this.containsFocus()&&(this.isDroppedDown=!0,this.refresh())},Ea.prototype.onIsDroppedDownChanged=function(t){var i;this.isDroppedDownChanged.raise(this,t),!this.containsFocus()||this.isDroppedDown||this.isTouching||null!=this.selectedItem||(i=this.text.length,Oo.setSelectionRange(this._tbx,i)),this._query=""},Ea.prototype._updateItems=function(){var t,i=this.collectionView;i&&(this._inCallback=!0,i.beginUpdate(),this._itemCount=0,i.filter=this._filter.bind(this),i.moveCurrentToPosition(-1),i.endUpdate(),this._inCallback=!1,t=i.items.length,this.isDroppedDown=0<t&&this.containsFocus(),0!=t||this.isEditable||(this.selectedIndex=-1),this.refresh())},Ea.prototype._filter=function(t){if(this._itemCount>=this._maxItems)return!1;var i=this._getItemText(t,!1);if(this._srchProps)for(var e=0;e<this._srchProps.length;e++)i+="\0"+t[this._srchProps[e]];return this.isContentHtml&&(i=i.replace(/<[^>]*>/g,"")),!!i.match(this._rxMatch)&&(this._itemCount++,!0)},Ea.prototype._getItemText=function(t,i){var e=t?t.toString():"",n=i&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return n&&(e=null!=(e=n.getValue(t))?e.toString():""),e},Ea.prototype._formatListItem=function(t,i){var e;this._cssMatch&&this._rxHighlight&&(e='<span class="'+this._cssMatch+'">$1</span>',i.item.innerHTML=i.item.innerHTML.replace(this._rxHighlight,e))},Yo.AutoComplete=Ea,pa=window&&window.__extends||(Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Ho(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),Go=(zo=ru||(window.wijmo=ru={})).input||(zo.input={}),Po=Go.ComboBox,pa(Ba,Po),Object.defineProperty(Ba.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=zo.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Ba.prototype,"command",{get:function(){return this._command},set:function(t){this._command=t},enumerable:!0,configurable:!0}),Object.defineProperty(Ba.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=zo.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Ba.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=zo.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Ba.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=zo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Ba.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=zo.asType(t,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),Ba.prototype.show=function(t){var i;this.isDroppedDown||(i=this.dropDown,this.selectedIndex=-1,this.onIsDroppedDownChanging(new zo.CancelEventArgs)&&(this.owner&&(i[zo.Control._OWNR_KEY]=this.owner),zo.showPopup(i,t),this.onIsDroppedDownChanged(),i.focus()))},Ba.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new zo.CancelEventArgs)&&(zo.hidePopup(this.dropDown),this.onIsDroppedDownChanged())},Ba.prototype.onItemClicked=function(t){this.itemClicked.raise(this,t)},Ba.prototype.refresh=function(t){void 0===t&&(t=!0),Po.prototype.refresh.call(this,t),this._enableDisableItems()},Ba.prototype.onIsDroppedDownChanged=function(t){Po.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus()):this.selectedItem||(this.selectedItem=this._defaultItem)},Ba.prototype._keydown=function(t){t.defaultPrevented||t.keyCode==zo.Key.Enter&&(this.isDroppedDown?this.getDisplayText(this.selectedIndex)&&this._raiseCommand():(this.isDroppedDown=!0,t.preventDefault())),Po.prototype._keydown.call(this,t)},Ba.prototype._dropDownClick=function(t){t.defaultPrevented||t.target==this.dropDown||this.getDisplayText(this.selectedIndex)&&this._raiseCommand(),Po.prototype._dropDownClick.call(this,t)},Ba.prototype._raiseCommand=function(t){var i=this.selectedItem,e=this._getCommand(i);if(e){var n=this._cmdParamPath?i[this._cmdParamPath]:null;if(!this._canExecuteCommand(e,n))return;this._executeCommand(e,n)}this.onItemClicked(t)},Ba.prototype._getCommand=function(t){return(t&&this.commandPath?t[this.commandPath]:null)||this.command},Ba.prototype._executeCommand=function(t,i){t&&!zo.isFunction(t)&&(t=t.executeCommand),zo.isFunction(t)&&t(i)},Ba.prototype._canExecuteCommand=function(t,i){if(t){var e=t.canExecuteCommand;if(zo.isFunction(e))return e(i)}return!0},Ba.prototype._enableDisableItems=function(){if(this.collectionView&&(this.command||this.commandPath))for(var t=this.collectionView.items,i=0;i<t.length;i++){var e,n=this._getCommand(t[i]),r=this.commandParameterPath?t[i][this.commandParameterPath]:null;n&&(e=this._lbx.hostElement.children[i],zo.toggleClass(e,"wj-state-disabled",!this._canExecuteCommand(n,r)))}},Go.Menu=Ba,pa=window&&window.__extends||(Vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Vo(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){Lo.culture.MultiSelect=window.wijmo.culture.MultiSelect||{itemsSelected:"{count:n0} items selected",selectAll:"Select All"};var n,i=(n=t.ComboBox,pa(e,n),Object.defineProperty(e.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(t){this._selectAll.style.display=Lo.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(t){t!=this._selectAllLabel&&(this._selectAllLabel=Lo.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){var t=this.listBox.checkedMemberPath;return t!=e._DEF_CHECKED_PATH?t:null},set:function(t){t=Lo.asString(t),this.listBox.checkedMemberPath=t||e._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=Lo.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=Lo.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=Lo.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=Lo.asArray(t)},enumerable:!0,configurable:!0}),e.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},e.prototype._createDropDown=function(){this._selectAll=Lo.createElement('<div class="wj-listbox-item wj-header wj-select-all" tabindex="0" style="display:none"><label><input type="checkbox"> <span></span></label></div>',this._dropDown),this._selectAllCheckbox=this._selectAll.querySelector("input[type=checkbox]"),this._selectAllSpan=this._selectAll.querySelector("label>span"),Lo.setText(this._selectAllSpan,Lo.culture.MultiSelect.selectAll);var t=Lo.createElement('<div style="width:100%;border:none"></div>',this._dropDown);this._lbx=new Lo.input.ListBox(t),n.prototype._createDropDown.call(this),Lo.addClass(this.dropDown,"wj-control wj-listbox")},Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=Lo.asBoolean(t),Lo.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),e.prototype.refresh=function(t){void 0===t&&(t=!0),n.prototype.refresh.call(this,t),this._updateHeader(),this._selectAllSpan&&Lo.setText(this._selectAllSpan,this._selectAllLabel||Lo.culture.MultiSelect.selectAll)},e.prototype.onIsDroppedDownChanged=function(t){var i=this;n.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&this.containsFocus()&&setTimeout(function(){i.listBox.focus()},200)},e.prototype._setText=function(t,i){},e.prototype._keydown=function(t){n.prototype._keydown.call(this,t),!t.defaultPrevented&&Lo.hasItems(this.collectionView)&&32<t.keyCode&&(this.isDroppedDown=!0)},e.prototype._updateHeader=function(){var t,i,e=this.checkedItems;Lo.isFunction(this._hdrFormatter)?this.inputElement.value=this._hdrFormatter():(t="",0<e.length&&(t=e.length<=this._maxHdrItems?(this.displayMemberPath&&(i=new Lo.Binding(this.displayMemberPath),e=e.map(function(t){return i.getValue(t)})),e.join(", ")):Lo.format(this.headerFormat,{count:e.length})),this.inputElement.value=t);var n=null,r=this.collectionView;Lo.hasItems(r)&&(0==e.length?n=!1:e.length==r.items.length&&(n=!0)),this._selectAllCheckbox.indeterminate=null==n,null!=n&&(this._selectAllCheckbox.checked=n),this._updateState()},e._DEF_CHECKED_PATH="$checked",e);function e(t,i){var e=n.call(this,t)||this;return e._maxHdrItems=2,e._readOnly=!1,e._hdrFmt=Lo.culture.MultiSelect.itemsSelected,e.checkedItemsChanged=new Lo.Event,Lo.addClass(e.hostElement,"wj-multiselect"),e._tbx.readOnly=!0,e.checkedMemberPath=null,e.addEventListener(e.inputElement,"click",function(){e.isDroppedDown=!e.isDroppedDown}),e.addEventListener(e._selectAll,"click",function(t){Lo.hasItems(e.collectionView)&&t.target==e._selectAllCheckbox&&(e.checkedItems=t.target.checked?e.collectionView.items:[])}),e.removeEventListener(e.dropDown,"click"),e._updateHeader(),e.listBox.itemsChanged.addHandler(function(){e._updateHeader()}),e.listBox.checkedItemsChanged.addHandler(function(){e._updateHeader(),e.onCheckedItemsChanged()}),e.initialize(i),e}t.MultiSelect=i}((Lo=ru||(window.wijmo=ru={})).input||(Lo.input={})),pa=window&&window.__extends||(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Jo(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),_o=(Wo=ru||(window.wijmo=ru={})).input||(Wo.input={}),Xo=_o.AutoComplete,pa(Ca,Xo),Object.defineProperty(Ca.prototype,"showDropDownButton",{set:function(){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(Ca.prototype,"maxSelectedItems",{get:function(){return this._maxtems},set:function(t){this._maxtems!=t&&(this._maxtems=Wo.asNumber(t,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(Ca.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){(t=Wo.asString(t))!==this.selectedMemberPath&&(this._selPath.path=t,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(Ca.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){if(this._selItems=Wo.asArray(t),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var i=0;i<this._selItems.length;i++){var e=this._selItems[i];this._setSelItem(e,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),Ca.prototype.onSelectedItemsChanged=function(t){this.selectedItemsChanged.raise(this,t)},Ca.prototype.onIsDroppedDownChanged=function(t){!this.isDroppedDown&&-1<this.selectedIndex&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,Xo.prototype.onIsDroppedDownChanged.call(this,t)},Ca.prototype.refresh=function(t){void 0===t&&(t=!0),Xo.prototype.refresh.call(this,t),this._initSeltems(),this.isDroppedDown||this._refreshHeader()},Ca.prototype._keydown=function(t){if(!this.isReadOnly){if(!t.defaultPrevented)switch(t.keyCode){case Wo.Key.Back:this._lastInputValue=this._tbx.value;break;case Wo.Key.Enter:this._itemOff(),this._addItem(!0),Wo.isIE&&Wo.setSelectionRange(this._tbx,0,0);break;case Wo.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,t.preventDefault()):this._updateFocus();break;case Wo.Key.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case Wo.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case Wo.Key.Left:this._itemOn(!this.rightToLeft);break;case Wo.Key.Right:this._itemOn(!!this.rightToLeft);break;case Wo.Key.Up:case Wo.Key.Down:var i=Wo.getActiveElement();if(t.altKey){if(this._tbx==i)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void t.preventDefault()}else if(this._tbx!==i)return;default:if(t.keyCode===Wo.Key.Back||t.keyCode===Wo.Key.Delete)return;this._itemOff(),null!=this._maxtems&&this._selItems.length>=this._maxtems&&t.preventDefault()}this._tbx.disabled||Xo.prototype._keydown.call(this,t)}},Ca.prototype._updateState=function(){Xo.prototype._updateState.call(this),this._wjTpl&&(Wo.hasClass(this.hostElement,"wj-state-focused")||this._itemOff())},Ca.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case Wo.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case Wo.Key.Delete:this._delItem(!0)}},Ca.prototype._addHelperInput=function(){var t=document.createElement("input");t.type="text",t.tabIndex=-1,t.className="wj-token-helper",t.readOnly=!0,this._wjTpl.insertBefore(t,this._wjInput),this._helperInput=t},Ca.prototype._refreshHeader=function(){for(var t=this.hostElement.querySelectorAll(".wj-token"),i=0;i<t.length;i++)this._wjTpl.removeChild(t[i]);var e=this.selectedItems;if(e&&0!==e.length){for(i=0;i<e.length;i++)this._insertToken(e[i]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}},Ca.prototype._insertToken=function(t){var i=this._getItemText(t,!0),i=this.isContentHtml?(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=i,this._cvt.textContent.trim()):Wo.escapeHtml(i);this._wjTpl.insertBefore(this._createItem(i),this._wjInput)},Ca.prototype._updateMaxItems=function(){null!=this._maxtems&&this._selItems&&this._selItems.length>this._maxtems&&(this._selItems=this._selItems.slice(0,this._maxtems))},Ca.prototype._updateFocus=function(){var t=this,i=this._wjTpl.querySelector("."+Ca._clsActive);i?(Wo.removeClass(i,Ca._clsActive),setTimeout(function(){t._tbx.focus()})):(this._clearSelIndex(),Wo.removeClass(this.hostElement,"wj-state-focused"))},Ca.prototype._addItem=function(t){-1<this.selectedItems.indexOf(this.selectedItem)?this._clearSelIndex():-1<this.selectedIndex&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),t&&this._clearSelIndex(),this._disableInput(!0))},Ca.prototype._delItem=function(t){var i,e,n=this._wjTpl.querySelector("."+Ca._clsActive),r=!1;t&&!n||(n?-1<(e=this._getItemIndex(n))&&(i=this._selItems[e],r=!0):0<this._selItems.length&&(i=this._selItems[this._selItems.length-1],r=!0),r&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},Ca.prototype._updateSelItems=function(t,i){if(i){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxtems&&this._selItems.length>=this._maxtems)return;this._selItems.push(t)}else{var e=this._selItems.indexOf(t);this._selItems.splice(e,1)}this._hasSelectedMemeberPath()&&this._setSelItem(t,i),this.onSelectedItemsChanged()},Ca.prototype._createItem=function(t){var n=this,r=document.createElement("div"),i=document.createElement("span"),e=document.createElement("a");return r.appendChild(i),r.appendChild(e),r.className="wj-token",i.className="wj-token-label",i.innerHTML=t,e.className="wj-token-close",e.href="#",e.tabIndex=-1,e.text="Ã",r.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(r,"click",function(t){n._helperInput.focus();var i=n._wjTpl.querySelector("."+Ca._clsActive);i&&Wo.removeClass(i,Ca._clsActive),Wo.addClass(r,Ca._clsActive),t.stopPropagation(),t.preventDefault()}),this.addEventListener(e,"click",function(t){var i,e;n.isReadOnly||(-1<(i=n._getItemIndex(r))&&(e=n._selItems[i],n._updateSelItems(e,!1)),n._wjTpl.removeChild(r),n._adjustInputWidth(),n._disableInput(!1),n._tbx.focus(),t.stopPropagation(),t.preventDefault())}),r},Ca.prototype._itemOn=function(t){var i,e,n,r=Wo.getActiveElement();if((this._tbx!=r||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length)if(e=this._wjTpl.querySelector("."+Ca._clsActive),n=this._getItemIndex(e),t){if(0===n)return;-1===n?Wo.addClass(i[i.length-1],Ca._clsActive):(Wo.removeClass(e,Ca._clsActive),Wo.addClass(i[n-1],Ca._clsActive)),this._helperInput.focus()}else if(!t){if(-1===n)return;n!==i.length-1?(Wo.removeClass(e,Ca._clsActive),Wo.addClass(i[n+1],Ca._clsActive),this._helperInput.focus()):(Wo.removeClass(e,Ca._clsActive),this._tbx.focus())}},Ca.prototype._itemOff=function(){var t=this._wjTpl.querySelector("."+Ca._clsActive);t&&Wo.removeClass(t,Ca._clsActive)},Ca.prototype._initSeltems=function(){if(this.selectedMemberPath&&""!==this.selectedMemberPath){var t=this.itemsSource;if(this._selItems.splice(0,this._selItems.length),t)for(var i=0;i<t.sourceCollection.length;i++)this._getSelItem(i)&&this._selItems.push(t.sourceCollection[i])}},Ca.prototype._getSelItem=function(t){var i=this.itemsSource.sourceCollection[t];return!(!Wo.isObject(i)||!this.selectedMemberPath)&&this._selPath.getValue(i)},Ca.prototype._setSelItem=function(t,i){this.itemsSource,Wo.isObject(t)&&this._selPath.getValue(t)!=i&&this._selPath.setValue(t,i)},Ca.prototype._clearSelIndex=function(){this.selectedIndex=-1},Ca.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},Ca.prototype._disableInput=function(t){null!=this._maxtems&&(this._selItems.length<this._maxtems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},Ca.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var t=Wo.getElementRect(this.hostElement),i=Wo.getElementRect(this._tbx),e=getComputedStyle(this._tbx),n=parseInt(e.paddingLeft,10),r=parseInt(e.paddingRight,10),s=this.rightToLeft?i.left+i.width-t.left-n-r-8:t.left+t.width-i.left-n-r-8;this._tbx.style.width=s+"px"},Ca.prototype._getItemIndex=function(t){for(var i=this.hostElement.querySelectorAll(".wj-token"),e=0;e<i.length;e++)if(t===i[e])return e;return-1},Ca._clsActive="wj-token-active",_o.MultiAutoComplete=Ca,pa=window&&window.__extends||(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Ko(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(o){var r,t;(t=r=o.PopupTrigger||(o.PopupTrigger={}))[t.None=0]="None",t[t.Click=1]="Click",t[t.Blur=2]="Blur",t[t.ClickOrBlur=3]="ClickOrBlur";var s,i=(s=Zo.Control,pa(e,s),Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},set:function(t){var i=this._owner;i&&(this.removeEventListener(i,"mousedown"),this.removeEventListener(i,"click")),(i=this._owner=null!=t?Zo.getElement(t):null)&&(this.addEventListener(i,"mousedown",this._ownerMousedownBnd,!0),this.addEventListener(i,"click",this._ownerClickBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(t){t!=this.content&&(this.hostElement.innerHTML="",t instanceof HTMLElement&&this.hostElement.appendChild(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=Zo.asEnum(t,r)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=Zo.asEnum(t,r)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=Zo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=Zo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(t){this._removeOnHide=Zo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=Zo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDraggable",{get:function(){return this._draggable},set:function(t){this._draggable=Zo.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResult",{get:function(){return this._result},set:function(t){this._result=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(t){this._resultEnter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){var t=this.hostElement;return this._visible&&null!=t&&0<t.offsetHeight},enumerable:!0,configurable:!0}),e.prototype.show=function(t,i){var e,n,r=this;this.isVisible||(e=this.hostElement,this.dialogResult=null,this._callback=null,this._hideAnim&&(clearInterval(this._hideAnim),this._hideAnim=null),n=new Zo.CancelEventArgs,this.onShowing(n)&&(null!=t&&(this.modal=Zo.asBoolean(t)),null!=i&&(this._callback=Zo.asFunction(i)),Zo.showPopup(e,this._owner,!1,this._fadeIn,!1),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(n),this.modal&&this.addEventListener(window,"focus",function(){r.containsFocus()||Zo.moveFocus(e,0)}),this._makeDraggable(this._draggable),setTimeout(function(){var t;r.isTouching||((t=e.querySelector("input[autofocus]"))&&0<t.clientHeight&&!t.disabled&&-1<t.tabIndex&&!Zo.closest(t,"[disabled],.wj-state-disabled")?(t.focus(),t.select()):Zo.moveFocus(e,0)),r.containsFocus()||(e.tabIndex=0,e.focus())},200)))},e.prototype.hide=function(t){var i=this;if(this._makeDraggable(!1),this.isVisible){Zo.isUndefined(t)||(this.dialogResult=t);var e=new Zo.CancelEventArgs;if(this.onHiding(e)){for(var n=this.hostElement.querySelectorAll(".wj-control.wj-dropdown"),r=0;r<n.length;r++){var s=Zo.Control.getControl(n[r]);s instanceof o.DropDown&&(s.isDroppedDown=!1)}this._bkdrop&&Zo.hidePopup(this._bkdrop,this.removeOnHide,this.fadeOut),this._hideAnim=Zo.hidePopup(this.hostElement,this.removeOnHide,this.fadeOut),this._visible=!1,this.removeEventListener(window,"focus"),this.containsFocus()&&Zo.getActiveElement().blur(),setTimeout(function(){i._updateState(),i.onHidden(e),i._callback&&i._callback(i)})}}},e.prototype.onShowing=function(t){return this.showing.raise(this,t),!t.cancel},e.prototype.onShown=function(t){this.shown.raise(this,t)},e.prototype.onHiding=function(t){return this.hiding.raise(this,t),!t.cancel},e.prototype.onHidden=function(t){this.hidden.raise(this,t)},e.prototype.dispose=function(){this.owner=null,s.prototype.dispose.call(this)},e.prototype.onLostFocus=function(t){this.isVisible&&this._hideTrigger&r.Blur&&(this.containsFocus()||this.hide()),s.prototype.onLostFocus.call(this,t)},e.prototype.refresh=function(t){var i,e;void 0===t&&(t=!0),s.prototype.refresh.call(this,t),this.isVisible&&!this._refreshing&&(this._refreshing=!0,i=Zo.getActiveElement(),e=this._owner?this._owner.getBoundingClientRect():null,Zo.showPopup(this.hostElement,e),this._modal&&i instanceof HTMLElement&&i!=Zo.getActiveElement()&&i.focus(),this._refreshing=!1)},e.prototype._makeDraggable=function(t){function i(t){s&&Zo.contains(o,t.target)&&(e=new Zo.Point(s.offsetLeft,s.offsetTop),n=Zo.mouseToPage(t),[c,u,f,d].forEach(function(t){r.removeEventListener(a,t)}),[c,f].forEach(function(t){r.addEventListener(a,t,A)}),[u,d].forEach(function(t){r.addEventListener(a,t,g)}))}var e,n,r=this,s=this.hostElement,o=s?s.querySelector(".wj-dialog-header"):null,a=document,h="mousedown",c="mousemove",u="mouseup",l="touchstart",f="touchmove",d="touchend",A=function(t){var i=Zo.mouseToPage(t);Zo.setCss(s,{left:Math.max(e.x+(i.x-n.x),50-s.offsetWidth),top:Math.max(e.y+(i.y-n.y),0)}),r._dragged=!0},g=function(){[c,u,f,d].forEach(function(t){r.removeEventListener(a,t)})};[h,l].forEach(function(t){r.removeEventListener(a,t)}),this._dragged=!1,o&&(Zo.setCss(o,{touchAction:t?"none":""}),t&&[h,l].forEach(function(t){r.addEventListener(a,t,i)}))},e.prototype._handleResize=function(){this.isVisible&&!this._dragged&&this.refresh()},e.prototype._ownerClick=function(t){this.isVisible?this._hideTrigger&r.Click&&this.hide():this._showTrigger&r.Click&&(this._wasVisible||this.show())},e.prototype._ownerMouseDown=function(t){this._wasVisible=this.isVisible},e.prototype._showBackdrop=function(){var i=this;this._bkdrop||(this._bkdrop=document.createElement("div"),this._bkdrop.tabIndex=-1,Zo.addClass(this._bkdrop,"wj-popup-backdrop"),this.addEventListener(this._bkdrop,"mousedown",function(t){t.preventDefault(),t.stopPropagation(),i.hostElement.focus(),i.hideTrigger&r.Blur&&i.hide()})),this._bkdrop.style.display="";var t=this.hostElement;t.parentElement.insertBefore(this._bkdrop,t)},e.prototype._validateAndHide=function(t){var i=this.hostElement.querySelector(":invalid");i?i.focus():this.hide(t)},e);function e(t,i){var e=s.call(this,t,null,!0)||this;e._showTrigger=r.Click,e._hideTrigger=r.Blur,e._fadeIn=!0,e._fadeOut=!0,e._removeOnHide=!0,e._visible=!1,e._ownerClickBnd=e._ownerClick.bind(e),e._ownerMousedownBnd=e._ownerMouseDown.bind(e),e.showing=new Zo.Event,e.shown=new Zo.Event,e.hiding=new Zo.Event,e.hidden=new Zo.Event;var n=e.hostElement;return Zo.addClass(n,"wj-control wj-content wj-popup"),n.getAttribute("tabindex")||(n.tabIndex=0),Zo.hidePopup(n,!1),e.addEventListener(n,"compositionstart",function(t){e._composing=!0}),e.addEventListener(n,"compositionend",function(t){e._composing=!1}),e.addEventListener(n,"keydown",function(t){var i;t.defaultPrevented||(t.keyCode!=Zo.Key.Escape||e._composing||(t.preventDefault(),e.hide()),t.keyCode==Zo.Key.Enter&&(i=e.dialogResultEnter)&&(t.preventDefault(),e._validateAndHide(i)),t.keyCode==Zo.Key.Tab&&e.modal&&(t.preventDefault(),Zo.moveFocus(n,t.shiftKey?-1:1)))}),e.addEventListener(n,"click",function(t){var i;t.target instanceof HTMLElement&&(i=t.target.className.match(/\bwj-hide[\S]*\b/))&&0<i.length&&(t.preventDefault(),t.stopPropagation(),e.hide(i[0]))}),e.addEventListener(document,"wheel",function(t){if(e.isVisible&&e._modal){for(var i=t.target;i&&i!=document.body;i=i.parentElement)if(i.scrollHeight>i.clientHeight)return;t.preventDefault(),t.stopPropagation()}}),e.initialize(i),e}o.Popup=i}((Zo=ru||(window.wijmo=ru={})).input||(Zo.input={})),pa=window&&window.__extends||(qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}qo(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),$o=ru||(window.wijmo=ru={}),ta=$o.input||($o.input={}),ia=ta.DropDown,pa(ja,ia),Object.defineProperty(ja.prototype,"value",{get:function(){return this._value},set:function(t){var i;$o.DateTime.equals(this._value,t)?this._tbx.value=$o.Globalize.format(t,this.format):(i=!this.isRequired||null==t&&null==this.value,t=$o.asDate(t,i),t=this._clamp(t),this._isValidDate(t)?(this._tbx.value=t?$o.Globalize.format(t,this.format):"",t==this._value||$o.DateTime.equals(this._value,t)||(this._value=t,this.onValueChanged())):this._tbx.value=t?$o.Globalize.format(this.value,this.format):"",this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(t){this.calendar.selectionMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"min",{get:function(){return this._calendar.min},set:function(t){this._calendar.min=$o.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"max",{get:function(){return this._calendar.max},set:function(t){this._calendar.max=$o.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=$o.asString(t),this._tbx.value=$o.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=$o.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=$o.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(t){t!=this.itemValidator&&(this._calendar.itemValidator=$o.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(ja.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(t){t!=this.itemFormatter&&(this.calendar.itemFormatter=$o.asFunction(t))},enumerable:!0,configurable:!0}),ja.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},ja.prototype.refresh=function(t){void 0===t&&(t=!0),ia.prototype.refresh.call(this,t),this.isDroppedDown=!1,this._msk&&this._msk.refresh(),this._calendar&&this._calendar.refresh(),this._tbx.value=$o.Globalize.format(this.value,this.format)},ja.prototype.onIsDroppedDownChanged=function(t){ia.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._calChanged=!1,this.dropDown.focus(),this._calendar.refresh())},ja.prototype._createDropDown=function(){var i=this;this._calendar=new ta.Calendar(this._dropDown),this._calendar.valueChanged.addHandler(function(){i.value=$o.DateTime.fromDateTime(i._calendar.value,i.value),i._calChanged=!0}),this.addEventListener(this._dropDown,"click",function(t){(i._calChanged&&!$o.closest(t.target,".wj-calendar-header")||"btn-today"==t.target.getAttribute("wj-part"))&&(i.isDroppedDown=!1)})},ja.prototype._updateDropDown=function(){this._commitText();var t=this._calendar;t.value=this.value,t.min=this.min,t.max=this.max,this.selectionMode!=ta.DateSelectionMode.Month&&(t.monthView=!0);var i=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(i.fontSize)+"px",this._calendar.refresh(),ia.prototype._updateDropDown.call(this)},ja.prototype._keydown=function(t){if(!(t.defaultPrevented||t.altKey||t.ctrlKey||t.metaKey))switch(t.keyCode){case $o.Key.Enter:this._commitText(),this.selectAll();break;case $o.Key.Escape:this.text=$o.Globalize.format(this.value,this.format),this.selectAll();break;case $o.Key.Up:case $o.Key.Down:var i,e;!this.isDroppedDown&&this.value&&this._canChangeValue()&&(i=t.keyCode==$o.Key.Up?1:-1,e=this.selectionMode==ta.DateSelectionMode.Month?$o.DateTime.addMonths(this.value,i):$o.DateTime.addDays(this.value,i),this.value=$o.DateTime.fromDateTime(e,this.value),this.selectAll(),t.preventDefault())}ia.prototype._keydown.call(this,t)},ja.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=ta.DateSelectionMode.None},ja.prototype._clamp=function(t){return this.calendar._clamp(t)},ja.prototype._commitText=function(){var t,i=this._tbx.value;i||this.isRequired?(t=$o.Globalize.parseDate(i,this.format,this.value))?this.value=$o.DateTime.fromDateTime(t,this.value):this._tbx.value=$o.Globalize.format(this.value,this.format):this.value=null},ja.prototype._isValidDate=function(t){if(t){if(this._clamp(t)!=t)return!1;if(this.itemValidator&&!this.itemValidator(t))return!1}return!0},ta.InputDate=ja,pa=window&&window.__extends||(ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}ea(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),ra=(na=ru||(window.wijmo=ru={})).input||(na.input={}),sa=ra.ComboBox,pa(ya,sa),Object.defineProperty(ya.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(ya.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=na.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(ya.prototype,"value",{get:function(){return this._value},set:function(t){(t=na.asDate(t,!this.isRequired))&&(null!=this._min&&this._getTime(t)<this._getTime(this._min)&&(t=na.DateTime.fromDateTime(t,this._min)),null!=this._max&&this._getTime(t)>this._getTime(this._max)&&(t=na.DateTime.fromDateTime(t,this._max))),this._setText(t?na.Globalize.format(t,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(t=na.DateTime.fromDateTime(t,this.selectedItem.value)),t==this._value||na.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(ya.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(ya.prototype,"min",{get:function(){return this._min},set:function(t){this._min=na.asDate(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(ya.prototype,"max",{get:function(){return this._max},set:function(t){this._max=na.asDate(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(ya.prototype,"step",{get:function(){return this._step},set:function(t){this._step=na.asNumber(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(ya.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=na.asString(t),this._tbx.value=na.Globalize.format(this.value,this.format),na.hasItems(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(ya.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=na.asString(t)},enumerable:!0,configurable:!0}),ya.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},ya.prototype.onItemsSourceChanged=function(t){sa.prototype.onItemsSourceChanged.call(this,t),this._hasCustomItems=null!=this.itemsSource},ya.prototype._updateInputSelection=function(t){if(this._delKey)sa.prototype._updateInputSelection.call(this,t);else{for(var i=this._tbx.value;t<i.length&&!i[t].match(/[a-z0-9]/i);)t++;na.setSelectionRange(this._tbx,t,this._tbx.value.length)}},ya.prototype.refresh=function(t){void 0===t&&(t=!0),sa.prototype.refresh.call(this,t),this.isDroppedDown=!1,this._msk.refresh(),this._tbx.value=na.Globalize.format(this.value,this.format),this._updateItems()},ya.prototype.onSelectedIndexChanged=function(t){var i,e;-1<this.selectedIndex&&!this._settingText&&(i=this.value?this.value:na.DateTime.newDate(),e=null!=this.selectedItem.value?this.selectedItem.value:na.Globalize.parseDate(this.text,this.format,this.value),this.value=na.DateTime.fromDateTime(i,e)),sa.prototype.onSelectedIndexChanged.call(this,t)},ya.prototype._updateItems=function(){if(!this._hasCustomItems){var t=[],i=na.DateTime.newDate(0,0,0,0,0),e=na.DateTime.newDate(0,0,0,23,59,59);if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&e.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),na.isNumber(this.step)&&0<this.step)for(var n=i;n<=e;n=na.DateTime.addMinutes(n,this.step))t.push({value:n,text:na.Globalize.format(n,this.format)});var r=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=t,this._hasCustomItems=!1,this._settingText=!1,this.value=r}},ya.prototype._getTime=function(t){return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds()},ya.prototype._keydown=function(t){if(sa.prototype._keydown.call(this,t),!t.defaultPrevented)switch(t.keyCode){case na.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case na.Key.Escape:this.text=na.Globalize.format(this.value,this.format),this.selectAll()}},ya.prototype._commitText=function(){var t,i;this.text||this.isRequired?(t=this.value?na.Globalize.format(this.value,this.format):null,this.text!=t&&((i=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:na.Globalize.parseDate(this.text,this.format,this.value))?this.value=na.DateTime.fromDateTime(this.value,i):this.text=t)):this.value=null},ra.InputTime=ya,pa=window&&window.__extends||(oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}oa(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(o){aa.culture.InputDateTime=window.wijmo.culture.InputDateTime||{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}};var a,t=(a=o.InputDate,pa(i,a),Object.defineProperty(i.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(t){this._inputTime.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(t){this._inputTime.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(t){this._inputTime.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(t){this._inputTime.step=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._setDropdown(this.calendar.hostElement),a.prototype.dispose.call(this),this._inputTime.dispose()},i.prototype.refresh=function(t){void 0===t&&(t=!0),this._setDropdown(this.calendar.hostElement),this._inputTime.refresh(),a.prototype.refresh.call(this,t)},i.prototype._updateBtn=function(){a.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},i.prototype._clamp=function(t){return t&&(this.min&&t<this.min&&(t=this.min),this.max&&t>this.max&&(t=this.max)),t},i.prototype._commitText=function(){var t,i=this._tbx.value;i||this.isRequired?(t=aa.Globalize.parseDate(i,this.format,this.value))?this.value=t:this._tbx.value=aa.Globalize.format(this.value,this.format):this.value=null},i.prototype._setDropdown=function(t){this._dropDown!=t&&(this.isDroppedDown&&(this.isDroppedDown=!1),this._dropDown=t)},i.prototype._updateDropDown=function(){var t=this._inputTime;this._dropDown==t.dropDown?(this._commitText(),a.prototype._updateDropDown.call(this),t.isRequired=this.isRequired,t.value=this.value,this.isDroppedDown&&t.listBox.showSelection()):a.prototype._updateDropDown.call(this)},i.controlTemplate='<div class="wj-template" style="position:relative"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none"></div></div>',i);function i(t,i){var e=a.call(this,t)||this;aa.addClass(e.hostElement,"wj-inputdatetime"),e._btnTm=e.hostElement.querySelector('[wj-part="btn-tm"]');var n=aa.culture.InputDateTime.ariaLabels;aa.setAriaLabel(e._btn,n.tglDate),aa.setAriaLabel(e._btnTm,n.tglTime),e._format="g",e._inputTime=new o.InputTime(document.createElement("div"),{isDroppedDownChanging:function(){e._hadFocus=e.containsFocus()},isDroppedDownChanged:function(t){!t.isDroppedDown&&e._hadFocus&&e._tbx.focus()},valueChanged:function(t){e.value=aa.DateTime.fromDateTime(e.value,t.value)}});var r=e._inputTime.dropDown,s=e._keydown.bind(e);return e.addEventListener(r,"keydown",s,!0),e.addEventListener(r,"blur",function(){e._updateFocusState()},!0),e.addEventListener(e._btn,"mousedown",function(t){e._setDropdown(e.calendar.hostElement)}),e.addEventListener(e._btnTm,"mousedown",function(t){e._inputTime.dropDownCssClass=e.dropDownCssClass,e._setDropdown(r),setTimeout(function(){e._btnclick(t)})}),e.initialize(i),e}o.InputDateTime=t}((aa=ru||(window.wijmo=ru={})).input||(aa.input={})),pa=window&&window.__extends||(ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}ha(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){ca.culture.InputNumber=window.wijmo.culture.InputNumber||{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}};var h,i=(h=ca.Control,pa(e,h),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=ca.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){var i;t!=this._value&&(null==(t=ca.asNumber(t,!this.isRequired||null==t&&null==this._value))?this._setText(""):isNaN(t)||(i=ca.Globalize.format(t,this.format),this._setText(i)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=ca.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=ca.asBoolean(t),this.inputElement.readOnly=this._readOnly,ca.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=ca.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=ca.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){this._step=ca.asNumber(t,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=ca.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._oldText=null,this._setText(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=ca.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!ca.asBoolean(t)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._tbx;ca.setSelectionRange(t,0,t.value.length)},e.prototype.clamp=function(t){return ca.clamp(t,this.min,this.max)},e.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},e.prototype.onValueChanged=function(t){this._updateAria(),this.valueChanged.raise(this,t)},e.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,h.prototype.dispose.call(this)},e.prototype.onGotFocus=function(t){this.isTouching||(this._tbx.focus(),this.selectAll()),h.prototype.onGotFocus.call(this,t)},e.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text));var i=this.clamp(this.value),e=ca.Globalize.format(i,this.format);this._setText(e),h.prototype.onLostFocus.call(this,t)},e.prototype.refresh=function(t){void 0===t&&(t=!0),h.prototype.refresh.call(this,t),this._updateSymbols();var i=ca.Globalize.format(this.value,this.format);this._setText(i)},e.prototype._updateSymbols=function(){var t=ca.culture.Globalize.numberFormat,i=this.format?this.format.match(/([a-z])(\d*)(,*)(.*)/i):null;this._chrDec=t["."]||".",this._chrNeg=t["-"]||"-",this._chrPls=t["+"]||"+",this._chrPct=t["%"]||"%",this._chrCur=i&&i[4]?i[4]:t.currency.symbol||"$",this._fmtSpc=i&&i[1]?i[1].toLowerCase():"n",this._fmtPrc=i&&i[2]?parseInt(i[2]):null,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")},e.prototype._isNumeric=function(t,i){var e=t==this._chrDec||"0"<=t&&t<="9",n="x"==this._fmtSpc;return!e&&n&&(e="a"<=t&&t<="f"||"A"<=t&&t<="F"),e||i||n||(e=t==this._chrPls||t==this._chrNeg||"("==t||")"==t),e},e.prototype._getInputRange=function(t){for(var i=[0,0],e=this.text,n=!1,r=0;r<e.length;r++)this._isNumeric(e[r],t)&&(n||(i[0]=r,n=!0),i[1]=r+1);return i},e.prototype._flipSign=function(){var t=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(t)},e.prototype._getSelStartDigits=function(){for(var t=0,i=this._tbx.selectionStart,e=this._tbx.value,n=0;n<e.length&&n<i;n++)this._isNumeric(e[n],!0)&&t++;return t},e.prototype._setSelStartDigits=function(t){for(var i=this._tbx.value,e=0;e<i.length&&0<=t;e++)if(this._isNumeric(i[e],!0)){if(!t){ca.setSelectionRange(this._tbx,e);break}t--}else if(!t){ca.setSelectionRange(this._tbx,e);break}},e.prototype._increment=function(t){var i,e;t&&(i=this.clamp(ca.isNumber(this.value)?this.value+t:0),e=ca.Globalize.format(i,this.format,!1,!1),this._setText(e))},e.prototype._updateBtn=function(){var t=this.showSpinner&&!!this.step,i=t;ca.setCss([this._btnUp,this._btnDn],{display:t?"":"none"}),ca.toggleClass(this.hostElement,"wj-input-show-spinner",t),ca.enable(this._btnUp,i),ca.enable(this._btnDn,i),this._updateAria()},e.prototype._setText=function(t){if(!this._composing){var i=this._tbx,e=this._rxNeg.test(t),n=this._delKey;if(t&&this._rxSym.test(t)&&(t=this.isRequired||!n?"0":""),this._delKey=!1,n&&0==this.value&&!this.isRequired&&(t=""),!t){if(!this.isRequired)return i.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=t,this.onTextChanged()),void this._updateBtn();t="0"}var r,s=this._format||(-1<t.indexOf(this._chrDec)?"n2":"n0"),o=ca.Globalize.parseFloat(t,s);isNaN(o)?i.value=this._oldText:(r=ca.Globalize.format(o,s,!1),e&&0<=o&&!n&&(r=this._chrNeg+r),null!=this._fmtPrc&&"g"!=this._fmtSpc||!n&&i.value.match(/\.0?$/)&&(r=t+("0"==t?this._chrDec:"")),i.value!=r&&("g"==this._fmtSpc&&i.value.match(r+"0*")&&this.containsFocus()&&i.selectionStart==i.value.length&&(r=i.value),i.value=r,o=ca.Globalize.parseFloat(r,this.format)),o!=this._value&&(this._value=o,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn())}},e.prototype._keypress=function(t){if(!(t.defaultPrevented||this._composing||this.isReadOnly)&&t.charCode&&!t.ctrlKey&&!t.metaKey){var i,e,n,r,s,o,a=this._tbx,h=String.fromCharCode(t.charCode);switch(this._isNumeric(h,!1)?(i=this._getInputRange(!0),e=a.selectionStart,n=a.selectionEnd,e<i[0]&&n<a.value.length&&(n=Math.max(n,i[0]),ca.setSelectionRange(a,i[0],n)),e>=i[1]&&(r=null!=this._fmtPrc?this._fmtPrc:2,-1<(s=a.value.indexOf(this._chrDec))&&r<e-s&&t.preventDefault())):t.preventDefault(),h){case"-":case this._chrNeg:0<=this.min?this.value<0&&this._flipSign():this.value&&a.selectionStart==a.selectionEnd?this._flipSign():this.clamp(-1)<0&&(a.value=this._chrNeg,ca.setSelectionRange(a,1)),t.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),t.preventDefault();break;case this._chrDec:0==this._fmtPrc?t.preventDefault():-1<(o=a.value.indexOf(h))&&(a.selectionStart<=o&&o++,ca.setSelectionRange(a,o),t.preventDefault())}}},e.prototype._keydown=function(t){var i=this;if(this._delKey=!1,!t.defaultPrevented&&!this._composing){var e,n,r=this._tbx,s=r.value,o=r.selectionStart,a=r.selectionEnd;switch(t.keyCode){case 65:t.ctrlKey&&(setTimeout(function(){i.selectAll()}),t.preventDefault());break;case ca.Key.Up:case ca.Key.Down:this.step&&!this.isReadOnly&&(this._increment(this.step*(t.keyCode==ca.Key.Up?1:-1)),setTimeout(function(){i.selectAll()}),t.preventDefault());break;case ca.Key.Back:this._delKey=!0,a-o<2&&!this.isReadOnly&&((e=s[a-1])!=this._chrDec&&e!=this._chrPct&&")"!=e||(setTimeout(function(){a=e==i._chrPct?i._getInputRange(!0)[1]:a-1,ca.setSelectionRange(r,a)}),t.preventDefault()));break;case ca.Key.Delete:this._delKey=!0,a-o<2&&!this.isReadOnly&&("0"==s&&1==o?ca.setSelectionRange(r,0):(n=s[o])!=this._chrDec&&n!=this._chrPct||(setTimeout(function(){ca.setSelectionRange(r,o+1)}),t.preventDefault()))}}},e.prototype._input=function(t){var h=this;this._composing||setTimeout(function(){var t=h._tbx,i=t.value,e=i.indexOf(h._chrDec),n=t.selectionStart,r=h._getSelStartDigits();if("p"==h._fmtSpc&&i.length&&i.indexOf(h._chrPct)<0&&(i+=h._chrPct),h._setText(i),h.containsFocus()){var s=t.value,o=s.indexOf(h._chrDec),a=h._getInputRange(!0);if(i==h._chrNeg+h._chrDec&&-1<o)return void ca.setSelectionRange(t,o+1);if(i[0]==h._chrNeg&&s[0]!=h._chrNeg)return void(1==s.length?ca.setSelectionRange(t,1):h._setSelStartDigits(r));i?i==h._chrDec&&-1<o?n=o+1:n<=e&&-1<o||e<0&&o<0?n+=s.length-i.length:e<0&&-1<o&&(n=o):n=-1<o?o:a[1],n=ca.clamp(n,a[0],a[1]),ca.setSelectionRange(t,n)}})},e.prototype._clickSpinner=function(t){var i=this;t.defaultPrevented||this.isReadOnly||!this.step||(this._increment(this.step*(ca.contains(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},e.prototype._updateAria=function(){var t=this.hostElement;t&&(ca.setAttribute(t,"aria-valuemin",this.min),ca.setAttribute(t,"aria-valuemax",this.max),ca.setAttribute(t,"aria-valuenow",this.value))},e.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div>',e);function e(t,i){var e=h.call(this,t)||this;e._showBtn=!0,e._readOnly=!1,e.textChanged=new ca.Event,e.valueChanged=new ca.Event;var n=e.hostElement;ca.setAttribute(n,"role","spinbutton",!0);var r=e.getTemplate();e.applyTemplate("wj-control wj-content wj-inputnumber",r,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var s=ca.culture.InputNumber.ariaLabels;ca.setAriaLabel(e._btnUp.querySelector("button"),s.incVal),ca.setAriaLabel(e._btnDn.querySelector("button"),s.decVal),e._tbx.type.match(/number/i)&&(e.inputType="");var o=e._tbx;o.autocomplete="off",o.spellcheck=!1,e._updateSymbols(),e.addEventListener(e._tbx,"compositionstart",function(){e._composing=!0}),e.addEventListener(e._tbx,"compositionend",function(){e._composing=!1,setTimeout(function(){var t=e.text;-1<e._oldText.indexOf(e._chrPct)&&t.indexOf(e._chrPct)<0&&(t+=e._chrPct),e._setText(t)})}),e.addEventListener(o,"keypress",e._keypress.bind(e)),e.addEventListener(o,"keydown",e._keydown.bind(e)),e.addEventListener(o,"input",e._input.bind(e));var a=e._clickSpinner.bind(e);return e.addEventListener(e._btnUp,"click",a),e.addEventListener(e._btnDn,"click",a),e._rptUp=new ca._ClickRepeater(e._btnUp.querySelector("button")),e._rptDn=new ca._ClickRepeater(e._btnDn.querySelector("button")),e.value=0,e.isRequired=!0,e.initialize(i),e}t.InputNumber=i}((ca=ru||(window.wijmo=ru={})).input||(ca.input={})),pa=window&&window.__extends||(ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}ua(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),fa=(la=ru||(window.wijmo=ru={})).input||(la.input={}),da=la.Control,pa(xa,da),Object.defineProperty(xa.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(xa.prototype,"value",{get:function(){return this._tbx.value},set:function(t){t!=this.value&&(this._tbx.value=la.asString(t),t=this._msk._applyMask(),this._tbx.value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(xa.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){t!=this.rawValue&&(this.value=la.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(xa.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){var i=this.value;this._msk.mask=la.asString(t),this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(xa.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(t){var i=this.value;this._msk.promptChar=t,this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(xa.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(xa.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(xa.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=la.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(xa.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=la.asBoolean(t),la.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),xa.prototype.selectAll=function(){var t=this._msk.getMaskRange();la.setSelectionRange(this._tbx,t[0],t[1]+1)},xa.prototype.onValueChanged=function(t){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,t)),this._updateState()},xa.prototype._updateState=function(){da.prototype._updateState.call(this);var t=!this._pristine&&this._tbx.value&&!this.maskFull;la.toggleClass(this.hostElement,"wj-state-invalid",t)},xa.prototype.dispose=function(){this._msk.input=null,da.prototype.dispose.call(this)},xa.prototype.refresh=function(t){void 0===t&&(t=!0),da.prototype.refresh.call(this,t),this._msk.refresh()},xa.prototype.onGotFocus=function(t){da.prototype.onGotFocus.call(this,t),this.selectAll()},xa.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',fa.InputMask=xa,pa=window&&window.__extends||(Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Aa(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),ga=ru||(window.wijmo=ru={}),wa=ga.input||(ga.input={}),ma=wa.DropDown,pa(Ia,ma),Object.defineProperty(Ia.prototype,"value",{get:function(){return this._value},set:function(t){t!=this.value&&(!t&&this.isRequired||(this.text=ga.asString(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(Ia.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(ga.asString(t),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(Ia.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(t){this._colorPicker.showAlphaChannel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Ia.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(t){this._colorPicker.palette=t},enumerable:!0,configurable:!0}),Object.defineProperty(Ia.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),Ia.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},Ia.prototype._createDropDown=function(){var t=this;this._colorPicker=new wa.ColorPicker(this._dropDown),ga.setCss(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){t.value=t._colorPicker.value})},Ia.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case ga.Key.Enter:this._commitText(),this.selectAll();break;case ga.Key.Escape:this.text=this.value,this.selectAll()}ma.prototype._keydown.call(this,t)},Ia.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,void(this._ePreview.style.backgroundColor="");ga.Color.fromString(this.text)?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:""}},wa.InputColor=Ia;var ka=!p(function(){return Object.isExtensible(Object.preventExtensions({}))}),Sa=g(function(t){function e(t){i(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})}var i=ht.f,n=N("meta"),r=0,s=Object.isExtensible||function(){return!0},o=t.exports={REQUIRED:!1,fastKey:function(t,i){if(!B(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!R(t,n)){if(!s(t))return"F";if(!i)return"E";e(t)}return t[n].objectID},getWeakData:function(t,i){if(!R(t,n)){if(!s(t))return!0;if(!i)return!1;e(t)}return t[n].weakData},onFreeze:function(t){return ka&&o.REQUIRED&&s(t)&&!R(t,n)&&e(t),t}};vt[n]=!0}),Da=(Sa.REQUIRED,Sa.fastKey,Sa.getWeakData,Sa.onFreeze,St("iterator")),Na=Array.prototype,Ta=St("iterator"),Oa=g(function(t){function d(t,i){this.stopped=t,this.result=i}(t.exports=function(t,i,e,n,r){var s,o,a,h,c,u,l,f=Er(i,e,n?2:1);if(r)s=t;else{if("function"!=typeof(o=Fa(t)))throw TypeError("Target is not iterable");if(Ma(o)){for(a=0,h=jt(t.length);a<h;a++)if((c=n?f(S(l=t[a])[0],l[1]):f(t[a]))&&c instanceof d)return c;return new d(!1)}s=o.call(t)}for(u=s.next;!(l=u.call(s)).done;)if("object"==typeof(c=Qa(s,f,l.value,n))&&c&&c instanceof d)return c;return new d(!1)}).stop=function(t){return new d(!0,t)}}),Ya=St("iterator"),Ua=!1;try{var Ha=0,za={next:function(){return{done:!!Ha++}},return:function(){Ua=!0}};za[Ya]=function(){return this},Array.from(za,function(){throw 2})}catch(t){}function Ga(t,i){if(!i&&!Ua)return!1;var e=!1;try{var n={};n[Ya]=function(){return{next:function(){return{done:e=!0}}}},t(n)}catch(t){}return e}function Pa(n,t,i,r,s){function e(t){var e=f[t];Ot(f,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(s&&!B(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return s&&!B(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(s&&!B(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})}var o,a,h,c,u,l=J[n],f=l&&l.prototype,d=l,A=r?"set":"add",g={};return ei(n,"function"!=typeof l||!(s||f.forEach&&!p(function(){(new l).entries().next()})))?(d=i.getConstructor(t,n,r,A),Sa.REQUIRED=!0):ei(n,!0)&&(a=(o=new d)[A](s?{}:-0,1)!=o,h=p(function(){o.has(1)}),c=Ga(function(t){new l(t)}),u=!s&&p(function(){for(var t=new l,i=5;i--;)t[A](i,i);return!t.has(-0)}),c||(((d=t(function(t,i){Ra(t,d,n);var e=ve(new l,t,d);return null!=i&&Oa(i,e[A],e,r),e})).prototype=f).constructor=d),(h||u)&&(e("delete"),e("has"),r&&e("get")),(u||a)&&e(A),s&&f.clear&&delete f.clear),Qt({global:!0,forced:(g[n]=d)!=l},g),zi(d,n),s||i.setStrong(d,n,r),d}function Va(t,i,e){for(var n in i)Ot(t,n,i[n],e);return t}var La=ht.f,Ja=Sa.fastKey,Wa=Tt.set,_a=Tt.getterFor,Xa={getConstructor:function(t,e,n,r){function s(t,i,e){var n,r,s=h(t),o=a(t,i);return o?o.value=e:(s.last=o={index:r=Ja(i,!0),key:i,value:e,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=o),n&&(n.next=o),W?s.size++:t.size++,"F"!==r&&(s.index[r]=o)),t}function a(t,i){var e,n=h(t),r=Ja(i);if("F"!==r)return n.index[r];for(e=n.first;e;e=e.next)if(e.key==i)return e}var o=t(function(t,i){Ra(t,o,e),Wa(t,{type:e,index:Ii(null),first:void 0,last:void 0,size:0}),W||(t.size=0),null!=i&&Oa(i,t[r],t,n)}),h=_a(e);return Va(o.prototype,{clear:function(){for(var t=h(this),i=t.index,e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),delete i[e.index],e=e.next;t.first=t.last=void 0,W?t.size=0:this.size=0},delete:function(t){var i,e,n=h(this),r=a(this,t);return r&&(i=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=i),i&&(i.previous=e),n.first==r&&(n.first=i),n.last==r&&(n.last=e),W?n.size--:this.size--),!!r},forEach:function(t,i){for(var e,n=h(this),r=Er(t,1<arguments.length?i:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),Va(o.prototype,n?{get:function(t){var i=a(this,t);return i&&i.value},set:function(t,i){return s(this,0===t?0:t,i)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),W&&La(o.prototype,"size",{get:function(){return h(this).size}}),o},setStrong:function(t,i,e){var n=i+" Iterator",r=_a(i),s=_a(n);Vi(t,i,function(t,i){Wa(this,{type:n,target:t,state:r(t),kind:i,last:void 0})},function(){for(var t=s(this),i=t.kind,e=t.last;e&&e.removed;)e=e.previous;return t.target&&(t.last=e=e?e.next:t.state.first)?"keys"==i?{value:e.key,done:!1}:"values"==i?{value:e.value,done:!1}:{value:[e.key,e.value],done:!1}:{value:t.target=void 0,done:!0}},e?"entries":"values",!e,!0),tn(i)}},Ka=(Pa("Map",function(i){return function(t){return i(this,arguments.length?t:void 0)}},Xa,!0),ot.f),Za=p(function(){Ka(1)});Qt({target:"Object",stat:!0,forced:!W||Za,sham:!W},{getOwnPropertyDescriptor:function(t,i){return Ka(E(t),i)}});var qa=Zr.f;Qt({target:"Object",stat:!0,forced:p(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:qa});var $a=Nn.charAt,th="String Iterator",ih=Tt.set,eh=Tt.getterFor(th);Vi(String,"String",function(t){ih(this,{type:th,string:String(t),index:0})},function(){var t,i=eh(this),e=i.string,n=i.index;return n>=e.length?{value:void 0,done:!0}:(t=$a(e,n),i.index+=t.length,{value:t,done:!1})});var nh,rh,sh,oh,ah,hh,ch,uh,lh,fh,dh,Ah,gh,wh,mh,ph,vh,bh,Eh,Bh,Ch,jh,yh,xh,Ih,Mh,Fh=window&&window.__extends||(nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}nh(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});function Qh(t,i,e,n){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===e&&(e=t),void 0===n&&(n=i),this.setRange(t,i,e,n)}function Rh(){}function kh(r){var s=this;this._fullEdit=!1,this._list=null,this._g=r,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),r.selectionChanging.addHandler(function(t,i){var e,n;s.finishEditing()?(e=r._selHdl.selection.row)!=i.row&&(n=r.rows.length,(-1<e&&e<n?r.rows[e].dataItem:null)!=(-1<i.row&&i.row<n?r.rows[i.row].dataItem:null)&&s._commitRowEdits()):i.cancel=!0}),r.lostFocus.addHandler(function(){var t;r.containsFocus()||(t=dh.getActiveElement())&&"fixed"==getComputedStyle(t).position||s._commitRowEdits()}),r.addEventListener(r.hostElement,"mousedown",function(t){var i,e;t.defaultPrevented||0!=t.button||r._mouseHdl._szRowCol||(r.selection,(i=r.hitTest(t)).cellType!=Ah.CellType.Cell&&i.cellType!=Ah.CellType.None?s.finishEditing():i.cellType!=Ah.CellType.None&&(e=dh.tryCast(t.target,HTMLInputElement),s._isNativeCheckbox(e)&&(e!=s.activeEditor&&(t.preventDefault(),s.startEditing(!1,i.row,i.col,!0,t)&&(e=s.activeEditor)),!e||"checkbox"!=e.type||e.disabled||e.readOnly||(e.checked=!e.checked,e.focus(),s.finishEditing()))))},!0),r.addEventListener(r.hostElement,"click",function(t){s._isNativeCheckbox(t.target)&&t.preventDefault()})}function Sh(t,i,e){if(this.mapChanged=new ph.Event,ph.isArray(t)&&!i&&!e){for(var n=[],r=0;r<t.length;r++)n.push({value:t[r]});t=n,i=e="value"}this._cv=ph.asCollectionView(t),this._keyPath=ph.asString(i,!1),this._displayPath=ph.asString(e,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}function Dh(t,i){var e,n,r,s;if(this._row=-1,this._col=-1,this._edge=0,i instanceof Element){if(Eh.closest(i,".wj-flexgrid")!=t.hostElement)return;t=i}if(!(t instanceof Element)||t instanceof Ch.FlexGrid){if(t instanceof Ch.FlexGrid)e=this._g=t;else{if(!(t instanceof Ch.GridPanel))throw"First parameter should be a FlexGrid or GridPanel.";this._p=t,e=this._g=this._p.grid}i instanceof MouseEvent&&"mousedown"==(n=i).type&&(e._rcBounds=null),i=Eh.mouseToPage(i),this._pt=i.clone();var o=e.controlRect,a=e._szClient,h=e.topLeftCells,c=e._eTL,u=e.headersVisibility,l=Ch.HeadersVisibility,f=u&l.Row?h.columns.getTotalSize():0,d=u&l.Column?h.rows.getTotalSize():0,A=u&l.Column?d+c.offsetTop:0,g=e._eBL,w=g.offsetHeight;if(i.x-=o.left,i.y-=o.top,this._g.rightToLeft&&(i.x=o.width-i.x),!this._p&&0<=i.x&&i.y>=c.offsetTop&&a&&i.x<=a.width+f&&i.y<=a.height+A&&(i.y<A?this._p=i.x<f?e.topLeftCells:e.columnHeaders:i.y<g.offsetTop?this._p=i.x<f?e.rowHeaders:e.cells:this._p=i.x<f?e.bottomLeftCells:e.columnFooters),null!=this._p){var m=this._p.rows,p=this._p.columns,v=this._p.cellType,b=Ch.CellType,E=this._p._getFrozenPos(),B=v==b.TopLeft||v==b.ColumnHeader?d:v==b.BottomLeft||v==b.ColumnFooter?w:m.getTotalSize(),C=v==b.TopLeft||v==b.BottomLeft||v==b.RowHeader?f:p.getTotalSize();v==b.RowHeader||v==b.Cell?(i.y-=d,(i.y>E.y||E.y<=0)&&(i.y-=e._ptScrl.y,i.y+=this._p._getOffsetY())):v!=b.BottomLeft&&v!=b.ColumnFooter||(i.y-=g.offsetTop),v!=b.ColumnHeader&&v!=b.Cell&&v!=b.ColumnFooter||(i.x-=f,(i.x>E.x||E.x<=0)&&(i.x-=e._ptScrl.x)),v!=b.ColumnHeader&&v!=b.TopLeft||(i.y-=A-d),this._edge=0;var j,y,x=Dh._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(x=Dh._SZEDGE[1],i.x-=x/2),this._row=i.y>B?-1:m.getItemAt(i.y),this._col=i.x>C?-1:p.getItemAt(i.x),this._row<0||this._col<0)return void(this._p=null);-1<this._col&&(j=p[this._col],i.x-j.pos<=x&&(this._edge|=1),j.pos+j.renderSize-i.x<=x&&(this._edge|=4)),-1<this._row&&(y=m[this._row],i.y-y.pos<=x&&(this._edge|=2),y.pos+y.renderSize-i.y<=x&&(this._edge|=8))}!(8&this._edge)&&n instanceof MouseEvent&&(s=(r=Eh.closest(n.target,".wj-cell"))?r[Ch.GridPanel._INDEX_KEY]:null)&&!s.rng&&s.panel==this._p&&this._row!=s.row&&(this._row=s.row)}else(s=(r=Eh.closest(t,".wj-cell"))?r[Ch.GridPanel._INDEX_KEY]:null)&&(this._row=s.row,this._col=s.col,this._rng=s.rng,this._p=s.panel,this._g=s.panel.grid)}function Nh(t){this._compStartBnd=this._compositionstart.bind(this),this._updateImeFocusBnd=this._updateImeFocus.bind(this),this._mouseDownBnd=this._mousedown.bind(this),this._mouseUpBnd=this._mouseup.bind(this),this._g=t,this._tbx=xh.createElement('<textarea class="wj-grid-editor wj-form-control wj-grid-ime"/>'),xh.disableAutoComplete(this._tbx),xh.setCss(this._tbx,Nh._cssHidden),t.cells.hostElement.parentElement.appendChild(this._tbx),this._updateImeFocus();var i=t.hostElement,e=t.addEventListener.bind(this);e(this._tbx,"compositionstart",this._compStartBnd),e(i,"blur",this._updateImeFocusBnd),e(i,"focus",this._updateImeFocusBnd),e(i,"mousedown",this._mouseDownBnd,!0),e(i,"mouseup",this._mouseUpBnd,!0),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.selectionChanged.addHandler(this._updateImeFocus,this)}ru.culture.FlexGrid=window.wijmo.culture.FlexGrid||{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}},function(g){var b,t;(t=b=g.HeadersVisibility||(g.HeadersVisibility={}))[t.None=0]="None",t[t.Column=1]="Column",t[t.Row=2]="Row",t[t.All=3]="All";var s,i=(s=rh.Control,Fh(w,s),w.prototype._handleResize=function(){this._rcBounds=null,s.prototype._handleResize.call(this)},Object.defineProperty(w.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(t){(t=rh.asEnum(t,b))!=this._hdrVis&&(this._hdrVis=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(t){t!=this._stickyHdr&&(this._stickyHdr=rh.asBoolean(t),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(t){this._pSel=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(t){this._pOutline=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(t){this._vt=t,rh.isNumber(t)?this._vtRows=this._vtCols=rh.asNumber(t):t?rh.isArray(t)&&2==t.length?(this._vtRows=rh.asNumber(t[0]),this._vtCols=rh.asNumber(t[1])):rh.assert(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(t){this._autoGenCols=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(t){this._autoClipboard=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(t){this._autoScroll=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"columnLayout",{get:function(){for(var t=w._getSerializableProperties(g.Column),i=new g.Column,e=[],n=0;n<this.columns.length;n++){for(var r=this.columns[n],s={},o=0;o<t.length;o++){var a=t[o],h=r[a];h!=i[a]&&rh.isPrimitive(h)&&"size"!=a&&(s[a]=h)}e.push(s)}return JSON.stringify({columns:e})},set:function(t){var i=JSON.parse(rh.asString(t));if(!i||null==i.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(i)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=rh.asBoolean(t),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),rh.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(t){rh.asBoolean(t)!=this.imeEnabled&&this.finishEditing()&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),t&&(this._imeHdl=new g._ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(t){this._alResizing=rh.asEnum(t,g.AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(t){this._deferResizing=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(t){this._autoSizeMode=rh.asEnum(t,g.AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(t){this._quickSize=rh.asBoolean(t,!0)},enumerable:!0,configurable:!0}),w.prototype._getQuickAutoSize=function(){return rh.isBoolean(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(w.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(t){this._alSorting=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(t){t!=this._alAddNew&&(this._alAddNew=rh.asBoolean(t),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(t){this._addHdl.newRowAtTop=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(t){t!=this._alDelete&&(this._alDelete=rh.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(t){(t=rh.asEnum(t,g.AllowMerging))!=this._alMerging&&(this._alMerging=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(t){(t=rh.asEnum(t,b))!=this._ssHdr&&(this._ssHdr=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(t){var i;t!=this.showMarquee&&((i=this._eMarquee.style).visibility="collapse",i.display=rh.asBoolean(t)?"":"none",this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"showSort",{get:function(){return this._shSort},set:function(t){t!=this._shSort&&(this._shSort=rh.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=rh.asBoolean(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(t){t!=this._shAlt&&(this._shAlt=rh.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"showErrors",{get:function(){return this._shErr},set:function(t){t!=this._shErr&&(this._clearCells(),this._shErr=rh.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this.itemValidator&&(this._itemValidator=rh.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(t){this._valEdt=rh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(t){t!=this._gHdrFmt&&(this._gHdrFmt=rh.asString(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(t){(t=rh.asEnum(t,g.AllowDragging))!=this._alDragging&&(this._alDragging=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"itemsSource",{get:function(){return this._items},set:function(t){var i,e,n;t!=this._items&&(i=new rh.CancelEventArgs,this.onItemsSourceChanging(i)&&(this._cv&&((e=rh.tryCast(this._cv,rh.collections.CollectionView))&&e.sortConverter==this._bndSortConverter&&(e.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=this._getCollectionView(t),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),(e=rh.tryCast(this._cv,rh.collections.CollectionView))&&!e.sortConverter&&(e.sortConverter=this._bndSortConverter)),this._bindGrid(!0),n=g.SelectionMode,this.selectionMode==n.ListBox&&(this.selectionMode=n.CellRange,this.selectionMode=n.ListBox),this.onItemsSourceChanged(i)))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"editableCollectionView",{get:function(){return rh.tryCast(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(rh.assert(null==t||rh.isArray(t)||rh.isString(t),"childItemsPath should be an array or a string."),this._childItemsPath=t,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(t){t!=this.rowHeaderPath&&(t=rh.asString(t),this._rowHdrPath=t?new rh.Binding(t):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),w.prototype.getColumn=function(t){return this.columns.getColumn(t)},Object.defineProperty(w.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(t){this.rows.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(t){this.columns.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(t){t!=this.cloneFrozenCells&&(this._fzClone=rh.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(t){t!=this._sortRowIndex&&(this._sortRowIndex=rh.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(t){var i=this._root,e=-t.x;if(this.rightToLeft)switch(w._getRtlMode()){case"rev":e=i.scrollWidth-i.clientWidth+t.x;break;case"neg":e=t.x;break;default:e=-t.x}i.scrollLeft=e,i.scrollTop=-t.y},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=rh.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"scrollSize",{get:function(){return new rh.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"cellFactory",{get:function(){return this._cf},set:function(t){t!=this._cf&&(this._clearCells(),this._cf=rh.asType(t,g.CellFactory,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=rh.asFunction(t))},enumerable:!0,configurable:!0}),w.prototype.canEditCell=function(t,i){return this._edtHdl._allowEditing(t,i)},w.prototype.getCellData=function(t,i,e){return this.cells.getCellData(t,i,e)},w.prototype.getCellBoundingRect=function(t,i,e){return this.cells.getCellBoundingRect(t,i,e)},w.prototype.setCellData=function(t,i,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.cells.setCellData(t,i,e,n,r)},w.prototype.hitTest=function(t,i){return rh.isNumber(t)&&rh.isNumber(i)&&(t=new rh.Point(t,i)),rh.isBoolean(i)&&i&&(this._rcBounds=null),new g.HitTestInfo(this,t)},w.prototype.getClipString=function(t){return this._edtHdl.getClipString(t)},w.prototype.setClipString=function(t,i){this._edtHdl.setClipString(t,i)},w.prototype.focus=function(){this._setFocus(!1)},w.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,s.prototype.dispose.call(this)},w.prototype.refresh=function(t){void 0===t&&(t=!0),s.prototype.refresh.call(this,t),this.finishEditing(),t&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl),this.refreshCells(t)},w.prototype.refreshCells=function(t,i,e){this.isUpdating||(t?this._updateLayout():this._updateContent(i,e))},w.prototype.autoSizeColumn=function(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=4),this.autoSizeColumns(t,t,i,e)},w.prototype.autoSizeColumns=function(o,a,t,h){var c=this;void 0===t&&(t=!1),void 0===h&&(h=4);var u=0,l=t?this.topLeftCells:this.columnHeaders,f=t?this.bottomLeftCells:this.columnFooters,d=t?this.rowHeaders:this.cells,A=this.viewRange;o=null==o?0:rh.asInt(o),a=null==a?d.columns.length-1:rh.asInt(a),A.row=Math.max(0,A.row-1e3),A.row2=Math.min(A.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){rh.setCss(c._eCt,{width:c._gpCells.width});var t=document.createElement("div");t.setAttribute(w._WJS_MEASURE,"true"),t.style.visibility="hidden",d.hostElement.parentElement.appendChild(t);for(var i=c._getCanvasContext(),e=o;e<=a&&-1<e&&e<d.columns.length;e++){var n=d.columns[e];if(n.isVisible){if(u=0,c.autoSizeMode&g.AutoSizeMode.Headers){for(var r,s=0;s<l.rows.length;s++)l.rows[s].isVisible&&(r=c._getDesiredWidth(l,s,e,t),u=Math.max(u,r));for(s=0;s<f.rows.length;s++)f.rows[s].isVisible&&(r=c._getDesiredWidth(f,s,e,t),u=Math.max(u,r))}if(c.autoSizeMode&g.AutoSizeMode.Cells&&A.isValid)if(n._getQuickAutoSize())s=c._getWidestRow(d,A,e,i),r=c._getDesiredWidth(d,s,e,t),u=Math.max(u,r);else for(s=A.row;s<=A.row2&&s<d.rows.length;s++)d.rows[s].isVisible&&(r=c._getDesiredWidth(d,s,e,t),u=Math.max(u,r));0<u&&(n.width=u+h+2)}}c.cellFactory.disposeCell(t),rh.removeChild(t)})},w.prototype.autoSizeRow=function(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=0),this.autoSizeRows(t,t,i,e)},w.prototype.autoSizeRows=function(n,r,t,s){var o=this;void 0===t&&(t=!1),void 0===s&&(s=0);var a=0,h=t?this.topLeftCells:this.rowHeaders,c=t?this.columnHeaders:this.cells;t=rh.asBoolean(t),s=rh.asNumber(s),n=null==n?0:rh.asInt(n),r=null==r?c.rows.length-1:rh.asInt(r),this.finishEditing()&&this.rows.deferUpdate(function(){rh.setCss(o._eCt,{width:o._gpCells.width});var t=document.createElement("div");t.setAttribute(w._WJS_MEASURE,"true"),t.style.visibility="hidden",c.hostElement.appendChild(t);for(var i={},e=n;e<=r&&-1<e&&e<c.rows.length;e++)c.rows[e].isVisible&&(a=0,o.autoSizeMode&g.AutoSizeMode.Headers&&(a=o._getDesiredRowHeight(h,e,t,i)),o.autoSizeMode&g.AutoSizeMode.Cells&&(a=Math.max(a,o._getDesiredRowHeight(c,e,t,i))),a+=s,c.rows[e].height=a>c.rows.defaultSize?a:null);o.cellFactory.disposeCell(t),rh.removeChild(t)})},Object.defineProperty(w.prototype,"treeIndent",{get:function(){return this._indent},set:function(t){t!=this._indent&&(this._indent=rh.asNumber(t,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),w.prototype.collapseGroupsToLevel=function(n){var t=this;this.finishEditing()&&this.deferUpdate(function(){var e=t.rows;e.deferUpdate(function(){for(var t=0;t<e.length;t++){var i=e[t];i instanceof g.GroupRow&&(i.isCollapsed=i.level>=n)}})})},Object.defineProperty(w.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(t){(t=rh.asEnum(t,g.SelectionMode))!=this.selectionMode&&(this._clearCells(),this._selHdl.selectionMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(t){this._selHdl.selection=t},enumerable:!0,configurable:!0}),w.prototype.select=function(t,i){void 0===i&&(i=!0),this._selHdl.select(t,i)},w.prototype.getSelectedState=function(t,i){return this.cells.getSelectedState(t,i,null)},Object.defineProperty(w.prototype,"selectedRows",{get:function(){var t=[];if(this.selectionMode==g.SelectionMode.ListBox)for(var i=0;i<this.rows.length;i++)this.rows[i].isSelected&&t.push(this.rows[i]);else if(this.rows.length)for(var e=this.selection,i=e.topRow;-1<i&&i<=e.bottomRow;i++)t.push(this.rows[i]);return t},set:function(r){var s=this;rh.assert(this.selectionMode==g.SelectionMode.ListBox,"This property can be set only in ListBox mode."),r=rh.asArray(r),this.deferUpdate(function(){for(var t=0,i=!0;t<s.rows.length;t++){var e=s.rows[t],n=r&&-1<r.indexOf(e);n&&i&&(i=!1,s.select(t,s.selection.col)),e.isSelected=n}})},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"selectedItems",{get:function(){for(var t=this.selectedRows,i=0;i<t.length;i++)t[i]=t[i].dataItem;return t},set:function(r){var s=this;rh.assert(this.selectionMode==g.SelectionMode.ListBox,"This property can be set only in ListBox mode."),r=rh.asArray(r),this.deferUpdate(function(){for(var t=0,i=!0;t<s.rows.length;t++){var e=s.rows[t],n=r&&-1<r.indexOf(e.dataItem);n&&i&&(i=!1,s.select(t,s.selection.col)),e.isSelected=n}})},enumerable:!0,configurable:!0}),w.prototype.scrollIntoView=function(t,i,e){null==this._maxOffsetY&&this._updateLayout();var n,r,s,o,a,h,c,u=this.scrollPosition,l=this._szClient.width,f=this._szClient.height-this._gpCFtr.rows.getTotalSize(),d=this.cells._getFrozenPos();return-1<(t=rh.asInt(t))&&t<this._rows.length&&t>=this._rows.frozen&&(n=this._rows[t],r=this.cells.height>f?Math.round(n.pos/(this.cells.height-f)*100)/100:0,s=Math.round(this._maxOffsetY*r),(a=(o=n.pos-s)+n.renderSize-1)>f-u.y&&(u.y=Math.max(-o,f-a)),o-d.y<-u.y&&(u.y=-(o-d.y))),-1<(i=rh.asInt(i))&&i<this._cols.length&&i>=this._cols.frozen&&((c=(h=this._cols[i]).pos+h.renderSize-1)>-u.x+l&&(u.x=Math.max(-h.pos,l-c)),h.pos-d.x<-u.x&&(u.x=-(h.pos-d.x))),!u.equals(this._ptScrl)&&(this.scrollPosition=u,e&&(this._updateScrollPosition(),this.refresh()),!0)},w.prototype.isRangeValid=function(t){return t.isValid&&t.bottomRow<this.rows.length&&t.rightCol<this.columns.length},w.prototype.startEditing=function(t,i,e,n){return void 0===t&&(t=!0),this._edtHdl.startEditing(t,i,e,n)},w.prototype.finishEditing=function(t){return this._edtHdl.finishEditing(t)},Object.defineProperty(w.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(t){t!=this._mrgMgr&&(this._mrgMgr=rh.asType(t,g.MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),w.prototype.getMergedRange=function(t,i,e,n){return void 0===n&&(n=!0),this._mrgMgr?this._mrgMgr.getMergedRange(t,i,e,n):null},Object.defineProperty(w.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(t){this._keyHdl._kaTab=rh.asEnum(t,g.KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(t){this._keyHdl._kaEnter=rh.asEnum(t,g.KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(t){t!=this._shDropDown&&(this._shDropDown=rh.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),w.prototype.toggleDropDownList=function(){this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1)},w.prototype.onItemsSourceChanging=function(t){return this.itemsSourceChanging.raise(this,t),!t.cancel},w.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},w.prototype.onScrollPositionChanged=function(t){this.scrollPositionChanged.raise(this,t)},w.prototype.onSelectionChanging=function(t){return this.selectionChanging.raise(this,t),!t.cancel},w.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)},w.prototype.onLoadingRows=function(t){return this.loadingRows.raise(this,t),!t.cancel},w.prototype.onLoadedRows=function(t){this.loadedRows.raise(this,t)},w.prototype.onUpdatingLayout=function(t){return this.updatingLayout.raise(this,t),!t.cancel},w.prototype.onUpdatedLayout=function(t){this.updatedLayout.raise(this,t)},w.prototype.onResizingColumn=function(t){return this.resizingColumn.raise(this,t),!t.cancel},w.prototype.onResizedColumn=function(t){this.resizedColumn.raise(this,t)},w.prototype.onAutoSizingColumn=function(t){return this.autoSizingColumn.raise(this,t),!t.cancel},w.prototype.onAutoSizedColumn=function(t){this.autoSizedColumn.raise(this,t)},w.prototype.onDraggingColumn=function(t){return this.draggingColumn.raise(this,t),!t.cancel},w.prototype.onDraggingColumnOver=function(t){return this.draggingColumnOver.raise(this,t),!t.cancel},w.prototype.onDraggedColumn=function(t){this.draggedColumn.raise(this,t)},w.prototype.onResizingRow=function(t){return this.resizingRow.raise(this,t),!t.cancel},w.prototype.onResizedRow=function(t){this.resizedRow.raise(this,t)},w.prototype.onAutoSizingRow=function(t){return this.autoSizingRow.raise(this,t),!t.cancel},w.prototype.onAutoSizedRow=function(t){this.autoSizedRow.raise(this,t)},w.prototype.onDraggingRow=function(t){return this.draggingRow.raise(this,t),!t.cancel},w.prototype.onDraggingRowOver=function(t){return this.draggingRowOver.raise(this,t),!t.cancel},w.prototype.onDraggedRow=function(t){this.draggedRow.raise(this,t)},w.prototype.onGroupCollapsedChanging=function(t){return this.groupCollapsedChanging.raise(this,t),!t.cancel},w.prototype.onGroupCollapsedChanged=function(t){this.groupCollapsedChanged.raise(this,t)},w.prototype.onSortingColumn=function(t){return this.sortingColumn.raise(this,t),!t.cancel},w.prototype.onSortedColumn=function(t){this.sortedColumn.raise(this,t)},w.prototype.onBeginningEdit=function(t){return this.beginningEdit.raise(this,t),!t.cancel},w.prototype.onPrepareCellForEdit=function(t){this.prepareCellForEdit.raise(this,t)},w.prototype.onCellEditEnding=function(t){return this.cellEditEnding.raise(this,t),!t.cancel&&!t.stayInEditMode},w.prototype.onCellEditEnded=function(t){this.cellEditEnded.raise(this,t)},w.prototype.onRowEditStarting=function(t){this.rowEditStarting.raise(this,t)},w.prototype.onRowEditStarted=function(t){this.rowEditStarted.raise(this,t)},w.prototype.onRowEditEnding=function(t){this.rowEditEnding.raise(this,t)},w.prototype.onRowEditEnded=function(t){this.rowEditEnded.raise(this,t)},w.prototype.onRowAdded=function(t){return this.rowAdded.raise(this,t),!t.cancel},w.prototype.onDeletingRow=function(t){return this.deletingRow.raise(this,t),!t.cancel},w.prototype.onDeletedRow=function(t){this.deletedRow.raise(this,t)},w.prototype.onCopying=function(t){return this.copying.raise(this,t),!t.cancel},w.prototype.onCopied=function(t){this.copied.raise(this,t)},w.prototype.onPasting=function(t){return this.pasting.raise(this,t),!t.cancel},w.prototype.onPasted=function(t){this.pasted.raise(this,t)},w.prototype.onPastingCell=function(t){return this.pastingCell.raise(this,t),!t.cancel},w.prototype.onPastedCell=function(t){this.pastedCell.raise(this,t)},w.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},w.prototype.onUpdatingView=function(t){return this.updatingView.raise(this,t),!t.cancel},w.prototype.onUpdatedView=function(t){this.updatedView.raise(this,t)},w.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},w.prototype._getHasValidation=function(){return this._hasValidation},w.prototype._getError=function(t,i,e){if(rh.isFunction(this.itemValidator)){if(t==this.cells)return this.itemValidator(i,e);if(t==this.rowHeaders)for(e=0;e<this.columns.length;e++)if(s=this.itemValidator(i,e))return s}var n=this._cv,r=n?n.getError:null;if(rh.isFunction(r)){var s,o=t.rows,a=this.columns,h=o[i].dataItem;if(h)for(;i<o.length&&o[i].dataItem==h;i++){if(t==this.cells)return r(h,this._getBindingColumn(this.cells,i,a[e]).binding);if(t==this.rowHeaders)for(e=0;e<a.length;e++)if(s=r(h,this._getBindingColumn(this.cells,i,a[e]).binding))return s}}return null},w.prototype._setAria=function(t,i){rh.setAttribute(this.cells.hostElement,"aria-"+t,i)},w.prototype._setFocus=function(t){var i,e,n,r,s;!this.hostElement||!t&&this.containsFocus()||(i=rh.getActiveElement(),e=this.activeEditor,n=this._activeCell,r=this._eFocus,e?rh.contains(e,i)||(e.focus(),r.tabIndex=-1):n?rh.contains(n,i)||i==this._root||(s=!1,rh.isIE()&&(this._setFocusNoScroll(n),s=!0),s||(n.tabIndex=this._orgTabIndex,n.focus()),r.tabIndex=-1):rh.contains(r,i)||i==this._root||(r.tabIndex=this._orgTabIndex,r.focus()),this.containsFocus()||(r.tabIndex=this._orgTabIndex,r.focus()))},w.prototype._setFocusNoScroll=function(t){var i,e,n;t.tabIndex=this._orgTabIndex,rh.supportsFocusOptions()?t.focus({preventScroll:!0}):(i=this.scrollPosition,n=(e=t.style).position,e.position="fixed",t.focus(),e.position=n,this.scrollPosition=i),this._fixScroll()},w.prototype._getDefaultRowHeight=function(){var t=this._eFocus,i=null;t.scrollHeight||(t=(i=rh.createElement('<div class="wj-flexgrid"><div class="wj-cell">0</div></div>',document.body)).children[0]);var e=t.scrollHeight+2;return(isNaN(e)||e<=6)&&(e=28),rh.removeChild(i),e},w.prototype._getDefaultCellPadding=function(){var t=getComputedStyle(this._eFocus);return parseInt(this.rightToLeft?t.paddingRight:t.paddingLeft)},w.prototype._getCollectionView=function(t){return rh.asCollectionView(t)},w.prototype._getCanvasContext=function(){var t=document.createElement("canvas").getContext("2d"),i=getComputedStyle(this.hostElement);return t.font=i.fontSize+" "+i.fontFamily.split(",")[0],t},w.prototype._getWidestRow=function(t,i,e,n){for(var r=0,s=0,o=t.columns[e].dataType==rh.DataType.Boolean,a=i.row;a<=i.row2;a++)if(t.rows[a].isVisible){var h=t.getCellData(a,e,!0),c=n.measureText(h).width;if(s<c&&(s=c,r=a),o)break}return r},w.prototype._getDesiredWidth=function(t,i,e,n){var r=this.getMergedRange(t,i,e,!1),s=n.style;return this.cellFactory.updateCell(t,i,e,n,r),s.width=s.top=s.left="",n.offsetWidth/(r&&1<r.columnSpan?r.columnSpan:1)},w.prototype._getDesiredHeight=function(t,i,e,n){var r=this.getMergedRange(t,i,e,!1),s=n.style;return this.cellFactory.updateCell(t,i,e,n,r),s.height=s.top=s.left="",n.offsetHeight/(r&&1<r.rowSpan?r.rowSpan:1)},w.prototype._getDesiredRowHeight=function(t,i,e,n){for(var r=0,s=0;s<t.columns.length;s++){var o,a,h,c,u=t.columns[s];u.isVisible&&(o=void 0,a=this.getMergedRange(t,i,s,!1),h={ct:t.cellType,col:s,rng:a&&1<a.rowSpan?a.rowSpan:1,content:u.dataType==rh.DataType.Number?"1":t.getCellData(i,s,!0)},null==(o=n[c=JSON.stringify(h)])&&(o=this._getDesiredHeight(t,i,s,e),n[c]=o),r=Math.max(r,o))}return r},w.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},w.prototype._sortConverter=function(t,i,e,n){var r,s;if(n){if(this._mappedColumns=null,this._cv)for(var o=this._cv.sortDescriptions,a=0;a<o.length;a++)(r=this.getColumn(o[a].property))&&r.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[r.binding]=r.dataMap);this._mouseHdl._htDown&&-1<this._mouseHdl._htDown.col&&(r=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&r.dataMap&&(this._mappedColumns[r.binding]=r.dataMap))}return!this._mappedColumns||(s=this._mappedColumns[t.property])&&s.sortByDisplayValues&&(e=s.getDisplayValue(e)),e},w.prototype._bindGrid=function(c){var t,u=this;this.finishEditing(),this.deferUpdate(function(){0==u._lastCount&&rh.hasItems(u._cv)&&(c=!0);var t,n,i=u.selectionMode==g.SelectionMode.ListBox;if(u.preserveSelectedState&&i&&!u.childItemsPath&&(t=u.selectedItems),u.preserveOutlineState&&rh.isFunction(window.Map)&&-1<u.rows.maxGroupLevel){n=new Map;for(var e=0;e<u.rows.length;e++){var r,s=u.rows[e];s instanceof g.GroupRow&&s.isCollapsed&&s.dataItem&&((r=s.dataItem)instanceof rh.collections.CollectionViewGroup&&(r=r._path),n.set(r,!0))}}c&&u.columns.deferUpdate(function(){u._bindColumns()});var o=new rh.CancelEventArgs;u.onLoadingRows(o)&&(u.rows.deferUpdate(function(){u._bindRows()}),u.onLoadedRows(o));var a=0;if(t&&t.length)for(e=0;e<u.rows.length&&a<t.length;e++)-1<t.indexOf(u.rows[e].dataItem)&&(u.rows[e].isSelected=!0,a++);if(i&&0==a&&0<u._lastCount)for(var h=u.selection,e=h.topRow;e<=h.bottomRow&&-1<e&&e<u.rows.length;e++)u.rows[e].isSelected=!0;n&&u.rows.deferUpdate(function(){for(var t=0;t<u.rows.length;t++){var i,e=u.rows[t];e instanceof g.GroupRow&&((i=e.dataItem)instanceof rh.collections.CollectionViewGroup&&(i=i._path),n.get(i)&&(e.isCollapsed=!0))}}),!u._lastCount&&u._cv&&u._cv.items&&(u._lastCount=u._cv.items.length)}),this.rows.length||((t=this._selHdl.selection).row=t.row2=-1),this._cv&&this._syncSelection(c)},w.prototype._cvCollectionChanged=function(t,i){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else if(this.childItemsPath&&i.action!=rh.collections.NotifyCollectionChangedAction.Change)this._bindGrid(!1);else{switch(i.action){case rh.collections.NotifyCollectionChangedAction.Change:return void this.invalidate();case rh.collections.NotifyCollectionChangedAction.Add:if(i.index==this._cv.items.length-1){var e=this.rows.length;return this.rows[e-1]instanceof g._NewRowTemplate&&e--,void this.rows.insert(e,new g.Row(i.item))}rh.assert(!1,"added item should be the last one.");break;case rh.collections.NotifyCollectionChangedAction.Remove:var n=this._findRow(i.item);if(-1<n)return this.rows.removeAt(n),void this._syncSelection(!1);rh.assert(!1,"removed item not found on grid.")}this._bindGrid(!1)}},w.prototype._cvCurrentChanged=function(t,i){this._syncSelection(!1)},w.prototype._syncSelection=function(t){var i,e,n;this._cv&&this.selectionMode!=g.SelectionMode.None&&((e=-1<(i=this.selection).row&&i.row<this.rows.length?this.rows[i.row].dataItem:null)instanceof rh.collections.CollectionViewGroup&&(e=null),e==this._cv.currentItem&&!t||this.childItemsPath&&this.editableCollectionView&&this.editableCollectionView.currentAddItem||(n=this._getRowIndex(this._cv.currentPosition))==i.row&&this.childItemsPath||(i.row=i.row2=n,this.select(i,!1),this.selectionMode&&this.scrollIntoView(i.row,-1)))},w.prototype._getRowIndex=function(t){if(this._cv){if(-1<t){for(var i=this._cv.items[t];t<this.rows.length;t++)if(this.rows[t].dataItem===i)return t;return-1}if(1==this.rows.length&&this.rows[0]instanceof g._NewRowTemplate)return 0;var e=this.selection.row,n=-1<e?this.rows[e]:null;return n&&(n instanceof g.GroupRow||null==n.dataItem)?e:-1}return this.selection.row},w.prototype._getCvIndex=function(t){if(this._cv&&-1<t&&t<this.rows.length){var i=this._cv.items,e=this.rows[t].dataItem;for(t=Math.min(t,i.length-1);-1<t;t--)if(i[t]===e)return t}return-1},w.prototype._findRow=function(t){for(var i=0;i<this.rows.length;i++)if(this.rows[i].dataItem==t)return i;return-1},w.prototype._updateLayout=function(){var t,i,e,n,r,s,o,a,h,c,u,l,f=new rh.CancelEventArgs;this.onUpdatingLayout(f)&&(this._hasValidation=rh.isFunction(this._itemValidator)||this._cv&&rh.isFunction(this._cv.getError),t=this._hdrVis&b.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&b.Column?this._hdrRows.getTotalSize():0,e=this._ftrRows.getTotalSize(),(n=this._rows.getTotalSize()+e)<1&&(n=1),this._heightBrowser=Math.min(n,w._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,n-this._heightBrowser),this._cellPadding=this._getDefaultCellPadding(),r=this._heightBrowser+i-e,s=this._gpCells.width,o=this._heightBrowser,!s&&this.rows.length&&(s=.1),!o&&this.columns.length&&(o=.1),this.rightToLeft?(rh.setCss(this._eTL,{right:0,top:0,width:t,height:i}),rh.setCss(this._eCHdr,{right:t,top:0,height:i}),rh.setCss(this._eRHdr,{right:0,top:i,width:t}),rh.setCss(this._eCt,{right:t,top:i,width:s,height:o}),rh.setCss(this._fCt,{right:t,top:i}),rh.setCss(this._eBL,{right:0,top:r,width:t,height:e}),rh.setCss(this._eCFtr,{right:t,top:r,height:e})):(rh.setCss(this._eTL,{left:0,top:0,width:t,height:i}),rh.setCss(this._eCHdr,{left:t,top:0,height:i}),rh.setCss(this._eRHdr,{left:0,top:i,width:t}),rh.setCss(this._eCt,{left:t,top:i,width:s,height:o}),rh.setCss(this._fCt,{left:t,top:i}),rh.setCss(this._eBL,{left:0,top:r,width:t,height:e}),rh.setCss(this._eCFtr,{left:t,top:r,height:e})),this._stickyHdr&&this._updateStickyHeaders(),a=this.frozenRows||this.frozenColumns?"3":"",rh.setCss([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:a}),c=(h=this._root).offsetWidth-h.clientWidth,u=h.offsetHeight-h.clientHeight,rh.setCss(this._eSz,{width:t+c+this._gpCells.width,height:i+u+this._heightBrowser}),l=null,this.columns._updateStarSizes(h.clientWidth-t)&&(l=h.clientWidth,rh.setCss(this._eCt,{width:this._gpCells.width})),this._szClient=new rh.Size(h.clientWidth-t,h.clientHeight-i),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),c=h.offsetWidth-h.clientWidth,u=h.offsetHeight-h.clientHeight,rh.setCss(this._eSz,{width:t+c+this._gpCells.width,height:i+u+this._heightBrowser}),this._szClient=new rh.Size(h.clientWidth-t,h.clientHeight-i),l&&l!=h.clientWidth&&this.columns._updateStarSizes(h.clientWidth-t)&&(rh.setCss(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),rh.setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),rh.setCss([this._eRHdr,this._fCt],{height:this._szClient.height}),e&&(r=Math.min(r,this._szClient.height+i-e),rh.setCss([this._eBL,this._eCFtr],{top:r})),this.onUpdatedLayout(f))},w.prototype._updateStickyHeaders=function(){var t=!1,i=0;if(this._stickyHdr){for(var e=0,n=null,r=this.hostElement;r;r=r.parentElement){var s=r.getBoundingClientRect();null==n&&(n=s.top),e=Math.max(e,s.top)}i=-(n=Math.max(0,e-n-1)),t=0<n,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=t?-i+"px":"",rh.toggleClass(this._eTL,w._WJS_STICKY,t),rh.toggleClass(this._eCHdr,w._WJS_STICKY,t)},w.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var t=this._stickyHdr||this._clipToScreen;t!=this._scrollHandlerAttached&&((this._scrollHandlerAttached=t)?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},w.prototype._getClipToScreen=function(){if(this.rows.length<=w._MIN_VIRT_ROWS)return!1;if(this._root.clientHeight!=this._root.scrollHeight)return!1;for(var t=this.hostElement;t&&t!=document.documentElement;t=t.parentElement)if("auto"==getComputedStyle(t).overflow)return!1;return!0},w.prototype._scroll=function(t){var i=this;rh.contains(t.target,this.hostElement)&&(this._clipToScreen&&(this._afScrl&&cancelAnimationFrame(this._afScrl),this._afScrl=requestAnimationFrame(function(){i._afScrl=null,i.finishEditing(),i._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){i._afSticky=null;var t=new rh.CancelEventArgs;i.onUpdatingLayout(t)&&(i._updateStickyHeaders(),i.onUpdatedLayout(t))})))},w.prototype._updateScrollPosition=function(){var t=this._root,i=t.scrollTop,e=t.scrollLeft;this.rightToLeft&&"rev"==w._getRtlMode()&&(e=t.scrollWidth-t.clientWidth-e);var n=new rh.Point(-Math.abs(e),-i);return!this._ptScrl.equals(n)&&(this._ptScrl=n,this.onScrollPositionChanged(),!0)},w.prototype._updateContent=function(t,i){var e,n,r,s,o,a,h,c,u,l,f,d=this._root,A=this.hostElement,g=this.cells.hostElement,w=rh.getActiveElement(),m=rh.contains(A,w)?w:null,p=this._activeCell,v=new rh.CancelEventArgs;this.onUpdatingView(v)&&(rh.setAttribute(g,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._offsetY=0,this._heightBrowser>this._szClient.height&&(e=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100,this._offsetY=Math.round(this._maxOffsetY*e)),this._updateScrollPosition(),n=this._gpCells._updateContent(t,i,this._offsetY),this._hdrVis&b.Column&&(!i||this._ssHdr&b.Column)&&this._gpCHdr._updateContent(t,i,0),this._hdrVis&b.Row&&(!i||this._ssHdr&b.Row)&&this._gpRHdr._updateContent(t,i,this._offsetY),this._hdrVis&&!i&&this._gpTL._updateContent(t,i,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(t,i,0),this._gpCFtr._updateContent(t,i,0)),this.showMarquee&&(r=this._selHdl.selection,s=this._eMarquee,this.isRangeValid(r)?(o=this._getMarqueeRect(r),a=s.firstChild,h=s.offsetWidth-a.offsetWidth,c=s.offsetHeight-a.offsetHeight,rh.setCss(s,{left:o.left+g.offsetLeft-h/2,top:o.top+g.offsetTop-c/2,width:o.width+h,height:o.height+c,visibility:0<o.width&&0<o.height?"":"collapse"})):rh.setCss(s,{left:0,top:0,width:0,height:0,visibility:"collapse"})),this._useFrozenDiv()&&(this._updateFrozenCells(i),n&&rh.hasClass(n,"wj-frozen")&&(n=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=n,m&&(m!=d&&m!=this._eFocus&&rh.contains(A,m)&&!rh.contains(g,m)?(rh.getActiveElement()!=m&&m.focus(),rh.isIE()&&m instanceof HTMLInputElement&&!m.type.match(/checkbox|radio|range/i)&&(u=m.selectionStart,l=m.selectionEnd,m.setSelectionRange(u,l))):(f=n!=p,this._setFocus(f))),!m&&n&&(n.tabIndex=this._orgTabIndex),p&&p!=n&&(p.tabIndex=-1),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(v))},w.prototype._fixScroll=function(){[this.hostElement,this._root?this._root.parentElement:null].forEach(function(t){t&&t.scrollTop&&(t.scrollTop=0)})},w.prototype._clearCells=function(){for(var t in this){var i;"_"!=t[0]||(i=this[t])instanceof g.GridPanel&&i._clearCells()}this.invalidate()},w.prototype._useFrozenDiv=function(){return rh.isBoolean(this._fzClone)?this._fzClone:rh.isIE()||rh.isFirefox()||rh.isSafari()||rh.isMobile()},w.prototype._updateFrozenCells=function(t){if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(".wj-frozen");if(t&&this._fCt.children.length==i.length){for(var e=0;e<i.length;e++)this._fCt.children[e].className=i[e].className;return}if(rh.setText(this._fCt,null),!this.activeEditor)for(e=0;e<i.length;e++){var n=i[e].cloneNode(!0);this._fCt.appendChild(n)}}else rh.setText(this._fCt,null)},w.prototype._getMarqueeRect=function(t){var i,e,n,r=this.getMergedRange(this.cells,t.topRow,t.leftCol)||new g.CellRange(t.topRow,t.leftCol),s=this.getMergedRange(this.cells,t.bottomRow,t.rightCol)||new g.CellRange(t.bottomRow,t.rightCol),o=this.cells.getCellBoundingRect(r.topRow,r.leftCol,!0),a=this.cells.getCellBoundingRect(s.bottomRow,s.rightCol,!0);return this.rows.frozen&&(i=Math.min(this.rows.length,this.rows.frozen),n=this.cells.getCellBoundingRect(i-1,0,!0),t.topRow>=i&&o.top<n.bottom&&(o.top=n.bottom),t.bottomRow>=i&&a.bottom<n.bottom&&(a.height=n.bottom-a.top)),this.columns.frozen&&(e=Math.min(this.columns.length,this.columns.frozen),n=this.cells.getCellBoundingRect(0,e-1,!0),this.rightToLeft?(t.leftCol>=e&&o.right>n.left&&(o.left=n.left-o.width),t.rightCol>=e&&a.left>n.left&&(a.left=n.left)):(t.leftCol>=e&&o.left<n.right&&(o.left=n.right),t.rightCol>=e&&a.right<n.right&&(a.width=n.right-a.left))),this.rightToLeft?new rh.Rect(a.left,o.top,o.right-a.left,a.bottom-o.top):new rh.Rect(o.left,o.top,a.right-o.left,a.bottom-o.top)},w.prototype._bindColumns=function(){for(var t=0;t<this.columns.length;t++)(a=this.columns[t])._getFlag(g.RowColFlags.AutoGenerated)&&(this.columns.removeAt(t),t--);var i=this._cv,e=i?i.sourceCollection:null,n=e&&e.length?e[0]:null;if(n&&this.autoGenerateColumns)for(var r in n)for(var s=null,o=0;o<e.length&&o<1e3&&null==s;o++){var a,h,s=e[o][r];rh.isPrimitive(s)&&((a=new g.Column)._setFlag(g.RowColFlags.AutoGenerated,!0),a.binding=a.name=r,a.header=rh.toHeaderCase(r),a.dataType=rh.getType(s),a.dataType==rh.DataType.Number&&(a.width=80),!(h=Object.getOwnPropertyDescriptor(n,r))||h.writable||rh.isFunction(h.set)||a._setFlag(g.RowColFlags.ReadOnly,!0),this.columns.push(a))}this._updateColumnTypes()},w.prototype._updateColumnTypes=function(){var t=this._cv;if(rh.hasItems(t))for(var i=t.items[0],e=this.columns,n=0;n<e.length;n++){var r=e[n];null==r.dataType&&r._binding&&(r.dataType=rh.getType(r._binding.getValue(i)))}},w.prototype._getBindingColumn=function(t,i,e){return e},w.prototype._getRowHeaderPath=function(){return this._rowHdrPath},w.prototype._bindRows=function(){this.rows.clear();var t=this._cv;if(t&&t.items){var i=t.items,e=t.groups;if(this.childItemsPath)for(var n=0;n<i.length;n++)this._addNode(i,n,0);else if(null!=e&&0<e.length&&this.showGroups)for(n=0;n<e.length;n++)this._addGroup(e[n]);else for(n=0;n<i.length;n++)this._addBoundRow(i,n)}},w.prototype._addBoundRow=function(t,i){this.rows.push(new g.Row(t[i]))},w.prototype._addNode=function(t,i,e){var n=new g.GroupRow,r=this.childItemsPath,s=rh.isArray(r)?r[e]:r,o=t[i],a=o[s];if(n.dataItem=o,n.level=e,this.rows.push(n),rh.isArray(a))for(var h=0;h<a.length;h++)this._addNode(a,h,e+1)},w.prototype._addGroup=function(t){var i=new g.GroupRow;if(i.level=t.level,i.dataItem=t,this.rows.push(i),t.isBottomLevel)for(var e=t.items,n=0;n<e.length;n++)this._addBoundRow(e,n);else for(n=0;n<t.groups.length;n++)this._addGroup(t.groups[n])},w._getSerializableProperties=function(t){var i=[];for(t=t.prototype;t!=Object.prototype;t=Object.getPrototypeOf(t))for(var e=Object.getOwnPropertyNames(t),n=0;n<e.length;n++){var r=e[n],s=Object.getOwnPropertyDescriptor(t,r);s&&s.set&&s.get&&"_"!=r[0]&&!r.match(/disabled|required/)&&i.push(r)}return i},w.prototype._copy=function(t,i){if("columns"!=t)return!1;this.columns.clear();for(var e=rh.asArray(i),n=0;n<e.length;n++){var r=new g.Column;rh.copy(r,e[n]),this.columns.push(r)}return!0},w.prototype._isInputElement=function(t){if(t instanceof HTMLElement&&!rh.hasClass(t,"wj-btn-glyph")){if("true"==t.contentEditable)return!0;var i=t.tagName.match(/^(BUTTON|A|INPUT|TEXTAREA|SELECT|OPTION)$/i);return i&&0<i.length}return!1},w.prototype._wantsInput=function(t){return this._isInputElement(t)&&!this.activeEditor&&!this._edtHdl._isNativeCheckbox(t)&&!rh.hasClass(t,"wj-grid-ime")&&rh.contains(document.body,t)},w._getMaxSupportedCssHeight=function(){var t;return w._maxCssHeight||(t=335e5,rh.isIE()?t=15e5:rh.isFirefox()&&(t=175e5),w._maxCssHeight=t),w._maxCssHeight},w._getRtlMode=function(){var t,i,e;return w._rtlMode||(t=rh.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"></div></div>'),document.body.appendChild(t),i=t.scrollLeft,t.scrollLeft=-1e3,e=t.scrollLeft,rh.removeChild(t),w._rtlMode=e<0?"neg":0<i?"rev":"std"),w._rtlMode},w._WJS_STICKY="wj-state-sticky",w._WJS_MEASURE="wj-state-measuring",w._WJS_UPDATING="wj-state-updating",w._MIN_VIRT_ROWS=200,w.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;max-width:inherit;max-height:inherit;-webkit-overflow-scrolling:touch;"><div wj-part="cells" class="wj-cells" style="position:absolute"></div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none;"><div style="width:100%;height:100%"></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone" style="position:absolute;pointer-events:none;overflow:hidden"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell" style="position:fixed;left:-32000px">0</div><div wj-part="sz" style="position:relative;visibility:hidden"></div></div>',w);function w(t,i){var e=s.call(this,t,null,!0)||this;e._szClient=new rh.Size(0,0),e._ptScrl=new rh.Point(0,0),e._cellPadding=3,e._clipToScreen=!1,e._autoGenCols=!0,e._autoClipboard=!0,e._autoScroll=!0,e._readOnly=!1,e._indent=14,e._autoSizeMode=g.AutoSizeMode.Both,e._hdrVis=b.All,e._alSorting=!0,e._alAddNew=!1,e._alDelete=!1,e._alResizing=g.AllowResizing.Columns,e._alDragging=g.AllowDragging.Columns,e._alMerging=g.AllowMerging.None,e._ssHdr=b.None,e._shSort=!0,e._shGroups=!0,e._shAlt=!0,e._shErr=!0,e._shDropDown=!0,e._valEdt=!0,e._deferResizing=!1,e._pSel=!0,e._pOutline=!0,e._vt=0,e._vtRows=0,e._vtCols=0,e.itemsSourceChanging=new rh.Event,e.itemsSourceChanged=new rh.Event,e.scrollPositionChanged=new rh.Event,e.selectionChanging=new rh.Event,e.selectionChanged=new rh.Event,e.loadingRows=new rh.Event,e.loadedRows=new rh.Event,e.updatingLayout=new rh.Event,e.updatedLayout=new rh.Event,e.resizingColumn=new rh.Event,e.resizedColumn=new rh.Event,e.autoSizingColumn=new rh.Event,e.autoSizedColumn=new rh.Event,e.draggingColumn=new rh.Event,e.draggingColumnOver=new rh.Event,e.draggedColumn=new rh.Event,e.resizingRow=new rh.Event,e.resizedRow=new rh.Event,e.autoSizingRow=new rh.Event,e.autoSizedRow=new rh.Event,e.draggingRow=new rh.Event,e.draggingRowOver=new rh.Event,e.draggedRow=new rh.Event,e.groupCollapsedChanging=new rh.Event,e.groupCollapsedChanged=new rh.Event,e.sortingColumn=new rh.Event,e.sortedColumn=new rh.Event,e.beginningEdit=new rh.Event,e.prepareCellForEdit=new rh.Event,e.cellEditEnding=new rh.Event,e.cellEditEnded=new rh.Event,e.rowEditStarting=new rh.Event,e.rowEditStarted=new rh.Event,e.rowEditEnding=new rh.Event,e.rowEditEnded=new rh.Event,e.rowAdded=new rh.Event,e.deletingRow=new rh.Event,e.deletedRow=new rh.Event,e.copying=new rh.Event,e.copied=new rh.Event,e.pasting=new rh.Event,e.pasted=new rh.Event,e.pastingCell=new rh.Event,e.pastedCell=new rh.Event,e.formatItem=new rh.Event,e.updatingView=new rh.Event,e.updatedView=new rh.Event,e._mappedColumns=null;var n=e.hostElement;rh.isIE()&&(n.style.borderRadius="0");var r=e.getTemplate();return e.applyTemplate("wj-control wj-content wj-flexgrid",r,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),[e._eRHdr,e._eCFtr,e._eCHdr,e._eBL,e._eTL].forEach(function(t){rh.setAttribute(t,"aria-hidden",!0),rh.setCss(t,{position:"absolute",overflow:"hidden",outline:"none"}),rh.setCss(t.firstElementChild,{position:"relative"})}),[e._eFocus,e._eMarquee,e._fCt,e._eSz].forEach(function(t){rh.setAttribute(t,"aria-hidden",!0)}),n.tabIndex=-1,e.deferUpdate(function(){var t=e._getDefaultRowHeight();e._rows=new g.RowCollection(e,t),e._cols=new g.ColumnCollection(e,4*t),e._hdrRows=new g.RowCollection(e,t),e._hdrCols=new g.ColumnCollection(e,Math.round(1.25*t)),e._ftrRows=new g.RowCollection(e,t),e._gpTL=new g.GridPanel(e,g.CellType.TopLeft,e._hdrRows,e._hdrCols,e._eTLCt),e._gpCHdr=new g.GridPanel(e,g.CellType.ColumnHeader,e._hdrRows,e._cols,e._eCHdrCt),e._gpRHdr=new g.GridPanel(e,g.CellType.RowHeader,e._rows,e._hdrCols,e._eRHdrCt),e._gpCells=new g.GridPanel(e,g.CellType.Cell,e._rows,e._cols,e._eCt),e._gpBL=new g.GridPanel(e,g.CellType.BottomLeft,e._ftrRows,e._hdrCols,e._eBLCt),e._gpCFtr=new g.GridPanel(e,g.CellType.ColumnFooter,e._ftrRows,e._cols,e._eCFtrCt),e._hdrRows.push(new g.Row),e._hdrCols.push(new g.Column({align:"center"})),e._cf=new g.CellFactory,e._keyHdl=new g._KeyboardHandler(e),e._mouseHdl=new g._MouseHandler(e),e._edtHdl=new g._EditHandler(e),e._selHdl=new g._SelectionHandler(e),e._addHdl=new g._AddNewHandler(e),e._mrgMgr=new g.MergeManager(e),e._bndSortConverter=e._sortConverter.bind(e),rh.setAttribute(e.cells.hostElement,"role","grid"),e.selectionMode=g.SelectionMode.CellRange,e.initialize(i)}),e.addEventListener(e._root,"scroll",function(t){e._updateScrollPosition()&&(e.finishEditing(),e._updateContent(!0))}),e.addEventListener(n,"focus",function(t){if(-1<n.tabIndex){var i=t.target;if(i instanceof HTMLElement&&i.tabIndex<0)return void e._setFocus(!0)}},!0),e}g.FlexGrid=i}((rh=ru||(window.wijmo=ru={})).grid||(rh.grid={})),Fh=window&&window.__extends||(sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}sh(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(r){var s,t=(s=lh.CancelEventArgs,Fh(i,s),Object.defineProperty(i.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),i);function i(t,i,e){var n=s.call(this)||this;return n._p=lh.asType(t,r.GridPanel,!0),n._rng=lh.asType(i,r.CellRange,!0),n._data=e,n}r.CellRangeEventArgs=t;var o,e=(Fh(n,o=t),Object.defineProperty(n.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),n);function n(t,i,e){var n=o.call(this,t,i)||this;return n._cell=lh.asType(e,HTMLElement),n}r.FormatItemEventArgs=e;var a,h=(Fh(c,a=t),Object.defineProperty(c.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(t){this._stayInEditMode=lh.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"refresh",{get:function(){return this._refresh},set:function(t){this._refresh=lh.asBoolean(t)},enumerable:!0,configurable:!0}),c);function c(){var t=null!==a&&a.apply(this,arguments)||this;return t._stayInEditMode=!1,t._refresh=!0,t}r.CellEditEndingEventArgs=h}((lh=ru||(window.wijmo=ru={})).grid||(lh.grid={})),function(p){var v,t;(t=v=p.CellType||(p.CellType={}))[t.None=0]="None",t[t.Cell=1]="Cell",t[t.ColumnHeader=2]="ColumnHeader",t[t.RowHeader=3]="RowHeader",t[t.TopLeft=4]="TopLeft",t[t.ColumnFooter=5]="ColumnFooter",t[t.BottomLeft=6]="BottomLeft";var i=(Object.defineProperty(A.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),A.prototype.getCellData=function(t,i,e){var n,r=this._rows[uh.asNumber(t,!1,!0)],s=null;if(uh.isString(i)&&(i=this._cols.indexOf(i))<0)throw"Invalid column name or binding.";n=this._cols[uh.asNumber(i,!1,!0)];var o,a,h,c=this._g?this._g._getBindingColumn(this,t,n):n;if(!c.binding||!r.dataItem||r.dataItem instanceof uh.collections.CollectionViewGroup?r._ubv&&(s=r._ubv[n._hash]):s=c._binding.getValue(r.dataItem),null==s)switch(this._ct){case v.ColumnHeader:t!=this._rows.length-1&&c==n||(s=c.header);break;case v.ColumnFooter:c.aggregate!=uh.Aggregate.None&&r instanceof p.GroupRow&&(o=this._g.collectionView)&&(s=(a=uh.tryCast(o,uh.collections.CollectionView))?a.getAggregate(c.aggregate,c.binding):uh.getAggregate(c.aggregate,o.items,c.binding));break;case v.Cell:c.aggregate!=uh.Aggregate.None&&r instanceof p.GroupRow&&(h=uh.tryCast(r.dataItem,uh.collections.CollectionViewGroup))&&(s=h.getAggregate(c.aggregate,c.binding,this._g.collectionView))}return e&&(this.cellType==v.Cell&&c.dataMap&&(s=c.dataMap.getDisplayValue(s)),s=null!=s?uh.Globalize.format(s,c.format):""),s},A.prototype.setCellData=function(t,i,e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var s,o=this._rows[uh.asNumber(t,!1,!0)];if(uh.isString(i)&&(i=this._cols.indexOf(i))<0)throw"Invalid column name or binding.";s=this._cols[uh.asNumber(i,!1,!0)];var a,h,c,u,l,f=this._g?this._g._getBindingColumn(this,t,s):s;if(this._ct==v.Cell){if(f.dataMap&&null!=e&&(f.isRequired||""!=e)){var d=f.dataMap,A=d.getKeyValue(e);if(null==A&&null==d.getDisplayValue(null)){if(d.getDisplayValue(e)==e&&(!d.isEditable||d.displayMemberPath!=d.selectedValuePath))return!1}else e=A}var g,w=uh.DataType.Object,w=f.dataType?f.dataType:(g=this.getCellData(t,i,!1),uh.getType(g));if(uh.isBoolean(f.isRequired))if(f.isRequired||""!==e&&null!==e){if(f.isRequired&&(""===e||null===e))return!1}else e=null,n=!1;if(n&&(e=uh.changeType(e,w,f.format),w!=uh.DataType.Object&&uh.getType(e)!=w))return!1}return o.dataItem&&f.binding?(a=f._binding,h=o.dataItem,e===(c=a.getValue(h))||uh.DateTime.equals(e,c)||(a.setValue(h,e),(u=this._g.collectionView)instanceof uh.collections.CollectionView&&h!=u.currentEditItem&&(l=new uh.collections.NotifyCollectionChangedEventArgs(uh.collections.NotifyCollectionChangedAction.Change,h,u.items.indexOf(h)),u.onCollectionChanged(l)))):(o._ubv||(o._ubv={}),o._ubv[s._hash]=e),r&&this._g&&this._g.invalidate(),!0},A.prototype.getCellBoundingRect=function(t,i,e){var n,r,s=this.rows[t],o=this.columns[i],a=new uh.Rect(o.pos,s.pos,o.renderSize,s.renderSize);return!this._g.rightToLeft||(a.left=this.hostElement.clientWidth-a.right,uh.isIE()||uh.isFirefox())||(n=this.hostElement.parentElement,a.left-=n.offsetWidth-n.clientWidth),e||(r=this.hostElement.getBoundingClientRect(),a.left+=r.left,a.top+=r.top-this._offsetY),t<this.rows.frozen&&(a.top-=this._g.scrollPosition.y),i<this.columns.frozen&&(a.left-=this._g.scrollPosition.x*(this._g.rightToLeft?-1:1)),a},A.prototype.getCellElement=function(t,i){for(var e=this.hostElement.children,n=Math.min(t+2,e.length),r=0;r<n;r++)for(var s=e[r].children,o=Math.min(i+2,s.length),a=0;a<o;a++){var h=s[a],c=h[A._INDEX_KEY];if(c&&(c.row==t&&c.col==i||c.rng&&c.rng.contains(t,i)))return h}return null},A.prototype.getSelectedState=function(t,i,e){var n=this._g,r=n.selectionMode,s=n._selHdl.selection,o=p.SelectionMode,a=p.SelectedState;if(r!=o.None)switch(this._ct){case v.Cell:if(e=e||n.getMergedRange(this,t,i)){if(e.contains(s.row,s.col))return n.showMarquee?a.None:a.Cursor;if(e.intersects(s))return a.Selected}if(s.row==t&&s.col==i)return n.showMarquee?a.Active:a.Cursor;if(n.rows[t].isSelected||n.columns[i].isSelected)return a.Selected;if(e)switch(r){case o.Row:case o.RowRange:case o.ListBox:if(e.containsRow(s.row))return a.Selected}return s=n._selHdl._adjustSelection(s),r!=p.SelectionMode.ListBox&&s.containsRow(t)&&s.containsColumn(i)?a.Selected:a.None;case v.ColumnHeader:if(n.showSelectedHeaders&p.HeadersVisibility.Column&&(n.columns[i].isSelected||s.containsColumn(i)||s.intersectsColumn(e))&&(e&&(t=e.bottomRow),t==this.rows.length-1))return a.Selected;break;case v.RowHeader:if(n.showSelectedHeaders&p.HeadersVisibility.Row&&(n.rows[t].isSelected||s.containsRow(t)||s.intersectsRow(e))&&(e&&(i=e.rightCol),i==this.columns.length-1))return a.Selected}return a.None},Object.defineProperty(A.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),A.prototype._getOffsetY=function(){return this._offsetY},A.prototype._updateContent=function(t,i,e){var n,r,s=this._g,o=this._e,a=this._rows,h=this._cols,c=this._ct;c!=v.ColumnHeader&&c!=v.ColumnFooter&&c!=v.RowHeader||(n=s._ptScrl,r=o.style,c==v.RowHeader?r.top=n.y+"px":s.rightToLeft?r.right=n.x+"px":r.left=n.x+"px"),this._offsetY!=e&&(t=!1,this._offsetY=e);var u,l,f,d=this._getViewRange(),A=d;if(A.isValid&&(u=s.isTouching,l=a.length<=s._vtRows?1e7:u?6:0,f=h.length<=s._vtCols?1e7:u?1:0,A=new p.CellRange(Math.max(d.row-l,a.frozen),Math.max(d.col-f,h.frozen),Math.min(d.row2+l,a.length-1),Math.min(d.col2+f,h.length-1))),t&&!i&&this._vrb.contains(d)&&!a.frozen&&!h.frozen)return this._activeCell;t&&A.equals(this._vrb)||(i=!1),t&&!i&&this._ct!=v.TopLeft&&this._reorderCells(A,this._vrb),this._activeCell=null,this._vru=d,this._vrb=A,this._cf=s.cellFactory;var g=0;this._ct==v.Cell&&(g=this._renderColHdrRow(A,i));for(var w=0;w<a.frozen&&w<a.length;w++)g=this._renderRow(w,A,i,g);for(w=A.topRow;w<=A.bottomRow&&-1<w;w++)g=this._renderRow(w,A,i,g);for(;o.childElementCount>g;){var m=o.lastElementChild;o.removeChild(m),this._removeExtraCells(m,0)}return this._activeCell},A.prototype._updateScrollPosition=function(){var t=this._g,i=t._ptScrl,e=this.hostElement.style;this.cellType==v.RowHeader?e.top=i.y+"px":t.rightToLeft?e.right=i.x+"px":e.left=i.x+"px"},A.prototype._clearCells=function(){for(var t=this.hostElement,i=t.childElementCount-1;0<=i;i--){var e=t.children[i];t.removeChild(e);for(var n=e.childElementCount-1;0<=n;n--)this._cf.disposeCell(e.children[n])}},A.prototype._reorderCells=function(t,i){var e,n,r,s,o,a,h,c,u;!(0<this._rows.frozen||0<this._cols.frozen||t.columnSpan!=i.columnSpan||t.rowSpan!=i.rowSpan)&&i.isValid&&t.isValid&&t.intersects(i)&&t.row!=i.row&&(e=t.row-i.row,n=Math.max(1,t.rowSpan-1),r=this._e,0!=e&&Math.abs(e)<n&&(s=this._ct==v.Cell?1:0,o=r.childElementCount,0<e&&(u=s,c=Math.min(s+e,o-1),(a=this._createRange(u,c))&&c<o-1&&r.appendChild(a.extractContents())),e<0&&(c=o,u=Math.max(s,c+e),(a=this._createRange(u,c))&&s<u&&(h=r.children[s],r.insertBefore(a.extractContents(),h)))))},A.prototype._createRange=function(t,i){var e,n=this._e.childElementCount;return t<i&&i<=n&&-1<t&&((e=document.createRange()).setStart(this._e,t),e.setEnd(this._e,i)),e},A.prototype._renderColHdrRow=function(t,i){var e=this._e.children[0]||uh.createElement('<div class="wj-row" role="row"></div>',this._e),n=this._g,r=n?n.columnHeaders.rows.ariaLabel:null;uh.setAttribute(e,"aria-label",r),uh.setAttribute(e,"aria-selected",null);var s=0,o=this._g._getRowHeaderPath();o&&(s=this._renderRowHdrCell(e,-1,o.path));for(var a=0;a<this.columns.frozen&&a<this.columns.length;a++)s=this._renderColHdrCell(e,a,t,i,s);for(a=t.leftCol;a<=t.rightCol&&-1<a;a++)s=this._renderColHdrCell(e,a,t,i,s);return this._removeExtraCells(e,s),1},A.prototype._renderColHdrCell=function(t,i,e,n,r){var s=this.columns[i];if(s.renderSize<=0)return r;if(n)return r+1;var o=(o=t.children[r])||uh.createElement('<div class="wj-cell" tabindex="-1"></div>',t);uh.setAttribute(o,"role","columnheader"),o.textContent=this.columns[i].header,uh.setCss(o,{position:"fixed",top:-32e3,height:.1,left:s.pos,width:s.renderWidth,overflow:"hidden",opacity:"0",pointerEvents:"none"});var a=[s.describedById,this.columns.describedById].join(" ").trim();uh.setAttribute(o,"aria-describedby",a||null);var h=this.grid;if(h.allowSorting){var c="none";switch(h._getBindingColumn(this,0,s).currentSort){case"+":c="ascending";break;case"-":c="descending"}uh.setAttribute(o,"aria-sort",c)}return h.isReadOnly||(uh.setAttribute(o,"aria-readonly",s.isReadOnly),uh.setAttribute(o,"aria-required",s.getIsRequired())),o[A._INDEX_KEY]={row:-1,col:i,panel:this},r+1},A.prototype._renderRowHdrCell=function(t,i,e){var n=t.children[0];return(n=n||uh.createElement('<div class="wj-cell" tabindex="-1"></div>',t)).setAttribute("role",i<0?"columnheader":"rowheader"),n.textContent=e?e.toString():"",uh.setCss(n,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),n[A._INDEX_KEY]={row:i,col:-1,panel:this},1},A.prototype._renderRow=function(t,i,e,n){var r=this._g,s=this.rows[t];if(s.renderSize<=0)return n;var o=(o=this._e.children[n])||uh.createElement('<div class="wj-row"></div>',this._e);if(this._ct==v.Cell){o.setAttribute("role","row");var a=p.SelectionMode;switch(r.selectionMode){case a.Row:case a.RowRange:case a.ListBox:var h=s.isSelected||this._g._selHdl.selection.containsRow(t);uh.setAttribute(o,"aria-selected",!!h)}uh.setAttribute(o,"aria-level",s instanceof p.GroupRow?s.level+1:null),uh.setAttribute(o,"aria-expanded",s instanceof p.GroupRow?!s.isCollapsed:null),this.rows.ariaLabel&&uh.setAttribute(o,"aria-label",this.rows.ariaLabel)}var c,u=0;this._ct!=v.Cell||(c=this._g._getRowHeaderPath())&&(u=this._renderRowHdrCell(o,t,c.getValue(s.dataItem)));for(var l=0;l<this.columns.frozen&&l<this.columns.length;l++)u=this._renderCell(o,t,l,i,e,u);for(l=i.leftCol;l<=i.rightCol&&-1<l;l++)u=this._renderCell(o,t,l,i,e,u);return this._removeExtraCells(o,u),n+1},A.prototype._renderCell=function(t,i,e,n,r,s){var o=this._g,a=o.getMergedRange(this,i,e);if(a){for(var h=Math.max(n.row,a.row);h<i;h++)if(this.rows[h].isVisible)return s;for(h=Math.max(n.col,a.col);h<e;h++)if(this.columns[h].isVisible)return s}var c=this.columns[e];if(c.renderSize<=0&&(!a||a.getRenderSize(this).width<=0))return s;var u=t.children[s],l=p.SelectedState,f=this.getSelectedState(i,e,a),d=f==l.Cursor||f==l.Active;return u&&r?(uh.toggleClass(u,"wj-state-active",d),uh.toggleClass(u,"wj-state-selected",f==l.Cursor),uh.toggleClass(u,"wj-state-multi-selected",f==l.Selected),uh.setAttribute(u,"aria-selected",f!=l.None||d),d&&(this._activeCell=u)):(u||((u=document.createElement("div")).tabIndex=-1,t.appendChild(u)),d&&(this._activeCell=u),this._ct==v.Cell&&(uh.setAttribute(u,"role","gridcell"),uh.setAttribute(u,"aria-selected",f!=l.None||d),uh.setAttribute(u,"aria-readonly",!o.canEditCell(i,e)||null),uh.setAttribute(u,"aria-required",c.getIsRequired())),o.cellFactory.updateCell(this,i,e,u,a),u[A._INDEX_KEY]={row:i,col:e,rng:a,panel:this}),s+1},A.prototype._removeExtraCells=function(t,i){for(;t.childElementCount>i;){var e=t.lastElementChild;t.removeChild(e),this._cf.disposeCell(e)}},A.prototype._getViewRange=function(){var t,i,e,n,r,s,o,a=this._g,h=a._ptScrl,c=this._rows,u=this._cols,l=new p.CellRange(0,0,c.length-1,u.length-1);return this._ct!=v.Cell&&this._ct!=v.RowHeader||(t=-h.y+this._offsetY,i=a._szClient.height,0<(n=Math.min(c.frozen,c.length-1))&&(t+=r=c[n-1].pos,i-=r),l.row=Math.min(c.length-1,Math.max(c.frozen,c.getItemAt(t+1))),l.row2=c.getItemAt(t+i),a._clipToScreen&&((e=a.hostElement.getBoundingClientRect()).top<0&&(l.row=Math.max(l.row,c.getItemAt(-e.top-a._ptScrl.y)-1)),e.bottom>innerHeight&&(l.row2=Math.min(l.row2,c.getItemAt(-e.top-a._ptScrl.y+innerHeight)+1)))),this._ct!=v.Cell&&this._ct!=v.ColumnHeader||(s=-h.x,o=a._szClient.width,0<(n=Math.min(u.frozen,u.length-1))&&(s+=r=u[n-1].pos,o-=r),l.col=Math.min(u.length-1,Math.max(u.frozen,u.getItemAt(s+1))),l.col2=u.getItemAt(s+o)),c.length<=c.frozen&&(l.row=l.row2=-1),u.length<=u.frozen&&(l.col=l.col2=-1),l},A.prototype._getFrozenPos=function(){var t=this._rows.frozen,i=this._cols.frozen,e=0<t?this._rows[t-1]:null,n=0<i?this._cols[i-1]:null,r=e?e.pos+e.renderSize:0,s=n?n.pos+n.renderSize:0;return new uh.Point(s,r)},A._INDEX_KEY="wj-cell-index",A);function A(t,i,e,n,r){this._offsetY=0,this._g=uh.asType(t,p.FlexGrid),this._ct=uh.asInt(i),this._rows=uh.asType(e,p.RowCollection),this._cols=uh.asType(n,p.ColumnCollection),this._e=uh.asType(r,HTMLElement),this._vrb=new p.CellRange}p.GridPanel=i}((uh=ru||(window.wijmo=ru={})).grid||(uh.grid={})),hh=ru||(window.wijmo=ru={}),ch=hh.grid||(hh.grid={}),Rh.prototype.updateCell=function(t,i,e,n,r,s){var o,a=t.grid,h=a.rightToLeft,c=ch.CellType,u=t.rows,l=t.columns,f=u[i],d=l[e],A=i,g=e,w=f instanceof ch.GroupRow?f:null,m=f instanceof ch._NewRowTemplate?f:null,p=d.renderWidth,v=f.renderHeight,b=t.cellType,E="wj-cell",B={display:""};0!=s&&n.firstElementChild&&(1==n.childNodes.length&&"checkbox"==n.firstElementChild.type||(n.textContent="")),r&&!r.isSingleCell&&(i=r.row,e=r.col,A=r.row2,g=r.col2,f=u[i],d=l[e],w=f instanceof ch.GroupRow?f:null,v=(o=r.getRenderSize(t)).height,p=o.width);var C,j=a._getBindingColumn(t,i,d),y=j.dataType==hh.DataType.Boolean&&!j.dataMap,x=d.pos,I=f.pos;a._useFrozenDiv()&&b==c.Cell&&!a.editRange?(i<u.frozen&&e>=l.frozen&&(x+=a._ptScrl.x),e<l.frozen&&i>=u.frozen&&(I+=a._ptScrl.y)):(i<u.frozen&&(I-=a._ptScrl.y),e<l.frozen&&(x-=a._ptScrl.x)),h?B.right=x+"px":B.left=x+"px",B.top=I-t._getOffsetY()+"px",B.width=p+"px",B.height=v+"px",B.zIndex="",(i<u.frozen||e<l.frozen)&&(B.zIndex=i<u.frozen&&e<l.frozen?2:1),b==c.Cell?(w&&(E+=" wj-group"),a.showAlternatingRows&&f.visibleIndex%2!=0&&(r&&r.row!=r.row2||(E+=" wj-alt")),(i<u.frozen||e<l.frozen)&&(E+=" wj-frozen"),m&&(E+=" wj-new"),f.cssClass&&(E+=" "+f.cssClass),j.cssClass&&(E+=" "+j.cssClass)):(E+=" wj-header",a.showAlternatingRows&&i%2!=0&&(E+=" wj-header-alt")),b!=c.Cell&&b!=c.RowHeader||!a._getShowErrors()||(C=a._getError(t,i,e),hh.setAttribute(n,"title",C),C&&(E+=" wj-state-invalid"));var M,F,Q,R,k,S,D,N,T,O,Y,U,H,z,G,P,V=ch.SelectedState,L=t.getSelectedState(i,e,r);switch(L!=V.None&&b==c.Cell&&!y&&a.editRange&&a.editRange.contains(i,e)&&(L=V.None),L){case V.Active:E+=" wj-state-active";break;case V.Cursor:E+=" wj-state-selected wj-state-active";break;case V.Selected:E+=" wj-state-multi-selected"}A==u.frozen-1&&(E+=" wj-frozen-row"),g==l.frozen-1&&(E+=" wj-frozen-col"),(j.wordWrap||f.wordWrap)&&(E+=" wj-wrap"),(j.multiLine||f.multiLine)&&(E+=" wj-multiline"),B.textAlign=j.getAlignment(),B.textAlignLast=B.textJustify="","justify-all"==B.textAlign&&(B.textAlign=B.textAlignLast="justify",B.textJustify="distribute"),B.paddingLeft=B.paddingRight=B.paddingTop=B.paddingBottom="",b==c.Cell&&-1<a.rows.maxGroupLevel&&e==a.columns.firstVisibleIndex&&a.treeIndent&&(M=w?Math.max(0,w.level):a.rows.maxGroupLevel+1,F=a.treeIndent*M+a._cellPadding,h?B.paddingRight=F+"px":B.paddingLeft=F+"px"),0!=s&&(Q=t.getCellData(i,e,!1),R=t.getCellData(i,e,!0),b==c.Cell&&e==a.columns.firstVisibleIndex&&w&&w.hasChildren&&!this._isEditingCell(a,i,e)?(G=this._getTreeBtn(w),R=hh.escapeHtml(R)||w.getGroupHeader(),n.innerHTML=G.outerHTML+" "+R,B.textAlign=""):b==c.ColumnHeader&&j.currentSort&&a.showSort&&(A==a._getSortRowIndex()||j!=d)?(E+=" wj-sort-"+("+"==j.currentSort?"asc":"desc"),n.innerHTML=hh.escapeHtml(R)+"&nbsp;"+this._getSortIcon(j)):b!=c.RowHeader||e!=a.rowHeaders.columns.length-1||R?b!=c.Cell||j.dataType!=hh.DataType.Boolean||j.dataMap||w&&!hh.isBoolean(Q)?b==c.Cell&&this._isEditingCell(a,i,e)?(k=j.inputType,j.inputType||(k=j.dataType!=hh.DataType.Number||j.dataMap?"text":"tel"),j.dataMap||j.mask||(S=t.getCellData(i,e,!1),hh.isNumber(S)&&(D=S.toString(),(T=j.format)&&S!=Math.round(S)&&(N=D.match(/\.(\d+)/)[1].length,T=T.replace(/([a-z])(\d*)(.*)/gi,"$01"+N+"$3")),R=hh.Globalize.formatNumber(S,T,!0))),n.innerHTML=(j.multiLine||f.multiLine)&&"checkbox"!=k?'<textarea wrap="soft"></textarea>':'<input type="'+k+'"/>',O=n.children[0],hh.addClass(O,"wj-grid-editor wj-form-control"),hh.disableAutoComplete(O),O.value=R,O.required=j.getIsRequired(),hh.setAttribute(O,"aria-required",O.required),j.maxLength&&(O.maxLength=j.maxLength),O.style.textAlign=j.getAlignment(),j.mask&&new hh._MaskProvider(O,j.mask),a._edtHdl._edt=O):b==c.Cell&&(f.isContentHtml||j.isContentHtml)?n.innerHTML=R:n.textContent=R||"":((Y=n.firstChild)instanceof HTMLInputElement&&"checkbox"==Y.type||(n.innerHTML='<input type="checkbox" class="wj-cell-check" tabindex="-1"/>',Y=n.firstChild),Y.checked=1==Q,Y.indeterminate=null==Q,Y.disabled=!a.canEditCell(i,e),Y.disabled&&(Y.style.cursor="default"),a.editRange&&a.editRange.contains(i,e)&&(a._edtHdl._edt=Y)):(H=(U=a.editableCollectionView)?U.currentEditItem:null)&&f.dataItem==H?n.innerHTML='<span class="wj-glyph-pencil"></span>':f instanceof ch._NewRowTemplate&&(n.innerHTML='<span class="wj-glyph-asterisk"></span>'),b==c.Cell&&hh.input&&j.dataMap&&a.showDropDown&&0!=j.showDropDown&&a.canEditCell(i,e)&&(Rh._ddBtn||(z=Rh._WJC_DROPDOWN,G=hh.createElement('<button class="wj-btn wj-btn-glyph wj-right '+z+'" type="button" tabindex="-1"><span class="wj-glyph-down"></span></button>'),hh.setAriaLabel(G,hh.culture.FlexGrid.ariaLabels.toggleDropDown),hh.setAttribute(G,"aria-expanded",!1),Rh._ddBtn=G),P=Rh._ddBtn.cloneNode(!0),n.appendChild(P)));var J=!1;switch(b){case c.RowHeader:J=!w&&!m&&f.allowDragging&&0!=(a.allowDragging&ch.AllowDragging.Rows),hh.setAttribute(n,"draggable",J?"true":null);break;case c.ColumnHeader:J=d.allowDragging&&0!=(a.allowDragging&ch.AllowDragging.Columns),hh.setAttribute(n,"draggable",J?"true":null)}n.className!=E&&(n.className=E);var W,_,X,K,Z,q,$,tt=n.style;for(var it in B)tt[it]!==B[it]&&(tt[it]=B[it]);a._edtHdl._edt&&a._edtHdl._edt.parentElement==n&&(_=(W=a._root).getBoundingClientRect(),X=n.getBoundingClientRect(),K=_.top+W.clientHeight-X.top,Z=_.left+W.clientWidth-X.left,X.height>K&&(n.style.height=K+"px"),X.width>Z&&(n.style.width=Z+"px")),a.itemFormatter&&a.itemFormatter(t,i,e,n),a.formatItem.hasHandlers&&((q=Rh._fmtRng)?q.setRange(i,e,A,g):q=Rh._fmtRng=new ch.CellRange(i,e,A,g),$=new ch.FormatItemEventArgs(t,q,n),a.onFormatItem($))},Rh.prototype.disposeCell=function(t){},Rh.prototype.getEditorValue=function(t){var i=t._edtHdl._edt;if(i instanceof HTMLInputElement&&"checkbox"==i.type)return i.checked;if(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement){var e=i.maxLength;return hh.isNumber(e)&&-1<e&&i.value.length>e?i.value.substr(0,e):i.value}return null},Rh.prototype._isEditingCell=function(t,i,e){return t.editRange&&t.editRange.contains(i,e)},Rh.prototype._getTreeBtn=function(t){var i=Rh._WJC_COLLAPSE,e=(t.isCollapsed?"":"down-")+(t.grid.rightToLeft?"left":"right"),n=hh.createElement('<button class="wj-btn wj-btn-glyph '+i+'" type="button" tabindex="-1"><span class="wj-glyph-'+e+'"></span></button>');return hh.setAriaLabel(n,hh.culture.FlexGrid.ariaLabels.toggleGroup),hh.setAttribute(n,"aria-expanded",!t.isCollapsed),n},Rh.prototype._getSortIcon=function(t){return'<span class="wj-glyph-'+("+"==t.currentSort?"up":"down")+'"></span>'},Rh._WJC_COLLAPSE="wj-elem-collapse",Rh._WJC_DROPDOWN="wj-elem-dropdown",ch.CellFactory=Rh,ah=(oh=ru||(window.wijmo=ru={})).grid||(oh.grid={}),Qh.prototype.setRange=function(t,i,e,n){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===e&&(e=t),void 0===n&&(n=i),this._row=oh.asInt(t),this._col=oh.asInt(i),this._row2=oh.asInt(e),this._col2=oh.asInt(n)},Object.defineProperty(Qh.prototype,"row",{get:function(){return this._row},set:function(t){this._row=oh.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"col",{get:function(){return this._col},set:function(t){this._col=oh.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=oh.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=oh.asInt(t)},enumerable:!0,configurable:!0}),Qh.prototype.clone=function(){return new Qh(this._row,this._col,this._row2,this._col2)},Object.defineProperty(Qh.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"isValid",{get:function(){return-1<this._row&&-1<this._col&&-1<this._row2&&-1<this._col2},enumerable:!0,configurable:!0}),Object.defineProperty(Qh.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),Qh.prototype.contains=function(t,i){var e=oh.tryCast(t,Qh);if(e)return e.topRow>=this.topRow&&e.bottomRow<=this.bottomRow&&e.leftCol>=this.leftCol&&e.rightCol<=this.rightCol;if(oh.isInt(t)&&oh.isInt(i))return t>=this.topRow&&t<=this.bottomRow&&i>=this.leftCol&&i<=this.rightCol;throw"contains expects a CellRange or row/column indices."},Qh.prototype.containsRow=function(t){return oh.asInt(t)>=this.topRow&&t<=this.bottomRow},Qh.prototype.containsColumn=function(t){return oh.asInt(t)>=this.leftCol&&t<=this.rightCol},Qh.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},Qh.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},Qh.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},Qh.prototype.getRenderSize=function(t){var i=new oh.Size(0,0);if(this.isValid){for(var e=this.topRow;e<=this.bottomRow;e++)i.height+=t.rows[e].renderSize;for(var n=this.leftCol;n<=this.rightCol;n++)i.width+=t.columns[n].renderSize}return i},Qh.prototype.equals=function(t){return t instanceof Qh&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},ah.CellRange=Qh,Fh=window&&window.__extends||(fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}fh(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(o){var a,t;(t=a=o.RowColFlags||(o.RowColFlags={}))[t.Visible=1]="Visible",t[t.AllowResizing=2]="AllowResizing",t[t.AllowDragging=4]="AllowDragging",t[t.AllowMerging=8]="AllowMerging",t[t.AllowSorting=16]="AllowSorting",t[t.AutoGenerated=32]="AutoGenerated",t[t.Collapsed=64]="Collapsed",t[t.ParentCollapsed=128]="ParentCollapsed",t[t.Selected=256]="Selected",t[t.ReadOnly=512]="ReadOnly",t[t.HtmlContent=1024]="HtmlContent",t[t.WordWrap=2048]="WordWrap",t[t.MultiLine=4096]="MultiLine",t[t.HasTemplate=8192]="HasTemplate",t[t.RowDefault=3]="RowDefault",t[t.ColumnDefault=23]="ColumnDefault";var i=(Object.defineProperty(e.prototype,"visible",{get:function(){return this._getFlag(a.Visible)},set:function(t){this._setFlag(a.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!!this._getFlag(a.Visible)&&(!this._getFlag(a.ParentCollapsed)||this instanceof o._NewRowTemplate)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._vidx:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=jh.asNumber(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var t=this._sz,i=this._list;return i&&((null==t||t<0)&&(t=Math.round(i.defaultSize)),null!=i.minSize&&t<i.minSize&&(t=i.minSize),null!=i.maxSize&&t>i.maxSize&&(t=i.maxSize)),null!=this._szMin&&t<this._szMin&&(t=this._szMin),null!=this._szMax&&t>this._szMax&&(t=this._szMax),Math.round(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowResizing",{get:function(){return this._getFlag(a.AllowResizing)},set:function(t){this._setFlag(a.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDragging",{get:function(){return this._getFlag(a.AllowDragging)},set:function(t){this._setFlag(a.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowMerging",{get:function(){return this._getFlag(a.AllowMerging)},set:function(t){this._setFlag(a.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._getFlag(a.Selected)},set:function(t){var i;!this._setFlag(a.Selected,t,!0)||(i=this.grid)&&i.refreshCells(!1,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._getFlag(a.ReadOnly)},set:function(t){this._setFlag(a.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._getFlag(a.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag(a.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._getFlag(a.WordWrap)},set:function(t){this._setFlag(a.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){return this._getFlag(a.MultiLine)},set:function(t){this._setFlag(a.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=jh.asString(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),e.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},e.prototype._getFlag=function(t){return 0!=(this._f&t)},e.prototype._setFlag=function(t,i,e){return i!=this._getFlag(t)&&(this._f=i?this._f|t:this._f&~t,e||this.onPropertyChanged(),!0)},e);function e(){this._list=null,this._pos=0,this._idx=-1,this._vidx=-1}o.RowCol=i;var n,h=(Fh(r,n=i),Object.defineProperty(r.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dataType",{get:function(){return this._type},set:function(t){t=jh.asEnum(t,jh.DataType),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=jh.asBoolean(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(t){t!=this._showDropDown&&(this._showDropDown=jh.asBoolean(t,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=jh.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=jh.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=jh.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=jh.asNumber(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){var i,e,n;t!=this.binding&&(i=jh.asString(t),this._binding=i?new jh.Binding(i):null,!this._type&&this.grid&&this._binding&&(e=this.grid.collectionView)&&e.sourceCollection&&e.sourceCollection.length&&(n=e.sourceCollection[0],this._type=jh.getType(this._binding.getValue(n))),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){var i;t!=this.sortMemberPath&&(i=jh.asString(t),this._bindingSort=i?new jh.Binding(i):null,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(t){null!=r._parseStarSize(t)?(this._szStar=t,this.onPropertyChanged()):(this._szStar=null,this.size=jh.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minWidth",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=jh.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=jh.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(t){this._quickSize=jh.asBoolean(t,!0)},enumerable:!0,configurable:!0}),r.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(jh.isBoolean(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(a.HasTemplate)))},Object.defineProperty(r.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),r.prototype.getAlignment=function(){var t=this._align;if(null==t&&(t="",!this._map))switch(this._type){case jh.DataType.Boolean:t="center";break;case jh.DataType.Number:t="right"}return t},r.prototype.getIsRequired=function(){return null!=this._required?this._required:this.dataType!=jh.DataType.String||null!=this.dataMap||null!=this._mask&&0<this._mask.length},Object.defineProperty(r.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(t){this._hdr!=t&&(this._hdr=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),jh.isArray(t)&&(t=new o.DataMap(t,null,null)),this._map=jh.asType(t,o.DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowSorting",{get:function(){return this._getFlag(a.AllowSorting)},set:function(t){this._setFlag(a.AllowSorting,t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentSort",{get:function(){var t=this.grid?this.grid.collectionView:null,i=t?t.sortDescriptions:null,e=i&&i.length?this._getBindingSort():null;if(e)for(var n=0;n<i.length;n++)if(i[n].property==e)return i[n].ascending?"+":"-";return null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:jh.Aggregate.None},set:function(t){(t=jh.asEnum(t,jh.Aggregate))!=this._agg&&(this._agg=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"describedById",{get:function(){return this._descById},set:function(t){t!=this._descById&&(this._descById=jh.asString(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),r.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},r._parseStarSize=function(t){if(jh.isString(t)&&0<t.length&&"*"==t[t.length-1]){var i=1==t.length?1:+t.substr(0,t.length-1);if(0<i&&!isNaN(i))return i}return null},r._ctr=0,r);function r(t){var i=n.call(this)||this;return i._f=a.ColumnDefault,i._hash=r._ctr.toString(36),r._ctr++,t&&jh.copy(i,t),i}o.Column=h;var s,c=(Fh(u,s=i),Object.defineProperty(u.prototype,"dataItem",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this.size},set:function(t){this.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),u);function u(t){var i=s.call(this)||this;return i._f=a.ColumnDefault,i._data=t,i}o.Row=c;var l,f=(Fh(d,l=c),Object.defineProperty(d.prototype,"level",{get:function(){return this._level},set:function(t){jh.asInt(t),t!=this._level&&(this._level=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"hasChildren",{get:function(){if(null==this.grid||null==this._list)return!0;this._list._update();var t=this.index<this._list.length-1?this._list[this.index+1]:null,i=jh.tryCast(t,d),e=jh.tryCast(t,o._NewRowTemplate);return null!=t&&null==e&&(null==i||i.level>this.level)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isCollapsed",{get:function(){return this._getFlag(a.Collapsed)},set:function(t){jh.asBoolean(t),t!=this.isCollapsed&&null!=this._list&&this._setCollapsed(t)},enumerable:!0,configurable:!0}),d.prototype.getGroupHeader=function(){var t=this.grid,i=t.groupHeaderFormat||jh.culture.FlexGrid.groupHeaderFormat,e=jh.tryCast(this.dataItem,jh.collections.CollectionViewGroup);if(e&&i){var n=e.groupDescription.propertyName,r=e.name,s=t.getColumn(n),o=this.isContentHtml;s&&(o=o||s.isContentHtml,s.header&&(n=s.header),s.dataMap?r=s.dataMap.getDisplayValue(r):s.format&&(r=jh.Globalize.format(r,s.format)));var a=e.getAggregate(jh.Aggregate.CntAll,null,t.collectionView);return jh.format(i,{name:jh.escapeHtml(n),value:o?r:jh.escapeHtml(r),level:e.level,count:a})}return""},d.prototype._setCollapsed=function(e){var n=this,t=this.grid,r=t.rows,s=this.getCellRange(),i=new o.CellRangeEventArgs(t.cells,new o.CellRange(this.index,-1));t.onGroupCollapsedChanging(i)&&(t.deferUpdate(function(){r.deferUpdate(function(){n._setFlag(a.Collapsed,e,!0);for(var t=s.topRow+1;t<=s.bottomRow&&-1<t&&t<r.length;t++){r[t]._setFlag(a.ParentCollapsed,e,!0);var i=r[t];i instanceof d&&i.isCollapsed&&(t=i.getCellRange().bottomRow)}})}),t.onGroupCollapsedChanged(i))},d.prototype.getCellRange=function(){for(var t=this._list,i=this.index,e=t.length-1,n=i+1;n<=e;n++){var r=jh.tryCast(t[n],d);if(null!=r&&r.level<=this.level){e=n-1;break}}return new o.CellRange(i,0,e,this.grid.columns.length-1)},d);function d(){var t=l.call(this)||this;return t._level=-1,t.isReadOnly=!0,t}o.GroupRow=f;var A,g=(A=jh.collections.ObservableArray,Fh(w,A),Object.defineProperty(w.prototype,"defaultSize",{get:function(){return this._szDef},set:function(t){this._szDef!=t&&(this._szDef=jh.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"frozen",{get:function(){return this._frozen},set:function(t){t!=this._frozen&&(this._frozen=jh.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),w.prototype.isFrozen=function(t){return t<this.frozen},Object.defineProperty(w.prototype,"minSize",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=jh.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"maxSize",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=jh.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),w.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(w.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),w.prototype.getItemAt=function(t){if(this._dirty&&this._update(),t<=0&&0<this.length&&this[0].renderSize)return 0;t=Math.round(t);for(var i,e,n=this.length,r=0,s=n-1;r<=s;)if((e=this[i=r+s>>>1])._pos>t&&0<i)s=i-1;else{if(!(e._pos+e.renderSize<=t&&i<n-1)){for(;0<i&&!this[i].renderSize;)i--;for(;i<n-1&&!this[i].renderSize;)i++;return i}r=i+1}return s},w.prototype.getNextCell=function(t,i,e){var n,r=o.SelMove;switch(i){case r.Next:for(n=t+1;n<this.length;n++)if(0<this[n].renderSize)return n;break;case r.Prev:for(n=t-1;0<=n;n--)if(0<this[n].renderSize)return n;break;case r.End:for(n=this.length-1;0<=n;n--)if(0<this[n].renderSize)return n;break;case r.Home:for(n=0;n<this.length;n++)if(0<this[n].renderSize)return n;break;case r.NextPage:return(n=this.getItemAt(this[t].pos+e))<0?this.getNextCell(t,o.SelMove.End,e):n==t&&n<this.length-1&&this[n+1].renderSize?n+1:n;case r.PrevPage:return(n=this.getItemAt(this[t].pos-e))<0?this.getNextCell(t,o.SelMove.Home,e):n==t&&0<n&&this[n-1].renderSize?n-1:n}return t},w.prototype.canMoveElement=function(t,i){if(i==t)return!1;if(t<0||t>=this.length||i>=this.length)return!1;i<0&&(i=this.length-1);for(var e=Math.min(t,i),n=Math.max(t,i),r=e;r<=n;r++)if(!this[r].allowDragging)return!1;return!(this[i]instanceof o._NewRowTemplate)},w.prototype.moveElement=function(t,i){var e;this.canMoveElement(t,i)&&(e=this[t],this.removeAt(t),i<0&&(i=this.length),this.insert(i,e))},w.prototype.onCollectionChanged=function(t){void 0===t&&(t=jh.collections.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),A.prototype.onCollectionChanged.call(this,t)},w.prototype.push=function(t){return t._list=this,A.prototype.push.call(this,t)},w.prototype.splice=function(t,i,e){return e&&(e._list=this),A.prototype.splice.call(this,t,i,e)},w.prototype.beginUpdate=function(){this._update(),A.prototype.beginUpdate.call(this)},w.prototype._update=function(){if(!this._dirty||this.isUpdating)return!1;this._dirty=!1;for(var t,i=0,e=0,n=void 0,r=0;r<this.length;r++)(n=this[r])._idx=r,n._vidx=i,n._list=this,n._pos=e,0<(t=n.renderSize)&&(e+=t,i++);return this._vlen=i,this._szTot=e,!0},w);function w(t,i){var e=A.call(this)||this;return e._frozen=0,e._vlen=0,e._szDef=28,e._szTot=0,e._dirty=!1,e._g=jh.asType(t,o.FlexGrid),e._szDef=jh.asNumber(i,!1,!0),e}o.RowColCollection=g;var m,p=(Fh(v,m=g),v.prototype.getColumn=function(t){var i=jh.isNumber(t)?t:this.indexOf(t);return-1<i?this[i]:null},v.prototype.indexOf=function(t){if(t instanceof h)return m.prototype.indexOf.call(this,t);for(var i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1},Object.defineProperty(v.prototype,"describedById",{get:function(){return this._descById},set:function(t){t!=this._descById&&(this._descById=jh.asString(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),v.prototype._update=function(){if(m.prototype._update.call(this)){this._firstVisible=-1;for(var t=0;t<this.length;t++)if(this[t].visible){this._firstVisible=t;break}return!0}return!1},v.prototype._updateStarSizes=function(t){for(var i,e=0,n=0;n<this.length;n++)(r=this[n]).isVisible&&(r._szStar?(e+=h._parseStarSize(r._szStar),i=r):t-=r.renderWidth);if(i){for(var r,s=t,n=0;n<this.length;n++)(r=this[n]).isVisible&&r._szStar&&(r==i&&0<s?r._sz=s:(r._sz=Math.max(0,Math.round(h._parseStarSize(r._szStar)/e*t)),s-=r.renderWidth));return this._dirty=!0,this._update(),!0}return!1},v);function v(){var t=null!==m&&m.apply(this,arguments)||this;return t._firstVisible=-1,t}o.ColumnCollection=p;var b,E=(Fh(B,b=g),Object.defineProperty(B.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(t){t!=this.ariaLabel&&(this._ariaLabel=jh.asString(t),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),B.prototype._update=function(){if(b.prototype._update.call(this)){this._maxLevel=-1;for(var t=0;t<this.length;t++){var i=jh.tryCast(this[t],f);i&&i.level>this._maxLevel&&(this._maxLevel=i.level)}return!0}return!1},B);function B(){var t=null!==b&&b.apply(this,arguments)||this;return t._maxLevel=-1,t}o.RowCollection=E}((jh=ru||(window.wijmo=ru={})).grid||(jh.grid={})),Eh=ru||(window.wijmo=ru={}),Ch=Bh=Eh.grid||(Eh.grid={}),Object.defineProperty(Dh.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"cellType",{get:function(){return this._p?this._p.cellType:Bh.CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"range",{get:function(){return this._rng||(this._rng=new Ch.CellRange(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(Dh.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),Dh._SZEDGE=[5,30],Ch.HitTestInfo=Dh,function(b){var E,t;(t=E=b.AllowMerging||(b.AllowMerging={}))[t.None=0]="None",t[t.Cells=1]="Cells",t[t.ColumnHeaders=2]="ColumnHeaders",t[t.RowHeaders=4]="RowHeaders",t[t.AllHeaders=6]="AllHeaders",t[t.All=7]="All";var i=(e.prototype.getMergedRange=function(t,i,e,n){void 0===n&&(n=!0);var r,s,o=t.cellType,a=t.columns,h=t.rows,c=h[i],u=a[e];if(c instanceof b._NewRowTemplate)return null;if(c instanceof b.GroupRow&&c.dataItem instanceof bh.collections.CollectionViewGroup){if(r=new b.CellRange(i,e),u.aggregate==bh.Aggregate.None){for(;0<r.col&&a[r.col-1].aggregate==bh.Aggregate.None&&r.col!=a.frozen;)r.col--;for(;r.col2<a.length-1&&a[r.col2+1].aggregate==bh.Aggregate.None&&r.col2+1!=a.frozen;)r.col2++}for(;r.col<e&&!a[r.col].visible;)r.col++;return r.isSingleCell?null:r}var l=!1;switch(this._g.allowMerging){case E.None:l=!0;break;case E.Cells:l=o!=b.CellType.Cell;break;case E.ColumnHeaders:l=o!=b.CellType.ColumnHeader&&o!=b.CellType.TopLeft;break;case E.RowHeaders:l=o!=b.CellType.RowHeader&&o!=b.CellType.TopLeft;break;case E.AllHeaders:l=o==b.CellType.Cell}if(l)return null;if(a[e].allowMerging){r=new b.CellRange(i,e);var f=0,d=h.length-1;i>=h.frozen?!n||o!=b.CellType.Cell&&o!=b.CellType.RowHeader||(f=(s=t._getViewRange()).topRow,d=s.bottomRow):d=h.frozen-1;for(var A=i-1;f<=A&&this._mergeCell(t,A,e,i,e);A--)r.row=A;for(var g=i+1;g<=d&&this._mergeCell(t,i,e,g,e);g++)r.row2=g;for(;r.row<i&&!h[r.row].visible;)r.row++;if(!r.isSingleCell)return r}if(h[i].allowMerging){r=new b.CellRange(i,e);var w=0,m=a.length-1;e>=a.frozen?!n||o!=b.CellType.Cell&&o!=b.CellType.ColumnHeader||(w=(s=t._getViewRange()).leftCol,m=s.rightCol):m=a.frozen-1;for(var p=e-1;w<=p&&this._mergeCell(t,i,p,i,e);p--)r.col=p;for(var v=e+1;v<=m&&this._mergeCell(t,i,e,i,v);v++)r.col2=v;for(;r.col<e&&!a[r.col].visible;)r.col++;if(!r.isSingleCell)return r}return null},e.prototype._mergeCell=function(t,i,e,n,r){var s=t.rows[i],o=t.rows[n];if(s instanceof b.GroupRow||s instanceof b._NewRowTemplate||o instanceof b.GroupRow||o instanceof b._NewRowTemplate)return!1;if(i!=n&&t.rows.isFrozen(i)!=t.rows.isFrozen(n))return!1;if(e!=r&&t.columns.isFrozen(e)!=t.columns.isFrozen(r))return!1;if(i!=n){if(0<e&&(s.allowMerging&&this._mergeCell(t,i,e-1,i,e)||o.allowMerging&&this._mergeCell(t,n,e-1,n,e)))return!1;if(r<t.columns.length-1&&(s.allowMerging&&this._mergeCell(t,i,r,i,r+1)||o.allowMerging&&this._mergeCell(t,n,r,n,r+1)))return!1}return t.getCellData(i,e,!0)==t.getCellData(n,r,!0)},e);function e(t){this._g=t}b.MergeManager=i}((bh=ru||(window.wijmo=ru={})).grid||(bh.grid={})),vh=(ph=ru||(window.wijmo=ru={})).grid||(ph.grid={}),Object.defineProperty(Sh.prototype,"sortByDisplayValues",{get:function(){return 1!=this._sortByKey},set:function(t){this._sortByKey=!ph.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Sh.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(Sh.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(Sh.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),Sh.prototype.getKeyValue=function(t){var i=this._displayPath,e=this._indexOf(t,i,!0);return e<0&&(e=this._indexOf(t,i,!1)),-1<e?this._cv.sourceCollection[e][this._keyPath]:null},Sh.prototype.getDisplayValue=function(t){if(!this._hash){this._hash={};var i=this._cv.sourceCollection;if(i&&this._keyPath&&this._displayPath)for(var e=i.length-1;0<=e;e--){var n=i[e],r=n[this._keyPath],s=n[this._displayPath];this._hash[r]=s}}var o=this._hash[t];return null!=o?o:t},Sh.prototype.getDisplayValues=function(t){var i=[];if(this._cv&&this._displayPath)for(var e=this._cv.items,n=0;n<e.length;n++)i.push(e[n][this._displayPath]);return i},Sh.prototype.getKeyValues=function(){var t=[];if(this._cv&&this._keyPath)for(var i=this._cv.items,e=0;e<i.length;e++)t.push(i[e][this._keyPath]);return t},Object.defineProperty(Sh.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=ph.asBoolean(t)},enumerable:!0,configurable:!0}),Sh.prototype.onMapChanged=function(t){this._hash=null,this.mapChanged.raise(this,t)},Sh.prototype._indexOf=function(t,i,e){var n=-1,r=-1;if(this._cv&&i)for(var s=null!=t?t.toString():"",o=e?s:s.toLowerCase(),a=this._cv.sourceCollection,h=0;h<a.length;h++){var c=a[h],u=c[i];if((u==t||!e&&u.length==o.length&&u.toLowerCase()==o||null!=u&&u.toString()==s)&&(n=h),n==h){if(!this._cv.filter||this._cv.filter(c))return n;r<0&&(r=n)}}return r},vh.DataMap=Sh,function(l){var u,f,t,i,e;(e=u=l.SelectionMode||(l.SelectionMode={}))[e.None=0]="None",e[e.Cell=1]="Cell",e[e.CellRange=2]="CellRange",e[e.Row=3]="Row",e[e.RowRange=4]="RowRange",e[e.ListBox=5]="ListBox",(i=l.SelectedState||(l.SelectedState={}))[i.None=0]="None",i[i.Selected=1]="Selected",i[i.Cursor=2]="Cursor",i[i.Active=3]="Active",(t=f=l.SelMove||(l.SelMove={}))[t.None=0]="None",t[t.Next=1]="Next",t[t.Prev=2]="Prev",t[t.NextPage=3]="NextPage",t[t.PrevPage=4]="PrevPage",t[t.Home=5]="Home",t[t.End=6]="End",t[t.NextCell=7]="NextCell",t[t.PrevCell=8]="PrevCell";var n=(Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){if(t!=this._mode){var i=u;if(t==i.ListBox||this._mode==i.ListBox)for(var e=this._g.rows,n=0;n<e.length;n++){var r=e[n],s=t==u.ListBox&&this._sel.containsRow(n);r._setFlag(l.RowColFlags.Selected,s,!0)}switch(t){case i.None:this._sel.setRange(-1,-1);break;case i.Cell:this._sel.row2=this._sel.row,this._sel.col2=this._sel.col;break;case i.Row:this._sel.row2=this._sel.row}this._mode=t,this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),r.prototype.select=function(t,i){void 0===i&&(i=!0),mh.isNumber(t)&&mh.isNumber(i)&&(t=new l.CellRange(t,i),i=!0),t=mh.asType(t,l.CellRange);var e=this._g,n=this._sel,r=t,s=!1;switch(e.selectionMode){case u.Cell:t.row2=t.row,t.col2=t.col;break;case u.Row:t.row2=t.row;break;case u.ListBox:s=!0}var o=r.equals(n);if(s&&-1<r.row&&!e.rows[r.row].isSelected&&(o=!1),o)i&&e.scrollIntoView(r.row,r.col);else{var a,h=new l.CellRangeEventArgs(e.cells,r);if(e.onSelectionChanging(h)){if(s&&(r.row!=n.row||1<r.rowSpan||1<n.rowSpan)){for(var c=0;c<e.rows.length;c++)e.rows[c]._setFlag(l.RowColFlags.Selected,r.containsRow(c),!0);e.refreshCells(!1,!0,!0)}r.row=Math.min(r.row,e.rows.length-1),r.row2=Math.min(r.row2,e.rows.length-1),this._sel=r,e.refreshCells(!1,!0,!0),i&&e.scrollIntoView(r.row,r.col),e.collectionView&&(a=e._getCvIndex(r.row),e.collectionView.moveCurrentToPosition(a)),e.onSelectionChanged(h)}}},r.prototype.moveSelection=function(t,i,e){var n,r,s,o=this._g,a=o.rows,h=o.columns,c=this._getReferenceCell(t,i,e),u=Math.max(0,o._szClient.height-o.columnHeaders.height);i==f.NextCell?(r=h.getNextCell(c.col,f.Next,u),n=c.row,r==c.col&&(n=a.getNextCell(n,f.Next,u))>c.row&&(r=h.getNextCell(0,f.Next,u),r=h.getNextCell(r,f.Prev,u)),o.select(n,r)):i==f.PrevCell?(r=h.getNextCell(c.col,f.Prev,u),n=c.row,r==c.col&&(n=a.getNextCell(n,f.Prev,u))<c.row&&(r=h.getNextCell(h.length-1,f.Prev,u),r=h.getNextCell(r,f.Next,u)),o.select(n,r)):(n=a.getNextCell(c.row,t,u),r=h.getNextCell(c.col,i,u),e?(s=o._selHdl._sel,o.select(new l.CellRange(n,r,s.row2,s.col2))):o.select(n,r))},r.prototype._getReferenceCell=function(t,i,e){var n=this._g,r=n._selHdl._sel,s=n.getMergedRange(n.cells,r.row,r.col);if(!s||s.isSingleCell)return r;switch(s=s.clone(),t){case f.Next:case f.NextCell:s.row=s.bottomRow;break;case f.None:s.row=r.row}switch(i){case f.Next:case f.NextCell:s.col=s.rightCol;break;case f.None:s.col=r.col}return s},r.prototype._adjustSelection=function(t){switch(this._mode){case u.Cell:return new l.CellRange(t.row,t.col,t.row,t.col);case u.Row:return new l.CellRange(t.row,0,t.row,this._g.columns.length-1);case u.RowRange:case u.ListBox:return new l.CellRange(t.row,0,t.row2,this._g.columns.length-1)}return t},r);function r(t){this._sel=new l.CellRange(0,0),this._mode=u.CellRange,this._g=t}l._SelectionHandler=n}((mh=ru||(window.wijmo=ru={})).grid||(mh.grid={})),function(w){var r,t;(t=r=w.KeyAction||(w.KeyAction={}))[t.None=0]="None",t[t.MoveDown=1]="MoveDown",t[t.MoveAcross=2]="MoveAcross",t[t.Cycle=3]="Cycle",t[t.CycleOut=4]="CycleOut";var i=(e.prototype._keydown=function(t){var i=this._g,e=i.selection,n=t.ctrlKey||t.metaKey,r=t.shiftKey,s=(t.target,!0);if(this._altDown=!1,!i._wantsInput(t.target)){var o=t.defaultPrevented&&!(t.target instanceof HTMLInputElement);if(i.isRangeValid(e)&&!o&&(!i.activeEditor||!i._edtHdl._keydown(t))){var a=wh.tryCast(i.rows[e.row],w.GroupRow),h=i.editableCollectionView,c=t.keyCode;if(i.autoClipboard){if(n&&(67==c||45==c)){var u,l=new w.CellRangeEventArgs(i.cells,e);return i.onCopying(l)&&(u=i.getClipString()+"\r\n",wh.Clipboard.copy(u),i.onCopied(l)),void t.stopPropagation()}if(n&&86==c||r&&45==c)return i.isReadOnly||wh.Clipboard.paste(function(t){i.setClipString(t)}),void t.stopPropagation()}if(i.rightToLeft)switch(c){case wh.Key.Left:c=wh.Key.Right;break;case wh.Key.Right:c=wh.Key.Left}var f,d=w.SelMove,A=w.SelectionMode;switch(c){case wh.Key.Space:if(r&&e.isValid)switch(i.selectionMode){case A.CellRange:case A.Row:case A.RowRange:case A.ListBox:i.select(new w.CellRange(e.row,0,e.row,i.columns.length-1))}else if(n&&e.isValid)switch(i.selectionMode){case A.CellRange:i.select(new w.CellRange(0,e.col,i.rows.length-1,e.col))}else(s=this._startEditing(!0,t))&&setTimeout(function(){var t=i.activeEditor;t&&(t.disabled||t.readOnly?i.finishEditing():"checkbox"==t.type?(t.checked=!t.checked,i.finishEditing()):wh.setSelectionRange(t,t.value.length))});break;case 65:if(n)switch(i.selectionMode){case A.CellRange:case A.Row:case A.RowRange:case A.ListBox:i.select(new w.CellRange(0,0,i.rows.length-1,i.columns.length-1))}else s=!1;break;case wh.Key.Left:n||t.altKey?s=!1:e.isValid&&0==e.col&&null!=a&&!a.isCollapsed&&a.hasChildren?a.isCollapsed=!0:this._moveSel(d.None,n?d.Home:d.Prev,r);break;case wh.Key.Right:n||t.altKey?s=!1:e.isValid&&0==e.col&&null!=a&&a.isCollapsed?a.isCollapsed=!1:this._moveSel(d.None,n?d.End:d.Next,r);break;case wh.Key.Up:n?s=!1:(this._altDown=t.altKey,t.altKey?s=i._edtHdl._toggleListBox(t):this._moveSel(d.Prev,d.None,r));break;case wh.Key.Down:n?s=!1:(this._altDown=t.altKey,t.altKey?s=i._edtHdl._toggleListBox(t):this._moveSel(d.Next,d.None,r));break;case wh.Key.PageUp:this._altDown=t.altKey,this._moveSel(t.altKey?d.Home:d.PrevPage,d.None,r),i.rows.frozen&&i.selection.row<i.rows.frozen&&(f=i.scrollPosition).y&&(i.scrollPosition=new wh.Point(f.x,0));break;case wh.Key.PageDown:this._altDown=t.altKey,this._moveSel(t.altKey?d.End:d.NextPage,d.None,r);break;case wh.Key.Home:this._moveSel(n?d.Home:d.None,d.Home,r);break;case wh.Key.End:this._moveSel(n?d.End:d.None,d.End,r);break;case wh.Key.Tab:s=this._performKeyAction(i.keyActionTab,r);break;case wh.Key.Enter:s=this._performKeyAction(i.keyActionEnter,r),!r&&h&&null!=h.currentEditItem&&i._edtHdl._commitRowEdits();break;case wh.Key.Escape:var g,s=!1;h&&(h.currentAddItem||h.currentEditItem)&&((g=new w.CellRangeEventArgs(i.cells,i.selection)).cancel=!0,i.onRowEditEnding(g),h.currentAddItem&&h.cancelNew(),h.currentEditItem&&h.cancelEdit(),i.onRowEditEnded(g),s=!0),i._mouseHdl.resetMouseState();break;case wh.Key.Delete:case wh.Key.Back:s=this._deleteSel(t);break;case wh.Key.F2:s=this._startEditing(!0,t);break;case wh.Key.F4:s=i._edtHdl._toggleListBox(t);break;default:s=!1}s&&(i.containsFocus()||i.focus(),t.preventDefault(),t.stopPropagation())}}},e.prototype._performKeyAction=function(t,i){var e=w.SelMove;switch(t){case r.MoveDown:return this._moveSel(i?e.Prev:e.Next,e.None,!1),!0;case r.MoveAcross:return this._moveSel(e.None,i?e.Prev:e.Next,!1),!0;case r.Cycle:return this._moveSel(e.None,i?e.PrevCell:e.NextCell,!1),!0;case r.CycleOut:var n=this._g.selection;return this._moveSel(e.None,i?e.PrevCell:e.NextCell,!1),!n.equals(this._g.selection)}return!1},e.prototype._keypress=function(t){var i,e,n,r,s=this._g;s._wantsInput(t.target)||t.defaultPrevented||(this._altDown?t.preventDefault():s.activeEditor?s._edtHdl._keypress(t):t.charCode>wh.Key.Space&&this._startEditing(!1,t)&&s.activeEditor&&((i=wh.getActiveElement())instanceof HTMLInputElement&&"checkbox"!=i.type||i instanceof HTMLTextAreaElement)&&(e=s._selHdl.selection,n=s.getCellData(e.row,e.col,!0),r=s.getCellData(e.row,e.col,!1),i.value=String.fromCharCode(t.charCode),wh.isNumber(r)&&-1<n.indexOf("%")&&(i.value+="%"),wh.setSelectionRange(i,1),i.dispatchEvent(s._edtHdl._evtInput),s._edtHdl._keypress(t),t.preventDefault()))},e.prototype._moveSel=function(t,i,e){this._g.selectionMode!=w.SelectionMode.None&&this._g._selHdl.moveSelection(t,i,e)},e.prototype._deleteSel=function(t){var i,s=this._g,o=s.editableCollectionView,a=s.selection,e=s.rows,n=[],h=new w.CellRange,c=new w.CellEditEndingEventArgs(s.cells,h,t),r=w.SelectionMode;if(s.allowDelete&&!s.isReadOnly&&(null==o||o.canRemove&&!o.isAddingNew&&!o.isEditingItem))switch(s.selectionMode){case r.CellRange:if(0==a.leftCol&&a.rightCol==s.columns.length-1)for(var u=a.topRow;-1<u&&u<=a.bottomRow;u++)n.push(e[u]);break;case r.ListBox:for(u=0;u<e.length;u++)e[u].isSelected&&n.push(e[u]);break;case r.Row:-1<a.topRow&&n.push(e[a.topRow]);break;case r.RowRange:for(u=a.topRow;-1<u&&u<=a.bottomRow;u++)n.push(e[u])}if(0<n.length)return s.deferUpdate(function(){o&&o.beginUpdate();for(var t=n.length-1;0<=t;t--){var i=n[t];h.setRange(i.index,-1),s.onDeletingRow(c)&&(o&&i.dataItem?o.remove(i.dataItem):s.rows.removeAt(i.index),s.onDeletedRow(c))}o&&o.endUpdate()}),s.selectionMode==r.ListBox&&-1<(i=s.selection.row)&&i<s.rows.length&&(s.rows[i].isSelected=!0),s.childItemsPath&&s.collectionView&&s.collectionView.refresh(),!0;if(s.isReadOnly||0!=n.length)return!1;var l=!1,f=s.scrollPosition;return s.deferUpdate(function(){for(var t=a.topRow;t<=a.bottomRow;t++){var i=s.rows[t];if(!i.isReadOnly)for(var e=a.leftCol;e<=a.rightCol;e++){var n,r=s._getBindingColumn(s.cells,t,s.columns[e]);!r.getIsRequired()&&!r.isReadOnly&&s.getCellData(t,e,!0)&&(h.setRange(t,e),c.cancel=!1,s.onBeginningEdit(c))&&(o&&(n=o.currentEditItem,!l&&n&&n!=i.dataItem&&(l=!0,o.beginUpdate()),n=i.dataItem,o.editItem(n),s._edtHdl._edItem=n),s.setCellData(t,e,"",!0,!1),s.onCellEditEnding(c),s.onCellEditEnded(c))}}s.selection=a,s.scrollPosition=f,l&&o.endUpdate()}),!0},e.prototype._startEditing=function(t,i,e,n){return this._g._edtHdl.startEditing(t,e,n,!0,i)},e);function e(t){this._kaTab=r.None,this._kaEnter=r.MoveDown;var i=(this._g=t).hostElement;t.addEventListener(i,"keypress",this._keypress.bind(this)),t.addEventListener(i,"keydown",this._keydown.bind(this))}w._KeyboardHandler=i}((wh=ru||(window.wijmo=ru={})).grid||(wh.grid={})),function(f){var c,h,t,i,e;(e=c=f.AllowResizing||(f.AllowResizing={}))[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both",e[e.ColumnsAllCells=4|e.Columns]="ColumnsAllCells",e[e.RowsAllCells=4|e.Rows]="RowsAllCells",e[e.BothAllCells=4|e.Both]="BothAllCells",(i=f.AutoSizeMode||(f.AutoSizeMode={}))[i.None=0]="None",i[i.Headers=1]="Headers",i[i.Cells=2]="Cells",i[i.Both=3]="Both",(t=h=f.AllowDragging||(f.AllowDragging={}))[t.None=0]="None",t[t.Columns=1]="Columns",t[t.Rows=2]="Rows",t[t.Both=3]="Both";var n=(d.prototype.resetMouseState=function(){this._dragSource&&gh.removeClass(this._dragSource,"wj-state-dragsrc"),this._showDragMarker(null);var t=this._g.hostElement;t&&(t.style.cursor="");var i=this._g;i.removeEventListener(document,"mousemove"),i.removeEventListener(document,"mouseup"),this._tsLast=Date.now(),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null,this._dragSource=null},d.prototype._enableTouchResizing=function(){var e=this,n=this._g,r=n.hostElement,t="ontouchstart"in window?["touchstart","touchmove","touchend"]:"onpointerdown"in window?["pointerdown","pointermove","pointerup"]:null;t&&(n.addEventListener(r,t[0],function(t){var i;null!=t.pointerType&&"touch"!=t.pointerType||gh.closest(t.target,".wj-elem-filter")||(i=gh.closest(t.target,".wj-cell"))instanceof HTMLElement&&(n._rcBounds=null,e._htDown=null,e._hover(t),e._szRowCol&&(i.removeAttribute("draggable"),r.style.touchAction="none",e._mousedown(t),t.preventDefault()))}),n.addEventListener(r,t[1],function(t){null!=t.pointerType&&"touch"!=t.pointerType||e._szRowCol&&(e._mousemove(t),t.preventDefault())}),n.addEventListener(r,t[2],function(t){var i;gh.Control._touching=!1,null!=t.pointerType&&"touch"!=t.pointerType||!e._szRowCol||(e._szArgs?e._finishResizing(e._eMouse):(i=gh.closest(t.target,".wj-cell"))instanceof HTMLElement&&i.click(),e.resetMouseState(),r.style.touchAction="")}))},d.prototype._mousedown=function(t){var i=this._g,e=i.hitTest(t),n=e.cellType,r=t.ctrlKey||t.metaKey,s=t.target;if(this._selDown=i.selection,e.panel==i.cells){if(gh.closestClass(s,f.CellFactory._WJC_DROPDOWN))return i._edtHdl._toggleListBox(t,e.range),void t.preventDefault();if(i.editRange&&i.editRange.contains(e.range))return}var o=gh.getActiveElement();if(s!=o||!i._isInputElement(s)){if(n==f.CellType.None)return i.finishEditing(),void(s!=i._root&&s!=i._fCt&&i._edtHdl._commitRowEdits());if(this._htDown=e,this._eMouse=t,null!=this._szRowCol)return o!=i._eFocus&&(i._eFocus.tabIndex=0,i._eFocus.focus()),void this._handleResizing(t);switch(n){case f.CellType.Cell:r&&i.selectionMode==f.SelectionMode.ListBox&&this._startListBoxSelection(e.row),this._mouseSelect(t,t.shiftKey);break;case f.CellType.RowHeader:0==(this._g.allowDragging&h.Rows)&&(r&&i.selectionMode==f.SelectionMode.ListBox&&this._startListBoxSelection(e.row),this._mouseSelect(t,t.shiftKey),t.preventDefault(),i.focus())}if(n==f.CellType.Cell&&-1<i.rows.maxGroupLevel&&gh.closestClass(s,f.CellFactory._WJC_COLLAPSE)){var a=gh.tryCast(i.rows[e.row],f.GroupRow);if(a)return r?i.collapseGroupsToLevel(a.isCollapsed?a.level+1:a.level):a.isCollapsed=!a.isCollapsed,void this.resetMouseState()}}},d.prototype._mousemove=function(t){if(null!=this._htDown){if(0==t.buttons&&this._eMouse&&600<t.timeStamp-this._eMouse.timeStamp)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else switch(this._htDown.cellType){case f.CellType.Cell:this._mouseSelect(t,!0);break;case f.CellType.RowHeader:0==(this._g.allowDragging&h.Rows)&&this._mouseSelect(t,!0)}}},d.prototype._mouseup=function(t){if(!this._g.isTouching||!(this._dragSource||t.target instanceof HTMLHtmlElement)){var i=this._g,e=i.hitTest(t),n=this._htDown,r=f.SelectionMode;if(n&&!t.defaultPrevented)if(this._szArgs)this._finishResizing(t);else if(n.panel!=i.topLeftCells||this._szArgs)n.panel!=i.columnHeaders||t.dataTransfer?n.panel==i.cells&&(t.ctrlKey||t.metaKey||t.shiftKey||e.panel==n.panel&&e.range.equals(n.range)&&i.selection.equals(this._selDown)&&i._edtHdl.startEditing(!0,e.row,e.col,!0,t)):e.panel==n.panel&&e.col==n.col&&!e.edgeRight&&-1<e.col&&this._clickSort(t,e);else if(e.panel==n.panel&&e.row==n.row&&e.col==n.col&&i.rows.length&&i.columns.length)switch(i.selectionMode){case r.CellRange:case r.RowRange:case r.ListBox:i.select(new f.CellRange(0,0,i.rows.length-1,i.columns.length-1))}this.resetMouseState()}},d.prototype._click=function(t){50<Date.now()-this._tsLast&&!t.pointerType&&this._handleClick(t)},d.prototype._handleClick=function(t){var i,e=this._g,n=t.target,r=new f.HitTestInfo(n,null),s=r.panel;t.defaultPrevented||r.grid!=e||e._isInputElement(n)||(s==e.topLeftCells?e.select(new f.CellRange(0,0,e.rows.length-1,e.columns.length-1)):s==e.columnHeaders?this._clickSort(t,r):s==e.rowHeaders?e.select(new f.CellRange(r.row,0,r.row,e.columns.length-1)):s==e.cells&&(r.row<0?this._clickSort(t,r):gh.closestClass(n,f.CellFactory._WJC_COLLAPSE)?(i=e.rows[r.row])instanceof f.GroupRow&&(t.ctrlKey?e.collapseGroupsToLevel(i.isCollapsed?i.level+1:i.level):i.isCollapsed=!i.isCollapsed):gh.closestClass(n,f.CellFactory._WJC_DROPDOWN)?e._edtHdl._toggleListBox(t,r.range):e.select(r.range)))},d.prototype._clickSort=function(t,i){var e=this._g,n=e.collectionView,r=t.ctrlKey||t.metaKey;if(n&&n.canSort&&e.allowSorting){i.range.bottomRow;var s=i.panel.columns[i.col],o=e._getBindingColumn(i.panel,i.row,s),a=o?o._getBindingSort():null;if(o.allowSorting&&a){for(var h=i.grid.collectionView.sortDescriptions,c=null,u=0;u<h.length;u++)if(h[u].property==a){c=!h[u].ascending;break}if(null==c){if(r)return;c=!0}var l=new f.CellRangeEventArgs(i.panel,i.range,t);e.onSortingColumn(l)&&(e._edtHdl._commitRowEdits(),r?h.clear():h.splice(0,h.length,new gh.collections.SortDescription(a,c)),e.onSortedColumn(l))}}},d.prototype._dblclick=function(t){var i,e=this._g,n=e.hitTest(t),r=n.cellType,s=e.selection,o=n.range;if(!t.defaultPrevented)if(n.edgeRight&&e.allowResizing&c.Columns){if(r==f.CellType.ColumnHeader||r==f.CellType.Cell&&4&e.allowResizing){t.preventDefault(),t.ctrlKey&&s.containsColumn(n.col)&&(o=s);for(var a=o.leftCol;a<=o.rightCol;a++)e.columns[a].allowResizing&&(i=new f.CellRangeEventArgs(e.cells,new f.CellRange(-1,a)),e.onAutoSizingColumn(i)&&e.onResizingColumn(i)&&(e.autoSizeColumn(a),e.onResizedColumn(i),e.onAutoSizedColumn(i)))}else r==f.CellType.TopLeft&&n.panel.columns[n.col].allowResizing&&(t.preventDefault(),i=new f.CellRangeEventArgs(n.panel,new f.CellRange(-1,n.col)),e.onAutoSizingColumn(i)&&e.onResizingColumn(i)&&(e.autoSizeColumn(n.col,!0),e.onAutoSizedColumn(i),e.onResizedColumn(i)));this.resetMouseState()}else if(n.edgeBottom&&e.allowResizing&c.Rows){if(r==f.CellType.RowHeader||r==f.CellType.Cell&&4&e.allowResizing){t.ctrlKey&&s.containsRow(n.row)&&(o=s);for(var h=o.topRow;h<=o.bottomRow;h++)e.rows[h].allowResizing&&(i=new f.CellRangeEventArgs(e.cells,new f.CellRange(h,-1)),e.onAutoSizingRow(i)&&e.onResizingRow(i)&&(e.autoSizeRow(h),e.onResizedRow(i),e.onAutoSizedRow(i)))}else r==f.CellType.TopLeft&&n.panel.rows[n.row].allowResizing&&(i=new f.CellRangeEventArgs(n.panel,new f.CellRange(n.row,-1)),e.onAutoSizingRow(i)&&e.onResizingRow(i)&&(e.autoSizeRow(n.row,!0),e.onResizedRow(i),e.onAutoSizedRow(i)));this.resetMouseState()}},d.prototype._hover=function(t){if(this._isDown)return null;var i=this._g,e=i.hitTest(t),n=(e.panel,e.cellType),r="";return this._szRowCol=null,(n==f.CellType.ColumnHeader||n==f.CellType.TopLeft||n==f.CellType.Cell&&4&i.allowResizing)&&e.edgeRight&&0!=(i.allowResizing&c.Columns)&&(this._szRowCol=this._getResizeCol(e)),(n==f.CellType.RowHeader||n==f.CellType.TopLeft||n==f.CellType.Cell&&4&i.allowResizing)&&e.edgeBottom&&0!=(i.allowResizing&c.Rows)&&(this._szRowCol=this._getResizeRow(e)),this._szRowCol instanceof f.Column?r="col-resize":this._szRowCol instanceof f.Row&&(r="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,i.hostElement.style.cursor=r,e},d.prototype._getResizeCol=function(t){for(var i,e=t.panel.columns,n=e[t.col],r=t.col+1;r<e.length;r++)if((i=e[r]).visible){i.renderSize<1&&(n=i);break}if(t.col==e.length-1&&(t.cellType==f.CellType.TopLeft||t.cellType==f.CellType.RowHeader))for(e=this._g.columns,r=0;r<e.length;r++)if((i=e[r]).visible){i.renderSize<1&&(n=i);break}return n.allowResizing?n:null},d.prototype._getResizeRow=function(t){for(var i,e=t.panel.rows,n=e[t.row],r=t.row+1;r<e.length;r++)if((i=e[r]).visible){i.renderSize<1&&(n=i);break}if(t.row==e.length-1&&(t.cellType==f.CellType.TopLeft||t.cellType==f.CellType.ColumnHeader))for(e=this._g.rows,r=0;r<e.length;r++)if((i=e[r]).visible){i.renderSize<1&&(n=i);break}return n.allowResizing?n:null},d.prototype._mouseSelect=function(t,i){var e,n=this,r=this._g;t&&this._htDown&&this._htDown.panel&&r.selectionMode!=f.SelectionMode.None&&(e=new f.HitTestInfo(this._htDown.panel,t),this._handleSelection(e,i),!gh.isIE9()&&0<=t.button&&t.target!=r._root&&(e=new f.HitTestInfo(r,t)).cellType!=f.CellType.Cell&&e.cellType!=f.CellType.RowHeader&&this._eMouse&&setTimeout(function(){n._eMouse&&n._mouseSelect(n._eMouse,i)},100))},d.prototype._handleResizing=function(t){var i,e,n,r,s;t.preventDefault(),this._szRowCol instanceof f.Column&&(i=this._g,e=gh.mouseToPage(t).x,s=Math.round(Math.max(d._SZ_MIN,this._szStart+(e-this._htDown.point.x)*(i.rightToLeft?-1:1))),this._szRowCol.renderSize!=s&&(null==this._szArgs&&(n=-1<i.rowHeaders.columns.indexOf(this._szRowCol)?i.rowHeaders:i.cells,this._szArgs=new f.CellRangeEventArgs(n,new f.CellRange(-1,this._szRowCol.index))),this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(s):this._szRowCol.width=s))),this._szRowCol instanceof f.Row&&(i=this._g,r=gh.mouseToPage(t).y,s=Math.round(Math.max(d._SZ_MIN,this._szStart+(r-this._htDown.point.y))),this._szRowCol.renderSize!=s&&(null==this._szArgs&&(n=-1<i.columnHeaders.rows.indexOf(this._szRowCol)?i.columnHeaders:i.cells,this._szArgs=new f.CellRangeEventArgs(n,new f.CellRange(this._szRowCol.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(s):this._szRowCol.height=s)))},d.prototype._dragstart=function(t){var i,e,n=this._g,r=this._htDown,s=h;r&&(this._dragSource=null,this._htDownDrag=null,this._szRowCol||(i=new f.CellRangeEventArgs(r.panel,r.range),r.cellType==f.CellType.ColumnHeader&&n.allowDragging&s.Columns&&-1<r.col&&n.columns[r.col].allowDragging?n.onDraggingColumn(i)?this._dragSource=t.target:t.preventDefault():r.cellType==f.CellType.RowHeader&&n.allowDragging&s.Rows&&-1<r.row&&n.rows[r.row].allowDragging?(e=n.rows[r.row])instanceof f.GroupRow||e instanceof f._NewRowTemplate||(n.onDraggingRow(i)?this._dragSource=t.target:t.preventDefault()):r.cellType==f.CellType.TopLeft&&n.allowDragging&s.Columns&&-1<r.col&&n.topLeftCells.columns[r.col].allowDragging&&(n.onDraggingColumn(i)?this._dragSource=t.target:t.preventDefault())),this._dragSource&&t.dataTransfer&&!t.defaultPrevented&&(this._htDownDrag=r,gh._startDrag(t.dataTransfer,"move"),t.stopPropagation(),gh.addClass(this._dragSource,"wj-state-dragsrc"),n.beginUpdate(),this._updating=!0))},d.prototype._dragend=function(t){this._updating&&(this._g.endUpdate(),this._updating=!1),this.resetMouseState()},d.prototype._dragover=function(t){var i,e,n,r,s=this._g,o=s.hitTest(t),a=this._htDownDrag,h=!1,c=f.CellType,u=new f.CellRangeEventArgs(o.panel,o.range,a);a&&o.cellType==a.cellType&&(o.cellType==c.ColumnHeader?(u.cancel=!s.columns.canMoveElement(a.col,o.col),h=s.onDraggingColumnOver(u)):o.cellType==c.RowHeader?(u.cancel=!s.rows.canMoveElement(a.row,o.row),h=s.onDraggingRowOver(u)):o.cellType==c.TopLeft&&(u.cancel=!s.topLeftCells.columns.canMoveElement(a.col,o.col),h=s.onDraggingColumnOver(u))),h?(t.dataTransfer.dropEffect="move",this._showDragMarker(o),t.preventDefault(),t.stopPropagation()):this._showDragMarker(null),a&&s.autoScroll&&(i=s._rcBounds,e=s.scrollPosition,n=gh.Control._DRAG_SCROLL_EDGE,r=gh.Control._DRAG_SCROLL_STEP,a.panel==s.columnHeaders?(t.pageX-i.left<n&&(e.x+=r),i.right-t.pageX<n&&(e.x-=r)):a.panel==s.rowHeaders&&(t.pageY-i.top<n&&(e.y+=r),i.bottom-t.pageY<n&&(e.y-=r)),e.equals(s._ptScrl)||(s.scrollPosition=e))},d.prototype._drop=function(t){var i,e,n=this._g,r=n.hitTest(t),s=this._htDownDrag,o=f.CellType;s&&r.cellType==s.cellType&&(i=n.selection,e=new f.CellRangeEventArgs(r.panel,r.range,s),r.cellType==o.ColumnHeader?(n.columns.moveElement(s.col,r.col),n.select(i.row,r.col),n.onDraggedColumn(e)):r.cellType==o.RowHeader?(n.rows.moveElement(s.row,r.row),n.select(r.row,i.col),n.onDraggedRow(e)):r.cellType==o.TopLeft&&(n.topLeftCells.columns.moveElement(s.col,r.col),n.onDraggedColumn(e))),this.resetMouseState()},d.prototype._showResizeMarker=function(t){var i=this._g,e=this._dvMarker,n=i.cells.hostElement;e.parentElement!=n&&n.appendChild(e);var r,s=this._szArgs.panel.cellType,o=f.CellType;this._szRowCol instanceof f.Column?(r={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},i.rightToLeft&&(r.left=n.clientWidth-r.left-r.width),s!=o.TopLeft&&s!=o.RowHeader||(r.left-=i.topLeftCells.hostElement.offsetWidth)):(r={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},s!=o.TopLeft&&s!=o.ColumnHeader||(r.top-=i.topLeftCells.hostElement.offsetHeight)),gh.setCss(e,r)},d.prototype._showDragMarker=function(t){var i=this._g,e=this._dvMarker;if(!t||!t.panel)return gh.removeChild(e),void(this._rngTarget=null);if(!t.range.equals(this._rngTarget)){this._rngTarget=t.range;var n=t.panel.hostElement;e.parentElement!=n&&n.appendChild(e);var r=f.CellType,s={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(t.cellType){case r.TopLeft:case r.ColumnHeader:s.height=t.panel.height;var o=t.panel.columns[t.col];s.left=o.pos-s.width/2,t.col>this._htDown.col&&(s.left+=o.renderWidth),i.rightToLeft&&(s.left=e.parentElement.clientWidth-s.left-s.width);break;case r.RowHeader:s.width=t.panel.width;var a=t.panel.rows[t.row];s.top=a.pos-s.height/2,t.row>this._htDown.row&&(s.top+=a.renderHeight)}gh.setCss(e,s)}},d.prototype._finishResizing=function(t){var i=this._g,e=i.selection,n=this._szArgs,r=this._eMouse&&this._eMouse.ctrlKey,s=f.CellType;if(n&&!n.cancel){if(-1<n.col){var o=n.col,a=gh.mouseToPage(t).x,h=Math.round(Math.max(d._SZ_MIN,this._szStart+(a-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(n.panel.columns[o].width=Math.round(h),i.onResizedColumn(n),r&&this._htDown.cellType==s.ColumnHeader&&e.containsColumn(o))for(var c=e.leftCol;c<=e.rightCol;c++)i.columns[c].allowResizing&&c!=o&&(n=new f.CellRangeEventArgs(i.cells,new f.CellRange(-1,c)),i.onResizingColumn(n)&&(i.columns[c].size=i.columns[o].size,i.onResizedColumn(n)))}if(-1<n.row){o=n.row;var u=gh.mouseToPage(t).y,h=Math.round(Math.max(d._SZ_MIN,this._szStart+(u-this._htDown.point.y)));if(n.panel.rows[o].height=Math.round(h),i.onResizedRow(n),r&&this._htDown.cellType==s.RowHeader&&e.containsRow(o))for(var l=e.topRow;l<=e.bottomRow;l++)i.rows[l].allowResizing&&l!=o&&(n=new f.CellRangeEventArgs(i.cells,new f.CellRange(l,-1)),i.onResizingRow(n)&&(i.rows[l].size=i.rows[o].size,i.onResizedRow(n)))}}},d.prototype._startListBoxSelection=function(t){var i=this._g.rows;this._lbSelState=!i[t].isSelected,this._lbSelRows={};for(var e=0;e<i.length;e++)i[e].isSelected&&(this._lbSelRows[e]=!0)},d.prototype._handleSelection=function(t,i){var e=this._g,n=e.rows,r=e._selHdl.selection,s=new f.CellRange(t.row,t.col);if(-1<t.row&&-1<t.col)if(null!=this._lbSelRows){for(var o=!1,s=new f.CellRange(t.row,t.col,this._htDown.row,this._htDown.col),a=0;a<n.length;a++){var h,c=s.containsRow(a)?this._lbSelState:null!=this._lbSelRows[a];c!=n[a].isSelected&&(h=new f.CellRangeEventArgs(e.cells,new f.CellRange(a,r.col,a,r.col2)),e.onSelectionChanging(h)&&(n[a]._setFlag(f.RowColFlags.Selected,c,!0),o=!0,e.onSelectionChanged(h)))}o&&e.refreshCells(!1,!0,!0),e.scrollIntoView(t.row,t.col)}else t.cellType==f.CellType.RowHeader&&(s.col=0,s.col2=e.columns.length-1),i&&(s.row2=r.row2,s.col2=r.col2),e.select(s)},d._SZ_MIN=0,d);function d(s){var o=this;this._tsLast=0;var t=s.hostElement;this._g=s,this._dvMarker=gh.createElement('<div class="wj-marker">&nbsp;</div>'),s.addEventListener(t,"mousedown",function(t){if(s._rcBounds=null,!t.defaultPrevented&&0==t.button){var i,e=t.target;if(s.containsFocus()||(i=e instanceof HTMLElement&&-1<e.tabIndex?e:s._eFocus,s._setFocusNoScroll(i)),setTimeout(function(){t.defaultPrevented||s.focus()}),gh.closest(t.target,".wj-flexgrid")!=s.hostElement||!s.activeEditor&&s._isInputElement(e)){var n=s.hitTest(t);switch(n.cellType){case f.CellType.Cell:s.select(n.range,!1),e.focus();break;case f.CellType.ColumnHeader:case f.CellType.ColumnFooter:s.scrollIntoView(-1,n.col);break;case f.CellType.RowHeader:s.scrollIntoView(n.row,-1)}return}var r=document;s.removeEventListener(r,"mousemove"),s.removeEventListener(r,"mouseup"),s.addEventListener(r,"mousemove",a),s.addEventListener(r,"mouseup",h),o._isDown=!0,o._mousedown(t)}});var a=function(t){o._mousemove(t)},h=function(t){o._isDown=!1,s.removeEventListener(document,"mousemove"),s.removeEventListener(document,"mouseup"),o._mouseup(t)};s.addEventListener(t,"mouseup",function(t){o._tsLast=Date.now()}),s.addEventListener(t,"mouseenter",function(t){s._rcBounds=null}),s.addEventListener(t,"mousemove",this._hover.bind(this)),s.addEventListener(t,"dblclick",this._dblclick.bind(this)),s.addEventListener(t,"click",this._click.bind(this)),s.addEventListener(t,"selectstart",function(t){s._isInputElement(t.target)||t.preventDefault()}),s.addEventListener(t,"wheel",function(t){var i=s.cells.hostElement.parentElement,e=t.deltaY;if(e&&!t.ctrlKey&&!t.metaKey&&i.scrollHeight>i.offsetHeight&&gh.closest(t.target,".wj-flexgrid")==s.hostElement){switch(t.deltaMode){case 1:i.scrollTop+=s.rows.defaultSize*(e<0?-1:1);break;case 2:i.scrollTop+=i.clientHeight*(e<0?-1:1);break;case 0:default:gh.isSafari()&&(e=gh.clamp(e,-150,150)),i.scrollTop+=e}t.preventDefault(),t.stopImmediatePropagation()}}),s.addEventListener(t,"dragstart",this._dragstart.bind(this)),s.addEventListener(t,"dragover",this._dragover.bind(this)),s.addEventListener(t,"dragleave",this._dragover.bind(this)),s.addEventListener(t,"drop",this._drop.bind(this)),s.addEventListener(t,"dragend",this._dragend.bind(this)),this._enableTouchResizing()}f._MouseHandler=n}((gh=ru||(window.wijmo=ru={})).grid||(gh.grid={})),dh=ru||(window.wijmo=ru={}),Ah=dh.grid||(dh.grid={}),kh.prototype.startEditing=function(t,i,e,n,r){void 0===t&&(t=!0);var s=this._g;if(i=dh.asNumber(i,!0,!0),e=dh.asNumber(e,!0,!0),null==i&&(i=s.selection.row),null==e&&(e=s.selection.col),null==n&&(n=!0),!this._allowEditing(i,e))return!1;var o=(o=s.getMergedRange(s.cells,i,e,!1))||new Ah.CellRange(i,e),a=s.rows[i].dataItem;if(s.select(o,!0),!s.rows[i]||a!=s.rows[i].dataItem)return!1;if(o.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing())return!1;var h=new Ah.CellRangeEventArgs(s.cells,o,r);if(!s.onBeginningEdit(h))return!1;var c=s.editableCollectionView,u=!1;c&&((u=(a=s.rows[i].dataItem)!=c.currentEditItem)&&s.onRowEditStarting(h),c.editItem(a),u&&(s.onRowEditStarted(h),this._edItem=a)),this._fullEdit=dh.asBoolean(t),this._rng=o,this._list=null;var l=s.columns[e].dataMap;l&&(this._list=l.getDisplayValues(a)),o.isSingleCell?this._updateEditorCell(i,e,u):s.refresh(!1);var f=this._edt;if(f){if("checkbox"==f.type)this._fullEdit=!1;else if(n){var d=dh.culture.Globalize.numberFormat["%"]||"%";if(dh.isNumber(s.getCellData(i,e,!1))&&-1<f.value.indexOf(d)){for(var A=f.value,g=0,w=A.length;0<w&&A[w-1]==d;)w--;for(;g<w&&A[g]==d;)g++;dh.setSelectionRange(f,g,w)}else dh.setSelectionRange(f,0,f.value.length);s._setFocusNoScroll(f)}if(s.onPrepareCellForEdit(h),f.disabled||f.readOnly)return!1}return null!=f&&!f.disabled&&!f.readOnly},kh.prototype.finishEditing=function(t){var i=this._edt;if(!i)return this._removeListBox(),!0;var e,n,r,s=this._g,o=this._rng,a=new Ah.CellEditEndingEventArgs(s.cells,o),h=s.containsFocus(),c=s.hostElement.querySelector(".wj-control.wj-state-focused");if(!c||(e=dh.Control.getControl(c))&&e.onLostFocus(a),!(a.cancel=t)&&s.validateEdits&&(n=this._getValidationError())&&(a.cancel=!0,(r=i.parentElement)&&(dh.toggleClass(r,"wj-state-invalid",!0),r.title=n,a.stayInEditMode=!0)),!s.onCellEditEnding(a)&&a.stayInEditMode)return h?setTimeout(function(){i.select()}):i.select(),!1;if(!a.cancel){a.data=s.cells.getCellData(o.topRow,o.leftCol,!1);for(var u=s.cellFactory.getEditorValue(s),l=o.topRow;l<=o.bottomRow&&l<s.rows.length;l++)for(var f=o.leftCol;f<=o.rightCol&&f<s.columns.length;f++)s.cells.setCellData(l,f,u,!0,!1)}this._edt=null,this._rng=null,this._list=null,this._removeListBox();var d=dh.closest(i,".wj-cell");return dh.contains(d,dh.getActiveElement())&&d.focus(),a.cancel||!a.refresh?this._updateEditorCell(o.row,o.col,!1):s.refresh(!1),h&&s.focus(),s.onCellEditEnded(a),!0},Object.defineProperty(kh.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(kh.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),kh.prototype.getClipString=function(t){var i=this._g,e="",n=!0,r=Ah.SelectionMode;if(!t)switch(t=i.selection,i.selectionMode){case r.Row:case r.RowRange:t.col=0,t.col2=i.columns.length-1;break;case r.ListBox:t.col=0,t.col2=i.columns.length-1;for(var s=0;s<i.rows.length;s++)i.rows[s].isSelected&&i.rows[s].isVisible&&(t.row=t.row2=s,e&&(e+="\n"),e+=this.getClipString(t));return e}for(var o=(t=dh.asType(t,Ah.CellRange)).topRow;o<=t.bottomRow;o++)if(i.rows[o].isVisible){n||(e+="\n"),n=!1;for(var a,h=t.leftCol,c=!0;h<=t.rightCol;h++)i.columns[h].isVisible&&(c||(e+="\t"),c=!1,-1<(a=(a=i.cells.getCellData(o,h,!0).toString()).replace(/\t/g," ")).indexOf("\n")&&(a='"'+a.replace(/"/g,'""')+'"'),e+=a)}return e},kh.prototype.setClipString=function(t,a){var h=this,c=this._g,i=null==a,e=Ah.SelectionMode;if(!a)switch(a=c.selection,c.selectionMode){case e.Row:case e.RowRange:case e.ListBox:a.col=0,a.col2=c.columns.length-1}a=dh.asType(a,Ah.CellRange);var u=this._parseClipString(dh.asString(t));i&&!a.isSingleCell&&u.length&&this._expandClipRows(u,a);var l=new Ah.CellRange(a.topRow,a.leftCol,a.topRow+u.length-1,a.leftCol+u[0].length-1),f=new Ah.CellRangeEventArgs(c.cells,l);if(!c.onPasting(f))return!1;l=new Ah.CellRange(a.topRow,a.leftCol);var d=c.editableCollectionView,A=a.topRow;c.deferUpdate(function(){d&&d.beginUpdate();for(var t=0;t<u.length&&A<c.rows.length;t++,A++)if(c.rows[A].isVisible)for(var i=u[t],e=a.leftCol,n=0;n<i.length&&e<c.columns.length;n++,e++){var r,s,o=c.columns[e];o.isVisible?h._allowEditing(A,e)&&(r=i[n],o.maxLength&&(r=r.substr(0,o.maxLength)),s=new Ah.CellRangeEventArgs(c.cells,new Ah.CellRange(A,e),r),c.onPastingCell(s)&&(d&&(d.editItem(c.rows[A].dataItem),h._edItem=d.currentEditItem),c.cells.setCellData(A,e,s.data)&&c.onPastedCell(s)),l.row2=Math.max(l.row2,A),l.col2=Math.max(l.col2,e)):n--}else t--;d&&d.endUpdate(),c.select(l),c.onPasted(f)})},kh.prototype._isNativeCheckbox=function(t){return t instanceof HTMLInputElement&&"checkbox"==t.type&&!t.disabled&&!t.readOnly&&dh.hasClass(t,"wj-cell-check")&&dh.closest(t,".wj-flexgrid")==this._g.hostElement},kh.prototype._parseClipString=function(t){var i=[];t=(t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n+$/g,"");for(var e=0,n=0,e=0;e<t.length;e++){for(var r='"'==t[e]&&" "<=t[e+1],s=!1,o=!1,n=e;n<t.length&&!o;n++){var a=t[n];switch(a){case'"':r&&(s=!s);break;case"\t":case"\n":s||(this._parseClipCell(i,t,e,n,"\n"==a),e=n,o=!0)}}if(n==t.length){this._parseClipCell(i,t,e,t.length,!1);break}}return 0==i.length&&i.push([""]),i},kh.prototype._parseClipCell=function(t,i,e,n,r){t.length||t.push([]);var s=i.substr(e,n-e),o=s.length;1<o&&'"'==s[0]&&'"'==s[o-1]&&(s=(s=s.substr(1,o-2)).replace(/""/g,'"')),t[t.length-1].push(s),r&&t.push([])},kh.prototype._expandClipRows=function(t,i){for(var e=t.length,n=0,r=0;r<e;r++)n=Math.max(n,t[r].length);for(var s=this._g,o=0,a=0,h=i.topRow;h<=i.bottomRow;h++)s.rows[h].isVisible&&o++;for(var c=i.leftCol;c<=i.rightCol;c++)s.columns[c].isVisible&&a++;if((1<o||1<a)&&(1==o&&(o=e),1==a&&(a=n),a%n==0&&o%e==0)){for(c=n;c<a;c++)for(h=0;h<e;h++)t[h].push(t[h%e][c%n]);for(h=e;h<o;h++)t.push(t[h%e])}},kh.prototype._updateEditorCell=function(t,i,e){var n,r,s,o=this._g,a=o.cells.getCellElement(t,i),h=o._useFrozenDiv()&&(t<o.frozenRows||i<o.frozenColumns);!a||h||o._hasPendingUpdates()?o.refresh(!1):(this._updateCell(a),(e=e||o._getHasValidation())&&o.headersVisibility&Ah.HeadersVisibility.Row&&(r=(n=o.rowHeaders).columns.length-1,(s=n.getCellElement(t,r))&&this._updateCell(s)))},kh.prototype._updateCell=function(t){var i=new Ah.HitTestInfo(t,null),e=Ah.FlexGrid._WJS_UPDATING;i.panel&&(dh.addClass(t,e),i.grid.cellFactory.updateCell(i.panel,i.row,i.col,t,i.range),dh.removeClass(t,e))},kh.prototype._getValidationError=function(){var t=this._g;if(t._getHasValidation()){var i=this._rng.row,e=this._rng.col,n=t.cellFactory.getEditorValue(t),r=t.getCellData(i,e,!1);if(t.setCellData(i,e,n,!0,!1)){var s=t._getError(t.cells,i,e);return t.setCellData(i,e,r,!0,!1),s}}return null},kh.prototype._allowEditing=function(t,i){var e=this._g;if(e.isReadOnly||e.selectionMode==Ah.SelectionMode.None)return!1;if(t<0||t>=e.rows.length||e.rows[t].isReadOnly||!e.rows[t].isVisible)return!1;if(i<0||i>=e.columns.length)return!1;var n=e._getBindingColumn(e.cells,t,e.columns[i]);return!(!n||n.isReadOnly||!n.isVisible)},kh.prototype._commitRowEdits=function(){var t,i,e=this._g;this.finishEditing()&&this._edItem&&((t=e.editableCollectionView)&&(t.currentEditItem||t.currentAddItem)&&(i=new Ah.CellRangeEventArgs(e.cells,e.selection),e.onRowEditEnding(i),t.commitEdit(),e.onRowEditEnded(i)),this._edItem=null)},kh.prototype._keydown=function(t){var i=this._edt;switch(t.keyCode){case dh.Key.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case dh.Key.F4:return this._toggleListBox(t),t.preventDefault(),!0;case dh.Key.Space:return!i||"checkbox"!=i.type||i.disabled||i.readOnly||(i.checked=!i.checked,this.finishEditing(),t.preventDefault()),!0;case dh.Key.Enter:if(t.preventDefault(),i&&t.altKey){var e,n,r,s=t.target;return s instanceof HTMLTextAreaElement&&"soft"==s.wrap&&(e=s.value,n=s.selectionStart,r=s.selectionEnd,s.value=e.substr(0,n)+"\n"+e.substr(r),dh.setSelectionRange(s,n+1)),!0}return!this.finishEditing();case dh.Key.Tab:return t.preventDefault(),!this.finishEditing();case dh.Key.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case dh.Key.Up:case dh.Key.Down:case dh.Key.Left:case dh.Key.Right:case dh.Key.PageUp:case dh.Key.PageDown:case dh.Key.Home:case dh.Key.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case dh.Key.Up:case dh.Key.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},kh.prototype._keydownListBox=function(t){var i=!0;if(this._lbx)switch(t.keyCode){case dh.Key.Up:t.altKey?this._toggleListBox(t):0<this._lbx.selectedIndex&&this._lbx.selectedIndex--;break;case dh.Key.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case dh.Key.Home:case dh.Key.PageUp:this._lbx.selectedIndex=0;break;case dh.Key.End:case dh.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:i=!1}return!!i&&(t.preventDefault(),!0)},kh.prototype._keypress=function(t){var i,e,n,r=this._edt;r&&"checkbox"!=r.type&&this._list&&0<this._list.length&&32<=t.charCode&&dh.getActiveElement()==r&&(i=r.selectionStart,e=r.value.substr(0,i),t.target==r&&(e+=String.fromCharCode(t.charCode),i++),(n=this._findString(this._list,e,!0))<0&&(n=this._findString(this._list,e,!1)),-1<n&&(r.value=this._list[n],dh.setSelectionRange(r,i,r.value.length),r.dispatchEvent(this._evtInput),t.preventDefault()))},kh.prototype._findString=function(t,i,e){e||(i=i.toLowerCase());for(var n=0;n<t.length;n++){var r=t[n];if(e||(r=r.toLowerCase()),0==r.indexOf(i))return n}return-1},kh.prototype._toggleListBox=function(t,i){var e=this._g,n=e._selHdl.selection;if(i=i||n,this._lbx&&(this._removeListBox(),n.contains(i)))return e.activeEditor?e.activeEditor.focus():e.containsFocus()||e.focus(),!0;var r=e.isTouching,s=e._getBindingColumn(e.cells,i.row,e.columns[i.col]);return!(!dh.input||!s.dataMap||!1===s.showDropDown||!dh.input||!this.startEditing(!0,i.row,i.col,!r,t)||(this._lbx=this._createListBox(),this._lbx.showSelection(),r&&this._lbx.focus(),0))},kh.prototype._createListBox=function(){var i=this,e=this._g,t=this._rng,n=e.rows[t.row],r=e._getBindingColumn(e.cells,t.row,e.columns[t.col]),s=document.createElement("div"),o=new dh.input.ListBox(s);this._removeListBox(),dh.addClass(s,"wj-dropdown-panel wj-grid-listbox"),o.maxHeight=4*n.renderHeight,o.isContentHtml=r.isContentHtml,o.itemsSource=r.dataMap.getDisplayValues(n.dataItem),o.selectedValue=e.activeEditor?e.activeEditor.value:e.getCellData(t.row,t.col,!0),dh.addClass(s,r.dropDownCssClass),o.addEventListener(o.hostElement,"click",function(){i._removeListBox(),e.focus(),i.finishEditing()}),o.lostFocus.addHandler(function(){i._removeListBox()}),o.selectedIndexChanged.addHandler(function(){var t=e.activeEditor;t&&(t.value=i._lbx.selectedValue,t.dispatchEvent(i._evtInput),dh.setSelectionRange(t,0,t.value.length))});var a,h=e.cells.getCellElement(t.row,t.col);return h?(dh.showPopup(s,h,!1,!1,!1),a=h.querySelector("."+Ah.CellFactory._WJC_DROPDOWN),dh.setAttribute(a,"aria-expanded",!0)):(dh.showPopup(s,e.getCellBoundingRect(t.row,t.col)),s[dh.Control._OWNR_KEY]=e.hostElement),o},kh.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,dh.hidePopup(t.hostElement,function(){t.dispose()}))},Ah._EditHandler=kh,Fh=window&&window.__extends||(yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}yh(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(h){var t=(Object.defineProperty(i.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){t!=this.newRowAtTop&&(this._top=Mh.asBoolean(t),this.updateNewRowTemplate())},enumerable:!0,configurable:!0}),i.prototype.updateNewRowTemplate=function(){var t,i=this._g,e=i.editableCollectionView,n=i.rows,r=e&&e.canAddNew&&i.allowAddNew&&!i.isReadOnly,s=n.indexOf(this._nrt),o=this._top?0:n.length-1,a=!1;!r&&-1<s?((t=i.selection).row==s&&i.select(t.row-1,t.col),n.removeAt(s)):r&&(s<0?a=!0:s!=o&&(n.removeAt(s),a=!0),a&&(this._top?n.insert(0,this._nrt):n.push(this._nrt)),this._nrt&&this._nrt._setFlag(h.RowColFlags.ParentCollapsed,!1))},i.prototype._attach=function(){var t=this._g;t&&(t.beginningEdit.addHandler(this._beginningEdit,this),t.pastingCell.addHandler(this._beginningEdit,this),t.rowEditEnded.addHandler(this._rowEditEnded,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},i.prototype._detach=function(){var t=this._g;t&&(t.beginningEdit.removeHandler(this._beginningEdit),t.pastingCell.removeHandler(this._beginningEdit),t.rowEditEnded.removeHandler(this._rowEditEnded),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},i.prototype._keydown=function(t){t.defaultPrevented||t.keyCode!=Mh.Key.Escape||null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},i.prototype._beginningEdit=function(t,i){var e,n,r,s,o;i.cancel||(e=this._g.rows[i.row],!Mh.tryCast(e,a)||(n=this._g.editableCollectionView)&&n.canAddNew&&(this._top?null==this._nrt.dataItem&&(o=null,r=n.sourceCollection,s=n.newItemCreator,o=Mh.isFunction(s)?s():r&&r.length?new r[0].constructor:{},this._nrt.dataItem=o):(o=n.currentAddItem&&n.currentAddItem==e.dataItem?n.currentAddItem:n.addNew(),n.moveCurrentTo(o),this.updateNewRowTemplate(),this._g.refresh(!0),this._g.onRowAdded(i),i.cancel&&n.cancelNew())))},i.prototype._rowEditEnded=function(t,i){var e=this,n=this._g.editableCollectionView,r=this._nrt.dataItem;if(n)if(n.isAddingNew)n.commitNew();else if(r&&!i.cancel){this._nrt.dataItem=null;var s=n.addNew();for(var o in r)s[o]=r[o];this._g.onRowAdded(i),i.cancel?n.cancelNew():n.commitNew(),setTimeout(function(){e._g.select(0,e._g.columns.firstVisibleIndex),e.updateNewRowTemplate()},20)}},i);function i(t){this._nrt=new a,this._g=t,this._keydownBnd=this._keydown.bind(this),this._attach()}h._AddNewHandler=t;var e,a=(e=h.Row,Fh(n,e),n);function n(){return null!==e&&e.apply(this,arguments)||this}h._NewRowTemplate=a}((Mh=ru||(window.wijmo=ru={})).grid||(Mh.grid={})),Ih=(xh=ru||(window.wijmo=ru={})).grid||(xh.grid={}),Nh.prototype.dispose=function(){var t=this._g,i=t.hostElement,e=t.removeEventListener.bind(this);e(this._tbx,"compositionstart",this._compStartBnd),e(i,"blur",this._updateImeFocusBnd),e(i,"focus",this._updateImeFocusBnd),e(i,"mousedown",this._mouseDownBnd),e(i,"mouseup",this._mouseUpBnd),t.cellEditEnded.removeHandler(this._cellEditEnded),t.selectionChanged.removeHandler(this._updateImeFocus),xh.removeChild(this._tbx)},Nh.prototype._cellEditEnded=function(){xh.setCss(this._tbx,Nh._cssHidden),this._tbx.value=""},Nh.prototype._compositionstart=function(){var t,i,e,n,r,s,o,a,h,c=this,u=this._g;null==u.activeEditor&&(t=u._selHdl.selection,u.startEditing(!1,t.row,t.col,!1)&&(t=u.editRange,i=u.cells.hostElement,e=u.columns[t.col].pos+i.offsetLeft,n=u.rows[t.row].pos+i.offsetTop,r=u.getCellBoundingRect(t.row,t.col),s=u.cells.getCellElement(t.row,t.col),o=getComputedStyle(s),t.isSingleCell||(r.width=s.offsetWidth,r.height=s.offsetHeight),t.row<u.frozenRows&&(n+=i.parentElement.scrollTop),t.col<u.frozenColumns&&(e+=i.parentElement.scrollLeft),h=(a=u.activeEditor)&&a.parentElement?a.parentElement.style.zIndex:"",xh.setCss(this._tbx,{position:"absolute",pointerEvents:"",opacity:"",left:e,top:n,paddingLeft:o.paddingLeft,paddingTop:o.paddingTop,width:r.width-1,height:r.height-1,zIndex:h}),a instanceof HTMLInputElement&&"minLength,maxLength,pattern".split(",").forEach(function(t){xh.setAttribute(c._tbx,t,a.getAttribute(t))}),xh.setAttribute(this._tbx,"wrap",a instanceof HTMLTextAreaElement?"soft":"off"),u._edtHdl._edt=this._tbx))},Nh.prototype._mousedown=function(t){this._isMouseDown=!0,this._updateImeFocus()},Nh.prototype._mouseup=function(t){this._isMouseDown=!1,this._updateImeFocus()},Nh.prototype._updateImeFocus=function(){var t,i=this._g,e=xh.getActiveElement();i.activeEditor||i.isTouching||this._isMouseDown||xh.closest(e,".wj-flexgrid")!=i.hostElement||(t=this._tbx,this._enableIme()?e!=t&&(t.disabled=!1,t.select(),t.focus()):t.disabled=!0)},Nh.prototype._enableIme=function(){var t=this._g,i=t.selection,e=i.isValid?t._getBindingColumn(t.cells,i.row,t.columns[i.col]):null;return!!t.canEditCell(i.row,i.col)&&!(!e||e.dataType==xh.DataType.Boolean)},Nh._cssHidden={position:"fixed",pointerEvents:"none",opacity:0,left:-10,top:-10,width:0},Ih._ImeHandler=Nh,Qt({target:"Object",stat:!0,forced:p(function(){Ei(1)})},{keys:function(t){return Ei(Rt(t))}});var Th,Oh,Yh,Uh,Hh,zh=Object.is||function(t,i){return t===i?0!==t||1/t==1/i:t!=t&&i!=i};function Gh(t){this._maxValues=250,this._sortValues=!0,this._col=t,this._bnd=t.binding?new Th.Binding(t.binding):null}Mn("search",1,function(n,o,a){return[function(t){var i=F(this),e=null==t?void 0:t[n];return void 0!==e?e.call(t,i):new RegExp(t)[n](String(i))},function(t){var i=a(o,t,this);if(i.done)return i.value;var e=S(t),n=String(this),r=e.lastIndex;zh(r,0)||(e.lastIndex=0);var s=Rn(e,n);return zh(e.lastIndex,r)||(e.lastIndex=r),null===s?-1:s.index}]}),(Hh=(Uh=ru||(window.wijmo=ru={})).grid||(Uh.grid={})).filter||(Hh.filter={}),Th=ru||(window.wijmo=ru={}),Yh=(Oh=Th.grid||(Th.grid={})).filter||(Oh.filter={}),Object.defineProperty(Gh.prototype,"showValues",{get:function(){return this._values},set:function(t){this._values=t},enumerable:!0,configurable:!0}),Object.defineProperty(Gh.prototype,"filterText",{get:function(){return this._filterText},set:function(t){this._filterText=Th.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Gh.prototype,"maxValues",{get:function(){return this._maxValues},set:function(t){this._maxValues=Th.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Gh.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(t){this._uniqueValues=Th.asArray(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Gh.prototype,"sortValues",{get:function(){return this._sortValues},set:function(t){this._sortValues=Th.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Gh.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=Th.asType(t,Oh.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Gh.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(Gh.prototype,"isActive",{get:function(){return null!=this._values&&0<Object.keys(this._values).length},enumerable:!0,configurable:!0}),Gh.prototype.apply=function(t){var i=this.column;return!(this._bnd&&this._values&&Object.keys(this._values).length)||(t=this._bnd.getValue(t),t=this.dataMap?this.dataMap.getDisplayValue(t):i.dataMap?i.dataMap.getDisplayValue(t):Th.Globalize.format(t,i.format),null!=this._values[t])},Gh.prototype.clear=function(){this.showValues=null,this.filterText=null},Gh.prototype.implementsInterface=function(t){return"IColumnFilter"==t},Gh.prototype._getUniqueValues=function(t,i){var e=[];if(this.uniqueValues){for(var n=this.uniqueValues,r=0;r<n.length;r++){var s=n[r];e.push({value:s,text:s.toString()})}return e}var o={},a=t.collectionView,h=a?a.sourceCollection:[];if(i&&a&&a.sourceCollection&&a.filter){var c=this.showValues;this.showValues=null;for(var u=[],r=0;r<h.length;r++)a.filter(h[r])&&u.push(h[r]);h=u,this.showValues=c}for(r=0;r<h.length;r++){s=t._binding.getValue(h[r]);var l=this.dataMap?this.dataMap.getDisplayValue(s):t.dataMap?t.dataMap.getDisplayValue(s):Th.Globalize.format(s,t.format);o[l]||(o[l]=!0,e.push({value:s,text:l}))}return e},Yh.ValueFilter=Gh;var Ph,Vh,Lh,Jh,Wh,_h,Xh,Kh,Zh,qh,$h,tc,ic,ec,nc,rc,sc,oc,ac,hc,cc,uc,lc,fc,dc,Ac,gc,wc=window&&window.__extends||(Ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Ph(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});function mc(t){this._c1=new Jh.FilterCondition(this),this._c2=new Jh.FilterCondition(this),this._and=!0,this._col=t,this._bnd=t.binding?new Vh.Binding(t.binding):null}function pc(t,i){var e=Kh.call(this,t)||this;e._filter=Wh.asType(i,Xh.ValueFilter,!1);var n=e.getTemplate();e.applyTemplate("wj-control",n,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),e._cbSelectAll.tabIndex=0;var r,s,o=Wh.culture.FlexGridFilter;return Wh.setText(e._spSelectAll,o.selectAll),e._view=new Wh.collections.CollectionView,i.sortValues&&(r=i.column.dataMap||i.dataMap?"text":"value",s=i.column.dataType!=Wh.DataType.Boolean,e._view.sortDescriptions.push(new Wh.collections.SortDescription(r,s))),e._view.filter=e._filterValues.bind(e),e._view.collectionChanged.addHandler(e._updateSelectAllCheck,e),e._filterText="",e._cmbFilter=new Wh.input.ComboBox(e._divFilter,{placeholder:o.search}),e._lbValues=new Wh.input.ListBox(e._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:e._view,itemFormatter:function(t,i){return i||o.null},gotFocus:function(t){t.selectedIndex<0&&(t.selectedIndex=0)}}),Wh.setAriaLabel(e._cmbFilter.inputElement,o.ariaLabels.search),e._cmbFilter.textChanged.addHandler(e._filterTextChanged,e),e._cbSelectAll.addEventListener("click",e._cbSelectAllClicked.bind(e)),e.updateEditor(),e}function vc(t,i){this._owner=t,this._col=i,this._valueFilter=new tc.ValueFilter(i),this._conditionFilter=new tc.ConditionFilter(i)}function bc(t){this._op=null,this._filter=t}function Ec(t,i){var e=cc.call(this,t)||this;e._filter=oc.asType(i,hc.ConditionFilter,!1);var n=e.getTemplate();e.applyTemplate("wj-control",n,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var r=oc.culture.FlexGridFilter,s=r.ariaLabels;oc.setAriaLabel(e._btnAnd,s.and),oc.setAriaLabel(e._btnOr,s.or),oc.setText(e._divHdr,r.header),oc.setText(e._spAnd,r.and),oc.setText(e._spOr,r.or),e._cmb1=e._createOperatorCombo(e._divCmb1,s.op1),e._cmb2=e._createOperatorCombo(e._divCmb2,s.op2),e._val1=e._createValueInput(e._divVal1,s.val1),e._val2=e._createValueInput(e._divVal2,s.val2);var o=e.hostElement;return e.addEventListener(o,"change",e._btnAndOrChanged.bind(e)),e.addEventListener(o,"keydown",e._keydown.bind(e)),e.updateEditor(),e}_h=(Wh=ru||(window.wijmo=ru={})).grid||(Wh.grid={}),Xh=_h.filter||(_h.filter={}),Kh=Wh.Control,wc(pc,Kh),Object.defineProperty(pc.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),pc.prototype.updateEditor=function(){var t=this,i=this._filter.column,e=this._filter._getUniqueValues(i,!0);this._lbValues.isContentHtml=i.isContentHtml;var n=this._filter.showValues;if(n&&0!=Object.keys(n).length){for(var r in n)for(s=0;s<e.length;s++)if(e[s].text==r){e[s].show=!0;break}}else for(var s=0;s<e.length;s++)e[s].show=!0;this._view.pageSize=20,this._view.sourceCollection=e,this._view.moveCurrentTo(null),setTimeout(function(){t._view.pageSize=t._filter.maxValues,t._cmbFilter.text=t._filter.filterText,t._filterText=t._cmbFilter.text.toLowerCase()})},pc.prototype.clearEditor=function(){this._cmbFilter.text="",this._filterText="",this._view.pageSize=0,this._view.refresh();for(var t=this._view.items,i=0;i<t.length;i++)t[i].show=!1;this._view.pageSize=this._filter.maxValues},pc.prototype.updateFilter=function(){var t=null,i=this._view.items;if(this._filterText||this._cbSelectAll.indeterminate){t={};for(var e=0;e<i.length;e++){var n=i[e];n.show&&(t[n.text]=!0)}}this._filter.showValues=t,this._filter.filterText=""},pc.prototype._filterTextChanged=function(){var e=this;this._toText&&clearTimeout(this._toText),this._toText=setTimeout(function(){var t=e._cmbFilter.text.toLowerCase(),i=t!=e._filterText;e._filterText=t,e._view.refresh(),i&&(e._cbSelectAll.checked=!0,e._cbSelectAllClicked())},300)},pc.prototype._filterValues=function(t){return!this._filterText||!(!t||!t.text)&&-1<t.text.toLowerCase().indexOf(this._filterText)},pc.prototype._cbSelectAllClicked=function(){for(var t=this._cbSelectAll.checked,i=this._view.items,e=0;e<i.length;e++)i[e].show=t;this._view.refresh()},pc.prototype._updateSelectAllCheck=function(){for(var t=0,i=this._view.items,e=0;e<i.length;e++)i[e].show&&t++;0==t?(this._cbSelectAll.checked=!1,this._cbSelectAll.indeterminate=!1):t==i.length?(this._cbSelectAll.checked=!0,this._cbSelectAll.indeterminate=!1):this._cbSelectAll.indeterminate=!0},pc.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',Xh.ValueFilterEditor=pc,Vh=ru||(window.wijmo=ru={}),Lh=Vh.grid||(Vh.grid={}),Jh=Lh.filter||(Lh.filter={}),Object.defineProperty(mc.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(mc.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(mc.prototype,"and",{get:function(){return this._and},set:function(t){this._and=Vh.asBoolean(t),this._bnd=this._col&&this._col.binding?new Vh.Binding(this._col.binding):null},enumerable:!0,configurable:!0}),Object.defineProperty(mc.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=Vh.asType(t,Lh.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(mc.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(mc.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),mc.prototype.apply=function(t){var i=this._col,e=this._c1,n=this._c2;if(!this._bnd||!this.isActive)return!0;t=this._bnd.getValue(t),i.dataMap?t=i.dataMap.getDisplayValue(t):Vh.isDate(t)?(Vh.isString(e.value)||Vh.isString(n.value))&&(t=Vh.Globalize.format(t,i.format)):Vh.isNumber(t)&&(t=Vh.Globalize.parseFloat(Vh.Globalize.format(t,i.format)));var r=e.apply(t),s=n.apply(t);return e.isActive&&n.isActive?this._and?r&&s:r||s:e.isActive?r:!n.isActive||s},mc.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},mc.prototype.implementsInterface=function(t){return"IColumnFilter"==t},Jh.ConditionFilter=mc,wc=window&&window.__extends||(Zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Zh(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),ac=(oc=ru||(window.wijmo=ru={})).grid||(oc.grid={}),hc=ac.filter||(ac.filter={}),cc=oc.Control,wc(Ec,cc),Object.defineProperty(Ec.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Ec.prototype.updateEditor=function(){var t=this._filter.condition1,i=this._filter.condition2;this._cmb1.selectedValue=t.operator,this._cmb2.selectedValue=i.operator,this._val1 instanceof oc.input.ComboBox?(this._val1.text=oc.changeType(t.value,oc.DataType.String,null),this._val2.text=oc.changeType(i.value,oc.DataType.String,null)):(this._val1.value=t.value,this._val2.value=i.value);var e=this._filter.and;this._checkRadio(this._btnAnd,e),this._checkRadio(this._btnOr,!e)},Ec.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},Ec.prototype.updateFilter=function(){var t,i=this._filter.column,e=this._filter.condition1,n=this._filter.condition2;e.operator=this._cmb1.selectedValue,n.operator=this._cmb2.selectedValue,this._val1 instanceof oc.input.ComboBox?(t=i.dataType==oc.DataType.Date?oc.DataType.String:i.dataType,e.value=oc.changeType(this._val1.text,t,i.format),n.value=oc.changeType(this._val2.text,t,i.format)):(e.value=this._val1.value,n.value=this._val2.value),this._filter.and=this._btnAnd.checked},Ec.prototype._createOperatorCombo=function(t,i){var e=this._filter.column,n=oc.culture.FlexGridFilter,r=n.stringOperators,s=this._filter.dataMap||e.dataMap,o=oc.DataType;e.dataType==o.Date&&this._hasDatePart(e.format)?r=n.dateOperators:e.dataType!=o.Number||s?e.dataType!=o.Boolean||s||(r=n.booleanOperators):r=n.numberOperators;var a=new oc.input.ComboBox(t,{itemsSource:r,displayMemberPath:"name",selectedValuePath:"op"});return oc.setAriaLabel(a.inputElement,i),a},Ec.prototype._createValueInput=function(t,i){var e=this._filter.column,n=this._filter.dataMap||e.dataMap,r=null,s=oc.DataType;return e.dataType==s.Date&&this._hasDatePart(e.format)?(r=this._hasTimePart(e.format)?new oc.input.InputDateTime(t):new oc.input.InputDate(t)).format=e.format:e.dataType!=s.Number||n?(r=new oc.input.ComboBox(t),n?(r.itemsSource=n.getDisplayValues(),r.isEditable=!0):e.dataType==s.Boolean&&(r.itemsSource=[!0,!1])):(r=new oc.input.InputNumber(t)).format=e.format,r.isRequired=!1,oc.setAriaLabel(r.inputElement,i),r},Ec.prototype._hasDatePart=function(t){return!t||(t=oc.culture.Globalize.calendar.patterns[t]||t,/[yMd]+/.test(t))},Ec.prototype._hasTimePart=function(t){return!!t&&(t=oc.culture.Globalize.calendar.patterns[t]||t,/[Hmst]+/.test(t))},Ec.prototype._btnAndOrChanged=function(t){var i=t.target==this._btnAnd,e=t.target==this._btnOr;(i||e)&&(this._checkRadio(this._btnAnd,i),this._checkRadio(this._btnOr,e))},Ec.prototype._checkRadio=function(t,i){t.checked=i,t.setAttribute("aria-checked",i.toString()),t.setAttribute("tabindex",i?"1":"-1")},Ec.prototype._keydown=function(t){var i=t.target==this._btnAnd,e=t.target==this._btnOr;if(i||e)switch(t.keyCode){case oc.Key.Left:case oc.Key.Right:case oc.Key.Up:case oc.Key.Down:var n=i?this._btnOr:this._btnAnd;n.click(),n.focus(),t.preventDefault()}},Ec.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',hc.ConditionFilterEditor=Ec,nc=(ec=(ic=ru||(window.wijmo=ru={})).grid||(ic.grid={})).filter||(ec.filter={}),Object.defineProperty(bc.prototype,"operator",{get:function(){return this._op},set:function(t){this._op=ic.asEnum(t,rc,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(bc.prototype,"value",{get:function(){return this._val},set:function(t){var i;this._val=t,this._strVal=ic.isString(t)?t.toString().toLowerCase():null,this._mapVal=null,this._filter&&(i=this._filter.dataMap||this._filter.column.dataMap)&&(this._mapVal=i.getDisplayValue(t),ic.isString(this._mapVal)&&(this._strVal=this._mapVal=this._mapVal.toLowerCase()))},enumerable:!0,configurable:!0}),Object.defineProperty(bc.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case rc.EQ:case rc.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),bc.prototype.clear=function(){this.operator=null,this.value=null},bc.prototype.apply=function(t){var i=this._mapVal||this._strVal||this._val;switch(ic.isString(t)&&(t=t.toLowerCase()),ic.isString(i)&&null==t&&(t=""),this._op){case null:return!0;case rc.EQ:return ic.isDate(t)&&ic.isDate(i)?ic.DateTime.sameDate(t,i):t==i;case rc.NE:return t!=i;case rc.GT:return i<t;case rc.GE:return i<=t;case rc.LT:return t<i;case rc.LE:return t<=i;case rc.BW:return!(!this._strVal||!ic.isString(t))&&0==t.indexOf(this._strVal);case rc.EW:return!!(this._strVal&&ic.isString(t)&&t.length>=this._strVal.length)&&t.substr(t.length-this._strVal.length)==i;case rc.CT:return!(!this._strVal||!ic.isString(t))&&-1<t.indexOf(this._strVal);case rc.NC:return!(!this._strVal||!ic.isString(t))&&t.indexOf(this._strVal)<0}throw"Unknown operator"},nc.FilterCondition=bc,(sc=rc=nc.Operator||(nc.Operator={}))[sc.EQ=0]="EQ",sc[sc.NE=1]="NE",sc[sc.GT=2]="GT",sc[sc.GE=3]="GE",sc[sc.LT=4]="LT",sc[sc.LE=5]="LE",sc[sc.BW=6]="BW",sc[sc.EW=7]="EW",sc[sc.CT=8]="CT",sc[sc.NC=9]="NC",$h=(qh=ru||(window.wijmo=ru={})).grid||(qh.grid={}),tc=$h.filter||($h.filter={}),Object.defineProperty(vc.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(t){var i;(t=qh.asEnum(t,tc.FilterType,!0))!=this._filterType&&(i=this.isActive,this.clear(),this._filterType=t,i?this._owner.apply():this._col.grid&&this._col.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(vc.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(t){this.conditionFilter.dataMap=t,this.valueFilter.dataMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(vc.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(vc.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(vc.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(vc.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),vc.prototype.apply=function(t){return this._conditionFilter.apply(t)&&this._valueFilter.apply(t)},vc.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},vc.prototype.implementsInterface=function(t){return"IColumnFilter"==t},tc.ColumnFilter=vc,wc=window&&window.__extends||(uc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}uc(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),dc=ru||(window.wijmo=ru={}),function(f){dc.culture.FlexGridFilter=window.wijmo.culture.FlexGridFilter||{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:"â Ascending",descending:"â Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:f.Operator.EQ},{name:"Does not equal",op:f.Operator.NE},{name:"Begins with",op:f.Operator.BW},{name:"Ends with",op:f.Operator.EW},{name:"Contains",op:f.Operator.CT},{name:"Does not contain",op:f.Operator.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:f.Operator.EQ},{name:"Does not equal",op:f.Operator.NE},{name:"Is Greater than",op:f.Operator.GT},{name:"Is Greater than or equal to",op:f.Operator.GE},{name:"Is Less than",op:f.Operator.LT},{name:"Is Less than or equal to",op:f.Operator.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:f.Operator.EQ},{name:"Is Before",op:f.Operator.LT},{name:"Is After",op:f.Operator.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:f.Operator.EQ},{name:"Does not equal",op:f.Operator.NE}]};var d,t=(d=dc.Control,wc(i,d),Object.defineProperty(i.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),i.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},i.prototype.updateFilter=function(){switch(this._getFilterType()){case f.FilterType.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case f.FilterType.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},i.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},i.prototype.onButtonClicked=function(t){this.buttonClicked.raise(this,t)},i.prototype._handleResize=function(){this.isTouching||this._wasTouching||this.onButtonClicked()},i.prototype._showFilter=function(t){switch(this._wasTouching=this.isTouching,t==f.FilterType.Value&&null==this._edtVal&&(this._edtVal=new f.ValueFilterEditor(this._divEdtVal,this.filter.valueFilter)),t==f.FilterType.Condition&&null==this._edtCnd&&(this._edtCnd=new f.ConditionFilterEditor(this._divEdtCnd,this.filter.conditionFilter)),0!=(t&this.filter.filterType)&&(t==f.FilterType.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus()):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus())),this.filter.filterType){case f.FilterType.None:case f.FilterType.Condition:case f.FilterType.Value:this._divType.style.display="none";break;default:this._divType.style.display=""}},i.prototype._enableLink=function(t,i){dc.toggleClass(t,"wj-state-disabled",!i),dc.setAttribute(t,"href",i?"":null),dc.setAttribute(t,"disabled",i?null:"disabled")},i.prototype._getFilterType=function(){var t=Ac.filter.FilterType;return"none"!=this._divEdtVal.style.display?t.Value:t.Condition},i.prototype._btnClicked=function(t){if(t.preventDefault(),t.stopPropagation(),!dc.hasClass(t.target,"wj-state-disabled")){if(t.target==this._aVal)return this._showFilter(f.FilterType.Value),void dc.moveFocus(this._edtVal.hostElement,0);if(t.target==this._aCnd)return this._showFilter(f.FilterType.Condition),void dc.moveFocus(this._edtCnd.hostElement,0);var i,e,n,r;t.target!=this._btnAsc&&t.target!=this._btnDsc||(e=(i=this.filter.column).sortMemberPath?i.sortMemberPath:i.binding,n=i.grid.collectionView,r=new dc.collections.SortDescription(e,t.target==this._btnAsc),n.sortDescriptions.deferUpdate(function(){n.sortDescriptions.clear(),n.sortDescriptions.push(r)})),t.target==this._btnApply?(this.updateFilter(),this.onFilterChanged()):t.target==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}},i.controlTemplate='<div><div wj-part="div-sort"><button wj-part="btn-asc" class="wj-btn" style="min-width:95px"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn" style="min-width:95px"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div>',i);function i(t,i,e){void 0===e&&(e=!0);var n=d.call(this,t,null,!0)||this;n.filterChanged=new dc.Event,n.buttonClicked=new dc.Event,n._filter=dc.asType(i,f.ColumnFilter);var r=n.getTemplate();n.applyTemplate("wj-control wj-content wj-columnfiltereditor",r,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var s=dc.culture.FlexGridFilter,o=s.ariaLabels,a=n.hostElement,h=n.filter.column,c=h.grid.collectionView;dc.setAttribute(a,"role","dialog"),dc.setAriaLabel(a,o.dialog+" "+h.header),dc.setAriaLabel(n._btnAsc,o.asc),dc.setAriaLabel(n._btnDsc,o.dsc),dc.setText(n._btnAsc,s.ascending),dc.setText(n._btnDsc,s.descending),dc.setText(n._aVal,s.values),dc.setText(n._aCnd,s.conditions),dc.setText(n._btnApply,s.apply),dc.setText(n._btnCancel,s.cancel),dc.setText(n._btnClear,s.clear);var u=n.filter.conditionFilter.isActive||0==(i.filterType&f.FilterType.Value)?f.FilterType.Condition:f.FilterType.Value;n._showFilter(u),e&&c&&c.canSort||(n._divSort.style.display="none");var l=n._btnClicked.bind(n);return n._btnApply.addEventListener("click",l),n._btnCancel.addEventListener("click",l),n._btnClear.addEventListener("click",l),n._btnAsc.addEventListener("click",l),n._btnDsc.addEventListener("click",l),n._aVal.addEventListener("click",l),n._aCnd.addEventListener("click",l),a.addEventListener("keydown",function(t){if(!t.defaultPrevented){var i=t.target.tagName.match(/^(a|button)$/i);switch(t.keyCode){case dc.Key.Space:i&&(n._btnClicked(t),t.preventDefault());break;case dc.Key.Enter:i?n._btnClicked(t):(n.updateFilter(),n.onFilterChanged(),n.onButtonClicked()),t.preventDefault();break;case dc.Key.Escape:n.onButtonClicked(),t.preventDefault();break;case dc.Key.Tab:dc.moveFocus(n.hostElement,t.shiftKey?-1:1),t.preventDefault()}}}),n}f.ColumnFilterEditor=t}((Ac=dc.grid||(dc.grid={})).filter||(Ac.filter={})),lc=ru||(window.wijmo=ru={}),function(w){var h,t;(t=h=w.FilterType||(w.FilterType={}))[t.None=0]="None",t[t.Condition=1]="Condition",t[t.Value=2]="Value",t[t.Both=3]="Both";var i=(Object.defineProperty(o.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(t){this._filterColumns=lc.asArray(t),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(t){t!=this.showFilterIcons&&(this._showIcons=lc.asBoolean(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(t){this._showSort=lc.asBoolean(t)},enumerable:!0,configurable:!0}),o.prototype.getColumnFilter=function(t,i){void 0===i&&(i=!0),t=this._asColumn(t);for(var e=0;e<this._filters.length;e++)if(this._filters[e].column==t)return this._filters[e];if(i&&t.binding){var n=new w.ColumnFilter(this,t);return this._filters.push(n),n}return null},Object.defineProperty(o.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(t){(t=lc.asEnum(t,h,!1))!=this.defaultFilterType&&(this._defFilterType=t,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filterDefinition",{get:function(){for(var t={defaultFilterType:this.defaultFilterType,filters:[]},i=0;i<this._filters.length;i++){var e,n,r=this._filters[i];r&&r.column&&r.column.binding&&(r.conditionFilter.isActive?(e=r.conditionFilter,t.filters.push({binding:r.column.binding,type:"condition",condition1:{operator:e.condition1.operator,value:e.condition1.value},and:e.and,condition2:{operator:e.condition2.operator,value:e.condition2.value}})):r.valueFilter.isActive&&(n=r.valueFilter,t.filters.push({binding:r.column.binding,type:"value",filterText:n.filterText,showValues:n.showValues})))}return JSON.stringify(t)},set:function(t){if(t=lc.asString(t),this.clear(),t){var i=JSON.parse(t);this.defaultFilterType=i.defaultFilterType;for(var e=0;e<i.filters.length;e++){var n=i.filters[e],r=this._g.getColumn(n.binding),s=this.getColumnFilter(r,!0);if(s)switch(n.type){case"condition":var o=s.conditionFilter;o.condition1.value=r.dataType==lc.DataType.Date?lc.changeType(n.condition1.value,r.dataType,null):n.condition1.value,o.condition1.operator=n.condition1.operator,o.and=n.and,o.condition2.value=r.dataType==lc.DataType.Date?lc.changeType(n.condition2.value,r.dataType,null):n.condition2.value,o.condition2.operator=n.condition2.operator;break;case"value":var a=s.valueFilter;a.filterText=n.filterText,a.showValues=n.showValues}}}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"activeEditor",{get:function(){return lc.Control.getControl(this._divEdt)},enumerable:!0,configurable:!0}),o.prototype.editColumnFilter=function(t,i){var e=this;this.closeEditor(),t=this._asColumn(t);var n=document.createElement("div"),r=this.getColumnFilter(t),s=new w.ColumnFilterEditor(n,r,this.showSortButtons);lc.addClass(n,"wj-dropdown-panel"),this._divEdt=n,this._edtCol=t;var o=new fc.CellRangeEventArgs(this._g.cells,new fc.CellRange(-1,t.index));if(this.onFilterChanging(o)){o.cancel=!0,this._g.rightToLeft&&(n.dir="rtl"),s.filterChanged.addHandler(function(){o.cancel=!1,setTimeout(function(){o.cancel||e.apply()})}),s.buttonClicked.addHandler(function(){e.closeEditor(),e._g.focus(),e.onFilterChanged(o)}),s.lostFocus.addHandler(function(){setTimeout(function(){var t=lc.Control.getControl(e._divEdt);t&&!t.containsFocus()&&e.closeEditor()},10)});var a=this._g;a._edtHdl._commitRowEdits(),a.scrollIntoView(-1,t.index,!0);var h=this._g.columnHeaders,c=i&&i.panel==h?i.row:h.rows.length-1,u=i?i.col:t.index,l=h.getCellBoundingRect(c,u),f=h.getCellElement(c,u);f?lc.showPopup(n,f,!1,!1,!1):lc.showPopup(n,l),this._setAriaExpanded(f,!0),this._setAriaExpanded(a.cells.getCellElement(-1,u),!0);for(var d=s.hostElement.querySelectorAll("input"),A=0;A<d.length;A++){var g=d[A];if(0<g.offsetHeight&&-1<g.tabIndex&&!g.disabled){g.focus();break}}s.containsFocus()||s.focus()}else this._divEdt=this._edtCol=null},o.prototype._setAriaExpanded=function(t,i){var e;t&&(e=t.querySelector("."+o._WJC_FILTER),lc.setAttribute(e,"aria-expanded",i))},o.prototype.closeEditor=function(){var t,i,e=this._g,n=lc.Control.getControl(this._divEdt),r=this._edtCol;n&&lc.hidePopup(n.hostElement,function(){n.dispose()}),r&&(i=(t=e.columnHeaders).rows.length?t.getCellElement(t.rows.length-1,r.index):null,this._setAriaExpanded(i,!1),i=e.cells.getCellElement(-1,r.index),this._setAriaExpanded(i,!1)),this._divEdt=null,this._edtCol=null},o.prototype.apply=function(){var t,i=this._g.collectionView;i&&((t=this._g.editableCollectionView)&&(t.commitEdit(),t.commitNew()),i.filter=this._filter.bind(this));var e=i?i.updateFilterDefinition:null;lc.isFunction(e)&&e.call(i,this),this.onFilterApplied()},o.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},o.prototype.onFilterApplied=function(t){this.filterApplied.raise(this,t)},o.prototype.onFilterChanging=function(t){return this.filterChanging.raise(this,t),!t.cancel},o.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},o.prototype._asColumn=function(t){return lc.isString(t)?this._g.getColumn(t):lc.isNumber(t)?this._g.columns[t]:lc.asType(t,fc.Column,!1)},o.prototype._filter=function(t){for(var i=0;i<this._filters.length;i++)if(!this._filters[i].apply(t))return!1;return!0},o.prototype._formatItem=function(t,i){var e,n,r,s,o,a;i.panel==t.columnHeaders&&(n=(e=this._g).getMergedRange(i.panel,i.row,i.col)||new fc.CellRange(i.row,i.col),r=e.columns[n.col],s=e._getBindingColumn(i.panel,i.row,r),o=i.cell,n.row2!=i.panel.rows.length-1&&r==s||(a=this.getColumnFilter(s,this.defaultFilterType!=h.None),this._filterColumns&&this._filterColumns.indexOf(s.binding)<0&&(a=null),a?(lc.toggleClass(o,"wj-filter-on",a.isActive),lc.toggleClass(o,"wj-filter-off",!a.isActive)):(lc.removeClass(o,"wj-filter-on"),lc.removeClass(o,"wj-filter-off")),a&&a.filterType!=h.None&&(this._showIcons&&this._addFilterButton(s,a,o),0==i.row&&(o=e.cells.getCellElement(-1,i.col))&&this._addFilterButton(r,a,o))))},o.prototype._addFilterButton=function(t,i,e){var n=o._WJC_FILTER,r=lc.createElement('<button class="wj-btn wj-btn-glyph wj-right '+n+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');lc.setAriaLabel(r,lc.culture.FlexGridFilter.ariaLabels.edit+" "+t.header),lc.setAttribute(r,"aria-haspopup","dialog"),lc.setAttribute(r,"aria-expanded",!1),lc.setAttribute(r,"aria-describedby",t.describedById),lc.setAttribute(r,"aria-pressed",i.isActive),(e=e.querySelector("div")||e).querySelector("."+n)||e.appendChild(r)},o.prototype._mousedown=function(t){this._toggleEditor(t)&&(this._tmd=!0,t.stopPropagation(),t.preventDefault())},o.prototype._click=function(t){(this._tmd||this._toggleEditor(t))&&(t.stopPropagation(),t.preventDefault()),this._tmd=!1},o.prototype._toggleEditor=function(t){var i=this;if(this._tmd=!1,!t.defaultPrevented&&0==t.button)if(lc.closestClass(t.target,o._WJC_FILTER)){var e=this._g,n=e.hitTest(t.target);if(n.panel||(n=e.hitTest(t)),n.panel==e.columnHeaders||n.panel==e.cells&&-1==n.row){var r=e.columns[n.col],s=e._getBindingColumn(n.panel,n.row,r);return this._divEdt&&this._edtCol==s?(this.closeEditor(),e.focus()):setTimeout(function(){i.editColumnFilter(s,n)},this._divEdt?100:0),!0}}else this.closeEditor();return!1},o.prototype._keydown=function(t){var i,e;t.defaultPrevented||t.ctrlKey||!t.altKey||t.keyCode!=lc.Key.Down&&t.keyCode!=lc.Key.Up||(e=-1<(i=this.grid.selection).col?this.grid.columns[i.col]:null)&&!e.dataMap&&this.getColumnFilter(e,!0)&&(this.editColumnFilter(e),t.preventDefault(),t.stopPropagation())},o._WJC_FILTER="wj-elem-filter",o);function o(t,i){this._showIcons=!0,this._showSort=!0,this._defFilterType=h.Both,this.filterApplied=new lc.Event,this.filterChanging=new lc.Event,this.filterChanged=new lc.Event;var e="Missing dependency: FlexGridFilter requires ";lc.assert(null!=lc.grid,e+"wijmo.grid."),lc.assert(null!=lc.input,e+"wijmo.input."),this._filters=[],this._g=lc.asType(t,fc.FlexGrid,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var n=this._g.hostElement;t.addEventListener(n,"mousedown",this._mousedown.bind(this),!0),t.addEventListener(n,"click",this._click.bind(this),!0),t.addEventListener(n,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),i&&lc.copy(this,i)}w.FlexGridFilter=i}((fc=lc.grid||(lc.grid={})).filter||(fc.filter={})),function(t){var i=(e.CreateProp=function(t,i,e,n,r,s){return new a(t,i,e,n,r,s)},e.CreateEvent=function(t,i){return new c(t,i)},e.CreateComplexProp=function(t,i,e){return new l(t,i,e)},e.findProp=function(t,i){return this.findInArr(i,"propertyName",t)},e.findEvent=function(t,i){return this.findInArr(i,"eventName",t)},e.findComplexProp=function(t,i){return this.findInArr(i,"propertyName",t)},e.getMetaData=function(t){switch(t){case gc.Control:return new d([this.CreateProp("isDisabled",r.Boolean)],[this.CreateEvent("gotFocus"),this.CreateEvent("lostFocus")]);case gc.input&&gc.input.DropDown:return this.getMetaData(gc.Control).add([this.CreateProp("isDroppedDown",r.Boolean,"isDroppedDownChanged"),this.CreateProp("showDropDownButton",r.Boolean),this.CreateProp("autoExpandSelection",r.Boolean),this.CreateProp("placeholder",r.String),this.CreateProp("dropDownCssClass",r.String),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("isRequired",r.Boolean),this.CreateProp("text",r.String,"textChanged",null,!0,1e3)],[this.CreateEvent("isDroppedDownChanging"),this.CreateEvent("isDroppedDownChanged",!0),this.CreateEvent("textChanged",!0)]);case gc.input&&gc.input.ComboBox:return this.getMetaData(gc.input.DropDown).add([this.CreateProp("displayMemberPath",r.String),this.CreateProp("selectedValuePath",r.String),this.CreateProp("headerPath",r.String),this.CreateProp("isContentHtml",r.Boolean),this.CreateProp("isEditable",r.Boolean),this.CreateProp("maxDropDownHeight",r.Number),this.CreateProp("maxDropDownWidth",r.Number),this.CreateProp("itemFormatter",r.Function),this.CreateProp("itemsSource",r.Any,"",null,!0,900),this.CreateProp("selectedIndex",r.Number,"selectedIndexChanged",null,!0,1e3),this.CreateProp("selectedItem",r.Any,"selectedIndexChanged",null,!0,1e3),this.CreateProp("selectedValue",r.Any,"selectedIndexChanged",null,!0,1e3)],[this.CreateEvent("formatItem"),this.CreateEvent("selectedIndexChanged",!0)]).addOptions({ngModelProperty:"selectedValue"});case gc.input&&gc.input.AutoComplete:return this.getMetaData(gc.input.ComboBox).add([this.CreateProp("delay",r.Number),this.CreateProp("maxItems",r.Number),this.CreateProp("minLength",r.Number),this.CreateProp("cssMatch",r.String),this.CreateProp("itemsSourceFunction",r.Function),this.CreateProp("searchMemberPath",r.String)]);case gc.input&&gc.input.Calendar:return this.getMetaData(gc.Control).add([this.CreateProp("monthView",r.Boolean),this.CreateProp("showHeader",r.Boolean),this.CreateProp("itemFormatter",r.Function),this.CreateProp("itemValidator",r.Function),this.CreateProp("firstDayOfWeek",r.Number),this.CreateProp("max",r.Date),this.CreateProp("min",r.Date),this.CreateProp("formatYearMonth",r.String),this.CreateProp("formatDayHeaders",r.String),this.CreateProp("formatDays",r.String),this.CreateProp("formatYear",r.String),this.CreateProp("formatMonths",r.String),this.CreateProp("selectionMode",r.Enum,"",gc.input.DateSelectionMode),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("value",r.Date,"valueChanged"),this.CreateProp("displayMonth",r.Date,"displayMonthChanged")],[this.CreateEvent("valueChanged",!0),this.CreateEvent("displayMonthChanged",!0),this.CreateEvent("formatItem",!1)]).addOptions({ngModelProperty:"value"});case gc.input&&gc.input.ColorPicker:return this.getMetaData(gc.Control).add([this.CreateProp("showAlphaChannel",r.Boolean),this.CreateProp("showColorString",r.Boolean),this.CreateProp("palette",r.Any),this.CreateProp("value",r.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case gc.input&&gc.input.ListBox:return this.getMetaData(gc.Control).add([this.CreateProp("isContentHtml",r.Boolean),this.CreateProp("maxHeight",r.Number),this.CreateProp("selectedValuePath",r.String),this.CreateProp("itemFormatter",r.Function),this.CreateProp("displayMemberPath",r.String),this.CreateProp("checkedMemberPath",r.String),this.CreateProp("itemsSource",r.Any),this.CreateProp("selectedIndex",r.Number,"selectedIndexChanged"),this.CreateProp("selectedItem",r.Any,"selectedIndexChanged"),this.CreateProp("selectedValue",r.Any,"selectedIndexChanged"),this.CreateProp("checkedItems",r.Any,"checkedItemsChanged")],[this.CreateEvent("formatItem",!1),this.CreateEvent("itemsChanged",!0),this.CreateEvent("itemChecked",!0),this.CreateEvent("selectedIndexChanged",!0),this.CreateEvent("checkedItemsChanged",!0)]).addOptions({ngModelProperty:"selectedValue"});case"ItemTemplate":return new d([],[],[],void 0,void 0,void 0,"owner");case gc.input&&gc.input.Menu:return this.getMetaData(gc.input.ComboBox).add([this.CreateProp("header",r.String),this.CreateProp("commandParameterPath",r.String),this.CreateProp("commandPath",r.String),this.CreateProp("isButton",r.Boolean),this.CreateProp("value",r.Any,"itemClicked",null,!1,1e3)],[this.CreateEvent("itemClicked")]);case"MenuItem":return new d([this.CreateProp("value",r.Any,""),this.CreateProp("cmd",r.Any,""),this.CreateProp("cmdParam",r.Any,"")],[],[],"itemsSource",!0);case"MenuSeparator":return new d([],[],[],"itemsSource",!0);case gc.input&&gc.input.InputDate:return this.getMetaData(gc.input.DropDown).add([this.CreateProp("selectionMode",r.Enum,"",gc.input.DateSelectionMode),this.CreateProp("format",r.String),this.CreateProp("mask",r.String),this.CreateProp("max",r.Date),this.CreateProp("min",r.Date),this.CreateProp("inputType",r.String),this.CreateProp("value",r.Date,"valueChanged",null,!0,1e3),this.CreateProp("itemValidator",r.Function),this.CreateProp("itemFormatter",r.Function)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case gc.input&&gc.input.InputDateTime:return this.getMetaData(gc.input.InputDate).add([this.CreateProp("timeMax",r.Date),this.CreateProp("timeMin",r.Date),this.CreateProp("timeStep",r.Number),this.CreateProp("timeFormat",r.String)]).addOptions({ngModelProperty:"value"});case gc.input&&gc.input.InputNumber:return this.getMetaData(gc.Control).add([this.CreateProp("showSpinner",r.Boolean),this.CreateProp("repeatButtons",r.Boolean),this.CreateProp("max",r.Number),this.CreateProp("min",r.Number),this.CreateProp("step",r.Number),this.CreateProp("isRequired",r.Boolean),this.CreateProp("placeholder",r.String),this.CreateProp("inputType",r.String),this.CreateProp("format",r.String),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("value",r.Number,"valueChanged"),this.CreateProp("text",r.String,"textChanged")],[this.CreateEvent("valueChanged",!0),this.CreateEvent("textChanged",!0)]).addOptions({ngModelProperty:"value"});case gc.input&&gc.input.InputMask:return this.getMetaData(gc.Control).add([this.CreateProp("mask",r.String),this.CreateProp("isRequired",r.Boolean),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("promptChar",r.String),this.CreateProp("placeholder",r.String),this.CreateProp("rawValue",r.String,"valueChanged"),this.CreateProp("value",r.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case gc.input&&gc.input.InputTime:return this.getMetaData(gc.input.ComboBox).add([this.CreateProp("max",r.Date),this.CreateProp("min",r.Date),this.CreateProp("step",r.Number),this.CreateProp("format",r.String),this.CreateProp("mask",r.String),this.CreateProp("inputType",r.String),this.CreateProp("value",r.Date,"valueChanged",null,!0,1e3)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case gc.input&&gc.input.InputColor:return this.getMetaData(gc.input.DropDown).add([this.CreateProp("showAlphaChannel",r.Boolean),this.CreateProp("value",r.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case gc.input&&gc.input.Popup:return this.getMetaData(gc.Control).add([this.CreateProp("owner",r.String),this.CreateProp("showTrigger",r.Enum,"",gc.input.PopupTrigger),this.CreateProp("hideTrigger",r.Enum,"",gc.input.PopupTrigger),this.CreateProp("fadeIn",r.Boolean),this.CreateProp("fadeOut",r.Boolean),this.CreateProp("isDraggable",r.Boolean),this.CreateProp("dialogResultEnter",r.String),this.CreateProp("modal",r.Boolean),this.CreateProp("removeOnHide",r.Boolean)],[this.CreateEvent("showing"),this.CreateEvent("shown"),this.CreateEvent("hiding"),this.CreateEvent("hidden")]);case gc.input&&gc.input.MultiSelect:return this.getMetaData(gc.input.ComboBox).add([this.CreateProp("checkedMemberPath",r.String),this.CreateProp("maxHeaderItems",r.Number),this.CreateProp("headerFormat",r.String),this.CreateProp("headerFormatter",r.Function),this.CreateProp("showSelectAllCheckbox",r.Boolean),this.CreateProp("selectAllLabel",r.String),this.CreateProp("checkedItems",r.Any,"checkedItemsChanged",n.TwoWay,!0,950)],[this.CreateEvent("checkedItemsChanged",!0)]).addOptions({ngModelProperty:"checkedItems"});case"CollectionViewNavigator":case"CollectionViewPager":return new d([this.CreateProp("cv",r.Any)]);case gc.input&&gc.input.MultiAutoComplete:return this.getMetaData(gc.input.AutoComplete).add([this.CreateProp("maxSelectedItems",r.Number),this.CreateProp("selectedMemberPath",r.String,"",null,!0,950),this.CreateProp("selectedItems",r.Any,"selectedItemsChanged")],[this.CreateEvent("selectedItemsChanged",!0)]).addOptions({ngModelProperty:"selectedItems"});case gc.grid&&gc.grid.FlexGrid:return this.getMetaData(gc.Control).add([this.CreateProp("newRowAtTop",r.Boolean),this.CreateProp("allowAddNew",r.Boolean),this.CreateProp("allowDelete",r.Boolean),this.CreateProp("allowDragging",r.Enum,"",gc.grid.AllowDragging),this.CreateProp("allowMerging",r.Enum,"",gc.grid.AllowMerging),this.CreateProp("allowResizing",r.Enum,"",gc.grid.AllowResizing),this.CreateProp("allowSorting",r.Boolean),this.CreateProp("quickAutoSize",r.Boolean),this.CreateProp("autoScroll",r.Boolean),this.CreateProp("autoSizeMode",r.Enum,"",gc.grid.AutoSizeMode),this.CreateProp("autoGenerateColumns",r.Boolean),this.CreateProp("childItemsPath",r.Any),this.CreateProp("groupHeaderFormat",r.String),this.CreateProp("headersVisibility",r.Enum,"",gc.grid.HeadersVisibility),this.CreateProp("showSelectedHeaders",r.Enum,"",gc.grid.HeadersVisibility),this.CreateProp("showMarquee",r.Boolean),this.CreateProp("itemFormatter",r.Function),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("imeEnabled",r.Boolean),this.CreateProp("mergeManager",r.Any),this.CreateProp("selectionMode",r.Enum,"",gc.grid.SelectionMode),this.CreateProp("showGroups",r.Boolean),this.CreateProp("showSort",r.Boolean),this.CreateProp("showDropDown",r.Boolean),this.CreateProp("showAlternatingRows",r.Boolean),this.CreateProp("showErrors",r.Boolean),this.CreateProp("validateEdits",r.Boolean),this.CreateProp("treeIndent",r.Number),this.CreateProp("itemsSource",r.Any),this.CreateProp("autoClipboard",r.Boolean),this.CreateProp("frozenRows",r.Number),this.CreateProp("frozenColumns",r.Number),this.CreateProp("cloneFrozenCells",r.Boolean),this.CreateProp("deferResizing",r.Boolean),this.CreateProp("sortRowIndex",r.Number),this.CreateProp("stickyHeaders",r.Boolean),this.CreateProp("preserveSelectedState",r.Boolean),this.CreateProp("preserveOutlineState",r.Boolean),this.CreateProp("keyActionTab",r.Enum,"",gc.grid.KeyAction),this.CreateProp("keyActionEnter",r.Enum,"",gc.grid.KeyAction),this.CreateProp("rowHeaderPath",r.String),this.CreateProp("virtualizationThreshold",r.Number)],[this.CreateEvent("beginningEdit"),this.CreateEvent("cellEditEnded"),this.CreateEvent("cellEditEnding"),this.CreateEvent("prepareCellForEdit"),this.CreateEvent("formatItem"),this.CreateEvent("resizingColumn"),this.CreateEvent("resizedColumn"),this.CreateEvent("autoSizingColumn"),this.CreateEvent("autoSizedColumn"),this.CreateEvent("draggingColumn"),this.CreateEvent("draggingColumnOver"),this.CreateEvent("draggedColumn"),this.CreateEvent("sortingColumn"),this.CreateEvent("sortedColumn"),this.CreateEvent("resizingRow"),this.CreateEvent("resizedRow"),this.CreateEvent("autoSizingRow"),this.CreateEvent("autoSizedRow"),this.CreateEvent("draggingRow"),this.CreateEvent("draggingRowOver"),this.CreateEvent("draggedRow"),this.CreateEvent("deletingRow"),this.CreateEvent("deletedRow"),this.CreateEvent("loadingRows"),this.CreateEvent("loadedRows"),this.CreateEvent("rowEditStarting"),this.CreateEvent("rowEditStarted"),this.CreateEvent("rowEditEnding"),this.CreateEvent("rowEditEnded"),this.CreateEvent("rowAdded"),this.CreateEvent("groupCollapsedChanged"),this.CreateEvent("groupCollapsedChanging"),this.CreateEvent("itemsSourceChanged",!0),this.CreateEvent("selectionChanging"),this.CreateEvent("selectionChanged",!0),this.CreateEvent("scrollPositionChanged",!1),this.CreateEvent("updatingView"),this.CreateEvent("updatedView"),this.CreateEvent("updatingLayout"),this.CreateEvent("updatedLayout"),this.CreateEvent("pasting"),this.CreateEvent("pasted"),this.CreateEvent("pastingCell"),this.CreateEvent("pastedCell"),this.CreateEvent("copying"),this.CreateEvent("copied")]);case gc.grid&&gc.grid.Column:return new d([this.CreateProp("name",r.String),this.CreateProp("dataMap",r.Any),this.CreateProp("dataType",r.Enum,"",gc.DataType),this.CreateProp("binding",r.String),this.CreateProp("sortMemberPath",r.String),this.CreateProp("format",r.String),this.CreateProp("header",r.String),this.CreateProp("width",r.Number),this.CreateProp("maxLength",r.Number),this.CreateProp("minWidth",r.Number),this.CreateProp("maxWidth",r.Number),this.CreateProp("align",r.String),this.CreateProp("allowDragging",r.Boolean),this.CreateProp("allowSorting",r.Boolean),this.CreateProp("allowResizing",r.Boolean),this.CreateProp("allowMerging",r.Boolean),this.CreateProp("aggregate",r.Enum,"",gc.Aggregate),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("cssClass",r.String),this.CreateProp("isContentHtml",r.Boolean),this.CreateProp("isSelected",r.Boolean,"grid.selectionChanged"),this.CreateProp("visible",r.Boolean),this.CreateProp("wordWrap",r.Boolean),this.CreateProp("multiLine",r.Boolean),this.CreateProp("mask",r.String),this.CreateProp("inputType",r.String),this.CreateProp("isRequired",r.Boolean),this.CreateProp("showDropDown",r.Boolean),this.CreateProp("dropDownCssClass",r.String),this.CreateProp("quickAutoSize",r.Boolean)],[],[],"columns",!0);case"FlexGridCellTemplate":return new d([this.CreateProp("cellType",r.String,"",null,!1),this.CreateProp("cellOverflow",r.String,""),this.CreateProp("forceFullEdit",r.Boolean)],[],[],void 0,void 0,void 0,"owner");case gc.grid&&gc.grid.filter&&gc.grid.filter.FlexGridFilter:return new d([this.CreateProp("showFilterIcons",r.Boolean),this.CreateProp("showSortButtons",r.Boolean),this.CreateProp("defaultFilterType",r.Enum,"",gc.grid.filter.FilterType),this.CreateProp("filterColumns",r.Any)],[this.CreateEvent("filterChanging"),this.CreateEvent("filterChanged"),this.CreateEvent("filterApplied")],[],void 0,void 0,void 0,"");case gc.grid&&gc.grid.grouppanel&&gc.grid.grouppanel.GroupPanel:return this.getMetaData(gc.Control).add([this.CreateProp("hideGroupedColumns",r.Boolean),this.CreateProp("maxGroups",r.Number),this.CreateProp("placeholder",r.String),this.CreateProp("grid",r.Any)]);case gc.grid&&gc.grid.detail&&gc.grid.detail.FlexGridDetailProvider:return new d([this.CreateProp("maxHeight",r.Number),this.CreateProp("detailVisibilityMode",r.Enum,"",gc.grid.detail.DetailVisibilityMode),this.CreateProp("rowHasDetail",r.Function),this.CreateProp("isAnimated",r.Boolean)],[],[],void 0,void 0,void 0,"");case gc.grid&&gc.grid.sheet&&gc.grid.sheet.FlexSheet:return this.getMetaData(gc.grid.FlexGrid).add([this.CreateProp("isTabHolderVisible",r.Boolean),this.CreateProp("selectedSheetIndex",r.Number,"selectedSheetChanged")],[this.CreateEvent("selectedSheetChanged",!0),this.CreateEvent("draggingRowColumn"),this.CreateEvent("droppingRowColumn"),this.CreateEvent("loaded"),this.CreateEvent("unknownFunction"),this.CreateEvent("sheetCleared")]);case gc.grid&&gc.grid.sheet&&gc.grid.sheet.Sheet:return new d([this.CreateProp("name",r.String),this.CreateProp("itemsSource",r.Any),this.CreateProp("visible",r.Boolean),this.CreateProp("rowCount",r.Number,"",null,!1),this.CreateProp("columnCount",r.Number,"",null,!1)],[this.CreateEvent("nameChanged")]).addOptions({parentReferenceProperty:""});case gc.grid&&gc.grid.multirow&&gc.grid.multirow.MultiRow:return this.getMetaData(gc.grid.FlexGrid).add([this.CreateProp("layoutDefinition",r.Any),this.CreateProp("centerHeadersVertically",r.Boolean),this.CreateProp("collapsedHeaders",r.Boolean),this.CreateProp("showHeaderCollapseButton",r.Boolean)]);case gc.chart&&gc.chart.FlexChartBase:return this.getMetaData(gc.Control).add([this.CreateProp("binding",r.String),this.CreateProp("footer",r.String),this.CreateProp("header",r.String),this.CreateProp("selectionMode",r.Enum,"",gc.chart.SelectionMode),this.CreateProp("palette",r.Any),this.CreateProp("plotMargin",r.Any),this.CreateProp("footerStyle",r.Any),this.CreateProp("headerStyle",r.Any),this.CreateProp("tooltipContent",r.String,"",null,!1),this.CreateProp("itemsSource",r.Any)],[this.CreateEvent("rendering"),this.CreateEvent("rendered"),this.CreateEvent("selectionChanged",!0)]);case gc.chart&&gc.chart.FlexChartCore:return this.getMetaData(gc.chart.FlexChartBase).add([this.CreateProp("bindingX",r.String),this.CreateProp("interpolateNulls",r.Boolean),this.CreateProp("legendToggle",r.Boolean),this.CreateProp("symbolSize",r.Number),this.CreateProp("options",r.Any),this.CreateProp("selection",r.Any,"selectionChanged"),this.CreateProp("itemFormatter",r.Function),this.CreateProp("labelContent",r.String,"",null,!1)],[this.CreateEvent("seriesVisibilityChanged")],[this.CreateComplexProp("axisX",!1,!1),this.CreateComplexProp("axisY",!1,!1),this.CreateComplexProp("axes",!0),this.CreateComplexProp("plotAreas",!0)]);case gc.chart&&gc.chart.FlexChart:return this.getMetaData(gc.chart.FlexChartCore).add([this.CreateProp("chartType",r.Enum,"",gc.chart.ChartType),this.CreateProp("rotated",r.Boolean),this.CreateProp("stacking",r.Enum,"",gc.chart.Stacking)]);case gc.chart&&gc.chart.FlexPie:return this.getMetaData(gc.chart.FlexChartBase).add([this.CreateProp("bindingName",r.String),this.CreateProp("innerRadius",r.Number),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("offset",r.Number),this.CreateProp("reversed",r.Boolean),this.CreateProp("startAngle",r.Number),this.CreateProp("selectedIndex",r.Number),this.CreateProp("selectedItemPosition",r.Enum,"",gc.chart.Position),this.CreateProp("selectedItemOffset",r.Number),this.CreateProp("itemFormatter",r.Function),this.CreateProp("labelContent",r.String,"",null,!1)]);case gc.chart&&gc.chart.FlexPie&&gc.chart.hierarchical&&gc.chart.hierarchical.Sunburst:return this.getMetaData(gc.chart.FlexChartBase).add([this.CreateProp("bindingName",r.Any),this.CreateProp("innerRadius",r.Number),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("offset",r.Number),this.CreateProp("reversed",r.Boolean),this.CreateProp("startAngle",r.Number),this.CreateProp("selectedIndex",r.Number),this.CreateProp("selectedItemPosition",r.Enum,"",gc.chart.Position),this.CreateProp("selectedItemOffset",r.Number),this.CreateProp("itemFormatter",r.Function),this.CreateProp("labelContent",r.String,"",null,!1),this.CreateProp("childItemsPath",r.Any)]);case gc.chart&&gc.chart.hierarchical&&gc.chart.hierarchical.TreeMap:return this.getMetaData(gc.chart.FlexChartBase).add([this.CreateProp("bindingName",r.Any),this.CreateProp("maxDepth",r.Number),this.CreateProp("type",r.Enum,"",gc.chart.hierarchical.TreeMapType),this.CreateProp("labelContent",r.String,"",null,!1),this.CreateProp("childItemsPath",r.Any)]);case gc.chart&&gc.chart.Axis:return new d([this.CreateProp("axisLine",r.Boolean),this.CreateProp("format",r.String),this.CreateProp("labels",r.Boolean),this.CreateProp("majorGrid",r.Boolean),this.CreateProp("majorTickMarks",r.Enum,"",gc.chart.TickMark),this.CreateProp("majorUnit",r.Number),this.CreateProp("max",r.Number),this.CreateProp("min",r.Number),this.CreateProp("position",r.Enum,"",gc.chart.Position),this.CreateProp("reversed",r.Boolean),this.CreateProp("title",r.String),this.CreateProp("labelAngle",r.Number),this.CreateProp("minorGrid",r.Boolean),this.CreateProp("minorTickMarks",r.Enum,"",gc.chart.TickMark),this.CreateProp("minorUnit",r.Number),this.CreateProp("origin",r.Number),this.CreateProp("logBase",r.Number),this.CreateProp("plotArea",r.Any),this.CreateProp("labelAlign",r.String),this.CreateProp("name",r.String),this.CreateProp("overlappingLabels",r.Enum,"",gc.chart.OverlappingLabels),this.CreateProp("labelPadding",r.Number),this.CreateProp("itemFormatter",r.Function),this.CreateProp("itemsSource",r.Any),this.CreateProp("binding",r.String)],[this.CreateEvent("rangeChanged")],[],"axes",!0);case gc.chart&&gc.chart.Legend:return new d([this.CreateProp("position",r.Enum,"",gc.chart.Position),this.CreateProp("title",r.String),this.CreateProp("titleAlign",r.String)],[],[],"legend",!1,!1,"");case gc.chart&&gc.chart.DataLabelBase:return new d([this.CreateProp("content",r.Any,""),this.CreateProp("border",r.Boolean),this.CreateProp("offset",r.Number),this.CreateProp("connectingLine",r.Boolean)],[this.CreateEvent("rendering")],[],"dataLabel",!1,!1);case gc.chart&&gc.chart.DataLabel:return this.getMetaData(gc.chart.DataLabelBase).add([this.CreateProp("position",r.Enum,"",gc.chart.LabelPosition)]);case gc.chart&&gc.chart.PieDataLabel:return this.getMetaData(gc.chart.DataLabelBase).add([this.CreateProp("position",r.Enum,"",gc.chart.PieLabelPosition)]);case gc.chart&&gc.chart.SeriesBase:return new d([this.CreateProp("axisX",r.Any),this.CreateProp("axisY",r.Any),this.CreateProp("binding",r.String),this.CreateProp("bindingX",r.String),this.CreateProp("cssClass",r.String),this.CreateProp("name",r.String),this.CreateProp("style",r.Any),this.CreateProp("altStyle",r.Any),this.CreateProp("symbolMarker",r.Enum,"",gc.chart.Marker),this.CreateProp("symbolSize",r.Number),this.CreateProp("symbolStyle",r.Any),this.CreateProp("visibility",r.Enum,"chart.seriesVisibilityChanged",gc.chart.SeriesVisibility),this.CreateProp("itemsSource",r.Any)],[this.CreateEvent("rendering"),this.CreateEvent("rendered")],[this.CreateComplexProp("axisX",!1,!0),this.CreateComplexProp("axisY",!1,!0)],"series",!0);case gc.chart&&gc.chart.Series:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("chartType",r.Enum,"",gc.chart.ChartType)]);case gc.chart&&gc.chart.LineMarker:return new d([this.CreateProp("isVisible",r.Boolean),this.CreateProp("seriesIndex",r.Number),this.CreateProp("horizontalPosition",r.Number),this.CreateProp("content",r.Function),this.CreateProp("verticalPosition",r.Number),this.CreateProp("alignment",r.Enum,"",gc.chart.LineMarkerAlignment),this.CreateProp("lines",r.Enum,"",gc.chart.LineMarkerLines),this.CreateProp("interaction",r.Enum,"",gc.chart.LineMarkerInteraction),this.CreateProp("dragLines",r.Boolean),this.CreateProp("dragThreshold",r.Number),this.CreateProp("dragContent",r.Boolean)],[this.CreateEvent("positionChanged")],[],void 0,void 0,void 0,"");case gc.chart&&gc.chart.DataPoint:return new d([this.CreateProp("x",r.AnyPrimitive),this.CreateProp("y",r.AnyPrimitive)],[],[],"");case gc.chart&&gc.chart.annotation&&gc.chart.annotation.AnnotationLayer:return new d([],[],[],void 0,void 0,void 0,"");case"FlexChartAnnotation":return new d([this.CreateProp("type",r.String,"",null,!1),this.CreateProp("attachment",r.Enum,"",gc.chart.annotation.AnnotationAttachment),this.CreateProp("position",r.Enum,"",gc.chart.annotation.AnnotationPosition),this.CreateProp("point",r.Any),this.CreateProp("seriesIndex",r.Number),this.CreateProp("pointIndex",r.Number),this.CreateProp("offset",r.Any),this.CreateProp("style",r.Any),this.CreateProp("isVisible",r.Boolean),this.CreateProp("tooltip",r.String),this.CreateProp("text",r.String),this.CreateProp("content",r.String),this.CreateProp("name",r.String),this.CreateProp("width",r.Number),this.CreateProp("height",r.Number),this.CreateProp("start",r.Any),this.CreateProp("end",r.Any),this.CreateProp("radius",r.Number),this.CreateProp("length",r.Number),this.CreateProp("href",r.String)],[],[this.CreateComplexProp("point",!1,!0),this.CreateComplexProp("start",!1,!0),this.CreateComplexProp("end",!1,!0),this.CreateComplexProp("points",!0)],"items",!0);case gc.chart&&gc.chart.interaction&&gc.chart.interaction.RangeSelector:return new d([this.CreateProp("isVisible",r.Boolean),this.CreateProp("min",r.Number),this.CreateProp("max",r.Number),this.CreateProp("orientation",r.Enum,"",gc.chart.interaction.Orientation),this.CreateProp("seamless",r.Boolean),this.CreateProp("minScale",r.Number),this.CreateProp("maxScale",r.Number)],[this.CreateEvent("rangeChanged")],[],void 0,void 0,void 0,"");case gc.chart&&gc.chart.interaction&&gc.chart.interaction.ChartGestures:return new d([this.CreateProp("mouseAction",r.Enum,"",gc.chart.interaction.MouseAction),this.CreateProp("interactiveAxes",r.Enum,"",gc.chart.interaction.InteractiveAxes),this.CreateProp("enable",r.Boolean),this.CreateProp("scaleX",r.Number),this.CreateProp("scaleY",r.Number),this.CreateProp("posX",r.Number),this.CreateProp("posY",r.Number)],[],[],void 0,void 0,void 0,"");case gc.chart&&gc.chart.animation&&gc.chart.animation.ChartAnimation:return new d([this.CreateProp("animationMode",r.Enum,"",gc.chart.animation.AnimationMode),this.CreateProp("easing",r.Enum,"",gc.chart.animation.Easing),this.CreateProp("duration",r.Number),this.CreateProp("axisAnimation",r.Boolean)],[],[],void 0,void 0,void 0,"");case gc.chart&&gc.chart.finance&&gc.chart.finance.FinancialChart:return this.getMetaData(gc.chart.FlexChartCore).add([this.CreateProp("chartType",r.Enum,"",gc.chart.finance.FinancialChartType)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.FinancialSeries:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("chartType",r.Enum,"",gc.chart.finance.FinancialChartType)]);case gc.chart&&gc.chart.radar&&gc.chart.radar.FlexRadar:return this.getMetaData(gc.chart.FlexChartCore).add([this.CreateProp("chartType",r.Enum,"",gc.chart.radar.RadarChartType),this.CreateProp("startAngle",r.Number),this.CreateProp("totalAngle",r.Number),this.CreateProp("reversed",r.Boolean),this.CreateProp("stacking",r.Enum,"",gc.chart.Stacking)]);case gc.chart&&gc.chart.radar&&gc.chart.radar.FlexRadarSeries:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("chartType",r.Enum,"",gc.chart.radar.RadarChartType)]);case gc.chart&&gc.chart.radar&&gc.chart.radar.FlexRadarAxis:return this.getMetaData(gc.chart.Axis);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.TrendLineBase:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("sampleCount",r.Number)]);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.TrendLine:return this.getMetaData(gc.chart.analytics.TrendLineBase).add([this.CreateProp("order",r.Number),this.CreateProp("fitType",r.Enum,"",gc.chart.analytics.TrendLineFitType)]);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.MovingAverage:return this.getMetaData(gc.chart.analytics.TrendLineBase).add([this.CreateProp("period",r.Number),this.CreateProp("type",r.Enum,"",gc.chart.analytics.MovingAverageType)]);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.FunctionSeries:return this.getMetaData(gc.chart.analytics.TrendLineBase).add([this.CreateProp("min",r.Number),this.CreateProp("max",r.Number)]);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.YFunctionSeries:return this.getMetaData(gc.chart.analytics.FunctionSeries).add([this.CreateProp("func",r.Function)]);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.ParametricFunctionSeries:return this.getMetaData(gc.chart.analytics.FunctionSeries).add([this.CreateProp("func",r.Function),this.CreateProp("xFunc",r.Function),this.CreateProp("yFunc",r.Function)]);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.Waterfall:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("relativeData",r.Boolean),this.CreateProp("start",r.Number),this.CreateProp("startLabel",r.String),this.CreateProp("showTotal",r.Boolean),this.CreateProp("totalLabel",r.String),this.CreateProp("showIntermediateTotal",r.Boolean),this.CreateProp("intermediateTotalPositions",r.Any),this.CreateProp("intermediateTotalLabels",r.Any),this.CreateProp("connectorLines",r.Boolean),this.CreateProp("styles",r.Any)]);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.BoxWhisker:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("quartileCalculation",r.Enum,"",gc.chart.analytics.QuartileCalculation),this.CreateProp("groupWidth",r.Number),this.CreateProp("gapWidth",r.Number),this.CreateProp("showMeanLine",r.Boolean),this.CreateProp("meanLineStyle",r.Any),this.CreateProp("showMeanMarker",r.Boolean),this.CreateProp("meanMarkerStyle",r.Any),this.CreateProp("showInnerPoints",r.Boolean),this.CreateProp("showOutliers",r.Boolean)]);case gc.chart&&gc.chart.analytics&&gc.chart.analytics.ErrorBar:return this.getMetaData(gc.chart.Series).add([this.CreateProp("errorBarStyle",r.Any),this.CreateProp("value",r.Any),this.CreateProp("errorAmount",r.Enum,"",gc.chart.analytics.ErrorAmount),this.CreateProp("endStyle",r.Enum,"",gc.chart.analytics.ErrorBarEndStyle),this.CreateProp("direction",r.Enum,"",gc.chart.analytics.ErrorBarDirection)]);case gc.chart&&gc.chart.PlotArea:return new d([this.CreateProp("column",r.Number),this.CreateProp("height",r.String),this.CreateProp("name",r.String),this.CreateProp("row",r.Number),this.CreateProp("style",r.Any),this.CreateProp("width",r.String)],[],[],"plotAreas",!0);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.Fibonacci:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("high",r.Number),this.CreateProp("low",r.Number),this.CreateProp("labelPosition",r.Enum,"",gc.chart.LabelPosition),this.CreateProp("levels",r.Any),this.CreateProp("minX",r.AnyPrimitive),this.CreateProp("maxX",r.AnyPrimitive),this.CreateProp("uptrend",r.Boolean)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.FibonacciTimeZones:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("startX",r.Any),this.CreateProp("endX",r.Any),this.CreateProp("labelPosition",r.Enum,"",gc.chart.LabelPosition),this.CreateProp("levels",r.Any)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.FibonacciArcs:case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.FibonacciFans:return this.getMetaData(gc.chart.SeriesBase).add([this.CreateProp("start",r.Any),this.CreateProp("end",r.Any),this.CreateProp("labelPosition",r.Enum,"",gc.chart.LabelPosition),this.CreateProp("levels",r.Any)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.OverlayIndicatorBase:return this.getMetaData(gc.chart.SeriesBase);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.SingleOverlayIndicatorBase:return this.getMetaData(gc.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",r.Number)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.MacdBase:return this.getMetaData(gc.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("fastPeriod",r.Number),this.CreateProp("slowPeriod",r.Number),this.CreateProp("smoothingPeriod",r.Number)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.Macd:return this.getMetaData(gc.chart.finance.analytics.MacdBase).add([this.CreateProp("styles",r.Any)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.MacdHistogram:return this.getMetaData(gc.chart.finance.analytics.MacdBase);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.ATR:case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.RSI:case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.WilliamsR:return this.getMetaData(gc.chart.finance.analytics.SingleOverlayIndicatorBase);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.CCI:return this.getMetaData(gc.chart.finance.analytics.SingleOverlayIndicatorBase).add([this.CreateProp("constant",r.Number)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.Stochastic:return this.getMetaData(gc.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("dPeriod",r.Number),this.CreateProp("kPeriod",r.Number),this.CreateProp("smoothingPeriod",r.Number),this.CreateProp("styles",r.Any)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.Envelopes:return this.getMetaData(gc.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",r.Number),this.CreateProp("size",r.Number),this.CreateProp("type",r.Enum,"",gc.chart.finance.analytics.MovingAverageType)]);case gc.chart&&gc.chart.finance&&gc.chart.finance.analytics&&gc.chart.finance.analytics.BollingerBands:return this.getMetaData(gc.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",r.Number),this.CreateProp("multiplier",r.Number)]);case gc.gauge&&gc.gauge.Gauge:return this.getMetaData(gc.Control).add([this.CreateProp("value",r.Number,"valueChanged"),this.CreateProp("min",r.Number),this.CreateProp("max",r.Number),this.CreateProp("origin",r.Number),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("step",r.Number),this.CreateProp("format",r.String),this.CreateProp("thickness",r.Number),this.CreateProp("hasShadow",r.Boolean),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("showText",r.Enum,"",gc.gauge.ShowText),this.CreateProp("showTicks",r.Boolean),this.CreateProp("showRanges",r.Boolean),this.CreateProp("thumbSize",r.Number),this.CreateProp("tickSpacing",r.Number),this.CreateProp("getText",r.Function)],[this.CreateEvent("valueChanged",!0)],[this.CreateComplexProp("ranges",!0),this.CreateComplexProp("pointer",!1,!1),this.CreateComplexProp("face",!1,!1)]).addOptions({ngModelProperty:"value"});case gc.gauge&&gc.gauge.LinearGauge:return this.getMetaData(gc.gauge.Gauge).add([this.CreateProp("direction",r.Enum,"",gc.gauge.GaugeDirection)]);case gc.gauge&&gc.gauge.BulletGraph:return this.getMetaData(gc.gauge.LinearGauge).add([this.CreateProp("target",r.Number),this.CreateProp("good",r.Number),this.CreateProp("bad",r.Number)]);case gc.gauge&&gc.gauge.RadialGauge:return this.getMetaData(gc.gauge.Gauge).add([this.CreateProp("autoScale",r.Boolean),this.CreateProp("startAngle",r.Number),this.CreateProp("sweepAngle",r.Number)]);case gc.gauge&&gc.gauge.Range:return new d([this.CreateProp("color",r.String),this.CreateProp("min",r.Number),this.CreateProp("max",r.Number),this.CreateProp("name",r.String),this.CreateProp("thickness",r.Number)],[],[],"ranges",!0);case gc.olap&&gc.olap.PivotGrid:return this.getMetaData(gc.grid.FlexGrid).add([this.CreateProp("showDetailOnDoubleClick",r.Boolean),this.CreateProp("customContextMenu",r.Boolean),this.CreateProp("collapsibleSubtotals",r.Boolean),this.CreateProp("centerHeadersVertically",r.Boolean),this.CreateProp("showColumnFieldHeaders",r.Boolean),this.CreateProp("showRowFieldHeaders",r.Boolean)]);case gc.olap&&gc.olap.PivotChart:return this.getMetaData(gc.Control).add([this.CreateProp("chartType",r.Enum,"",gc.olap.PivotChartType),this.CreateProp("showHierarchicalAxes",r.Boolean),this.CreateProp("showTotals",r.Boolean),this.CreateProp("showTitle",r.Boolean),this.CreateProp("showLegend",r.Enum,"",gc.olap.LegendVisibility),this.CreateProp("legendPosition",r.Enum,"",gc.chart.Position),this.CreateProp("stacking",r.Enum,"",gc.chart.Stacking),this.CreateProp("maxSeries",r.Number),this.CreateProp("maxPoints",r.Number),this.CreateProp("itemsSource",r.Any),this.CreateProp("header",r.String),this.CreateProp("footer",r.String),this.CreateProp("headerStyle",r.Any),this.CreateProp("footerStyle",r.Any)]);case gc.olap&&gc.olap.PivotPanel:return this.getMetaData(gc.Control).add([this.CreateProp("autoGenerateFields",r.Boolean),this.CreateProp("viewDefinition",r.String),this.CreateProp("engine",r.Any),this.CreateProp("itemsSource",r.Any),this.CreateProp("showFieldIcons",r.Boolean),this.CreateProp("restrictDragging",r.Boolean)],[this.CreateEvent("itemsSourceChanged"),this.CreateEvent("viewDefinitionChanged"),this.CreateEvent("updatingView"),this.CreateEvent("updatedView")]);case gc.olap&&gc.olap.PivotField:return new d([this.CreateProp("binding",r.String),this.CreateProp("header",r.String),this.CreateProp("dataType",r.Enum,"",gc.DataType)],[],[],"",!0,!0,"");case gc.viewer&&gc.viewer.ViewerBase:return new d([this.CreateProp("serviceUrl",r.String),this.CreateProp("filePath",r.String),this.CreateProp("fullScreen",r.Boolean,"fullScreenChanged"),this.CreateProp("zoomFactor",r.Number,"zoomFactorChanged"),this.CreateProp("mouseMode",r.Enum,"mouseModeChanged",gc.viewer.MouseMode),this.CreateProp("selectMouseMode",r.Boolean,"selectMouseModeChanged"),this.CreateProp("viewMode",r.Enum,"viewModeChanged",gc.viewer.ViewMode),this.CreateProp("requestHeaders",r.Any)],[this.CreateEvent("pageIndexChanged"),this.CreateEvent("viewModeChanged"),this.CreateEvent("mouseModeChanged"),this.CreateEvent("selectMouseModeChanged"),this.CreateEvent("fullScreenChanged"),this.CreateEvent("zoomFactorChanged",!0),this.CreateEvent("queryLoadingData"),this.CreateEvent("beforeSendRequest")]);case gc.viewer&&gc.viewer.ReportViewer:return this.getMetaData(gc.viewer.ViewerBase).add([this.CreateProp("parameters",r.Any),this.CreateProp("paginated",r.Boolean),this.CreateProp("reportName",r.String)]);case gc.viewer&&gc.viewer.PdfViewer:return this.getMetaData(gc.viewer.ViewerBase);case gc.nav&&gc.nav.TreeView:return this.getMetaData(gc.Control).add([this.CreateProp("childItemsPath",r.Any),this.CreateProp("displayMemberPath",r.Any),this.CreateProp("imageMemberPath",r.Any),this.CreateProp("isContentHtml",r.Boolean),this.CreateProp("showCheckboxes",r.Boolean),this.CreateProp("autoCollapse",r.Boolean),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("allowDragging",r.Boolean),this.CreateProp("expandOnClick",r.Boolean),this.CreateProp("lazyLoadFunction",r.Function),this.CreateProp("itemsSource",r.Any),this.CreateProp("selectedItem",r.Any,"selectedItemChanged"),this.CreateProp("selectedNode",r.Any,"selectedItemChanged"),this.CreateProp("checkedItems",r.Any,"checkedItemsChanged")],[this.CreateEvent("itemsSourceChanged",!0),this.CreateEvent("loadingItems"),this.CreateEvent("loadedItems"),this.CreateEvent("itemClicked"),this.CreateEvent("selectedItemChanged"),this.CreateEvent("checkedItemsChanged",!0),this.CreateEvent("isCollapsedChanging"),this.CreateEvent("isCollapsedChanged"),this.CreateEvent("isCheckedChanging"),this.CreateEvent("isCheckedChanged"),this.CreateEvent("formatItem"),this.CreateEvent("dragStart"),this.CreateEvent("dragOver"),this.CreateEvent("drop"),this.CreateEvent("dragEnd"),this.CreateEvent("nodeEditStarting"),this.CreateEvent("nodeEditStarted"),this.CreateEvent("nodeEditEnding"),this.CreateEvent("nodeEditEnded")]);case gc.nav&&gc.nav.TabPanel:return this.getMetaData(gc.Control).add([this.CreateProp("isAnimated",r.Boolean),this.CreateProp("autoSwitch",r.Boolean),this.CreateProp("selectedIndex",r.Number,"selectedIndexChanged"),this.CreateProp("selectedTab",r.Any,"selectedIndexChanged")],[this.CreateEvent("selectedIndexChanged",!0)]);case gc.nav&&gc.nav.Tab:return new d([this.CreateProp("isDisabled",r.Boolean),this.CreateProp("isVisible",r.Boolean)],[],[],"tabs",!0)}return new d([])},e.getClassName=function(t){return(t.toString().match(/function (.+?)\(/)||[,""])[1]},e.toCamelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()})},e.findInArr=function(t,i,e){for(var n in t)if(t[n][i]===e)return t[n];return null},e);function e(){}t.ControlMetaFactory=i;var r,n,s,o,a=(Object.defineProperty(h.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"propertyType",{get:function(){return this._propertyType},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"changeEvent",{get:function(){return this._changeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"enumType",{get:function(){return this._enumType},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"bindingMode",{get:function(){return this.changeEvent?n.TwoWay:n.OneWay},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isNativeControlProperty",{get:function(){return this._isNativeControlProperty},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"shouldUpdateSource",{get:function(){return this.bindingMode===n.TwoWay&&this.propertyType!=r.EventHandler},enumerable:!0,configurable:!0}),h.prototype.initialize=function(t){gc.copy(this,t)},h.prototype.castValueToType=function(t){if(null==t)return t;var i=this.propertyType,e=r;if(i===e.AnyPrimitive){if(!gc.isString(t))return t;if("true"!==t&&"false"!==t){if(n=+t,!isNaN(n))return n;var n=this._parseDate(t);return gc.isString(n)?t:n}i=e.Boolean}switch(i){case e.Number:if("string"==typeof t){if(0<=t.indexOf("*"))return t;if(""===t.trim())return null}return+t;case e.Boolean:return"true"===t||"false"!==t&&!!t;case e.String:return t+"";case e.Date:return this._parseDate(t);case e.Enum:return"number"==typeof t?t:this.enumType[t];default:return t}},h.prototype._parseDate=function(t){if(t&&gc.isString(t)){t=t.replace(/["']/g,"");var i=gc.changeType(t,gc.DataType.Date,"r");if(gc.isDate(i))return i}return t},h);function h(t,i,e,n,r,s){void 0===r&&(r=!0),void 0===s&&(s=0),this._priority=0,this._propertyName=t,this._propertyType=i,this._changeEvent=e,this._enumType=n,this._isNativeControlProperty=r,this._priority=s}t.PropDescBase=a,(o=r=t.PropertyType||(t.PropertyType={}))[o.Boolean=0]="Boolean",o[o.Number=1]="Number",o[o.Date=2]="Date",o[o.String=3]="String",o[o.AnyPrimitive=4]="AnyPrimitive",o[o.Enum=5]="Enum",o[o.Function=6]="Function",o[o.EventHandler=7]="EventHandler",o[o.Any=8]="Any",t.isSimpleType=function(t){return t<=r.Enum},(s=n=t.BindingMode||(t.BindingMode={}))[s.OneWay=0]="OneWay",s[s.TwoWay=1]="TwoWay";var c=(Object.defineProperty(u.prototype,"eventName",{get:function(){return this._eventName},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isPropChanged",{get:function(){return!0===this._isPropChanged},enumerable:!0,configurable:!0}),u);function u(t,i){this._eventName=t,this._isPropChanged=i}t.EventDescBase=c;var l=(Object.defineProperty(f.prototype,"ownsObject",{get:function(){return this.isArray||this._ownsObject},enumerable:!0,configurable:!0}),f);function f(t,i,e){void 0===e&&(e=!1),this.isArray=!1,this._ownsObject=!1,this.propertyName=t,this.isArray=i,this._ownsObject=e}t.ComplexPropDescBase=l;var d=(Object.defineProperty(A.prototype,"props",{get:function(){return this._props},set:function(t){this._props=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"events",{get:function(){return this._events},set:function(t){this._events=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"complexProps",{get:function(){return this._complexProps},set:function(t){this._complexProps=t||[]},enumerable:!0,configurable:!0}),A.prototype.add=function(t,i,e,n,r,s,o,a){return this.addOptions({props:t,events:i,complexProps:e,parentProperty:n,isParentPropertyArray:r,ownsObject:s,parentReferenceProperty:o,ngModelProperty:a})},A.prototype.addOptions=function(t){for(var i in t){var e=this[i],n=t[i];e instanceof Array?this[i]=e.concat(n||[]):void 0!==n&&(this[i]=n)}return this},A.prototype.prepare=function(){var e=[].concat(this._props);this._props.sort(function(t,i){return t.priority-i.priority||e.indexOf(t)-e.indexOf(i)})},A);function A(t,i,e,n,r,s,o,a){this._props=[],this._events=[],this._complexProps=[],this.props=t,this.events=i,this.complexProps=e,this.parentProperty=n,this.isParentPropertyArray=r,this.ownsObject=s,this.parentReferenceProperty=o,this.ngModelProperty=a}t.MetaDataBase=d}((gc=ru||(window.wijmo=ru={})).meta||(gc.meta={}));var Bc,Cc,jc,yc,xc,Ic,Mc,Fc,Qc,Rc,kc,Sc,Dc,Nc,Tc,Oc,Yc,Uc,Hc,zc,Gc,Pc,Vc,Lc=window&&window.__extends||(Bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Bc(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});function Jc(){}function Wc(){return null!==Gc&&Gc.apply(this,arguments)||this}(function(t){var i,e=(i=jc.meta.ControlMetaFactory,Lc(n,i),n.CreateProp=function(t,i,e,n,r,s){return new o(t,i,e,n,r,s)},n.CreateEvent=function(t,i){return new h(t,i)},n.CreateComplexProp=function(t,i,e){return new l(t,i,e)},n.findProp=function(t,i){return jc.meta.ControlMetaFactory.findProp(t,i)},n.findEvent=function(t,i){return jc.meta.ControlMetaFactory.findEvent(t,i)},n.findComplexProp=function(t,i){return jc.meta.ControlMetaFactory.findComplexProp(t,i)},n);function n(){return null!==i&&i.apply(this,arguments)||this}t.MetaFactory=e;var r,o=(r=jc.meta.PropDescBase,Lc(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}t.PropDesc=o;var a,h=(a=jc.meta.EventDescBase,Lc(c,a),c);function c(){return null!==a&&a.apply(this,arguments)||this}t.EventDesc=h;var u,l=(u=jc.meta.ComplexPropDescBase,Lc(f,u),f);function f(){return null!==u&&u.apply(this,arguments)||this}t.ComplexPropDesc=l})((jc=ru||(window.wijmo=ru={})).knockout||(jc.knockout={})),function(f){var d=(o.prototype.ensureMetaData=function(){this._metaData||(this._metaData=f.MetaFactory.getMetaData(this._getMetaDataId()),this._initialize(),this._metaData.prepare())},o.prototype._initialize=function(){},o.prototype._getControlConstructor=function(){return null},o.prototype._getMetaDataId=function(){return this._getControlConstructor()},o.prototype._createControl=function(t){return new(this._getControlConstructor())(t)},o.prototype._createWijmoContext=function(){return new t(this)},o.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},o.prototype._isParentInitializer=function(){return null!=this._metaData.parentProperty},o.prototype._isParentReferencer=function(){return null!=this._metaData.parentReferenceProperty},o.prototype._initImpl=function(t,i,e,n,r){var s=this._createWijmoContext();return(t[o._wjContextProp]=s).element=t,this._isChild()&&(s.parentWjContext=t.parentElement[o._wjContextProp]),s.valueAccessor=i,s.allBindings=e,s.viewModel=n,s.bindingContext=r,s.init(t,i,e,n,r)},o._wjContextProp="__wjKoContext",o._parPropAttr="wjProperty",o._controlPropAttr="control",o._initPropAttr="isInitialized",o._initEventAttr="initialized",o);function o(){this.init=function(t,i,e,n,r){return this.ensureMetaData(),this._initImpl(t,i,e,n,r)}.bind(this),this.update=function(t,i,e,n,r){this._updateImpl(t,i,e,n,r)}.bind(this),this._updateImpl=function(t,i,e,n,r){t[o._wjContextProp].update(t,i,e,n,r)}}f.WjBinding=d;var t=(l.prototype.init=function(t,i,e,n,r){var s,o,a,h=i(),c=(this.wjBinding._metaData.props,this.wjBinding._metaData.events);for(var u in this._isChild()&&(s=h[d._parPropAttr],o=this.wjBinding._metaData,a=s&&Cr.unwrap(s)||o.parentProperty,this._parentPropDesc=f.MetaFactory.findComplexProp(a,this.parentWjContext.wjBinding._metaData.complexProps)||new f.ComplexPropDesc(a,o.isParentPropertyArray,o.ownsObject)),this._initControl(),this._safeUpdateSrcAttr(d._controlPropAttr,this.control),Cr.applyBindingsToDescendants(r,t),this._childrenInitialized(),c)this._addEventHandler(c[u]);this._updateControl(i),this._safeNotifySrcAttr(d._controlPropAttr),this._updateSource(),this._isInitialized=!0,this._safeUpdateSrcAttr(d._initPropAttr,!0);var l=h[d._initEventAttr];return l&&Cr.unwrap(l)(this.bindingContext.$data,this.control,void 0),{controlsDescendantBindings:!0}},l.prototype.update=function(t,i,e,n,r){this.valueAccessor=i,this._updateControl(i)},l.prototype._createControl=function(){return this.wjBinding._createControl(this._parentInCtor()?this.parentWjContext.control:this.element)},l.prototype._initControl=function(){var t,i,e;this._isChild()?(this.element.style.display="none",t=this._getParentProp(),i=this.parentWjContext.control,this._useParentObj()?this.control=i[t]:(e=this.control=this._createControl(),this._isParentInitializer()&&(this._isParentArray()?i[t].push(e):i[t]=e),this._isParentReferencer()&&!this._parentInCtor()&&(e[this._getParentReferenceProperty()]=i))):this.control=this._createControl()},l.prototype._childrenInitialized=function(){},l.prototype._addEventHandler=function(n){var r=this;this.control[n.eventName].addHandler(function(t,i){r._isInitialized&&r._updateSource();var e=r.valueAccessor()[n.eventName];e&&Cr.unwrap(e)(r.bindingContext.$data,t,i)},this)},l.prototype._updateSource=function(){l._isUpdatingSource=!0;try{var t=this.wjBinding._metaData.props;for(var i in t){var e=t[i],n=e.propertyName;e.shouldUpdateSource&&e.isNativeControlProperty&&this._safeUpdateSrcAttr(n,this.control[n])}}finally{for(l._isUpdatingSource=!1;0<l._pendingSourceUpdates.length;)l._pendingSourceUpdates.shift()._updateControl()}},l.prototype._updateControl=function(t){void 0===t&&(t=this.valueAccessor);var i=t(),e=this.wjBinding._metaData.props;if(l._isUpdatingSource)for(var n in l._pendingSourceUpdates.indexOf(this)<0&&l._pendingSourceUpdates.push(this),e)Cr.unwrap(i[e[n].propertyName]);else{var r=[],s=[];for(var n in e){var o=i[u=(h=e[n]).propertyName];void 0!==o&&((c=Cr.unwrap(o))!==this._oldSourceValues[u]||h.changeEvent&&c!==this.control[u])&&(this._oldSourceValues[u]=c,r.push(c),s.push(h))}for(var n in r){var a,h=s[n],c=Cr.unwrap(i[h.propertyName]),u=h.propertyName;void 0===c&&!this._isInitialized||(a=this._castValueToType(c,h),h.updateControl&&h.updateControl(this,h,this.control,c,a)||!h.isNativeControlProperty||this.control[u]!=a&&(this.control[u]=a))}}},l.prototype._castValueToType=function(t,i){return i.castValueToType(t)},l.prototype._safeUpdateSrcAttr=function(t,i){var e=this.valueAccessor()[t];Cr.isWritableObservable(e)&&i!=Cr.unwrap(e)&&e(i)},l.prototype._safeNotifySrcAttr=function(t){var i=this.valueAccessor()[t];Cr.isWritableObservable(i)&&i.valueHasMutated&&i.valueHasMutated()},l.prototype._isChild=function(){return this.wjBinding._isChild()},l.prototype._isParentInitializer=function(){return this.wjBinding._isParentInitializer()},l.prototype._isParentReferencer=function(){return this.wjBinding._isParentReferencer()},l.prototype._getParentProp=function(){return this._isParentInitializer()?this._parentPropDesc.propertyName:void 0},l.prototype._getParentReferenceProperty=function(){return this.wjBinding._metaData.parentReferenceProperty},l.prototype._useParentObj=function(){return!this._isParentReferencer()&&this._isParentInitializer()&&!this._parentPropDesc.isArray&&!this._parentPropDesc.ownsObject},l.prototype._isParentArray=function(){return this._parentPropDesc.isArray},l.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},l._debugId=0,l._isUpdatingSource=!1,l._pendingSourceUpdates=[],l);function l(t){this._isInitialized=!1,this._isUpdatingControl=!1,this._isSourceDirty=!1,this._oldSourceValues={},this.wjBinding=t}f.WjContext=t}((Cc=ru||(window.wijmo=ru={})).knockout||(Cc.knockout={})),Lc=window&&window.__extends||(yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}yc(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){var i,e=(i=t.WjBinding,Lc(n,i),n.prototype._getControlConstructor=function(){return xc.Tooltip},n.prototype._createControl=function(t){return i.prototype._createControl.call(this,null)},n.prototype._createWijmoContext=function(){return new r(this)},n);function n(){return null!==i&&i.apply(this,arguments)||this}t.wjTooltip=e;var s,r=(s=t.WjContext,Lc(o,s),o.prototype.update=function(t,i,e,n,r){s.prototype.update.call(this,t,i,e,n,r),this._updateTooltip()},o.prototype._updateTooltip=function(){this.control.setTooltip(this.element,Cr.unwrap(this.valueAccessor()))},o);function o(){return null!==s&&s.apply(this,arguments)||this}t.WjTooltipContext=r}((xc=ru||(window.wijmo=ru={})).knockout||(xc.knockout={})),Cr.bindingHandlers.wjTooltip=new ru.knockout.wjTooltip,Lc=window&&window.__extends||(Ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Ic(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){var i,e=(i=t.WjBinding,Lc(n,i),n.prototype._getControlConstructor=function(){return Mc.input.DropDown},n);function n(){return null!==i&&i.apply(this,arguments)||this}t.WjDropDownBinding=e;var r,s=(Lc(o,r=e),o.prototype._getControlConstructor=function(){return Mc.input.ComboBox},o);function o(){return null!==r&&r.apply(this,arguments)||this}t.wjComboBox=s;var a,h=(Lc(c,a=s),c.prototype._getControlConstructor=function(){return Mc.input.AutoComplete},c);function c(){return null!==a&&a.apply(this,arguments)||this}t.wjAutoComplete=h;var u,l=(u=t.WjBinding,Lc(f,u),f.prototype._getControlConstructor=function(){return Mc.input.Calendar},f);function f(){return null!==u&&u.apply(this,arguments)||this}t.wjCalendar=l;var d,A=(d=t.WjBinding,Lc(g,d),g.prototype._getControlConstructor=function(){return Mc.input.ColorPicker},g);function g(){return null!==d&&d.apply(this,arguments)||this}t.wjColorPicker=A;var w,m=(w=t.WjBinding,Lc(p,w),p.prototype._getControlConstructor=function(){return Mc.input.ListBox},p);function p(){return null!==w&&w.apply(this,arguments)||this}t.wjListBox=m;var v,b=(Lc(E,v=s),E.prototype._getControlConstructor=function(){return Mc.input.Menu},E.prototype._createWijmoContext=function(){return new C(this)},E.prototype._initialize=function(){v.prototype._initialize.call(this),t.MetaFactory.findProp("value",this._metaData.props).updateControl=this._updateControlValue},E.prototype._updateControlValue=function(t,i,e,n,r){return null!=r&&(e.selectedValue=r,t._updateHeader()),!0},E);function E(){return null!==v&&v.apply(this,arguments)||this}t.wjMenu=b;var B,C=(B=t.WjContext,Lc(j,B),j.prototype._initControl=function(){var t=this;B.prototype._initControl.call(this);var i=this.control;i.displayMemberPath="header",i.commandPath="cmd",i.commandParameterPath="cmdParam",i.selectedValuePath="value",i.itemsSource=new Mc.collections.ObservableArray,i.itemClicked.addHandler(function(){t._safeUpdateSrcAttr("value",i.selectedValue),t._updateHeader()})},j.prototype._childrenInitialized=function(){B.prototype._childrenInitialized.call(this),this.control.selectedIndex=0,this._updateHeader()},j.prototype._updateHeader=function(){var t,i=this.control,e=this.valueAccessor(),n=Cr.unwrap(e.header);void 0!==Cr.unwrap(e.value)&&i.selectedItem&&i.displayMemberPath&&null!=(t=i.selectedItem[i.displayMemberPath])&&(n+=": <b>"+t+"</b>"),i.header=n},j);function j(){return null!==B&&B.apply(this,arguments)||this}t.WjMenuContext=C;var y,x=(y=t.WjBinding,Lc(I,y),I.prototype._getMetaDataId=function(){return"MenuItem"},I.prototype._createWijmoContext=function(){return new F(this)},I.prototype._initialize=function(){y.prototype._initialize.call(this);var t=this._metaData;t.parentProperty="itemsSource",t.isParentPropertyArray=!0},I);function I(){return null!==y&&y.apply(this,arguments)||this}t.wjMenuItem=x;var M,F=(M=t.WjContext,Lc(Q,M),Q.prototype._createControl=function(){return{header:this.element.innerHTML,cmd:null,cmdParam:null,value:null}},Q);function Q(){return null!==M&&M.apply(this,arguments)||this}t.WjMenuItemContext=F;var R,k=(R=t.WjBinding,Lc(S,R),S.prototype._getMetaDataId=function(){return"MenuSeparator"},S.prototype._initialize=function(){R.prototype._initialize.call(this);var t=this._metaData;t.parentProperty="itemsSource",t.isParentPropertyArray=!0},S.prototype._createControl=function(t){return{header:'<div class="wj-state-disabled" style="width:100%;height:1px;background-color:lightgray"/>'}},S);function S(){return null!==R&&R.apply(this,arguments)||this}t.wjMenuSeparator=k;var D,N=(D=t.WjBinding,Lc(T,D),T.prototype._getMetaDataId=function(){return"ContextMenu"},T.prototype._createControl=function(t){return null},T.prototype._createWijmoContext=function(){return new Y(this)},T);function T(){return null!==D&&D.apply(this,arguments)||this}t.wjContextMenu=N;var O,Y=(O=t.WjContext,Lc(U,O),U.prototype._initControl=function(){O.prototype._initControl.call(this);var t=this.valueAccessor(),n=Mc.getElement(t.id);this.element.addEventListener("contextmenu",function(t){var i=Mc.Control.getControl(n),e=i.dropDown;i&&e&&!Mc.closest(t.target,"[disabled]")&&(t.preventDefault(),i.owner=this.element,i.selectedIndex=-1,i.onIsDroppedDownChanging(new Mc.CancelEventArgs)&&(Mc.showPopup(e,t),i.onIsDroppedDownChanged(),e.focus()))})},U);function U(){return null!==O&&O.apply(this,arguments)||this}t.WjContextMenuContext=Y;var H,z=(Lc(G,H=e),G.prototype._getControlConstructor=function(){return Mc.input.InputDate},G);function G(){return null!==H&&H.apply(this,arguments)||this}t.wjInputDate=z;var P,V=(P=t.WjBinding,Lc(L,P),L.prototype._getControlConstructor=function(){return Mc.input.InputDateTime},L);function L(){return null!==P&&P.apply(this,arguments)||this}t.wjInputDateTime=V;var J,W=(J=t.WjBinding,Lc(_,J),_.prototype._getControlConstructor=function(){return Mc.input.InputNumber},_);function _(){return null!==J&&J.apply(this,arguments)||this}t.wjInputNumber=W;var X,K=(X=t.WjBinding,Lc(Z,X),Z.prototype._getControlConstructor=function(){return Mc.input.InputMask},Z);function Z(){return null!==X&&X.apply(this,arguments)||this}t.wjInputMask=K;var q,$=(Lc(tt,q=s),tt.prototype._getControlConstructor=function(){return Mc.input.InputTime},tt);function tt(){return null!==q&&q.apply(this,arguments)||this}t.wjInputTime=$;var it,et=(Lc(nt,it=e),nt.prototype._getControlConstructor=function(){return Mc.input.InputColor},nt);function nt(){return null!==it&&it.apply(this,arguments)||this}t.wjInputColor=et;var rt,st=(rt=t.WjBinding,Lc(ot,rt),ot.prototype._createControl=function(t){return null},ot.prototype._createWijmoContext=function(){return new ht(this)},ot.prototype._getTemplate=function(){return""},ot);function ot(){return null!==rt&&rt.apply(this,arguments)||this}t.WjCollectionViewBaseBinding=st;var at,ht=(at=t.WjContext,Lc(ct,at),ct.prototype.init=function(t,i,e,n,r){t.innerHTML=this.wjBinding._getTemplate();var s=Cr.unwrap(i().cv)||this._emptyCV;this._subscribeToCV(s),this._localVM={cv:Cr.observable(s)};var o=r.createChildContext(this._localVM);return Cr.applyBindingsToDescendants(o,t),{controlsDescendantBindings:!0}},ct.prototype.update=function(t,i,e,n,r){var s=Cr.unwrap(i().cv)||this._emptyCV,o=Cr.unwrap(this._localVM.cv);s!==o&&(this._unsubscribeFromCV(o),this._subscribeToCV(s),this._localVM.cv(s))},ct.prototype._subscribeToCV=function(t){t&&(t.collectionChanged.addHandler(this._forceBindingsUpdate,this),t.currentChanged.addHandler(this._forceBindingsUpdate,this),t.pageChanged.addHandler(this._forceBindingsUpdate,this))},ct.prototype._unsubscribeFromCV=function(t){t&&(t.collectionChanged.removeHandler(this._forceBindingsUpdate,this),t.currentChanged.removeHandler(this._forceBindingsUpdate,this),t.pageChanged.removeHandler(this._forceBindingsUpdate,this))},ct.prototype._forceBindingsUpdate=function(t,i){this._localVM.cv.valueHasMutated()},ct);function ct(){var t=null!==at&&at.apply(this,arguments)||this;return t._emptyCV=new Mc.collections.CollectionView([]),t}t.WjCollectionViewContext=ht;var ut,lt=(Lc(ft,ut=st),ft.prototype._getMetaDataId=function(){return"CollectionViewPager"},ft.prototype._getTemplate=function(){return'<div class="wj-control wj-content wj-pager">    <div class="wj-input-group">        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveToFirstPage() },               disable: cv().pageIndex <= 0">                <span class="wj-glyph-left" style="margin-right: -4px;"></span>                <span class="wj-glyph-left"></span>            </button>        </span>        <span class="wj-input-group-btn" >           <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveToPreviousPage() },               disable: cv().pageIndex <= 0">                <span class="wj-glyph-left"></span>            </button>        </span>        <input type="text" class="wj-form-control" data-bind="            value: cv().pageIndex + 1 + \' / \' + cv().pageCount        " disabled />        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveToNextPage() },               disable: cv().pageIndex >= cv().pageCount - 1">                <span class="wj-glyph-right"></span>            </button>        </span>        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveToLastPage() },               disable: cv().pageIndex >= cv().pageCount - 1">                <span class="wj-glyph-right"></span>                <span class="wj-glyph-right" style="margin-left: -4px;"></span>            </button>        </span>    </div></div>'},ft);function ft(){return null!==ut&&ut.apply(this,arguments)||this}t.wjCollectionViewPager=lt;var dt,At=(Lc(gt,dt=st),gt.prototype._getMetaDataId=function(){return"CollectionViewNavigator"},gt.prototype._getTemplate=function(){return'<div class="wj-control wj-content wj-pager">    <div class="wj-input-group">        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveCurrentToFirst() },               disable: cv().currentPosition <= 0">                <span class="wj-glyph-left" style="margin-right: -4px;"></span>                <span class="wj-glyph-left"></span>            </button>        </span>        <span class="wj-input-group-btn" >           <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveCurrentToPrevious() },               disable: cv().currentPosition <= 0">                <span class="wj-glyph-left"></span>            </button>        </span>        <input type="text" class="wj-form-control" data-bind="            value: cv().currentPosition + 1 + \' / \' + cv().itemCount        " disabled />        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveCurrentToNext() },               disable: cv().currentPosition >= cv().itemCount - 1">                <span class="wj-glyph-right"></span>            </button>        </span>        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveCurrentToLast() },               disable: cv().currentPosition >= cv().itemCount - 1">                <span class="wj-glyph-right"></span>                <span class="wj-glyph-right" style="margin-left: -4px;"></span>            </button>        </span>    </div></div>'},gt);function gt(){return null!==dt&&dt.apply(this,arguments)||this}t.wjCollectionViewNavigator=At;var wt,mt=(Lc(pt,wt=s),pt.prototype._getControlConstructor=function(){return Mc.input.MultiSelect},pt);function pt(){return null!==wt&&wt.apply(this,arguments)||this}t.wjMultiSelect=mt;var vt,bt=(Lc(Et,vt=h),Et.prototype._getControlConstructor=function(){return Mc.input.MultiAutoComplete},Et);function Et(){return null!==vt&&vt.apply(this,arguments)||this}t.wjMultiAutoComplete=bt;var Bt,Ct=(Bt=t.WjBinding,Lc(jt,Bt),jt.prototype._getControlConstructor=function(){return Mc.input.Popup},jt.prototype._createWijmoContext=function(){return new xt(this)},jt.prototype._initialize=function(){Bt.prototype._initialize.call(this),t.MetaFactory.findProp("owner",this._metaData.props).updateControl=function(t,i,e,n,r){return e.owner=r,t._updateModal(r),!0}},jt);function jt(){return null!==Bt&&Bt.apply(this,arguments)||this}t.wjPopup=Ct;var yt,xt=(yt=t.WjContext,Lc(It,yt),It.prototype._initControl=function(){yt.prototype._initControl.call(this),this.control.removeOnHide=!1},It.prototype._updateModal=function(t){var i=this.valueAccessor(),e=this.control;null==Cr.unwrap(i.modal)&&(e.modal=!t)},It);function It(){return null!==yt&&yt.apply(this,arguments)||this}t.WjPopupContext=xt}((Mc=ru||(window.wijmo=ru={})).knockout||(Mc.knockout={})),Cr.bindingHandlers.wjComboBox=new ru.knockout.wjComboBox,Cr.bindingHandlers.wjAutoComplete=new ru.knockout.wjAutoComplete,Cr.bindingHandlers.wjCalendar=new ru.knockout.wjCalendar,Cr.bindingHandlers.wjColorPicker=new ru.knockout.wjColorPicker,Cr.bindingHandlers.wjListBox=new ru.knockout.wjListBox,Cr.bindingHandlers.wjMenu=new ru.knockout.wjMenu,Cr.bindingHandlers.wjMenuItem=new ru.knockout.wjMenuItem,Cr.bindingHandlers.wjMenuSeparator=new ru.knockout.wjMenuSeparator,Cr.bindingHandlers.wjContextMenu=new ru.knockout.wjContextMenu,Cr.bindingHandlers.wjInputDate=new ru.knockout.wjInputDate,Cr.bindingHandlers.wjInputDateTime=new ru.knockout.wjInputDateTime,Cr.bindingHandlers.wjInputNumber=new ru.knockout.wjInputNumber,Cr.bindingHandlers.wjInputMask=new ru.knockout.wjInputMask,Cr.bindingHandlers.wjInputTime=new ru.knockout.wjInputTime,Cr.bindingHandlers.wjInputColor=new ru.knockout.wjInputColor,Cr.bindingHandlers.wjCollectionViewNavigator=new ru.knockout.wjCollectionViewNavigator,Cr.bindingHandlers.wjCollectionViewPager=new ru.knockout.wjCollectionViewPager,Cr.bindingHandlers.wjMultiSelect=new ru.knockout.wjMultiSelect,Cr.bindingHandlers.wjMultiAutoComplete=new ru.knockout.wjMultiAutoComplete,Cr.bindingHandlers.wjPopup=new ru.knockout.wjPopup,Lc=window&&window.__extends||(Fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Fc(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){var i,A=(i=t.WjBinding,Lc(e,i),e.prototype._getControlConstructor=function(){return Qc.grid.FlexGrid},e.prototype._createWijmoContext=function(){return new r(this)},e.prototype._initialize=function(){i.prototype._initialize.call(this),t.MetaFactory.findProp("itemFormatter",this._metaData.props).updateControl=this._formatterPropHandler},e.prototype._formatterPropHandler=function(t,i,e,n,r){return n!==t._userFormatter&&(t._userFormatter=n,e.invalidate()),!0},e._columnTemplateProp="_wjkoColumnTemplate",e._cellClonedTemplateProp="__wjkoClonedTempl",e._cellVMProp="__wjkoCellVM",e._templColIdx="_wjkoTemplColIdx",e._columnStyleBinding="wjStyle",e._columnStyleProp="__wjkoStyle",e);function e(){return null!==i&&i.apply(this,arguments)||this}t.wjFlexGrid=A;var n,r=(n=t.WjContext,Lc(s,n),s.prototype._initControl=function(){n.prototype._initControl.call(this),this.control.itemFormatter=this._wrapperFormatter},s.prototype._itemFormatter=function(t,i,e,n){var r=t.columns[e],s=r[A._columnTemplateProp],o=r[A._columnStyleProp];if((s||o)&&t.cellType==Qc.grid.CellType.Cell){var a=t.grid.editRange;if(a&&a.row===i&&a.col===e)return;if(t.rows[i]instanceof Qc.grid.GroupRow)return;var h,c,u=n[A._cellVMProp],l=n[A._cellClonedTemplateProp],f=t.rows[i].dataItem;u&&n[A._templColIdx]!=e&&(n[A._cellVMProp]=n[A._cellClonedTemplateProp]=n[A._templColIdx]=u=l=null,Cr.cleanNode(n)),u?(l&&(n.innerHTML="",n.appendChild(l)),u.$row(i),u.$col(e),u.$item()!=f?u.$item(f):u.$item.valueHasMutated()):(u={$row:Cr.observable(i),$col:Cr.observable(e),$item:Cr.observable(f)},h=this.bindingContext.extend(u),s?(n.innerHTML="<div>"+s+"</div>",c=n.childNodes[0],n[A._cellClonedTemplateProp]=c):n.setAttribute("data-bind","style:"+o),n[A._cellVMProp]=u,n[A._templColIdx]=e,Cr.applyBindings(h,n));var d=n.scrollHeight;t.rows[i].renderHeight<d&&(t.rows.defaultSize=d)}else this._userFormatter&&this._userFormatter(t,i,e,n)},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t._wrapperFormatter=t._itemFormatter.bind(t),t}t.WjFlexGridContext=r;var o,a=(o=t.WjBinding,Lc(h,o),h.prototype._getControlConstructor=function(){return Qc.grid.Column},h.prototype._createControl=function(t){return new Qc.grid.Column},h.prototype._createWijmoContext=function(){return new u(this)},h);function h(){return null!==o&&o.apply(this,arguments)||this}t.wjFlexGridColumn=a;var c,u=(c=t.WjContext,Lc(l,c),l.prototype._initControl=function(){var t,i=this.parentWjContext;!i||(t=i.control).autoGenerateColumns&&(t.autoGenerateColumns=!1,t.columns.clear()),c.prototype._initControl.call(this);var e=this.element.innerHTML.trim();this.control[A._columnTemplateProp]=e;var n=this.allBindings.get(A._columnStyleBinding);n&&(this.control[A._columnStyleProp]=n.trim()),(e||n)&&this.control._setFlag(Qc.grid.RowColFlags.HasTemplate,!0),this.element.innerHTML=""},l);function l(){return null!==c&&c.apply(this,arguments)||this}t.WjFlexGridColumnContext=u;var f=(d.quoteString=function(t){return null==t?t:"'"+t.replace(/'/g,"\\'")+"'"},d.unquoteString=function(t){return!t||t.length<2?t:("'"===t.charAt(0)&&(t=t.substr(1,t.length-1)),t.replace(/\\\'/g,"'"))},d);function d(){this.preprocess=function(t,i,e){return d.quoteString(t)},this.init=function(){}}t.wjStyle=f;var g,w=(g=t.WjBinding,Lc(m,g),m.prototype._getControlConstructor=function(){return Qc.grid.filter.FlexGridFilter},m);function m(){return null!==g&&g.apply(this,arguments)||this}t.wjFlexGridFilter=w;var p,v=(p=t.WjBinding,Lc(b,p),b.prototype._getControlConstructor=function(){return Qc.grid.grouppanel.GroupPanel},b);function b(){return null!==p&&p.apply(this,arguments)||this}t.wjGroupPanel=v;var E,B=(Lc(C,E=A),C.prototype._getControlConstructor=function(){return Qc.grid.sheet.FlexSheet},C);function C(){return null!==E&&E.apply(this,arguments)||this}t.wjFlexSheet=B;var j,y=(j=t.WjBinding,Lc(x,j),x.prototype._getControlConstructor=function(){return Qc.grid.sheet.Sheet},x.prototype._createWijmoContext=function(){return new M(this)},x);function x(){return null!==j&&j.apply(this,arguments)||this}t.wjSheet=y;var I,M=(I=t.WjContext,Lc(F,I),F.prototype._initControl=function(){I.prototype._initControl.call(this);var t=this.valueAccessor(),i=this.parentWjContext.control,e=Cr.unwrap(t.itemsSource),n=Cr.unwrap(t.name);return e?i.addBoundSheet(n,e):i.addUnboundSheet(n,+Cr.unwrap(t.rowCount),+Cr.unwrap(t.columnCount))},F);function F(){return null!==I&&I.apply(this,arguments)||this}t.WjSheetContext=M;var Q,R=(Lc(k,Q=A),k.prototype._getControlConstructor=function(){return Qc.grid.multirow.MultiRow},k);function k(){return null!==Q&&Q.apply(this,arguments)||this}t.wjMultiRow=R}((Qc=ru||(window.wijmo=ru={})).knockout||(Qc.knockout={})),Cr.bindingHandlers[ru.knockout.wjFlexGrid._columnStyleBinding]=new ru.knockout.wjStyle,Cr.bindingHandlers.wjFlexGrid=new ru.knockout.wjFlexGrid,Cr.bindingHandlers.wjFlexGridColumn=new ru.knockout.wjFlexGridColumn,Cr.bindingHandlers.wjFlexGridFilter=new ru.knockout.wjFlexGridFilter,Cr.bindingHandlers.wjGroupPanel=new ru.knockout.wjGroupPanel,Cr.bindingHandlers.wjFlexSheet=new ru.knockout.wjFlexSheet,Cr.bindingHandlers.wjSheet=new ru.knockout.wjSheet,Cr.bindingHandlers.wjMultiRow=new ru.knockout.wjMultiRow,Lc=window&&window.__extends||(Rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Rc(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){var i,e=(i=t.WjBinding,Lc(n,i),n.prototype._getControlConstructor=function(){return kc.chart.FlexChartBase},n.prototype._initialize=function(){i.prototype._initialize.call(this),t.MetaFactory.findProp("tooltipContent",this._metaData.props).updateControl=function(t,i,e,n,r){return null!=r&&(e.tooltip.content=r),!0}},n);function n(){return null!==i&&i.apply(this,arguments)||this}t.WjFlexChartBaseBinding=e;var r,s=(Lc(o,r=e),o.prototype._getControlConstructor=function(){return kc.chart.FlexChart},o.prototype._initialize=function(){r.prototype._initialize.call(this),t.MetaFactory.findProp("labelContent",this._metaData.props).updateControl=function(t,i,e,n,r){return null!=r&&(e.dataLabel.content=r),!0}},o);function o(){return null!==r&&r.apply(this,arguments)||this}t.wjFlexChart=s;var a,h=(Lc(c,a=e),c.prototype._getControlConstructor=function(){return kc.chart.FlexPie},c.prototype._initialize=function(){a.prototype._initialize.call(this),t.MetaFactory.findProp("labelContent",this._metaData.props).updateControl=function(t,i,e,n,r){return null!=r&&(e.dataLabel.content=r),!0}},c);function c(){return null!==a&&a.apply(this,arguments)||this}t.wjFlexPie=h;var u,l=(u=t.WjBinding,Lc(f,u),f.prototype._getControlConstructor=function(){return kc.chart.Axis},f);function f(){return null!==u&&u.apply(this,arguments)||this}t.wjFlexChartAxis=l;var d,A=(d=t.WjBinding,Lc(g,d),g.prototype._getControlConstructor=function(){return kc.chart.Legend},g);function g(){return null!==d&&d.apply(this,arguments)||this}t.wjFlexChartLegend=A;var w,m=(w=t.WjBinding,Lc(p,w),p.prototype._getControlConstructor=function(){return kc.chart.SeriesBase},p.prototype._createControl=function(t){return w.prototype._createControl.call(this,null)},p);function p(){return null!==w&&w.apply(this,arguments)||this}t.WjSeriesBase=m;var v,b=(Lc(E,v=m),E.prototype._getControlConstructor=function(){return kc.chart.Series},E.prototype._createWijmoContext=function(){return new C(this)},E);function E(){return null!==v&&v.apply(this,arguments)||this}t.wjFlexChartSeries=b;var B,C=(B=t.WjContext,Lc(j,B),j.prototype._initControl=function(){var e=this;B.prototype._initControl.call(this);var t=this.parentWjContext.control;t instanceof kc.chart.FlexChart&&t.seriesVisibilityChanged.addHandler(function(t,i){e._updateSource()})},j);function j(){return null!==B&&B.apply(this,arguments)||this}t.WjFlexChartSeriesContext=C;var y,x=(Lc(I,y=e),I.prototype._getControlConstructor=function(){return kc.chart.finance.FinancialChart},I.prototype._initialize=function(){y.prototype._initialize.call(this),t.MetaFactory.findProp("labelContent",this._metaData.props).updateControl=function(t,i,e,n,r){return null!=r&&(e.dataLabel.content=r),!0}},I);function I(){return null!==y&&y.apply(this,arguments)||this}t.wjFinancialChart=x;var M,F=(M=t.WjBinding,Lc(Q,M),Q.prototype._getControlConstructor=function(){return kc.chart.finance.FinancialSeries},Q.prototype._createWijmoContext=function(){return new k(this)},Q);function Q(){return null!==M&&M.apply(this,arguments)||this}t.wjFinancialChartSeries=F;var R,k=(R=t.WjContext,Lc(S,R),S.prototype._initControl=function(){var e=this;R.prototype._initControl.call(this);var t=this.parentWjContext.control;t instanceof kc.chart.finance.FinancialChart&&t.seriesVisibilityChanged.addHandler(function(t,i){e._updateSource()})},S);function S(){return null!==R&&R.apply(this,arguments)||this}t.WjFinancialChartSeriesContext=k;var D,N=(D=t.WjBinding,Lc(T,D),T.prototype._getControlConstructor=function(){return kc.chart.LineMarker},T);function T(){return null!==D&&D.apply(this,arguments)||this}t.wjFlexChartLineMarker=N;var O,Y=(O=t.WjBinding,Lc(U,O),U.prototype._getControlConstructor=function(){return kc.chart.interaction.RangeSelector},U);function U(){return null!==O&&O.apply(this,arguments)||this}t.wjFlexChartRangeSelector=Y;var H,z=(H=t.WjBinding,Lc(G,H),G.prototype._getControlConstructor=function(){return kc.chart.interaction.ChartGestures},G);function G(){return null!==H&&H.apply(this,arguments)||this}t.wjFlexChartGestures=z;var P,V=(P=t.WjBinding,Lc(L,P),L.prototype._getControlConstructor=function(){return kc.chart.PlotArea},L);function L(){return null!==P&&P.apply(this,arguments)||this}t.wjFlexChartPlotArea=V;var J,W=(J=t.WjBinding,Lc(_,J),_.prototype._getControlConstructor=function(){return kc.chart.DataPoint},_);function _(){return null!==J&&J.apply(this,arguments)||this}t.wjFlexChartDataPoint=W;var X,K=(X=t.WjBinding,Lc(Z,X),Z.prototype._getControlConstructor=function(){return kc.chart.annotation.AnnotationLayer},Z);function Z(){return null!==X&&X.apply(this,arguments)||this}t.wjFlexChartAnnotationLayer=K;var q,$=(q=t.WjBinding,Lc(tt,q),tt.prototype._createControl=function(t){return this._context._createAnnotation()},tt.prototype._getMetaDataId=function(){return"FlexChartAnnotation"},tt.prototype._createWijmoContext=function(){return this._context=new et(this),this._context},tt);function tt(){return null!==q&&q.apply(this,arguments)||this}t.wjFlexChartAnnotation=$;var it,et=(it=t.WjContext,Lc(nt,it),nt.prototype._createAnnotation=function(){var t=this.valueAccessor(),i=Cr.unwrap(t.type);return new kc.chart.annotation[i]},nt);function nt(){return null!==it&&it.apply(this,arguments)||this}t.wjFlexChartAnnotationContext=et;var rt,st=(rt=t.WjBinding,Lc(ot,rt),ot.prototype._getControlConstructor=function(){return kc.chart.animation.ChartAnimation},ot);function ot(){return null!==rt&&rt.apply(this,arguments)||this}t.wjFlexChartAnimation=st;var at,ht=(Lc(ct,at=m),ct.prototype._getControlConstructor=function(){return kc.chart.analytics.TrendLineBase},ct);function ct(){return null!==at&&at.apply(this,arguments)||this}t.WjTrendLineBase=ht;var ut,lt=(Lc(ft,ut=ht),ft.prototype._getControlConstructor=function(){return kc.chart.analytics.TrendLine},ft);function ft(){return null!==ut&&ut.apply(this,arguments)||this}t.wjFlexChartTrendLine=lt;var dt,At=(Lc(gt,dt=ht),gt.prototype._getControlConstructor=function(){return kc.chart.analytics.MovingAverage},gt);function gt(){return null!==dt&&dt.apply(this,arguments)||this}t.wjFlexChartMovingAverage=At;var wt,mt=(Lc(pt,wt=ht),pt.prototype._getControlConstructor=function(){return kc.chart.analytics.YFunctionSeries},pt);function pt(){return null!==wt&&wt.apply(this,arguments)||this}t.wjFlexChartYFunctionSeries=mt;var vt,bt=(Lc(Et,vt=ht),Et.prototype._getControlConstructor=function(){return kc.chart.analytics.ParametricFunctionSeries},Et.prototype._initialize=function(){vt.prototype._initialize.call(this),t.MetaFactory.findProp("func",this._metaData.props).updateControl=function(t,i,e,n,r){return null!=r&&(e.xFunc=r),!0}},Et);function Et(){return null!==vt&&vt.apply(this,arguments)||this}t.wjFlexChartParametricFunctionSeries=bt;var Bt,Ct=(Lc(jt,Bt=m),jt.prototype._getControlConstructor=function(){return kc.chart.analytics.Waterfall},jt);function jt(){return null!==Bt&&Bt.apply(this,arguments)||this}t.wjFlexChartWaterfall=Ct;var yt,xt=(Lc(It,yt=m),It.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.Fibonacci},It.prototype._createControl=function(t){return new kc.chart.finance.analytics.Fibonacci},It);function It(){return null!==yt&&yt.apply(this,arguments)||this}t.wjFlexChartFibonacci=xt;var Mt,Ft=(Lc(Qt,Mt=m),Qt.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.FibonacciArcs},Qt.prototype._createControl=function(t){return new kc.chart.finance.analytics.FibonacciArcs},Qt);function Qt(){return null!==Mt&&Mt.apply(this,arguments)||this}t.wjFlexChartFibonacciArcs=Ft;var Rt,kt=(Lc(St,Rt=m),St.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.FibonacciFans},St.prototype._createControl=function(t){return new kc.chart.finance.analytics.FibonacciFans},St);function St(){return null!==Rt&&Rt.apply(this,arguments)||this}t.wjFlexChartFibonacciFans=kt;var Dt,Nt=(Lc(Tt,Dt=m),Tt.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.FibonacciTimeZones},Tt.prototype._createControl=function(t){return new kc.chart.finance.analytics.FibonacciTimeZones},Tt);function Tt(){return null!==Dt&&Dt.apply(this,arguments)||this}t.wjFlexChartFibonacciTimeZones=Nt;var Ot,Yt=(Lc(Ut,Ot=m),Ut.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.OverlayIndicatorBase},Ut);function Ut(){return null!==Ot&&Ot.apply(this,arguments)||this}t.WjBaseOverlayIndicator=Yt;var Ht,zt=(Lc(Gt,Ht=Yt),Gt.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.SingleOverlayIndicatorBase},Gt);function Gt(){return null!==Ht&&Ht.apply(this,arguments)||this}t.WjBaseSingleOverlayIndicator=zt;var Pt,Vt=(Lc(Lt,Pt=zt),Lt.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.ATR},Lt);function Lt(){return null!==Pt&&Pt.apply(this,arguments)||this}t.wjFlexChartAtr=Vt;var Jt,Wt=(Lc(_t,Jt=zt),_t.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.CCI},_t);function _t(){return null!==Jt&&Jt.apply(this,arguments)||this}t.wjFlexChartCci=Wt;var Xt,Kt=(Lc(Zt,Xt=zt),Zt.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.RSI},Zt);function Zt(){return null!==Xt&&Xt.apply(this,arguments)||this}t.wjFlexChartRsi=Kt;var qt,$t=(Lc(ti,qt=zt),ti.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.WilliamsR},ti);function ti(){return null!==qt&&qt.apply(this,arguments)||this}t.wjFlexChartWilliamsR=$t;var ii,ei=(Lc(ni,ii=Yt),ni.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.MacdBase},ni);function ni(){return null!==ii&&ii.apply(this,arguments)||this}t.WjFlexChartMacdBase=ei;var ri,si=(Lc(oi,ri=ei),oi.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.Macd},oi);function oi(){return null!==ri&&ri.apply(this,arguments)||this}t.wjFlexChartMacd=si;var ai,hi=(Lc(ci,ai=ei),ci.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.MacdHistogram},ci);function ci(){return null!==ai&&ai.apply(this,arguments)||this}t.wjFlexChartMacdHistogram=hi;var ui,li=(Lc(fi,ui=Yt),fi.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.Stochastic},fi);function fi(){return null!==ui&&ui.apply(this,arguments)||this}t.wjFlexChartStochastic=li;var di,Ai=(Lc(gi,di=Yt),gi.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.BollingerBands},gi);function gi(){return null!==di&&di.apply(this,arguments)||this}t.wjFlexChartBollingerBands=Ai;var wi,mi=(Lc(pi,wi=Yt),pi.prototype._getControlConstructor=function(){return kc.chart.finance.analytics.Envelopes},pi);function pi(){return null!==wi&&wi.apply(this,arguments)||this}t.wjFlexChartEnvelopes=mi}((kc=ru||(window.wijmo=ru={})).knockout||(kc.knockout={})),Cr.bindingHandlers.wjFlexChart=new ru.knockout.wjFlexChart,Cr.bindingHandlers.wjFlexPie=new ru.knockout.wjFlexPie,Cr.bindingHandlers.wjFlexChartAxis=new ru.knockout.wjFlexChartAxis,Cr.bindingHandlers.wjFlexChartLegend=new ru.knockout.wjFlexChartLegend,Cr.bindingHandlers.wjFlexChartSeries=new ru.knockout.wjFlexChartSeries,Cr.bindingHandlers.wjFinancialChart=new ru.knockout.wjFinancialChart,Cr.bindingHandlers.wjFinancialChartSeries=new ru.knockout.wjFinancialChartSeries,Cr.bindingHandlers.wjFlexChartLineMarker=new ru.knockout.wjFlexChartLineMarker,Cr.bindingHandlers.wjFlexChartRangeSelector=new ru.knockout.wjFlexChartRangeSelector,Cr.bindingHandlers.wjFlexChartGestures=new ru.knockout.wjFlexChartGestures,Cr.bindingHandlers.wjFlexChartPlotArea=new ru.knockout.wjFlexChartPlotArea,Cr.bindingHandlers.wjFlexChartDataPoint=new ru.knockout.wjFlexChartDataPoint,Cr.bindingHandlers.wjFlexChartAnnotationLayer=new ru.knockout.wjFlexChartAnnotationLayer,Cr.bindingHandlers.wjFlexChartAnnotation=new ru.knockout.wjFlexChartAnnotation,Cr.bindingHandlers.wjFlexChartAnimation=new ru.knockout.wjFlexChartAnimation,Cr.bindingHandlers.wjFlexChartTrendLine=new ru.knockout.wjFlexChartTrendLine,Cr.bindingHandlers.wjFlexChartMovingAverage=new ru.knockout.wjFlexChartMovingAverage,Cr.bindingHandlers.wjFlexChartYFunctionSeries=new ru.knockout.wjFlexChartYFunctionSeries,Cr.bindingHandlers.wjFlexChartParametricFunctionSeries=new ru.knockout.wjFlexChartParametricFunctionSeries,Cr.bindingHandlers.wjFlexChartWaterfall=new ru.knockout.wjFlexChartWaterfall,Cr.bindingHandlers.wjFlexChartFibonacci=new ru.knockout.wjFlexChartFibonacci,Cr.bindingHandlers.wjFlexChartFibonacciArcs=new ru.knockout.wjFlexChartFibonacciArcs,Cr.bindingHandlers.wjFlexChartFibonacciFans=new ru.knockout.wjFlexChartFibonacciFans,Cr.bindingHandlers.wjFlexChartFibonacciTimeZones=new ru.knockout.wjFlexChartFibonacciTimeZones,Cr.bindingHandlers.wjFlexChartAtr=new ru.knockout.wjFlexChartAtr,Cr.bindingHandlers.wjFlexChartCci=new ru.knockout.wjFlexChartCci,Cr.bindingHandlers.wjFlexChartRsi=new ru.knockout.wjFlexChartRsi,Cr.bindingHandlers.wjFlexChartWilliamsR=new ru.knockout.wjFlexChartWilliamsR,Cr.bindingHandlers.wjFlexChartMacd=new ru.knockout.wjFlexChartMacd,Cr.bindingHandlers.wjFlexChartMacdHistogram=new ru.knockout.wjFlexChartMacdHistogram,Cr.bindingHandlers.wjFlexChartStochastic=new ru.knockout.wjFlexChartStochastic,Cr.bindingHandlers.wjFlexChartBollingerBands=new ru.knockout.wjFlexChartBollingerBands,Cr.bindingHandlers.wjFlexChartEnvelopes=new ru.knockout.wjFlexChartEnvelopes,Lc=window&&window.__extends||(Sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Sc(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){var i,e=(i=t.WjBinding,Lc(n,i),n.prototype._getControlConstructor=function(){return Dc.gauge.Gauge},n);function n(){return null!==i&&i.apply(this,arguments)||this}t.WjGaugeBinding=e;var r,s=(Lc(o,r=e),o.prototype._getControlConstructor=function(){return Dc.gauge.LinearGauge},o);function o(){return null!==r&&r.apply(this,arguments)||this}t.wjLinearGauge=s;var a,h=(Lc(c,a=s),c.prototype._getControlConstructor=function(){return Dc.gauge.BulletGraph},c);function c(){return null!==a&&a.apply(this,arguments)||this}t.wjBulletGraph=h;var u,l=(Lc(f,u=e),f.prototype._getControlConstructor=function(){return Dc.gauge.RadialGauge},f);function f(){return null!==u&&u.apply(this,arguments)||this}t.wjRadialGauge=l;var d,A=(d=t.WjBinding,Lc(g,d),g.prototype._getControlConstructor=function(){return Dc.gauge.Range},g.prototype._createControl=function(t){return new Dc.gauge.Range},g);function g(){return null!==d&&d.apply(this,arguments)||this}t.wjRange=A}((Dc=ru||(window.wijmo=ru={})).knockout||(Dc.knockout={})),Cr.bindingHandlers.wjLinearGauge=new ru.knockout.wjLinearGauge,Cr.bindingHandlers.wjBulletGraph=new ru.knockout.wjBulletGraph,Cr.bindingHandlers.wjRadialGauge=new ru.knockout.wjRadialGauge,Cr.bindingHandlers.wjRange=new ru.knockout.wjRange,Lc=window&&window.__extends||(Nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Nc(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),function(t){var i,e=(i=t.wjFlexGrid,Lc(n,i),n.prototype._getControlConstructor=function(){return Tc.olap.PivotGrid},n);function n(){return null!==i&&i.apply(this,arguments)||this}t.wjPivotGrid=e;var r,s=(r=t.WjBinding,Lc(o,r),o.prototype._getControlConstructor=function(){return Tc.olap.PivotChart},o);function o(){return null!==r&&r.apply(this,arguments)||this}t.wjPivotChart=s;var a,h=(a=t.WjBinding,Lc(c,a),c.prototype._getControlConstructor=function(){return Tc.olap.PivotPanel},c);function c(){return null!==a&&a.apply(this,arguments)||this}t.wjPivotPanel=h}((Tc=ru||(window.wijmo=ru={})).knockout||(Tc.knockout={})),Cr.bindingHandlers.wjPivotGrid=new ru.knockout.wjPivotGrid,Cr.bindingHandlers.wjPivotChart=new ru.knockout.wjPivotChart,Cr.bindingHandlers.wjPivotPanel=new ru.knockout.wjPivotPanel,Lc=window&&window.__extends||(Oc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}Oc(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),zc=(Hc=ru||(window.wijmo=ru={})).knockout||(Hc.knockout={}),Gc=zc.WjBinding,Lc(Wc,Gc),Wc.prototype._getControlConstructor=function(){return Hc.nav.TreeView},zc.wjTreeView=Wc,Cr.bindingHandlers.wjTreeView=new ru.knockout.wjTreeView,Yc=ru||(window.wijmo=ru={}),Uc=Yc.knockout||(Yc.knockout={}),Jc._getSpecialProps=function(){var t={},i=Yc.knockout.WjBinding;return t[i._controlPropAttr]=!0,t[i._parPropAttr]=!0,t},Jc.prototype.register=function(){this._foreignProc=Cr.bindingProvider.instance.preprocessNode,Cr.bindingProvider.instance.preprocessNode=this.preprocessNode.bind(this)},Jc.prototype.preprocessNode=function(t){var i=Jc._dataBindAttr;if(1!=t.nodeType||!this._isWjTag(t.tagName))return this._delegate(t);var e=Uc.MetaFactory.toCamelCase(t.tagName),n=Cr.bindingHandlers[e];if(!n)return this._delegate(t);n.ensureMetaData();for(var r,s="",o=t.attributes,a=document.createElement("div"),h=0;h<o.length;h++){var c,u=o[h];u.name.toLowerCase()!=i?(c=Uc.MetaFactory.toCamelCase(u.name),this._isWjProp(c,n._metaData)?(s&&(s+=","),s+=c+":"+u.value):a.setAttribute(u.name,u.value)):r=u}for(s=e+":{"+s+"}",r&&r.value&&r.value.trim()&&(s+=","+r.value),a.setAttribute(i,s);t.firstChild;)a.appendChild(t.firstChild);return t.parentNode.replaceChild(a,t),[a]},Jc.prototype._delegate=function(t){return this._foreignProc?this._foreignProc(t):void 0},Jc.prototype._isWjTag=function(t){var i=Jc._wjTagPrefix;return t&&t.length>i.length&&t.substr(0,i.length).toLowerCase()===i},Jc.prototype._isWjProp=function(t,i){return Jc._specialProps[t]||Yc.knockout.MetaFactory.findProp(t,i.props)||Yc.knockout.MetaFactory.findEvent(t,i.events)},Jc._specialProps=Jc._getSpecialProps(),Jc._dataBindAttr="data-bind",Jc._wjTagPrefix="wj-",Uc.WjTagsPreprocessor=Jc,ru.disableKnockoutTags||(new ru.knockout.WjTagsPreprocessor).register(),Pc=ru||(window.wijmo=ru={}),function(A){var r,g,t,i;Pc.culture.FlexGridDetailProvider=window.wijmo.culture.FlexGridDetailProvider||{ariaLabels:{toggleDetail:"Toggle Row Detail"}},(i=r=A.KeyAction||(A.KeyAction={}))[i.None=0]="None",i[i.ToggleDetail=1]="ToggleDetail",(t=g=A.DetailVisibilityMode||(A.DetailVisibilityMode={}))[t.Code=0]="Code",t[t.Selection=1]="Selection",t[t.ExpandSingle=2]="ExpandSingle",t[t.ExpandMulti=3]="ExpandMulti";var e=(Object.defineProperty(w.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"detailVisibilityMode",{get:function(){return this._mode},set:function(t){(t=Pc.asEnum(t,g))!=this._mode&&(this._mode=t,this.hideDetail(),this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(t){this._maxHeight=Pc.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"isAnimated",{get:function(){return this._animated},set:function(t){t!=this._animated&&(this._animated=Pc.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"keyActionEnter",{get:function(){return this._keyActionEnter},set:function(t){this._keyActionEnter=Pc.asEnum(t,r)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"createDetailCell",{get:function(){return this._createDetailCellFn},set:function(t){this._createDetailCellFn=Pc.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"disposeDetailCell",{get:function(){return this._disposeDetailCellFn},set:function(t){this._disposeDetailCellFn=Pc.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"rowHasDetail",{get:function(){return this._rowHasDetailFn},set:function(t){this._rowHasDetailFn=Pc.asFunction(t,!0)},enumerable:!0,configurable:!0}),w.prototype.getDetailRow=function(t){t=this._toIndex(t);var i=this._g.rows;return i[t]instanceof A.DetailRow?i[t]:t<i.length-1&&i[t+1]instanceof A.DetailRow?i[t+1]:null},w.prototype.isDetailVisible=function(t){return null!=this.getDetailRow(t)},w.prototype.isDetailAvailable=function(t){return t=this._toIndex(t),this._hasDetail(t)},w.prototype.hideDetail=function(t){var i=this._g.rows;if(null!=t){!(i[t=this._toIndex(t)]instanceof A.DetailRow)&&t<i.length-1&&i[t+1]instanceof A.DetailRow&&t++;var e=i[t];e instanceof A.DetailRow&&(this.disposeDetailCell&&this.disposeDetailCell(e),Pc.Control.disposeAll(e.detail),i.removeAt(t))}else for(var n=0;n<i.length;n++)i[n]instanceof A.DetailRow&&this.hideDetail(n)},w.prototype.showDetail=function(i,t){void 0===t&&(t=!1);var e,n,r=this._g,s=r.rows;if(0<(i=this._toIndex(i))&&s[i]instanceof A.DetailRow&&i--,t){for(var o=r.selection,a=!1,h=0;h<s.length-1;h++)h!=i&&s[h+1]instanceof A.DetailRow&&(this.hideDetail(h),h<i&&i--,h<o.row&&(o.row--,o.row2--,a=!0));a&&r.select(o,!1)}!this.isDetailVisible(i)&&this._hasDetail(i)&&((e=new A.DetailRow(s[i])).detail=this._createDetailCell(s[i]),e.detail&&(s.insert(i+1,e),this._animated?((n=e.detail.style).transform="translateY(-100%)",n.opacity="0",Pc.animate(function(t){t<1?(n.transform="translateY("+(100*-(1-t)).toFixed(0)+"%)",n.opacity=(t*t).toString()):(n.transform="",n.opacity="",Pc.Control.invalidateAll(e.detail),r.scrollIntoView(i+1,-1))})):r.scrollIntoView(i+1,-1)))},w.prototype._toIndex=function(t){return t instanceof Vc.Row&&(t=t.index),Pc.asNumber(t,!1,!0)},w.prototype._hdrClick=function(t){if(!t.defaultPrevented&&0==t.button&&Pc.closestClass(t.target,w._WJC_DETAIL))switch(this._mode){case g.ExpandMulti:case g.ExpandSingle:var i=this._g,e=i.hitTest(t.target);e.panel||(e=i.hitTest(t)),e.panel&&this._toggleRowDetail(e.row)&&t.preventDefault()}},w.prototype._toggleRowDetail=function(t){var i;return!!(-1<t&&this._hasDetail(t))&&(this.isDetailVisible(t)?this.hideDetail(t):((i=this._g).select(new Vc.CellRange(t,0,t,i.columns.length-1)),this.showDetail(t,this._mode==g.ExpandSingle)),!0)},w.prototype._selectionChanged=function(t,i){var e=this;this._mode==g.Selection&&(this._toSel&&clearTimeout(this._toSel),this._toSel=setTimeout(function(){-1<t.selection.row?e.showDetail(t.selection.row,!0):e.hideDetail()},300))},w.prototype._formatItem=function(t,i){var e,n,r,s,o=this._g,a=i.panel.rows[i.row];if(i.panel==o.cells&&a instanceof A.DetailRow&&null!=a.detail&&i.col==o.cells.columns.frozen&&(Pc.addClass(i.cell,"wj-detail"),i.cell.textContent="",i.cell.style.textAlign="",i.cell.appendChild(a.detail),null==a.height?(Pc.Control.refreshAll(i.cell),e=getComputedStyle(i.cell),n=parseInt(e.paddingTop)+parseInt(e.paddingBottom),r=a.detail.scrollHeight+n,0<this._maxHeight&&r>this._maxHeight&&(r=this._maxHeight),a.height=r,a.detail.style.height||(a.detail.style.height="100%"),(s=a.detail.querySelector(".wj-flexgrid"))&&!s.style.height&&(s.style.height="100%")):setTimeout(function(){Pc.Control.refreshAll(a.detail)})),i.panel==o.rowHeaders&&0==i.col&&this._hasDetail(i.row))switch(i.cell.style.cursor="",this._mode){case g.ExpandMulti:case g.ExpandSingle:var h=i.cell,c=o.rows[i.row+1]instanceof A.DetailRow,u=c?"minus":"plus",l=w._WJC_DETAIL;h.innerHTML='<button class="wj-btn wj-btn-glyph '+l+'" type="button" tabindex="-1"><span class="wj-glyph-'+u+'"></span></button>';var f=h.children[0],d=Pc.culture.FlexGridDetailProvider.ariaLabels.toggleDetail;Pc.setAriaLabel(f,d),Pc.setAttribute(f,"aria-expanded",c)}},w.prototype._resizedRow=function(t,i){var e=i.panel.rows[i.row];e instanceof A.DetailRow&&e.detail&&Pc.Control.refreshAll(e.detail)},w.prototype._hasDetail=function(t){var i=this._g.rows[t];return Pc.isFunction(this._rowHasDetailFn)?this._rowHasDetailFn(i):this._isRegularRow(i)},w.prototype._isRegularRow=function(t){return!(t instanceof Vc.GroupRow||t instanceof Vc._NewRowTemplate)},w.prototype._createDetailCell=function(t,i){return this.createDetailCell?this.createDetailCell(t,i):null},w._WJC_DETAIL="wj-elem-detail",w);function w(e,t){var n=this;this._mode=g.ExpandSingle,this._animated=!1,this._keyActionEnter=r.None,(this._g=e).mergeManager=new A.DetailMergeManager(e),e.rowHeaders.hostElement.addEventListener("click",this._hdrClick.bind(this)),e.rowHeaders.hostElement.addEventListener("mousedown",function(t){var i=e.editableCollectionView;(e.activeEditor||i&&i.currentEditItem)&&(n._hdrClick(t),t.preventDefault())}),e.formatItem.addHandler(this._formatItem,this),e.selectionChanged.addHandler(this._selectionChanged,this),e.resizedRow.addHandler(this._resizedRow,this),e.loadingRows.addHandler(function(){n.hideDetail()}),e.draggingRow.addHandler(function(t,i){i.row<t.rows.length-1&&t.rows[i.row+1]instanceof A.DetailRow&&(i.cancel=!0,n.hideDetail(i.row))}),e.hostElement.addEventListener("keydown",function(t){var i;t.keyCode==Pc.Key.Enter&&n._keyActionEnter==r.ToggleDetail&&(i=n._g.selection.row,n._toggleRowDetail(i)&&t.preventDefault())},!0),t&&Pc.copy(this,t)}A.FlexGridDetailProvider=e}((Vc=Pc.grid||(Pc.grid={})).detail||(Vc.detail={}));var _c,Xc,Kc,Zc,qc,$c,tu,iu,eu,nu,ru,su,ou,au,hu=window&&window.__extends||(_c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}_c(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});function cu(t){return qc.call(this,t)||this}function uu(t){var i=nu.call(this)||this;return i.isReadOnly=!0,i}function lu(t){this._step=5;var i=(this._g=t).hostElement;t.addEventListener(i,"keydown",this._keydown.bind(this),!0),t.addEventListener(i,"keypress",this._keypress.bind(this),!0),this._alert=document.createElement("div"),this._alert.setAttribute("role","alert"),this._alert.setAttribute("aria-live","assertive"),su.setCss(this._alert,{position:"fixed",top:-1e3,left:-1e3}),i.appendChild(this._alert)}function fu(t){var i;Mu.hasOwnProperty(t)&&(i=Mu[t],delete Mu[t],i())}function du(t){return function(){fu(t)}}function Au(t){fu(t.data)}function gu(t){J.postMessage(t+"",Eu.protocol+"//"+Eu.host)}Xc=ru||(window.wijmo=ru={}),Zc=(Kc=Xc.grid||(Xc.grid={})).detail||(Kc.detail={}),hu(cu,qc=Kc.MergeManager),cu.prototype.getMergedRange=function(t,i,e,n){switch(void 0===n&&(n=!0),t.cellType){case Kc.CellType.Cell:if(t.rows[i]instanceof Zc.DetailRow){var r=t.columns,s=Math.min(r.length,r.frozen);return e<s?new Kc.CellRange(i,0,i,s-1):new Kc.CellRange(i,s,i,r.length-1)}break;case Kc.CellType.RowHeader:if(t.rows[i]instanceof Zc.DetailRow)return new Kc.CellRange(i-1,e,i,e);if(i<t.rows.length-1&&t.rows[i+1]instanceof Zc.DetailRow)return new Kc.CellRange(i,e,i+1,e)}return qc.prototype.getMergedRange.call(this,t,i,e,n)},Zc.DetailMergeManager=cu,hu=window&&window.__extends||($c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}$c(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),eu=(iu=(tu=ru||(window.wijmo=ru={})).grid||(tu.grid={})).detail||(iu.detail={}),hu(uu,nu=iu.Row),Object.defineProperty(uu.prototype,"detail",{get:function(){return this._detail},set:function(t){this._detail=t},enumerable:!0,configurable:!0}),eu.DetailRow=uu,su=ru||(window.wijmo=ru={}),ou=(au=su.grid||(su.grid={})).accessibility||(au.accessibility={}),Object.defineProperty(lu.prototype,"polite",{get:function(){return"polite"==this._alert.getAttribute("aria-live")},set:function(t){this._alert.setAttribute("aria-live",t?"polite":"assertive")},enumerable:!0,configurable:!0}),Object.defineProperty(lu.prototype,"resizeStep",{get:function(){return this._step},set:function(t){this._step=t},enumerable:!0,configurable:!0}),lu.prototype.alert=function(t){this._alert.textContent=t},lu.prototype._keydown=function(t){var i=this._g;if(this._ignoreKeyPress=!1,t.altKey&&i.allowResizing&au.AllowResizing.Columns)switch(t.keyCode){case su.Key.End:case su.Key.Left:case su.Key.Right:var e=i.selection;if(-1<e.col){var n=i.columns,r=n[e.col].renderWidth,s=this._step*(t.shiftKey?2:1);if(t.keyCode==su.Key.End)i.autoSizeColumns(e.leftCol,e.rightCol);else{t.keyCode==su.Key.Left?r=Math.round(Math.max(s,r-s)):t.keyCode==su.Key.Right&&(r=Math.round(r+s));for(var o=e.leftCol;o<=e.rightCol;o++)n[o].allowResizing&&(n[o].width=r)}}this._ignoreKeyPress=!0,t.preventDefault()}},lu.prototype._keypress=function(t){this._ignoreKeyPress&&(t.preventDefault(),this._ignoreKeyPress=!1)},ou.AccessibilityExtender=lu;var wu,mu,pu,vu=J.Promise,bu=Bt("navigator","userAgent")||"",Eu=J.location,Bu=J.setImmediate,Cu=J.clearImmediate,ju=J.process,yu=J.MessageChannel,xu=J.Dispatch,Iu=0,Mu={},Fu="onreadystatechange";Bu&&Cu||(Bu=function(t){for(var i=[],e=1;e<arguments.length;)i.push(arguments[e++]);return Mu[++Iu]=function(){("function"==typeof t?t:Function(t)).apply(void 0,i)},wu(Iu),Iu},Cu=function(t){delete Mu[t]},"process"==b(ju)?wu=function(t){ju.nextTick(du(t))}:xu&&xu.now?wu=function(t){xu.now(du(t))}:yu&&!/(iphone|ipod|ipad).*applewebkit/i.test(bu)?(pu=(mu=new yu).port2,mu.port1.onmessage=Au,wu=Er(pu.postMessage,pu,1)):!J.addEventListener||"function"!=typeof postMessage||J.importScripts||p(gu)?wu=Fu in k("script")?function(t){Ci.appendChild(k("script"))[Fu]=function(){Ci.removeChild(this),fu(t)}}:function(t){setTimeout(du(t),0)}:(wu=gu,J.addEventListener("message",Au,!1)));var Qu,Ru,ku,Su,Du,Nu,Tu,Ou,Yu={set:Bu,clear:Cu},Uu=ot.f,Hu=Yu.set,zu=J.MutationObserver||J.WebKitMutationObserver,Gu=J.process,Pu=J.Promise,Vu="process"==b(Gu),Lu=Uu(J,"queueMicrotask"),Ju=Lu&&Lu.value;function Wu(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=Gn(e),this.reject=Gn(n)}function _u(t,i){if(S(t),B(i)&&i.constructor===t)return i;var e=ol.f(t);return(0,e.resolve)(i),e.promise}function Xu(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}function Ku(t){var i;return!(!B(t)||"function"!=typeof(i=t.then))&&i}function Zu(l,f,d){var A;f.notified||(f.notified=!0,A=f.reactions,sl(function(){for(var t=f.value,i=1==f.state,e=0;A.length>e;){var n,r,s,o=A[e++],a=i?o.ok:o.fail,h=o.resolve,c=o.reject,u=o.domain;try{a?(i||(2===f.rejection&&Fl(l,f),f.rejection=1),!0===a?n=t:(u&&u.enter(),n=a(t),u&&(u.exit(),s=!0)),n===o.promise?c(Al("Promise-chain cycle")):(r=Ku(n))?r.call(n,h,c):h(n)):c(t)}catch(t){u&&!s&&u.exit(),c(t)}}f.reactions=[],f.notified=!1,d&&!f.rejection&&Il(l,f)}))}function qu(t,i,e){var n,r;Cl?((n=gl.createEvent("Event")).promise=i,n.reason=e,n.initEvent(t,!1,!0),J.dispatchEvent(n)):n={promise:i,reason:e},(r=J["on"+t])?r(n):t===jl&&function(t,i){var e=J.console;e&&e.error&&(1===arguments.length?e.error(t):e.error(t,i))}("Unhandled promise rejection",e)}function $u(i,e,n,r){return function(t){i(e,n,t,r)}}function tl(t,i,e,n){i.done||(i.done=!0,n&&(i=n),i.value=e,i.state=2,Zu(t,i,!0))}Ju||(Qu=function(){var t,i;for(Vu&&(t=Gu.domain)&&t.exit();Ru;){i=Ru.fn,Ru=Ru.next;try{i()}catch(t){throw Ru?Su():ku=void 0,t}}ku=void 0,t&&t.enter()},Su=Vu?function(){Gu.nextTick(Qu)}:zu&&!/(iphone|ipod|ipad).*applewebkit/i.test(bu)?(Du=!0,Nu=document.createTextNode(""),new zu(Qu).observe(Nu,{characterData:!0}),function(){Nu.data=Du=!Du}):Pu&&Pu.resolve?(Tu=Pu.resolve(void 0),Ou=Tu.then,function(){Ou.call(Tu,Qu)}):function(){Hu.call(J,Qu)});var il,el,nl,rl,sl=Ju||function(t){var i={fn:t,next:void 0};ku&&(ku.next=i),Ru||(Ru=i,Su()),ku=i},ol={f:function(t){return new Wu(t)}},al=Yu.set,hl=St("species"),cl="Promise",ul=Tt.get,ll=Tt.set,fl=Tt.getterFor(cl),dl=vu,Al=J.TypeError,gl=J.document,wl=J.process,ml=J.fetch,pl=wl&&wl.versions,vl=pl&&pl.v8||"",bl=ol.f,El=bl,Bl="process"==b(wl),Cl=!!(gl&&gl.createEvent&&J.dispatchEvent),jl="unhandledrejection",yl=ei(cl,function(){function i(){}var t=dl.resolve(1),e=(t.constructor={})[hl]=function(t){t(i,i)};return!((Bl||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e&&0!==vl.indexOf("6.6")&&-1===bu.indexOf("Chrome/66"))}),xl=yl||!Ga(function(t){dl.all(t).catch(function(){})}),Il=function(e,n){al.call(J,function(){var t,i=n.value;if(Ml(n)&&(t=Xu(function(){Bl?wl.emit("unhandledRejection",i,e):qu(jl,e,i)}),n.rejection=Bl||Ml(n)?2:1,t.error))throw t.value})},Ml=function(t){return 1!==t.rejection&&!t.parent},Fl=function(t,i){al.call(J,function(){Bl?wl.emit("rejectionHandled",t):qu("rejectionhandled",t,i.value)})},Ql=function(e,n,t,i){if(!n.done){n.done=!0,i&&(n=i);try{if(e===t)throw Al("Promise can't be resolved itself");var r=Ku(t);r?sl(function(){var i={done:!1};try{r.call(t,$u(Ql,e,i,n),$u(tl,e,i,n))}catch(t){tl(e,i,t,n)}}):(n.value=t,n.state=1,Zu(e,n,!1))}catch(t){tl(e,{done:!1},t,n)}}};yl&&(dl=function(t){Ra(this,dl,cl),Gn(t),il.call(this);var i=ul(this);try{t($u(Ql,this,i),$u(tl,this,i))}catch(t){tl(this,i,t)}},(il=function(){ll(this,{type:cl,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Va(dl.prototype,{then:function(t,i){var e=fl(this),n=bl(Pn(this,dl));return n.ok="function"!=typeof t||t,n.fail="function"==typeof i&&i,n.domain=Bl?wl.domain:void 0,e.parent=!0,e.reactions.push(n),0!=e.state&&Zu(this,e,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),el=function(){var t=new il,i=ul(t);this.promise=t,this.resolve=$u(Ql,t,i),this.reject=$u(tl,t,i)},ol.f=bl=function(t){return t===dl||t===nl?new el:El(t)},"function"==typeof vu&&(rl=vu.prototype.then,Ot(vu.prototype,"then",function(t,i){var e=this;return new dl(function(t,i){rl.call(e,t,i)}).then(t,i)},{unsafe:!0}),"function"==typeof ml&&Qt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return _u(dl,ml.apply(J,arguments))}}))),Qt({global:!0,wrap:!0,forced:yl},{Promise:dl}),zi(dl,cl,!1),tn(cl),nl=Yt[cl],Qt({target:cl,stat:!0,forced:yl},{reject:function(t){var i=bl(this);return i.reject.call(void 0,t),i.promise}}),Qt({target:cl,stat:!0,forced:yl},{resolve:function(t){return _u(this,t)}}),Qt({target:cl,stat:!0,forced:xl},{all:function(t){var a=this,i=bl(a),h=i.resolve,c=i.reject,e=Xu(function(){var n=Gn(a.resolve),r=[],s=0,o=1;Oa(t,function(t){var i=s++,e=!1;r.push(void 0),o++,n.call(a,t).then(function(t){e||(e=!0,r[i]=t,--o||h(r))},c)}),--o||h(r)});return e.error&&c(e.value),i.promise},race:function(t){var e=this,n=bl(e),r=n.reject,i=Xu(function(){var i=Gn(e.resolve);Oa(t,function(t){i.call(e,t).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}});var Rl,kl,Sl,Dl,Nl=(Object.defineProperty(Tl.prototype,"itemHeightEstimate",{get:function(){return this.component.itemHeightEstimate},enumerable:!1,configurable:!0}),Object.defineProperty(Tl.prototype,"wasItemHeightEstimateAccurate",{get:function(){return this.component.wasItemHeightEstimateAccurate},enumerable:!1,configurable:!0}),Tl.prototype.removeGridScrolledListener=function(t){var i=this.component.getScrollableElement();i&&i.removeEventListener("scroll",t)},Tl.prototype.getRowHeight=function(){return this.component.getRenderedCellHeight()},Tl.prototype.getScrollHeight=function(){return $(this.component.getScrollableElement()).prop("scrollHeight")},Tl.prototype.getClientHeight=function(){return $(this.component.getScrollableElement()).prop("clientHeight")},Tl.prototype.getOffsetHeight=function(){return $(this.component.getScrollableElement()).prop("offsetHeight")},Tl.prototype.getScrollTop=function(){return $(this.component.getScrollableElement()).scrollTop()},Tl.prototype.scrollTop=function(t){$(this.component).scrollTop(t)},Tl.prototype.setItemsToRender=function(t){this.itemHeightEstimate&&this.component.setItemsToRender(t)},Tl.prototype.dispose=function(){this.component=null},Tl);function Tl(t){var i=this;this.addGridScrolledListener=function(t){i.component.attachScrollHandler(t)},this.component=t}(kl=Rl={})[kl.Reflow=0]="Reflow",kl[kl.GridOnly=1]="GridOnly",kl[kl.ListOnly=2]="ListOnly",(Dl=Sl={})[Dl.Grid=0]="Grid",Dl[Dl.List=1]="List";var Ol=(Object.defineProperty(Yl,"ReflowString",{get:function(){return"reflow"},enumerable:!1,configurable:!0}),Object.defineProperty(Yl,"GridOnlyString",{get:function(){return"gridonly"},enumerable:!1,configurable:!0}),Object.defineProperty(Yl,"ListOnlyString",{get:function(){return"listonly"},enumerable:!1,configurable:!0}),Yl.parseValue=function(t){switch(t.toLowerCase()){case Yl.ReflowString:return Rl.Reflow;case Yl.GridOnlyString:return Rl.GridOnly;case Yl.ListOnlyString:return Rl.ListOnly;default:return null}},Yl);function Yl(){}var Ul=(Hl.prototype.addCommandListener=function(t,i,e,n,r,s){void 0===r&&(r=""),void 0===s&&(s="");var o={Tooltip:{title:s},Icon:r,DisplayText:i,Id:e,execute:n};t===Sl.List?this.listCommands.push(o):this.gridCommands.push(o)},Hl.prototype.fireListEvents=function(t){!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.utils.eventListenerExists)&&t.utils.eventListenerExists(Hl.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR)&&t.utils.fireEvent(Hl.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR,this.listCommands)},Hl.prototype.fireListItemEvents=function(t,i,e){!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.utils.eventListenerExists)&&t.utils.eventListenerExists(Hl.OPEN_CONTROL_COMMANDS_IN_MOBILE_OPTIMIZED_DRAWER)&&t.utils.fireEvent(Hl.OPEN_CONTROL_COMMANDS_IN_MOBILE_OPTIMIZED_DRAWER,[i,e])},Hl.prototype.fireGridEvents=function(t){!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.utils.eventListenerExists)&&t.utils.eventListenerExists(Hl.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR)&&t.utils.fireEvent(Hl.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR,this.gridCommands)},Hl.prototype.fireSortColumnEvents=function(t,i,e,n,r){!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.utils.eventListenerExists)&&t.utils.eventListenerExists(Hl.OPEN_CONTROL_SORT_COLUMNS_IN_MOBILE_DRAWER)&&t.utils.fireEvent(Hl.OPEN_CONTROL_SORT_COLUMNS_IN_MOBILE_DRAWER,{sortColumns:i,selectedColumn:e,applySortingAndRefresh:n,drawerTitle:r})},Hl.prototype.disposeCommands=function(t){t===Sl.List?this.listCommands=[]:this.gridCommands=[]},Hl.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR="sendgridcontrolcommandstohostcommandbar",Hl.OPEN_CONTROL_SORT_COLUMNS_IN_MOBILE_DRAWER="opencontrolsortcolumnsinmobiledrawer",Hl.OPEN_CONTROL_COMMANDS_IN_MOBILE_OPTIMIZED_DRAWER="opencontrolcommandsinmobileoptimizeddrawer",Hl);function Hl(){this.listCommands=[],this.gridCommands=[]}var zl=Object.assign,Gl=!zl||p(function(){var t={},i={},e=Symbol(),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach(function(t){i[t]=t}),7!=zl({},t)[e]||Ei(zl({},i)).join("")!=n})?function(t,i){for(var e=Rt(t),n=arguments.length,r=1,s=Xt.f,o=K.f;r<n;)for(var a,h=tt(arguments[r++]),c=s?Ei(h).concat(s(h)):Ei(h),u=c.length,l=0;l<u;)a=c[l++],W&&!o.call(h,a)||(e[a]=h[a]);return e}:zl;Qt({target:"Object",stat:!0,forced:Object.assign!==Gl},{assign:Gl});var Pl=(Vl.eventMouseDown="mousedown",Vl.eventMouseClick="click",Vl.eventKeyDown="keydown",Vl.eventFocus="focus",Vl.doubleTapThreshold=500,Vl.controlDivPostfix="_control",Vl.componentDivPostfix="_component",Vl.groupBySelectPostfix="_groupBySelect",Vl.genericErrorPostfix="_genericError",Vl.searchPlaceholderPostfix="_searchPlaceholder",Vl.updateErrorPostfix="_updateError",Vl.pagerPostfix="_pager",Vl.firstPagePostfix="_firstPage",Vl.previousPagePostfix="_previousPage",Vl.nextPagePostfix="_nextPage",Vl.noRecordsPostfix="_noRecords",Vl.ariaPoliteLiveRegionPostfix="_ariaPoliteLiveRegion",Vl.ariaAssertiveLiveRegionPostfix="_ariaAssertiveLiveRegion",Vl.statusAreaPostfix="_statusArea",Vl.labelPostfix="_label",Vl.valuePostfix="_value",Vl.instructionPostfix="_instruction",Vl.cellErrorMessagePostfix="_error_message",Vl.progressIndicatorPostfix="_progressIndicator",Vl.tabIndex="tabindex",Vl.dataId="data-id",Vl.cellId="id",Vl.role="role",Vl.dataRowCount="data-row-count",Vl.dataColumnCount="data-col-count",Vl.rowHeaderRowNumber="header-row-number",Vl.dataType="data-type",Vl.ariaDescribedBy="aria-describedby",Vl.ariaRequired="aria-required",Vl.ariaReadOnly="aria-readonly",Vl.ariaInvalid="aria-invalid",Vl.ariaLabel="aria-label",Vl.ariaLabelledBy="aria-labelledby",Vl.ariaSort="aria-sort",Vl.ariaExpanded="aria-expanded",Vl.ariaRowIndex="aria-rowindex",Vl.ariaRowCount="aria-rowcount",Vl.CardHeader="CardHeader",Vl.CardDetails="CardDetails",Vl.CardFooter="CardFooter",Vl.ColorStrip="ColorStrip",Vl.entityImgUrlAlias="entityimage_url",Vl.stateGridLayout="gridColumnLayout",Vl.nonBreakingSpace=String.fromCharCode(160),Vl.OptionSetValue="Value",Vl.OptionSetLabel="Label",Vl.appBarClass="data-selectable",Vl.rowSelectedClass="cc-grid-selectedRow",Vl.noRecordsLabelClass="cc-grid-noRecordslabel",Vl.noRecordsContainerClass="cc-grid-noRecords-Container",Vl.navigableCell="cc-gridcell-navigable",Vl.rollupIconClass="cc-gridcell-rollup-icon",Vl.rollupDateClass="cc-gridcell-rollup-date",Vl.rowNavigatorClass="row-navigator",Vl.lookupNavigationButtonClass="cc-lookup-nav-button",Vl.headerCellHoverClass="cc-grid-rowHover",Vl.groupHeaderCellClass="data-group-selectable",Vl.gridProgressIndicatorClass="cc-grid-progressIndicator",Vl.headerButtonsClass="cc-ds-header-buttons",Vl.headerButtonsLeftClass="cc-ds-header-buttons-left",Vl.headerBtnClass="cc-ds-headerbtn",Vl.headerBtnRefreshClass="cc-ds-header-refresh-btn",Vl.headerBtnSelectClass="cc-ds-header-select-all-btn",Vl.headerBtnSaveClass="cc-ds-header-save-btn",Vl.rowBtnClass="cc-ds-rowbtn",Vl.rowBtnNavClass="cc-ds-rowbtn-nav",Vl.rowBtnDeleteClass="cc-ds-rowbtn-delete",Vl.calendarIconGlyph="cc-grid-calendar-icon",Vl.nestedGridDetailClass="cc-grid-detail",Vl.nestedGridCellClass="cc-grid-nested-cell",Vl.nestedGridExpanderClass="cc-grid-nested-expander",Vl.nestedGridExpanderRTLClass="cc-grid-nested-expander-rtl",Vl.nestedGridExpanderEditClass="cc-grid-nested-expander-edit",Vl.nestedGridExpanderEditRTLClass="cc-grid-nested-expander-edit-rtl",Vl.nestedGridExpanderExpandClass="cc-grid-nested-expander-expand",Vl.nestedGridExpanderCollapseClass="cc-grid-nested-expander-collapse",Vl.wijmoNestedGridExpanderCellClass="wj-elem-detail",Vl.parentRecordIdAttributeName="cc-parent-record-id",Vl.cellsDataIdAttributeName="grid-cell-container",Vl.ccRowHeaderIconContainerCSSClass="cc-row-header-icon-container",Vl.ccHierarchyIconCSSClass="cc-hierarchy-icon",Vl.ccHierarchyIconEmptyDiv="cc-hierarchy-icon-empty-div",Vl.ccConditionalImageEmptyDiv="cc-conditional-image-empty-div",Vl.gridRowHoverColor="#d8d8d8",Vl.dynPrimaryColor="#2266E3",Vl.treeIndent=37,Vl.customDropDownMaxHeight=150,Vl.firstRowHeight=52,Vl.controlName="GridControl",Vl.maxNumberOfLookupColumns=1,Vl.maxNumberOfColumnsOnSmallScreen=3,Vl.btnHeaderColumnName="btnheadercolumn",Vl.btnHeaderSelectColumnName="btnheaderselectcolumn",Vl.summaryHeaderColumnName="summaryheadercolumn",Vl.htmlTitleAttributeName="title",Vl.filterCallOutWidth=250,Vl.rowNavigatorButtonTolerance=2,Vl.kbTabCode=9,Vl.kbEnterCode=13,Vl.kbSpaceCode=32,Vl.kbPageUpCode=33,Vl.kbPageDownCode=34,Vl.kbArrowLeftCode=37,Vl.kbArrowUpCode=38,Vl.kbArrowRightCode=39,Vl.kbArrowDownCode=40,Vl.kbF4Code=115,Vl.rowsToFetchPerRequestForLookup=100,Vl.lpGridContainerId="cc-grid",Vl.lpGridId="cc-grid|grid",Vl.lpGridFooterPagerId=(Vl.lpGridFooterId="cc-grid|cc-grid-footer")+"|cc-grid-pager",Vl.lpGridHeaderId="cc-grid|cc-grid-header",Vl.lpGridCellContainerId="cc-grid|grid-cell-container",Vl.lpGridCellPrefixId="cc-grid|cc-grid-cell|",Vl.lpGridColumnPrefixId="cc-grid|cc-grid-column|",Vl.kbSCode=83,Vl.kbEscapeCode=27,Vl.componentName="SharedGrid",Vl.gridDataType="datatype",Vl.loadEvent="Load",Vl.eventDescription="event_description",Vl.gridRenderingMessage="grid control is rendering as :",Vl.gridLoadType="grid_load_type",Vl.editableGrid="editable grid",Vl.readonlyGrid="readonly grid",Vl.gridViewId="grid_viewId",Vl.propertyKeyGrid="Grid",Vl.progressIndicatorSize=40,Vl.propertyKeySubGrid="SubGrid",Vl.headerDialogOnTop="headerDialogOnTop",Vl.headerDialogPreventDismissOnScroll="headerDialogPreventDismissOnScroll",Vl.stateCodeColumn="statecode",Vl.statusCodeColumn="statuscode",Vl.glyphsOffset=40,Vl.glyphsFullOffset=60,Vl.connectionReadOnlyColumnName="record2id",Vl.connectionEntityName="connection",Vl.subjectEntityName="subject",Vl.sharePointDocumentEntityName="sharepointdocument",Vl.activityMimeAttachmentEntityName="activitymimeattachment",Vl.divNodeTagName="DIV",Vl.borderBottomStyle="1px Solid #EAEAEA",Vl.HeaderBorderBottomStyle="2px Solid ",Vl.HighDensityFontColor="#6E6F77",Vl.HighDensityClassSelector=".HighDensityGrid",Vl.HeaderClassSelector=".wj-cell.wj-header",Vl.BackgroundColorProperty="background-color",Vl.ColorCSSProperty="color",Vl.ImportantCSS=" !important",Vl.BorderBottomColor="border-bottom-color",Vl.entityLogicalNameProperty="logicalName",Vl.ChildCountAliasName="HierarchyDataChildCount6dcd9e4c001441b09237d51a34853d55",Vl.HierarchyControlName="MscrmControls.HierarchyControl.HierarchyControl",Vl.ErrorInvalidParameter="Invalid input parameter building the itemsSource collection: {0}",Vl.ErrorInvalidRecordId="Invalid record ID was found while building the itemsSource collection.",Vl.ActivityPointerEntity="activitypointer",Vl.ActivityFilterColumnName="activitytypecode",Vl.PreventDefaultErrorCode=2200000005,Vl.FilterHasBeenApplied="Filter_Has_Been_Applied",Vl.SortAndFilterInstruction="Sort_And_Filter_Instruction",Vl);function Vl(){}var Ll=(Jl.generateFormDescriptorInfoForActivityPointer=function(t,i){t&&t.attributeDescriptors&&(i[Pl.CardHeader]=[],t.attributeDescriptors[Jl.ActivityTypeCode]&&i[Pl.CardHeader].push({DataFieldName:t.attributeDescriptors[Jl.ActivityTypeCode].LogicalName,Label:t.attributeDescriptors[Jl.ActivityTypeCode].DisplayName,ClassId:t.attributeDescriptors[Jl.ActivityTypeCode].Id}),t.attributeDescriptors[Jl.PriorityCode]&&i[Pl.CardHeader].push({DataFieldName:t.attributeDescriptors[Jl.PriorityCode].LogicalName,Label:t.attributeDescriptors[Jl.PriorityCode].DisplayName,ClassId:t.attributeDescriptors[Jl.PriorityCode].Id}),t.attributeDescriptors[Jl.ScheduledEnd]&&i[Pl.CardHeader].push({DataFieldName:t.attributeDescriptors[Jl.ScheduledEnd].LogicalName,Label:t.attributeDescriptors[Jl.ScheduledEnd].DisplayName,ClassId:t.attributeDescriptors[Jl.ScheduledEnd].Id}),i[Pl.CardDetails]=[],t.attributeDescriptors[Jl.Subject]&&i[Pl.CardDetails].push({DataFieldName:t.attributeDescriptors[Jl.Subject].LogicalName,Label:t.attributeDescriptors[Jl.Subject].DisplayName,ClassId:t.attributeDescriptors[Jl.Subject].Id}),t.attributeDescriptors[Jl.RegardingObjectId]&&i[Pl.CardDetails].push({DataFieldName:t.attributeDescriptors[Jl.RegardingObjectId].LogicalName,Label:t.attributeDescriptors[Jl.RegardingObjectId].DisplayName,ClassId:t.attributeDescriptors[Jl.RegardingObjectId].Id}),i[Pl.CardFooter]=[],t.attributeDescriptors[Jl.OwnerId]&&i[Pl.CardFooter].push({DataFieldName:t.attributeDescriptors[Jl.OwnerId].LogicalName,Label:t.attributeDescriptors[Jl.OwnerId].DisplayName,ClassId:t.attributeDescriptors[Jl.OwnerId].Id}),t.attributeDescriptors[Jl.CreatedOn]&&i[Pl.CardFooter].push({DataFieldName:t.attributeDescriptors[Jl.CreatedOn].LogicalName,Label:t.attributeDescriptors[Jl.CreatedOn].DisplayName,ClassId:t.attributeDescriptors[Jl.CreatedOn].Id}),i[Pl.ColorStrip]=[],t.attributeDescriptors[Jl.StateCode]&&i[Pl.ColorStrip].push({DataFieldName:t.attributeDescriptors[Jl.StateCode].LogicalName,Label:t.attributeDescriptors[Jl.StateCode].DisplayName,ClassId:t.attributeDescriptors[Jl.StateCode].Id}))},Jl.ActivityTypeCode="activitytypecode",Jl.PriorityCode="prioritycode",Jl.ScheduledEnd="scheduledend",Jl.Subject="subject",Jl.Description="description",Jl.RegardingObjectId="regardingobjectid",Jl.OwnerId="ownerid",Jl.CreatedOn="createdon",Jl.StateCode="statecode",Jl);function Jl(){}var Wl,_l,Xl=(Kl.keyboardNavigation=function(t,i){if(-1!==Kl.supportedKeys.indexOf(t.keyCode)){var e,n,r=t.target,s=t.currentTarget,o=s===r.parentElement,a=o?r:Kl.findListItem(r,s);switch(t.keyCode){case 38:var h=a.previousElementSibling;h&&h.focus(),t.preventDefault();break;case 40:var c=a.nextElementSibling;c&&c.focus(),t.preventDefault();break;case 36:!o||(e=a.parentElement.firstElementChild)&&e.focus();break;case 35:!o||(n=a.parentElement.lastElementChild)&&n.focus();break;case 13:(i||a).click()}}},Kl.findListItem=function(t,i){for(;t.parentElement!==i&&(t=t.parentElement););return t},Kl.supportedKeys=[38,40,13,36,35],Kl);function Kl(){}(_l=Wl={})[_l.Entity=0]="Entity",_l[_l.List=1]="List",_l[_l.Account=2]="Account",_l[_l.Opportunity=3]="Opportunity",_l[_l.Sharepointdocument=4]="Sharepointdocument",_l[_l.Dashboard=5]="Dashboard",_l[_l.WORKSPACE=6]="WORKSPACE",_l[_l.Lead=7]="Lead",_l[_l.Contact=8]="Contact",_l[_l.Activitypointer=9]="Activitypointer",_l[_l.Drafts=10]="Drafts",_l[_l.Systemuser=11]="Systemuser",_l[_l.Letter=12]="Letter",_l[_l.Salesorder=13]="Salesorder",_l[_l.Competitor=14]="Competitor",_l[_l.Task=15]="Task",_l[_l.Fax=16]="Fax",_l[_l.Email=17]="Email",_l[_l.Phonecall=18]="Phonecall",_l[_l.Contract=19]="Contract",_l[_l.Quote=20]="Quote",_l[_l.Incident=21]="Incident",_l[_l.Campaign=22]="Campaign",_l[_l.Appointment=23]="Appointment",_l[_l.Invoice=24]="Invoice",_l[_l.Knowledgearticle=25]="Knowledgearticle",_l[_l.Product=26]="Product",_l[_l.Opportunityproduct=27]="Opportunityproduct",_l[_l.Queueitem=28]="Queueitem",_l[_l.Socialprofile=29]="Socialprofile",_l[_l.ChevronRight=30]="ChevronRight",_l[_l.Globe=31]="Globe",_l[_l.Ticker=32]="Ticker",_l[_l.Duration=33]="Duration",_l[_l.Timezone=34]="Timezone",_l[_l.Language=35]="Language",_l[_l.MultipleUsers=36]="MultipleUsers",_l[_l.Regarding=37]="Regarding",_l[_l.Checklist=38]="Checklist",_l[_l.TwoOptions=39]="TwoOptions",_l[_l.Currency=40]="Currency",_l[_l.DateTime=41]="DateTime",_l[_l.OfficeIcon=42]="OfficeIcon",_l[_l.OfficeIconWordFileSharedWithMe=43]="OfficeIconWordFileSharedWithMe",_l[_l.OfficeIconWordFileCheckedOut=44]="OfficeIconWordFileCheckedOut",_l[_l.OfficeIconExcelFile=45]="OfficeIconExcelFile",_l[_l.OfficeIconExcelFileSharedWithMe=46]="OfficeIconExcelFileSharedWithMe",_l[_l.OfficeIconExcelFileCheckedOut=47]="OfficeIconExcelFileCheckedOut",_l[_l.OfficeIconPowerPointFile=48]="OfficeIconPowerPointFile",_l[_l.OfficeIconPowerPointFileSharedWithMe=49]="OfficeIconPowerPointFileSharedWithMe",_l[_l.OfficeIconPowerPointFileCheckedOut=50]="OfficeIconPowerPointFileCheckedOut",_l[_l.OfficeIconOneNoteFile=51]="OfficeIconOneNoteFile",_l[_l.OfficeIconOneNoteFileSharedWithMe=52]="OfficeIconOneNoteFileSharedWithMe",_l[_l.OfficeIconOneNoteFileCheckedOut=53]="OfficeIconOneNoteFileCheckedOut",_l[_l.OfficeIconAccessFile=54]="OfficeIconAccessFile",_l[_l.OfficeIconAccessFileSharedWithMe=55]="OfficeIconAccessFileSharedWithMe",_l[_l.OfficeIconAccessFileCheckedOut=56]="OfficeIconAccessFileCheckedOut",_l[_l.OfficeIconProjectFile=57]="OfficeIconProjectFile",_l[_l.OfficeIconProjectFileSharedWithMe=58]="OfficeIconProjectFileSharedWithMe",_l[_l.OfficeIconProjectFileCheckedOut=59]="OfficeIconProjectFileCheckedOut",_l[_l.OfficeIconVisioFile=60]="OfficeIconVisioFile",_l[_l.OfficeIconVisioFileSharedWithMe=61]="OfficeIconVisioFileSharedWithMe",_l[_l.OfficeIconVisioFileCheckedOut=62]="OfficeIconVisioFileCheckedOut",_l[_l.OfficeIconHelpFile=63]="OfficeIconHelpFile",_l[_l.OfficeIconHelpFileSharedWithMe=64]="OfficeIconHelpFileSharedWithMe",_l[_l.OfficeIconHelpFileCheckedOut=65]="OfficeIconHelpFileCheckedOut",_l[_l.OfficeIconZipFile=66]="OfficeIconZipFile",_l[_l.OfficeIconZipFileSharedWithMe=67]="OfficeIconZipFileSharedWithMe",_l[_l.OfficeIconZipFileCheckedOut=68]="OfficeIconZipFileCheckedOut",_l[_l.OfficeIconSetupFile=69]="OfficeIconSetupFile",_l[_l.OfficeIconSetupFileSharedWithMe=70]="OfficeIconSetupFileSharedWithMe",_l[_l.OfficeIconSetupFileCheckedOut=71]="OfficeIconSetupFileCheckedOut",_l[_l.OfficeIconVideoFile=72]="OfficeIconVideoFile",_l[_l.OfficeIconVideoFileSharedWithMe=73]="OfficeIconVideoFileSharedWithMe",_l[_l.OfficeIconVideoFileCheckedOut=74]="OfficeIconVideoFileCheckedOut",_l[_l.OfficeIconImageFile=75]="OfficeIconImageFile",_l[_l.OfficeIconImageFileSharedWithMe=76]="OfficeIconImageFileSharedWithMe",_l[_l.OfficeIconImageFileCheckedOut=77]="OfficeIconImageFileCheckedOut",_l[_l.OfficeIconAudioFile=78]="OfficeIconAudioFile",_l[_l.OfficeIconAudioFileSharedWithMe=79]="OfficeIconAudioFileSharedWithMe",_l[_l.OfficeIconAudioFileCheckedOut=80]="OfficeIconAudioFileCheckedOut",_l[_l.OfficeIconExecutableFile=81]="OfficeIconExecutableFile",_l[_l.OfficeIconExecutableFileSharedWithMe=82]="OfficeIconExecutableFileSharedWithMe",_l[_l.OfficeIconExecutableFileCheckedOut=83]="OfficeIconExecutableFileCheckedOut",_l[_l.OfficeIconPdfFile=84]="OfficeIconPdfFile",_l[_l.OfficeIconPdfFileSharedWithMe=85]="OfficeIconPdfFileSharedWithMe",_l[_l.OfficeIconPdfFileCheckedOut=86]="OfficeIconPdfFileCheckedOut",_l[_l.OfficeIconWebFile=87]="OfficeIconWebFile",_l[_l.OfficeIconWebFileSharedWithMe=88]="OfficeIconWebFileSharedWithMe",_l[_l.OfficeIconWebFileCheckedOut=89]="OfficeIconWebFileCheckedOut",_l[_l.OfficeIconTextFile=90]="OfficeIconTextFile",_l[_l.OfficeIconTextFileSharedWithMe=91]="OfficeIconTextFileSharedWithMe",_l[_l.OfficeIconTextFileCheckedOut=92]="OfficeIconTextFileCheckedOut",_l[_l.OfficeIconFolder=93]="OfficeIconFolder",_l[_l.OfficeIconFolderSharedWithMe=94]="OfficeIconFolderSharedWithMe",_l[_l.OfficeIconFolderCheckedOut=95]="OfficeIconFolderCheckedOut",_l[_l.OfficeIconGenericFile=96]="OfficeIconGenericFile",_l[_l.OfficeIconGenericFileSharedWithMe=97]="OfficeIconGenericFileSharedWithMe",_l[_l.OfficeIconGenericFileCheckedOut=98]="OfficeIconGenericFileCheckedOut",_l[_l.Timer=99]="Timer";var Zl=(ql.editableGridAria="CC_Grid_Name",ql.readonlyGridAria="CC_ReadonlyGrid_Name",ql.commandBarFlyoutOpenButton="Command_Bar_Flyout_Open_Button",ql.commandBarSortIconText="Command_Bar_Sort_Icon_Text",ql.commandBarSortToolTipText="Command_Bar_Sort_Tool_Tip_Text",ql.commandBarSelectIconText="Command_Bar_Select_Icon_Text",ql.commandBarSelectAllIconText="Command_Bar_Select_All_Icon_Text",ql.commandBarSelectToolTipText="Command_Bar_Select_Tool_Tip_Text",ql.commandBarSelectAllToolTipText="Command_Bar_Select_All_Tool_Tip_Text",ql.emptyCellAria="CustomControl_Grid_Aria_Empty_Cell",ql.cellTemplateAria="CustomControl_Grid_Aria_Cell_Template",ql.groupByMenuHeader="CustomControl_Grid_GroupBy_MenuHeader",ql.chooseColumnsMenuHeader="CustomControl_Grid_ChooseColumns_MenuHeader",ql.groupByItemsCount="CustomControl_Grid_GroupBy_Items",ql.noGroupingOption="CustomControl_Grid_NoGrouping",ql.firstPageTooltip="CustomControl_Grid_Paging_First",ql.nextPageTooltip="CustomControl_Grid_Paging_Next",ql.currentPageTooltip="CustomControl_Grid_Paging_Current",ql.currentPagingMask="Grid_Paging_Mask",ql.previousPageTooltip="CustomControl_Grid_Paging_Previous",ql.accessibilityStartEditingInstruction="CustomControl_Grid_Accessibility_StartEditingInstruction",ql.rollupFieldLastUpdatedLabel="RollupFieldLastUpdatedLabel",ql.durationHoursText="L_DurationScrollerItem.Hours_Text",ql.durationMinutesText="L_DurationScrollerItem.Minutes_Text",ql.durationDaysText="L_DurationScrollerItem.Days_Text",ql.durationHourText="L_DurationScrollerItem.Hour_Text",ql.durationMinuteText="L_DurationScrollerItem.Minute_Text",ql.durationDayText="L_DurationScrollerItem.Day_Text",ql.noRecordsText="L_List_No_Records_Text",ql.jumpBarButtonText="JumpBar_Button_Text",ql.enableLookupFilter="CustomControl_Grid_Lookup_Enable_Filter",ql.disableLookupFilter="CustomControl_Grid_Lookup_Disable_Filter",ql.gridFilteringAscending="CustomControl_Grid_Filtering_Ascending",ql.gridFilteringDescending="CustomControl_Grid_Filtering_Descending",ql.gridFilteringApply="CustomControl_Grid_Filtering_Apply",ql.gridFilteringCancel="CustomControl_Grid_Filtering_Cancel",ql.gridFilteringClear="CustomControl_Grid_Filtering_Clear",ql.gridFilteringCondition="CustomControl_Grid_Filtering_Condition",ql.gridFilteringValue="CustomControl_Grid_Filtering_Value",ql.gridFilteringValueFilterSearch="CustomControl_Grid_Filtering_ValueFilter_Search",ql.gridFilteringValueFilterSelectAll="CustomControl_Grid_Filtering_ValueFilter_SelectAll",ql.gridFilteringValueFilterNull="CustomControl_Grid_Filtering_ValueFilter_Null",ql.gridFilteringConditionFilterHeader="CustomControl_Grid_Filtering_ConditionFilter_Header",ql.gridFilteringConditionFilterAnd="CustomControl_Grid_Filtering_ConditionFilter_And",ql.gridFilteringConditionFilterOr="CustomControl_Grid_Filtering_ConditionFilter_Or",ql.gridFilteringConditionFilterOperatorNotSet="CustomControl_Grid_Filtering_ConditionOperator_NotSet",ql.gridFilteringConditionFilterOperatorEquals="CustomControl_Grid_Filtering_ConditionOperator_Equals",ql.gridFilteringConditionFilterOperatorDoesNotEqual="CustomControl_Grid_Filtering_ConditionOperator_DoesNotEqual",ql.gridFilteringConditionFilterOperatorBeginsWith="CustomControl_Grid_Filtering_ConditionOperator_BeginsWith",ql.gridFilteringConditionFilterOperatorEndsWith="CustomControl_Grid_Filtering_ConditionOperator_EndsWith",ql.gridFilteringConditionFilterOperatorContains="CustomControl_Grid_Filtering_ConditionOperator_Contains",ql.gridFilteringConditionFilterOperatorDoesNotContain="CustomControl_Grid_Filtering_ConditionOperator_DoesNotContain",ql.gridFilteringConditionFilterOperatorGreater="CustomControl_Grid_Filtering_ConditionOperator_Greater",ql.gridFilteringConditionFilterOperatorGreaterOrEqual="CustomControl_Grid_Filtering_ConditionOperator_GreaterOrEqual",ql.gridFilteringConditionFilterOperatorLess="CustomControl_Grid_Filtering_ConditionOperator_Less",ql.gridFilteringConditionFilterOperatorLessOrEqual="CustomControl_Grid_Filtering_ConditionOperator_LessOrEqual",ql.gridFilteringConditionFilterOperatorIsBefore="CustomControl_Grid_Filtering_ConditionOperator_IsBefore",ql.gridFilteringConditionFilterOperatorIsAfter="CustomControl_Grid_Filtering_ConditionOperator_IsAfter",ql.gridFilteringConditionFilterOperatorOn="CustomControl_Grid_Filtering_ConditionOperator_On",ql.gridFilteringConditionFilterOperatorOnOrBefore="CustomControl_Grid_Filtering_ConditionOperator_OnOrBefore",ql.gridFilteringConditionFilterOperatorOnOrAfter="CustomControl_Grid_Filtering_ConditionOperator_OnOrAfter",ql.gridFilteringLabelFilterBy="CustomControl_Grid_Filtering_Label_FilterBy",ql.gridFilteringLabelClearFilter="CustomControl_Grid_Filtering_Label_ClearFilter",ql.gridSortingAsc="CustomControl_Grid_Sorting_Label_SortAsc",ql.gridSortingDesc="CustomControl_Grid_Sorting_Label_SortDesc",ql.gridSortingAscNumeric="CustomControl_Grid_Sorting_Label_SortAsc_Numeric",ql.gridSortingDescNumeric="CustomControl_Grid_Sorting_Label_SortDesc_Numeric",ql.gridSortingAscDate="CustomControl_Grid_Sorting_Label_SortAsc_Date",ql.gridSortingDescDate="CustomControl_Grid_Sorting_Label_SortDesc_Date",ql.gridFilteringLabelDoesNotBeginWith="CustomControl_Grid_Filtering_Label_DoesNotBeginWith",ql.gridFilteringLabelDoesNotEndWith="CustomControl_Grid_Filtering_Label_DoesNotEndWith",ql.gridFilteringLabelDoesNotContainData="CustomControl_Grid_Filtering_Label_DoesNotContainData",ql.gridFilteringLabelContainData="CustomControl_Grid_Filtering_Label_ContainData",ql.gridFilteringLabelContainDataAnyTime="CustomControl_Grid_Filtering_Label_ContainDataAnyTime",ql.gridFilteringLabelGreaterThan="CustomControl_Grid_Filtering_Label_GreaterThan",ql.gridFilteringLabelGreaterThanOrEqualTo="CustomControl_Grid_Filtering_Label_GreaterThanOrEqualTo",ql.gridFilteringLabelLessThan="CustomControl_Grid_Filtering_Label_LessThan",ql.gridFilteringLabelLessThanOrEqualTo="CustomControl_Grid_Filtering_Label_LessThanOrEqualTo",ql.gridFilteringLabelPleaseSelectValue="CustomControl_Grid_Filtering_Label_PleaseSelectValue",ql.gridFilteringLabelDoesNotContainValues="CustomControl_Grid_Filtering_Label_DoesNotContainValues",ql.gridFilteringLabelContainsValues="CustomControl_Grid_Filtering_Label_ContainsValues",ql.gridFilteringLabelToday="CustomControl_Grid_Filtering_Label_Today",ql.gridFilteringLabelYesterday="CustomControl_Grid_Filtering_Label_Yesterday",ql.gridFilteringLabelTomorrow="CustomControl_Grid_Filtering_Label_Tomorrow",ql.gridFilteringLabelThisWeek="CustomControl_Grid_Filtering_Label_ThisWeek",ql.gridFilteringLabelThisMonth="CustomControl_Grid_Filtering_Label_ThisMonth",ql.gridFilteringLabelThisYear="CustomControl_Grid_Filtering_Label_ThisYear",ql.gridFilteringLabelThisFiscalPeriod="CustomControl_Grid_Filtering_Label_ThisFiscalPeriod",ql.gridFilteringLabelThisFiscalYear="CustomControl_Grid_Filtering_Label_ThisFiscalYear",ql.gridFilteringLabelNextWeek="CustomControl_Grid_Filtering_Label_NextWeek",ql.gridFilteringLabelNextMonth="CustomControl_Grid_Filtering_Label_NextMonth",ql.gridFilteringLabelNextYear="CustomControl_Grid_Filtering_Label_NextYear",ql.gridFilteringLabelNextYearRange="CustomControl_Grid_Filtering_Label_NextYearRange",ql.gridFilteringLabelNextFiscalPeriod="CustomControl_Grid_Filtering_Label_NextFiscalPeriod",ql.gridFilteringLabelNextFiscalYear="CustomControl_Grid_Filtering_Label_NextFiscalYear",ql.gridFilteringLabelNextXHours="CustomControl_Grid_Filtering_Label_NextXHours",ql.gridFilteringLabelNextXDays="CustomControl_Grid_Filtering_Label_NextXDays",ql.gridFilteringLabelNextXWeeks="CustomControl_Grid_Filtering_Label_NextXWeeks",ql.gridFilteringLabelNextXMonths="CustomControl_Grid_Filtering_Label_NextXMonths",ql.gridFilteringLabelNextXYears="CustomControl_Grid_Filtering_Label_NextXYears",ql.gridFilteringLabelNextXFiscalPeriods="CustomControl_Grid_Filtering_Label_NextXFiscalPeriods",ql.gridFilteringLabelNextXFiscalYears="CustomControl_Grid_Filtering_Label_NextXFiscalYears",ql.gridFilteringLabelLastWeek="CustomControl_Grid_Filtering_Label_LastWeek",ql.gridFilteringLabelLastMonth="CustomControl_Grid_Filtering_Label_LastMonth",ql.gridFilteringLabelLastYear="CustomControl_Grid_Filtering_Label_LastYear",ql.gridFilteringLabelLastFiscalPeriod="CustomControl_Grid_Filtering_Label_LastFiscalPeriod",ql.gridFilteringLabelLastFiscalYear="CustomControl_Grid_Filtering_Label_LastFiscalYear",ql.gridFilteringLabelLastXHours="CustomControl_Grid_Filtering_Label_LastXHours",ql.gridFilteringLabelLastXDays="CustomControl_Grid_Filtering_Label_LastXDays",ql.gridFilteringLabelLastXWeeks="CustomControl_Grid_Filtering_Label_LastXWeeks",ql.gridFilteringLabelLastXMonths="CustomControl_Grid_Filtering_Label_LastXMonths",ql.gridFilteringLabelLastXYears="CustomControl_Grid_Filtering_Label_LastXYears",ql.gridFilteringLabelLastXFiscalPeriods="CustomControl_Grid_Filtering_Label_LastXFiscalPeriods",ql.gridFilteringLabelLastXFiscalYears="CustomControl_Grid_Filtering_Label_LastXFiscalYears",ql.gridFilteringLabelNext7Days="CustomControl_Grid_Filtering_Label_Next7Days",ql.gridFilteringLabelLast7Days="CustomControl_Grid_Filtering_Label_Last7Days",ql.gridFilteringLabelOlderThanXMinutes="CustomControl_Grid_Filtering_Label_OlderThanXMinutes",ql.gridFilteringLabelOlderThanXHours="CustomControl_Grid_Filtering_Label_OlderThanXHours",ql.gridFilteringLabelOlderThanXDays="CustomControl_Grid_Filtering_Label_OlderThanXDays",ql.gridFilteringLabelOlderThanXWeeks="CustomControl_Grid_Filtering_Label_OlderThanXWeeks",ql.gridFilteringLabelOlderThanXMonths="CustomControl_Grid_Filtering_Label_OlderThanXMonths",ql.gridFilteringLabelOlderThanXYears="CustomControl_Grid_Filtering_Label_OlderThanXYears",ql.gridFilteringLabelInFiscalYear="CustomControl_Grid_Filtering_Label_InFiscalYear",ql.gridFilteringLabelInFiscalPeriod="CustomControl_Grid_Filtering_Label_InFiscalPeriod",ql.gridFilteringLabelInFiscalPeriodAndYear="CustomControl_Grid_Filtering_Label_InFiscalPeriodAndYear",ql.gridFilteringLabelInOrAfterFiscalPeriodAndYear="CustomControl_Grid_Filtering_Label_InOrAfterFiscalPeriodAndYear",ql.gridFilteringLabelQuarter="CustomControl_Grid_Filtering_Label_Quarter",ql.gridFilteringLabelLoading="CustomControl_Grid_Filtering_Label_Loading",ql.gridFilteringLabelNoRecordsFound="CustomControl_Grid_Filtering_Label_NoRecordsFound",ql.gridFilteringLabelFilterByValue="CustomControl_Grid_Filtering_Label_FilterByValue",ql.gridFilteringLabelFilterFilterByOperator="CustomControl_Grid_Filtering_Label_FilterByOperator",ql.gridFilteringLabelEqualsCurrentUser="CustomControl_Grid_Filtering_Label_EqualsCurrentUser",ql.gridFilteringLabelDoesNotEqualCurrentUser="CustomControl_Grid_Filtering_Label_DoesNotEqualCurrentUser",ql.gridFilteringLabelEqualsCurrentBusinessUnit="CustomControl_Grid_Filtering_Label_EqualsCurrentBusinessUnit",ql.gridFilteringLabelDoesNotEqualCurrentBusinessUnit="CustomControl_Grid_Filtering_Label_DoesNotEqualCurrentBusinessUnit",ql.gridFilteringLabelEqualsCurrentUserOrHisReportingHierarchy="CustomControl_Grid_Filtering_Label_EqualsCurrentUserOrHisReportingHierarchy",ql.gridFilteringLabelEqualsCurrentUserOrUserTeams="CustomControl_Grid_Filtering_Label_EqualsCurrentUserOrUserTeams",ql.gridFilteringLabelEqualsCurrentUserTeams="CustomControl_Grid_Filtering_Label_EqualsCurrentUserTeams",ql.gridFilteringLabelEqualsCurrentUserAndHisTeamsOrHisReportingHierarchyAndTheirTeams="CustomControl_Grid_Filtering_Label_EqualsCurrentUserAndHisTeamsOrHisReportingHierarchyAndTheirTeams",ql.gridFilteringLabelSelectOperator="CustomControl_Grid_Filtering_Label_SelectOperator",ql.gridFilteringLabelClose="CustomControl_Grid_Filtering_Label_Close",ql.gridFilteringLabelMinutes="CustomControl_Grid_Filtering_Label_Minutes",ql.gridFilteringLabelValueMustBeAValidInteger="CustomControl_Grid_Filtering_Label_ValueMustBeAValidInteger",ql.gridFilteringLabelInOrBeforeFiscalPeriodAndYear="CustomControl_Grid_Filtering_Label_InOrBeforeFiscalPeriodAndYear",ql.gridFilteringLabelPleaseEnterValue="CustomControl_Grid_Filtering_Label_PleaseEnterValue",ql.gridFilteringLabelPleaseEnterDate="CustomControl_Grid_Filtering_Label_PleaseEnterDate",ql.gridFilteringLabelFY="CustomControl_Grid_Filtering_Label_FY",ql.gridFilteringLabelValueGreaterThanMaxValue="CustomControl_Grid_Filtering_Label_ValueGreaterThanMaxValue",ql.gridFilteringLabelValueGreaterThanMinValue="CustomControl_Grid_Filtering_Label_ValueGreaterThanMinValue",ql.gridFilteringLabelEqualsCurrentUserLanguage="CustomControl_Grid_Filtering_Label_EqualsCurrentUserLanguage",ql.gridFilteringLabelValueMustBeAValidNumber="CustomControl_Grid_Filtering_Label_ValueMustBeAValidNumber",ql.gridFilteringLabelValueMustBeAValidWholeNumber="CustomControl_Grid_Filtering_Label_ValueMustBeAValidWholeNumber",ql.gridFilteringPrevMonthAriaLabel="CustomControl_Grid_Filtering_Label_PrevMonth",ql.gridFilteringPrevYearAriaLabel="CustomControl_Grid_Filtering_Label_PrevYear",ql.gridFilteringPrevYearRangeAriaLabel="CustomControl_Grid_Filtering_Label_PrevYearRange",ql.gridGoToTodayLabel="CustomControl_Grid_Calender_Label_GoToToday",ql.saveButtonLabel="L_Save_Text",ql.selectAllButtonLabel="GridControl_SelectAll",ql.selectionStatusColumnHeader="GridControl_SelectionStatus",ql.selectAllButtonAccessibilityLabel="GridControl_SelectAllRows",ql.deselectAllButtonAccessibilityLabel="GridControl_DeselectAllRows",ql.selectAllLiveRegionContent="GridControl_SelectAllRowsLiveRegion",ql.deselectAllLiveRegionContent="GridControl_DeselectAllRowsLiveRegion",ql.refreshButtonLabel="MenuItem_Label_Refresh",ql.unsavedStatusLabel="UnSavedChangesWarning",ql.savingStatusLabel="SavingInformation",ql.refreshStatusLabel="Grid.Loading.Data.Refresh",ql.genericUpdateErrorLabel="Form_Component_Error",ql.rowNavigationButtonTooltip="CustomControl_Grid_RowNavigation_Button_Tooltip",ql.rowNavigationButtonTooltipSpecific="CustomControl_Grid_RowNavigation_Button_Tooltip_Specific",ql.rowDeleteButtonTooltip="CustomControl_Grid_RowDelete_Button_Tooltip",ql.multiPicklistNoItemsLabel="MultiSelectPicklistControl_NotItemsAvailable",ql.multiPicklistSelectAllLabel="MultiSelectPicklistControl_SelectAll",ql.multiPicklistTypeAheadLabel="MultiSelectPicklistControl_TypeAheadSearchText",ql.multiPicklistMoreLabel="MultiSelectPicklistControl_More",ql.multiPicklistLessLabel="MultiSelectPicklistControl_Less",ql.multiPicklistItemsLabel="MultiSelectPicklistControl_Screenreader_OptionSetItem_AriaLabel",ql.multiPicklistInputLabel="MultiSelectPicklistControl_Screenreader_TypeSomethingInput_AriaLabel",ql.multiPicklistListNavigationLabel="MultiSelectPicklistControl_Screenreader_SelectedItemsList_Navigation",ql.multiPicklistItemsRemovedLabel="MultiSelectPicklistControl_Screenreader_DisplayItems_Removed",ql.multiPicklistMoreLinkTitle="MultiSelectPicklistControl_Screenreader_More_Title",ql.multiPicklistLessLinkTitle="MultiSelectPicklistControl_Screenreader_Less_Title",ql.multiPicklistSelectAllFocusTitle="MultiSelectPicklistControl_Screenreader_SelectAll_Title",ql.multiPicklistSelectAllDeselect="MultiSelectPicklistControl_Screenreader_SelectAll_Deselect",ql.multiPicklistSelectAllSelect="MultiSelectPicklistControl_Screenreader_SelectAll_Select",ql.multiPicklistTotalItems="MultiSelectPicklistControl_Screenreader_TotalItems",ql.multiPicklistDeleteTitle="MultiSelectPicklistControl_DeleteItem_Title",ql.sortByColumnName="Grid_ToolTip_SortBy",ql.sortedByColumnName="Grid_ToolTip_SortedBy",ql.streamFiltered="Stream_Filtered",ql.streamUnfiltered="Stream_Unfiltered",ql.columnFiltered="AppliedFilters_ScreenReader_Label",ql.columnUnfiltered="GridFilters_NoFilterAppliedTextForTooltip",ql.streamBulkOperations="Stream_HeaderCommandBarMultiSelectIcon_Label",ql.closeButton="closeButton",ql.streamSortAscending="Stream_HeaderSortButton_Label_Ascending",ql.streamSortDescending="Stream_HeaderSortButton_Label_Descending",ql.gridRowText="Grid_Row_Text",ql.gridHeaderRowText="Grid_Header_Row_Text",ql.gridDataRowText="Grid_Data_Row_Text",ql.listCardSelectedText="ListCard_Selected_Text",ql.listCardNotSelectedText="ListCard_Not_Selected_Text",ql.listCardExpandText="ListCard_Expand_Text",ql.listCardCollapseText="ListCard_Collapse_Text",ql.closeSortPopupButtonText="Close_Sort_Popup_Button_Text",ql.gridGroupRowText="Grid_GroupRow_Text",ql.sortRecordsBy="Sort_Records_By",ql.gridTotalCountApproximate="Grid_TotalCount_Approximate",ql.dependentOptionSetSelectParent="Field.Information.SelectParent",ql.dependentOptionSetIncompleteChain="Field.Information.IncompleteChain",ql.hierarchyButtonLabel="Grid_Label_View_Hierarchy",ql.gridLookupDefaultText="Grid_Lookup_DefaultText",ql.openMangeDuplicatesDialog="Grid_DuplicateDetection_OpenDialog",ql.noOptionsAvailable="No_Options_Available",ql.seeErrorDetails="See_Error_Details",ql.showNestedGrid="Show_Nested_Grid",ql.hideNestedGrid="Hide_Nested_Grid",ql.noResultsFound="No_Results_Found",ql.filterAppliedOnColumn="Filter_Has_Been_Applied",ql.accessibilityInstructionForColumn="Sort_And_Filter_Instruction",ql.rowSelectCheckboxLabel="Grid_RowSelectCheckbox_Accessible_Label",ql);function ql(){}var $l=(tf.initialize=function(t){tf.editableGridAriaLabel=t(Zl.editableGridAria),tf.readonlyGridAriaLabel=t(Zl.readonlyGridAria),tf.emptyCellAriaLabel=t(Zl.emptyCellAria),tf.commandBarFlyoutOpenButton=t(Zl.commandBarFlyoutOpenButton),tf.commandBarSortIconText=t(Zl.commandBarSortIconText),tf.commandBarSortToolTipText=t(Zl.commandBarSortToolTipText),tf.commandBarSelectIconText=t(Zl.commandBarSelectIconText),tf.commandBarSelectAllIconText=t(Zl.commandBarSelectAllIconText),tf.commandBarSelectToolTipText=t(Zl.commandBarSelectToolTipText),tf.commandBarSelectAllToolTipText=t(Zl.commandBarSelectAllToolTipText),tf.cellTemplateAriaLabel=t(Zl.cellTemplateAria),tf.groupByMenuHeaderLabel=t(Zl.groupByMenuHeader),tf.chooseColumnsMenuHeaderLabel=t(Zl.chooseColumnsMenuHeader),tf.groupByItemsCountLabel=t(Zl.groupByItemsCount),tf.noGroupingOptionLabel=t(Zl.noGroupingOption),tf.firstPageTooltipLabel=t(Zl.firstPageTooltip),tf.nextPageTooltipLabel=t(Zl.nextPageTooltip),tf.currentPageTooltipLabel=t(Zl.currentPageTooltip),tf.currentPagingMask=t(Zl.currentPagingMask),tf.previousPageTooltipLabel=t(Zl.previousPageTooltip),tf.accessibilityStartEditingInstruction=t(Zl.accessibilityStartEditingInstruction),tf.rollupLastUpdatedLabel=t(Zl.rollupFieldLastUpdatedLabel),tf.durationHoursLabel=t(Zl.durationHoursText),tf.durationMinutesLabel=t(Zl.durationMinutesText),tf.durationDaysLabel=t(Zl.durationDaysText),tf.durationHourLabel=t(Zl.durationHourText),tf.durationMinuteLabel=t(Zl.durationMinuteText),tf.durationDayLabel=t(Zl.durationDayText),tf.noRecordsText=t(Zl.noRecordsText),tf.jumpBarButtonText=t(Zl.jumpBarButtonText),tf.enableLookupFilter=t(Zl.enableLookupFilter),tf.disableLookupFilter=t(Zl.disableLookupFilter),tf.saveButtonLabel=t(Zl.saveButtonLabel),tf.selectAllButtonLabel=t(Zl.selectAllButtonLabel),tf.selectionStatusColumnHeader=t(Zl.selectionStatusColumnHeader),tf.selectAllButtonAccessibilityLabel=t(Zl.selectAllButtonAccessibilityLabel),tf.deselectAllButtonAccessibilityLabel=t(Zl.deselectAllButtonAccessibilityLabel),tf.selectAllLiveRegionContent=t(Zl.selectAllLiveRegionContent),tf.deselectAllLiveRegionContent=t(Zl.deselectAllLiveRegionContent),tf.refreshButtonLabel=t(Zl.refreshButtonLabel),tf.unsavedStatusLabel=t(Zl.unsavedStatusLabel),tf.savingStatusLabel=t(Zl.savingStatusLabel),tf.refreshStatusLabel=t(Zl.refreshStatusLabel),tf.genericUpdateError=t(Zl.genericUpdateErrorLabel),tf.rowNavigationButtonTooltip=t(Zl.rowNavigationButtonTooltip),tf.rowNavigationButtonTooltipSpecific=t(Zl.rowNavigationButtonTooltipSpecific),tf.rowDeleteButtonTooltip=t(Zl.rowDeleteButtonTooltip),tf.multiPicklistNoItemsLabel=t(Zl.multiPicklistNoItemsLabel),tf.multiPicklistSelectAllLabel=t(Zl.multiPicklistSelectAllLabel),tf.multiPicklistTypeAheadLabel=t(Zl.multiPicklistTypeAheadLabel),tf.multiPicklistMoreLabel=t(Zl.multiPicklistMoreLabel),tf.multiPicklistLessLabel=t(Zl.multiPicklistLessLabel),tf.multiPicklistItemsLabel=t(Zl.multiPicklistItemsLabel),tf.multiPicklistInputLabel=t(Zl.multiPicklistInputLabel),tf.multiPicklistListNavigationLabel=t(Zl.multiPicklistListNavigationLabel),tf.multiPicklistItemsRemovedLabel=t(Zl.multiPicklistItemsRemovedLabel),tf.multiPicklistMoreLinkTitle=t(Zl.multiPicklistMoreLinkTitle),tf.multiPicklistLessLinkTitle=t(Zl.multiPicklistLessLinkTitle),tf.multiPicklistSelectAllFocusTitle=t(Zl.multiPicklistSelectAllFocusTitle),tf.multiPicklistSelectAllDeselect=t(Zl.multiPicklistSelectAllDeselect),tf.multiPicklistSelectAllSelect=t(Zl.multiPicklistSelectAllSelect),tf.multiPicklistTotalItems=t(Zl.multiPicklistTotalItems),tf.multiPicklistDeleteTitle=t(Zl.multiPicklistDeleteTitle),tf.sortByColumnName=t(Zl.sortByColumnName),tf.sortedByColumnName=t(Zl.sortedByColumnName),tf.streamFiltered=t(Zl.streamFiltered),tf.streamUnfiltered=t(Zl.streamUnfiltered),tf.columnFiltered=t(Zl.columnFiltered),tf.columnUnfiltered=t(Zl.columnUnfiltered),tf.sortedByNone=t(Zl.gridFilteringValueFilterNull),tf.sortedByAscending=t(Zl.gridFilteringAscending),tf.sortedByDescending=t(Zl.gridFilteringDescending),tf.streamBulkOperations=t(Zl.streamBulkOperations),tf.closeButton=t(Zl.closeButton),tf.streamSortAscending=t(Zl.streamSortAscending),tf.streamSortDescending=t(Zl.streamSortDescending),tf.gridRowText=t(Zl.gridRowText),tf.gridHeaderRowText=t(Zl.gridHeaderRowText),tf.gridDataRowText=t(Zl.gridDataRowText),tf.listCardSelectedText=t(Zl.listCardSelectedText),tf.listCardNotSelectedText=t(Zl.listCardNotSelectedText),tf.listCardExpandText=t(Zl.listCardExpandText),tf.listCardCollapseText=t(Zl.listCardCollapseText),tf.closeSortPopupButtonText=t(Zl.closeSortPopupButtonText),tf.gridGroupRowText=t(Zl.gridGroupRowText),tf.sortRecordsBy=t(Zl.sortRecordsBy),tf.gridTotalCountApproximate=t(Zl.gridTotalCountApproximate),tf.dependentOptionSetIncompleteChain=t(Zl.dependentOptionSetIncompleteChain),tf.dependentOptionSetSelectParent=t(Zl.dependentOptionSetSelectParent),tf.hierarchyButtonLabel=t(Zl.hierarchyButtonLabel),tf.gridLookupDefaultText=t(Zl.gridLookupDefaultText),tf.openMangeDuplicatesDialog=t(Zl.openMangeDuplicatesDialog),tf.noOptionsAvailable=t(Zl.noOptionsAvailable),tf.seeErrorDetails=t(Zl.seeErrorDetails),tf.showNestedGrid=t(Zl.showNestedGrid),tf.hideNestedGrid=t(Zl.hideNestedGrid),tf.noResultsFound=t(Zl.noResultsFound),tf.filterAppliedOnColumn=t(Zl.filterAppliedOnColumn),tf.accessibilityInstructionForColumn=t(Zl.accessibilityInstructionForColumn),tf.rowSelectCheckboxLabel=t(Zl.rowSelectCheckboxLabel)},tf);function tf(){}var ef=yr.findIndex,nf="findIndex",rf=!0;nf in[]&&Array(1)[nf](function(){rf=!1}),Qt({target:"Array",proto:!0,forced:rf},{findIndex:function(t,i){return ef(this,t,1<arguments.length?i:void 0)}}),Qi(nf);var sf=(of.compare=function(t,i){return t.constructor.__typeName===i},of.guid="Microsoft.Crm.Client.Core.Framework.Guid",of.optionSetObject="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata",of.entityReference="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference",of.xrmEntityReference="Xrm.Objects.EntityReference",of.entityCollection="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection",of.aliasedValue="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue",of.twoOptions="boolean",of.dateAndTime="datetime",of.decimal="decimal",of.fp="float",of.double="double",of.whole="integer",of.currency="money",of.optionset="picklist",of.multiSelectOptionset="multiselectpicklist",of.lookup="lookup",of.singleLine="string",of.multiple="memo",of.state="state",of.status="status",of.entityName="entityname",of.customer="customer",of.owner="owner",of.partyList="partylist",of.multiselectoptionset="multiselectpicklist",of.uniqueIdentifier="uniqueidentifier",of.formatDateOnly="date",of.formatDateAndTime="dateandtime",of.formatNone="none",of.formatDuration="duration",of.formatTimeZone="timezone",of.formatLanguage="language",of.formatSimple="simple",of.formatCustomer="customer",of.formatOwner="owner",of.formatPartyList="partylist",of.formatRegarding="regarding",of.formatText="text",of.formatTextArea="textarea",of.formatEmail="email",of.formatURL="url",of.formatTicker="ticker",of.formatPhone="phone",of.dataTypeLookupSimple="Lookup.Simple",of.dataTypeLookupPartyList="Lookup.PartyList",of.dataTypeLookupCustomer="Lookup.Customer",of.dataTypeLookupOwner="Lookup.Owner",of.dataTypeLookupRegarding="Lookup.Regarding",of.dataTypeWholeTimezone="Whole.TimeZone",of.dataTypeWholeLanguage="Whole.Language",of.dataTypeWholeDuration="Whole.Duration",of.dataTypeSingleLineTextArea="SingleLine.TextArea",of.dataTypeSingleLineEmail="SingleLine.Email",of.dataTypeSingleLinePhone="SingleLine.Phone",of.dataTypeSingleLineTicker="SingleLine.Ticker",of.dataTypeSingleLineURL="SingleLine.URL",of.dataTypeDateAndTimeDateOnly="DateAndTime.DateOnly",of.dataTypeDateAndTimeDateAndTime="DateAndTime.DateAndTime",of.dataTypeMultiple="Multiple",of.dataTypeCurrency="Currency",of.dataTypeOptionSet="OptionSet",of.dataTypeTwoOptions="TwoOptions",of.dataTypeMultiselectoptionset="MultiSelectPicklist",of);function of(){}var af,hf,cf=(uf.eventDoubleClick="dblclick",uf.eventSingleClick="click",uf.eventTouchStart="touchstart",uf.eventTouchEnd="touchend",uf.eventTouchMove="touchmove",uf.eventKeyDown="keydown",uf.eventMouseMove="mousemove",uf.eventMouseLeave="mouseleave",uf.eventMouseScroll="scroll",uf.eventWindowResize="resize",uf.tapHoldThreshold=800,uf.virtualizationThreshold=750,uf.defaultListViewMinWidth=309,uf.listViewModeThreshold=480,uf.defaultMinWidth=20,uf.specialColumnsWidth=70,uf.specialColumnWithConditionalImageWidth=105,uf.specialColumnWithConditionalImageWidthHighDensity=85,uf.navigateButtonMinimumWidth=45,uf.selectButtonMinimumWidth=45,uf.selectButtonWithIconOrConditionalImageMinimumWidth=80,uf.columnSeparatorWidth=1,uf.defaultMinRowHeight=52,uf.defaultMinRowHeightWeb=40,uf.defaultMinRowHeightUCIHighDensity=40,uf.pagerHeight=40,uf.maxColumnForDynamicSizing=12,uf.scrollBarWidth=17,uf.tableBodyPadding=10,uf.inputDateRatio="53%",uf.inputTimeRatio="47%",uf.expandFactor=5,uf.maxRowHeight=200,uf.maxSubGridHeight=400,uf.undefinedString="---",uf.notReadableString="*******",uf.headerCSSClass="wj-header",uf.cellsCSSClass="wj-cells",uf.cellCSSClass="wj-cell",uf.errorIndicatorCSSClass="errorIndicator cc-grid-errorIndicator",uf.treeArrowRightCSSClass="wj-glyph-right",uf.treeArrowDownRightCSSClass="wj-glyph-down-right",uf.rowHeadersCSSClass="wj-rowheaders",uf.detailCellCSSClass="wj-detail",uf.inputGroupButtonCSSClass="wj-input-group-btn",uf.buttonDefaultCSSClass="wj-btn-default",uf.buttonCSSClass="wj-btn",uf.wordWrapCSSClass="wj-wrap",uf.groupClass="wj-group",uf.filterOffCSSClass="wj-filter-off",uf.filterOnCSSClass="wj-filter-on",uf.altCSSClass="wj-alt",uf.firstColumnStyle="data-selectable",uf.cellIndexKey="wj-cell-index",uf.durationMaxDay=31,uf.durationMaxHour=23,uf.durationMaxMinute=59,uf.minutesInOneDay=1440,uf.minutesInOneHour=60,uf.durationInputRatio="30%",uf.durationEditorMinWidth=190,uf.durationEditorCssClass="duration-editor",uf.maxDropDownHeight=250,uf.msosId="gridMSOSCustomEditor",uf.currentSelectionContainerRowHeight=26,uf.moreLessTextHeight=15,uf.normalFontSize="13px",uf.themingMeasure300="3.00rem",uf);function uf(){}(hf=af={})[hf.Vertical=0]="Vertical",hf[hf.Horizontal=1]="Horizontal";var lf=(Object.defineProperty(ff,"VerticalString",{get:function(){return"vertical"},enumerable:!1,configurable:!0}),Object.defineProperty(ff,"HorizontalString",{get:function(){return"horizontal"},enumerable:!1,configurable:!0}),ff.parseValue=function(t){switch(t.toLowerCase()){case ff.VerticalString:return af.Vertical;case ff.HorizontalString:return af.Horizontal;default:return null}},ff);function ff(){}var df=(Object.defineProperty(Af.prototype,"isTreeView",{get:function(){return this._isTreeView},set:function(t){this._isTreeView=t,this._isGroupByEnabled=!t},enumerable:!1,configurable:!0}),Object.defineProperty(Af.prototype,"isGroupByEnabled",{get:function(){return this._isGroupByEnabled},set:function(t){this._isGroupByEnabled=t,this._isTreeView=!t},enumerable:!1,configurable:!0}),Af);function Af(){}var gf=(Object.defineProperty(wf,"SubGridParentIdName",{get:function(){return"SubGridParentId"},enumerable:!1,configurable:!0}),wf);function wf(){}var mf,pf=(Object.defineProperty(vf,"ParentIdName",{get:function(){return"ParentId"},enumerable:!1,configurable:!0}),vf);function vf(){}var bf=(Object.defineProperty(Ef,"gridVirtualizationFCB",{get:function(){return Ef.gridVirtualization},enumerable:!1,configurable:!0}),Object.defineProperty(Ef,"firstInformativeColumnIndex",{get:function(){return Ef.firstInformativeColumnIdx},set:function(t){Ef.firstInformativeColumnIdx=t},enumerable:!1,configurable:!0}),Ef.getSaveEditableGridPreNavFCB=function(){return Ef.saveEditableGridPreNavFCB},Ef.getReadOnlyGridColumnFilteringFCB=function(){return Ef.readOnlyGridColumnFilteringFCB},Ef.getGridSubjectColumnFCB=function(){return Ef.gridSubjectColumnFCB},Ef.getGridPaginationStateFCB=function(){return this.gridPaginationStateFCB},Ef.getGridHierarchyIconFCB=function(){return this.gridHierarchyIconFCB},Ef.getHideGridItemEntityImageFCB=function(){return this.HideGridItemEntityImageFCB},Ef.getGridHighDensityFCBName=function(){return this.gridHighDensityFCBName},Ef.getGridColumnFilterParityPhase1FCB=function(){return this.gridColumnFilterParityPhase1FCB},Ef.getJumpBarShouldHonorSortingFCB=function(){return this.jumpBarShouldHonorSortingFCB},Ef.getGridNotificationOnServerError=function(){return this.gridNotificationOnServerError},Ef.getContextMenuLookupFCB=function(){return this.contextMenuLookupFCB},Ef.getGridDuplicateDetectionFCB=function(){return this.gridDuplicateDetectionFCB},Ef.getGridNewFilterFCB=function(){return this.GridNewFilter},Ef.getUseVerticalMoreIconFCB=function(){return this.UseVerticalMoreIcon},Ef.getSuiterStreamFCB=function(){return this.SuiterStream},Ef.getMemoFieldOnEditableGridFCB=function(){return this.memoFieldOnEditableGrid},Ef.getOctober2020UpdateFCB=function(){return this.October2020Update},Ef.getGridThemingFCB=function(){return this.GridThemingFCB},Ef.getMobileListHeaderFCB=function(){return this.MobileListHeader},Ef.getApril2020UpdateFCB=function(){return this.April2020Update},Ef.getOctober2019UpdateFCB=function(){return this.October2019Update},Ef.getApril2021UpdateFCB=function(){return this.April2021Update},Ef.getNativeMobileItemLevelCommandDrawerFCB=function(){return this.NativeMobileItemLevelCommandDrawer},Ef.getListItemSwipeActionsFCB=function(){return this.ListItemSwipeActions},Ef.getMobileUsabilityApril2020FeatureName=function(){return this.MobileUsabilityApril2020FeatureName},Ef.getSubgridImprovementsFeatureName=function(){return this.SubgridImprovementsFCB},Ef.getHorizontalSubGridFCB=function(){return this.HorizontalSubGrid},Ef.getSubGridThumbnailFCB=function(){return this.SubGridThumbnail},Ef.getListSelectAllFCB=function(){return this.ListSelectAll},Ef.getQueueItemUCINavigationFCB=function(){return this.QueueItemUCINavigation},Ef.getPullToRefreshGridFCB=function(){return this.PullToRefreshGridFCB},Object.defineProperty(Ef,"isForcedUpdate",{get:function(){return Ef._isForceUpdate},set:function(t){Ef._isForceUpdate=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ef,"isDetail",{get:function(){return Ef._isDetail},set:function(t){Ef._isDetail=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ef,"isNestedGridConfigured",{get:function(){return Ef._isNestedGridConfigured},set:function(t){Ef._isNestedGridConfigured=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ef,"contextUtils",{get:function(){return Ef._contextUtils},set:function(t){Ef._contextUtils=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ef,"metadataContext",{get:function(){return this._metadataContext},set:function(t){this._metadataContext=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ef,"formatting",{get:function(){return Ef._formatting},set:function(t){Ef._formatting=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ef,"userSettings",{get:function(){return Ef._userSettings},set:function(t){Ef._userSettings=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ef,"isHierarchyIconEnabled",{get:function(){return Ef._isHierarchyIconEnabled},set:function(t){Ef._isHierarchyIconEnabled=t},enumerable:!1,configurable:!0}),Ef.getEditableSubGridLegacyInPageUpdateFCB=function(){return this.EditableSubGridLegacyInPageUpdateFCB},Ef.getLegacyEditableSubGridWarningOnUpdateFCB=function(){return this.LegacyEditableSubGridWarningOnUpdateFCB},Ef.getDisableRefreshWhileEditingFCB=function(){return this.DisableRefreshWhileEditingFCB},Ef.isTreeView=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columns))for(var i=t.columns,e=0;e<i.length;e++)if(i[e].alias==pf.ParentIdName)return!0;return!1},Ef.getGridState=function(t){var i=new df;return i.isTreeView=Ef.isTreeView(t),i},Ef.isLinkedEntityColumn=function(t){return-1!==t.indexOf(".")},Ef.isTouchScreenDevice=function(t){return t.userAgent.isIos||t.userAgent.isAndroid||t.userAgent.isAndroidModern},Ef.isBtnHeaderColumn=function(t){return t===Pl.btnHeaderColumnName},Ef.isSelectAllBtnHeaderColumn=function(t){return t===Pl.btnHeaderSelectColumnName},Ef.isSummaryColumn=function(t){return t===Pl.summaryHeaderColumnName},Ef.isDupDetectionScenario=function(t){return Ef.isUCIDisruptiveFeatureEnabled(Ef.getGridDuplicateDetectionFCB(),Ef.getApril2020UpdateFCB())&&t===Ef.ERROR_CODE_FOR_DUP_DETECTION},Ef.debounce=function(e,n){void 0===n&&(n=100);var r=null;return function(){var t=this,i=arguments;clearTimeout(r),r=setTimeout(function(){e.apply(t,i)},n)}.bind(this)},Ef.hasSubGridParentId=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[gf.SubGridParentIdName])},Ef.getSubGridFilterValue=function(t){var i=t.filtering.getFilter(),e=Ef.findSubGridFilter(i);return e?e.value:null},Ef.findSubGridFilter=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions)&&0<t.conditions.length)for(var i=0;i<t.conditions.length;i++)if(t.conditions[i].attributeName===gf.SubGridParentIdName)return t.conditions[i];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.filters)&&0<t.filters.length)for(var e=0;e<t.filters.length;e++){var n=Ef.findSubGridFilter(t.filters[e]);if(null!=n)return n}return null},Ef.shouldColumnFilterBeDisabled=function(t){return!(this._metadataContext&&this._metadataContext.parameters&&this._metadataContext.parameters.Grid&&this._metadataContext.parameters.Grid.getTargetEntityType()!==Pl.ActivityPointerEntity)&&t===Pl.ActivityFilterColumnName&&this._metadataContext&&this._metadataContext.parameters&&this._metadataContext.parameters.isActivityTypeFilterDisabled&&this._metadataContext.parameters.isActivityTypeFilterDisabled.raw||!1},Ef.replaceSubGridFilterValue=function(t,i){var e,n;MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||(e=t.filtering,n={filterOperator:0,conditions:null,filters:[{filterOperator:0,conditions:[{attributeName:gf.SubGridParentIdName,conditionOperator:0,value:i}]}]},e.setFilter(n))},Ef.getDatasetColumnByName=function(t,i){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))for(var e=0;e<t.length;e++)if(t[e].name===i)return t[e];return null},Ef.getDatasetColumnByAlias=function(t,i){return new MscrmCommon.ArrayQuery(t).firstOrDefault(function(t){return t.alias==i})},Ef.getOptionsFromAttributes=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){var i=[];if(t.attributes.type===sf.twoOptions||t.attributes.type===sf.optionset||Ef.isStatusOptionSet(t)||t.attributes.type===sf.multiSelectOptionset||t.attributes.type===sf.entityName&&Ef.isDisruptiveFeatureEnabledOnAllClients(Ef.getGridColumnFilterParityPhase1FCB())){t.attributes.type===sf.optionset&&-1===t.attributes.defaultValue&&i.push({Value:-1,Label:Pl.nonBreakingSpace,Color:""});var e=t.attributes.options;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))for(var n=0,r=e;n<r.length;n++){var s=r[n];i.push({Value:s.Value.toString(),Label:s.Label&&s.Label.trim(),Color:s.Color})}return i}if(Ef.isWholeOptionSet(t)){for(var s in e=void 0,t.dataType==sf.dataTypeWholeTimezone?e=null==t.attributes.timezonebycode?t.attributes.TimeZoneByCode:t.attributes.timezonebycode:t.dataType==sf.dataTypeWholeLanguage&&(e=null==t.attributes.languagebycode?t.attributes.LanguageByCode:t.attributes.languagebycode),i.push({Value:-1,Label:Pl.nonBreakingSpace,Color:""}),e)i.push({Value:parseInt(s),Label:e[s],Color:""});return i}}return null},Ef.columnRequired=function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes.requiredLevel))return!1;var i=t.attributes.requiredLevel;return 1==i||2==i},Ef.columnHasDefaultValue=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)&&"defaultValue"in t.attributes},Ef.shouldRender=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&(Mscrm.UpdateEvents.hasEvent(t,Mscrm.UpdateEventType.DataSet)||Mscrm.UpdateEvents.hasEvent(t,Mscrm.UpdateEventType.Activation))},Ef.isPopUpRootNodeEvent=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&new MscrmCommon.ArrayQuery(t).contains(function(t){return"popupRootNodes"===t})},Ef.containsKey=function(t,i){return 0<=t.findIndex(function(t){return t===i})},Ef.isWholeOptionSet=function(t){return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||t.dataType!==sf.dataTypeWholeTimezone&&t.dataType!==sf.dataTypeWholeLanguage)},Ef.isStatusOptionSet=function(t){return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)||t.attributes.type!==sf.state&&t.attributes.type!==sf.status)},Ef.isWholeDuration=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&t.dataType===sf.dataTypeWholeDuration},Ef.formatEntityRecords=function(t){var i="";if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))for(var e=0;e<t.length;++e){var n=t[e].fields;MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.partyid)||(i=0==e?n.partyid.name:MscrmCommon.ControlUtils.String.Format("{0}; {1}",i,n.partyid.name))}return i},Ef.isDesktop=function(t){return t===(Ef.isUci()?1:3)},Ef.isPhone=function(t){return t===(Ef.isUci()?3:2)},Ef.supportMultiSelection=function(t){return!0},Ef.buildLayoutDictionary=function(t){var i={},e=JSON.parse(t);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.columns))for(var n=e.columns,r=0;r<n.length;++r){var s=n[r];i[s.binding]=s}return i},Ef.buildProcessedDescriptions=function(t,i){var e=[];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))for(var n=0;n<i.length;++n){var r=i[n];MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[r.propertyName])||e.push(r)}return e},Ef.isLookupType=function(t){return!(!MscrmCommon.ControlUtils.String.EqualsIgnoreCase(t,sf.dataTypeLookupSimple)&&!MscrmCommon.ControlUtils.String.EqualsIgnoreCase(t,sf.lookup))||!("lookup.".length>t.length)&&0!="lookup.".length&&0!=t.length&&(t=t.toLowerCase(),i="lookup.".toLowerCase(),t.substr(0,i.length)==i);var i},Ef.click=function(t){var i=$(t),e=i.offset(),n=e.left+i.width()/2,r=e.top+i.height()/2;t.dispatchEvent(this.generateMouseEvent("mousedown",n,r)),t.dispatchEvent(this.generateMouseEvent("mouseup",n,r))},Ef.isRestorableFilterType=function(t,i){return"condition"===i||"value"===i&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.dataMap)},Ef.determineViewType=function(t,i,e){var n=Sl.Grid;return t||(i===Rl.ListOnly?n=Sl.List:i===Rl.Reflow&&(n=Ef.viewTypeByReflowCriteria(e))),n},Ef.getValueOrNull=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||""===t?null:t},Ef.getValueOrDefault=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||""===t?cf.undefinedString:t},Ef.viewTypeByReflowCriteria=function(t){return Ef.isReflowByWidth(t)?Sl.List:Sl.Grid},Ef.isReflowByWidth=function(t){return t<cf.listViewModeThreshold&&0<t},Ef.generateMouseEvent=function(t,i,e){var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!0,!0,window,null,0,0,i,e,!1,!1,!1,!1,0,null),n},Ef.parsePropertyOrDefault=function(t,i,e){var n;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.raw)||(n=i(t.raw)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&(n=e),n},Ef.isUci=function(){var t;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(Ef.memoizedIsUci)&&(t=window,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Internal)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Internal.isUci)||(Ef.memoizedIsUci=t.Xrm.Internal.isUci())),Ef.memoizedIsUci},Ef.isEditableGridOnLegacyClient=function(t){return t&&!Ef.isUci()},Ef.isDeleteButtonEnabled=function(){if(Ef.isUci())return!1;var t=window;return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Page)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Page.ui)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Page.ui.getFormType)||0==t.Xrm.Page.ui.getFormType())},Ef.createCellAccessibilityMessage=function(t,i,e){var n=document.createElement("span");return n.tabIndex=-1,n.id=e,n.innerText=t,n.style.position="absolute",n.style.top="-5000",n.style.left="-5000",n.style.width="0px",n.style.height="0px",n.style.overflow="hidden",i.appendChild(n),Ef.setOrAppendAttributeValue(i,Pl.ariaDescribedBy,e),n},Ef.isElementFocused=function(t){return t&&t[0]&&document.activeElement===t[0]},Ef.isElementNotFocused=function(t){return t&&t[0]&&document.activeElement!==t[0]},Ef.setOrAppendAttributeValue=function(t,i,e,n){var r;void 0===n&&(n=!1),t.hasAttribute(i)?(r=t.getAttribute(i),!n&&0<=r.indexOf(e)||(e=e+" "+t.getAttribute(i),t.setAttribute(i,e))):t.setAttribute(i,e)},Ef.getFetchAttributes=function(t,i,e){var n,r,s=t,o=null;return t&&0<t.indexOf(".")&&(r=(n=t.split("."))[0],s=n[1],o=r),Ef.isUCIDisruptiveFeatureEnabled(Ef.getGridNewFilterFCB(),Ef.getApril2020UpdateFCB())||i===ru.DataType.Object&&(Ef.isUci()?s=this.getLookupNameAttribute(e):s+="name"),{attributeName:s,entityAliasName:o}},Ef.calculateColumnWidth=function(t,i,e,n,r,s){var o=(i-e-(t.columns.find(function(t){return t.imageProviderFunctionName&&t.imageProviderWebresource&&t.isPrimary})||Ef.isHierarchyIconEnabled?cf.selectButtonWithIconOrConditionalImageMinimumWidth:cf.selectButtonMinimumWidth)-(s?0:cf.scrollBarWidth))/n;o<0&&(o=0);var a={};for(var h in r)a[h]=r[h]-cf.columnSeparatorWidth+o;return a},Ef.calculateConfiguredGridColumnWidth=function(t){for(var i=0,e=0,n={},r=0;r<t.length;r++){var s=t[r];s.isHidden||-1===s.visualSizeFactor||(i+=s.visualSizeFactor,n[s.name]=s.visualSizeFactor,e++)}return Ef.isUCIDisruptiveFeatureEnabled(Ef.getGridHighDensityFCBName())&&(i+=20),{totalWidth:i,columnCount:e,columnWidths:n}},Ef.getSelectColumnWidthIncrement=function(){return parseFloat(cf.normalFontSize)*parseFloat(cf.themingMeasure300)},Ef.getHeaderSelectColumnWidth=function(t){return Ef.isNestedGridConfigured&&t.name==Pl.btnHeaderSelectColumnName&&(t.width=t.width+Ef.getSelectColumnWidthIncrement(),t.width=Ef.isDetail?t.width:t.width+10),t.width},Ef.getHeaderColumnWidth=function(t){return Ef.isNestedGridConfigured&&t.name==Pl.btnHeaderColumnName&&(t.minWidth=t.minWidth-Ef.getSelectColumnWidthIncrement(),t.minWidth=t.minWidth-10),t.minWidth},Ef.isUCIDisruptiveFeatureEnabled=function(t,i,e){return this.isUci()&&!!this.contextUtils.isDisruptiveFeatureEnabled&&this.contextUtils.isDisruptiveFeatureEnabled(t,i,e)},Ef.isDisruptiveFeatureEnabledOnAllClients=function(t,i,e){void 0===i&&(i="October2019Update");var n=this.contextUtils.isFeatureEnabled(i),r=e&&this.contextUtils.isFeatureEnabled(e);return!(!n&&!r)&&this.contextUtils.isFeatureEnabled(t)},Ef.isFeatureEnabled=function(t){return this.contextUtils.isFeatureEnabled(t)},Ef.isUCIFeatureEnabled=function(t){return this.isUci()&&this.contextUtils.isFeatureEnabled(t)},Ef.getLookupNameAttribute=function(t){return t.LogicalName+"name"},Ef.getHeaderId=function(t,i){return t+"_headerButton"+i.replace(".","_")},Ef.shouldGetVirtualName=function(t){if(t.Targets&&1<t.Targets.length)return!0;if(t)switch(t.Type){case sf.twoOptions:case sf.optionset:case sf.state:case sf.status:case sf.entityName:case sf.customer:case sf.owner:case sf.lookup:return!0}return!1},Ef.shouldRenderListHorizontally=function(t,i){return!(!Ef.targetEntityIsAttachment(t)||!Ef.isUCIDisruptiveFeatureEnabled(Ef.getHorizontalSubGridFCB(),Ef.getOctober2020UpdateFCB()))&&Ef.isListLayoutDirectionHorizontal(t,i)},Ef.useUpdatedDesignSystem=function(){return Ef.metadataContext&&Ef.metadataContext.theming&&Ef.metadataContext.theming.useUpdatedDesignSystem},Ef.getParameterValue=function(t){var i=Ef.metadataContext&&Ef.metadataContext.parameters&&Ef.metadataContext.parameters[t];return i?i.raw:null},Ef.isListLayoutDirectionHorizontal=function(t,i){var e=t&&t.parameters&&t.parameters.ListLayoutDirection,n=i&&t&&t.mode&&t.mode.allocatedWidth;return!(i&&n&&n<2*i)&&af.Horizontal===this.parsePropertyOrDefault(e,lf.parseValue,af.Vertical)},Ef.shouldRenderSubGridThumbnail=function(t){return Ef.targetEntityIsAttachment(t)&&Ef.isUCIDisruptiveFeatureEnabled(Ef.getSubGridThumbnailFCB(),Ef.getOctober2020UpdateFCB())&&Ef.shouldRenderListHorizontally(t)},Ef.targetEntityIsAttachment=function(t){var i=t&&t.parameters&&t.parameters.Grid&&t.parameters.Grid.getTargetEntityType();return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&i===Pl.activityMimeAttachmentEntityName},Ef.getFileIcon=function(t){switch(t.split(".").pop().toUpperCase()){case"HTM":case"HTML":return 211;case"DOC":case"DOCX":return 146;case"XLS":case"XLSX":return 147;case"PPT":case"PPTX":return 193;case"MPP":case"MPT":case"MPX":case"MPD":return 197;case"VSD":case"VSDX":case"VDX":return 196;case"PDF":return 192;case"ACCDA":case"ACCDR":case"ACCDT":return 195;case"ONE":return 194;case"GIF":case"EPS":case"AI":case"TIF":case"PSD":case"JPG":case"PNG":case"RLE":case"BMP":case"TGA":case"PIC":return 210;case"MOV":case"MPG":case"AVI":case"WMF":case"RAM":case"QT":case"SND":return 209;case"WAV":case"MP3":return 207;default:return 43}},Ef.memoizedIsUci=null,Ef.firstInformativeColumnIdx=2,Ef.saveEditableGridPreNavFCB="SaveEditableGridPreNav",Ef.gridVirtualization="GridVirtualization",Ef.readOnlyGridColumnFilteringFCB="ReadOnlyGridColumnFiltering",Ef.gridColumnFilterParityPhase1FCB="GridColumnFilterParityPhase1",Ef.gridSubjectColumnFCB="GridSubjectColumn",Ef.contextMenuLookupFCB="ContextMenuLookup",Ef.memoFieldOnEditableGrid="MemoFieldOnEditableGrid",Ef.October2019Update="FCB.October2019Update",Ef.April2020Update="FCB.April2020Update",Ef.October2020Update="FCB.October2020Update",Ef.April2021Update="FCB.April2021Update",Ef.MobileUsabilityApril2020FeatureName="MobileUsabilityApril2020",Ef.SubgridImprovementsFCB="SubgridImprovements",Ef.QueueItemUCINavigation="QueueItemUCINavigation",Ef.HideGridItemEntityImageFCB="HideGridItemEntityImage",Ef.EditableSubGridLegacyInPageUpdateFCB="EditableSubGridLegacyInPageUpdate",Ef.LegacyEditableSubGridWarningOnUpdateFCB="LegacyEditableSubGridWarningOnUpdate",Ef.DisableRefreshWhileEditingFCB="DisableRefreshWhileEditing",Ef.PullToRefreshGridFCB="PullToRefreshGrid",Ef.gridPaginationStateFCB="FCB.GridPaginationState",Ef.jumpBarShouldHonorSortingFCB="FCB.JumpBarShouldHonorSorting",Ef.gridHierarchyIconFCB="FCB.GridHierarchyIcon",Ef.gridHighDensityFCBName="FCB.UCIGridDensity",Ef.gridNotificationOnServerError="FCB.GridNotificationOnServerError",Ef.gridDuplicateDetectionFCB="FCB.GridDuplicateDetection",Ef.GridNewFilter="FCB.GridNewFilter",Ef.UseVerticalMoreIcon="FCB.UseVerticalMoreIcon",Ef.SuiterStream="FCB.SuiterStream",Ef.HorizontalSubGrid="FCB.HorizontalSubGridOctober2020Update",Ef.SubGridThumbnail="FCB.SubGridThumbnailOctober2020Update",Ef.ListSelectAll="FCB.ListSelectAllOctober2020Update",Ef.GridThemingFCB="GridTheming",Ef.NativeMobileItemLevelCommandDrawer="FCB.NativeMobileItemLevelCommandDrawer",Ef.ListItemSwipeActions="FCB.ListItemSwipeActions",Ef.MobileListHeader="FCB.MobileListHeader",Ef._isForceUpdate=!1,Ef._isDetail=!1,Ef._isNestedGridConfigured=!1,Ef._isHierarchyIconEnabled=!1,Ef.UPDATE_DATASETHOST_LOADING_STATE="updatedatasethostloadingstate",Ef.OPEN_DUPLICATE_DETECTION_DIALOG="openmanageduplicatesdialog",Ef.SHOW_INNER_ERROR="showinnererror",Ef.SEND_CURRENT_PAGE_NUMBER="sendcurrentpagenumber",Ef.ERROR_CODE_FOR_DUP_DETECTION=2147746611,Ef);function Ef(){}function Bf(t){return(mf=mf||parseFloat(window.getComputedStyle(document.documentElement).fontSize))*parseFloat(t)}var Cf=(jf.SetDesignBag=function(t){t&&t.design&&(this._designBag=t.design)},jf.getDesignBag=function(){return bf.isUCIFeatureEnabled(bf.getGridThemingFCB())&&bf.useUpdatedDesignSystem()?this._designBag:{}},jf.applyCssStyles=function(t){var i;bf.isUCIFeatureEnabled(bf.getGridThemingFCB())&&((i=t.sheet).insertRule(Pl.HighDensityClassSelector+" .cc-ds-header-select-all-btn { "+Pl.ColorCSSProperty+": "+this._designBag.HeaderCheckmarkIconColor+" }"),i.insertRule(Pl.HighDensityClassSelector+" "+Pl.HeaderClassSelector+" {"+Pl.BackgroundColorProperty+": "+this._designBag.HeaderBackgroundColor+Pl.ImportantCSS+";}"),i.insertRule(Pl.HighDensityClassSelector+" .wj-state-focus "+Pl.HeaderClassSelector+" {outline-"+Pl.ColorCSSProperty+": "+this._designBag.HeaderFocusBorderColor+Pl.ImportantCSS+";}"),i.insertRule(Pl.HighDensityClassSelector+" "+Pl.HeaderClassSelector+" .wj-btn.wj-btn-glyph.wj-elem-filter {"+Pl.ColorCSSProperty+": "+this._designBag.SortFilterIconColor+Pl.ImportantCSS+";}"),i.insertRule(Pl.HighDensityClassSelector+" .cc-ds-header-buttons button:disabled {"+Pl.ColorCSSProperty+": "+this._designBag.HeaderSaveButtonInactiveColor+"}"),i.insertRule(Pl.HighDensityClassSelector+" .cc-ds-header-buttons button {"+Pl.ColorCSSProperty+": "+this._designBag.HeaderSaveButtonActiveColor+"}"),i.insertRule(Pl.HighDensityClassSelector+" .wj-cells .wj-row .wj-cell.cc-grid-selectedRow {"+Pl.ColorCSSProperty+": "+this._designBag.ListItemCheckmarkIconColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" div[role='gridcell'][aria-selected='false'] {"+Pl.BorderBottomColor+": "+this._designBag.ListItemBorderBottomColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" div[role='gridcell'][aria-selected='false'] {"+Pl.BackgroundColorProperty+": "+this._designBag.ListItemBackGroundColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" div[role='gridcell'][aria-selected='false'] label {"+Pl.ColorCSSProperty+": "+this._designBag.ListItemTextColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" div[role='gridcell'][aria-selected='false'] a {"+Pl.ColorCSSProperty+": "+this._designBag.ListItemLinkColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" div[role='gridcell'][aria-selected='true'] {"+Pl.BackgroundColorProperty+": "+this._designBag.ListItemSelectedBackGroundColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" div[role='gridcell'][aria-selected='true'] label {"+Pl.ColorCSSProperty+": "+this._designBag.ListItemSelectedTextColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" .editableGrid input {"+Pl.ColorCSSProperty+": "+this._designBag.TextInputEnabledTextColor+Pl.ImportantCSS+"; "+Pl.BackgroundColorProperty+":"+this._designBag.TextInputEnabledBackgroundColor+Pl.ImportantCSS+"; border-color: "+this._designBag.TextInputBorderColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+' .wj-cell[aria-selected="true"] .cc-ds-rowbtn.cc-gridcell-navigable.wj-btn {'+Pl.ColorCSSProperty+": "+this._designBag.ListItemNavigationArrowColor+Pl.ImportantCSS+"; "+Pl.BackgroundColorProperty+":"+this._designBag.ListItemSelectedBackGroundColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+' .wj-cell[aria-selected="false"] .cc-ds-rowbtn.cc-gridcell-navigable.wj-btn {'+Pl.ColorCSSProperty+": "+this._designBag.ListItemNavigationArrowColor+Pl.ImportantCSS+"; "+Pl.BackgroundColorProperty+":"+this._designBag.ListItemBackGroundColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+".cc-grid .wj-flexgrid .wj-cell.wj-state-selected {border-color: "+this._designBag.ListItemFocusedBorderColor+Pl.ImportantCSS),i.insertRule(".cc-grid:focus {outline: 2px solid "+this._designBag.ListItemFocusedBorderColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+".cc-grid .cc-grid-footer {"+Pl.BackgroundColorProperty+": "+this._designBag.FooterBackGroundColor+Pl.ImportantCSS+"; "+Pl.ColorCSSProperty+":"+this._designBag.FooterTextColor+"}"),i.insertRule(Pl.HighDensityClassSelector+" .wj-control.wj-content.wj-flexgrid {"+Pl.BackgroundColorProperty+": "+this._designBag.ListItemBackGroundColor+"}"),i.insertRule(Pl.HighDensityClassSelector+" .wj-pager .wj-btn[disabled] span {"+Pl.ColorCSSProperty+": "+this._designBag.FooterDisabledIconColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" .wj-pager .wj-btn span {"+Pl.ColorCSSProperty+": "+this._designBag.FooterIconColor+Pl.ImportantCSS+"}"),i.insertRule(".wj-control.wj-content.wj-columnfiltereditor.wj-dropdown-panel {"+Pl.BackgroundColorProperty+":"+this._designBag.FilterDialogBackgroundColor+"; "+Pl.ColorCSSProperty+":"+this._designBag.FilterDialogTextColor+Pl.ImportantCSS+"}"),i.insertRule(".wj-control.wj-content.wj-columnfiltereditor.wj-dropdown-panel .wj-input-group.wj-input-btn-visible, "+Pl.HighDensityClassSelector+" .cc-grid-groupby .wj-input-group div[wj-part=header] {"+Pl.BackgroundColorProperty+":"+this._designBag.DropDownEnabledBackgroundColor+"; "+Pl.ColorCSSProperty+":"+this._designBag.DropDownEnabledTextColor+"}"),i.insertRule(".wj-content.wj-dropdown-panel.wj-control.wj-listbox {"+Pl.BackgroundColorProperty+":"+this._designBag.DropDownMenuBackgroundColor+" "+Pl.ImportantCSS+"; "+Pl.ColorCSSProperty+":"+this._designBag.DropDownEnabledTextColor+" "+Pl.ImportantCSS+"}"),i.insertRule(".wj-content.wj-dropdown-panel.wj-control.wj-listbox .wj-listbox-item:not(.wj-state-selected):not(.wj-state-disabled):not(.wj-separator):hover{"+Pl.BackgroundColorProperty+":"+this._designBag.DropDownMenuHoverBackgroundColor+Pl.ImportantCSS+"; "+Pl.ColorCSSProperty+":"+this._designBag.DropDownMenuHoverTextColor+Pl.ImportantCSS+"}"),i.insertRule(".wj-content.wj-dropdown-panel.wj-control.wj-listbox .wj-listbox-item.wj-state-selected {"+Pl.BackgroundColorProperty+":"+this._designBag.DropDownMenuSelectedBackgroundColor+Pl.ImportantCSS+"; "+Pl.ColorCSSProperty+":"+this._designBag.DropDownMenuSelectedTextColor+Pl.ImportantCSS+"}"),i.insertRule(".wj-control.wj-content.wj-columnfiltereditor.wj-dropdown-panel.wj-state-focused .wj-btn{"+Pl.BackgroundColorProperty+":"+this._designBag.PrimaryButtonBackgroundColor+Pl.ImportantCSS+"; "+Pl.ColorCSSProperty+":"+this._designBag.PrimaryButtonTextColor+Pl.ImportantCSS+"}"),i.insertRule(".wj-control.wj-content.wj-columnfiltereditor.wj-dropdown-panel.wj-state-focused .wj-btn:hover{"+Pl.BackgroundColorProperty+":"+this._designBag.PrimaryButtonHoverBackgroundColor+Pl.ImportantCSS+"; "+Pl.ColorCSSProperty+":"+this._designBag.PrimaryButtonHoverTextColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+" .wj-input-group-btn{"+Pl.BackgroundColorProperty+":"+this._designBag.DropDownEnabledBackgroundColor+Pl.ImportantCSS+"; "+Pl.ColorCSSProperty+":"+this._designBag.DropDownEnabledTextColor+"}"),i.insertRule(Pl.HighDensityClassSelector+".cc-grid .cc-lookup-nav-button button:after{"+Pl.ColorCSSProperty+":"+this._designBag.DropDownEnabledTextColor+Pl.ImportantCSS+"}"),i.insertRule(Pl.HighDensityClassSelector+".cc-grid .cc-grid-groupby .label{"+Pl.ColorCSSProperty+":"+this._designBag.GroupByLabelColor+Pl.ImportantCSS+"}"))},jf);function jf(){}var yf=Vt.includes;function xf(c){return function(t,i,e,n){Gn(i);var r=Rt(t),s=tt(r),o=jt(r.length),a=c?o-1:0,h=c?-1:1;if(e<2)for(;;){if(a in s){n=s[a],a+=h;break}if(a+=h,c?a<0:o<=a)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=a:a<o;a+=h)a in s&&(n=i(n,s[a],a,r));return n}}Qt({target:"Array",proto:!0},{includes:function(t,i){return yf(this,t,1<arguments.length?i:void 0)}}),Qi("includes");var If=[xf(!1),xf(!0)][0];function Mf(t){if(qe(t))throw TypeError("The method doesn't accept regular expressions");return t}function Ff(i){var e=/./;try{"/./"[i](e)}catch(t){try{return e[Qf]=!1,"/./"[i](e)}catch(t){}}}Qt({target:"Array",proto:!0,forced:gi("reduce")},{reduce:function(t,i){return If(this,t,arguments.length,1<arguments.length?i:void 0)}});var Qf=St("match");Qt({target:"String",proto:!0,forced:!Ff("includes")},{includes:function(t,i){return!!~String(F(this)).indexOf(Mf(t),1<arguments.length?i:void 0)}});var Rf,kf,Sf="".startsWith,Df=Math.min;Qt({target:"String",proto:!0,forced:!Ff("startsWith")},{startsWith:function(t,i){var e=String(F(this));Mf(t);var n=jt(Df(1<arguments.length?i:void 0,e.length)),r=String(t);return Sf?Sf.call(e,r,n):e.slice(n,n+r.length)===r}}),(kf=Rf={})[kf.Expanded=0]="Expanded",kf[kf.UpArrowHead=1]="UpArrowHead",kf[kf.LeftArrowHead=2]="LeftArrowHead",kf[kf.Collapsed=3]="Collapsed",kf[kf.Edit=4]="Edit",kf[kf.Save=5]="Save",kf[kf.Delete=6]="Delete",kf[kf.Remove=7]="Remove",kf[kf.Add=8]="Add",kf[kf.Cancel=9]="Cancel",kf[kf.HandClick=10]="HandClick",kf[kf.Accept=11]="Accept",kf[kf.More=12]="More",kf[kf.Forward=13]="Forward",kf[kf.Favorite=14]="Favorite",kf[kf.Placeholder=15]="Placeholder",kf[kf.RatingFull=16]="RatingFull",kf[kf.RatingEmpty=17]="RatingEmpty",kf[kf.Options=18]="Options",kf[kf.Manage=19]="Manage",kf[kf.Settings=20]="Settings",kf[kf.Find=21]="Find",kf[kf.Help=22]="Help",kf[kf.ViewNotifications=23]="ViewNotifications",kf[kf.StageAdvance=24]="StageAdvance",kf[kf.CheckMark=25]="CheckMark",kf[kf.Locked=26]="Locked",kf[kf.Lock=27]="Lock",kf[kf.MoreOptions=28]="MoreOptions",kf[kf.ContactInfo=29]="ContactInfo",kf[kf.Pin=30]="Pin",kf[kf.Unpin=31]="Unpin",kf[kf.Refresh=32]="Refresh",kf[kf.Details=33]="Details",kf[kf.VisualFilter=34]="VisualFilter",kf[kf.GlobalFilter=35]="GlobalFilter",kf[kf.Diamond=36]="Diamond",kf[kf.ApplyFilter=37]="ApplyFilter",kf[kf.CancelFilter=38]="CancelFilter",kf[kf.StreamView=39]="StreamView",kf[kf.TileView=40]="TileView",kf[kf.Import=41]="Import",kf[kf.Tools=42]="Tools",kf[kf.Attach=43]="Attach",kf[kf.Filter=44]="Filter",kf[kf.Copy=45]="Copy",kf[kf.HighPriority=46]="HighPriority",kf[kf.ReduceTile=47]="ReduceTile",kf[kf.ExpandTile=48]="ExpandTile",kf[kf.GlobalFilterExpand=49]="GlobalFilterExpand",kf[kf.GlobalFilterCollapse=50]="GlobalFilterCollapse",kf[kf.Clear=51]="Clear",kf[kf.Post=52]="Post",kf[kf.OneNote=53]="OneNote",kf[kf.Home=54]="Home",kf[kf.SetAsHome=55]="SetAsHome",kf[kf.BackButton=56]="BackButton",kf[kf.BackButtonWithoutBorder=57]="BackButtonWithoutBorder",kf[kf.UpArrow=58]="UpArrow",kf[kf.DownArrow=59]="DownArrow",kf[kf.SetActiveButton=60]="SetActiveButton",kf[kf.SearchButton=61]="SearchButton",kf[kf.ForwardButton=62]="ForwardButton",kf[kf.Mail=63]="Mail",kf[kf.CheckedMail=64]="CheckedMail",kf[kf.FailedMail=65]="FailedMail",kf[kf.Phone=66]="Phone",kf[kf.Chat=67]="Chat",kf[kf.OpenPane=68]="OpenPane",kf[kf.ClosePane=69]="ClosePane",kf[kf.AddFriend=70]="AddFriend",kf[kf.Arrow=71]="Arrow",kf[kf.DropdownArrow=72]="DropdownArrow",kf[kf.FlsLocked=73]="FlsLocked",kf[kf.LinkArticle=74]="LinkArticle",kf[kf.UnlinkArticle=75]="UnlinkArticle",kf[kf.CopyLink=76]="CopyLink",kf[kf.EmailLink=77]="EmailLink",kf[kf.Share=78]="Share",kf[kf.Assign=79]="Assign",kf[kf.Connect=80]="Connect",kf[kf.Opportunity=81]="Opportunity",kf[kf.Appointment=82]="Appointment",kf[kf.Task=83]="Task",kf[kf.Case=84]="Case",kf[kf.PhoneCallIncoming=85]="PhoneCallIncoming",kf[kf.PhoneCallOutgoing=86]="PhoneCallOutgoing",kf[kf.EmailIncoming=87]="EmailIncoming",kf[kf.EmailOutgoing=88]="EmailOutgoing",kf[kf.SendEmail=89]="SendEmail",kf[kf.ApplyTemplate=90]="ApplyTemplate",kf[kf.InsertKbArticle=91]="InsertKbArticle",kf[kf.SendSelected=92]="SendSelected",kf[kf.SaveAndClose=93]="SaveAndClose",kf[kf.ReplyEmail=94]="ReplyEmail",kf[kf.ReplyAllEmail=95]="ReplyAllEmail",kf[kf.ForwardEmail=96]="ForwardEmail",kf[kf.Close=97]="Close",kf[kf.Activate=98]="Activate",kf[kf.DeActivate=99]="DeActivate",kf[kf.DeleteBulk=100]="DeleteBulk",kf[kf.SocialActivityIncoming=101]="SocialActivityIncoming",kf[kf.SocialActivityOutgoing=102]="SocialActivityOutgoing",kf[kf.CustomActivity=103]="CustomActivity",kf[kf.SystemPost=104]="SystemPost",kf[kf.Convert=105]="Convert",kf[kf.MarkAsWon=106]="MarkAsWon",kf[kf.MarkAsLost=107]="MarkAsLost",kf[kf.SetRegarding=108]="SetRegarding",kf[kf.SaveAsComplete=109]="SaveAsComplete",kf[kf.SwitchProcess=110]="SwitchProcess",kf[kf.Recalculate=111]="Recalculate",kf[kf.SendDirectEmail=112]="SendDirectEmail",kf[kf.OpenMailbox=113]="OpenMailbox",kf[kf.ReOpenOpportunity=114]="ReOpenOpportunity",kf[kf.ReactivateLead=115]="ReactivateLead",kf[kf.Disqualify=116]="Disqualify",kf[kf.Qualify=117]="Qualify",kf[kf.SelectView=118]="SelectView",kf[kf.SelectChart=119]="SelectChart",kf[kf.OpenInBrowser=120]="OpenInBrowser",kf[kf.NewAppointment=121]="NewAppointment",kf[kf.NewRecurringAppointment=122]="NewRecurringAppointment",kf[kf.NewPhoneCall=123]="NewPhoneCall",kf[kf.NewTask=124]="NewTask",kf[kf.NewEmail=125]="NewEmail",kf[kf.AddExisting=126]="AddExisting",kf[kf.SaveAndEdit=127]="SaveAndEdit",kf[kf.Default=128]="Default",kf[kf.ScrollRight=129]="ScrollRight",kf[kf.ScrollLeft=130]="ScrollLeft",kf[kf.SaveAndRunRoutingRule=131]="SaveAndRunRoutingRule",kf[kf.RunRoutingRule=132]="RunRoutingRule",kf[kf.ResolveCase=133]="ResolveCase",kf[kf.CancelCase=134]="CancelCase",kf[kf.ReactivateCase=135]="ReactivateCase",kf[kf.AddToQueue=136]="AddToQueue",kf[kf.CreateChildCase=137]="CreateChildCase",kf[kf.QueueItemRoute=138]="QueueItemRoute",kf[kf.QueueItemRelease=139]="QueueItemRelease",kf[kf.QueueItemRemove=140]="QueueItemRemove",kf[kf.QueueItemPick=141]="QueueItemPick",kf[kf.Drilldown=142]="Drilldown",kf[kf.PopOverButton=143]="PopOverButton",kf[kf.ExitButton=144]="ExitButton",kf[kf.ExportToExcel=145]="ExportToExcel",kf[kf.WordTemplates=146]="WordTemplates",kf[kf.DocumentTemplates=147]="DocumentTemplates",kf[kf.OpenInPowerBI=148]="OpenInPowerBI",kf[kf.OpenPowerBIReport=149]="OpenPowerBIReport",kf[kf.OpenDelve=150]="OpenDelve",kf[kf.ArticleLink=151]="ArticleLink",kf[kf.ArchiveArticle=152]="ArchiveArticle",kf[kf.ApproveArticle=153]="ApproveArticle",kf[kf.DiscardArticle=154]="DiscardArticle",kf[kf.Minor=155]="Minor",kf[kf.Major=156]="Major",kf[kf.PublishKnowledgeArticle=157]="PublishKnowledgeArticle",kf[kf.RelateArticle=158]="RelateArticle",kf[kf.RelateProduct=159]="RelateProduct",kf[kf.RestoreArticle=160]="RestoreArticle",kf[kf.RevertToDraftArticle=161]="RevertToDraftArticle",kf[kf.Translate=162]="Translate",kf[kf.UpdateArticle=163]="UpdateArticle",kf[kf.RemoveFilter=164]="RemoveFilter",kf[kf.Article=165]="Article",kf[kf.Graph=166]="Graph",kf[kf.CSR=167]="CSR",kf[kf.MembersIcon=168]="MembersIcon",kf[kf.QueueIcon=169]="QueueIcon",kf[kf.SiteMap=170]="SiteMap",kf[kf.NormalPriority=171]="NormalPriority",kf[kf.LowPriority=172]="LowPriority",kf[kf.ViewIcon=173]="ViewIcon",kf[kf.RecentCases=174]="RecentCases",kf[kf.KBRecords=175]="KBRecords",kf[kf.NumberOfViews=176]="NumberOfViews",kf[kf.ResizeHandle=177]="ResizeHandle",kf[kf.TaskBasedFlow=178]="TaskBasedFlow",kf[kf.InformationIcon=179]="InformationIcon",kf[kf.PencilIcon=180]="PencilIcon",kf[kf.ErrorIcon=181]="ErrorIcon",kf[kf.SuccessIcon=182]="SuccessIcon",kf[kf.OptionsetIcon=183]="OptionsetIcon",kf[kf.NotificationIcon=184]="NotificationIcon",kf[kf.PanelHeaderImportDataIcon=185]="PanelHeaderImportDataIcon",kf[kf.SidePanelUpload=186]="SidePanelUpload",kf[kf.New=187]="New",kf[kf.DetailsPageClose=188]="DetailsPageClose",kf[kf.SettingsListIcon=189]="SettingsListIcon",kf[kf.ListIcon=190]="ListIcon",kf[kf.ForwardDisable=191]="ForwardDisable",kf[kf.PdfIconFile=192]="PdfIconFile",kf[kf.PresentationFile=193]="PresentationFile",kf[kf.OneNoteFile=194]="OneNoteFile",kf[kf.AccessFile=195]="AccessFile",kf[kf.VisioFile=196]="VisioFile",kf[kf.ProjectFile=197]="ProjectFile",kf[kf.Plus=198]="Plus",kf[kf.ChevronUp=199]="ChevronUp",kf[kf.ChevronDown=200]="ChevronDown",kf[kf.HappySmiley=201]="HappySmiley",kf[kf.SadSmiley=202]="SadSmiley",kf[kf.CaseResolution=203]="CaseResolution",kf[kf.CampaignResolution=204]="CampaignResolution",kf[kf.ServiceActivity=205]="ServiceActivity",kf[kf.Notes=206]="Notes",kf[kf.Audio=207]="Audio",kf[kf.Camera=208]="Camera",kf[kf.Video=209]="Video",kf[kf.Image=210]="Image",kf[kf.Html=211]="Html",kf[kf.SharePointEditDocument=212]="SharePointEditDocument",kf[kf.SharePointDeleteDocument=213]="SharePointDeleteDocument",kf[kf.SharePointCheckoutDocument=214]="SharePointCheckoutDocument",kf[kf.SharePointCheckinDocument=215]="SharePointCheckinDocument",kf[kf.SharePointEditDocumentProperties=216]="SharePointEditDocumentProperties",kf[kf.SharePointDiscardCheckoutDocument=217]="SharePointDiscardCheckoutDocument",kf[kf.SharePointNewDocument=218]="SharePointNewDocument",kf[kf.SharePointNewWordDocument=219]="SharePointNewWordDocument",kf[kf.SharePointNewExcelDocument=220]="SharePointNewExcelDocument",kf[kf.SharePointNewPowerPointDocument=221]="SharePointNewPowerPointDocument",kf[kf.SharePointNewOneNoteDocument=222]="SharePointNewOneNoteDocument",kf[kf.SharePointUploadDocument=223]="SharePointUploadDocument",kf[kf.SharePointChangeLocation=224]="SharePointChangeLocation",kf[kf.SharePointAddDocumentLocation=225]="SharePointAddDocumentLocation",kf[kf.SharePointEditLocation=226]="SharePointEditLocation",kf[kf.SharePointOpenLocation=227]="SharePointOpenLocation",kf[kf.SharePointOpenDocument=228]="SharePointOpenDocument",kf[kf.SendByEmail=229]="SendByEmail",kf[kf.CreateQuote=230]="CreateQuote",kf[kf.Reply=231]="Reply",kf[kf.Warning=232]="Warning",kf[kf.Play=233]="Play",kf[kf.ExpandButton=234]="ExpandButton",kf[kf.AssociatedArticle=235]="AssociatedArticle",kf[kf.DisassociatedArticle=236]="DisassociatedArticle",kf[kf.FormDesign=237]="FormDesign",kf[kf.GlobalFilterClearAll=238]="GlobalFilterClearAll",kf[kf.GlobalFilterExpandedRow=239]="GlobalFilterExpandedRow",kf[kf.GlobalFilterCollapsedRow=240]="GlobalFilterCollapsedRow",kf[kf.RelationshipAssistant=241]="RelationshipAssistant",kf[kf.AutomaticSuggestions=242]="AutomaticSuggestions",kf[kf.SemanticZoom=243]="SemanticZoom",kf[kf.SemanticZoomMirrored=244]="SemanticZoomMirrored",kf[kf.BackwardButton=245]="BackwardButton",kf[kf.MultiSelect=246]="MultiSelect",kf[kf.MultiSelectMirrored=247]="MultiSelectMirrored",kf[kf.Spinning=248]="Spinning",kf[kf.RetireProduct=249]="RetireProduct",kf[kf.AddProduct=250]="AddProduct",kf[kf.OfflineStatus=251]="OfflineStatus",kf[kf.Abandon=252]="Abandon",kf[kf.Reactivate=253]="Reactivate",kf[kf.FinishStage=254]="FinishStage",kf[kf.SortButton=255]="SortButton",kf[kf.Flows=256]="Flows",kf[kf.OpenEntityRecord=257]="OpenEntityRecord",kf[kf.View=258]="View",kf[kf.CreateView=259]="CreateView",kf[kf.EditView=260]="EditView",kf[kf.GuestUser=261]="GuestUser",kf[kf.History=262]="History",kf[kf.ReassignRecords=263]="ReassignRecords",kf[kf.ManageRoles=264]="ManageRoles",kf[kf.JoinTeams=265]="JoinTeams",kf[kf.ChangeManager=266]="ChangeManager",kf[kf.AddMembers=267]="AddMembers",kf[kf.RemoveMembers=268]="RemoveMembers",kf[kf.Download=269]="Download",kf[kf.SetAsDefaultView=270]="SetAsDefaultView",kf[kf.Pinned=271]="Pinned",kf[kf.DistributionList=272]="DistributionList",kf[kf.MergeRecords=273]="MergeRecords",kf[kf.AssociateChildCase=274]="AssociateChildCase",kf[kf.SetAsDefault=275]="SetAsDefault",kf[kf.ConvertKnowledgeArticle=276]="ConvertKnowledgeArticle",kf[kf.Messenger=277]="Messenger",kf[kf.AssociateCategory=278]="AssociateCategory",kf[kf.OfficeWaffle=279]="OfficeWaffle",kf[kf.TripleColumn=280]="TripleColumn",kf[kf.Tiles=281]="Tiles",kf[kf.HideVisualFilter=282]="HideVisualFilter",kf[kf.InteractiveDashboard=283]="InteractiveDashboard",kf[kf.Dynamics365=284]="Dynamics365",kf[kf.SalesLiterature=285]="SalesLiterature",kf[kf.SelectButton=286]="SelectButton",kf[kf.SelectButtonRTL=287]="SelectButtonRTL",kf[kf.LockPricing=288]="LockPricing",kf[kf.CreateInvoice=289]="CreateInvoice",kf[kf.FulfillOrder=290]="FulfillOrder",kf[kf.CancelInvoice=291]="CancelInvoice",kf[kf.ActivateQuote=292]="ActivateQuote",kf[kf.InvoicePaid=293]="InvoicePaid",kf[kf.GetProducts=294]="GetProducts",kf[kf.UnlockPricing=295]="UnlockPricing",kf[kf.Checkbox=296]="Checkbox",kf[kf.CheckboxComposite=297]="CheckboxComposite",kf[kf.RightChevron=298]="RightChevron",kf[kf.LeftChevron=299]="LeftChevron",kf[kf.UntrackedEmail=300]="UntrackedEmail",kf[kf.OpenEmail=301]="OpenEmail",kf[kf.GlobalFilterCollapsedRowRTL=302]="GlobalFilterCollapsedRowRTL",kf[kf.CancelOrder=303]="CancelOrder",kf[kf.URL=304]="URL",kf[kf.Ticker=305]="Ticker",kf[kf.UseCurrentPricing=306]="UseCurrentPricing",kf[kf.Process=307]="Process",kf[kf.FirstPageButton=308]="FirstPageButton",kf[kf.LinkedInLogo=309]="LinkedInLogo",kf[kf.Health=310]="Health",kf[kf.Family=311]="Family",kf[kf.Sports=312]="Sports",kf[kf.Entertainment=313]="Entertainment",kf[kf.OOF=314]="OOF",kf[kf.CarouselView=315]="CarouselView",kf[kf.HeartEmpty=316]="HeartEmpty",kf[kf.HeartFilled=317]="HeartFilled",kf[kf.Follow=318]="Follow",kf[kf.RunQuery=319]="RunQuery",kf[kf.GroupAnd=320]="GroupAnd",kf[kf.GroupOr=321]="GroupOr",kf[kf.Ungroup=322]="Ungroup",kf[kf.HideInSimpleMode=323]="HideInSimpleMode",kf[kf.ShowInSimpleMode=324]="ShowInSimpleMode",kf[kf.PinnedSolid=325]="PinnedSolid",kf[kf.FilterSolid=326]="FilterSolid",kf[kf.Bot=327]="Bot",kf[kf.SystemDocumentTemplates=328]="SystemDocumentTemplates",kf[kf.MyDocumentTemplates=329]="MyDocumentTemplates",kf[kf.ViewAllMyDocumentTemplates=330]="ViewAllMyDocumentTemplates",kf[kf.EnableSecurityRoles=331]="EnableSecurityRoles",kf[kf.DocumentTemplateUpload=332]="DocumentTemplateUpload",kf[kf.DocumentTemplateEdit=333]="DocumentTemplateEdit",kf[kf.DocumentTemplateActivate=334]="DocumentTemplateActivate",kf[kf.DocumentTemplateDeactivate=335]="DocumentTemplateDeactivate",kf[kf.YammerIcon=336]="YammerIcon",kf[kf.StopIcon=337]="StopIcon",kf[kf.ReplaceContentIcon=338]="ReplaceContentIcon",kf[kf.CloseDateComingSoon=339]="CloseDateComingSoon",kf[kf.NearbyCustomers=340]="NearbyCustomers",kf[kf.RelevantNews=341]="RelevantNews",kf[kf.UpcomingMeeting=342]="UpcomingMeeting",kf[kf.RecentMeeting=343]="RecentMeeting",kf[kf.ReminderWithCall=344]="ReminderWithCall",kf[kf.CardsTask=345]="CardsTask",kf[kf.CardsQuote=346]="CardsQuote",kf[kf.CardsOpportunity=347]="CardsOpportunity",kf[kf.CardsInvoice=348]="CardsInvoice",kf[kf.CardsDashboard=349]="CardsDashboard",kf[kf.CardsLeads=350]="CardsLeads",kf[kf.OpportunityNoActivity=351]="OpportunityNoActivity",kf[kf.CaseNoActivity=352]="CaseNoActivity",kf[kf.CompetitorMentioned=353]="CompetitorMentioned",kf[kf.MeetingRequest=354]="MeetingRequest",kf[kf.MissedCloseDate=355]="MissedCloseDate",kf[kf.IssueDetection=356]="IssueDetection",kf[kf.NoActivityWithAccount=357]="NoActivityWithAccount",kf[kf.YesNo=358]="YesNo",kf[kf.AgendaActivityServiceAppointment=359]="AgendaActivityServiceAppointment",kf[kf.AgendaActivityFax=360]="AgendaActivityFax",kf[kf.UpcomingFlight=361]="UpcomingFlight",kf[kf.OpportunityAtRiskSentiment=362]="OpportunityAtRiskSentiment",kf[kf.IconDue=363]="IconDue",kf[kf.AddProductFamily=364]="AddProductFamily",kf[kf.AddProductBundle=365]="AddProductBundle",kf[kf.ProductPublish=366]="ProductPublish",kf[kf.CloneProduct=367]="CloneProduct",kf[kf.CloseGoal=368]="CloseGoal",kf[kf.AlignWithFiscalPeriod=369]="AlignWithFiscalPeriod",kf[kf.Connection=370]="Connection",kf[kf.ConnectionToMe=371]="ConnectionToMe",kf[kf.ConnectionToOther=372]="ConnectionToOther",kf[kf.ProductUpsell=373]="ProductUpsell",kf[kf.SubscriptionAdd=374]="SubscriptionAdd",kf[kf.RefreshDevice=375]="RefreshDevice",kf[kf.BulletListRemove=376]="BulletListRemove",kf[kf.BulletListAdd=377]="BulletListAdd",kf[kf.ScatterChart=378]="ScatterChart",kf[kf.BarChartHorizontal=379]="BarChartHorizontal",kf[kf.BarChartVertical=380]="BarChartVertical",kf[kf.FunnelChart=381]="FunnelChart",kf[kf.PieDouble=382]="PieDouble",kf[kf.AALinkedInLogo=383]="AALinkedInLogo",kf[kf.SendAndClose=384]="SendAndClose",kf[kf.AdvFind=385]="AdvFind",kf[kf.DoubleChevronLeft=386]="DoubleChevronLeft",kf[kf.DoubleChevronRight=387]="DoubleChevronRight",kf[kf.AreaChart=388]="AreaChart",kf[kf.DonutChart=389]="DonutChart",kf[kf.TagChart=390]="TagChart",kf[kf.Teaser=391]="Teaser",kf[kf.Clone=392]="Clone",kf[kf.AreaChartMirrored=393]="AreaChartMirrored",kf[kf.BarChartHorizontalMirrored=394]="BarChartHorizontalMirrored",kf[kf.BarChartVerticalMirrored=395]="BarChartVerticalMirrored",kf[kf.People=396]="People",kf[kf.PeopleBlock=397]="PeopleBlock",kf[kf.BulletListDownArrow=398]="BulletListDownArrow",kf[kf.Recent=399]="Recent",kf[kf.SharePointIcon=400]="SharePointIcon",kf[kf.OneDriveIcon=401]="OneDriveIcon",kf[kf.FolderSharedIcon=402]="FolderSharedIcon",kf[kf.MSTeamsIcon=403]="MSTeamsIcon",kf[kf.ScrollUpDown=404]="ScrollUpDown",kf[kf.SendToCTI=405]="SendToCTI",kf[kf.CreateQuickCampaign=406]="CreateQuickCampaign",kf[kf.PageSolid=407]="PageSolid",kf[kf.Page=408]="Page",kf[kf.OpportunitiesList=409]="OpportunitiesList",kf[kf.BrowseCards=410]="BrowseCards",kf[kf.Letter=411]="Letter",kf[kf.Fax=412]="Fax",kf[kf.NewLetter=413]="NewLetter",kf[kf.NewFax=414]="NewFax",kf[kf.LetterIncoming=415]="LetterIncoming",kf[kf.LetterOutgoing=416]="LetterOutgoing",kf[kf.FaxIncoming=417]="FaxIncoming",kf[kf.FaxOutgoing=418]="FaxOutgoing",kf[kf.CreatePersonalView=419]="CreatePersonalView",kf[kf.ViewHierarchy=420]="ViewHierarchy",kf[kf.ProductPreview=421]="ProductPreview",kf[kf.AddTerritoryMember=422]="AddTerritoryMember",kf[kf.RemoveTerritoryMember=423]="RemoveTerritoryMember",kf[kf.Report=424]="Report",kf[kf.NewServiceActivity=425]="NewServiceActivity",kf[kf.Recurrence=426]="Recurrence",kf[kf.EditSeries=427]="EditSeries",kf[kf.EndSeries=428]="EndSeries",kf[kf.EditDefaultFilter=429]="EditDefaultFilter",kf[kf.QueueItemDetail=430]="QueueItemDetail",kf[kf.ThumbsUp=431]="ThumbsUp",kf[kf.ThumbsDown=432]="ThumbsDown",kf[kf.Lead=433]="Lead",kf[kf.TableLink=434]="TableLink",kf[kf.TableGroup=435]="TableGroup",kf[kf.ClearDefault=436]="ClearDefault",kf[kf.SetDefault=437]="SetDefault",kf[kf.SaveFilterToNewPersonalView=438]="SaveFilterToNewPersonalView",kf[kf.SaveFilterToCurrentPersonalView=439]="SaveFilterToCurrentPersonalView",kf[kf.Expand=440]="Expand",kf[kf.ChromeMinimize=441]="ChromeMinimize",kf[kf.ChromeMaximize=442]="ChromeMaximize",kf[kf.ConnectionRoleManageRecordType=443]="ConnectionRoleManageRecordType",kf[kf.Sync=444]="Sync",kf[kf.ThumbsUpSolid=445]="ThumbsUpSolid",kf[kf.ThumbsDownSolid=446]="ThumbsDownSolid",kf[kf.msdyn_enhancedsla=447]="msdyn_enhancedsla",kf[kf.msdyn_enhancedslakpi=448]="msdyn_enhancedslakpi",kf[kf.msdyn_enhancedslakpiinstance=449]="msdyn_enhancedslakpiinstance",kf[kf.CreateOrder=450]="CreateOrder",kf[kf.Revise=451]="Revise",kf[kf.CloseQuote=452]="CloseQuote",kf[kf.CommandChecker=453]="CommandChecker",kf[kf.MiniContract=454]="MiniContract",kf[kf.MiniExpand=455]="MiniExpand",kf[kf.Print=456]="Print",kf[kf.NoDataAvailable=457]="NoDataAvailable",kf[kf.MoreVertical=458]="MoreVertical",kf[kf.OpenInNewWindow=459]="OpenInNewWindow",kf[kf.EditEvent=460]="EditEvent",kf[kf.LinkToRecord=461]="LinkToRecord",kf[kf.UnlinkFromRecord=462]="UnlinkFromRecord",kf[kf.KnowledgeSearch=463]="KnowledgeSearch",kf[kf.ChevronDownMed=464]="ChevronDownMed",kf[kf.OpenFolderHorizontal=465]="OpenFolderHorizontal",kf[kf.Puzzle=466]="Puzzle",kf[kf.NetworkOffline=467]="NetworkOffline",kf[kf.ThunderBolt=468]="ThunderBolt";var Nf=(Object.defineProperty(Tf.prototype,"EventName",{set:function(t){this.eventName=Pl.componentName+t},enumerable:!1,configurable:!0}),Tf);function Tf(){}var Of=(Yf.prototype.setDefaultEventParams=function(t){try{for(var i=0,e=this.defaultProperties;i<e.length;i++){var n,r,s=e[i];t.hasOwnProperty(s)&&(n=t[s],MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.raw)||(r={name:s,value:n.raw},this.defaultParams.push(r)))}this.defaultParams.push({name:"EntityName",value:t.Grid.getTargetEntityType()})}catch(t){}},Yf.prototype.reportFailure=function(t,i,e,n){try{var r,s;MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.reporting)||(r=Pl.componentName+"."+t,s=MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)?this.defaultParams:this.defaultParams.concat(n),this.reporting.reportFailure(r,i,e,s))}catch(t){}},Yf.prototype.reportSuccess=function(t,i){try{var e,n;MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.reporting)||(e=Pl.componentName+"."+t,n=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?this.defaultParams:this.defaultParams.concat(i),this.reporting.reportSuccess(e,n))}catch(t){}},Yf.prototype.reportEvent=function(t,i){try{if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.reporting))return;var e=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?this.defaultParams:this.defaultParams.concat(i),n=new Nf;n.EventName=t,n.eventParameters=e,this.reporting.reportEvent(n)}catch(t){}},Yf.prototype.dispose=function(){this.reporting=null,this.defaultParams=null},Yf);function Yf(t){this.defaultProperties=["EnableEditing","EnableGroupBy","EnableFiltering","ReflowBehavior","useSkypeProtocol"],this.reporting=t,this.defaultParams=new Array}var Uf=(Object.defineProperty(Hf.prototype,"commands",{get:function(){return this._commands},enumerable:!1,configurable:!0}),Object.defineProperty(Hf.prototype,"isOffline",{get:function(){return this._isOffline},enumerable:!1,configurable:!0}),Hf);function Hf(t,i){this._commands=t,this._isOffline=i}var zf="ListItem",Gf="CardCommandBar",Pf=Gf+"Button",Vf={fontWeight:"bold"},Lf="#323130",Jf=(Object.defineProperty(Wf.prototype,"state",{set:function(t){Object.assign(this._state,t)},enumerable:!1,configurable:!0}),Wf.prototype.render=function(){var t,i=this,e=this._getAccessibilityFullDescription(),n=Object.assign({role:"gridcell"},e&&{accessibilityLabel:e},this._state.isSelectionMode&&{isSelected:this._state.isItemSelected}),r={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between","font-size":this._context.theming.fontsizes.font100,"line-height":this._context.theming.measures.measure150,"font-family":this._context.theming.fontfamilies.regular,padding:bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())?"5px "+this._context.theming.measures.measure100+" 5px "+this._context.theming.measures.measure100:this._context.theming.measures.measure100,height:_f(this._context),"-webkit-transform":"translate3d(0, 0, 0)"};bf.shouldRenderSubGridThumbnail(this._context)&&Object.assign(r,((t={padding:"0px"})["padding"+(this._context.client.isRTL?"Left":"Right")]=this._context.theming.measures.measure100,t));var s=this._props.dataSetRecord.getRecordId(),o=bf.isFeatureEnabled(bf.getHideGridItemEntityImageFCB())?[this._renderListItemContent()]:[this.renderEntityImage(),this._renderListItemContent()];return o.push(this._state.isSelectionMode?this.renderSelectionCheck():this.renderCommandBar(!0)),this._context.factory.createElement("CONTAINER",Object.assign(n,{key:"ListItemContainer_"+s,id:"ListItemContainer_"+s,style:r,onClick:function(t){return!i._state.isListItemBeingSwiped&&i._props.onClickItem(t,i._props.dataSetRecord)}}),o)},Wf.prototype.renderNativeCommandDrawer=function(t){(new Ul).fireListItemEvents(this._context,t,this._props.onToggleCommandBarFlyout.bind(this))},Wf.prototype.getAccessibilityLabel=function(){var n=this;return this._getSectionColumns().filter(function(t){return t.isPrimary}).map(function(t){var i=t.name,e=(t.displayName,t.dataType);return""+n._getFormattedValue(i,e)}).join(" ")},Wf.prototype.getDescribedByElementId=function(){var t=this._props.dataSetRecord.getRecordId(),i=zf+"_"+t;return this._context.accessibility.getUniqueId(i)},Wf.prototype._getAccessibilityFullDescription=function(){var n=this;return this._getSectionColumns().map(function(t){var i=t.name,e=(t.displayName,t.dataType);return""+n._getFormattedValue(i,e)}).join(" ")},Wf.prototype.renderEntityImage=function(){var t,i,e,n=this._props.entityImageUrl?((t={display:"block",justifyContent:"center",alignItems:"center",borderRadius:"50%",width:this._context.theming.measures.measure250,height:this._context.theming.measures.measure250,lineHeight:this._context.theming.measures.measure250,color:this._context.theming.colors.basecolor.white,fontSize:"16px",textAlign:"center"})["margin"+(this._context.client.isRTL?"Left":"Right")]=this._context.theming.measures.measure100,t.overflow="hidden",t.maxWidth=this._context.theming.measures.measure250,t.maxHeight=this._context.theming.measures.measure250,t.backgroundColor="transparent",t):((i={borderRadius:"50%",display:"block",justifyContent:"center",alignItems:"center",width:this._context.theming.measures.measure250,height:this._context.theming.measures.measure250,lineHeight:this._context.theming.measures.measure250,color:this._context.theming.colors.basecolor.white,fontSize:"16px",textAlign:"center"})["margin"+(this._context.client.isRTL?"Left":"Right")]=this._context.theming.measures.measure100,i.overflow="hidden",i),r=this._props.entityPrimaryColumn&&this._getFormattedValue(this._props.entityPrimaryColumn.name,this._props.entityPrimaryColumn.dataType)||" ";if(!bf.shouldRenderSubGridThumbnail(this._context)||((e={display:"block",justifyContent:"center",alignItems:"center",width:this._context.theming.measures.measure450,height:this._context.theming.measures.measure450,lineHeight:this._context.theming.measures.measure250,color:this._context.theming.colors.basecolor.white,fontSize:"16px",textAlign:"center"})["margin"+(this._context.client.isRTL?"Left":"Right")]=this._context.theming.measures.measure100,e.overflow="hidden",e.backgroundColor="transparent",n=e,this._props.entityImageUrl))return this._context.factory.createElement("ENTITYIMAGE",{key:"ListCardEntityImage",hasPrimaryImageField:!0,style:n,imageSrc:this._props.entityImageUrl,entityPrimaryField:r,alt:r,title:r});Object.assign(n,{display:"flex",fontSize:"32px",color:this._context.theming.colors.grays.gray05});var s=bf.getFileIcon(r);return this._context.factory.createElement("MICROSOFTICON",{key:"ListCardAttachmentIcon",id:"ListCardAttachmentIcon",tabIndex:0,role:"image",type:s,style:n,onClick:null,accessibilityLabel:r,alt:r})},Wf.prototype.renderCommandBar=function(t){var i,e=this;void 0===t&&(t=!1);var n=this._props.dataSetRecord.getRecordId();if(this._context.parameters.EnableItemContextualActions&&!1===this._context.parameters.EnableItemContextualActions.raw)return null;var r,s=Pf+"_"+n,o=Gf+"List_"+n,a=this._context.factory.createElement("MICROSOFTICON",{id:Pf+"Icon_"+n,key:Pf+"Icon_"+n,type:this._useVerticalMoreIcon?458:12,accessibilityHidden:!0}),h=zf+"_"+n,c=this._context.factory.createElement("BUTTON",((i={id:s,key:s,title:$l.commandBarFlyoutOpenButton,accessibilityLabel:$l.commandBarFlyoutOpenButton,describedByElementId:this._context.accessibility.getUniqueId(h),accessibilityHasPopup:!0,accessibilityExpanded:this._state.isCommandBarFlyoutOpened})[this._state.isCommandBarFlyoutOpened?"ownsElementId":void 0]=this._context.accessibility.getUniqueId(o),i.role="button",i.tabIndex=0,i.onClick=function(t){t.preventDefault(),t.stopPropagation(),e._props.onToggleCommandBarFlyout(n)},i.style={backgroundColor:this._state.isCommandBarFlyoutOpened?this._context.theming.colors.grays.gray03:"transparent",borderStyle:this._context.theming.noneborderstyle,"line-height":"32px",width:"32px",padding:"0px","font-size":"16px",cursor:"pointer",color:this._useVerticalMoreIcon?Cf.getDesignBag().SuiterHeaderTextColor||Lf:this._context.theming.colors.grays.gray07,display:"block","text-align":"center",visibility:this._state.shouldHideCommandBarButton?"hidden":"visible"},i),[a]),u=null;this._state.isCommandBarFlyoutOpened&&!this._state.shouldHideCommandBarButton&&(r=this._context.client.isOffline(),this._isMobile&&this._isNativeItemLevelCommandDrawerEnabled?this.renderNativeCommandDrawer(this._props.dataSetRecord):this._commands&&this._commands.isOffline===r?u=this._renderCommandBarFlyout(s):this._context.parameters.Grid.retrieveRecordCommand([n],null,void 0,!0).then(function(t){void 0===t&&(t=[]);var i=t.filter(function(t){return t.shouldBeVisible&&("Button"===t.controlType||"SplitButton"===t.controlType)});e._commands=new Uf(i||[],r),bf.isForcedUpdate=!0,e._context.utils.requestRender()},function(t){e._gridTelemetry.reportFailure("renderCommandBar",t)}));var l=[c,u],f={display:"block",flex:"0 0 auto",alignSelf:"flex-start","margin-left":this._context.theming.measures.measure050};return t&&(Object.assign(f,{display:"flex","flex-direction":"column","justify-content":"space-between"}),l.push(this.renderConditionalImage())),this._context.factory.createElement("CONTAINER",{key:"CardCommandContainer_"+n,id:"CardCommandContainer_"+n,style:f},l)},Wf.prototype._shouldDisplayColumn=function(t){return t&&!t.isHidden&&-1!==t.order},Wf.prototype._getSectionColumns=function(t){void 0===t&&(t=3);var i=this._context.parameters.Grid.columns,e=i.length,n=[];this._shouldDisplayColumn(this._props.entityPrimaryColumn)&&n.push(this._props.entityPrimaryColumn),i.sort(function(t,i){return t.order-i.order});for(var r=0;r<e&&n.length<t;r++){var s=i[r];s.alias!==Pl.entityImgUrlAlias&&!s.isPrimary&&this._shouldDisplayColumn(s)&&n.push(s)}return n},Wf.prototype._renderCommandBarFlyout=function(t){var u=this,l=this._props.dataSetRecord.getRecordId(),i=this._commands.commands.length?"CardCommandItem_"+this._commands.commands[0].commandId+l:null,e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),f={display:"block","line-height":this._context.theming.measures.measure200,"padding-left":this._context.theming.measures.measure075,"padding-right":this._context.theming.measures.measure075,"margin-top":this._context.theming.measures.measure025,"margin-bottom":this._context.theming.measures.measure025,"white-space":"nowrap",color:this._context.theming.colors.grays.gray07,"font-size":this._context.theming.fontsizes.font100,"font-family":this._context.theming.fontfamilies.regular,backgroundColor:this._context.theming.colors.whitebackground,":hover":{backgroundColor:this._context.theming.colors.grays.gray03}},n=this._commands.commands.map(function(i){var t,e=i.icon,n=e?Rf[i.icon]:Rf.Default,r=e&&-1!==e.indexOf("$webresource:"),s=null;r&&(s=((s=e.replace(/^\$webresource:/i,"")).startsWith("/")?"":"/"+u._context.orgSettings.webResourceHash+"/webresources/")+s);var o="CardCommandItemIcon_"+i.commandId,a=((t={})["padding"+(u._context.client.isRTL?"Left":"Right")]=u._context.theming.measures.measure075,t),h=r?(a["max-height"]="1rem",a["max-width"]="1rem",u._context.factory.createElement("IMG",{key:o,id:o,style:a,accessibilityHidden:!0,source:s})):n?u._context.factory.createElement("MICROSOFTICON",{key:"CardCommandItemIcon_"+i.commandId,id:"CardCommandItemIcon_"+i.commandId,type:n,style:a,accessibilityHidden:!0}):null,c=u._context.factory.createElement("CONTAINER",{key:"CardCommandItemLabel_"+i.commandId,id:"CardCommandItemLabel_"+i.commandId,style:{display:"inline-block"}},i.label);return u._context.factory.createElement("LISTITEM",{key:"CardCommandItem_"+i.commandId+l,id:"CardCommandItem_"+i.commandId+l,tabIndex:0,role:"menuitem",style:Object.assign(f,{cursor:"pointer",":first-child":{"margin-top":u._context.theming.measures.measure075},":last-child":{"margin-bottom":u._context.theming.measures.measure075}}),onClick:function(t){i.canExecute&&(i.execute(),t.preventDefault(),t.stopPropagation(),u._props.onToggleCommandBarFlyout())},onKeyDown:function(t){t&&t.keyCode&&t.keyCode===Pl.kbEnterCode&&i.canExecute&&(i.execute(),t.preventDefault(),t.stopPropagation(),u._props.onToggleCommandBarFlyout())}},[h,c])}),r=this._context.factory.createElement("CONTAINER",{style:f},$l.noOptionsAvailable),s=this._context.factory.createElement("LIST",{id:Gf+"List_"+l,key:Gf+"List_"+l,role:"menu",onKeyDown:function(t){return t.keyCode===Pl.kbEscapeCode?u._props.onToggleCommandBarFlyout():t.keyCode===Pl.kbTabCode?t.preventDefault():Xl.keyboardNavigation(t)}},0===n.length?r:n),o=this._context.factory.createElement("SCROLLCONTAINER",{id:Gf+"ListContainer_"+l,key:Gf+"ListContainer_"+l,style:{overflowY:"auto",width:"100%"}},s);return this._context.factory.createElement("FLYOUT",{id:Gf+"ListFlyout_"+l,key:Gf+"ListFlyout_"+l,focusElementId:i,flyoutDirection:7,flyoutStyle:Object.assign({boxShadow:this._context.theming.shadows.shadow01,borderStyle:"none",background:this._context.theming.colors.base.white},e<=parseInt(this._context.theming.breakpoints.dimensionxs)&&{width:"95%",margin:"0 2.5%"}),positionType:"relative",relativeToElementId:t,onOutsideClick:function(t){t.preventDefault(),t.stopPropagation();var i=t.target;i.id.includes(Pf)&&i.id.includes(l)||u._props.onToggleCommandBarFlyout()}},[o])},Wf.prototype._renderListItemContent=function(){var t,o=this,i=this._getSectionColumns().reduce(function(t,i){var e=i.name,n=i.dataType,r=i.isPrimary,s=o._getFormattedValue(e,n);return s&&t.push({name:e,fieldValue:s,isPrimary:r}),t},[]),e=((t={display:"block",flex:"1",overflow:"hidden","white-space":"nowrap"})["margin"+(this._context.client.isRTL?"Left":"Right")]=this._context.theming.measures.measure025,t);if(1===i.length){var n=i[0],r=n.name,s=n.fieldValue,a=n.isPrimary;return this._renderLabel(s,r,a,e)}for(var h=[],c=bf.isFeatureEnabled(bf.getHideGridItemEntityImageFCB()),u=0;u<i.length;u++){var l=i[u],f=l.name,s=l.fieldValue,a=l.isPrimary;c&&0===u?h.push(this.renderField(s,f,a,Vf)):h.push(this.renderField(s,f,a))}return this._context.factory.createElement("CONTAINER",{key:"ListItemContent_"+this._props.dataSetRecord.getRecordId(),id:"ListItemContent_"+this._props.dataSetRecord.getRecordId(),style:e},h)},Wf.prototype.renderField=function(t,i,e,n){return this._renderLabel(t,i,e,n)},Wf.prototype._getFormattedValue=function(t,i){var e=this._props.dataSetRecord;return i==sf.dataTypeWholeDuration?e.reformatValue(t):e.getFormattedValue(t)},Wf.prototype._renderLabel=function(t,i,e,n){void 0===e&&(e=!1);var r="ListItemLabel_"+i+"_"+this._props.dataSetRecord.getRecordId(),s=Cf.getDesignBag().ListItemTextColor||(e?this._context.theming.colors.grays.gray07:this._context.theming.colors.grays.gray06);return this._context.factory.createElement("LABEL",{key:r,id:r,style:Object.assign({},n,{display:"block","text-decoration":"none",overflow:"hidden","text-overflow":"ellipsis",cursor:"pointer",color:s})},t)},Wf.prototype.renderConditionalImage=function(){if(this._props.conditionalImageUrl){var t=this._context.factory.createElement("IMG",{key:"conditionalImage",source:this._props.conditionalImageUrl,altText:this._props.conditionalImageAltText,style:{maxHeight:"32px",maxWidth:"32px",borderRadius:"50%",display:"block"}});return this._context.factory.createElement("CONTAINER",{key:"ListConditionalImage_"+this._props.dataSetRecord.getRecordId(),id:"ListConditionalImage_"+this._props.dataSetRecord.getRecordId(),style:{display:"flex",justifyContent:"center",alignItems:"center",flex:"0 0 32px",borderRadius:"50%",width:"32px",height:"32px",lineHeight:this._context.theming.measures.measure175,backgroundColor:this._context.theming.colors.grays.gray01,color:this._context.theming.colors.grays.gray07,fontSize:"16px",textAlign:"center"}},t)}return null},Wf.prototype.renderSelectionCheck=function(){var t,i=this._context.factory.createElement("MICROSOFTICON",{id:"selectionCheckBox_"+this._props.dataSetRecord.getRecordId(),key:"selectionCheckBox_"+this._props.dataSetRecord.getRecordId(),role:"checkbox",accessibilityLabel:this._state.isItemSelected?$l.listCardSelectedText:$l.listCardNotSelectedText,accessibilityChecked:this._state.isItemSelected,style:{cursor:"pointer"},type:this._state.isItemSelected?297:296},[]);return this._context.factory.createElement("CONTAINER",{key:"checkBoxContainer",style:((t={display:"flex",flexDirection:"column",justifyContent:"center",flex:"0 0 "+this._context.theming.measures.measure250,width:this._context.theming.measures.measure250,height:this._context.theming.measures.measure250,"align-items":"center","text-align":"center",color:Cf.getDesignBag().ListItemCheckmarkIconColor||this._context.theming.colors.grays.gray07})["margin"+(this._context.client.isRTL?"Right":"Left")]=this._context.theming.measures.measure050,t.alignSelf="flex-start",t)},[i])},Wf);function Wf(t,i,e){this._state={isSelectionMode:!1,isItemSelected:!1,isCommandBarFlyoutOpened:!1,isCommandBarFlyoutMode:!1,shouldHideCommandBarButton:!1,isListItemBeingSwiped:!1},this._context=t,this._props=i,this._useVerticalMoreIcon=e,this._gridTelemetry=new Of(t.reporting),this._gridTelemetry.setDefaultEventParams(t.parameters),this._isMobile="Mobile"===t.client.getClient(),this._isNativeItemLevelCommandDrawerEnabled=bf.isUCIDisruptiveFeatureEnabled(bf.getNativeMobileItemLevelCommandDrawerFCB(),bf.getApril2021UpdateFCB())}function _f(t){return t.theming.measures.measure450}var Xf=window&&window.__spreadArrays||function(){for(var t=0,i=0,e=arguments.length;i<e;i++)t+=arguments[i].length;for(var n=Array(t),r=0,i=0;i<e;i++)for(var s=arguments[i],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n},Kf="ListHeader",Zf="HeaderCommandBarCloseButton",qf="HeaderTitleText",$f="20px",td="14px",id=(ed.prototype.render=function(t){var i,e,n,r,s=!(this._context.parameters.EnableItemContextualActions&&!1===this._context.parameters.EnableItemContextualActions.raw),o=this._isSuiterStream&&0===this._context.parameters.Grid.paging.totalResultCount,a=this._getTitle(o),h=null;t.IsSelectionMode||(i=[],this._isSuiterStream||(e=this._getIcon(),i.push(e)),o||(n=this._getRecordCount(t),r=this._getSortDropdown(t),i.push(n,r)),h=this._context.factory.createElement("CONTAINER",{key:"ListHeaderLeft",id:"ListHeaderLeft",style:{display:"flex",flexDirection:"row",alignItems:"center",minWidth:0}},i));var c=this._getCommandBar(t),u=t.IsSelectionMode?this._getCloseCommandBarIcon(t):null,l=t.IsSelectionMode?Cf.getDesignBag().ListHeaderRightBackgroundColor||this._context.theming.colors.grays.gray07:void 0,f=this._context.factory.createElement("CONTAINER",{key:"ListHeaderRight",id:"ListHeaderRight",style:this._makeStyleSuiter({display:"flex",flexDirection:"row",justifyContent:"flex-end",backgroundColor:l,width:t.IsSelectionMode?"100%":void 0},t.IsSelectionMode&&{marginBottom:"-10px"})},t.IsSelectionMode?s?Xf(c,[u]):u:c),d=this._context.factory.createElement("CONTAINER",{key:"ListHeaderRow",id:"ListHeaderRow",style:this._makeStyleSuiter({display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:this._context.theming.measures.measure050,height:this._context.theming.measures.measure225},{marginTop:"26px",height:$f,marginBottom:"10px"})},t.IsSelectionMode?f:[h,f]);return this._context.factory.createElement("CONTAINER",{key:Kf,id:Kf,style:this._makeStyleSuiter({display:"flex",flexDirection:"column",flex:"0 0 auto",borderBottom:this._getSeparatorLineStyle(this._context.theming.colors.grays.gray03),marginBottom:this._context.theming.measures.measure100},{borderBottom:this._getSeparatorLineStyle(),marginBottom:"0px"})},[a,d])},ed.prototype._makeStyleSuiter=function(t,i){return this._isSuiterStream?Object.assign(t,i):t},ed.prototype._getSeparatorLineStyle=function(t){return void 0===t&&(t=this.SUITER_HOVER_COLOR),"1px "+this._context.theming.solidborderstyle+" "+t},ed.prototype._rtl=function(t){return this._context.client.isRTL?-1!==t.indexOf("Right")?t.replace("Right","Left"):t.replace("Left","Right"):t},ed.prototype._getTitle=function(t){var i=this._context.factory.createElement("TEXT",{key:qf,id:qf,semanticTag:"h2",style:this._makeStyleSuiter({fontSize:this._context.theming.fontsizes.font115,fontWeight:"normal",color:this._context.theming.colors.basecolor.blue.blue4,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},{fontSize:td,fontFamily:this._context.theming.fontfamilies.semibold,lineHeight:$f,color:this.SUITER_TEXT_COLOR})},this._context.parameters.Grid.getTitle?this._context.parameters.Grid.getTitle():""),e=[this._context.factory.createElement("CONTAINER",{key:"HeaderTitleTextContainer",id:"HeaderTitleTextContainer",title:this._context.parameters.Grid.getTitle?this._context.parameters.Grid.getTitle():"",style:{minWidth:"0"}},i)];if(!t){var n=this._context.parameters.Grid.getTargetEntityType(),r=!1,s=this._context.parameters.Grid.filtering&&this._context.parameters.Grid.filtering.getFilter()&&this._context.parameters.Grid.filtering.getFilter().conditions;if("queueitem"===n){if(s)for(var o=0,a=s;o<a.length;o++){var h=a[o];("objecttypecode"!==h.attributeName&&"queueid"!==h.attributeName||h.hasOwnProperty("entityName"))&&(r=!0)}}else r=s&&0<s.length;var c=this._context.factory.createElement("TEXT",{key:"HeaderTitleFiltered",id:"HeaderTitleFiltered",style:this._makeStyleSuiter({fontSize:this._context.theming.fontsizes.font085,color:this._context.theming.colors.basecolor.grey.grey5,paddingLeft:this._context.client.isRTL?void 0:this._context.theming.measures.measure100,paddingRight:this._context.client.isRTL?this._context.theming.measures.measure100:void 0},{fontSize:td,fontFamily:this._context.theming.fontfamilies.regular,lineHeight:"19px",color:this.SUITER_TEXT_COLOR}),title:r?$l.streamFiltered:$l.streamUnfiltered},r?$l.streamFiltered:$l.streamUnfiltered),u=this._context.factory.createElement("CONTAINER",{key:"HeaderTitleFilteredContainer",id:"HeaderTitleFilteredContainer"},c);e.push(u)}return this._context.factory.createElement("CONTAINER",{key:"HeaderTitle",id:"HeaderTitle",style:this._makeStyleSuiter({marginTop:this._context.theming.measures.measure025,height:this._context.theming.measures.measure225,marginBottom:this._context.theming.measures.measure025,alignItems:"center",justifyContent:"space-between",display:"flex"},{marginTop:"10px",height:$f,marginBottom:"0px",paddingBottom:"10px",borderBottom:this._getSeparatorLineStyle()})},e)},ed.prototype._getDisplayCollectionName=function(t){var i=this;this._context.utils.getEntityMetadata(t).then(function(t){i._context.utils.isNullOrUndefined(i._displayCollectionName)&&(i._displayCollectionName=t.DisplayCollectionName,i._context.utils.requestRender())})},ed.prototype._getIcon=function(){var t=this._context.parameters.Grid.getTargetEntityType();if(t){var i=t.charAt(0).toUpperCase()+t.substring(1),e="incident"===t?84:Wl[i]||Wl[0],n="incident"===t?"MICROSOFTICON":"CRMICON",r=this._context.factory.createElement(n,{key:"HeaderIcon",id:"HeaderIcon",type:e,title:this._context.parameters.Grid.getTitle?this._context.parameters.Grid.getTitle():""}),s=this._context.parameters.Grid.getTitle?this._context.parameters.Grid.getTitle():this._context.utils.isNullOrUndefined(this._displayCollectionName)?this._getDisplayCollectionName(t):this._displayCollectionName;return this._context.factory.createElement("CONTAINER",{key:"HeaderIconContainer",id:"HeaderIconContainer",accessibilityLabel:s,role:"img",style:{fontSize:"16px",color:this._context.theming.colors.grays.gray05}},r)}return null},ed.prototype._getRecordCount=function(t){var i,e,n,r,s=this._getSortAttribute(t),o=this._context.factory.createElement("MICROSOFTICON",{key:"HeaderSortArrow",id:"HeaderSortArrow",type:1===s.sortAttribute.sortDirection?59:58}),a=this._context.factory.createElement("CONTAINER",{key:"HeaderSortChevronWrapper_RecordCount",id:"HeaderSortChevronWrapper_RecordCount",style:this._makeStyleSuiter({fontSize:"16px",color:this._context.theming.colors.grays.gray07,marginLeft:this._context.theming.measures.measure050,marginRight:this._context.theming.measures.measure075},((i={color:this.SUITER_ICON_COLOR})[this._rtl("marginLeft")]="6px",i[this._rtl("marginRight")]="8px",i))},o),h=1===s.sortAttribute.sortDirection?$l.streamSortDescending:$l.streamSortAscending;return h=(r=0<=this._context.parameters.Grid.paging.totalResultCount?this._context.parameters.Grid.paging.totalResultCount:(n=this._context.orgSettings.gridTotalRecordCountLimit||5e3,MscrmCommon.ControlUtils.String.Format($l.gridTotalCountApproximate,n)))+" "+h,this._context.factory.createElement("BUTTON",{key:"HeaderRecordCount",id:"HeaderRecordCount",title:h,accessibilityLabel:h,describedByElementId:this._context.accessibility.getUniqueId(qf),style:this._makeStyleSuiter({background:"transparent",border:"0px none",marginLeft:this._context.theming.measures.measure075,fontSize:this._context.theming.fontsizes.font100,color:this._context.theming.colors.grays.gray07,alignItems:"center"},((e={fontSize:td,lineHeight:$f,fontFamily:this._context.theming.fontfamilies.regular,color:this.SUITER_TEXT_COLOR,paddingTop:"8px",paddingBottom:"8px"})[this._rtl("paddingLeft")]="8px",e[this._rtl("paddingRight")]="0px",e.marginLeft="0px",e[":hover"]={backgroundColor:this.SUITER_HOVER_COLOR},e)),onClick:function(){s.isDefault&&t.sortingService.applySorting(s.sortAttribute.name),t.sortingService.applySorting(s.sortAttribute.name),t.sortingService.dataSet.refresh()}},[r,a])},ed.prototype._getSortDropdown=function(t){var i,e,n,r=this._getSortAttribute(t),s=this._context.factory.createElement("MICROSOFTICON",{key:"HeaderSortChevron",id:"HeaderSortChevron",type:72}),o=this._context.factory.createElement("CONTAINER",{key:"HeaderSortChevronWrapper_SortDropdown",id:"HeaderSortChevronWrapper_SortDropdown",accessibilityHidden:!0,style:this._makeStyleSuiter({fontSize:"16px",color:this._context.theming.colors.grays.gray07,marginLeft:this._context.theming.measures.measure050,marginRight:this._context.theming.measures.measure075},((i={fontSize:"10px",fontFamily:this._context.theming.fontfamilies.regular,lineHeight:$f})[this._rtl("marginLeft")]="8px",i[this._rtl("marginRight")]="0px",i.paddingTop="1px",i.color=this.SUITER_DROPDOWN_COLOR,i))},s),a=this._context.factory.createElement("TEXT",{key:"HeaderSortAttribute",id:"HeaderSortAttribute",role:"presentation",style:this._makeStyleSuiter({fontSize:this._context.theming.fontsizes.font100,color:this._context.theming.colors.grays.gray07,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},((e={fontSize:td,fontFamily:this._context.theming.fontfamilies.regular,lineHeight:$f})[this._rtl("paddingLeft")]="8px",e.color=this.SUITER_DROPDOWN_COLOR,e))},r.displayName),h=this._context.factory.createElement("CONTAINER",{key:"HeaderSortAttributeContainer",id:"HeaderSortAttributeConatiner",accessibilityHidden:!0,style:{minWidth:0}},a);return this._context.factory.createElement("BUTTON",{key:t.getListSortingPopup().getSortButtonId(),id:t.getListSortingPopup().getSortButtonId(),title:r.displayName,accessibilityLabel:$l.sortRecordsBy+" "+r.displayName,accessibilityHasPopup:!0,accessibilityExpanded:t.getListSortingPopup().getSortPopupPopped(),describedByElementId:this._context.accessibility.getUniqueId(qf),style:this._makeStyleSuiter({background:"transparent",border:"0px none",paddingRight:0,paddingLeft:0,minWidth:0},((n={paddingTop:"8px",paddingBottom:"8px"})[this._rtl("paddingRight")]="8px",n[":hover"]={backgroundColor:this.SUITER_HOVER_COLOR},n)),onClick:t.getListSortingPopup().renderSortingPopup.bind(t.getListSortingPopup())},[h,o])},ed.prototype._getSortAttribute=function(t){for(var i=null,e=null,n=t.getSortColumns(),r=t.sortingService.dataSet.sorting&&t.sortingService.dataSet.sorting[0],s=0,o=n;s<o.length;s++){var a=o[s];if(r&&r.name==a.alias)return{isDefault:!1,displayName:a.displayName,sortAttribute:r};if(!i&&(i=a.displayName,e=a.alias,!r))break}return{isDefault:!0,displayName:i,sortAttribute:{name:e,sortDirection:0}}},ed.prototype._getCommandBar=function(t){var i,e,n,r=t.IsSelectionMode;if(!this._hasCommandBar){if(!r)return[this._getMultiSelectCommandBarButton(t)];this._hasCommandBar=!0}for(var s=[],o=0,a=t.selectedRecordIds;o<a.length;o++){var h=a[o],c=this._context.parameters.Grid.records[h];c&&s.push(c.getNamedReference())}var u,l=document.getElementById(this._context.accessibility.getUniqueId(Kf));!l||(u=parseInt(window.getComputedStyle(l).width))!=this.streamHeaderCommandBarWidth+28&&u&&(this.streamHeaderCommandBarWidth=u,this.streamHeaderCommandBarWidth-=28);var f=Cf.getDesignBag().ListHeaderColor||this._context.theming.colors.base.white,d=this._context.factory.createElement("COMMANDBAR",{key:"HeaderCommandBar",id:"HeaderCommandBar",iconPosition:1,mainMenuLength:r?void 0:1,width:this.streamHeaderCommandBarWidth,ribbonId:"HomePageGrid:"+this._context.parameters.Grid.getTargetEntityType(),selectedRecords:s,isHidden:!r,customCommandManagerStyle:{margin:"0px",border:"0px none"},commandBarStyle:{container:{margin:"0px",border:"0px none"},list:{margin:"0px"},listItem:((i={margin:"0px",display:"flex",alignItems:"center"})[this._rtl("paddingRight")]=this._context.theming.measures.measure100,i),listItemBody:{button:{display:"flex",alignItems:"center",fontSize:"16px",color:f,background:"transparent",border:"0px none",padding:"0px"},iconWrapperStyles:{display:"flex",alignItems:"center",marginLeft:this._context.theming.measures.measure100,marginRight:this._context.theming.measures.measure100,color:f},text:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"110px",color:f},icon:{color:f}},primaryOfSplitButton:((e={})[this._rtl("marginRight")]=this._context.theming.measures.measure100,e),moreIcon:{margin:r?void 0:"0px",marginLeft:r?this._context.theming.measures.measure100:void 0,marginRight:r?this._context.theming.measures.measure100:void 0,color:f},splitbuttonicon:{color:f},splitbuttonOverflowButton:((n={display:"flex",alignItems:"center"})[this._rtl("paddingLeft")]=this._context.theming.measures.measure050,n)}});return r?[d]:[d,this._getMultiSelectCommandBarButton(t)]},ed.prototype._getCloseCommandBarIcon=function(t){var i=this,e=this._context.factory.createElement("MICROSOFTICON",{key:"HeaderCommandBarCloseIcon",id:"HeaderCommandBarCloseIcon",type:38});return this._context.factory.createElement("BUTTON",{key:Zf,id:Zf,title:$l.closeButton,accessibilityLabel:$l.closeButton,describedByElementId:this._context.accessibility.getUniqueId(qf),style:{fontSize:"16px",color:Cf.getDesignBag().ListHeaderColor||this._context.theming.colors.base.white,background:Cf.getDesignBag().ListHeaderRightBackgroundColor||this._context.theming.colors.grays.gray07,border:"0px none",alignSelf:"center"},onClick:function(){t.OnSelectionModeChanged(),i._setFocus("button")}},e)},ed.prototype._getMultiSelectCommandBarButton=function(t){var i,e=this,n=Wl.TwoOptions,r=this._context.factory.createElement("CRMICON",{key:"HeaderCommandBarCloseIcon",id:"HeaderCommandBarCloseIcon",type:n});return this._context.factory.createElement("BUTTON",{key:"HeaderCommandBarMultiSelectIcon",id:"HeaderCommandBarMultiSelectIcon",title:$l.streamBulkOperations,accessibilityLabel:$l.streamBulkOperations,describedByElementId:this._context.accessibility.getUniqueId(qf),accessibilityHasPopup:!0,style:this._makeStyleSuiter({fontSize:"16px",color:this._context.theming.colors.grays.gray07,background:Cf.getDesignBag().ListHeaderColor||this._context.theming.colors.base.white,border:"0px none"},((i={color:this.SUITER_ICON_COLOR,padding:"8px",marginTop:"-8px",marginBottom:"-8px"})[this._rtl("marginLeft")]="-8px",i[":hover"]={backgroundColor:this.SUITER_HOVER_COLOR},i)),onClick:function(){t.OnSelectionModeChanged(),e._setFocus("ul > li")}},r)},ed.prototype._setFocus=function(e){var n=this;window.setTimeout(function(){var t=n._context.accessibility.getUniqueId("ListHeaderRight"),i=document.getElementById(t).querySelector(e);i?i.focus():n._setFocus(e)},100)},ed);function ed(t,i){this.SUITER_TEXT_COLOR=Cf.getDesignBag().SuiterHeaderTextColor||Lf,this.SUITER_ICON_COLOR=Cf.getDesignBag().SuiterIconColor||"#0078D4",this.SUITER_DROPDOWN_COLOR=Cf.getDesignBag().HeaderSortAttribute||"#201F1E",this.SUITER_HOVER_COLOR=Cf.getDesignBag().SuiterHoverColor||"#EDEBE9",this._context=t,this._isSuiterStream=i}var nd=Math.min,rd=[].lastIndexOf,sd=!!rd&&1/[1].lastIndexOf(1,-0)<0,od=gi("lastIndexOf"),ad=sd||od?function(t,i){if(sd)return rd.apply(this,arguments)||0;var e=E(this),n=jt(e.length),r=n-1;for(1<arguments.length&&(r=nd(r,Ct(i))),r<0&&(r=n+r);0<=r;r--)if(r in e&&e[r]===t)return r||0;return-1}:rd;Qt({target:"Array",proto:!0,forced:ad!==[].lastIndexOf},{lastIndexOf:ad});function hd(t,i){this.Id=t,this.LogicalName=i}function cd(t,i,e){var n;null!==t&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.TypeCode)?i.openDatasetItem(t,null):(n={entityName:t.LogicalName,entityId:t.Id?t.Id.toString():t.id?t.id.toString():null},e.openForm(n))}var ud,ld,fd=((window&&window.__extends||(ud=function(t,i){return(ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}ud(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(dd,ld=Jf),dd.prototype.render=function(){var i=this,t=this._props.dataSetRecord.getRecordId()?this._props.dataSetRecord.getRecordId():"",e=this._getContent(t);return this._context.factory.createElement("CONTAINER",{key:"ListCard"+t,id:"ListCard"+t,role:"gridcell",onKeyDown:function(t){t.ctrlKey&&t.altKey&&81===t.keyCode&&i._parent.streamQuickActionShortCut(t)},onClick:function(t){return i._props.onClickItem(t,i._props.dataSetRecord)},style:this._getCardContainerStyle()},e)},dd.prototype.getAccessibilityLabel=function(){return this._cardTitle?this._cardTitle:null},dd.prototype._getFieldType=function(i){var t=this._context.parameters.Grid.columns;if(t){var e=t.find(function(t){return t.name===i});return e&&e.dataType}},dd.prototype.renderField=function(t,n,e){var r=this,s=this._props.dataSetRecord,i=e?sf.dataTypeLookupSimple:this._getFieldType(n),o=Cf.getDesignBag().ListCardLookupFieldTextColor||"#004377",a=Cf.getDesignBag().ListCardLinkColor||this._context.theming.colors.basecolor.blue.blue3;switch(i){case sf.dataTypeLookupPartyList:for(var h,c,u=new Array,l=s.getValue(n),f=0;f<l.length;f++)"unresolvedaddress"==l[f]._etn?u.push(t):(h=f==l.length-1?l[f].name:l[f].name+", ",c=this._context.factory.createElement("HYPERLINK",{key:"HyperLink_"+l[f].id,id:"HyperLink_"+l[f].id,tabIndex:f,style:{display:"inline",color:a,textDecoration:"none"},onClick:function(t){t.preventDefault(),t.stopPropagation();var i=t.target.tabIndex,e=s.getValue(n)[i];r._context.parameters.Grid.openDatasetItem(e)}},h),u.push(c));c=this._context.factory.createElement("CONTAINER",{key:"ListItemLookup_"+n+"_"+s.getRecordId(),id:"ListItemLookup_"+n+"_"+s.getRecordId(),style:{display:"inline",color:a,textDecoration:"none"}},u);break;case sf.dataTypeLookupCustomer:case sf.dataTypeLookupOwner:case sf.dataTypeLookupRegarding:case sf.dataTypeLookupSimple:c=this._context.factory.createElement("HYPERLINK",{key:"ListItemLookup"+n+s.getRecordId(),id:"ListItemLookup"+n+s.getRecordId(),style:{display:"block",color:o,textDecoration:"none"},onClick:function(t){t.preventDefault(),t.stopPropagation();var i=s.getValue(n);e&&(i=new hd(s.getRecordId(),r._props.entityName)),null===i||MscrmCommon.ControlUtils.String.isNullOrEmpty(r._props.entityName)?r._context.parameters.Grid.openDatasetItem(i):r._context.utils.getEntityMetadata(r._props.entityName).then(function(t){t&&t.IsActivity?cd(i,r._context.parameters.Grid,r._context.navigation):r._context.parameters.Grid.openDatasetItem(i)},function(){r._context.parameters.Grid.openDatasetItem(i)})}},t);break;case sf.dataTypeSingleLineEmail:c=this._renderLink(t,"mailto:"+t);break;case sf.dataTypeSingleLinePhone:c=this._renderLink(t,"tel:"+t);break;case sf.dataTypeSingleLineURL:c=this._renderLink(t,t);break;case sf.dataTypeWholeDuration:c=s.reformatValue(n);break;case sf.dataTypeSingleLineTextArea:case sf.dataTypeSingleLineTicker:case sf.dataTypeTwoOptions:default:c=t}return c},dd.prototype._renderLink=function(t,i){return this._context.factory.createElement("HYPERLINK",{key:"ListItemLink",href:i,style:{display:"block","text-decoration":"none",overflow:"hidden","text-overflow":"ellipsis",color:Cf.getDesignBag().ListCardLinkColor||this._context.theming.colors.basecolor.blue.blue3}},t)},dd.prototype._getStripColor=function(){var t=this._parent.getCardFormColorStripDataFieldname(),i=this._props.dataSetRecord.getFormattedValue(t);if(i){var e=this._parent.getAttributeDescriptorsByName(),n=e&&e[t];if(n&&n.OptionSet&&0<n.OptionSet.length)for(var r in n.OptionSet){var s=n.OptionSet[r];if(s.Label===i&&s.Color)return s.Color}}var o=this._props.entityName;return o&&!MscrmCommon.ControlUtils.String.isNullOrEmpty(this._context.theming.getEntityColor(o))?this._context.theming.getEntityColor(o):this._context.theming.colors.defaultentity},dd.prototype._getContent=function(t){var i=this._state.isSelectionMode?this.renderSelectionCheck():this.renderCommandBar(),e=this._renderSection(Pl.CardHeader,this._getHeaderSectionStyle(),this._getHeaderSectionFieldStyle(),[i],null,t),n=this._renderSection(Pl.CardDetails,this._getDetailsSectionStyle(),this._getDetailsSectionFieldStyle(),null,null,t),r=this._getContainerStyle();r.alignItems="flex-start",r["margin-top"]=this._context.theming.measures.measure100,r["margin-bottom"]=this._context.theming.measures.measure100,this._cardExpanded||(r["white-space"]="nowrap");var s,o,a,h=this._context.factory.createElement("CONTAINER",{key:"CardDetails_"+t,id:"CardDetails_"+t,style:r},[this.renderEntityImage(),n]),c=this._getSectionFields(Pl.CardFooter,this._getFooterSectionFieldStyle(),null,t),u=[e,h,0<c.length?(s=this._renderButton(0,this.toggleButtonClickHandler.bind(this),this.toggleButtonKeyHandler.bind(this),this._cardExpanded,t),o=this._renderButton(1,this.toggleButtonClickHandler.bind(this),this.toggleButtonKeyHandler.bind(this),!this._cardExpanded,t),this._renderSection(Pl.ColorStrip,this._getStatusSectionStyle(),this._getStatusSectionFieldStyle(),[s,o],null,t)):this._renderSection(Pl.ColorStrip,this._getStatusSectionStyle(),this._getStatusSectionFieldStyle(),null,null,t)];return this._cardEverExpanded&&0<c.length&&(a=this._renderSection(Pl.CardFooter,this._getFooterSectionStyle(),this._getFooterSectionFieldStyle(),null,this._getFooterSectionLabelStyle(),t),u.push(a)),u},dd.prototype._toggleButtonFocus=function(t){var i=t.currentTarget,e=i.id,n=i.parentElement,r=1==+e.substr(e.lastIndexOf("_")+1,"1".length)?n.previousElementSibling:n.nextElementSibling,s=r&&r.children&&r.children[0],o=this;window.setTimeout(function(){s?s.focus():o._toggleButtonFocus(t)},100)},dd.prototype.toggleButtonClickHandler=function(t){t.preventDefault(),t.stopPropagation(),this._toggleButtonFocus(t),this._toggleListCard()},dd.prototype.toggleButtonKeyHandler=function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),t.stopPropagation(),this._toggleButtonFocus(t),this._toggleListCard())},dd.prototype._toggleListCard=function(){this._cardExpanded=!this._cardExpanded,this._cardEverExpanded=!0,bf.isForcedUpdate=!0,this._context.utils.requestRender()},dd.prototype._renderButton=function(t,i,e,n,r){var s=this._context.factory.createElement("MICROSOFTICON",{id:"ListCardButtonIcon_"+t+r,key:"ListCardButtonIcon_"+t+r,type:t}),o=Cf.getDesignBag().ListCardArrowColor||"#201F1E",a=this._context.factory.createElement("BUTTON",{id:"ListCardButton_"+t+r,key:"ListCardButton_"+t+r,title:1===t?$l.listCardCollapseText:$l.listCardExpandText,accessibilityLabel:1===t?$l.listCardCollapseText:$l.listCardExpandText,tabIndex:0,onClick:i.bind(this),onKeyDown:e.bind(this),style:{backgroundColor:"transparent",borderStyle:this._context.theming.noneborderstyle,lineHeight:this._context.theming.fontsizes.font150,fontSize:this._context.theming.fontsizes.font100,color:o,cursor:"pointer"},describedByElementId:this.getDescribedByElementId()},[s]);return this._context.factory.createElement("CONTAINER",{key:"CardButtonContainer_"+t+r,id:"CardButtonContainer_"+t+r,style:{display:n?"none":"block"}},a)},dd.prototype._renderSection=function(t,i,e,n,r,s){var o=this._createSection(t,i,e,r,s);if(n){var a=n;return o&&a.unshift(o),this._context.factory.createElement("CONTAINER",{key:"CardSectionWithControls_"+t+s,id:"CardSectionWithControls_"+t+s,style:this._getContainerStyle()},a)}return o},dd.prototype._createSection=function(t,i,e,n,r){var s=this._getSectionFields(t,e,n,r);return this._context.factory.createElement("CONTAINER",{key:"CardSection_"+t+r,id:"CardSection_"+t+r,style:i||{}},s)},dd.prototype._getSectionFields=function(t,i,e,n){var r,s=[],o=this._parent.getFromDescriptorSectionControls(t);if(o)for(var a in o){var h,c,u,l,f,d,A,g=o[a];g.ClassId.guid!==dd.subGridClassId&&(h=g.DataFieldName,(c=this._props.dataSetRecord.getFormattedValue(h))&&(u=this.renderField(c,h,!1),l=i||{},0==s.length&&(l=Object.assign({"font-family":this._context.theming.fontfamilies.semibold,cursor:"pointer"},i)),t===Pl.ColorStrip&&(l=Object.assign({color:this._getStripColor(),textDecoration:"none"},i)),t===Pl.CardDetails&&(r=r?r+" "+c:c),f=this._context.factory.createElement(t===Pl.ColorStrip?"HYPERLINK":"CONTAINER",{key:"FieldValue_"+h+n,id:"FieldValue_"+h+n,accessibilityLabel:t===Pl.ColorStrip?g.Label+" "+c:void 0,style:l},u),e?(d=this._context.factory.createElement("LABEL",{key:"FieldLabel_"+h+n,id:"FieldLabel_"+h+n,title:g.Label,accessibilityLabel:g.Label,style:e},g.Label),A=this._context.factory.createElement("CONTAINER",{key:"FieldContainer_"+h+n,id:"FieldContainer_"+h+n,style:this._getContainerStyle()},[f,d]),s.push(A)):s.push(f)))}return t===Pl.CardDetails&&(this._cardTitle=r),s},dd.prototype._getContainerStyle=function(){return{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},dd.prototype._getCardContainerStyle=function(){var t=this._getStripColor()||this._context.theming.colors.defaultentity,i={display:"block",marginTop:this._isGridHighDensityEnabled?"0px":this._context.theming.measures.measure100,marginBottom:this._isGridHighDensityEnabled?"0px":this._context.theming.measures.measure100,":hover":{margin:0,paddingTop:this._isGridHighDensityEnabled?"0px":this._context.theming.measures.measure100,paddingBottom:this._isGridHighDensityEnabled?"0px":this._context.theming.measures.measure100}};return i["padding"+(this._context.client.isRTL?"Right":"Left")]=this._context.theming.measures.measure100,i["border"+(this._context.client.isRTL?"Right":"Left")]=this._context.theming.measures.measure025+" "+this._context.theming.solidborderstyle+" "+t,i["font-size"]=this._context.theming.fontsizes.font100,i.color=Cf.getDesignBag().ListCardContainerTextColor||this._context.theming.colors.grays.gray07,i["font-family"]=this._context.theming.fontfamilies.regular,i.height="100%",i},dd.prototype._getHeaderSectionStyle=function(){return{display:"flex",flexDirection:"row",flexWrap:"wrap"}},dd.prototype._getHeaderSectionFieldStyle=function(){return{display:"block",color:Cf.getDesignBag().ListCardHeaderFieldColor||this._context.theming.colors.grays.gray05,"font-size":this._context.theming.fontsizes.font085,"margin-right":this._context.theming.measures.measure100,"font-family":this._context.theming.fontfamilies.regular,textOverflow:"ellipsis",overflow:"hidden","white-space":"nowrap","max-width":"fit-content"}},dd.prototype._getDetailsSectionStyle=function(){return{display:"block",flex:"1",overflow:"hidden","white-space":this._cardExpanded?"normal":"nowrap","max-height":this._cardExpanded?"":this._context.theming.measures.measure400}},dd.prototype._getDetailsSectionFieldStyle=function(){return this._cardExpanded?{display:"block"}:{display:"block","text-overflow":"ellipsis",overflow:"hidden"}},dd.prototype._getStatusSectionStyle=function(){return{display:"block","padding-left":this._context.client.isRTL?void 0:this._context.theming.measures.measure250,"margin-left":this._context.client.isRTL?void 0:this._context.theming.measures.measure100,"padding-right":this._context.client.isRTL?this._context.theming.measures.measure250:void 0,"margin-right":this._context.client.isRTL?this._context.theming.measures.measure100:void 0,"line-height":this._context.theming.measures.measure150,color:this._getStripColor()}},dd.prototype._getStatusSectionFieldStyle=function(){return{display:"block","font-family":this._context.theming.fontfamilies.regular}},dd.prototype._getFooterSectionStyle=function(){return{display:this._cardExpanded?"block":"none",overflow:"hidden","white-space":"normal","padding-bottom":this._context.theming.measures.measure100,"padding-left":this._context.theming.measures.measure100,"padding-right":this._context.theming.measures.measure100,"background-color":Cf.getDesignBag().ListCardFooterBackgroundColor||this._context.theming.colors.grays.gray01,"margin-top":this._context.theming.measures.measure050}},dd.prototype._getFooterSectionFieldStyle=function(){return{display:"block","font-family":this._context.theming.fontfamilies.regular}},dd.prototype._getFooterSectionLabelStyle=function(){return{"font-size":this._context.theming.fontsizes.font085,color:Cf.getDesignBag().ListCardFooterLabelColor||this._context.theming.colors.grays.gray05,alignSelf:"flex-end","white-space":"nowrap","margin-left":this._context.client.isRTL?void 0:this._context.theming.measures.measure100,"margin-right":this._context.client.isRTL?this._context.theming.measures.measure100:void 0}},dd.subGridClassId="e7a81278-8635-4d9e-8d4d-59480b391c5b",dd);function dd(t,i,e,n){var r=ld.call(this,t,e,n)||this;return r._parent=i,r._cardExpanded=r._context&&r._context.orgSettings&&r._context.orgSettings.boundDashboardDefaultCardExpanded,r._cardEverExpanded=r._cardExpanded,r._isGridHighDensityEnabled=bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName()),r}var Ad=(Object.defineProperty(gd.prototype,"dataSetRecord",{set:function(t){this._props.dataSetRecord!==t&&Object.assign(this._props,{dataSetRecord:t,entityName:t.getPrimaryEntityLogicalName()})},enumerable:!1,configurable:!0}),gd.prototype.render=function(t,i,e,n,r,s){return this._cardComponent.state={isSelectionMode:t,isItemSelected:i,isCommandBarFlyoutOpened:e,isCommandBarFlyoutMode:n,shouldHideCommandBarButton:r,isListItemBeingSwiped:s},this._cardComponent.render()},gd.prototype.getAccessibilityLabel=function(){return this._cardComponent.getAccessibilityLabel()},gd.prototype.getConditionalImageUrl=function(){return this._props.conditionalImageUrl},gd.prototype.getDescribedByElementId=function(){var t=this._cardComponent.getDescribedByElementId();return this._context.accessibility.getUniqueId(t)},gd.prototype._createDefaultTemplate=function(t){return new Jf(this._context,this._props,t)},gd.prototype._createCardTemplate=function(t,i){return new fd(this._context,t,this._props,i)},gd);function gd(t,i,e,n,r,s,o,a,h){this._context=t,this._props={dataSetRecord:i,entityImageUrl:n,conditionalImageUrl:r,conditionalImageAltText:s,onClickItem:a,onToggleCommandBarFlyout:h,entityName:i.getPrimaryEntityLogicalName(),entityPrimaryColumn:t.parameters.Grid.columns.find(function(t){return t.isPrimary})};var c=e.getFormDesctriptorControlDataSet();this._cardComponent=c&&Object.keys(c).length?this._createCardTemplate(e,o):this._createDefaultTemplate(o)}function wd(t,i,e,n){var r=String(F(t)),s="<"+i;return""!==e&&(s+=" "+e+'="'+String(n).replace(pd,"&quot;")+'"'),s+">"+r+"</"+i+">"}function md(i){return p(function(){var t=""[i]('"');return t!==t.toLowerCase()||3<t.split('"').length})}var pd=/"/g;Qt({target:"String",proto:!0,forced:md("bold")},{bold:function(){return wd(this,"b","","")}});var vd=yr.every;Qt({target:"Array",proto:!0,forced:gi("every")},{every:function(t,i){return vd(this,t,1<arguments.length?i:void 0)}});var bd,Ed,Bd,Cd=(jd.serverLayout="serverLayout",jd.clientLayout="clientLayout",jd.groupby="groupDescriptions",jd.sort="sorting",jd.filter="filtering",jd);function jd(){}(Ed=bd=bd||{})[Ed.AdditionalAttributes=0]="AdditionalAttributes",Ed[Ed.PagingLoad=1]="PagingLoad",Ed[Ed.DataSetUpdate=2]="DataSetUpdate",Ed[Ed.FieldAccess=3]="FieldAccess",Ed[Ed.RetrieveLookup=4]="RetrieveLookup",Ed[Ed.InitGrid=5]="InitGrid",Ed[Ed.Filtering=6]="Filtering",Ed[Ed.Sorting=7]="Sorting",Ed[Ed.ProcessDataSetRecords=8]="ProcessDataSetRecords",Ed[Ed.InitToRendered=9]="InitToRendered",(Bd=bd=bd||{}).generateId=function(t){var i="CustomControl.Grid.";switch(t){case Bd.AdditionalAttributes:return i+"AdditionalAttributes";case Bd.PagingLoad:return i+"PagingLoad";case Bd.DataSetUpdate:return i+"DataSetUpdate";case Bd.FieldAccess:return i+"FieldAccess";case Bd.RetrieveLookup:return i+"RetrieveLookup";case Bd.InitGrid:return i+"InitGrid";case Bd.Filtering:return i+"Filtering";case Bd.Sorting:return i+"Sorting";case Bd.ProcessDataSetRecords:return i+"ProcessDataSetRecords";case Bd.InitToRendered:return i+"InitToRendered";default:return i+"Unknown"}};var yd=(xd.prototype.initialize=function(t){this.createPerformanceStopwatch=t,this.stopwatches={}},xd.prototype.getStopwatch=function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.createPerformanceStopwatch))throw new Error("Error: createPerformanceStopwatch function is not defined correctly. Please call GridPerformance.getInstance().initialize() first.");var i=bd.generateId(t);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.stopwatches[i])&&(this.stopwatches[i]=new Id(this.createPerformanceStopwatch,i)),this.stopwatches[i]},xd.prototype.tryStart=function(t){try{var i=this.getStopwatch(t);i.isRunning||i.start()}catch(t){}},xd.prototype.tryStop=function(t){try{var i=this.getStopwatch(t);i.isRunning&&i.stop()}catch(t){}},xd.prototype.collectAndReportClientMetrics=function(){this.clientMetricsReported||MscrmCommon.ControlUtils.Object.isNullOrUndefined(Mscrm.MetricsCollector)||(Mscrm.MetricsCollector.collectAndReportClientMetrics(1),this.clientMetricsReported=!0)},xd.prototype.dispose=function(){this.createPerformanceStopwatch=null,this.stopwatches=null},xd);function xd(){this.clientMetricsReported=!1}var Id=(Md.prototype.start=function(){this._current=this.perfStopWatch(this._id),this.isRunning=!0},Md.prototype.stop=function(){this._current(),this.isRunning=!1},Md.prototype.dispose=function(){this.perfStopWatch=null},Md);function Md(t,i){this.perfStopWatch=t,this.isRunning=!1,this._id=i}var Fd=(Object.defineProperty(Qd.prototype,"sortingChanged",{get:function(){return this.sortingChangedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(Qd.prototype,"dataSet",{get:function(){return this._dataSet},enumerable:!1,configurable:!0}),Qd.prototype.applySorting=function(t,i,e){return void 0===i&&(i=!1),this.isGridNewFilterEnabled&&!this._isListSortingService?this.applyServerSortingForNewFilterFeature(t,i,e):this.applyServerSorting(t,i)},Qd.prototype.applyState=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[Cd.sort])){var i=t[Cd.sort];if(0<i.length){if(this.sortingAlreadyApplied(i,this._dataSet.sorting))return!1;for(var e=this._dataSet.sorting,n=e.length=0;n<i.length;++n){var r=new MscrmCommon.DataSetColumnSortStatus;r.name=i[n].propertyName,r.sortDirection=i[n].sortDirection,e.push(r)}return!0}}return!1},Qd.prototype.saveState=function(t){for(var i=[],e=this._dataSet.sorting,n=0;n<e.length;++n){var r=e[n];i.push({propertyName:r.name,sortDirection:r.sortDirection})}t[Cd.sort]=i},Object.defineProperty(Qd.prototype,"isServerGrouped",{get:function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.groupingService)&&this.groupingService.isServerGrouped},enumerable:!1,configurable:!0}),Qd.prototype.sortingAlreadyApplied=function(t,e){return t.length===e.length&&t.every(function(i){var t=e.find(function(t){return t.name===i.propertyName&&t.sortDirection===i.sortDirection});return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)})},Qd.prototype.applyServerSorting=function(t,i){bf.isUci()&&!bf.isNestedGridConfigured&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(bd.Sorting);var e=new MscrmCommon.DataSetColumnSortStatus;e.name=t;var n,r,s,o,a=this._dataSet.sorting,h=0;if(this.isServerGrouped&&0<a.length&&a[0].name!==e.name&&(h=1),i){for(var c=-1,u=0;u<a.length;u++)if(a[u].name===e.name){a[u].sortDirection=0===a[u].sortDirection?1:0,c=u;break}-1===c&&(e.sortDirection=0,a.push(e))}else{if(a.length>h&&a[h].name===e.name?e.sortDirection=0===a[h].sortDirection?1:0:e.sortDirection=0,a.length>h&&a[h].name===e.name&&a[h].sortDirection===e.sortDirection)return!1;a.length=h,a.push(e)}return bf.isUCIDisruptiveFeatureEnabled(bf.getJumpBarShouldHonorSortingFCB())&&(o=n=this.dataSet.columns.find(function(t){return t.isPrimary}),0<=(r=a.findIndex(function(t){var i=t.name;return!bf.isLinkedEntityColumn(i)}))&&(s=a[r].name,o=this.dataSet.columns.find(function(t){return t.name===s})),n&&o&&this.utils.fireEvent(Qd.ON_SELECTED_ORDER_COLUMN_CHANGE,{columnSortingName:o.name,columnSortingType:o.attributes.type,primaryNameAttribute:n.name})),this.sortingChangedEvent.raise(this,ru.EventArgs.empty),!0},Qd.prototype.applyServerSortingForNewFilterFeature=function(t,i,e){bf.isUci()&&!bf.isNestedGridConfigured&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(bd.Sorting);var n=new MscrmCommon.DataSetColumnSortStatus;n.name=t;var r,s,o,a,h=this._dataSet.sorting,c=0;if(this.isServerGrouped&&0<h.length&&h[0].name!==n.name&&(c=1),i){for(var u=-1,l=0;l<h.length;l++)if(h[l].name===n.name){h[l].sortDirection=e,u=l;break}-1===u&&(n.sortDirection=e,h.push(n))}else{if(n.sortDirection=e,h.length>c&&h[c].name===n.name&&h[c].sortDirection===n.sortDirection)return this.isGridNewFilterEnabled&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:2}),!1;h.length=c,h.push(n)}return bf.isUCIDisruptiveFeatureEnabled(bf.getJumpBarShouldHonorSortingFCB())&&(a=r=this.dataSet.columns.find(function(t){return t.isPrimary}),0<=(s=h.findIndex(function(t){var i=t.name;return!bf.isLinkedEntityColumn(i)}))&&(o=h[s].name,a=this.dataSet.columns.find(function(t){return t.name===o})),r&&a&&this.utils.fireEvent(Qd.ON_SELECTED_ORDER_COLUMN_CHANGE,{columnSortingName:a.name,columnSortingType:a.attributes.type,primaryNameAttribute:r.name})),this.sortingChangedEvent.raise(this,ru.EventArgs.empty),!0},Qd.prototype.dispose=function(){this._dataSet=null},Qd.ON_SELECTED_ORDER_COLUMN_CHANGE="onselectedordercolumnchange",Qd);function Qd(t,i,e,n,r){void 0===r&&(r=!1),this.utils=e,this.perfTool=n,this._dataSet=t,this.utils=e,this.groupingService=i,this.sortingChangedEvent=new ru.Event,this.isGridNewFilterEnabled=bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB()),this._isListSortingService=r}var Rd,kd,Sd=(Object.defineProperty(Dd.prototype,"sortingService",{get:function(){return this._sortingService},enumerable:!1,configurable:!0}),Object.defineProperty(Dd.prototype,"dataSet",{get:function(){return this._dataSet},enumerable:!1,configurable:!0}),Dd.prototype.getSortButtonId=function(){return"listSortButton"},Dd.prototype.getSortPopupListHeaderId=function(){return"SortPopupListHeader"},Dd.prototype.getSortPopupListFooterId=function(){return"SortPopupListFooter"},Dd.prototype.getSortPopupPopped=function(){return this.sortPopupPopped},Dd.prototype.renderSortingPopup=function(){var t,i,e,n,r,s,o,a,h,c,u,l,f,d=this;this.sortPopupPopped||(t=this._context.utils.getPopupService(),i=document.createElement("div"),h=$(this._container).offset().top,a=$(this._container).offset().left,c=this._container.offsetWidth,u=o=void 0,l=this._container.offsetHeight,s=void 0,this._isRenderedInStream&&(e=document.getElementById(this.getSortButtonId())||document.getElementById(this._context.accessibility.getUniqueId(this.getSortButtonId())),n=$(e).offset().left,h=$(e).offset().top+e.offsetHeight,c=void 0,u=e.offsetWidth+2*Bf(this._context.theming.measures.measure150)+"px",l=$(document.documentElement).outerHeight()-h-2,this._context.client.isRTL?(r=n+$(e).outerWidth(),s=$(document.documentElement).outerWidth()-r,o=r-a+"px",a=void 0):o=a+$(this._container).outerWidth()-(a=n)+"px"),this.popupDiv=i,f={name:this.sortPopupKey,popupToOpen:this.sortPopupKey,closeOnOutsideClick:!0,popupStyle:{width:c?c+"px":void 0,maxWidth:o,minWidth:u,borderStyle:"solid",borderColor:"black",borderWidth:"1px",flex:"",overflow:this._isRenderedInStream?"hidden":null,whiteSpace:this._isRenderedInStream?"nowrap":null,textOverflow:this._isRenderedInStream?"ellipsis":null,top:h+"px",left:a||0===a?a+"px":void 0,right:s?s+"px":void 0,flexDirection:"column",position:"absolute"},shadowStyle:{position:"absolute",width:"100%",height:"100%"},type:1,content:i},t.createPopup(f),this.removePopup=function(t){var i=document.getElementById(d.getSortPopupListHeaderId())||document.getElementById(d._context.accessibility.getUniqueId(d.getSortPopupListHeaderId()));d.sortPopupPopped&&(d._isRenderedInStream||i.id!==t.target.id)&&d._deletePopup()},setTimeout(function(){document.addEventListener("click",d.removePopup,{capture:!0,once:!0})},500),this._context.utils.bindDOMElement(this.renderSortPopupDataSet(c,l),this.popupDiv),this.sortPopupPopped=!0)},Dd.prototype.renderSortPopupDataSet=function(t,i){var e=this,n=[],r=this._context.factory.createElement("CONTAINER",{id:"SortTitleText",key:"SortTitleText",style:{fontSize:this._context.theming.fontsizes.font100,color:this._context.theming.colors.base.white}},$l.commandBarSortIconText),s=this._context.factory.createElement("CONTAINER",{id:this.getSortPopupListHeaderId(),style:{fontWeight:this._context.theming.fontfamilies.bold,paddingLeft:this._context.theming.measures.measure150,width:t+"px",boxSizing:"border-box",display:"flex",lineHeight:this._context.theming.measures.measure250,fontSize:this._context.theming.fontsizes.font100,fontColor:this._context.theming.colors.basecolor.white,backgroundColor:this._context.theming.colors.basecolor.blue.blue3}},r),o=this._context.factory.createElement("CONTAINER",{id:this.getSortPopupListFooterId(),style:{display:"flex",height:this._context.theming.measures.measure100,fontSize:this._context.theming.fontsizes.font100,cursor:"pointer",fontColor:this._context.theming.colors.base.white,backgroundColor:this._context.theming.colors.whitebackground},accessibilityHidden:!0},[" "]),a=this._context.factory.createElement("BUTTON",{onClick:this._removePopup.bind(this),tabIndex:-1,style:{position:"absolute",bottom:"0",right:"0",clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"1px",width:"1px",margin:"-1px",overflow:"hidden"}},$l.closeSortPopupButtonText);return this._isRenderedInStream||n.push(s),n.push(this._renderSortPopupList(t)),n.push(o),n.push(a),this._context.factory.createElement("SCROLLCONTAINER",{id:"SortPopupScrollContainer",key:"SortPopupScrollContainer",onKeyDown:function(t){e._keyDownHandler.call(e,t)},style:Object.assign({overflowY:"auto",maxHeight:i+"px"},this._isRenderedInStream&&{overflow:"hidden",textOverflow:"ellipsis"})},n)},Dd.prototype._renderSortPopupList=function(o){var a=this,h=[];if(this._isRenderedInStream){var t=this._parent.getAttributeDescriptorsByName();for(var i in t){var e=t[i];!e.IsSortableEnabled&&"modifiedon"!==e.LogicalName||h.push(this.renderSortPopupListItem({alias:i,displayName:e.DisplayName},!1,o,!1))}}else this.dataSet.columns.forEach(function(t,i){for(var e=0===t.order,n=!1,r=0,s=a._dataSet.sorting;r<s.length;r++)s[r].name===t.alias&&(n=!0);h.push(a.renderSortPopupListItem(t,n,o,e))});return this._context.factory.createElement("LIST",{id:"SortPopupColumnsList",key:"SortPopupColumnsList",role:"listbox",accessibilityLabel:$l.commandBarSortIconText},h)},Dd.prototype.renderSortPopupListItem=function(t,i,e,n){var r,s=this,o=t.alias,a=t.displayName,h=MscrmCommon.ControlUtils.String.Format($l.sortByColumnName,a);if(t.disableSorting||t.isHidden||"entityimage_url"===o||!a)return null;var c,u,l=[],f={fontWeight:this._context.theming.fontfamilies.regular,paddingLeft:this._context.theming.measures.measure150,paddingRight:this._context.theming.measures.measure150,display:this._isRenderedInStream?"block":"flex",textOverflow:this._isRenderedInStream?"ellipsis":null,overflow:this._isRenderedInStream?"hidden":null,lineHeight:this._context.theming.measures.measure250,cursor:"pointer",fontSize:this._context.theming.fontsizes.font100,fontColor:this._context.theming.colors.grays.gray07,backgroundColor:this._context.theming.colors.whitebackground,whiteSpace:"nowrap",":hover":{backgroundColor:this._context.theming.colors.grays.gray01},":focus":{backgroundColor:this._context.theming.colors.grays.gray03}};return l.push(a),i&&(c=this._dataSet.sorting[0].sortDirection,u=this._context.factory.createElement("MICROSOFTICON",{id:"sortDirectionIcon"+c,key:"sortDirectionIcon"+c,type:0===c?58:59,style:{marginLeft:"auto"},accessibilityHidden:!0}),h=MscrmCommon.ControlUtils.String.Format($l.sortedByColumnName,a,0===c?$l.sortedByAscending:$l.sortedByDescending),l.push(u)),this._context.factory.createElement("LISTITEM",((r={id:"SortFlyoutColumnsListItem_"+o+i,key:"SortFlyoutColumnsListItem_"+o+i,tabIndex:0,title:t.displayName,role:"option",style:f,accessibilityLabel:h})[i?"isSelected":void 0]=!0,r.onClick=function(){s.sortingService.applySorting(o),s._dataSet.refresh(),s._parent.isSortLiveRegionHidden=!1},r),l)},Dd.prototype._removePopup=function(){this._deletePopup()},Dd.prototype._deletePopup=function(){this._context.utils.getPopupService().deletePopup(this.sortPopupKey),this.sortPopupPopped=!1,document.removeEventListener("click",this.removePopup)},Dd.prototype._handleKeyboardEventsForPopup=function(t,i){if(-1!==[40,38].indexOf(t.keyCode)){var e=t.target,n=null;switch(t.keyCode){case 38:n=e.previousElementSibling;break;case 40:n=e.nextElementSibling}n&&n.focus()}},Dd.prototype._keyDownHandler=function(t){switch(t.keyCode){case 27:this._removePopup.call(this);break;case 13:t.target.click(),t.preventDefault();break;default:this._handleKeyboardEventsForPopup(t,"SortPopupScrollContainer")}},Dd);function Dd(t,i,e,n){this.sortPopupPopped=!1,this.sortPopupKey="sortPopup",this._context=t,this._dataSet=t.parameters.Grid,this._container=e,this._sortingService=new Fd(this._dataSet,null,t.utils,i,!0),this._isRenderedInStream=this._context.parameters.UseDefaultCardFormForList&&this._context.parameters.UseDefaultCardFormForList.raw,this._parent=n}(kd=Rd={})[kd.None=0]="None",kd[kd.Top=1]="Top",kd[kd.Bottom=2]="Bottom";var Nd=(Td.render=function(t,i,e){void 0===e&&(e=!0);var n=Pl.progressIndicatorSize+"px",r={width:n,height:n,margin:"0 auto"};return t.createElement("PROGRESSINDICATOR",{key:i,id:i,style:r,progressType:"ring",testhooks:{id:i+"_progressIndicator"},active:e},[])},Td);function Td(){}var Od={};function Yd(t,i,e,n){var r=Od[t];r&&r.height&&!(n<r.height)&&i===r.version||(Od[t]={version:i,height:n},n&&localStorage&&localStorage.setItem(Ud(t,e),i+":"+n))}function Ud(t,i){return"defaultCardFormHeight:"+i+":"+t}function Hd(t){var i=t.id,e=t.name,n=t.iconProps,r=t.onClick,s=t.styles,o=t.tooltip;return P.createElement(a.ActionButton,{uniqueId:i,iconProps:n,ariaDescription:o,styles:s,text:e,onClick:r})}var zd,Gd,Pd,Vd,Ld=window&&window.__spreadArrays||function(){for(var t=0,i=0,e=arguments.length;i<e;i++)t+=arguments[i].length;for(var n=Array(t),r=0,i=0;i<e;i++)for(var s=arguments[i],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n},Jd="GridListContainer",Wd="ListSortingLiveRegion",_d="ListItem_Void",Xd="modifiedon",Kd="GridList";(Vd=Pd={})[Vd.initial=0]="initial",Vd[Vd.hardSwipe=1]="hardSwipe";var Zd,qd,$d=(tA.prototype.getFormDesctriptorControlDataSet=function(){return this._formDescriptorControlDataSet},Object.defineProperty(tA.prototype,"selectedRecordIds",{get:function(){return this._selectedItems},enumerable:!1,configurable:!0}),Object.defineProperty(tA.prototype,"IsSelectionMode",{get:function(){return this._selectionMode},enumerable:!1,configurable:!0}),Object.defineProperty(tA.prototype,"itemHeightEstimate",{get:function(){if(this._canDetermineDefaultCardFormHeight()){var t=this._isDefaultCardForm()&&this.dataSet.getTargetEntityType(),i=t&&(e=t,n=this._getFormDescriptorVersion(),r=this._areCardsExpandedByDefault,(!(u=Od[e])||n&&u.version!==n)&&((s=localStorage&&localStorage.getItem(Ud(e,r)))&&(a=(o=s.split(":"))[0],h=o[1],c=+a,u&&n!==c||(u={version:c,height:+h})),u=u||{version:n,height:0},Od[e]=u),u.height);if(i)return i}var e,n,r,s,o,a,h,c,u,l;return zd||(l=_f(this._context),zd=Bf(l)),zd},enumerable:!1,configurable:!0}),Object.defineProperty(tA.prototype,"wasItemHeightEstimateAccurate",{get:function(){return this._wasItemHeightEstimateAccurate},enumerable:!1,configurable:!0}),tA.prototype.setItemsToRender=function(t){this._itemsToRender=t},tA.prototype.getScrollableElement=function(){return this._scrollableElement},tA.prototype.getListSortingPopup=function(){return this._listSortingPopup},tA.prototype.getRenderedCellHeight=function(){return $(this.getScrollableElement()).children().first().outerHeight()},tA.prototype.setProgressIndicator=function(t){if(t){switch(t){case Rd.Top:var i=Pl.progressIndicatorSize;this._progressIndicatorDiv.style.top=i+"px",this._progressIndicatorDiv.style.bottom="auto";break;case Rd.Bottom:this._progressIndicatorDiv.style.top="auto",this._progressIndicatorDiv.style.bottom="0"}this._progressIndicatorDiv.style.display="block"}else this._progressIndicatorDiv.style.display="none",this._progressIndicatorDiv.style.top=null,this._progressIndicatorDiv.style.bottom=null},Object.defineProperty(tA.prototype,"onRecordsDataInit",{set:function(i){var e=this;this._recordsDataInit=function(t){i(t),e._recordsDataInit=null}},enumerable:!1,configurable:!0}),tA.prototype.updateSourceCollection=function(t){this._recordIds=t,this._resetEntityAndConditionalImages(),this.render()},Object.defineProperty(tA.prototype,"sortingService",{get:function(){return this._sortingService},enumerable:!1,configurable:!0}),Object.defineProperty(tA.prototype,"dataSet",{get:function(){return this._context.parameters.Grid},enumerable:!1,configurable:!0}),Object.defineProperty(tA.prototype,"cardForm",{get:function(){return this._context.parameters.CardForm},enumerable:!1,configurable:!0}),Object.defineProperty(tA.prototype,"componentContainerId",{get:function(){return this._isDefaultCardForm()?Jd+"AndHeader":Jd},enumerable:!1,configurable:!0}),Object.defineProperty(tA.prototype,"isCommandBarFlyoutMode",{get:function(){return!!this._activeCommandBarFlyoutId},enumerable:!1,configurable:!0}),tA.prototype._isNonDefaultCardForm=function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.cardForm)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.cardForm.formDescriptor)},tA.prototype._isNonDefaultCardFormInitialized=function(){return this._isNonDefaultCardForm()&&2===this.cardForm.formDescriptor.initialized},tA.prototype._isDefaultCardForm=function(){var t=this._context.parameters.UseDefaultCardFormForList;return t&&t.raw},tA.prototype._hasConnectionStatusChanged=function(){return-1!==this._context.updatedProperties.indexOf("isOffline")},tA.prototype.needsReRender=function(){return!this._hasRendered||this._hasConnectionStatusChanged()||this._shouldRenderHorizontally(!1)||this._memoizedAllocatedHeight&&this._memoizedAllocatedWidth&&this._context.client&&this._context.client.allocatedHeight&&-1!==this._context.client.allocatedHeight&&this._context.client.allocatedWidth&&-1!==this._context.client.allocatedWidth&&(this._memoizedAllocatedHeight!==this._context.client.allocatedHeight||this._memoizedAllocatedWidth!==this._context.client.allocatedWidth||this._memoizedItemsToRender!==this._itemsToRender)},tA.prototype.streamQuickActionShortCut=function(t){var i=t.target,e=$(i).closest("li")[0],n=$(e).closest("div[id*=GridListContainerAndHeader]").find("button")[0];n&&(n.focus(),t.preventDefault(),t.stopPropagation())},tA.prototype.initialize=function(){var n=this,t=this.dataSet.getTargetEntityType();if(0===this._commandState&&(this._commandState=1,this._initializeCommandPromise=this._retrieveAddNewCommand().then(function(t){n._addNewCommandObject=t,n._commandState=2,n._initializeCommandPromise=null})),this._isNonDefaultCardForm()||this._isDefaultCardForm()){if(this._isNonDefaultCardForm()&&!this._isNonDefaultCardFormInitialized())return!1;if(0===this._cardFormState)if(this._cardFormState=1,this.cardForm&&this.cardForm.formDescriptor)this._context.utils.retrieveFormWithAttributes(t,this.cardForm.formDescriptor.Id.guid,"Card").then(function(t){t&&(n._formDescriptorWithAttributes=t),n._runPostCardFormRetrievalJobs()});else if(this._isDefaultCardForm()){var i=this._context.utils.retrieveFormWithAttributes(t,null,"Card"),e=this._context.utils.getEntityMetadata(t);return this._initializeCardFormPromise=Promise.all([i,e]).then(function(t){var i=t[0],e=t[1];e&&e.PrimaryImageAttribute&&(n._hasEntityImage=!0,n._imageAttributeUrl=e.PrimaryImageAttribute+"_url"),i?(n._formDescriptorWithAttributes=i,n._runPostCardFormRetrievalJobs()):(n._cardFormState=2,n._initializeCardFormPromise=null)}),!1}return 2===this._commandState&&2===this._cardFormState}return 2===this._commandState},tA.prototype.render=function(){var t=this;this.initialize()?(this._hasRendered=!0,this._createList()):this._renderPendingInit||!this._initializeCardFormPromise&&!this._initializeCommandPromise||(this._renderPendingInit=!0,Promise.all([this._initializeCardFormPromise,this._initializeCommandPromise]).then(function(){return t._context.utils.requestRender()}))},tA.prototype._runPostCardFormRetrievalJobs=function(){this._generateFormDescriptorInfo(),this._addColumnsToDataSet()&&this.dataSet&&this.dataSet.refresh(),this._cardFormState=2,this._initializeCardFormPromise=null},tA.prototype._addColumnsToDataSet=function(){var t=[],i=this.dataSet.columns.map(function(t){return t.name});if(this._formDescriptorControlDataSet)for(var e in this._formDescriptorControlDataSet){var n=this._formDescriptorControlDataSet[e];if(n)for(var r in n)n[r].DataFieldName&&-1===i.indexOf(n[r].DataFieldName)&&(t.push(n[r].DataFieldName),this.dataSet.addColumn(n[r].DataFieldName))}var s=this.getAttributeDescriptorsByName();if(s)for(var o in s)-1===t.indexOf(o)&&-1===i.indexOf(o)&&(t.push(o),this.dataSet.addColumn(o));return this._isDefaultCardForm()&&(-1===t.indexOf(Xd)&&-1===i.indexOf(Xd)&&(t.push(Xd),this.dataSet.addColumn(Xd)),this._hasEntityImage&&this._imageAttributeUrl&&-1===t.indexOf(this._imageAttributeUrl)&&-1===i.indexOf(this._imageAttributeUrl)&&(t.push(this._imageAttributeUrl),this.dataSet.addColumn(this._imageAttributeUrl))),!!t.length},tA.prototype._generateFormDescriptorInfo=function(){var t=this.getFormDescriptor(),i=this.dataSet.getTargetEntityType();if(t)for(var e in tA.CardFormSectionArray){var n=tA.CardFormSectionArray[e];this._formDescriptorControlDataSet[n]=this._buildSectionControlInfo(n,t)}else"activitypointer"===i&&Ll.generateFormDescriptorInfoForActivityPointer(this._formDescriptorWithAttributes,this._formDescriptorControlDataSet)},tA.prototype._buildSectionControlInfo=function(t,i){var e=[],n=i.Sections&&i.Sections[t];if(n||t!==Pl.ColorStrip||(n=i.Sections&&i.Sections[tA.ColorStripDelimited]),n&&n.Visible){var r=n.Rows;if(r)for(var s in r){var o=r[s];if(o.Visible)for(var a in o.Cells){var h=o.Cells[a],c=i.Controls[h.ControlName];c&&c.DataFieldName&&c.ClassId&&c.ClassId.guid&&"6F3FB987-393B-4D2D-859F-9D0F0349B6AD"!==c.ClassId.guid.toUpperCase()&&e.push(c)}}}return e},tA.prototype.getFormDescriptor=function(){return this.cardForm&&this.cardForm.formDescriptor?this.cardForm.formDescriptor:this._formDescriptorWithAttributes?this._formDescriptorWithAttributes.formDescriptor:null},tA.prototype._getFormDescriptorVersion=function(){var t=this.getFormDescriptor();return t&&t.VersionNumber||0},tA.prototype.getFromDescriptorSectionControls=function(t){return this._formDescriptorControlDataSet?this._formDescriptorControlDataSet[t]:null},tA.prototype.getAttributeDescriptorsByName=function(){return this._formDescriptorWithAttributes?this._formDescriptorWithAttributes.attributeDescriptors:null},tA.prototype.getCardFormColorStripDataFieldname=function(){var t=this.getFromDescriptorSectionControls(Pl.ColorStrip);return t&&t[0]?t[0].DataFieldName:null},tA.prototype.attachScrollHandler=function(i){var e=this;this._scrollHandler=function(t){e.clearTimer(),i(t)}},tA.prototype._retrieveAddNewCommand=function(){return this._showAddNewCommand?this._context.parameters.Grid.retrieveRecordCommand([],null,void 0,!0).then(function(t){if(t&&0<t.length){var i=t.filter(function(t){return t.shouldBeVisible&&("Mscrm.NewRecordFromGrid"===t.commandId||"Mscrm.AddNewRecordFromSubGridStandard"===t.commandId)});return 0<i.length?i[0]:null}}):Promise.resolve(null)},tA.prototype._createAddNewCommandButtons=function(){var i=this;if(this.dataSet.hasError)return null;var t=this.dataSet.sortedRecordIds.length&&!this.dataSet.hasError;if(!this._showAddNewCommand||t)return null;if(this._hasConnectionStatusChanged()&&this._retrieveAddNewCommand().then(function(t){(i._addNewCommandObject&&!t||!i._addNewCommandObject&&t)&&(i._addNewCommandObject=t,i._requestRender())}),!this._addNewCommandObject)return null;var e=this._addNewCommandObject,n={id:e.commandButtonId,name:e.label,iconProps:{iconName:"Add",styles:{fontWeight:"800"}},tooltip:e.tooltip,onClick:function(){e.canExecute&&e.execute()},styles:{icon:{color:Pl.dynPrimaryColor,fontSize:"8px",margin:"6px",fontWeight:"800"},label:{color:Pl.dynPrimaryColor,fontWeight:"600",fontSize:this._context.theming.normalfontsize,lineHeight:"20px",textAlign:"center",marginRight:"6px",marginLeft:"6px"},root:{height:"20px",marginTop:"10px",marginBottom:"10px"}}};return this._context.factory.createElement("CONTAINER",{key:e.commandButtonId,id:e.commandButtonId},P.createElement(Hd,n))},tA.prototype._createInnerError=function(){var t=this;return this.dataSet.innerError?this._context.factory.createElement("HYPERLINK",{id:"innerError",key:"innerError",style:{display:"flex",justifyContent:"center"},onClick:function(){t._context.utils.fireEvent(bf.SHOW_INNER_ERROR,t.dataSet.innerError)},href:"#"},$l.seeErrorDetails):null},tA.prototype._createNoRecordsOrErrorListPlaceHolder=function(){var t,i;if(!this.dataSet.sortedRecordIds.length||this.dataSet.hasError){var e=this._isDefaultCardForm()&&bf.isUCIDisruptiveFeatureEnabled(bf.getSuiterStreamFCB(),bf.getApril2020UpdateFCB()),n=this._isEmptySubgridIconAndTextChangesEnabled(),r=this._isEmptyGridOnQuickFindIconAndTextChangesEnabled(),s=Cf.getDesignBag(),o={text:this.dataSet.errorMessage,icon:188,iconStyle:{"font-size":"2em","font-weight":"normal",color:s.ErrorTextColor||"red"},containerStyle:{backgroundColor:s.ListItemBackGroundColor||""}},a={text:$l.noRecordsText,icon:91,accessibilityHidden:!0};e?a=Object.assign(a,{icon:457,textStyle:{color:s.ListItemTextColor||Lf,fontSize:"18px",lineHeight:"24px",fontFamily:this._context.theming.fontfamilies.semibold},iconStyle:{color:s.ListItemTextColor||"#A19F9D",fontSize:"48px",fontFamily:this._context.theming.fontfamilies.regular}}):n?a=Object.assign(a,{icon:Rf.OpenFolderHorizontal,textStyle:((t={color:s.ListItemTextColor||"#6E6E6E",fontSize:"13px"})["padding"+(this._context.client.isRTL?"Right":"Left")]="10px",t),iconStyle:{paddingBottom:"0px",fontSize:"20px"},containerStyle:((i={flexDirection:"row",justifyContent:"flex-start"})["padding"+(this._context.client.isRTL?"Right":"Left")]="15px",i.height="40px",i.minHeight="40px",i.backgroundColor=s.ListItemBackGroundColor||"",i)}):r&&(a=Object.assign(a,{text:$l.noResultsFound,icon:Rf.ErrorIcon,textStyle:{color:s.QuickFindEmptyGridTextStyleColor||"#001433",fontSize:"17px",lineHeight:"28px",fontFamily:this._context.theming.fontfamilies.regular},iconStyle:{color:s.QuickFindEmptyGridIconStyleColor||"#797775",fontSize:"40px",fontFamily:this._context.theming.fontfamilies.regular},containerStyle:{flexDirection:"column",justifyContent:"center",paddingTop:"30px",height:"auto",width:"100%"}}));var h=[this._context.factory.createElement("PLACEHOLDER",this.dataSet.hasError?o:a,null)];return this.dataSet.hasError&&this.dataSet.innerError&&h.push(this._createInnerError()),h}},tA.prototype._createList=function(){var g=this;this.dataSet.working||(this._recordIds.length!==Object.keys(this._listItemStates).length&&this._recordIds.forEach(function(t){null!==g._listItemStates[t]&&void 0!==g._listItemStates[t]||(g._listItemStates[t]={swipeStartCoordinate:null,currentState:Pd.initial,swipeDistance:0,swiping:!1})}),this.loadConditionalImages().then(function(){g._conditionalImageLoadPromise=null;var t=g.dataSet.sortedRecordIds.length&&!g.dataSet.hasError,i=g._isDefaultCardForm()&&bf.isUCIDisruptiveFeatureEnabled(bf.getSuiterStreamFCB(),bf.getApril2020UpdateFCB()),e=i&&!t,n=g._createAddNewCommandButtons()||g._createNoRecordsOrErrorListPlaceHolder(),r=t?void 0:g._context.factory.createElement("LISTITEM",i?{style:{height:"100%"}}:{},n),s=g._isMobileListHeaderAndApril2021Enabled()?t?Ld([g._createMobileListHeader()],g._getListItems(g)):r:t?g._getListItems(g):r,o={display:"block",overflowY:g._listItemBeingSwipedId&&g._listItemStates[g._listItemBeingSwipedId]&&10<Math.abs(g._listItemStates[g._listItemBeingSwipedId].swipeDistance)&&0!==g._getListItemPosition(g._listItemBeingSwipedId)?"hidden":"auto",overflowX:"hidden",height:"auto","& *:focus":{outlineOffset:"-1px"}},a=Cf.getDesignBag();a.ListItemBackGroundColor&&(o=Object.assign({},o,{backgroundColor:a.ListItemBackGroundColor})),g._isDefaultCardForm()&&!e||Object.assign(o,!g._isDefaultCardForm()&&{width:"100%"},!t&&{height:"100%"}),g._isMobile&&g._isListItemSwipeActionsEnabled&&g._context.client.userAgent.isAndroid&&Object.assign(o,{"z-index":0,"touch-action":"pan-y"}),g._shouldRenderHorizontally()&&t&&(o=Object.assign({},o,{display:"flex",alignItems:"flex-start",flexDirection:"row",flexWrap:"wrap","& *:focus":{outlineOffset:"-3px !important"}}));var h,c=g._context.factory.createElement("SCROLLCONTAINER",{key:Kd,id:Kd,role:t?"grid":void 0,accessibilityLabel:g.dataSet.getTitle(),describedByElementId:t?g._context.accessibility.getUniqueId(Wd):"",semanticTag:"ul",style:o,className:g._context.decorators&&g._context.decorators.ClassName?""+g._context.decorators.ClassName:void 0,onScroll:g._scrollHandler,onKeyDown:function(t){var i=t.target.firstElementChild;g.IsSelectionMode&&t.keyCode===Pl.kbSpaceCode?(t.preventDefault(),i.click()):Xl.keyboardNavigation(t,i)}},s),u=[c];g._isDefaultCardForm()&&(g._listHeader||(g._listHeader=new id(g._context,i)),h=g._listHeader.render(g),u.unshift(h));var l,f=c;(t||g._listHeader)&&(l={display:"flex",flexDirection:"column",height:"auto",backgroundColor:Cf.getDesignBag().ListItemBackGroundColor||g._context.theming.colors.whitebackground,overflow:"hidden",width:"100%",position:"relative"},g._shouldRenderHorizontally()&&Object.assign(l,{flexDirection:"row",whiteSpace:"normal"}),g._context.client&&g._context.client.allocatedHeight&&-1!==g._context.client.allocatedHeight&&(Object.assign(l,{maxHeight:g._context.client.allocatedHeight},e&&{height:g._context.client.allocatedHeight}),g._memoizedAllocatedHeight=g._context.client.allocatedHeight),g._context.client&&g._context.client.allocatedWidth&&-1!==g._context.client.allocatedWidth&&(g._memoizedAllocatedWidth=g._context.client.allocatedWidth),t&&u.push(g._getProgressIndicator(),g._renderSortLiveRegion()),f=g._context.factory.createElement("CONTAINER",{key:g.componentContainerId,id:g.componentContainerId,role:"presentation",style:l},u));var d={display:"flex"};g._context.client.userAgent.isBrowserFirefox||(d=Object.assign(d,{flex:1})),Object.assign(g._container.style,d);var A=g._container.querySelector(Pl.HighDensityClassSelector);A&&t&&g._container.removeChild(A),g._context.utils.bindDOMElement(f,g._container),g._scrollableElement=g._container.querySelector("[id$='"+Kd+"']"),t&&(g._isDefaultCardForm()&&g._determineDefaultCardFormHeight(),g._setProgressIndicatorsDiv(g._container),g._setFocusToFirstListItem(s))}))},tA.prototype._renderNativeSortDrawer=function(){var t,i=this,e=new Ul,n=this._getSortAttribute();n&&(t=this.getSortColumns().filter(function(t){return t.displayName&&!(t.disableSorting||t.isHidden||"entityimage_url"===t.alias)}),e.fireSortColumnEvents(this._context,t,n.name,function(t){i.sortingService.applySorting(t),i.sortingService.dataSet.refresh()},$l.commandBarSortIconText))},tA.prototype._getSortAttribute=function(){return this.sortingService.dataSet.sorting&&this.sortingService.dataSet.sorting[0]},tA.prototype._getSelectedSortColumnName=function(i){var t;return null===(t=this.getSortColumns().filter(function(t){return t.name===i.name})[0])||void 0===t?void 0:t.displayName},tA.prototype._createMobileListHeader=function(){var t=this,i=this._getSortAttribute(),e=[this._context.factory.createElement("MICROSOFTICON",{key:"MobileHeaderSortIcon",id:"MobileHeaderSortIcon",title:"MobileHeaderSortIcon",tabIndex:0,style:{color:Pl.dynPrimaryColor,marginRight:"10px",marginLeft:"10px",width:"15px",height:"15px"},type:i.sortDirection?Rf.DownArrow:Rf.UpArrow,onClick:function(){t.sortingService.applySorting(i.name),t.sortingService.dataSet.refresh()}}),this._context.factory.createElement("TEXT",{key:"MobileHeaderSortByText",id:"MobileHeaderSortByText",title:"MobileHeaderSortByText"},MscrmCommon.ControlUtils.String.Format($l.sortByColumnName,"")),this._context.factory.createElement("TEXT",{key:"MobileHeaderSelectedSort",id:"MobileHeaderSelectedSort",title:"MobileHeaderSelectedSort",tabIndex:0,style:{color:Pl.dynPrimaryColor,fontWeight:"bold",marginLeft:"5px",marginRight:"5px"},onClick:this._renderNativeSortDrawer.bind(this)},this._getSelectedSortColumnName(i))];return this._context.factory.createElement("LISTITEM",{key:"mobileListHeader",id:"mobileListHeader",title:"mobileListHeader",style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",margin:"14px 6px"}},e)},tA.prototype._isEmptySubgridIconAndTextChangesEnabled=function(){return this._context.parameters&&this._context.parameters.emptySubgridIconAndTextChanges&&!0===this._context.parameters.emptySubgridIconAndTextChanges.raw&&this._isSubgridImprovementApril2020Enabled()},tA.prototype._isEmptyGridOnQuickFindIconAndTextChangesEnabled=function(){return this._context.parameters&&this._context.parameters.emptyGridChangesIfQuickFindImprovementsEnabled&&!0===this._context.parameters.emptyGridChangesIfQuickFindImprovementsEnabled.raw},tA.prototype._isShowAddNewCommandEnabled=function(){return this._context.parameters&&this._context.parameters.showAddNewCommand&&!0===this._context.parameters.showAddNewCommand.raw&&this._isSubgridImprovementApril2020Enabled()},tA.prototype._isSubgridImprovementApril2020Enabled=function(){return bf.isFeatureEnabled(bf.getSubgridImprovementsFeatureName())&&(bf.isFeatureEnabled(bf.getMobileUsabilityApril2020FeatureName())||this._isMobile&&bf.isFeatureEnabled(bf.getApril2021UpdateFCB()))},tA.prototype._canDetermineDefaultCardFormHeight=function(){return void 0===Gd&&(Gd="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype&&"isIntersecting"in IntersectionObserverEntry.prototype),Gd},tA.prototype._isMobileListHeaderAndApril2021Enabled=function(){var t,i;return!0===(null===(i=null===(t=this._context.parameters)||void 0===t?void 0:t.listSortHeaderEnabled)||void 0===i?void 0:i.raw)},tA.prototype._determineDefaultCardFormHeight=function(){var t=-1!==this._itemsToRender;if(!this._isDeterminingDefaultCardFormHeight&&this._canDetermineDefaultCardFormHeight()&&this._scrollableElement){this._isDeterminingDefaultCardFormHeight=!0;for(var i,e={root:this._scrollableElement,rootMargin:"0px",threshold:0},n=this._context.accessibility.getUniqueId(_d),r=this._makeDefaultCardFormHeightObserverCallback(t,n),s=new IntersectionObserver(r,e),o=0,a=this._getListItemIds();o<a.length;o++){var h=a[o],c=this._context.accessibility.getUniqueId(h),u=document.getElementById(c);s.observe(u)}t&&(i=document.getElementById(n),s.observe(i))}else this._listItemSpacerIntersectionObserver&&!t&&(this._listItemSpacerIntersectionObserver.disconnect(),this._listItemSpacerIntersectionObserver=null)},tA.prototype._makeDefaultCardFormHeightObserverCallback=function(c,u){var l=this,f=this.dataSet.getTargetEntityType();return function(t,i){for(var e=-1,n=0,r=t;n<r.length;n++)if(0<(o=r[n]).intersectionRatio&&o.isIntersecting){var s=o.boundingClientRect.height,e=-1===e?s:Math.min(e,s);if(c&&o.target.id===u)return void l._resetDefaultCardFormHeightObserver(f,i)}if(!l._listItemSpacerIntersectionObserver&&-1!==e){if(c){for(var o,a=0,h=t;a<h.length;a++)(o=h[a]).target.id!==u&&i.unobserve(o.target);l._listItemSpacerIntersectionObserver=i}else i.disconnect();Yd(f,l._getFormDescriptorVersion(),l._areCardsExpandedByDefault,e)}}},tA.prototype._resetDefaultCardFormHeightObserver=function(t,i){this._wasItemHeightEstimateAccurate=!1,this._itemsToRender=-1,this._isDeterminingDefaultCardFormHeight=!1,this._listItemSpacerIntersectionObserver=null,Yd(t,0,this._areCardsExpandedByDefault,0),i.disconnect(),this._requestRender()},tA.prototype._setFocusToFirstListItem=function(t){var i,e;!1===this._hasFocusWhenSelected&&(i=this,t&&t.length&&(e=this._context.accessibility.getUniqueId(t[0].getComponentId()),setTimeout(function(){var t=document.getElementById(e);t&&(t.focus(),i._hasFocusWhenSelected=!0)},0)))},tA.prototype._renderSortLiveRegion=function(){var t=this,i=this.dataSet.sorting[0],e=i&&this.dataSet.columns.find(function(t){return t.name==i.name}),n=e?e.displayName:"",r=i&&tA.getSortingNameByDirection(i.sortDirection),s=this._context.parameters.Grid.paging.totalResultCount+" "+MscrmCommon.ControlUtils.String.Format($l.sortedByColumnName,n,r);return this.isSortLiveRegionHidden||setTimeout(function(){try{t.isSortLiveRegionHidden=!0,t._requestRender()}catch(t){}},2e3),this._context.factory.createElement("TEXT",{key:Wd,id:Wd,accessibilityLive:"assertive",accessibilityHidden:this.isSortLiveRegionHidden,accessibilityLabel:s,role:"alert",style:{height:"0px",width:"0px",outlineOffset:"-5px",opacity:0}},s)},tA.getSortingNameByDirection=function(t){switch(t){case 0:return $l.sortedByAscending;case 1:return $l.sortedByDescending;case-1:return $l.sortedByNone}},tA.prototype.loadConditionalImages=function(){var r=this;if(this._conditionalImageLoadPromise)return this._conditionalImageLoadPromise;if(this._recordIds&&this._recordIds.length&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._entityImages)){this._entityImages={},this._conditionalImages={},this._conditionalImagesAltText={};var i,s,o,a=[];return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.getCellImageInfo)||(i=this.dataSet.columns.find(function(t){return t.isPrimary&&!!t.imageProviderWebresource&&!!t.imageProviderFunctionName}),s=this.dataSet.columns.find(function(t){return!t.isPrimary&&!!t.imageProviderWebresource&&!!t.imageProviderFunctionName}),o=Xrm.Utility.getGlobalContext().getUserLcid(),this._recordIds.forEach(function(n){var t,e=r._getEntityImageUrl(n);MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?r._entityImages[n]=e:(t=r.dataSet.getCellImageInfo(i.name,n,o).then(function(t){var i;t?(i=t.Url,r._entityImages[n]=i||e):r._entityImages[n]=e}),a.push(t)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)||(t=r.dataSet.getCellImageInfo(s.name,n,o).then(function(t){var i,e;t&&(i=t.Url,e=t.Tooltip,r._conditionalImages[n]=i,r._conditionalImagesAltText[n]=e)}),a.push(t))})),this._conditionalImageLoadPromise=Promise.all(a),this._conditionalImageLoadPromise}return this._entityImages&&this._recordIds.forEach(function(t){var i;null==r._entityImages[t]&&(i=r._getEntityImageUrl(t),(r._entityImages[t]=i)&&(r._cardStates[t]=null))}),Promise.resolve()},tA.prototype._resetEntityAndConditionalImages=function(){this._entityImages=null,this._conditionalImages=null,this._conditionalImagesAltText=null,this._conditionalImageLoadPromise=null},tA.prototype._getEntityImageUrl=function(t){var i=this.dataSet.records[t];return i&&i.getValue(this._imageAttributeUrl?this._imageAttributeUrl:Pl.entityImgUrlAlias)},tA.prototype.setContext=function(t){this._context=t,this._recordsDataInit&&!this.dataSet.working&&this._recordsDataInit(this.dataSet),this._recordIds=this.dataSet.sortedRecordIds,this._resetEntityAndConditionalImages()},tA.prototype.getSourceCollectionIds=function(){return this._recordIds},tA.prototype._getProgressIndicator=function(){return Nd.render(this._context.factory,"progressIndicatorDiv",!1)},tA.prototype._setProgressIndicatorsDiv=function(t){this._progressIndicatorDiv=t.getElementsByClassName("indeterminateProgressRing").item(0)},tA.prototype._onSwipe=function(t,i){var e,n,r,s;this._selectionMode||null!==this._listItemBeingSwipedId&&this._listItemBeingSwipedId!==i||(e=this._context.client.isRTL,n=this._getListItemPosition(i),(e&&0<n||!e&&n<0)&&(this._listItemStates[i].swiping=!0,this._listItemBeingSwipedId=i),r=this._listItemStates[i].swipeStartCoordinate,s=t.clientX-r,this._listItemStates[i].swipeDistance=s,this._requestRender(),t.preventDefault(),t.stopPropagation())},tA.prototype._onSwipeStart=function(t,i){this._listItemStates[i].swipeStartCoordinate=t.clientX},tA.prototype._onSwipeEnd=function(t,i){var e,n;this._listItemStates[i].swiping&&(n=this._context.client.allocatedWidth,Math.abs(this._getListItemPosition(i))<=.25*n?e=Pd.initial:(e=Pd.hardSwipe,this._openNativeCommandDrawer(i)),this._listItemStates[i].currentState=e,this._listItemStates[i].swiping=!1,this._listItemStates[i].swipeDistance=0,this._listItemStates[i].swipeStartCoordinate=null,this._listItemBeingSwipedId=null,this._requestRender(),t.preventDefault(),t.stopPropagation())},tA.prototype._getListItemPosition=function(t){var i,e=this._context.client.allocatedWidth,n=this._listItemStates[t].swipeDistance;switch(this._listItemStates[t].currentState){case Pd.initial:i=0;break;case Pd.hardSwipe:i=-1*e}this._context.client.isRTL&&(i*=-1);var r=i+n;return this._context.client.isRTL?r<0?0:r:0<r?0:r},tA.prototype._openNativeCommandDrawer=function(t){var i=this;(new Ul).fireListItemEvents(this._context,this.dataSet.records[t],function(){i._toggleCommandBarFlyout(),i._listItemStates[t].currentState=Pd.initial,i._requestRender()}.bind(this))},tA.prototype._getListItems=function(C){for(var j,y,x=this,I=[],M=this._getListItemIds(),F=bf.isUCIDisruptiveFeatureEnabled(bf.getUseVerticalMoreIconFCB(),bf.getApril2020UpdateFCB()),Q=this._isMobileListHeaderAndApril2021Enabled(),R=-1,k=this,t=0,i=this._recordIds;t<i.length&&"break"!==function(i){if(-1!==k._itemsToRender&&R+1>=k._itemsToRender)return"break";R++;var e=k.dataSet.records[i],t=k._cardStates[i]&&k._cardStates[i].getConditionalImageUrl()===k._conditionalImages[i]?k._cardStates[i]:k._cardStates[i]=new Ad(k._context,e,C,k._entityImages[i],k._conditionalImages[i],k._conditionalImagesAltText[i],F,k._onListItemClick.bind(k),k._toggleCommandBarFlyout.bind(k));t.dataSetRecord=e;var n=k._activeCommandBarFlyoutId===i,r=k.IsSelectedItem(i),s=k._isDefaultCardForm()&&bf.isUCIDisruptiveFeatureEnabled(bf.getSuiterStreamFCB(),bf.getApril2020UpdateFCB()),o=Cf.getDesignBag().SuiterStreamBackgroundColor||"#EDEBE9",a=r?s?o:"#EAEAEA":void 0,h=r||k.isCommandBarFlyoutMode||null!==(j=k._listItemStates[i])&&void 0!==j&&j.swiping?null:{backgroundColor:Cf.getDesignBag().ListItemHoverBackGroundColor||k._context.theming.colors.grays.gray03},c=k._context.theming.solidborderstyle+" "+k._context.theming.colors.grays.gray03,u=R||Q?"1px "+c:void 0,l={listStyleType:"none",cursor:"pointer",backgroundColor:a,":hover":h};k._shouldRenderHorizontally()?Object.assign(l,{display:"inline-block",width:k._calculateMaxAvailableWidthForHorizontalListItem()+"px",margin:k._horizontalListItemMargin+"px",border:k._horizontalListItemBorderWidth+"px "+c}):Object.assign(l,{borderTop:u});var f,d,A,g,w,m=k._listItemBeingSwipedId===i,p=t.render(k.IsSelectionMode,r,n,k.isCommandBarFlyoutMode,m,null===(y=k._listItemStates[i])||void 0===y?void 0:y.swiping),v=[p],b=k._isMobile&&k._isListItemSwipeActionsEnabled;b&&(f=k._context.client.allocatedWidth,d=k._context.client.isRTL,A=k._getListItemPosition(i),Math.abs(A)<10&&(A=0),Object.assign(l,{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"1fr",":hover":null}),g={transform:"translatex("+A+"px)",width:f+"px",display:"block",background:"#FFFFFF","z-index":1,gridColumnStart:1,gridRowStart:1,":hover":h},w=null,0<Math.abs(A)&&(Object.assign(g,{boxShadow:d?"-2px 0px 2px rgba(0, 0, 0, 0.1)":"2px 0px 2px rgba(0, 0, 0, 0.1)",borderRadius:d?"4px 0px 0px 4px":"0px 4px 4px 0px"}),R+1===k._recordIds.length&&Object.assign(l,{borderBottom:u}),w=k._getActionsButtonContainer(i,f,A,h)),v=[k._context.factory.createElement("CONTAINER",{key:"ListItemContentsContainer_"+i,id:"ListItemContentsContainer_"+i,style:g,onClick:function(t){x._listItemStates[i]&&x._listItemStates[i].swiping||x._onListItemClick(t,e)},onPointerDown:function(t){x.isCommandBarFlyoutMode||null!==x._listItemBeingSwipedId||x.onPointerDown(t,i),b&&"touch"===t.pointerType&&x._onSwipeStart(t,i)},onPointerMove:function(t){x.resetTapHold(t),b&&"touch"===t.pointerType&&x._onSwipe(t,i)},onPointerLeave:function(t){b&&"touch"===t.pointerType&&x._onSwipeEnd(t,i)}},p),w]);var E=$l.gridDataRowText+" "+t.getAccessibilityLabel(),B=Object.assign({role:"row"},E&&{accessibilityLabel:E},k.IsSelectionMode&&{isSelected:r});I.push(k._context.factory.createElement("LISTITEM",Object.assign(B,{id:M[R],key:M[R],tabIndex:0,style:l,onKeyDown:function(t){t.ctrlKey&&t.altKey&&81===t.keyCode&&x.streamQuickActionShortCut(t)},onClickCapture:k.resetTapHold,onTouchMove:k.resetTapHold},!b&&{onClick:function(t){return x._onListItemClick(t,e)},onPointerMove:k.resetTapHold,onPointerDown:k.isCommandBarFlyoutMode?function(t){x.onPointerDown(t,i)}:null}),v))}(i[t]);t++);var e,n=this._recordIds.length-(R+1);return 0<n?(e=this._context.factory.createElement("LISTITEM",{id:_d,key:_d,role:"presentation",style:{height:n*this.itemHeightEstimate+"px"}}),I.push(e)):this._itemsToRender=-1,this._memoizedItemsToRender=this._itemsToRender,I},tA.prototype._getActionsButtonContainer=function(t,i,e,n){var r=Math.abs(e)>.25*i,s=r?"bold":"normal",o=r?"#2266E3":"#979593",a=r?null:n,h=this._context.factory.createElement("LABEL",{key:"ListItemLabel_"+t,id:"ListItemLabel_"+t,style:{fontFamily:this._context.theming.fontfamilies.regular,fontSize:"13px",fontWeight:s,lineHeight:"15px",color:"#FFFFFF",display:"-webkit-box","-webkit-line-clamp":2,"-webkit-box-orient":"vertical","word-break":"break-all",overflow:"hidden",paddingLeft:"10px",paddingRight:"10px"},accessibilityHidden:!0},"Actions"),c="ActionsButton_"+t,u=this._context.factory.createElement("MICROSOFTICON",{id:"ActionsButtonIcon_"+t,key:"ActionsButtonIcon_"+t,type:12,accessibilityHidden:!0}),l=this._context.factory.createElement("BUTTON",{id:c,key:c,style:{borderStyle:this._context.theming.noneborderstyle,color:"#FFFFFF",fontSize:"16px",fontWeight:"bold",backgroundColor:"transparent"},accessibilityHidden:!0},[u]),f={width:.25*i+"px",height:"100%",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},d=this._context.factory.createElement("CONTAINER",{key:"ListItemActionsInsideContainer_"+t,id:"ListItemActionsInsideContainer_"+t,style:f,role:"button",title:"List Item Actions button",accessibilityLabel:"List Item Actions button",accessibilityHasPopup:!0},[l,h]);return this._context.factory.createElement("CONTAINER",{key:"ListItemActionsContainer_"+t,id:"ListItemActionsContainer_"+t,style:{width:"100%",backgroundColor:o,justifyContent:"flex-end",":hover":a,boxShadow:"inset 0px 1px 4px rgba(0, 0, 0, 0.1), inset 0px -1px 4px rgba(0, 0, 0, 0.1)","z-index":0,gridColumnStart:1,gridRowStart:1}},d)},tA.prototype._getListItemIds=function(){for(var t=[],i=-1,e=0,n=this._recordIds;e<n.length;e++){var r=n[e];if(i++,-1!==this._itemsToRender&&i>=this._itemsToRender)break;t.push("ListItem_"+r)}return t},tA.prototype.IsSelectedItem=function(t){return-1<this._selectedItems.indexOf(t)},tA.prototype._onSelectionChanged=function(t){var i=this._selectedItems.indexOf(t);-1<i?this._selectedItems.splice(i,1):this._selectedItems.push(t),this.dataSet.setSelectedRecords(this._selectedItems),this._requestRender()},tA.prototype._onListItemClick=function(t,i){var e,n,r,s=this;this.isCommandBarFlyoutMode||-1===this._tapHoldTimer?this.isCommandBarFlyoutMode&&this._toggleCommandBarFlyout():(e=i.getRecordId(),this._selectionMode?this._onSelectionChanged(e):(n=i.getPrimaryEntityLogicalName(),null==(r=new hd(e,n))||MscrmCommon.ControlUtils.String.isNullOrEmpty(r.LogicalName)||this._context.utils.getEntityMetadata(r.LogicalName).then(function(t){var i;t&&t.IsBPFEntity?(i={CommandButtonId:"Mscrm.HomepageGrid."+r.LogicalName+".OpenActiveStage"},s._context.parameters.Grid.openDatasetItem(r,i)):s._context.parameters.Grid.openDatasetItem(r,null)},function(t){s._context.parameters.Grid.openDatasetItem(r,null)}))),this.clearTimer(),t.preventDefault(),t.stopPropagation()},tA.prototype._toggleCommandBarFlyout=function(t){t&&t!==this._activeCommandBarFlyoutId&&this._listItemBeingSwipedId&&(this._listItemStates[this._listItemBeingSwipedId].currentState=Pd.initial,this._listItemBeingSwipedId=null),this._activeCommandBarFlyoutId=t&&t!==this._activeCommandBarFlyoutId?t:null,this._requestRender()},tA.prototype.OnSelectionModeChanged=function(){this._selectionMode=!this._selectionMode,this._selectedItems=[],this.dataSet.clearSelectedRecord(),this._hasFocusWhenSelected=!1,this._allRecordsSelected=!1,this._selectionMode&&this._listItemBeingSwipedId&&this._listItemStates[this._listItemBeingSwipedId]&&(this._listItemStates[this._listItemBeingSwipedId].currentState=Pd.initial,this._listItemStates[this._listItemBeingSwipedId].swiping=!1,this._listItemStates[this._listItemBeingSwipedId].swipeDistance=0,this._listItemStates[this._listItemBeingSwipedId].swipeStartCoordinate=null,this._listItemBeingSwipedId=null),this._requestRender()},tA.prototype.onSelectAllToggle=function(){this._selectionMode===this._allRecordsSelected&&this.OnSelectionModeChanged(),this._selectionMode&&!this._allRecordsSelected&&(this._selectedItems=Object.keys(this.dataSet.records),this.dataSet.setSelectedRecords(this._selectedItems),this._allRecordsSelected=!this._allRecordsSelected,this._requestRender())},tA.prototype._requestRender=function(){bf.isForcedUpdate=!0,this._context.utils.requestRender()},tA.prototype.getSortColumns=function(){var t=this.getAttributeDescriptorsByName(),i=[],e=[];for(var n in this._isDefaultCardForm()||(e=(i=this.dataSet.columns.slice()).map(function(t){return t.alias})),t){var r=t[n];!r.IsSortableEnabled&&r.LogicalName!==Xd||-1!==e.indexOf(n)||(i.push({alias:n,displayName:r.DisplayName}),e.push(n))}return i},tA.prototype._onTouchEnd=function(t){var i,e,n,r;0!==this._commandState&&(void 0!==t.changedTouches&&(i=t.changedTouches[0],this._touchEnd.x=i.screenX,this._touchEnd.y=i.screenY),e=this._touchStart.y-this._touchEnd.y,n=this._touchStart.x-this._touchEnd.x,(r=this.getScrollableElement())&&r.scrollTop<=0&&e<0&&(Math.abs(n)<=100&&300<=Math.abs(e)||Math.abs(n)/Math.abs(e)<=.3&&60<=e)&&(this._context.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.dataSet.paging.loadExactPage()))},tA.prototype._onTouchStart=function(t){var i;0!==this._commandState&&void 0!==t.targetTouches&&(i=t.targetTouches[0],this._touchStart.x=i.screenX,this._touchStart.y=i.screenY)},tA.prototype._shouldRenderHorizontally=function(t){return bf.shouldRenderListHorizontally(this._context,!1!==t&&this._calculateActualMinWidthOfHorizontalListItem())&&!this._isDefaultCardForm()&&!this._isNonDefaultCardForm()},tA.prototype._calculateActualMinWidthOfHorizontalListItem=function(){return this._horizontalListItemMinWidth+2*(this._horizontalListItemBorderWidth+this._horizontalListItemMargin)},tA.prototype._calculateMaxAvailableWidthForHorizontalListItem=function(){var t=this._context&&this._context.mode&&this._context.mode.allocatedWidth;if(t&&t>this._horizontalListItemMinWidth){var i=Math.floor(t/this._horizontalListItemMinWidth);return Math.floor(t/i)-2*(this._horizontalListItemBorderWidth+this._horizontalListItemMargin)}return this._horizontalListItemMinWidth},tA.prototype.destroy=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._context.utils.unbindDOMComponent)||this._context.utils.unbindDOMComponent(this.componentContainerId),this._enablePullToRefreshGrid&&(this._container.removeEventListener(MscrmCommon.EventConstants.TouchStart,this._onTouchStart),this._container.removeEventListener(MscrmCommon.EventConstants.TouchEnd,this._onTouchEnd))},tA.ColorStripDelimited="Color Strip",tA.CardFormSectionArray=[Pl.CardHeader,Pl.CardDetails,Pl.ColorStrip,Pl.CardFooter],tA);function tA(t,i,e){var n=this;this._cardStates={},this._listItemBeingSwipedId=null,this._listItemStates={},this._cardFormState=0,this._commandState=0,this._horizontalListItemMinWidth=300,this._horizontalListItemBorderWidth=1,this._horizontalListItemMargin=5,this._formDescriptorControlDataSet={},this._touchEnd={x:0,y:0},this._touchStart={x:0,y:0},this._hasEntityImage=!1,this._addNewCommandObject=null,this._selectedItems=[],this._selectionMode=!1,this._allRecordsSelected=!1,this._hasFocusWhenSelected=void 0,this._itemsToRender=-1,this._memoizedItemsToRender=-1,this._wasItemHeightEstimateAccurate=!0,this.isSortLiveRegionHidden=!0,this.resetTapHold=function(t){-1!==n._tapHoldTimer&&n.clearTimer()},this.onPointerDown=function(t,i){n._tapHoldTimer=setTimeout(function(){return n.tapHold(t,i)},cf.tapHoldThreshold)},this.clearTimer=function(){n._tapHoldTimer&&(clearTimeout(n._tapHoldTimer),n._tapHoldTimer=null)},this.tapHold=function(t,i){n._tapHoldTimer=-1,n.OnSelectionModeChanged(),n._selectionMode&&n._onSelectionChanged(i),t.preventDefault()},this.setContext(t),this._container=i,this._listSortingPopup=new Sd(t,e,i,this),this._sortingService=new Fd(this.dataSet,null,this._context.utils,e,!0),this._areCardsExpandedByDefault=this._context&&this._context.orgSettings&&this._context.orgSettings.boundDashboardDefaultCardExpanded,this._showAddNewCommand=this._isShowAddNewCommandEnabled(),this._isListItemSwipeActionsEnabled=bf.isUCIDisruptiveFeatureEnabled(bf.getListItemSwipeActionsFCB(),bf.getApril2021UpdateFCB()),this._isMobile="Mobile"===t.client.getClient(),this._enablePullToRefreshGrid=bf.isUCIFeatureEnabled(bf.getPullToRefreshGridFCB()),this._enablePullToRefreshGrid&&(this._container.addEventListener(MscrmCommon.EventConstants.TouchStart,this._onTouchStart.bind(this)),this._container.addEventListener(MscrmCommon.EventConstants.TouchEnd,this._onTouchEnd.bind(this)))}(qd=Zd={})[qd.Yes=0]="Yes",qd[qd.No=1]="No";var iA,eA,nA=(Object.defineProperty(rA,"YesString",{get:function(){return"yes"},enumerable:!1,configurable:!0}),Object.defineProperty(rA,"NoString",{get:function(){return"no"},enumerable:!1,configurable:!0}),rA.parseValue=function(t){switch(t=t.toLowerCase()){case rA.YesString:return Zd.Yes;case rA.NoString:return Zd.No;default:return null}},rA);function rA(){}(eA=iA={})[eA.Yes=0]="Yes",eA[eA.No=1]="No";var sA,oA,aA=(Object.defineProperty(hA,"YesString",{get:function(){return"yes"},enumerable:!1,configurable:!0}),Object.defineProperty(hA,"NoString",{get:function(){return"no"},enumerable:!1,configurable:!0}),hA.parseValue=function(t){switch(t.toLowerCase()){case hA.YesString:return iA.Yes;case hA.NoString:return iA.No;default:return null}},hA);function hA(){}(oA=sA={})[oA.Yes=0]="Yes",oA[oA.No=1]="No";var cA,uA,lA,fA,dA=(Object.defineProperty(AA,"YesString",{get:function(){return"yes"},enumerable:!1,configurable:!0}),Object.defineProperty(AA,"NoString",{get:function(){return"no"},enumerable:!1,configurable:!0}),AA.parseValue=function(t){switch(t.toLowerCase()){case AA.YesString:return sA.Yes;case AA.NoString:return sA.No;default:return null}},AA);function AA(){}(uA=cA={})[uA.timeZoneService=0]="timeZoneService",uA[uA.containerService=1]="containerService",uA[uA.gridComponent=2]="gridComponent",uA[uA.listComponent=3]="listComponent",uA[uA.typeProcessorService=4]="typeProcessorService",uA[uA.fieldAccessComponent=5]="fieldAccessComponent",uA[uA.fieldAccessService=6]="fieldAccessService",uA[uA.selectionService=7]="selectionService",uA[uA.stateService=8]="stateService",uA[uA.errorHandlingService=9]="errorHandlingService",uA[uA.dataAdapter=10]="dataAdapter",uA[uA.dataSetService=11]="dataSetService",uA[uA.filteringContext=12]="filteringContext",uA[uA.filteringService=13]="filteringService",uA[uA.paginationComponent=14]="paginationComponent",uA[uA.paginationService=15]="paginationService",uA[uA.enhancedPaginationComponent=16]="enhancedPaginationComponent",uA[uA.enhancedPaginationService=17]="enhancedPaginationService",uA[uA.groupingComponent=18]="groupingComponent",uA[uA.groupingService=19]="groupingService",uA[uA.sortingService=20]="sortingService",uA[uA.gridFeatures=21]="gridFeatures",uA[uA.loggingService=22]="loggingService",uA[uA.navigationService=23]="navigationService",uA[uA.ariaLiveRegionComponent=24]="ariaLiveRegionComponent",uA[uA.ariaLiveRegionService=25]="ariaLiveRegionService",(fA=lA={})[fA.Refresh=0]="Refresh",fA[fA.LoadNextPage=1]="LoadNextPage",fA[fA.LoadPreviousPage=2]="LoadPreviousPage",fA[fA.LoadFirstPage=3]="LoadFirstPage";var gA,wA,mA=((window&&window.__extends||(gA=function(t,i){return(gA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}gA(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(pA,wA=ru.EventArgs),Object.defineProperty(pA.prototype,"gridDataSet",{get:function(){return this.dataSet},enumerable:!1,configurable:!0}),Object.defineProperty(pA.prototype,"handler",{get:function(){return this.handlerObject},enumerable:!1,configurable:!0}),Object.defineProperty(pA.prototype,"operation",{get:function(){return this.dsOperation},enumerable:!1,configurable:!0}),Object.defineProperty(pA.prototype,"hasDedicatedHandler",{get:function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.handler)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet)},enumerable:!1,configurable:!0}),Object.defineProperty(pA.prototype,"hasDataSet",{get:function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet)},enumerable:!1,configurable:!0}),Object.defineProperty(pA.prototype,"shouldRestoreState",{get:function(){return this.restoreState},enumerable:!1,configurable:!0}),pA.getRefreshCurrentDataSetArgs=function(t,i){return void 0===t&&(t=!1),void 0===i&&(i=lA.Refresh),new pA(null,null,t,i)},pA);function pA(t,i,e,n){void 0===e&&(e=!1),void 0===n&&(n=lA.Refresh);var r=wA.call(this)||this;return r.dataSet=t,r.handlerObject=i,r.dsOperation=n,r.restoreState=e,r}var vA=(bA.prototype.initialize=function(t){},Object.defineProperty(bA.prototype,"isOfflineMode",{get:function(){return this.isOffline},enumerable:!1,configurable:!0}),Object.defineProperty(bA.prototype,"isInCriticalRegion",{get:function(){return this.criticalRegionService&&this.criticalRegionService.isInCriticalRegion},enumerable:!1,configurable:!0}),bA.prototype.networkStatusChanged=function(t){this.isOffline=t},bA.prototype.rendering=function(t){},bA.prototype.stateRestored=function(t){},bA.prototype.sizeChange=function(t){},bA.prototype.rendered=function(t){},bA.prototype.enteringCriticalRegion=function(){},bA.prototype.saving=function(t){this.isSaveInProgress=!0},bA.prototype.saved=function(t){this.isSaveInProgress=t.moreItemsInQueue},bA.prototype.leftCriticalRegion=function(){},bA.prototype.onError=function(t){this.hasError=t.gridHasError},Object.defineProperty(bA.prototype,"refreshRequested",{get:function(){return this.refreshRequestedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(bA.prototype,"stateChanged",{get:function(){return this.stateChangedEvent},enumerable:!1,configurable:!0}),bA.prototype.getCurrentRecord=function(){return null},bA.prototype.hasState=function(){return!1},bA.prototype.requestRefresh=function(t){var i;void 0===t&&(t=null),this.refreshRequestedEvent.hasHandlers&&(i=null===t?mA.getRefreshCurrentDataSetArgs():t,this.refreshRequestedEvent.raise(this,i))},bA.prototype.raiseStateChanged=function(){this.refreshRequestedEvent.hasHandlers&&this.stateChangedEvent.raise(this,ru.EventArgs.empty)},bA.prototype.dispose=function(){},bA);function bA(t){this.criticalRegionService=t,this.refreshRequestedEvent=new ru.Event,this.stateChangedEvent=new ru.Event,this.isOffline=!1}var EA,BA,CA,jA,yA=((window&&window.__extends||(EA=function(t,i){return(EA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}EA(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(xA,BA=vA),xA.prototype.initialize=function(t){var i;this._isInitialized||(this.addScrollListener(),(i=t.client&&t.client.allocatedHeight)&&-1!==i&&this.paginationComponent.itemHeightEstimate&&(this._itemsToRenderOnFirstPage=Math.ceil(i/this.paginationComponent.itemHeightEstimate),this._initialItemsToRenderOnFirstPage=this._itemsToRenderOnFirstPage,this.paginationComponent.setItemsToRender(this._itemsToRenderOnFirstPage)),this._isInitialized=!0)},xA.prototype.removeScrollListener=function(){this.paginationComponent.removeGridScrolledListener(this.gridScrollHandler)},xA.prototype.networkStatusChanged=function(t){BA.prototype.networkStatusChanged.call(this,t)},xA.prototype.enteringCriticalRegion=function(){BA.prototype.enteringCriticalRegion.call(this)},xA.prototype.leftCriticalRegion=function(){BA.prototype.leftCriticalRegion.call(this)},xA.prototype.dispose=function(){this.paginationService.dispose(),this.removeScrollListener(),this.paginationComponent.dispose()},xA);function xA(t,i){var r=BA.call(this,null)||this;return r._isInitialized=!1,r._itemsToRenderOnFirstPage=-1,r._isScrolledAfterBump=!1,r.addScrollListener=function(){r.paginationComponent.addGridScrolledListener(r.gridScrollHandler)},r.gridScrollHandler=function(){setTimeout(function(){var t,i=r.paginationComponent.getClientHeight(),e=r.paginationComponent.getScrollTop(),n=r.paginationComponent.getScrollHeight();if(r.paginationService.notifyPagingInfoChanged(),-1!==r._itemsToRenderOnFirstPage&&(r.paginationComponent.wasItemHeightEstimateAccurate?((t=r._initialItemsToRenderOnFirstPage+Math.ceil(e/r.paginationComponent.itemHeightEstimate))>r._itemsToRenderOnFirstPage&&(r._itemsToRenderOnFirstPage=t),(r._itemsToRenderOnFirstPage>=r.paginationService.pageSize||r._itemsToRenderOnFirstPage>=r.paginationService.totalResultCount)&&(r._itemsToRenderOnFirstPage=-1),r.paginationService.notifyItemsOnFirstPageChanged(r._itemsToRenderOnFirstPage)):r._itemsToRenderOnFirstPage=-1),-1===r._itemsToRenderOnFirstPage){if(Math.round(n-e)<=Math.round(i)+1&&r._isScrolledAfterBump){if(r.paginationService.bumpNext())return r.requestRefresh(mA.getRefreshCurrentDataSetArgs(!1,lA.LoadNextPage)),void(r._isScrolledAfterBump=!1)}else if(0===e&&r._isScrolledAfterBump&&r.paginationService.bumpPrevious())return r.requestRefresh(mA.getRefreshCurrentDataSetArgs(!1,lA.LoadPreviousPage)),void(r._isScrolledAfterBump=!1);r._isScrolledAfterBump=!0}},0)},r.paginationService=t,r.paginationComponent=i,r}(jA=CA={})[jA.Clear=0]="Clear",jA[jA.Unsaved=1]="Unsaved",jA[jA.Saving=2]="Saving",jA[jA.Saved=3]="Saved",jA[jA.Refresh=4]="Refresh";var IA,MA,FA=((window&&window.__extends||(IA=function(t,i){return(IA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}IA(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(QA,MA=ru.EventArgs),Object.defineProperty(QA.prototype,"gridDataSet",{get:function(){return this.dataSet},enumerable:!1,configurable:!0}),Object.defineProperty(QA.prototype,"gridView",{get:function(){return this.view},enumerable:!1,configurable:!0}),QA);function QA(t,i){var e=MA.call(this)||this;return e.dataSet=t,e.view=i,e}var RA=(kA.prototype.initialize=function(t){this.isStateRestored=!1,this.subscribeForGridEvents(),this.initializeFeatures(t),this.registerToCriticalRegion(),this.stateService.setServerLayout(this.gridComponent.columnLayout)},kA.prototype.notifyAboutOfflineMode=function(t){void 0===t&&(t=!1);for(var i=0,e=this.features;i<e.length;i++)e[i].networkStatusChanged(t)},kA.prototype.handleDataSetUpdate=function(t,i,e,n,r){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.currentDataSetUpdateHandler))return!!this.currentDataSetUpdateHandler.handleDataSetUpdate(t,i)&&!(this.currentDataSetUpdateHandler=null);if(!t)return!1;if(i.Grid.working)return!1;var s,o,a=this.getDataSet(i);if(this.dataSetService.dataSet=a,n&&(n.setDataSet(a),n.resetPreviousRecords(),s=i.isNewPageRequested&&i.isNewPageRequested.raw&&!n.didPerformBumpNext()&&!n.didPerformBumpPrevious()?i.gridPageNumber.raw:null,n.setNextPage(s)),n&&(n.didPerformBumpPrevious()||n.didPerformBumpNext()||n.isPageNumberChanged())){var h=this.dataAdapter.getGridRecordItems(a).sourceCollection;return n.appendNewRecords(a.paging,h.map(function(t){return t.recId})),!1}n&&(o=!1,-1===(i.PageNumberToRestore&&i.PageNumberToRestore.raw?i.PageNumberToRestore.raw:null)&&(o=!0),n.reset(o)),this.errorHandlingService.clearTroubledRecords();var c=bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&this.errorHandlingService.getServerErrorLength();a.hasError?(e=!0,this.errorHandlingService.showUpdateError(a.errorMessage)):c||this.errorHandlingService.clearUpdateError();var u=!1,l="dataset_recordid_",f=r&&r.find(function(t){return t&&t.startsWith(l)});f&&this.dataSetService.getRecordById(f.substr(l.length))&&(u=!0);var d=bf.isFeatureEnabled(bf.getEditableSubGridLegacyInPageUpdateFCB());this.perfTool.tryStart(bd.ProcessDataSetRecords);var A=u&&!d?this.gridComponent.getCollectionDataView():this.dataAdapter.getGridRecordItems(a);this.perfTool.tryStop(bd.ProcessDataSetRecords);var g=new FA(a,A);return this.onRendering(g),!this.stateService.restoreState(this.gridComponent)&&!this.stateService.isStateEmpty()||this.isStateRestored||e?(u&&!d||this.onStateRestored(g),this.criticalRegion.onDataSetRefresh(),this.gridComponent.updateStatusArea(CA.Clear),this.gridComponent.render(A),this.onRendered(g),u||(a.clearSelectedRecord(),this.gridComponent.selectedRows=[],this.gridComponent.cancelSelection()),this.perfTool.tryStop(bd.InitToRendered),!0):(this.refreshDataSetHandler(this,mA.getRefreshCurrentDataSetArgs()),!(this.isStateRestored=!0))},kA.prototype.handleSizeChange=function(t){var i=this.getDataSet(t),e=new FA(i,this.dataAdapter.getGridRecordItems(i));this.onSizeChange(e)},kA.prototype.registerToCriticalRegion=function(){this.coordinatorId=MscrmCommon.ControlUtils.ControlGuidGenerator.newGuid("GridCoordinator"),this.criticalRegion.register(this.coordinatorId,this.dataSetService,this.errorHandlingService,this.gridComponent),this.criticalRegion.enteringCriticalRegion.addHandler(this.onEnteringCriticalRegion),this.criticalRegion.leftCriticalRegion.addHandler(this.onLeftCriticalRegion)},kA.prototype.unregisterFromCriticalRegion=function(){this.criticalRegion.unregister(this.coordinatorId),this.criticalRegion.enteringCriticalRegion.removeHandler(this.onEnteringCriticalRegion),this.criticalRegion.leftCriticalRegion.removeHandler(this.onLeftCriticalRegion)},kA.prototype.subscribeForGridEvents=function(){this.gridComponent.collectionChanged.addHandler(this.onCollectionOrLayoutChangedEventHandler),this.gridComponent.columnResized.addHandler(this.onCollectionOrLayoutChangedEventHandler),this.dataSetService.saving.addHandler(this.onSavingEventHandler),this.dataSetService.saved.addHandler(this.onSavedEventHandler),this.dataSetService.gridError.addHandler(this.onErrorEventHandler)},kA.prototype.initializeFeatures=function(t){for(var i=0,e=this.features;i<e.length;i++){var n=e[i];n.refreshRequested.addHandler(this.refreshDataSet),n.initialize(t),n.hasState()&&this.stateService.register(n)}},kA.prototype.refreshDataSetHandler=function(t,i){i.hasDedicatedHandler&&(this.currentDataSetUpdateHandler=i.handler),this.executeDataSetOperation(i.hasDataSet?i.gridDataSet:this.dataSetService.dataSet,i.operation)},kA.prototype.getDataSet=function(t){return t.Grid},kA.prototype.onRendering=function(t){for(var i=0,e=this.features;i<e.length;i++)e[i].rendering(t)},kA.prototype.onStateRestored=function(t){for(var i=0,e=this.features;i<e.length;i++)e[i].stateRestored(t)},kA.prototype.onSizeChange=function(t){for(var i=0,e=this.features;i<e.length;i++)e[i].sizeChange(t)},kA.prototype.onRendered=function(t){for(var i=0,e=this.features;i<e.length;i++)e[i].rendered(t)},kA.prototype.executeDataSetOperation=function(t,i){switch(this.dataSetService.beginRecordSave(),i){case lA.Refresh:this.gridComponent.updateStatusArea(CA.Refresh),t.refresh();break;case lA.LoadPreviousPage:t.paging.loadPreviousPage();break;case lA.LoadNextPage:t.paging.loadNextPage();break;case lA.LoadFirstPage:t.paging.hasPreviousPage&&t.paging.reset()}},kA.prototype.unsubscribeFromGridEvents=function(){this.gridComponent.collectionChanged.removeHandler(this.onCollectionOrLayoutChangedEventHandler),this.gridComponent.columnResized.removeHandler(this.onCollectionOrLayoutChangedEventHandler),this.dataSetService.saving.removeHandler(this.onSavingEventHandler),this.dataSetService.saved.removeHandler(this.onSavedEventHandler),this.dataSetService.gridError.removeHandler(this.onErrorEventHandler)},kA.prototype.dispose=function(){this.unsubscribeFromGridEvents(),this.unregisterFromCriticalRegion(),this.gridComponent=null,this.dataAdapter=null,this.currentDataSetUpdateHandler=null,this.removeFeatureHandlers(),this.features=null,this.stateService=null,this.criticalRegion=null,this.coordinatorId=null,this.perfTool=null},kA.prototype.removeFeatureHandlers=function(){for(var t=0,i=this.features;t<i.length;t++)i[t].refreshRequested.removeHandler(this.refreshDataSet)},kA);function kA(t,i,e,n,r,s,o,a){var h=this;this.refreshDataSet=function(t,i){h.refreshDataSetHandler(t,i)},this.onCollectionOrLayoutChangedEventHandler=function(t,i){h.stateService.saveState(h.gridComponent)},this.onEnteringCriticalRegion=function(t,i){for(var e=0,n=h.features;e<n.length;e++)n[e].enteringCriticalRegion()},this.onSavingEventHandler=function(t,i){h.gridComponent.updateStatusArea(CA.Saving);for(var e=0,n=h.features;e<n.length;e++)n[e].saving(i)},this.onSavedEventHandler=function(t,i){var e;i.isRecordSavedSuccessfully&&!i.moreItemsInQueue?(h.gridComponent.updateStatusArea(CA.Saved),h.errorHandlingService.removeServerErrorMessage(i.recordId)):!i.isRecordSavedSuccessfully&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&(e=h.dataSetService.getRecordById(i.recordId),h.errorHandlingService.addServerError(i.recordId,i.errorStatus),h.errorHandlingService.update(e),h.gridComponent.refresh());for(var n=0,r=h.features;n<r.length;n++)r[n].saved(i)},this.onErrorEventHandler=function(t,i){i.gridHasDirtyRecord&&h.gridComponent.updateStatusArea(CA.Unsaved);for(var e=0,n=h.features;e<n.length;e++)n[e].onError(i)},this.onLeftCriticalRegion=function(t,i){for(var e=0,n=h.features;e<n.length;e++)n[e].leftCriticalRegion()},this.features=t,this.gridComponent=i,this.dataAdapter=e,this.stateService=n,this.dataSetService=r,this.criticalRegion=s,this.errorHandlingService=o,this.perfTool=a}var SA=(DA.prototype.add=function(t,i){this.dependencyObject[t]=i},DA.prototype.getService=function(t){return this.dependencyObject[t]},Object.defineProperty(DA.prototype,"listFeatures",{get:function(){return this.getService(cA.gridFeatures)},enumerable:!1,configurable:!0}),Object.defineProperty(DA.prototype,"listComponent",{get:function(){return this.getService(cA.listComponent)},enumerable:!1,configurable:!0}),DA.prototype.dispose=function(){var t=this.listFeatures;if(t)for(var i=0,e=t;i<e.length;i++)e[i].dispose();for(var n in this.dependencyObject)this.dependencyObject.hasOwnProperty(n)&&"dispose"in this.dependencyObject[n]&&this.dependencyObject[n].dispose();this.dependencyObject=null},DA);function DA(){this.dependencyObject={}}var NA=(TA.prototype.initialize=function(t){this.context=t,this.dataSet=this.getDataSet(t.parameters),this.initializeFeatures(t)},TA.prototype.handleDataSetUpdate=function(t,i){var e,n,r=t.parameters.Grid;if(i&&(e=t.parameters.isNewPageRequested&&t.parameters.isNewPageRequested.raw,i.setDataSet(r),i.resetPreviousRecords(),n=!e||i.didPerformBumpNext()||i.didPerformBumpPrevious()?null:t.parameters.gridPageNumber.raw,i.setNextPage(n)),i&&(i.didPerformBumpPrevious()||i.didPerformBumpNext()||i.isPageNumberChanged())){var s=[];for(var o in r.records)s.push(o);return i.appendNewRecords(r.paging,s),i.clearBumpScrollFlag(),!1}return this.listComponent.setContext(t),i&&i.reset(),this.listComponent.render(),!0},TA.prototype.initializeFeatures=function(t){for(var i=0,e=this.features;i<e.length;i++){var n=e[i];n.refreshRequested.addHandler(this.refreshDataSet),n.initialize(t)}},TA.prototype.refreshDataSetHandler=function(t,i){i.hasDedicatedHandler&&(this.currentDataSetUpdateHandler=i.handler),this.executeDataSetOperation(i.hasDataSet?i.gridDataSet:this.dataSet,i.operation)},TA.prototype.getDataSet=function(t){return t.Grid},TA.prototype.onRendering=function(t){for(var i=0,e=this.features;i<e.length;i++)e[i].rendering(t)},TA.prototype.onStateRestored=function(t){for(var i=0,e=this.features;i<e.length;i++)e[i].stateRestored(t)},TA.prototype.onRendered=function(t){for(var i=0,e=this.features;i<e.length;i++)e[i].rendered(t)},TA.prototype.executeDataSetOperation=function(t,i){switch(i){case lA.Refresh:t.refresh();break;case lA.LoadPreviousPage:t.paging.loadPreviousPage();break;case lA.LoadNextPage:t.paging.loadNextPage();break;case lA.LoadFirstPage:t.paging.hasPreviousPage&&t.paging.reset()}},TA.prototype.dispose=function(){this.dataSet=null,this.currentDataSetUpdateHandler=null,this.removeFeatureHandlers(),this.features=null},TA.prototype.removeFeatureHandlers=function(){for(var t=0,i=this.features;t<i.length;t++)i[t].refreshRequested.removeHandler(this.refreshDataSet)},TA);function TA(t,i){var e=this;this.refreshDataSet=function(t,i){e.refreshDataSetHandler(t,i)},this.features=t,this.listComponent=i}var OA=(YA.prototype.resetPreviousRecords=function(){this.previousRecords=null},YA.prototype.setDataSet=function(t){this.componentDataSet=t,this.previousRecords=t.selectedRecordIds},Object.defineProperty(YA.prototype,"pageSize",{get:function(){return this.componentDataSet.paging.pageSize},enumerable:!1,configurable:!0}),Object.defineProperty(YA.prototype,"totalResultCount",{get:function(){return this.componentDataSet.paging.totalResultCount},enumerable:!1,configurable:!0}),YA.prototype.bumpNext=function(){if(!this._scrollHitBottom){if(this._scrollHitBottom=!0,this.appendNewRecords(this.componentDataSet.paging,this.previousRecords))return this._scrollHitBottom=!1;if(this.componentDataSet.paging.hasNextPage)return this.gridComponent.setProgressIndicator(Rd.Bottom),!0;this._scrollHitBottom=!1}return!1},YA.prototype.bumpPrevious=function(){if(!this._scrollHitTop){if(this._scrollHitTop=!0,this.appendNewRecords(this.componentDataSet.paging,this.previousRecords))return this._scrollHitTop=!1;if(this.componentDataSet.paging.hasPreviousPage)return this.perfTool.tryStart(bd.PagingLoad),this.gridComponent.setProgressIndicator(Rd.Top),!0;this._scrollHitTop=!1}return!1},YA.prototype.didPerformBumpNext=function(){return this._scrollHitBottom},YA.prototype.didPerformBumpPrevious=function(){return this._scrollHitTop},YA.prototype.clearBumpScrollFlag=function(){this._scrollHitBottom=!1,this._scrollHitTop=!1},YA.prototype.notifyItemsOnFirstPageChanged=function(t){this._itemsOnFirstPage!==t&&(this._itemsOnFirstPage=t,this.gridComponent.setItemsToRender(t),this._utils.requestRender())},YA.prototype.notifyPagingInfoChanged=function(){var t=this.calculateCurrentPage();this._isGridScrolledToBottom=this.isScrolledToBottom(),this._currentPageNumber!==t&&(this._currentPageNumber=t,this.sendPagingInfo())},YA.prototype.sendPagingInfo=function(t){t=t||(0<this._newPageNumber?this._newPageNumber:this._currentPageNumber),this._utils.fireEvent(this.SEND_PAGING_INFO_TO_PAGING_CONTROL,{currentPageNumber:t,firstPageNumber:this._firstPageInRange,lastPageNumber:this._lastPageInRange,pageShift:this._pageShift,isGridScrolledToBottom:this._isGridScrolledToBottom})},YA.prototype.calculateCurrentPage=function(){var t=this.pagingComponent.getScrollTop(),i=this.pagingComponent.getRowHeight(),e=this._pageShift*i,n=Math.max(Math.floor((t+e)/i/this.componentDataSet.paging.pageSize)+1+this._notDisplayedPageCount,1);return bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)&&1<this._pageNumberToRestore&&(n+=this._pageNumberToRestore-1),n},YA.prototype.setNextPage=function(t){this._newPageNumber=t},YA.prototype.isPageNumberChanged=function(){return this._newPageNumber&&this._newPageNumber!==this._currentPageNumber},YA.prototype.isNextPageRequested=function(){return!!this._newPageNumber&&this._newPageNumber>this._currentPageNumber},YA.prototype.isScrollDown=function(){return this._scrollHitBottom||this.isNextPageRequested()},YA.prototype.forcePageNumberUpdate=function(){var t=this.calculateCurrentPage();this.sendPagingInfo(t)},YA.prototype.isPageDataSame=function(t,i){return t&&i&&!this.isPageNumberChanged()},YA.prototype.isFirstPageTop=function(){return this._scrollHitTop&&1===this._currentPageNumber&&0===this._pageShift},YA.prototype.isLastPageBottom=function(t){return this._scrollHitBottom&&this._currentPageNumber===this._lastPageInRange&&t},YA.prototype.isFirstPageTopWithPageNumberToRestore=function(t){return this._scrollHitTop&&1<this._pageNumberToRestore&&this._currentPageNumber===this._firstPageInRange&&t&&0===this._pageShift},YA.prototype.appendNewRecords=function(t,i){this.previousRecords=i;var e=t.pageSize,n=e*this.MAX_PAGES;if(this._shouldRestoreScrollPosition=!1,!i||!i.length)return bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&(this._scrollHitTopWithPageNumberToRestore=!!(1<this._pageNumberToRestore&&this._scrollHitTop)),!1;var r=this.gridComponent.getSourceCollectionIds(),s=r.length,o=!1,a=!1;if(r.length&&(o=i.length>n&&this._scrollHitBottom?i[i.length-n]===r[0]:i[0]===r[0],a=i[i.length-1]===r[r.length-1]),this.isPageDataSame(o,a)||this.isFirstPageTop()||this.isLastPageBottom(a)||this.isFirstPageTopWithPageNumberToRestore(o))return bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&(this._scrollHitTopWithPageNumberToRestore=this.isFirstPageTopWithPageNumberToRestore(o)),!1;if(this._currentPageNumber===Math.floor(t.totalResultCount/this.pageSize)&&this.isScrolledToBottom()&&this.isNextPageRequested())return this.forcePageNumberUpdate(),!1;var h,c=this.isPageAlreadyLoaded(r,i),u=!1;return c?this._shouldRestoreScrollPosition=!0:this._scrollHitBottom||this._newPageNumber>this._currentPageNumber?(this.appendRecordsToCollectionView(r,i,n,e),this.isPageNumberChanged()&&(this.gridComponent instanceof $d&&s<n?this.restoreScrollPosition():this._shouldRestoreScrollPosition=!0)):(bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&(u=1<this._pageNumberToRestore),this.prependRecordsToCollectionView(r,i,n,e)),n<=s?(h=!this._isFullPageLoaded&&!c||a&&this.isScrollDown(),this.setScrollPosition(h?this.forcePageNumberUpdate.bind(this):null),this.gridComponent instanceof $d||this.notifyPagingInfoChanged(),h&&this.forcePageNumberUpdate(),0!==this._pageShift&&!this._isFullPageLoaded&&this._scrollHitTop&&(this._pageShift=0,this._lastPageInRange=this.MAX_PAGES,this.sendPagingInfo()),this.gridComponent instanceof $d&&this._newPageNumber&&this.resetNewPage(),this._shouldRestoreScrollPosition=!0):((bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&u||this.gridComponent instanceof $d&&this._newPageNumber&&c)&&this.setScrollPosition(),this.clearBumpScrollFlag()),this.gridComponent.setProgressIndicator(Rd.None),!0},YA.prototype.isPageAlreadyLoaded=function(t,i){var e=t[0],n=i.indexOf(e);if(-1===n)return!1;var r=Math.floor(n/this.pageSize)+1,s=t.length/this.pageSize;return r<=this._newPageNumber&&this._newPageNumber<r+s},Object.defineProperty(YA.prototype,"shouldRestoreScrollPosition",{get:function(){return this._shouldRestoreScrollPosition},enumerable:!1,configurable:!0}),YA.prototype.scrollUpFromBottom=function(t,i,e,n){t.scrollTop(i-e-n)},YA.prototype.setScrollPosition=function(t){var i,e,n=this,r=this._isFullPageLoaded?0:this._pageShift,s=$(this.gridComponent.getScrollableElement()),o=s.prop("offsetHeight"),a=s.prop("scrollHeight"),h=this.pagingComponent.getRowHeight(),c=this.pageSize*h;if(this.gridComponent instanceof $d)return this._scrollHitBottom&&setTimeout(function(){0<r?n.scrollUpFromBottom(s,a,r*h,o):(n.scrollUpFromBottom(s,a,c/2,o),setTimeout(function(){n.scrollUpFromBottom(s,a,c,o)},0))},0),void(this._scrollHitTop&&setTimeout(function(){n._isFullPageLoaded?(s.scrollTop(c/2),setTimeout(function(){s.scrollTop(c)},0)):s.scrollTop(h*r)},0));this.isScrollDown()?this._scrollHitBottom?0<r?this.scrollUpFromBottom(s,a,r*h,o):this.scrollUpFromBottom(s,a,c,o):this.gridComponent instanceof $d?(i=this._newPageNumber,e=this._notDisplayedPageCount,setTimeout(function(){s.scrollTop(c*(i-e-1)),n.notifyPagingInfoChanged(),t&&t()},0)):s.scrollTop(c*(this._newPageNumber-this._notDisplayedPageCount-1)):this._scrollHitTop?0<r?s.scrollTop(r*h):s.scrollTop(this.gridComponent instanceof $d?1:c):s.scrollTop(c*(this._newPageNumber-this._notDisplayedPageCount-1))},YA.prototype.restoreScrollPosition=function(){this.setScrollPosition(),this.clearBumpScrollFlag(),this._shouldRestoreScrollPosition=!1,this._newPageNumber&&this.resetNewPage()},YA.prototype.resetNewPage=function(){this._newPageNumber&&(this._currentPageNumber=this._newPageNumber),this._newPageNumber=null},YA.prototype.appendRecordsToCollectionView=function(t,i,e,n){var r=t.length;if(0<r&&i[r]&&i[r]!==t[r-1]){r=-1;for(var s=0;s<i.length;s++)if(i[s]===t[t.length-1]){r=s;break}}else r=-1;for(var o=!1,a=r+1,h=0;a<i.length&&h<n;a++,h++)o=!0,t.push(i[a]),t.length>e&&t.shift();o&&(this._isFullPageLoaded=i.length-r-1>=n,this._lastPageInRange++,this._lastPageInRange-this._firstPageInRange===this.MAX_PAGES&&(this._isFullPageLoaded?(this._firstPageInRange++,this._notDisplayedPageCount++):this._pageShift=i.length-r-1),this.sendPagingInfo()),this.gridComponent.updateSourceCollection(t)},YA.prototype.prependRecordsToCollectionView=function(t,i,e,n){for(var r=n,r=i.length,s=0;s<i.length;s++)if(i[s]===t[0]){r=s;break}for(var o=!1,a=0,h=1===this._newPageNumber&&1<this._currentPageNumber-this._newPageNumber,s=r-1;0<=s&&(a<n||h);s--,a++)o=!0,t.unshift(i[s]),t.length>e&&t.pop();this._isFullPageLoaded=n<=a,h?(this._notDisplayedPageCount=0,this._pageShift=0,this._firstPageInRange=1,this._lastPageInRange>this.MAX_PAGES&&(this._lastPageInRange=this.MAX_PAGES),this.sendPagingInfo()):o&&1<this._firstPageInRange&&(this._firstPageInRange--,0<this._pageShift&&this._lastPageInRange===Math.floor(i.length/n+1)&&this._lastPageInRange--,this._lastPageInRange-this._firstPageInRange==this.MAX_PAGES&&((!bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)||0===this._notDisplayedPageCount||this._scrollHitTopWithPageNumberToRestore)&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())||this._notDisplayedPageCount--,this._lastPageInRange--),bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)&&1<this._pageNumberToRestore&&this._scrollHitTopWithPageNumberToRestore&&(this._pageNumberToRestore--,this._scrollHitTopWithPageNumberToRestore=!1),this.sendPagingInfo()),this.gridComponent.updateSourceCollection(t)},YA.prototype.isScrolledToBottom=function(){var t=this.pagingComponent.getClientHeight(),i=this.pagingComponent.getScrollTop(),e=this.pagingComponent.getScrollHeight();return Math.round(e-i)===Math.round(t)},Object.defineProperty(YA.prototype,"isPagingInfoDirty",{get:function(){return 0!==this._pageShift||1!==this._firstPageInRange||1!==this._lastPageInRange||0!==this._notDisplayedPageCount},enumerable:!1,configurable:!0}),YA.prototype.dispose=function(){this.gridComponent=null,this.componentDataSet=null,this.pagingComponent=null},YA.prototype.reset=function(t){void 0===t&&(t=!1);var i=!0;!bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)||1===this._pageNumberToRestore||t||(i=!1),this.isPagingInfoDirty&&i&&(this._pageShift=0,this._currentPageNumber=1,this._firstPageInRange=1,this._lastPageInRange=1,this._notDisplayedPageCount=0,this._pageNumberToRestore=1,this.sendPagingInfo(),$(this.gridComponent.getScrollableElement()).scrollTop(0))},YA);function YA(t,i,e,n,r,s){this.MAX_PAGES=3,this.SEND_PAGING_INFO_TO_PAGING_CONTROL="sendpaginginfotopagingcontrol",this._scrollHitTop=!1,this._scrollHitBottom=!1,this._firstPageInRange=1,this._lastPageInRange=1,this._currentPageNumber=1,this._newPageNumber=null,this._notDisplayedPageCount=0,this._isGridScrolledToBottom=!1,this._pageShift=0,this._isFullPageLoaded=!1,this._shouldRestoreScrollPosition=!1,this._pageNumberToRestore=1,this._scrollHitTopWithPageNumberToRestore=!1,this.perfTool=s,this.gridComponent=t,this.componentDataSet=i,this.pagingComponent=n,this._utils=e,this._pageNumberToRestore=r;var o=null;bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)&&1<this._pageNumberToRestore&&(o=this._pageNumberToRestore,this._currentPageNumber=this._pageNumberToRestore,this._firstPageInRange=this._pageNumberToRestore,this._lastPageInRange=this._pageNumberToRestore),this.sendPagingInfo(o)}var UA=(HA.initialize=function(t){HA.filterAscendingLabel=t(Zl.gridFilteringAscending),HA.filterDescendingLabel=t(Zl.gridFilteringDescending),HA.filterApplyLabel=t(Zl.gridFilteringApply),HA.filterCancelLabel=t(Zl.gridFilteringCancel),HA.filterClearLabel=t(Zl.gridFilteringClear),HA.filterByConditionLabel=t(Zl.gridFilteringCondition),HA.filterByValueLabel=t(Zl.gridFilteringValue),HA.valueFilterSearchLabel=t(Zl.gridFilteringValueFilterSearch),HA.valueFilterSelectAllLabel=t(Zl.gridFilteringValueFilterSelectAll),HA.valueFilterNullLabel=t(Zl.gridFilteringValueFilterNull),HA.conditionFilterHeaderLabel=t(Zl.gridFilteringConditionFilterHeader),HA.conditionFilterAndLabel=t(Zl.gridFilteringConditionFilterAnd),HA.conditionFilterOrLabel=t(Zl.gridFilteringConditionFilterOr),HA.conditionFilterOperatorNotSetLabel=t(Zl.gridFilteringConditionFilterOperatorNotSet),HA.conditionFilterOperatorEqualsLabel=t(Zl.gridFilteringConditionFilterOperatorEquals),HA.conditionFilterOperatorDoesNotEqualLabel=t(Zl.gridFilteringConditionFilterOperatorDoesNotEqual),HA.conditionFilterOperatorBeginsWithLabel=t(Zl.gridFilteringConditionFilterOperatorBeginsWith),HA.conditionFilterOperatorEndsWithLabel=t(Zl.gridFilteringConditionFilterOperatorEndsWith),HA.conditionFilterOperatorContainsLabel=t(Zl.gridFilteringConditionFilterOperatorContains),HA.conditionFilterOperatorDoesNotContainLabel=t(Zl.gridFilteringConditionFilterOperatorDoesNotContain),HA.conditionFilterOperatorGreaterLabel=t(Zl.gridFilteringConditionFilterOperatorGreater),HA.conditionFilterOperatorGreaterOrEqualLabel=t(Zl.gridFilteringConditionFilterOperatorGreaterOrEqual),HA.conditionFilterOperatorLessLabel=t(Zl.gridFilteringConditionFilterOperatorLess),HA.conditionFilterOperatorLessOrEqualLabel=t(Zl.gridFilteringConditionFilterOperatorLessOrEqual),HA.conditionFilterOperatorIsBeforeLabel=t(Zl.gridFilteringConditionFilterOperatorIsBefore),HA.conditionFilterOperatorIsAfterLabel=t(Zl.gridFilteringConditionFilterOperatorIsAfter),HA.conditionFilterOperatorOnLabel=t(Zl.gridFilteringConditionFilterOperatorOn),HA.conditionFilterOperatorOnOrBeforeLabel=t(Zl.gridFilteringConditionFilterOperatorOnOrBefore),HA.conditionFilterOperatorOnOrAfterLabel=t(Zl.gridFilteringConditionFilterOperatorOnOrAfter),bf.isUci()&&(HA.gridFilteringLabelFilterBy=t(Zl.gridFilteringLabelFilterBy),HA.gridFilteringLabelClearFilter=t(Zl.gridFilteringLabelClearFilter),HA.gridSortingLabelSortAsc=t(Zl.gridSortingAsc),HA.gridSortingLabelSortDesc=t(Zl.gridSortingDesc),HA.gridSortingLabelSortAscNumeric=t(Zl.gridSortingAscNumeric),HA.gridSortingLabelSortDescNumeric=t(Zl.gridSortingDescNumeric),HA.gridSortingLabelSortAscDate=t(Zl.gridSortingAscDate),HA.gridSortingLabelSortDescDate=t(Zl.gridSortingDescDate),HA.gridFilteringLabelDoesNotBeginWith=t(Zl.gridFilteringLabelDoesNotBeginWith),HA.gridFilteringLabelDoesNotEndWith=t(Zl.gridFilteringLabelDoesNotEndWith),HA.gridFilteringLabelDoesNotContainData=t(Zl.gridFilteringLabelDoesNotContainData),HA.gridFilteringLabelContainData=t(Zl.gridFilteringLabelContainData),HA.gridFilteringLabelContainDataAnyTime=t(Zl.gridFilteringLabelContainDataAnyTime),HA.gridFilteringLabelGreaterThan=t(Zl.gridFilteringLabelGreaterThan),HA.gridFilteringLabelGreaterThanOrEqualTo=t(Zl.gridFilteringLabelGreaterThanOrEqualTo),HA.gridFilteringLabelLessThan=t(Zl.gridFilteringLabelLessThan),HA.gridFilteringLabelLessThanOrEqualTo=t(Zl.gridFilteringLabelLessThanOrEqualTo),HA.gridFilteringLabelPleaseSelectValue=t(Zl.gridFilteringLabelPleaseSelectValue),HA.gridFilteringLabelDoesNotContainValues=t(Zl.gridFilteringLabelDoesNotContainValues),HA.gridFilteringLabelContainsValues=t(Zl.gridFilteringLabelContainsValues),HA.gridFilteringLabelToday=t(Zl.gridFilteringLabelToday),HA.gridFilteringLabelYesterday=t(Zl.gridFilteringLabelYesterday),HA.gridFilteringLabelTomorrow=t(Zl.gridFilteringLabelTomorrow),HA.gridFilteringLabelThisWeek=t(Zl.gridFilteringLabelThisWeek),HA.gridFilteringLabelThisMonth=t(Zl.gridFilteringLabelThisMonth),HA.gridFilteringLabelThisYear=t(Zl.gridFilteringLabelThisYear),HA.gridFilteringLabelThisFiscalPeriod=t(Zl.gridFilteringLabelThisFiscalPeriod),HA.gridFilteringLabelThisFiscalYear=t(Zl.gridFilteringLabelThisFiscalYear),HA.gridFilteringLabelNextWeek=t(Zl.gridFilteringLabelNextWeek),HA.gridFilteringLabelNextMonth=t(Zl.gridFilteringLabelNextMonth),HA.gridFilteringLabelNextYear=t(Zl.gridFilteringLabelNextYear),HA.gridFilteringLabelNextYearRange=t(Zl.gridFilteringLabelNextYearRange),HA.gridFilteringLabelNextFiscalPeriod=t(Zl.gridFilteringLabelNextFiscalPeriod),HA.gridFilteringLabelNextFiscalYear=t(Zl.gridFilteringLabelNextFiscalYear),HA.gridFilteringLabelNextXHours=t(Zl.gridFilteringLabelNextXHours),HA.gridFilteringLabelNextXDays=t(Zl.gridFilteringLabelNextXDays),HA.gridFilteringLabelNextXWeeks=t(Zl.gridFilteringLabelNextXWeeks),HA.gridFilteringLabelNextXMonths=t(Zl.gridFilteringLabelNextXMonths),HA.gridFilteringLabelNextXYears=t(Zl.gridFilteringLabelNextXYears),HA.gridFilteringLabelNextXFiscalPeriods=t(Zl.gridFilteringLabelNextXFiscalPeriods),HA.gridFilteringLabelNextXFiscalYears=t(Zl.gridFilteringLabelNextXFiscalYears),HA.gridFilteringLabelLastWeek=t(Zl.gridFilteringLabelLastWeek),HA.gridFilteringLabelLastMonth=t(Zl.gridFilteringLabelLastMonth),HA.gridFilteringLabelLastYear=t(Zl.gridFilteringLabelLastYear),HA.gridFilteringLabelLastFiscalPeriod=t(Zl.gridFilteringLabelLastFiscalPeriod),HA.gridFilteringLabelLastFiscalYear=t(Zl.gridFilteringLabelLastFiscalYear),HA.gridFilteringLabelLastXHours=t(Zl.gridFilteringLabelLastXHours),HA.gridFilteringLabelLastXDays=t(Zl.gridFilteringLabelLastXDays),HA.gridFilteringLabelLastXWeeks=t(Zl.gridFilteringLabelLastXWeeks),HA.gridFilteringLabelLastXMonths=t(Zl.gridFilteringLabelLastXMonths),HA.gridFilteringLabelLastXYears=t(Zl.gridFilteringLabelLastXYears),HA.gridFilteringLabelLastXFiscalPeriods=t(Zl.gridFilteringLabelLastXFiscalPeriods),HA.gridFilteringLabelLastXFiscalYears=t(Zl.gridFilteringLabelLastXFiscalYears),HA.gridFilteringLabelNext7Days=t(Zl.gridFilteringLabelNext7Days),HA.gridFilteringLabelLast7Days=t(Zl.gridFilteringLabelLast7Days),HA.gridFilteringLabelOlderThanXMinutes=t(Zl.gridFilteringLabelOlderThanXMinutes),HA.gridFilteringLabelOlderThanXHours=t(Zl.gridFilteringLabelOlderThanXHours),HA.gridFilteringLabelOlderThanXDays=t(Zl.gridFilteringLabelOlderThanXDays),HA.gridFilteringLabelOlderThanXWeeks=t(Zl.gridFilteringLabelOlderThanXWeeks),HA.gridFilteringLabelOlderThanXMonths=t(Zl.gridFilteringLabelOlderThanXMonths),HA.gridFilteringLabelOlderThanXYears=t(Zl.gridFilteringLabelOlderThanXYears),HA.gridFilteringLabelInFiscalYear=t(Zl.gridFilteringLabelInFiscalYear),HA.gridFilteringLabelInFiscalPeriod=t(Zl.gridFilteringLabelInFiscalPeriod),HA.gridFilteringLabelInFiscalPeriodAndYear=t(Zl.gridFilteringLabelInFiscalPeriodAndYear),HA.gridFilteringLabelInOrAfterFiscalPeriodAndYear=t(Zl.gridFilteringLabelInOrAfterFiscalPeriodAndYear),HA.gridFilteringLabelQuarter=t(Zl.gridFilteringLabelQuarter),HA.gridFilteringLabelLoading=t(Zl.gridFilteringLabelLoading),HA.gridFilteringLabelNoRecordsFound=t(Zl.gridFilteringLabelNoRecordsFound),HA.gridFilteringLabelFilterByValue=t(Zl.gridFilteringLabelFilterByValue),HA.gridFilteringLabelFilterFilterByOperator=t(Zl.gridFilteringLabelFilterFilterByOperator),HA.gridFilteringLabelEqualsCurrentUser=t(Zl.gridFilteringLabelEqualsCurrentUser),HA.gridFilteringLabelDoesNotEqualCurrentUser=t(Zl.gridFilteringLabelDoesNotEqualCurrentUser),HA.gridFilteringLabelEqualsCurrentBusinessUnit=t(Zl.gridFilteringLabelEqualsCurrentBusinessUnit),HA.gridFilteringLabelDoesNotEqualCurrentBusinessUnit=t(Zl.gridFilteringLabelDoesNotEqualCurrentBusinessUnit),HA.gridFilteringLabelEqualsCurrentUserOrHisReportingHierarchy=t(Zl.gridFilteringLabelEqualsCurrentUserOrHisReportingHierarchy),HA.gridFilteringLabelEqualsCurrentUserOrUserTeams=t(Zl.gridFilteringLabelEqualsCurrentUserOrUserTeams),HA.gridFilteringLabelEqualsCurrentUserTeams=t(Zl.gridFilteringLabelEqualsCurrentUserTeams),HA.gridFilteringLabelEqualsCurrentUserAndHisTeamsOrHisReportingHierarchyAndTheirTeams=t(Zl.gridFilteringLabelEqualsCurrentUserAndHisTeamsOrHisReportingHierarchyAndTheirTeams),HA.gridFilteringLabelSelectOperator=t(Zl.gridFilteringLabelSelectOperator),HA.gridFilteringLabelClose=t(Zl.gridFilteringLabelClose),HA.gridFilteringLabelMinutes=t(Zl.gridFilteringLabelMinutes),HA.gridFilteringLabelValueMustBeAValidInteger=t(Zl.gridFilteringLabelValueMustBeAValidInteger),HA.gridFilteringLabelInOrBeforeFiscalPeriodAndYear=t(Zl.gridFilteringLabelInOrBeforeFiscalPeriodAndYear),HA.gridFilteringLabelPleaseEnterValue=t(Zl.gridFilteringLabelPleaseEnterValue),HA.gridFilteringLabelPleaseEnterDate=t(Zl.gridFilteringLabelPleaseEnterDate),HA.gridFilteringLabelFY=t(Zl.gridFilteringLabelFY),HA.gridFilteringLabelValueGreaterThanMaxValue=t(Zl.gridFilteringLabelValueGreaterThanMaxValue),HA.gridFilteringLabelValueGreaterThanMinValue=t(Zl.gridFilteringLabelValueGreaterThanMinValue),HA.gridFilteringLabelEqualsCurrentUserLanguage=t(Zl.gridFilteringLabelEqualsCurrentUserLanguage),HA.gridFilteringLabelValueMustBeAValidNumber=t(Zl.gridFilteringLabelValueMustBeAValidNumber),HA.gridFilteringLabelValueMustBeAValidWholeNumber=t(Zl.gridFilteringLabelValueMustBeAValidWholeNumber),HA.gridFilteringPrevMonthAriaLabel=t(Zl.gridFilteringPrevMonthAriaLabel),HA.gridFilteringPrevYearAriaLabel=t(Zl.gridFilteringPrevYearAriaLabel),HA.gridFilteringPrevYearRangeAriaLabel=t(Zl.gridFilteringPrevYearRangeAriaLabel),HA.gridGoToTodayLabel=t(Zl.gridGoToTodayLabel))},HA);function HA(){}var zA=(GA.prototype.sendPoliteMessage=function(t){var i=document.getElementById(this.politeLiveRegionId);i&&(i.setAttribute("aria-hidden","false"),i.textContent=t),setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},2e3)},GA.prototype.sendAssertiveMessage=function(t){var i=document.getElementById(this.assertiveLiveRegionId);i&&(i.setAttribute("aria-hidden","false"),i.textContent=t),setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},800)},GA.prototype.dispose=function(){this.politeLiveRegionId=null,this.assertiveLiveRegionId=null},GA);function GA(t){this.politeLiveRegionId=t+Pl.ariaPoliteLiveRegionPostfix,this.assertiveLiveRegionId=t+Pl.ariaAssertiveLiveRegionPostfix}var PA=(VA.isDate=function(t){return Object.prototype.toString.call(t).match(/\[object (.*)\]/)[1]===VA.DateConstructorFunctionName},VA.isString=function(t){return sr(t)===VA.StringTypeName},VA.isOptionMetadata=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&t.get_ValueString&&t.getValue&&t.get_Label},VA.stopEventPropagation=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.stopPropagation)?t.cancelBubble=!0:t.stopPropagation()},VA.preventDefault=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.preventDefault)?t.returnValue=!1:t.preventDefault()},VA.isKeyCode=function(t,i){return t.keyCode===i||t.which===i},VA.removeEmptyElements=function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))return[];for(var i=0;i<t.length;i++)MscrmCommon.ControlUtils.String.isNullOrWhitespace(t[i])&&(t.splice(i,1),i--);return t},VA.DateConstructorFunctionName="Date",VA.StringTypeName="string",VA);function VA(){}var LA=(JA.prototype.initComponent=function(){var i=this,t=document.createElement("a");t.textContent=this.value,t.title=this.value,t.href=this.value,t.tabIndex=-1,t.open=function(t){i.open(t)},t.style.fontSize=this.theming.fontsizes.font100,t.style.fontFamily=this.theming.fontfamilies.regular,t.style.color=this.theming.colors.basecolor.blue.blue4,t.style.display="inline-block",this.rootElement=t,this.fieldContainer.appendChild(this.rootElement)},JA.prototype.dispose=function(){this.fieldContainer.removeChild(this.rootElement)},JA.prototype.open=function(t){PA.stopEventPropagation(t),PA.preventDefault(t),this.rootElement.href&&window.open(this.rootElement.href,"_self")},JA);function JA(t,i,e,n){this.fieldContainer=t,this.value=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?"":i,this.useSkypeProtocol=n,this.theming=e,this.initComponent()}var WA,_A,XA=((window&&window.__extends||(WA=function(t,i){return(WA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}WA(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(KA,_A=LA),KA.prototype.initComponent=function(){_A.prototype.initComponent.call(this),this.rootElement.href="mailto:"+this.value},KA);function KA(t,i,e){return _A.call(this,t,i,e)||this}var ZA=(qA.prototype.initComponent=function(){this.rootElement=document.createElement("div"),this.rootElement.textContent=this.value,this.fieldContainer.appendChild(this.rootElement)},qA.prototype.dispose=function(){this.fieldContainer.removeChild(this.rootElement)},qA);function qA(t,i){void 0===i&&(i=""),this.fieldContainer=t,this.value=i,this.initComponent()}var $A,tg,ig=((window&&window.__extends||($A=function(t,i){return($A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}$A(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(eg,tg=ZA),eg.prototype.initComponent=function(){this.rootElement=document.createElement("label"),this.rootElement.setAttribute("role","presentation"),this.value=this.htmlToPlainText(this.value),this.rootElement.textContent=this.value;var t=null==this.fieldContainer.getElementsByTagName("label")?null:this.fieldContainer.getElementsByTagName("label")[0];t&&t.parentNode?t.parentNode.replaceChild(this.rootElement,t):this.fieldContainer.appendChild(this.rootElement),this.fieldContainer.setAttribute(Pl.htmlTitleAttributeName,this.value)},eg.prototype.htmlToPlainText=function(t){return null==this.htmlToPlainTextDocument||null==this.span?(this.htmlToPlainTextDocument=document.implementation.createHTMLDocument("htmlToPlainTextDocument"),this.span=this.htmlToPlainTextDocument.createElement("span")):this.span.innerHTML="",t=t.replace(/<style.*?>[\s\S]*?<\/style>/g,""),this.span.innerHTML=t,this.span.innerText.replace(/\n/g," ").replace(/<!--[\s\S]*?(?:-->)/g,"")},eg.prototype.destroy=function(){this.span.remove(),this.span=null,this.htmlToPlainTextDocument=null},eg);function eg(t,i){var e=tg.call(this,t,i)||this;return e.htmlToPlainTextDocument=null,e.span=null,e}var ng,rg,sg=((window&&window.__extends||(ng=function(t,i){return(ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}ng(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(og,rg=ZA),og.prototype.initComponent=function(){this.rootElement=document.createElement("label"),this.rootElement.setAttribute("role","presentation"),this.rootElement.textContent=this.value;var t=this.fieldContainer.getElementsByTagName("label")[0];t&&t.parentNode?t.parentNode.replaceChild(this.rootElement,t):this.fieldContainer.appendChild(this.rootElement)},og);function og(t,i){return rg.call(this,t,i)||this}var ag,hg,cg=((window&&window.__extends||(ag=function(t,i){return(ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}ag(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(ug,hg=LA),ug.prototype._updateLookupFieldHref=function(t){var i,e,n,r,s,o,a="#";t&&t.page&&this.entityReference&&this.entityReference.LogicalName&&this.entityReference.Id&&!this.shouldHandleSubject&&-1===ug.unsupportedEntitiesArray.indexOf(this.entityReference.LogicalName)&&(i=t.page.getClientUrl(),e="entityrecord",n=t.page.appId,r=this.entityReference.LogicalName,s=this.entityReference.Id,(o="queueitem"===this.entityReference.LogicalName&&t.utils.isFeatureEnabled(bf.getQueueItemUCINavigationFCB())&&t.parameters.Grid.records[this.entityReference.Id.toString()].getValue("objectid"))&&o.id&&o.id.guid&&o.etn&&(s=o.id.guid,r=o.etn),a=n?i+"/main.aspx?appid="+n+"&pagetype="+e+"&etn="+r+"&id="+s:i+"/main.aspx?app=d365default&forceUCI=1&pagetype="+e+"&etn="+r+"&id="+s),this.rootElement.href=a},ug.prototype.initComponent=function(){var i=this;hg.prototype.initComponent.call(this),this.rootElement.open=function(t){t.preventDefault(),t.stopPropagation(),i.open(t)}},ug.prototype.open=function(t){var i=this;PA.stopEventPropagation(t),PA.preventDefault(t),this.isNavigating||(setTimeout(function(){return i.isNavigating=!1},Pl.doubleTapThreshold),this.isNavigating=!0,this.shouldHandleSubject?this.navigationService.openDialog("SubjectProperties",{height:300,width:550,position:1},{selected_subjectId:this.entityReference.Id.toString()}):this.navigationService.navigateToEntityForm(this.entityReference))},ug.unsupportedEntitiesArray=[Pl.sharePointDocumentEntityName],ug);function ug(t,i,e,n,r,s){var o=hg.call(this,t,i,e)||this;return o.entityReference=n,o.navigationService=r,o.shouldHandleSubject=bf.isUci()&&n&&n.LogicalName===Pl.subjectEntityName&&n.Id&&s.utils.isFeatureEnabled(bf.getGridSubjectColumnFCB()),bf.isUci()&&s.utils.isFeatureEnabled(bf.getContextMenuLookupFCB())?o._updateLookupFieldHref(s):o.rootElement.href="#",o}var lg=(fg.prototype.initComponent=function(){var s=this,o=this.entityRecords.length-1;this.entityRecords.forEach(function(t,i){var e=t.fields.partyid,n=e.reference&&e.reference.name,r=s.createLinkElement(n);r.textContent=i<o?MscrmCommon.ControlUtils.String.Format("{0}; ",n):n,s.linkElementCollection.push(r),s.fieldContainer.appendChild(r)}),this.fieldContainer.selectNextItem=this.selectNextItem,this.fieldContainer.selectPrevItem=this.selectPrevItem,this.fieldContainer.isFirsItemSelected=this.isFirstItemSelected,this.fieldContainer.isLastItemSelected=this.isLastItemSelected},fg.prototype.createLinkElement=function(t){var i=document.createElement("a");return i.title=t,i.href=t,i.tabIndex=-1,i.style.fontSize=this.theming.fontsizes.font100,i.style.setProperty(":hover",this.theming.colors.linkcolor.hover.text),i.style.setProperty(":visited",this.theming.colors.linkcolor.visited.text),i.style.setProperty(":link",this.theming.colors.linkcolor.normal.text),i.style.color=this.theming.colors.basecolor.blue.blue3,i.style.display="inline-block",i.open=this.openHandler,i},fg.prototype.dispose=function(){this.fieldContainer.removeChild(this.rootElement)},fg);function fg(t,i,e,n){var s=this;this.linkElementCollection=new Array,this.openHandler=function(t){var i,e,n,r=s.getSelectedItemIndex();-1<r&&(e=(i=s.entityRecords[r].fields.partyid).reference&&i.reference.id&&i.reference.id.guid&&i.reference.id.guid.toString(),n=i.reference&&i.reference.etn,PA.stopEventPropagation(t),PA.preventDefault(t),s.dataSetService.dataSet.openDatasetItem(new hd(e,n)))},this.getSelectedItemIndex=function(){for(var t=0;t<s.linkElementCollection.length;t++)if(s.linkElementCollection[t]==document.activeElement)return t;return-1},this.selectNextItem=function(t){var i=s.getSelectedItemIndex();i<s.linkElementCollection.length-1&&(PA.stopEventPropagation(t),PA.preventDefault(t),s.linkElementCollection[++i].focus())},this.selectPrevItem=function(t){var i=s.getSelectedItemIndex();-1==i&&(i=s.linkElementCollection.length),0<i&&(PA.stopEventPropagation(t),PA.preventDefault(t),s.linkElementCollection[--i].focus())},this.isFirstItemSelected=function(){return 0===s.getSelectedItemIndex()},this.isLastItemSelected=function(){return s.getSelectedItemIndex()===s.linkElementCollection.length-1},this.fieldContainer=t,this.entityRecords=i,this.dataSetService=e,this.theming=n,this.initComponent()}var dg,Ag,gg=((window&&window.__extends||(dg=function(t,i){return(dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}dg(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(wg,Ag=LA),wg.prototype.initComponent=function(){var t;Ag.prototype.initComponent.call(this);var i="";switch(this.useSkypeProtocol){case!0:t="skype",i="?call";break;default:t="tel"}this.rootElement.href=t+":"+this.value+i},wg);function wg(t,i,e,n){return Ag.call(this,t,i,e,n)||this}var mg,pg,vg,bg,Eg=((window&&window.__extends||(mg=function(t,i){return(mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}mg(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(Bg,pg=LA),Bg.prototype.initComponent=function(){pg.prototype.initComponent.call(this)},Bg.prototype.open=function(t){PA.stopEventPropagation(t),PA.preventDefault(t),this.rootElement.href&&this._navigationService.openUrl(this.rootElement.href)},Bg);function Bg(t,i,e,n){var r=pg.call(this,t,i,e)||this;return r._navigationService=n,r}(bg=vg={})[bg.None=0]="None",bg[bg.Lookup=1]="Lookup",bg[bg.Grid=2]="Grid";var Cg=(jg.prototype.addPresence=function(t,i,e,n){var r=t.textContent;n=(t.textContent=null)==n||"null"==n||null==n||"undefined"==n?"":n;var s=bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())?{margin:"11px 5px 5px 5px",position:"relative",float:this.client.isRTL?"right":"left"}:{margin:"5px",position:"relative",float:this.client.isRTL?"right":"left"},o=this.factory.createElement("PRESENCEINDICATOR",{sipUrl:i,entityReference:e,key:t.id+"_key",displaySize:0,style:s,parentControlId:t.id,absoluteId:t.id,accessibilityLabel:n,presenceTarget:vg.Grid}),a=this.factory.createElement("CONTAINER",{id:t.id},[o,this.factory.createElement("LABEL",{},r)]),h=document.createElement("div");t.appendChild(h),this.utils.bindDOMElement(a,h)},jg);function jg(t,i,e){this.factory=t,this.utils=i,this.client=e}var yg=(Object.defineProperty(xg.prototype,"useSkypeProtocol",{get:function(){return this.useSkypeProtocolProperty?this.useSkypeProtocolProperty.raw:null},enumerable:!1,configurable:!0}),xg.prototype.withDefaultField=function(){return this.useDefaultField=!0,this},xg.prototype.updateCellView=function(t,i,e,n,r,s,o,a,h){var c,u,l,f;if(void 0===r&&(r=null),void 0===s&&(s=null),!i.isPrimary&&i.imageProviderWebresource&&i.imageProviderFunctionName&&((c=t.querySelector("."+xg.imageContainerClassName))&&1===c.children.length&&"IMG"===c.children[0].tagName?(u=c.children[0],r?(u.src!==r&&(u.src=r),u.alt!==s&&(u.alt=s,u.title=s)):c.parentNode.removeChild(c)):r&&((l=document.createElement("img")).src=r,l.alt=s,l.title=s,(f=document.createElement("div")).className=xg.imageContainerClassName,f.appendChild(l),t.appendChild(f))),MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||"string"!=typeof e||(e=e.replace(/(\r\n|\n|\r)/gm," ")),this.useDefaultField||e===cf.undefinedString)return this.ShowGridPresence(t,i,n,o,a,h,e),void new(bf.isUci()&&bf.isFeatureEnabled(bf.getMemoFieldOnEditableGridFCB())&&this.isHtmlContentField(i,n)?ig:sg)(t,e);switch(i.isPrimary?sf.dataTypeLookupSimple:i.dataType){case sf.dataTypeLookupCustomer:case sf.dataTypeLookupOwner:case sf.dataTypeLookupRegarding:case sf.dataTypeLookupSimple:var d=this.ShowGridPresence(t,i,n,o,a,h,e);new cg(t,e,this.theming,d,this.navigationService,this.context);break;case sf.dataTypeLookupPartyList:var A,g=!0,w=this.dataSetService.records[n]&&this.dataSetService.records[n].getValue(i.name);if(w)for(var m in w)if(!w[m].fields||!w[m].fields.partyid){g=!1;break}g?new lg(t,w,this.dataSetService,this.theming):(A=this.dataSetService.records[n]&&this.dataSetService.records[n].getFormattedValue(i.name),new sg(t,A));break;case sf.dataTypeSingleLineEmail:new XA(t,e,this.theming);break;case sf.dataTypeSingleLinePhone:new gg(t,e,this.theming,this.useSkypeProtocol);break;case sf.dataTypeSingleLineURL:new Eg(t,e,this.theming,this.navigationService);break;case sf.dataTypeSingleLineTextArea:case sf.dataTypeSingleLineTicker:case sf.dataTypeTwoOptions:default:new(this.isHtmlContentField(i,n)?ig:sg)(t,e)}!i.isPrimary&&i.imageProviderWebresource&&i.imageProviderFunctionName&&1<t.childNodes.length&&(t.childNodes[1].style.display="inline")},xg.prototype.isHtmlContentField=function(t,i){var e="appointment",n="recurringappointmentmaster",r="annotation",s="activitypointer",o=t.attributes.LogicalName,a=this.dataSetService.records[i],h=a.getPrimaryEntityLogicalName(),c=a.getValue(t.name);if(bf.isUci()&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(c)&&sf.compare(c,sf.aliasedValue)&&(h=c.get_entityLogicalName()),"email"!=h&&h!=e&&h!=n&&"queueitem"!=h&&h!=r&&h!=s)return!1;var u=t.attributes.format;return!!(h!==e&&h!==n||this.isAppointmentRteEnabled)&&((("email"===h||"queueitem"===h||h===s)&&"description"===o||h===r&&"notetext"===o)&&"0"===u||"memo"===t.attributes.type&&"1"===u)},xg.prototype.getEntityReferenceForElement=function(t,i,e){if(!i||!t)return null;var n=this.dataSetService.records[t],r=null;return e?r=new hd(t,n.getPrimaryEntityLogicalName()):(r=n.getValue(i),bf.isUci()&&this.context.utils.isFeatureEnabled(bf.getContextMenuLookupFCB())&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&sf.compare(r,sf.aliasedValue)&&(r=r.get_value())),r},xg.prototype.ShowGridPresence=function(t,i,e,n,r,s,o){var a=null;return(a=this.getEntityReferenceForElement(e,i.name,i.isPrimary))&&this.communicationChannel&&this.communicationChannel.isPresenceEnabled(a.LogicalName)&&new Cg(n,r,s).addPresence(t,null,{entityName:a.LogicalName,Id:a.Id.toString()},o),a},xg.imageContainerClassName="image-container",xg);function xg(t,i,e,n,r,s,o){this.theming=e,this.dataSetService=t,this.navigationService=i,this.useDefaultField=!1,this.communicationChannel=r,this.useSkypeProtocolProperty=n,this.isAppointmentRteEnabled=s,this.context=o}var Ig,Mg,Fg=((window&&window.__extends||(Ig=function(t,i){return(Ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}Ig(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(Qg,Mg=ru.EventArgs),Qg);function Qg(t,i){var e=Mg.call(this)||this;return e.groupByName=t,e.collectionView=i,e}var Rg=(kg.prototype.initialize=function(){this.divIdGroupBy="#"+this.containerId+Pl.groupBySelectPostfix,this.gridComponent.setGroupHeaderFormat("<b>{value}</b>"),this.gridComponent.setShowGroups(!0),$(this.divIdGroupBy).append($("<option>",{value:"",text:$l.noGroupingOptionLabel}));for(var t=0,i=this.dataSetColumns;t<i.length;t++){var e=i[t];e.isHidden||e.attributes.type===sf.multiSelectOptionset||e.attributes.type===sf.formatPartyList||$(this.divIdGroupBy).append($("<option>",{value:e.name,text:e.displayName}))}this.menuGroupBy=new ru.input.Menu(this.divIdGroupBy);var n=$l.noGroupingOptionLabel;this.setGroupbyHeader(n);var r=this.containerId+Pl.groupBySelectPostfix+Pl.valuePostfix;$(this.divIdGroupBy).find("[wj-part='header']").attr("id",r),this.menuGroupBy.hostElement.setAttribute(Pl.ariaLabel,$l.groupByMenuHeaderLabel),this.menuGroupBy.hostElement.setAttribute(Pl.ariaDescribedBy,[this.containerId+Pl.groupBySelectPostfix+Pl.labelPostfix,r].join(" ")),this.menuGroupBy.hostElement.setAttribute(Pl.role,"combobox"),this.menuGroupBy.hostElement.setAttribute("aria-expanded",(!1).toString()),this.menuGroupBy.itemClicked.addHandler(bf.debounce.call(this,this.itemClickedHandler)),this.menuGroupBy.selectedIndexChanged.addHandler(this.onIndexChanged),this.menuGroupBy.isDroppedDownChanged.addHandler(bf.debounce.call(this,this.onDropDown))},Object.defineProperty(kg.prototype,"disableGroupMenu",{set:function(t){this.menuGroupBy.isDisabled=t,this.menuGroupBy.hostElement.tabIndex=t?-1:0},enumerable:!1,configurable:!0}),Object.defineProperty(kg.prototype,"groupingRequested",{get:function(){return this.groupingRequestedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(kg.prototype,"keyDown",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.keyDownEvent)&&(this.keyDownEvent=new ru.Event,this.menuGroupBy.hostElement.addEventListener(cf.eventKeyDown,this.raiseKeyDownEvent)),this.keyDownEvent},enumerable:!1,configurable:!0}),kg.prototype.applyGroupBy=function(t){var i,e=$l.noGroupingOptionLabel;t&&(i=this.gridComponent.getColumnByName(t),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(e=i.header)),this.setGroupbyHeader(e)},kg.prototype.findIndex=function(t){for(var i=0,e=0;e<this.getItemCount();e++)if(this.getValue(e)===t){i=e;break}return i},Object.defineProperty(kg.prototype,"itemClicked",{get:function(){return this.menuGroupBy.itemClicked},enumerable:!1,configurable:!0}),kg.prototype.getValue=function(t){return this.menuGroupBy.itemsSource[t].val},kg.prototype.getItemCount=function(){return this.menuGroupBy.itemsSource.length},Object.defineProperty(kg.prototype,"selectedIndex",{get:function(){return this.menuGroupBy.selectedIndex},set:function(t){this.menuGroupBy.selectedIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(kg.prototype,"isDroppedDown",{get:function(){return this.menuGroupBy.isDroppedDown},set:function(t){this.menuGroupBy.isDroppedDown=t},enumerable:!1,configurable:!0}),kg.prototype.setGroupbyHeader=function(t){this.menuGroupBy.header=t},kg.prototype.dispose=function(){this.gridComponent=null,this.dataSetColumns=null,this.ariaLiveRegionService=null,this.menuGroupBy=null},kg);function kg(t,i,e,n){var s=this;this.raiseKeyDownEvent=function(t){return s.keyDownEvent.raise(s,t)},this.itemClickedHandler=function(t,i){var e,n;s.isDroppedDown||(e=t.selectedValue,s.selectedValue=e,(0===(n=s.gridComponent.getGroupDescriptions()).length&&e||0<n.length&&n[0].propertyName!==e)&&s.groupingRequestedEvent.hasHandlers&&s.groupingRequestedEvent.raise(s,new Fg(e,null)))},this.onIndexChanged=function(t,i){s.ariaLiveRegionService.sendAssertiveMessage(s.menuGroupBy.getDisplayText());var e=s.menuGroupBy.dropDown.children.item(s.selectedIndex);e&&e.focus()},this.onDropDown=function(t,i){if(s.menuGroupBy.hostElement.setAttribute("aria-expanded",s.isDroppedDown.toString()),s.isDroppedDown){for(var e=s.menuGroupBy.dropDown.children,n=0;n<e.length;n++)e.item(n).tabIndex=0;var r=s.gridComponent.getGroupDescriptions();0<r.length?s.selectedIndex=s.findIndex(r[0].propertyName):s.selectedIndex=0}},this.gridComponent=i,this.dataSetColumns=e,this.containerId=t,this.groupingRequestedEvent=new ru.Event,this.ariaLiveRegionService=n}var Sg=(Dg.prototype.canGoBack=function(){return 0<this.grid.getPageIndex()||this.hasPreviousPage},Dg.prototype.isNextDisabled=function(){var t=this.grid.getPageIndex(),i=this.grid.getPageCount();return(0===i||t===i-1)&&!this.hasNextPage},Dg.prototype.getPreviousButtonElement=function(){return this.previous},Dg.prototype.getNextButtonElement=function(){return this.next},Object.defineProperty(Dg.prototype,"disablePagination",{set:function(t){this.previous.disabled=t||!this.canGoBack(),this.next.disabled=t||this.isNextDisabled(),this.first.disabled=t||!this.canGoBack()},enumerable:!1,configurable:!0}),Dg.prototype.clickFirstPage=function(){this.first.click()},Dg.prototype.clickPreviousPage=function(){this.previous.click()},Dg.prototype.clickNextPage=function(){this.next.click()},Dg.prototype.addPreviousPageClicked=function(t){this.previous.addEventListener("click",t)},Dg.prototype.addNextPageClicked=function(t){this.next.addEventListener("click",t)},Dg.prototype.addFirstPageClicked=function(t){this.first.addEventListener("click",t)},Dg.prototype.removePreviousPageClicked=function(t){this.previous.removeEventListener("click",t)},Dg.prototype.removeNextPageClicked=function(t){this.next.removeEventListener("click",t)},Dg.prototype.removeFirstPageClicked=function(t){this.first.removeEventListener("click",t)},Dg.prototype.setPaginationButtonsState=function(t){this.hasNextPage=t.paging.hasNextPage,this.hasPreviousPage=t.paging.hasPreviousPage,this.previous.disabled=!this.canGoBack(),this.next.disabled=this.isNextDisabled(),this.first.disabled=this.previous.disabled,this.current.innerText=MscrmCommon.ControlUtils.String.Format($l.currentPagingMask,bf.isUci()?this.grid.getPageIndex()+1:"function"==typeof t.paging.get_currentPageNumber?t.paging.get_currentPageNumber():1)},Dg.prototype.markAsLoadingNextPage=function(){this.loadingNextPageOnServer=!0},Dg.prototype.markAsLoadingPreviousPage=function(){this.loadingPreviousPageOnServer=!0},Dg.prototype.markAsLoadingFirstPage=function(){this.loadingFirstPageOnServer=!0},Dg.prototype.ensureCorrectPage=function(t){var i=t;this.loadingFirstPageOnServer&&(i.moveToFirstPage(),i.currentItem=null,this.loadingFirstPageOnServer=!1),this.loadingPreviousPageOnServer&&(i.moveToPreviousPage(),i.currentItem=null,this.loadingPreviousPageOnServer=!1),this.loadingNextPageOnServer&&(i.moveToNextPage(),i.currentItem=null,this.loadingNextPageOnServer=!1)},Dg.prototype.getCurrentPageNumber=function(){return this.grid.getCollectionDataView().pageIndex},Dg.prototype.dispose=function(){this.grid=null},Dg);function Dg(t,i,e,n,r){this.grid=r,this.previous=i,this.next=n,this.first=t,this.current=e,this.loadingFirstPageOnServer=!1,this.loadingPreviousPageOnServer=!1,this.loadingNextPageOnServer=!1,this.hasPreviousPage=!1,this.hasNextPage=!1}var Ng=(Tg.prototype.handleFormatItem=function(t){bf.isBtnHeaderColumn(t.columnName)&&(t.row===this.buttonRow?this.append(t.cell):this.remove(t.cell))},Tg.prototype.handleScrollPositionChanged=function(){this.buttonRow=-1},Tg.prototype.isSameButtonElement=function(t){return this.button.isSameNode(t)},Tg.prototype.focus=function(){this.button.focus()},Tg.prototype.append=function(t){this.container.parentElement!==t&&t.appendChild(this.container)},Tg.prototype.remove=function(t){this.container.parentElement===t&&this.container.parentElement.removeChild(this.container)},Tg.prototype.reformatBtnHeaderCell=function(t){var i,e=this.gridComponent.getColumnIndex(Pl.btnHeaderColumnName),n=this.gridComponent.findCellHtml(t,e),r=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n),s=r&&(n.parentElement.parentElement!==this.gridComponent.cells.hostElement||n.classList.contains(cf.detailCellCSSClass));MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||!r||s||(i=new ru.grid.CellRange(t,e,t,e),this.gridComponent.onFormatItem(new ru.grid.FormatItemEventArgs(this.gridComponent.cells,i,n)))},Tg.prototype.removeButton=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.container)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.container.parentElement)||this.container.parentElement.removeChild(this.container)},Tg.prototype.click=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.button)||this.button.click()},Tg.prototype.create=function(){this.container=document.createElement("div"),this.container.classList.add(cf.inputGroupButtonCSSClass),this.container.style.cssFloat=this.isRTL?"left":"right",this.button=document.createElement("button"),this.button.tabIndex=-1,this.button.classList.add(Pl.rowBtnClass),this.button.classList.add(Pl.navigableCell),this.button.classList.add(cf.buttonCSSClass),this.button.classList.add(cf.buttonDefaultCSSClass),this.button.style.textDecoration="none",this.button.style.border="0px",this.button.addEventListener(Pl.eventMouseDown,this.onRowButtonClick),this.button.addEventListener(Pl.eventKeyDown,this.onRowButtonKeyDown),this.customize(),this.container.appendChild(this.button)},Tg.prototype.customize=function(){},Tg.prototype.run=function(){},Tg.prototype.dispose=function(){this.button.removeEventListener(Pl.eventMouseDown,this.onRowButtonClick),this.button.removeEventListener(Pl.eventKeyDown,this.onRowButtonKeyDown),this.entityReference=null,this.container=null,this.button=null},Tg);function Tg(t,i,e){var n=this;this.onRowButtonClick=function(t){n.runButtonAction(t)},this.onRowButtonKeyDown=function(t){PA.isKeyCode(t,Pl.kbEnterCode)?n.runButtonAction(t):(PA.isKeyCode(t,Pl.kbArrowLeftCode)||PA.isKeyCode(t,Pl.kbArrowRightCode)||PA.isKeyCode(t,Pl.kbArrowUpCode)||PA.isKeyCode(t,Pl.kbArrowDownCode))&&n.rowButtonManager.handleKeyNavigation(t)},this.runButtonAction=function(t){null!=n.entityReference&&(PA.stopEventPropagation(t),n.run())},this.gridComponent=t,this.isRTL=i,this.buttonRow=-1,this.rowButtonManager=e,this.create()}var Og,Yg,Ug=((window&&window.__extends||(Og=function(t,i){return(Og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}Og(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(Hg,Yg=Ng),Hg.prototype.customize=function(){this.button.classList.add(Pl.rowBtnDeleteClass),this.button.title=$l.rowDeleteButtonTooltip},Hg.prototype.run=function(){var t,i;MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.entityReference)||(bf.isUci()?(t=[this.entityReference.Id.toString()],i=["Mscrm.DeleteSelectedRecord","Mscrm.HomepageGrid.[entityName].DeleteMenu".replace("[entityName]",this.entityReference.LogicalName)],this.dataSetService.dataSet.retrieveRecordCommand(t,i).then(function(t){!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&1==t.length&&t[0].canExecute&&t[0].execute()},function(t){})):this.dataSetService.dataSet.deleteEntityAndRefresh(this.entityReference.Id.toString(),this.entityReference.LogicalName))},Hg);function Hg(t,i,e,n){var r=Yg.call(this,t,i,n)||this;return r.dataSetService=e,r}var zg,Gg,Pg=((window&&window.__extends||(zg=function(t,i){return(zg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}zg(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(Vg,Gg=Ng),Vg.prototype.customize=function(){this.button.classList.add(Pl.rowBtnNavClass)},Vg.prototype.run=function(){this.navigationService.navigateToEntityForm(this.entityReference)},Vg);function Vg(t,i,e,n,r){var s=Gg.call(this,t,e,n)||this;return s.navigationService=i,s.button.title=r||$l.rowNavigationButtonTooltip,s}var Lg=(Jg.prototype.createActiveRowButtons=function(t){var i,e=[],n=this.gridComponent.selectedRowsNumbers();return this.gridComponent.selection.isSingleCell&&1==n.length&&(i=n[0],this.createRowButtons(t,e,i)),e},Jg.prototype.createRowButtons=function(t,i,e){var n,r,s=t.resolveEntityReference(e),o=null;s&&s.Id&&this.dataSetService&&(!(n=this.dataSetService.getRecordById(s.Id))||(r=n.getNamedReference())&&r.Name&&(o=MscrmCommon.ControlUtils.String.Format($l.rowNavigationButtonTooltipSpecific,r.Name))),i.push(Jg.createNavigationButton(this.gridComponent,this.navigationService,this.isRTL,t,e,s,o)),bf.isDeleteButtonEnabled()&&i.push(Jg.createDeleteButton(this.gridComponent,this.isRTL,this.dataSetService,t,e,s))},Jg.prototype.createRowHoverButtons=function(t){var i=[];return this.createRowButtons(t,i,null),i},Jg.createNavigationButton=function(t,i,e,n,r,s,o){var a=new Pg(t,i,e,n,o);return a.buttonRow=r,a.entityReference=s,a},Jg.createDeleteButton=function(t,i,e,n,r,s){var o=new Ug(t,i,e,n);return o.buttonRow=r,o.entityReference=s,o},Jg);function Jg(t,i,e,n,r){this.gridComponent=t,this.dataSetService=i,this.navigationService=e,this.isRTL=n}var Wg=(Object.defineProperty(_g.prototype,"selectedRowsButtons",{get:function(){return this.activeRowButtons},enumerable:!1,configurable:!0}),_g.prototype.onHoverRowUpdate=function(t){if(!(t===this.hoverRow||t>=this.gridComponent.totalRowsCount)){for(var i=0,e=this.hoverRowButtons;i<e.length;i++)e[i].buttonRow=this.hoverRow;this.refreshEntityReference(this.hoverRow),0<=t&&this.reformatBtnHeaderCell(t),0<=this.hoverRow&&this.reformatBtnHeaderCell(this.hoverRow)}},_g.prototype.reformatBtnHeaderCell=function(t){for(var i=0,e=this.hoverRowButtons;i<e.length;i++)e[i].reformatBtnHeaderCell(t)},_g.prototype.refreshEntityReference=function(t){for(var i=this.resolveEntityReference(t),e=0,n=this.hoverRowButtons;e<n.length;e++)n[e].entityReference=i},_g.prototype.handleKeyNavigation=function(t){for(var i=0;i<this.activeRowButtons.length;i++)if(this.activeRowButtons[i].isSameButtonElement(t.srcElement)){var e,n=PA.isKeyCode(t,Pl.kbArrowRightCode)?--i:++i;return void(0<=n&&n<this.activeRowButtons.length&&!PA.isKeyCode(t,Pl.kbArrowUpCode)&&!PA.isKeyCode(t,Pl.kbArrowDownCode)?(PA.preventDefault(t),this.activeRowButtons[n].focus()):(e=this.gridComponent.selection,PA.isKeyCode(t,Pl.kbArrowLeftCode)?e.col=e.col2=--e.col:PA.isKeyCode(t,Pl.kbArrowUpCode)?e.row=e.row2=--e.row:PA.isKeyCode(t,Pl.kbArrowDownCode)&&(e.row=e.row2=++e.row),0<=e.row&&e.row<this.gridComponent.totalRowsCount&&this.gridComponent.select(e)))}},_g.prototype.resolveEntityReference=function(t){var i=null,e=null,n=null;return 0<=t&&(i=this.gridComponent.getCellData(t,0,!1)),MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(i)||(e=this.dataSetService.records[i]),MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||(n=new hd(e.getRecordId(),e.getPrimaryEntityLogicalName())),n},_g.prototype.handleScrollPositionChanged=function(){this.hoverRow=-1;for(var t=0,i=this.hoverRowButtons;t<i.length;t++)i[t].handleScrollPositionChanged()},_g.prototype.handleFormatItem=function(t){for(var i=!1,e=0,n=this.activeRowButtons;e<n.length;e++)(o=n[e]).handleFormatItem(t),o.buttonRow==t.row&&(i=!0);for(var r=0,s=this.hoverRowButtons;r<s.length;r++){var o=s[r];i||o.handleFormatItem(t)}},_g.prototype.dispose=function(){for(var t=0,i=this.hoverRowButtons;t<i.length;t++)i[t].dispose();for(var e=0,n=this.activeRowButtons;e<n.length;e++)n[e].dispose();this.gridComponent.selectionChanged.removeHandler(this.selectionChangedHandler)},_g);function _g(t,i,e,n,r,s,o,a){var h=this;this.selectionChangedHandler=function(t,i){for(var e,n=0,r=h.activeRowButtons;n<r.length;n++){var s=r[n];s.removeButton(),s.dispose()}h.activeRowButtons.length=0,h.activeRowButtons=h.rowButtonFactory.createActiveRowButtons(h),0<h.activeRowButtons.length&&(h.gridComponent.selection.col===h.gridComponent.selection.col2&&h.gridComponent.selection.col===h.gridComponent.getColumnsCount()-1&&(e=h.activeRowButtons[h.activeRowButtons.length-1],window.setTimeout(function(){e.focus()},200)),h.gridComponent.refresh())},this.handleMouseMoveForRow=function(t,i){var e=h.gridComponent.hitTest(i),n=h.hoverRow;MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.panel)||e.panel.cellType!==ru.grid.CellType.Cell?h.hoverRow=-1:h.hoverRow=e.row,h.onHoverRowUpdate(n)},this.handleMouseLeaveForRow=function(t,i){h.hoverRow=-1},this.gridComponent=t,this.dataSetService=i,this.hoverRow=-1,this.hoverRowButtons=[],this.activeRowButtons=[],this.rowButtonFactory=new Lg(t,i,n,s,a),t.mouseMove.addHandler(this.handleMouseMoveForRow),t.mouseLeave.addHandler(this.handleMouseLeaveForRow),t.selectionChanged.addHandler(this.selectionChangedHandler),this.hoverRowButtons=this.rowButtonFactory.createRowHoverButtons(this)}var Xg=(Kg.notReadableCSSClass="cc-gridcell-not-readable",Kg.securedCSSClass="cc-gridcell-secured",Kg.requiredCSSClass="cc-gridcell-required",Kg.recommendedCSSClass="cc-gridcell-recommended",Kg.notEditableCSSClass="cc-gridcell-not-editable",Kg);function Kg(){}var Zg=(Object.defineProperty(qg.prototype,"selectedRowId",{get:function(){return null==this.selectedRow?null:this.gridComponent.getCellData(this.selectedRow,0,!1)},enumerable:!1,configurable:!0}),qg.prototype.clearSelectedRowFieldAccess=function(t){if(!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.selectedRow)||this.selectedRow<0)){for(var i=0;i<t.length;i++){var e,n=this.gridComponent.getColumnIndex(t[i].name),r=this.gridComponent.isColumnVisible(t[i].name);n<0||!r||(e=this.gridComponent.findCellHtml(this.selectedRow,n),MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||this.removeStyles(e,n))}this.selectedRow=null}},qg.prototype.applyStyles=function(r,s,t){var o=this;t.then(function(t){var i,e,n;MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.gridComponent)||(i=o.gridComponent.findCellHtml(r,s),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(t.isReadable||(e=o.gridComponent.getColumnType(s),o.gridComponent.formatDisplay(cf.notReadableString,i,e),ru.toggleClass(i,Xg.notReadableCSSClass,!0)),o.gridComponent.isEditable&&(t.isEditable?(ru.toggleClass(i,Xg.requiredCSSClass,t.isRequired()),ru.setAttribute(i,Pl.ariaRequired,t.isRequired()),o.createAcessibilityInstruction(i)):(o.addLockIcon(i),ru.setAttribute(i,Pl.ariaReadOnly,!0)),ru.toggleClass(i,Xg.recommendedCSSClass,t.isRecommended()),i.classList.contains(Xg.recommendedCSSClass)&&i.style.setProperty("padding-right","15px","important"),n=t.isSecured,MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.gridComponent.selection)||(n=(o.gridComponent.selection.row2!==r||o.gridComponent.selection.col2!==s||!o.gridComponent.activeEditor)&&n),ru.toggleClass(i,Xg.securedCSSClass,n))))})},qg.prototype.getColumnIndex=function(t){return this.gridComponent.getColumnIndex(t)},qg.prototype.isColumnVisible=function(t){return this.gridComponent.isColumnVisible(t)},qg.prototype.isRecordSelected=function(t){return-1!==this.gridComponent.selectedRows.indexOf(t)},qg.prototype.createAcessibilityInstruction=function(t){var i=t.id+Pl.instructionPostfix;MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.getElementById(i))&&bf.createCellAccessibilityMessage($l.accessibilityStartEditingInstruction,t,i)},qg.prototype.addLockIcon=function(t){var i;t.querySelector("span[editable-grid-icon]")||((i=document.createElement("span")).setAttribute("editable-grid-icon","true"),i.setAttribute("aria-hidden","true"),i.style.fontFamily="Dyn CRM Symbol Grid",i.innerHTML="&#xEA6B",t.insertBefore(i,t.firstChild))},qg.prototype.removeLockIcon=function(t){var i=t.querySelector("span[editable-grid-icon]");i&&t.removeChild(i)},qg.prototype.removeStyles=function(t,i){var e;t.classList.contains(Xg.notReadableCSSClass)&&(e=this.gridComponent.getColumnType(i),this.gridComponent.formatDisplay(cf.undefinedString,t,e)),ru.removeClass(t,Xg.notReadableCSSClass),ru.removeClass(t,Xg.securedCSSClass),ru.removeClass(t,Xg.requiredCSSClass),ru.removeClass(t,Xg.recommendedCSSClass),this.removeLockIcon(t)},qg.prototype.dispose=function(){this.gridComponent=null,this.selectedRow=null},qg);function qg(t){this.gridComponent=t}Qt({target:"Array",proto:!0},{fill:function(t,i,e){for(var n=Rt(this),r=jt(n.length),s=arguments.length,o=yt(1<s?i:void 0,r),a=2<s?e:void 0,h=void 0===a?r:yt(a,r);o<h;)n[o++]=t;return n}}),Qi("fill");var $g=(tw.prototype.createDropdownEditor=function(){this.editorRoot=document.createElement("div"),this.input=new ru.input.Menu(this.editorRoot),this.input.maxDropDownHeight=Pl.customDropDownMaxHeight,this.cleanupLayout(this.input),this.fillDropdown(),this.setSelectedValue(),this.input.selectedIndexChanged.addHandler(this.selectedIndexChangedEventHandler),this.input.addEventListener(this.editorRoot,cf.eventKeyDown,this.keyDownHandler),this.input.itemClicked.addHandler(this.itemClickedEventHandler),this.eventArgs.cell.appendChild(this.editorRoot),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),this.input.focus()},tw.prototype.cleanupLayout=function(t){this.cleanupNode(t.hostElement)},tw.prototype.cleanupNode=function(t){if(t.nodeType===Node.ELEMENT_NODE&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.childNodes))for(var i=0;i<t.childNodes.length;i++)this.cleanupNode(t.childNodes.item(i));("BUTTON"===t.nodeName||"wj-part"in t.attributes&&"btn"===t.attributes.getNamedItem("wj-part").nodeValue)&&"tabindex"in t.attributes&&t.attributes.removeNamedItem("tabindex")}},tw.prototype.spaceKeyAction=function(t){this.input.isDroppedDown=!this.input.isDroppedDown,this.setSelectedValue(),PA.stopEventPropagation(t)},tw.prototype.fillDropdown=function(){this.input.displayMemberPath=this.textPropertyName,this.input.selectedValuePath=this.valuePropertyName;for(var t=[],i=0,e=this.getOptions();i<e.length;i++){var n=e[i];-1===n.Value&&!this.showEmptyOption||t.push({text:n.Label,value:n.Value})}this.input.itemsSource=t},tw.prototype.setSelectedValue=function(){for(var t=this.getCurrentValue(),i=0,e=this.input.itemsSource;i<e.length;i++){var n=e[i];if(n[this.valuePropertyName]==t||null==n[this.valuePropertyName]&&null==t){this.input.selectedValue=n[this.valuePropertyName],this.input.header=n[this.textPropertyName];break}}},tw.prototype.getOptions=function(){return[]},tw.prototype.getCurrentValue=function(){return 0},tw.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.editorRoot),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.input.selectedIndexChanged.removeHandler(this.selectedIndexChangedEventHandler),this.input.itemClicked.removeHandler(this.itemClickedEventHandler),this.input.dispose()},tw);function tw(t,i,e,n){var r=this;this.textPropertyName="text",this.valuePropertyName="value",this.selectedIndexChangedEventHandler=function(){r.ariaLiveRegionService.sendAssertiveCellValueMessage(r.input.text,r.datasetColumn.displayName)},this.itemClickedEventHandler=function(){r.gridControl.finishEditing()},this.editEndingEventHandler=function(t,i){var e;r.dispose(),i.cancel||(i.cancel=!0,e=r.input.selectedItem[r.textPropertyName],r.gridControl.setCellData(i.row,i.col,e,!0,!1),r.gridControl.focus())},this.keyDownHandler=function(t){var i=r.input.itemsSource.length;PA.isKeyCode(t,Pl.kbArrowUpCode)&&r.input.isDroppedDown&&(r.input.selectedIndex=(r.input.selectedIndex-1+i)%i,PA.stopEventPropagation(t)),PA.isKeyCode(t,Pl.kbArrowDownCode)&&(r.input.isDroppedDown?(r.input.selectedIndex=(r.input.selectedIndex+1)%i,PA.stopEventPropagation(t)):t.altKey&&(r.input.isDroppedDown=!0)),PA.isKeyCode(t,Pl.kbSpaceCode)&&r.spaceKeyAction(t)},this.gridControl=t,this.eventArgs=i,this.showEmptyOption=!(bf.columnRequired(e)||bf.columnHasDefaultValue(e)),this.datasetColumn=e,this.ariaLiveRegionService=n}var iw,ew,nw=((window&&window.__extends||(iw=function(t,i){return(iw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}iw(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(rw,ew=$g),rw.prototype.createBooleanEditor=function(){this.createDropdownEditor()},rw.prototype.getOptions=function(){return bf.getOptionsFromAttributes(this.datasetColumn)},rw.prototype.getCurrentValue=function(){var t=this.datasetColumn.attributes.defaultValue?1:0;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.value)?t:this.value},rw.prototype.spaceKeyAction=function(t){var i=this.input.itemsSource.length;PA.isKeyCode(t,Pl.kbSpaceCode)&&(this.input.selectedIndex=(this.input.selectedIndex+1)%i,this.gridControl.finishEditing(),PA.stopEventPropagation(t))},rw);function rw(t,i,e,n,r){var s=ew.call(this,t,i,n,r)||this;return s.value=e,s.createBooleanEditor(),s}var sw=(ow.prototype.createDateTimeEditor=function(){this.enableTimeEditor=MscrmCommon.ControlUtils.String.EqualsIgnoreCase(this.columnFormat,sf.formatDateAndTime)||MscrmCommon.ControlUtils.String.EqualsIgnoreCase(this.columnFormat,sf.dateAndTime),this.editorRoot=document.createElement("div");var t,i=document.createElement("div");this.editorRoot.appendChild(i),this.inputDate=new ru.input.InputDate(i),this.inputDate.format=this.dateFormattingInfo.ShortDatePattern.replace(/\//g,this.dateFormattingInfo.DateSeparator),this.inputDate.calendar.firstDayOfWeek=this.dateFormattingInfo.FirstDayOfWeek,this.inputDate.isRequired=!1,this.inputDate.value=this.theDateTime,this.inputDate.inputElement.classList.add(Pl.calendarIconGlyph),this.inputDate.isDroppedDownChanging.addHandler(this.setDefaultDateTimeIfEmpty),this.enableTimeEditor?(t=document.createElement("div"),i.setAttribute("style",MscrmCommon.ControlUtils.String.Format("width: {0}",cf.inputDateRatio)),t.setAttribute("style",MscrmCommon.ControlUtils.String.Format("width: {0}",cf.inputTimeRatio)),this.editorRoot.appendChild(t),this.inputTime=new ru.input.InputTime(t),this.inputTime.inputType="text",this.inputTime.step=1,this.inputTime.format=this.dateFormattingInfo.ShortTimePattern.replace(/:/g,this.dateFormattingInfo.TimeSeparator),this.inputTime.isRequired=!1,this.inputTime.value=this.theDateTime,this.inputDate.valueChanged.addHandler(this.dateOrTimeChanged),this.inputDate.addEventListener(this.editorRoot,cf.eventKeyDown,this.handleDateKeyPressed),this.inputTime.valueChanged.addHandler(this.dateOrTimeChanged),this.inputTime.isDroppedDownChanging.addHandler(this.setDefaultDateTimeIfEmpty)):this.inputDate.valueChanged.addHandler(this.dateChanged),this.editorRoot.setAttribute("style","height: 100%"),this.eventArgs.cell.appendChild(this.editorRoot),this.inputDate.focus(),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler)},ow.prototype.parseDateTime=function(t){var i=null;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.getMonth)?"string"==typeof t&&NaN!==Date.parse(t)&&(i=new Date(t)):i=t,null!==i?i:null},ow.prototype.handleDateKeyPressed=function(t){if(PA.isKeyCode(t,Pl.kbTabCode)){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.activeElement))return;var i,e,n=$(this).find("input");2===n.length&&(i=n[0],e=n[1],document.activeElement.isSameNode(i)&&!t.shiftKey?(PA.stopEventPropagation(t),window.setTimeout(function(){e.focus()},50)):document.activeElement.isSameNode(e)&&t.shiftKey&&(PA.stopEventPropagation(t),window.setTimeout(function(){i.focus()},50)))}},ow.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.editorRoot),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.enableTimeEditor?(this.inputDate.valueChanged.removeHandler(this.dateOrTimeChanged),this.inputTime.valueChanged.removeHandler(this.dateOrTimeChanged),this.inputTime.dispose()):this.inputDate.valueChanged.removeHandler(this.dateChanged),this.inputDate.dispose()},ow);function ow(t,i,e,n,r,s,o){var a=this;this.dateChanged=function(t,i){if(null===t.value)return a.gridControl.activeEditor.value=null,void(a.theDateTime=null);a.theDateTime=t.value,a.inputDate.value=a.theDateTime,2===a.dateTimeBehavior?a.gridControl.activeEditor.value=a.formatDateShort(a.theDateTime,!1):3===a.dateTimeBehavior?a.gridControl.activeEditor.value=a.formatTime(a.timeZoneService.browserTimeZoneToUtc(a.theDateTime),a.dateTimeBehavior):a.gridControl.activeEditor.value=a.formatTime(a.timeZoneService.userLocalToUtc(a.theDateTime),a.dateTimeBehavior)},this.dateOrTimeChanged=function(t,i){if(null===t.value)return a.gridControl.activeEditor.value=null,void(a.theDateTime=null);a.theDateTime=ru.DateTime.fromDateTime(t.value,a.inputTime.value),a.inputDate.value=a.theDateTime,a.inputTime.value=a.theDateTime,3===a.dateTimeBehavior?a.gridControl.activeEditor.value=a.formatTime(a.timeZoneService.browserTimeZoneToUtc(a.theDateTime),a.dateTimeBehavior):a.gridControl.activeEditor.value=a.formatTime(a.timeZoneService.userLocalToUtc(a.theDateTime),a.dateTimeBehavior)},this.setDefaultDateTimeIfEmpty=function(){var t;!a.inputDate.isDroppedDown&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.theDateTime)&&((t=new Date).setHours(0),t.setMinutes(0),t.setSeconds(0),a.inputDate.value=t)},this.editEndingEventHandler=function(t,i){a.dispose(),i.cancel||(i.cancel=!0,a.gridControl.setCellData(i.row,i.col,a.theDateTime,!0,!1))},this.gridControl=t,this.eventArgs=i,this.columnFormat=n,this.theDateTime=MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)?null:this.parseDateTime(e),this.timeZoneService=s,this.dateTimeBehavior=r,this.formatTime=function(t,i){return a.timeZoneService.formatTime(t,i)},this.formatDateShort=function(t,i){return a.timeZoneService.formatDateShort(t,i)},this.dateFormattingInfo=o,this.createDateTimeEditor()}var aw=(Object.defineProperty(hw.prototype,"valueChanged",{get:function(){return this.valueChangedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hw.prototype,"value",{get:function(){return this.input.value},set:function(t){this.input.value=t},enumerable:!1,configurable:!0}),hw.prototype.focus=function(){this.input.focus()},hw.prototype.addEventListener=function(t,i,e,n){this.input.addEventListener(t,i,e,n)},hw.prototype.removeEventListener=function(t,i,e){this.input.removeEventListener(t,i,e)},hw.prototype.attachEventHandlers=function(){this.input.valueChanged.addHandler(this.handleValueChanged),this.addEventListener(this.rootElement,cf.eventDoubleClick,function(t){return PA.stopEventPropagation(t)})},hw.prototype.dettachEventHandlers=function(){this.input.valueChanged.removeHandler(this.handleValueChanged),this.removeEventListener(this.rootElement,cf.eventDoubleClick)},hw.prototype.createInput=function(t,i){var e=new ru.input.InputNumber(t);return e.max=i,e.min=0,e.step=1,e.showSpinner=!1,e.isRequired=!1,e},hw.prototype.createLabel=function(t){var i=document.createElement("div");return i.classList.add("label"),t.appendChild(i),i},hw.prototype.updateLabelText=function(){this.label.innerText=1==this.value?this.singularLabel:this.pluralLabel},hw.prototype.dispose=function(){this.disposed||(this.dettachEventHandlers(),this.valueChangedEvent.removeAllHandlers(),this.valueChangedEvent=null,this.input.dispose(),this.label=null,this.disposed=!0)},hw);function hw(t,i,e,n){var r=this;this.valueChangedEvent=new ru.Event,this.disposed=!1,this.handleValueChanged=function(t,i){r.updateLabelText(),r.valueChangedEvent.raise(r,i)},this.pluralLabel=e,this.singularLabel=i,this.rootElement=document.createElement("div"),this.input=this.createInput(this.rootElement,n),this.label=this.createLabel(this.rootElement),this.attachEventHandlers();var s=MscrmCommon.ControlUtils.String.Format("width: {0}",cf.durationInputRatio);this.rootElement.setAttribute("style",s),this.rootElement.classList.add("input-control"),t.appendChild(this.rootElement),this.updateLabelText()}var cw,uw,lw=(fw.prototype.createDurationEditor=function(){this.editorRoot=document.createElement("div"),this.editorRoot.classList.add(cf.durationEditorCssClass),this.editorRoot.style.minWidth=MscrmCommon.ControlUtils.String.Format("{0}px",cf.durationEditorMinWidth),this.inputDay=new aw(this.editorRoot,$l.durationDayLabel,$l.durationDaysLabel,cf.durationMaxDay),this.inputHour=new aw(this.editorRoot,$l.durationHourLabel,$l.durationHoursLabel,cf.durationMaxHour),this.inputMinute=new aw(this.editorRoot,$l.durationMinuteLabel,$l.durationMinutesLabel,cf.durationMaxMinute),this.eventArgs.cell.appendChild(this.editorRoot),this.updateInputs(),this.updateDisplayValue(),this.inputDay.addEventListener(this.editorRoot,cf.eventKeyDown,this.keyDownHandler),this.inputDay.valueChanged.addHandler(this.valueChanged),this.inputHour.valueChanged.addHandler(this.valueChanged),this.inputMinute.valueChanged.addHandler(this.valueChanged),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),this.inputMinute.focus()},fw.prototype.getValueOrZero=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?0:t},fw.prototype.updateInputs=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.theDuration)||(this.inputDay.value=Math.floor(this.theDuration/cf.minutesInOneDay),this.inputHour.value=Math.floor(this.theDuration%cf.minutesInOneDay/cf.minutesInOneHour),this.inputMinute.value=this.theDuration%cf.minutesInOneHour)},fw.prototype.updateDisplayValue=function(){var t=MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.theDuration)?MscrmCommon.CommonControl.DefaultValueLabel:this.theDuration>=cf.minutesInOneDay?MscrmCommon.ControlUtils.String.Format("{0} {1}",(this.theDuration/cf.minutesInOneDay).toFixed(2),this.theDuration>cf.minutesInOneDay?$l.durationDaysLabel:$l.durationDayLabel):this.theDuration>=cf.minutesInOneHour?MscrmCommon.ControlUtils.String.Format("{0} {1}",(this.theDuration/cf.minutesInOneHour).toFixed(2),this.theDuration>cf.minutesInOneHour?$l.durationHoursLabel:$l.durationHourLabel):MscrmCommon.ControlUtils.String.Format("{0} {1}",this.theDuration,1<this.theDuration?$l.durationMinutesLabel:$l.durationMinuteLabel);this.gridControl.activeEditor.value=t},fw.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.editorRoot),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.inputDay.valueChanged.removeHandler(this.valueChanged),this.inputHour.valueChanged.removeHandler(this.valueChanged),this.inputMinute.valueChanged.removeHandler(this.valueChanged),this.inputDay.dispose(),this.inputHour.dispose(),this.inputMinute.dispose()},fw);function fw(t,i,e,n){var s=this;this.valueChanged=function(t,i){var e,n,r;MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.inputDay.value)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.inputHour.value)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.inputMinute.value)?s.theDuration=null:(e=s.getValueOrZero(s.inputDay.value),n=s.getValueOrZero(s.inputHour.value),r=s.getValueOrZero(s.inputMinute.value),s.theDuration=e*cf.minutesInOneDay+n*cf.minutesInOneHour+r),s.updateDisplayValue()},this.keyDownHandler=function(t){if(PA.isKeyCode(t,Pl.kbTabCode)){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.activeElement))return;var i,e,n,r=$(s.editorRoot).find("input");3===r.length&&(i=r[0],e=r[1],n=r[2],document.activeElement.isSameNode(n)&&t.shiftKey||document.activeElement.isSameNode(i)&&!t.shiftKey?(PA.stopEventPropagation(t),window.setTimeout(function(){s.inputHour.focus()},50)):document.activeElement.isSameNode(e)&&(t.shiftKey?(PA.stopEventPropagation(t),window.setTimeout(function(){s.inputDay.focus()},50)):(PA.stopEventPropagation(t),window.setTimeout(function(){s.inputMinute.focus()},50))))}PA.isKeyCode(t,Pl.kbArrowUpCode)&&PA.stopEventPropagation(t)},this.editEndingEventHandler=function(t,i){s.dispose(),i.cancel||(i.cancel=!0,s.gridControl.setCellData(i.row,i.col,s.theDuration,!0,!1),s.updateDisplayValue())},this.gridControl=t,this.eventArgs=i,this.theDuration=MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)?null:e,this.createDurationEditor()}(uw=cw={})[uw.EnableFilter=0]="EnableFilter",uw[uw.DisableFilter=1]="DisableFilter",uw[uw.RegularSelection=2]="RegularSelection";var dw=(Aw.buildRegularOption=function(t,i,e){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))throw MscrmCommon.ControlUtils.String.Format(Pl.ErrorInvalidParameter,"record");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))throw MscrmCommon.ControlUtils.String.Format(Pl.ErrorInvalidParameter,"columns");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))throw MscrmCommon.ControlUtils.String.Format(Pl.ErrorInvalidParameter,"htmlEncode");var n=new Aw;return n.Id=t.getRecordId(),n.DisplayValue=Aw.getRegularDisplayValue(t,i,e),n.Type=cw.RegularSelection,n},Aw.getRegularDisplayValue=function(t,i,e){for(var n="",r=0;r<i.length;r++)n+=MscrmCommon.ControlUtils.String.Format('<div class="cc-grid-lookupitem-field-{0}">{1}</div>',r,e(t.getFormattedValue(i[r].name)));return MscrmCommon.ControlUtils.String.Format('<div class="cc-grid-lookupitem">{0}</div>',n)},Aw.buildSpecialOption=function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))throw MscrmCommon.ControlUtils.String.Format(Pl.ErrorInvalidParameter,"optionType");if(t===cw.RegularSelection)throw"This method should only be used for special lookup options.";var i=new Aw;return i.Id=Aw.getSpecialId(t),i.DisplayValue=Aw.getSpecialDisplayValue(t),i.Type=t,i},Aw.getSpecialDisplayValue=function(t){switch(t){case cw.EnableFilter:return $l.enableLookupFilter;case cw.DisableFilter:return $l.disableLookupFilter;default:throw Error("Unknown special lookup option")}},Aw.getSpecialId=function(t){switch(t){case cw.EnableFilter:return Aw.enableFilterId;case cw.DisableFilter:return Aw.disableFilterId;default:throw Error("Unknown special lookup option")}},Aw.enableFilterId="ENABLE_FILTER",Aw.disableFilterId="DISABLE_FILTER",Aw);function Aw(){}var gw,ww,mw=((window&&window.__extends||(gw=function(t,i){return(gw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}gw(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(pw,ww=ru.input.AutoComplete),pw.prototype._setText=function(t){this.selectedItem instanceof dw&&this.selectedItem.Type!=cw.RegularSelection||ww.prototype._setText.call(this,t)},pw);function pw(){return null!==ww&&ww.apply(this,arguments)||this}var vw=(bw.prototype.injectControl=function(){this.control.classList.add("wj-input-group-btn"),this.control.classList.add("cc-lookup-nav-button"),this.parentContainer.appendChild(this.control),this.parentContainer.style.paddingRight=this.control.clientWidth+"px"},bw.prototype.createControl=function(){var t=document.createElement("div");return this.actionButton=document.createElement("button"),t.appendChild(this.actionButton),this.actionButton.classList.add("wj-btn-default"),this.actionButton.classList.add("wj-btn"),this.actionButton.classList.add(Pl.navigableCell),this.actionButton.addEventListener("click",this.clickHandler),t},bw.prototype.setEntityReference=function(t){this.entityReference=t},bw.prototype.focus=function(){this.actionButton.focus()},bw.prototype.dispose=function(){this.parentContainer.removeChild(this.control),this.parentContainer=null,this.control=null,this.actionButton=null,this.navigationService=null,this.entityReference=null},bw);function bw(t,i,e){var n=this;this.clickHandler=function(t){n.entityReference&&null!=n.entityReference&&n.navigationService.navigateToEntityForm(n.entityReference)},this.parentContainer=t,this.navigationService=e,this.entityReference=i,this.control=this.createControl(),this.injectControl()}var Ew=(Bw.prototype.createEditor=function(){this.editorRoot=document.createElement("div"),this.eventArgs.cell.appendChild(this.editorRoot),this.autoCompleteControl=this.createControlOnDOM(),this.autoCompleteControl.addEventListener(this.editorRoot,cf.eventKeyDown,this.handleKeyPressed),this.column.grid.cellEditEnding.addHandler(this.editEndingEventHandler),this.navigationControl=new vw(this.eventArgs.cell,this.selectedRecord,this.navigationService),this.getLookupData()},Bw.prototype.createControlOnDOM=function(){return new mw(this.editorRoot,{isRequired:!1,isContentHtml:!0,maxDropDownHeight:cf.maxDropDownHeight})},Object.defineProperty(Bw.prototype,"selectedName",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.selectedRecord)?cf.undefinedString:this.selectedRecord.Name},enumerable:!1,configurable:!0}),Bw.prototype.enableEventHandlers=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.autoCompleteControl)||(this.autoCompleteControl.selectedIndexChanged.addHandler(this.selectionChangedHandler),this.autoCompleteControl.textChanged.addHandler(this.textChangedHandler),this.autoCompleteControl.isDroppedDownChanging.addHandler(this.isDroppedDownChangingHandler)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter.updatedDataSetEvent)||this.dataAdapter.updatedDataSetEvent.addHandler(this.updatedLookupDataSetHandler)},Bw.prototype.disableEventHandlers=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.autoCompleteControl)||(this.autoCompleteControl.selectedIndexChanged.removeHandler(this.selectionChangedHandler),this.autoCompleteControl.textChanged.removeHandler(this.textChangedHandler),this.autoCompleteControl.isDroppedDownChanging.removeHandler(this.isDroppedDownChangingHandler)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter.updatedDataSetEvent)||this.dataAdapter.updatedDataSetEvent.removeHandler(this.updatedLookupDataSetHandler)},Bw.prototype.dispose=function(){this.column.grid.cellEditEnding.removeHandler(this.editEndingEventHandler),this.eventArgs.cell.removeChild(this.editorRoot),this.disableEventHandlers(),this.autoCompleteControl.dispose(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter)||this.dataAdapter.dispose(),this.editorRoot=null,this.autoCompleteControl=null,this.dataAdapter=null,this.navigationControl.dispose()},Object.defineProperty(Bw.prototype,"isDisposed",{get:function(){return null==this.autoCompleteControl},enumerable:!1,configurable:!0}),Bw);function Bw(t,i,e,n,r,s,o,a,h){var c=this;this.getLookupData=function(){c.perfTool.tryStart(bd.RetrieveLookup),c.dataSet.getLookupDataSet(c.column.binding).then(function(t){c.perfTool.tryStop(bd.RetrieveLookup),c.isDisposed||(c.dataAdapter.initialize(t,c.dataSet,c.htmlEncode),c.autoCompleteControl.selectedValuePath=c.dataAdapter.selectedValuePath,c.autoCompleteControl.displayMemberPath=c.dataAdapter.displayMemberPath,c.autoCompleteControl.itemsSourceFunction=c.dataAdapter.itemsSourceFunction,c.dataAdapter.setRefreshEnabled(),c.enableEventHandlers(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(c.selectedRecord)?c.dataAdapter.clearUserTypedFilter():c.autoCompleteControl.text=c.selectedRecord.Name,c.autoCompleteControl.focus())},function(t){c.perfTool.tryStop(bd.RetrieveLookup),c.autoCompleteControl.isDisabled=!0})},this.selectionChangedHandler=function(){var t,i;c.autoCompleteControl.isDisabled||(t=c.autoCompleteControl.selectedItem,(!(i=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))&&c.autoCompleteControl.text===MscrmCommon.ControlUtils.String.Empty||i)&&(i&&t.Type!==cw.RegularSelection&&event.type===cf.eventKeyDown&&!PA.isKeyCode(event,Pl.kbEnterCode)||(c.selectedRecord=c.dataAdapter.processSelection(t,c.selectedRecord)),c.ariaLiveRegionService.sendAssertiveCellValueMessage(c.autoCompleteControl.text,c.column.header),i&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(c.selectedRecord)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(c.selectedRecord.Name)&&(c.selectedRecord.Name=c.autoCompleteControl.text),c.column.grid.activeEditor.value=c.selectedName,c.navigationControl&&c.navigationControl.setEntityReference(c.selectedRecord)))},this.handleKeyPressed=function(t){if(PA.isKeyCode(t,Pl.kbTabCode)){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.activeElement))return;c.navigationControl&&(PA.stopEventPropagation(t),window.setTimeout(function(){c.navigationControl.focus()},50))}PA.isKeyCode(t,Pl.kbArrowUpCode)&&PA.stopEventPropagation(t),PA.isKeyCode(t,Pl.kbEnterCode)&&c.autoCompleteControl.selectedIndexChanged.raise(c)},this.textChangedHandler=function(){c.autoCompleteControl.text===MscrmCommon.ControlUtils.String.Empty&&(c.dataAdapter.clearUserTypedFilter(),c.cancelCloseDropDown=!0)},this.isDroppedDownChangingHandler=function(t,i){1==c.autoCompleteControl.isDroppedDown&&c.cancelCloseDropDown&&(i.cancel=!0,c.cancelCloseDropDown=!1)},this.updatedLookupDataSetHandler=function(){c.autoCompleteControl._itemSourceFunctionCallback(c.dataAdapter.itemsSource)},this.editEndingEventHandler=function(t,i){c.dispose(),i.cancel||(i.cancel=!0,c.selectedRecord!=c.initialSelection&&c.column.grid.setCellData(i.row,i.col,c.selectedRecord,!1,!1))},this.navigationService=o,this.ariaLiveRegionService=a,this.column=e,this.dataAdapter=n,this.dataSet=r,this.htmlEncode=s,this.eventArgs=t,this.selectedRecord=i,this.initialSelection=i,this.perfTool=h,this.createEditor()}var Cw=(jw.prototype.getSolOnInitialized=function(){var r=this.isControlDisabled,t=this.eventArgs.cell.getBoundingClientRect(),s=t.top,o=t.bottom;return bf.isUci()?function(t,i){this.gridMSOSEditor=$("#"+cf.msosId),this.positionSOL=function(t,i,e){var n,r,s,o,a;this.displayBelowInput=!1,this.frameHeight=document.documentElement.clientHeight,t>this.frameHeight?this.gridMSOSEditor.hide():(this.gridMSOSEditor.show(),n=this.gridMSOSEditor.offset().top,r=this.gridMSOSEditor.offset().top+this.gridMSOSEditor.outerHeight(!0),(t!=n&&i!=r||e)&&(s=this.$container.offset().top+this.currentSelectionContainerExpandedMaxHeight+this.$input.outerHeight(),o=3*cf.currentSelectionContainerRowHeight+(this.$currentSelectionContainer.css("padding-top")?parseFloat(this.$currentSelectionContainer.css("padding-top").split("px")[0]):0)+(this.$currentSelectionContainer.css("padding-bottom")?parseFloat(this.$currentSelectionContainer.css("padding-bottom").split("px")[0]):0)+this.$input.outerHeight(),$(document.documentElement).css("clear","both"),(s>this.frameHeight||!e)&&(t<this.frameHeight-i?(document.documentElement.clientHeight-t<o?this.$container.css("min-height",o):this.$container.css("max-height",document.documentElement.clientHeight-t),e||(this.gridMSOSEditor.css("top",t),this.gridMSOSEditor.css("bottom",""))):(a=document.documentElement.clientHeight-i,this.gridMSOSEditor.css("top","inherit"),this.gridMSOSEditor.css("bottom",a),i<o?this.$container.css("min-height",o):this.$container.css("max-height",i)))))},this.positionSOL(s,o,!0),this.updateSelectionContainer=function(){this.displayBelowInput=!1,this.inputBoxTop=this.$input.offset().top,this.inputBoxBottom=this.inputBoxTop+this.$input.outerHeight(),this.selectionContainerHeight=this.$selectionContainer.outerHeight(),this.frameHeight-this.inputBoxBottom>this.selectionContainerHeight?this.displayBelowInput=!0:this.inputBoxBottom>this.selectionContainerHeight?this.displayBelowInput=!1:(this.$container.addClass("msos-compact"),this.selectionContainerHeight=this.containerHeight=this.$selectionContainer.outerHeight(!1),this.frameHeight-this.inputBoxBottom>this.containerHeight?this.displayBelowInput=!0:this.inputBoxBottom>this.containerHeight&&(this.displayBelowInput=!1));var t=this.$selectionContainer.css("border-left-width")?parseFloat(this.$selectionContainer.css("border-left-width").split("px")[0]):0;this.$selectionContainer.css("left",0-t).css("width",this.$innerContainer.outerWidth(!1));var i=this.$innerContainer.outerHeight();this.displayBelowInput?(this.$selectionContainer.css("top",i),this.$selectionContainer.css("bottom","inherit")):(this.$selectionContainer.css("bottom",i),this.$selectionContainer.css("top","inherit"))}}:function(t,i){this.$container.addClass("msos-grid-container"),this.$innerContainer.addClass("msos-grid-inner-container"),this.$selectionContainer.addClass("msos-grid-selection-container"),this.$moreLessContainer.add("msos-grid-moreless-link"),this.$currentSelectionContainer.find(".sol-selected-display-item").add("msos-grid-selected-display-item");var e,n=this.$currentSelectionContainer.find(".sol-selected-display-item");n.add("msos-grid-selected-display-item-text"),n&&0==n.length&&this.$currentSelectionContainer&&(bf.isUci()?(this.$currentSelectionContainer.addClass("uci-msos-grid-current-selection-normal"),this.$currentSelectionContainer.addClass("uci-msos-grid-current-selection-expanded")):(this.$currentSelectionContainer.addClass("msos-grid-current-selection-normal"),this.$currentSelectionContainer.addClass("msos-grid-current-selection-expanded"))),this.gridMSOSEditor=$("#"+cf.msosId),this.positionSOL=function(t,i,e){var n,r,s,o,a,h,c;this.displayBelowInput=!1,this.frameHeight=document.documentElement.clientHeight,t>this.frameHeight?this.gridMSOSEditor.hide():(this.gridMSOSEditor.show(),n=this.gridMSOSEditor.offset().top,r=this.gridMSOSEditor.offset().top+this.gridMSOSEditor.outerHeight(!0),(t!=n&&i!=r||e)&&(s=this.$container.offset().top,o="none"===this.$moreLessContainer.css("display")?this.$moreLessContainer.outerHeight()+cf.moreLessTextHeight:this.$moreLessContainer.outerHeight(),a=s+this.currentSelectionContainerExpandedMaxHeight+this.$input.outerHeight()+o,h=3*cf.currentSelectionContainerRowHeight+(this.$currentSelectionContainer.css("padding-top")?parseFloat(this.$currentSelectionContainer.css("padding-top").split("px")[0]):0)+(this.$currentSelectionContainer.css("padding-bottom")?parseFloat(this.$currentSelectionContainer.css("padding-bottom").split("px")[0]):0)+this.$input.outerHeight()+o,$(document.documentElement).css("clear","both"),(a>this.frameHeight||!e)&&(t<this.frameHeight-i?(document.documentElement.clientHeight-t<h?this.$container.css("min-height",h):this.$container.css("max-height",document.documentElement.clientHeight-t),e||(this.gridMSOSEditor.css("top",t),this.gridMSOSEditor.css("bottom",""))):(c=document.documentElement.clientHeight-i,this.gridMSOSEditor.css("top","inherit"),this.gridMSOSEditor.css("bottom",c),i<h?this.$container.css("min-height",h):this.$container.css("max-height",i)))))},this.positionSOL(s,o,!0),r&&(this.toggleControlState(r),this.$container.addClass("msos-sol-container-Disabled"),this.$moreLessContainer.addClass("msos-sol-moreless-container-Disabled"),null==this.$currentSelectionContainer||(e=this.$currentSelectionContainer.find(".sol-selected-display-item"))&&0<e.length&&(this.$currentSelectionContainer.find(".sol-selected-display-item").first().focus(),this.$currentSelectionContainer.find(".sol-selected-display-item").first().addClass("keyboard-selection"))),this.updateSelectionContainer=function(){this.displayBelowInput=!1,this.inputBoxTop=this.$input.offset().top,this.inputBoxBottom=this.inputBoxTop+this.$input.outerHeight(),this.selectionContainerHeight=this.$selectionContainer.outerHeight(),this.frameHeight-this.inputBoxBottom>this.selectionContainerHeight?this.displayBelowInput=!0:this.inputBoxBottom>this.selectionContainerHeight?this.displayBelowInput=!1:(this.$selectionContainer.addClass("sol-selection-container-reduced-height"),this.$selection.addClass("sol-selection-reduced-height"),this.selectionContainerHeight=this.containerHeight=this.$selectionContainer.outerHeight(!1),this.frameHeight-this.inputBoxBottom>this.containerHeight?this.displayBelowInput=!0:this.inputBoxBottom>this.containerHeight&&(this.displayBelowInput=!1)),this.$innerContainer.addClass("sol-inner-container-transform"),"block"==this.$innerContainer.css("display")&&(this.$selectionContainer.css("border-top-right-radius","initial"),this.$actionButtons&&this.$actionButtons.css("border-top-right-radius","initial"));var t=this.$selectionContainer.css("border-left-width")?parseFloat(this.$selectionContainer.css("border-left-width").split("px")[0]):0;this.$selectionContainer.css("left",0-t).css("width",this.$innerContainer.outerWidth(!1));var i=this.$innerContainer.outerHeight();this.displayBelowInput?(this.$selectionContainer.css("top",i+t),this.$selectionContainer.css("bottom","inherit")):(this.$selectionContainer.css("bottom",i+t),this.$selectionContainer.css("top","inherit"))}}},jw.prototype.getSolResourceStrings=function(){return bf.isUci()?{}:{noItemsAvailable:$l.multiPicklistNoItemsLabel,selectAll:$l.multiPicklistSelectAllLabel,searchplaceholder:$l.multiPicklistTypeAheadLabel,expand:$l.multiPicklistMoreLabel,collapse:$l.multiPicklistLessLabel,optionSetItemAriaLabel:$l.multiPicklistItemsLabel,typeSomethingInputAriaLabel:$l.multiPicklistInputLabel,selectedListNavigation:$l.multiPicklistListNavigationLabel,displayItemsRemoved:$l.multiPicklistItemsRemovedLabel,moreLinkTitle:$l.multiPicklistMoreLinkTitle,lessLinkTitle:$l.multiPicklistLessLinkTitle,selectAllFocusTitle:$l.multiPicklistSelectAllFocusTitle,selectAllDeselect:$l.multiPicklistSelectAllDeselect,selectAllSelect:$l.multiPicklistSelectAllSelect,totalItems:$l.multiPicklistTotalItems,deleteItemTitle:$l.multiPicklistDeleteTitle}},jw.prototype.getSolOptions=function(){var t=bf.isUci(),i="GridMSOSField_"+jw.uniqueId;return{showSelectAll:!0,shouldDefaultFocusonInput:!0,defaultMaxRowsInCurrentSelections:2,isControlDisabled:!1,data:this.multiSelectPicklistItems,key:i,alwaysActive:!!t||null,autoExpandDropdown:!t&&null,texts:this.getSolResourceStrings(),events:{onInitialized:this.getSolOnInitialized(),onChange:function(t,i){for(var e=0;e<t.items.length;++e)if(t.items[e].value==i[0].value){t.items[e].selected=i[0].checked;break}this.multiSelectPicklistItems=t.items},onOpen:function(){this.updateSelectionContainer()},onScroll:function(){this.updateSelectionContainer()}}}},jw.prototype.createMultiSelectOptionSetEditor=function(){this.editorRoot=document.createElement("div"),this.editorRoot.classList.add("custom-editor-div");var t="gridSelectElement_"+jw.uniqueId++;this.editorSol=document.createElement("div"),this.editorSol.id=cf.msosId,this.editorSol.setAttribute("name","solEditorParent"),this.editorSol.classList.add("custom-editor-div"),this.isWebClient&&this.editorSol.classList.add("focused-input"),this.editorSol.innerHTML=MscrmCommon.ControlUtils.String.Format("<select id='{0}' name='{0}' multiple='multiple'></select>",t),this.editorSol.classList.add("wj-control"),this.editorSol.classList.add("wj-popup"),this.eventArgs.cell.appendChild(this.editorRoot),this.editorSol.style.width=this.eventArgs.cell.getBoundingClientRect().width+"px",this.editorSol.style.maxWidth="33%",this.wijmo.showPopup(this.editorSol,this.editorRoot,!1),MscrmCommon.ControlUtils.Object.isNullOrUndefined($.fn.searchableOptionList)&&Nr(jQuery,window,document),0<$(".stage").length&&$(".stage").css("clear","both"),bf.isUci()?this.gridSol=$("#"+t).multiSelectOptionSet(this.getSolOptions()):this.gridSol=$("#"+t).searchableOptionList(this.getSolOptions()),this.editorSol.addEventListener(cf.eventKeyDown,this.keyDownHandler),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),document.addEventListener(cf.eventSingleClick,this.handleMouseDown,!0),parent.document.addEventListener(cf.eventSingleClick,this.handleMouseDown,!0),window.addEventListener(cf.eventWindowResize,this.onWindowResize,!0),document.addEventListener(cf.eventMouseScroll,this.handleScroll,!0)},jw.prototype.dispose=function(){this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),clearTimeout(this.onScrollMethod),this.editorSol.removeEventListener(cf.eventKeyDown,this.keyDownHandler),document.removeEventListener(cf.eventSingleClick,this.handleMouseDown,!0),document.removeEventListener(cf.eventMouseScroll,this.handleScroll,!0),parent.document.removeEventListener(cf.eventSingleClick,this.handleMouseDown,!0),window.removeEventListener(cf.eventWindowResize,this.onWindowResize,!0),this.wijmo.hidePopup(this.editorSol,!0),$.contains(this.eventArgs.cell,this.editorRoot)&&this.eventArgs.cell.removeChild(this.editorRoot)},jw.uniqueId=0,jw);function jw(t,i,e,n,r){var o=this;this.editEndingEventHandler=function(t,i){if(o.dispose(),!i.cancel){i.cancel=!0;var e=Array();if(o.multiSelectPicklistItems)for(var n=0;n<o.multiSelectPicklistItems.length;++n)o.multiSelectPicklistItems[n].selected&&e.push(o.multiSelectPicklistItems[n].value);var r,s=o.gridControl.columns;MscrmCommon.ControlUtils.Object.isNullOrUndefined(s[i.col])||(r=s[i.col].dataMap,s[i.col].dataMap=null,o.gridControl.setCellData(i.row,i.col,e,!0,!1),s[i.col].dataMap=r)}},this.gridMultiSelectOptionsetEditorKeyboardHandler=function(t,i,e){PA.stopEventPropagation(i);var n=t?ru.grid.SelMove.NextCell:ru.grid.SelMove.None;e.gridControl._selHdl.moveSelection(ru.grid.SelMove.None,n,!0),n!=ru.grid.SelMove.None&&e.gridControl._selHdl.moveSelection(ru.grid.SelMove.None,ru.grid.SelMove.PrevCell,!0),e.gridControl.containsFocus()||window.setTimeout(function(){e.gridControl.focus()},0)},this.keyDownHandler=function(t){switch(t.keyCode){case Pl.kbTabCode:o.gridControl.finishEditing(!1),o.gridMultiSelectOptionsetEditorKeyboardHandler(!0,t,o);break;case Pl.kbEscapeCode:o.gridControl.finishEditing(!0),o.gridMultiSelectOptionsetEditorKeyboardHandler(!1,t,o)}},this.handleMouseDown=function(t){$.contains(o.editorSol,t.target)||o.eventArgs.cell==t.target||o.gridControl.finishEditing(!1)},this.handleScroll=function(t){var i=o;o.onScrollMethod=setTimeout(function(){"none"===i.editorSol.style.display&&i.gridControl.finishEditing(!1)})},this.onWindowResize=function(t){o.gridSol.positionSOL(o.eventArgs.cell.getBoundingClientRect().top,o.eventArgs.cell.getBoundingClientRect().bottom,!1)},this.gridControl=t,this.eventArgs=i,this.multiSelectPicklistItems=e,this.wijmo=ru,this.isWebClient=n,this.isControlDisabled=r,this.createMultiSelectOptionSetEditor()}var yw=(xw.prototype.createNumberEditor=function(){this.editorRoot=document.createElement("div"),this.input=new ru.input.InputNumber(this.editorRoot),this.input.format=this.format,this.input.max=this.validation.max,this.input.min=this.validation.min,this.eventArgs.cell.appendChild(this.editorRoot),this.input.isRequired=!1,this.input.inputType="text",this.input.value=MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.value)?null:this.value,this.gridControl.activeEditor.value=String(this.input.value),this.input.valueChanged.addHandler(this.valueChanged),this.input.addEventListener(this.editorRoot,cf.eventDoubleClick,this.dblClickEventListener),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),this.input.focus()},Object.defineProperty(xw.prototype,"format",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.precision)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.editColumn.format)?this.editColumn.format:MscrmCommon.ControlUtils.String.Format("{0}{1}",this.editColumn.format[0],this.precision)},enumerable:!1,configurable:!0}),xw.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.editorRoot),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.input.valueChanged.removeHandler(this.valueChanged),this.input.removeEventListener(this.editorRoot,cf.eventDoubleClick),this.input.dispose()},xw);function xw(t,i,e,n,r,s){var o=this;this.valueChanged=function(t,i){o.gridControl.activeEditor.value=t.value},this.dblClickEventListener=function(t){PA.stopEventPropagation(t)},this.editEndingEventHandler=function(t,i){o.dispose(),i.cancel||(i.cancel=!0,o.gridControl.setCellData(i.row,i.col,o.input.value,!0,!1))},this.gridControl=t,this.editColumn=n,this.eventArgs=i,this.validation=r,this.precision=s,this.value=e,this.createNumberEditor()}var Iw=(Mw.prototype.createTextAreaEditor=function(i){var e=this;this.input=document.createElement("textarea"),this.input.setAttribute("style",MscrmCommon.ControlUtils.String.Format("width: 100%; height: {0}px; resize: none",this.eventArgs.panel.rows[this.eventArgs.row].height)),this.eventArgs.cell.appendChild(this.input),this.input.value=this.value,this.input.addEventListener&&(this.input.addEventListener("input",this.inputHandler,!1),this.input.addEventListener("keydown",this.keydownHandler,!1)),Object.keys(i).forEach(function(t){e.input.setAttribute(t,i[t])}),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),this.input.focus()},Mw.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.input),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.input.removeEventListener("input",this.inputHandler,!1),this.input.removeEventListener("keydown",this.keydownHandler,!1)},Mw);function Mw(t,i,e,n,r,s){var o=this;this.inputHandler=function(){o.gridControl.activeEditor.value=o.input.value},this.keydownHandler=function(t){PA.isKeyCode(t,Pl.kbEnterCode)&&(t.preventDefault(),o.input.value=o.input.value.substring(0,o.input.selectionStart)+"\n"+o.input.value.substring(o.input.selectionEnd,o.input.value.length),o.gridControl.activeEditor.value=o.input.value)},this.editEndingEventHandler=function(t,i){o.dispose(),i.cancel||(i.cancel=!0,o.gridControl.setCellData(i.row,i.col,o.input.value,!0,!1))},this.gridControl=t,this.eventArgs=i,this.value=MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)?"":e,this.createTextAreaEditor(s)}var Fw,Qw,Rw=((window&&window.__extends||(Fw=function(t,i){return(Fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}Fw(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(kw,Qw=$g),kw.prototype.getOptions=function(){return bf.getOptionsFromAttributes(this.datasetColumn)},kw.prototype.getCurrentValue=function(){var t=this.datasetColumn.attributes.defaultValue?this.datasetColumn.attributes.defaultValue:-1;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.value)?t:this.value},kw);function kw(t,i,e,n,r){var s=Qw.call(this,t,i,e,r)||this;return s.value=n,s.createDropdownEditor(),s}var Sw=(Dw.prototype.setSorting=function(){this.dataSet.sorting.splice(0);for(var t=0;t<this.columns.length;t++)this.dataSet.sorting.push({name:this.columns[t].name,sortDirection:0})},Dw.prototype.setFilter=function(t){t=t.replace(/\\/g,"");var i=this.dataSet.filtering.getFilter();if(!bf.isUci()||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||!this.isSystemConditionPresent(i)){for(var e=[],n=0;n<this.columns.length;n++){var r={attributeName:this.columns[n].name,conditionOperator:6,value:MscrmCommon.ControlUtils.String.Format("%{0}%",t)};e.push(r)}this.ApplyFilter(e)}},Dw.prototype.ApplyFilter=function(t){var i={conditions:t,filterOperator:1};this.dataSet.filtering.clearFilter(),this.dataSet.filtering.setFilter(i)},Dw.prototype.clearFilter=function(){var t=this.dataSet.filtering.getFilter();bf.isUci()&&this.isSystemConditionPresent(t)||this.dataSet.filtering.clearFilter()},Dw.prototype.isSystemConditionPresent=function(t){var e=!1;return null!=t&&t.conditions.forEach(function(i){var t=this.columns.find(function(t){return t.name===i.attributeName});e=MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)}.bind(this)),e},Dw);function Dw(t,i){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))throw new Error("Missing argument : dataSet");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))throw new Error("Missing argument : columns");this.dataSet=t,this.columns=i,this.setSorting()}var Nw=(Tw.prototype.withAllowFilterOff=function(t){return this.allowFilterOff=t,this},Tw.prototype.withIsFilterEnabled=function(t){return this.isFilterEnabled=t,this},Tw.prototype.withRecords=function(t,i){return this.sortedRecordIds=t,this.records=i,this},Tw.prototype.build=function(){var e=this,t=this.buildPrefixOptions(),n=[];return this.validateInputData(),new MscrmCommon.ArrayQuery(this.sortedRecordIds).each(function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.records[t]))throw Pl.ErrorInvalidRecordId;var i=dw.buildRegularOption(e.records[t],e.columns,e.htmlEncode);n.push(i)}),t.concat(n)},Tw.prototype.buildPrefixOptions=function(){var t,i=[];return this.allowFilterOff&&(t=this.isFilterEnabled?cw.DisableFilter:cw.EnableFilter,i.push(dw.buildSpecialOption(t))),i},Tw.prototype.validateInputData=function(){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.records))throw MscrmCommon.ControlUtils.String.Format(Pl.ErrorInvalidParameter,"records");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.sortedRecordIds))throw MscrmCommon.ControlUtils.String.Format(Pl.ErrorInvalidParameter,"sortedRecordIds");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.columns))throw MscrmCommon.ControlUtils.String.Format(Pl.ErrorInvalidParameter,"columns")},Tw);function Tw(t,i){this.htmlEncode=t,this.columns=i}var Ow=(Yw.prototype.initialize=function(t,i,e){this.isInitialized=!0,this.dataSet=t,this.parentDataSet=i,this.validateInputData();var n=t.columns.slice(0,Pl.maxNumberOfLookupColumns);this.filterManager=new Sw(this.dataSet,n),this.itemsCollectionBuilder=new Nw(e,n),this.update(),this.dataSet.addOnDataSetUpdated(this.updatedLookupDataSetHandler)},Yw.prototype.update=function(){this.itemsCollection=this.itemsCollectionBuilder.withAllowFilterOff(this.dataSet.filtering.canDisableRelationshipFilter()).withIsFilterEnabled(this.isFilterEnabled).withRecords(this.dataSet.sortedRecordIds,this.dataSet.records).build()},Yw.prototype.processSelection=function(t,i){switch(this.validateIsInitialized(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?null:t.Type){case cw.DisableFilter:this.toggleRelationshipFilter(!1);break;case cw.EnableFilter:this.toggleRelationshipFilter(!0);break;case cw.RegularSelection:i=MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Id)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.records[t.Id])?null:this.dataSet.records[t.Id].getNamedReference();break;default:i=null}return i},Yw.prototype.clearUserTypedFilter=function(){this.validateIsInitialized(),this.filterManager.clearFilter(),this.perfTool.tryStart(bd.RetrieveLookup),this.dataSet.refresh()},Yw.prototype.toggleRelationshipFilter=function(t){this.isFilterEnabled!=t&&this.dataSet.filtering.canDisableRelationshipFilter()&&(this.refreshedItemsCallback=null,(this.isFilterEnabled=t)?this.dataSet.filtering.enableRelationshipFilter(this.parentDataSet.getSelectedRecord()):this.dataSet.filtering.disableRelationshipFilter(),this.perfTool.tryStart(bd.RetrieveLookup),this.dataSet.refresh())},Object.defineProperty(Yw.prototype,"updatedDataSetEvent",{get:function(){return this.updatedDataSet},enumerable:!1,configurable:!0}),Object.defineProperty(Yw.prototype,"selectedValuePath",{get:function(){return"Id"},enumerable:!1,configurable:!0}),Object.defineProperty(Yw.prototype,"displayMemberPath",{get:function(){return"DisplayValue"},enumerable:!1,configurable:!0}),Object.defineProperty(Yw.prototype,"itemsSource",{get:function(){return this.itemsCollection},enumerable:!1,configurable:!0}),Object.defineProperty(Yw.prototype,"itemsSourceFunction",{get:function(){var n=this;return function(t,i,e){!n.isDisposed()&&n.shouldRefresh&&(n.filterManager.setFilter(t),n.refreshedItemsCallback=e,n.perfTool.tryStart(bd.RetrieveLookup),n.dataSet.refresh())}},enumerable:!1,configurable:!0}),Yw.prototype.setRefreshEnabled=function(){this.shouldRefresh=!0},Yw.prototype.dispose=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.itemsCollection)||(this.itemsCollection.splice(0),this.itemsCollection=null),this.dataSet&&this.dataSet.removeOnDataSetUpdated&&this.dataSet.removeOnDataSetUpdated(this.updatedLookupDataSetHandler),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.updatedDataSetEvent)||this.updatedDataSetEvent.removeAllHandlers(),this.dataSet=null,this.filterManager=null,this.itemsCollectionBuilder=null},Yw.prototype.isDisposed=function(){return null==this.dataSet},Yw.prototype.validateInputData=function(){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.filtering))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.filtering");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.columns))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.columns");if(0==this.dataSet.columns.length)throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.columns[0]");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.records))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.records");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.sortedRecordIds))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.sortedRecordIds")},Yw.prototype.validateIsInitialized=function(){if(!this.isInitialized)throw new Error("This instance is not initialized yet.")},Yw);function Yw(t){var i=this;this.updatedDataSet=new ru.Event,this.isFilterEnabled=!0,this.isInitialized=!1,this.shouldRefresh=!1,this.updatedLookupDataSetHandler=function(t){i.isDisposed()||(t&&(i.dataSet.records=t.records,i.dataSet.sortedRecordIds=t.sortedRecordIds),i.perfTool.tryStop(bd.RetrieveLookup),i.update(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.refreshedItemsCallback)?i.updatedDataSet.raise(i):(i.refreshedItemsCallback(i.itemsSource),i.refreshedItemsCallback=null))},this.perfTool=t}var Uw,Hw,zw=((window&&window.__extends||(Uw=function(t,i){return(Uw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}Uw(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(Gw,Hw=ru.grid.detail.FlexGridDetailProvider),Gw.prototype._hdrClick=function(t){},Gw.prototype.expanderMouseDown=function(t){Hw.prototype._hdrClick.call(this,t),t.stopPropagation()},Gw.prototype.expanderKeyDown=function(t){var i;t.keyCode===Pl.kbEnterCode&&(i=new MouseEvent(Pl.eventMouseDown,{view:window,cancelable:!0,button:0,buttons:1}),t.target&&t.target.firstElementChild&&t.target.firstElementChild.dispatchEvent(i))},Gw.prototype.formatItemExpCollapse=function(t,i){var e,n,r=this._g;this._mode!=ru.grid.detail.DetailVisibilityMode.ExpandMulti&&this._mode!=ru.grid.detail.DetailVisibilityMode.ExpandSingle||i.panel!=r.columnHeaders&&1==i.col&&this._hasDetail(i.row)&&(e=i.row<r.rows.length-1&&r.rows[i.row+1]instanceof ru.grid.detail.DetailRow,n=this.isRTL?i.cell.querySelector(Pl.nestedGridExpanderRTLClass):i.cell.querySelector(Pl.nestedGridExpanderClass),MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&(n=document.createElement("span"),this.isRTL?n.classList.add(Pl.nestedGridExpanderRTLClass):n.classList.add(Pl.nestedGridExpanderClass),n.addEventListener(Pl.eventMouseDown,this.expanderMouseDown.bind(this)),i.cell.getAttribute("IsListenerAttached")||(i.cell.setAttribute("IsListenerAttached","true"),i.cell.addEventListener(Pl.eventKeyDown,this.expanderKeyDown.bind(this))),i.cell.insertBefore(n,i.cell.firstChild),i.cell.classList.add(Pl.nestedGridCellClass),i.cell.classList.add(Pl.wijmoNestedGridExpanderCellClass)),bf.isUci()&&(n.parentElement.setAttribute(Pl.ariaLabel,e?$l.hideNestedGrid:$l.showNestedGrid),n.parentElement.setAttribute(Pl.ariaExpanded,e?"true":"false")),n.classList.remove(e?Pl.nestedGridExpanderExpandClass:Pl.nestedGridExpanderCollapseClass),n.classList.add(e?Pl.nestedGridExpanderCollapseClass:Pl.nestedGridExpanderExpandClass),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.grid.activeEditor)||this.grid.selection.row!=i.row?this.isRTL?n.classList.remove(Pl.nestedGridExpanderEditRTLClass):n.classList.remove(Pl.nestedGridExpanderEditClass):this.isRTL?n.classList.add(Pl.nestedGridExpanderEditRTLClass):n.classList.add(Pl.nestedGridExpanderEditClass))},Gw);function Gw(t,i){void 0===i&&(i=!1);var e=Hw.call(this,t)||this;return e.isRTL=i,t.formatItem.addHandler(e.formatItemExpCollapse,e),e}var Pw,Vw,Lw,Jw,Ww=((window&&window.__extends||(Pw=function(t,i){return(Pw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}Pw(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(_w,Vw=ru.grid.CellFactory),_w.prototype.updateCell=function(t,i,e,n,r,s){Vw.prototype.updateCell.call(this,t,i,e,n,r,s);var o,a=n.hasAttribute(Pl.rowHeaderRowNumber)&&!n.classList.contains(cf.groupClass),h=t.columns[e].binding;t.cellType!=ru.grid.CellType.Cell||"fullname"!==h||!t.rows[i].dataItem||(o=t.rows[i].dataItem.sipValue)&&new Cg(this.factory,this.utils,this.client).addPresence(n,o),t.columns[e].name===Pl.btnHeaderColumnName&&n.setAttribute("aria-label",$l.rowNavigationButtonTooltip),a&&this.resetPadding(t,i,e,n),this.applyFilterTooltip(t,e,n),bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())&&this.applyHighDensityStyle(t,e,n)},_w.prototype.applyHighDensityStyle=function(t,i,e){var n,r;e.classList.contains(cf.headerCSSClass)?(e.id===this.containerService.getContainerId()+"-"+Pl.btnHeaderSelectColumnName?(e.style.setProperty(t.grid.rightToLeft?"padding-right":"padding-left","27px","important"),e.style.setProperty(t.grid.rightToLeft?"padding-left":"padding-right","0px","important")):(e.style.setProperty(t.grid.rightToLeft?"padding-left":"padding-right","0px","important"),e.style.setProperty(t.grid.rightToLeft?"padding-right":"padding-left","7px","important")),e.style.borderBottom=Pl.HeaderBorderBottomStyle+(Cf.getDesignBag().HeaderBorderBottomColor||"#E1DFDD")):e.classList.contains(cf.detailCellCSSClass)?e.style.setProperty(t.grid.rightToLeft?"margin-right":"margin-left","0px","important"):(n=e.classList.contains(cf.firstColumnStyle),r=e.classList.contains(cf.groupClass),t.grid.rightToLeft?(n||r?(e.style.setProperty("margin-right","20px","important"),e.style.setProperty("padding-right","10px","important"),e.style.setProperty("font-size",r?"15px":"12px")):e.style.setProperty("padding-right","7px","important"),e.style.setProperty("padding-left","10px")):(n||r?(e.style.setProperty("margin-left","20px","important"),e.style.setProperty("padding-left","7px","important"),e.style.setProperty("font-size",r?"15px":"12px")):e.style.setProperty("padding-left","7px","important"),e.classList.contains(Pl.nestedGridCellClass)?e.style.setProperty("padding-right","25px"):e.style.setProperty("padding-right","10px"))),e.style.paddingBottom="2px",e.style.paddingTop="2px",sf.multiple===t.columns[i].format&&(e.style.whiteSpace="nowrap"),e.style.lineHeight="35px"},_w.prototype.resetPadding=function(t,i,e,n){t.grid.rightToLeft?n.style.removeProperty("padding-right"):n.style.removeProperty("padding-left")},_w.prototype.applyFilterTooltip=function(t,i,e){var n,r;t.cellType!=ru.grid.CellType.ColumnHeader||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columns[i].header)||(n=e.querySelector(".wj-elem-filter[role='button']"),MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.classList)||(r=void 0,e.classList.contains(cf.filterOffCSSClass)?r=$l.columnUnfiltered:e.classList.contains(cf.filterOnCSSClass)&&(r=$l.columnFiltered),MscrmCommon.ControlUtils.String.isNullOrEmpty(r)||(n.title=MscrmCommon.ControlUtils.String.Format(r,t.columns[i].header))))},_w.prototype._getTreeIcon=function(t){var i=" wj-glyph-"+(t.isCollapsed?"":"down-")+(t.grid.rightToLeft?"left":"right");return'<span role="button" class="'+ru.grid.CellFactory._WJC_COLLAPSE+i+'" aria-expanded="'+!t.isCollapsed+'" aria-label="'+$l.gridGroupRowText+'"></span>'},_w);function _w(t,i,e,n){var r=Vw.call(this)||this;return r.factory=t,r.utils=i,r.client=e,r.containerService=n,r}(Jw=Lw={})[Jw.No=0]="No",Jw[Jw.Yes=1]="Yes";var Xw=(Object.defineProperty(Kw,"YesString",{get:function(){return"yes"},enumerable:!1,configurable:!0}),Object.defineProperty(Kw,"NoString",{get:function(){return"no"},enumerable:!1,configurable:!0}),Kw.parseValue=function(t){switch(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?Kw.NoString:t.toLowerCase()){case Kw.YesString:return Lw.Yes;case Kw.NoString:return Lw.No;default:return null}},Kw);function Kw(){}var Zw=(qw.prototype.getOriginalGridFilter=function(){return this.filter},qw.prototype.setFilterType=function(t){this.filter.filterType=t},qw.prototype.setValueFilter=function(t){this.filter.valueFilter.uniqueValues=t},Object.defineProperty(qw.prototype,"dataMap",{get:function(){return this.filter.column.dataMap},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"isActive",{get:function(){return this.filter.isActive},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"isConditionFilter",{get:function(){return this.filter.conditionFilter.isActive},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"isValueFilter",{get:function(){return this.filter.valueFilter.isActive},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"dataType",{get:function(){return this.filter.column.dataType},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"binding",{get:function(){return this.filter.column.binding},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"conditionFilter",{get:function(){return this.filter.conditionFilter},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"valueFilter",{get:function(){return this.filter.valueFilter},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"filterType",{get:function(){return this.filter.filterType},enumerable:!1,configurable:!0}),Object.defineProperty(qw.prototype,"isMultiSelectOptionSetFilter",{get:function(){return this.isMultiSelectOptionSetTypeFilter},set:function(t){this.isMultiSelectOptionSetTypeFilter=t},enumerable:!1,configurable:!0}),qw);function qw(t){this.filter=t}var $w=(tm.isCustomDropDownEditorColumn=function(t,i){return tm.isWholeDropDownEditorColumn(t,i)||tm.isBooleanDropDownEditorColumn(t,i)},tm.isWholeDropDownEditorColumn=function(t,i){return t.dataType===ru.DataType.Number&&bf.isWholeOptionSet(i)},tm.isBooleanDropDownEditorColumn=function(t,i){return t.dataType===ru.DataType.String&&i.attributes.type===sf.twoOptions},tm.isOptionSetDropDownEditorColumn=function(t,i){return t.dataType===ru.DataType.String&&i.attributes.type===sf.optionset},tm.hideOriginalEditor=function(t){var i=tm.getOriginalEditor(t);i&&i.style&&(i.style.display="none"),tm.removeOptionsetDropDown(t)},tm.removeOptionsetDropDown=function(t){for(var i=0;i<t.children.length;i++){var e=t.children[i];if(MscrmCommon.ControlUtils.String.EqualsIgnoreCase(e.nodeName,"div")&&"wj-dropdown"in e.attributes){e.style.display="none";break}}},tm.getOriginalEditor=function(t){for(var i=t.childNodes,e=0;e<i.length;e++)if(MscrmCommon.ControlUtils.String.EqualsIgnoreCase(i[e].nodeName,"input"))return i[e];return null},tm);function tm(){}function im(t,i,e,n,r){this.type=t,this.label=i,this.value=e,this.tooltip=n,this.selected=r}var em,nm=window&&window.__spreadArrays||function(){for(var t=0,i=0,e=arguments.length;i<e;i++)t+=arguments[i].length;for(var n=Array(t),r=0,i=0;i<e;i++)for(var s=arguments[i],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n},rm=["offsetWidth","offsetHeight"],sm=["clientWidth","clientHeight","scrollTop","scrollLeft"],om=nm(rm,sm),am="_propCache:",hm=am+"_cache",cm=am+"_updatedProps",um=am+"_canUse";function lm(t){return t.hostElement[um]}function fm(t,i,a,e){void 0===a&&(a=0);var n=!1;try{return n=function(s,t,o){if(s[hm])return!1;if(!em){em={};for(var i=0,e=rm;i<e.length;i++){var n=e[i];em[n]=Object.getOwnPropertyDescriptor(HTMLElement.prototype,n)}for(var r=0,a=sm;r<a.length;r++){var h=a[r];em[h]=Object.getOwnPropertyDescriptor(Element.prototype,h)}}for(var c=dm(t),u={},l=0,f=c;l<f.length;l++){var d=f[l];u[d]=function(i){var r=am+i;return{configurable:!0,get:function(){if(!s.hasOwnProperty(r))for(var t=0,i=c;t<i.length;t++){var e=i[t],n=am+e;s[n]=o?o(s,e):em[e].get.apply(s),s[cm]&&s[cm].hasOwnProperty(e)&&(s[cm][e]===s[n]?delete s[cm][e]:s[n]=s[cm][e])}return s[r]},set:function(t){t!==s[r]&&(s[r]=t,s[cm]||(s[cm]={}),s[cm][i]=t)}}}(d)}return Object.defineProperties(s,u),s[hm]=!0}(t,a,e),i()}finally{n&&function(t){for(var i=0,e=dm(a);i<e.length;i++){var n=e[i];delete t[n],delete t[am+n]}var r=t[cm];if(r){for(var s=0,o=Object.keys(r);s<o.length;s++)t[n=o[s]]=r[n];delete t[cm]}t[hm]=!1}(t)}}function dm(t){switch(t){case 1:return rm;case 2:return sm}return om}var Am,gm,wm="DependentOptionSetSgFCB",mm=(pm.getFilteredChildrenOptionValues=function(t,i,e){var n=[];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes.Options)){var r=t.attributes.ParentPicklistLogicalName,s=t.attributes.Options,o=e.records[i];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)){var a=o.getValue(r);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(a))for(var h=0;h<s.length;h++)s[h].ParentValues&&-1<s[h].ParentValues.indexOf(a)&&n.push(s[h].Value)}}return n},pm.getFilteredChildrenOptionLabels=function(t,i,e,n){var r=[],s=this.getFilteredChildrenOptionValues(t,i,e);if(s){var o=n.dataMap;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.collectionView)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.collectionView.items)){r.push(o.collectionView.items[0].Label);for(var a=1;a<o.collectionView.items.length;a++)if(o.collectionView.items[a].Value&&!isNaN(o.collectionView.items[a].Value))for(var h=0;h<s.length;h++)o.collectionView.items[a].Value==s[h]&&r.push(o.collectionView.items[a].Label)}}return r},pm.getToolTipString=function(t,i,e){var n,r,s,o=null;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.dataSet)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.dataSet.dependentOptionSetColumnStatus)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.dataSet.dependentOptionSetColumnStatus[i.name])||(0===e.dataSet.dependentOptionSetColumnStatus[i.name]?o=$l.dependentOptionSetIncompleteChain:null!==i.attributes.ParentPicklistLogicalName&&1===e.dataSet.dependentOptionSetColumnStatus[i.name]&&(n=t.getValue(i.attributes.ParentPicklistLogicalName),r=bf.getDatasetColumnByName(e.columns,i.attributes.ParentPicklistLogicalName),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&(s=r.displayName,o=MscrmCommon.ControlUtils.String.Format($l.dependentOptionSetSelectParent,s)))),o},pm.isDependentOptionSet=function(t){return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)||t.attributes.type!==sf.optionset&&t.attributes.type!==sf.multiSelectOptionset||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes.childPicklistLogicalNames)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes.parentPicklistLogicalName))},pm.isUCIWithDependentOptionSetFeatureEnabledColumn=function(t){return bf.contextUtils.isFeatureEnabled(wm)&&bf.isUci()&&this.isDependentOptionSet(t)},pm.isValidChildOption=function(t,i,e,n){for(var r=!1,s=0;s<e.length;s++)t.collectionView.items[n].Value==e[s]&&(r=!0);return r},pm.getToolTipForDependentOptionSetColumns=function(t,i,e,n){var r=null;return!bf.isUci()&&e?r=$l.dependentOptionSetIncompleteChain:bf.isUci()&&e&&(r=pm.getToolTipString(t,i,n)),r},pm);function pm(){}(gm=Am={})[gm.None=-1]="None",gm[gm.Asc=0]="Asc",gm[gm.Desc=1]="Desc";var vm=(bm.prototype.getProps=function(){var n=this;return{disableFiltering:!this._columnDetail.isFilteringAllowed||!this._filtering,disableSorting:!this._columnDetail.isSortingAllowed,disableMoving:!0,disablePinning:!0,shouldRestoreFocusToColumnHeaderOnClose:!1,column:this.getColumn(),filterExpressionEditorProps:{calloutWidth:Pl.filterCallOutWidth,directionalHint:this._columnDetail.dialogOnTop?a.DirectionalHint.topCenter:a.DirectionalHint.bottomCenter,gapSpace:5,calloutMaxWidth:Pl.filterCallOutWidth,backgroundColor:this._theming.colors.base.white,filterExpression:this._filtering&&this._filtering.getFilter(this._columnDetail.columnName),strings:this.getLocalizedStrings(),preventDismissOnScroll:this._columnDetail.preventDismissOnScroll,suggestIfEmpty:!0},headerText:this._columnDetail.headerText,onClearFilter:function(){n.clearFilter()},onDismissFilterMenu:function(){n.onDismiss()},onFilterChanged:function(t,i){n.applyFilter(t,i)},onSortChanged:function(t,i){var e=t!==Am.Asc?1:0;n._sorting.sortGrid(n._columnDetail.columnName,i,e,n._columnDetail.index)},sortDirection:MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._columnDetail.sortDirection)?void 0:1===this._columnDetail.sortDirection?Am.Desc:Am.Asc,strings:{clearFilterMenuText:UA.gridFilteringLabelClearFilter,filterMenuText:UA.gridFilteringLabelFilterBy,sortAscMenuText:this._getGridSortingLabel(Am.Asc),sortDescMenuText:this._getGridSortingLabel(Am.Desc)},styles:this.getStyle()}},bm.prototype.getStyle=function(){var t=Cf.getDesignBag();return{root:{background:t.HeaderBackgroundColor||this._theming.colors.basecolor.white,verticalAlign:"middle",textAlign:this._isRTL?"right":"left",border:"0px"},headerText:{color:t.HeaderTextColor||Pl.HighDensityFontColor,fontSize:12},iconsContainer:{color:t.SortFilterIconColor||Pl.HighDensityFontColor,fontSize:12,height:12}}},bm.prototype.clearFilter=function(){this._filtering.clearFilter(this._columnDetail.columnName),this._filtering.applyFilter(this._columnDetail.index),this._notifyDataSetHostForFilterExpressionChange()},bm.prototype.onDismiss=function(){var t=this._columnDetail.index;this._restoreFocusToColumnHeader(t)},bm.prototype._notifyDataSetHostForFilterExpressionChange=function(){bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB())&&bf.contextUtils.fireEvent("sendfilterexpressionstringstodatasethost",{nativeFilterExpressionString:JSON.stringify(this._filtering.getAllFilters()),dataSetFilterExpressionString:JSON.stringify(this._filtering.getDataSetFilterExpression())})},bm.prototype.getColumn=function(){if(this._columnDetail){var t={isRemovable:!1,name:this._columnDetail.columnName,key:this._columnDetail.columnName,isNullable:!1,minWidth:10,dataType:this._columnDetail.columnDataType,attributeType:this._columnDetail.attributeDataType,validValues:this._columnDetail.options?this._columnDetail.options:void 0,specialApplicableTarget:this._columnDetail.specialApplicableTarget,format:this._columnDetail.format,languagesMap:this._columnDetail.languagesMap,isGridObjectFilterEdidtor:!0};return t.autocompleteFunc=this._getAutoComplete(this._dataSetService.getTargetEntityType(),this._columnDetail.targets),t.inputValidators=this._generateValidators(this._columnDetail.attributeDataType),t.isNullable=!0,t.simpleFormatFunc=this._generateSimpleFormateValueFunction(this._columnDetail.attributeDataType),t.dateFormattingInfo="datetime"===this._columnDetail.attributeDataType?bf.metadataContext.client.dateFormattingInfo:void 0,t.formatStringValueToDataFunc=this._generateFormatStringValueToDataFunc(this._columnDetail.attributeDataType),t}},bm.prototype._generateSimpleFormateValueFunction=function(t){switch(t){case"datetime":return this._createDateFormatter()}return null},bm.prototype._generateFormatStringValueToDataFunc=function(t){if("datetime"===t)return function(t){if(t)return bf.formatting.parseDateFromString.call(bf.formatting,t,"date")}},bm.prototype._generateValidators=function(t){switch(t){case"money":case"double":case"decimal":case"float":return[this._createRequired(),this._createIsNumber(t)];case"integer":return[this._createRequired(),this._createIsInteger(t)]}return null},bm.prototype._getGridSortingLabel=function(t){switch(this._columnDetail.attributeDataType){case"money":case"double":case"decimal":case"float":case"integer":return t===Am.Asc?UA.gridSortingLabelSortAscNumeric:UA.gridSortingLabelSortDescNumeric;case"datetime":return t===Am.Asc?UA.gridSortingLabelSortAscDate:UA.gridSortingLabelSortDescDate;default:return t===Am.Asc?UA.gridSortingLabelSortAsc:UA.gridSortingLabelSortDesc}},bm.prototype._createDateFormatter=function(){return function(t){if(t)return bf.formatting.formatDateShort.call(bf.formatting,t)}},bm.prototype._createIsInteger=function(n){return function(t){if(t){var i={controlAttributes:{Type:n}},e=bf.formatting.parseFormatted.call(bf.formatting,t,i);if(Number(e)%1!=0)return UA.gridFilteringLabelValueMustBeAValidWholeNumber}}},bm.prototype._createRequired=function(){return function(t){if(null==t||""===t||Array.isArray(t)&&0===t.length)return UA.gridFilteringLabelPleaseEnterValue}},bm.prototype._createIsNumber=function(n){return function(t){if(t){var i={controlAttributes:{Type:n}},e=bf.formatting.parseFormatted.call(bf.formatting,t,i);if(isNaN(Number(e)))return UA.gridFilteringLabelValueMustBeAValidNumber}}},bm.prototype._getAutoComplete=function(e,n){var r=this;return function(t){return r._dataSetService.dataSet.retrieveLookupRecordsBySearchString(e,n,t).then(function(t){return t.map(function(t){var i=t.entityDisplayName||t.entityLogicalName;return{formattedValue:1<n.length?t.displayName+" ("+i+")":t.displayName,value:t.id}})},function(t){var i=[{name:"primaryEntityName",value:e},{name:"targets",value:n.join(",")},{name:"error",value:JSON.stringify(t)}];return r._gridTelemetry.reportEvent("GridNewFilter.AutoCompleteFunction.Failed",i),Promise.reject(t)})}},bm.prototype._formatDatePickerError=function(){return MscrmCommon.ControlUtils.String.Format(UA.gridFilteringLabelPleaseEnterDate,bf.metadataContext.formatting.formatDateShort(new Date(1999,1,17)))},bm.prototype.applyFilter=function(t,i){return this._filtering.applyFilter(this._columnDetail.index,t),this._filtering.setFilter(t),this._notifyDataSetHostForFilterExpressionChange(),null},bm.prototype.getLocalizedStrings=function(){return{title:UA.gridFilteringLabelFilterBy,closeButtonAriaLabel:UA.gridFilteringLabelClose,closeButtonTooltip:UA.gridFilteringLabelClose,stringPredicateBuilder:{dropdownRequiredValidatorErrorMessage:UA.gridFilteringLabelSelectOperator,equalsDropdownOptionText:UA.conditionFilterOperatorEqualsLabel,doesNotEqualDropdownOptionText:UA.conditionFilterOperatorDoesNotEqualLabel,containsDropdownOptionText:UA.conditionFilterOperatorContainsLabel,doesNotContainDropdownOptionText:UA.conditionFilterOperatorDoesNotContainLabel,startsWithDropdownOptionText:UA.conditionFilterOperatorBeginsWithLabel,doesNotStartWithDropdownOptionText:UA.gridFilteringLabelDoesNotBeginWith,endsWithDropdownOptionText:UA.conditionFilterOperatorEndsWithLabel,doesNotEndWithDropdownOptionText:UA.gridFilteringLabelDoesNotEndWith,isNullDropdownOptionText:UA.gridFilteringLabelDoesNotContainData,isNotNullDropdownOptionText:UA.gridFilteringLabelContainData,textInputRequiredValidatorErrorMessage:UA.gridFilteringLabelPleaseEnterValue,submitButtonLabel:UA.filterApplyLabel,resetButtonLabel:UA.filterClearLabel},numberPredicateBuilder:{dropdownRequiredValidatorErrorMessage:UA.gridFilteringLabelSelectOperator,equalsDropdownOptionText:UA.conditionFilterOperatorEqualsLabel,doesNotEqualDropdownOptionText:UA.conditionFilterOperatorDoesNotEqualLabel,greatherThanDropdownOptionText:UA.gridFilteringLabelGreaterThan,greaterThanOrEqualToDropdownOptionText:UA.gridFilteringLabelGreaterThanOrEqualTo,lessThanDropdownOptionText:UA.gridFilteringLabelLessThan,lessThanOrEqualToDropdownOptionText:UA.gridFilteringLabelLessThanOrEqualTo,isNullDropdownOptionText:UA.gridFilteringLabelDoesNotContainData,isNotNullDropdownOptionText:UA.gridFilteringLabelContainData,equalsCurrentUserLanguageDropdownOptionText:UA.gridFilteringLabelEqualsCurrentUserLanguage,textInputRequiredValidatorErrorMessage:UA.gridFilteringLabelPleaseEnterValue,textInputIsNumberValidatorErrorMessage:UA.gridFilteringLabelValueMustBeAValidNumber,textInputIsIntegerValidatorErrorMessage:UA.gridFilteringLabelValueMustBeAValidWholeNumber,submitButtonLabel:UA.filterApplyLabel,resetButtonLabel:UA.filterClearLabel,durationUnitMinutesLabel:UA.gridFilteringLabelMinutes},datePredicateBuilder:{dropdownRequiredValidatorErrorMessage:UA.gridFilteringLabelSelectOperator,numericInputRequiredValidatorErrorMessage:UA.gridFilteringLabelValueMustBeAValidInteger,numericInputIsIntegerValidatorErrorMessage:UA.gridFilteringLabelValueMustBeAValidInteger,onDropdownOptionText:UA.conditionFilterOperatorOnLabel,onOrAfterDropdownOptionText:UA.conditionFilterOperatorOnOrAfterLabel,onOrBeforeDropdownOptionText:UA.conditionFilterOperatorOnOrBeforeLabel,todayDropdownOptionText:UA.gridFilteringLabelToday,yesterdayDropdownOptionText:UA.gridFilteringLabelYesterday,tomorrowDropdownOptionText:UA.gridFilteringLabelTomorrow,thisWeekDropdownOptionText:UA.gridFilteringLabelThisWeek,thisMonthDropdownOptionText:UA.gridFilteringLabelThisMonth,thisYearDropdownOptionText:UA.gridFilteringLabelThisYear,thisFiscalPeriodDropdownOptionText:UA.gridFilteringLabelThisFiscalPeriod,thisFiscalYearDropdownOptionText:UA.gridFilteringLabelThisFiscalYear,nextWeekDropdownOptionText:UA.gridFilteringLabelNextWeek,nextMonthDropdownOptionText:UA.gridFilteringLabelNextMonth,nextYearDropdownOptionText:UA.gridFilteringLabelNextYear,nextFiscalPeriodDropdownOptionText:UA.gridFilteringLabelNextFiscalPeriod,nextFiscalYearDropdownOptionText:UA.gridFilteringLabelNextFiscalYear,nextXHoursDropdownOptionText:UA.gridFilteringLabelNextXHours,nextXDaysDropdownOptionText:UA.gridFilteringLabelNextXDays,nextXWeeksDropdownOptionText:UA.gridFilteringLabelNextXWeeks,nextXMonthsDropdownOptionText:UA.gridFilteringLabelNextXMonths,nextXYearsDropdownOptionText:UA.gridFilteringLabelNextXYears,nextXFiscalPeriodsDropdownOptionText:UA.gridFilteringLabelNextXFiscalPeriods,nextXFiscalYearsDropdownOptionText:UA.gridFilteringLabelNextXFiscalYears,lastWeekDropdownOptionText:UA.gridFilteringLabelLastWeek,lastMonthDropdownOptionText:UA.gridFilteringLabelLastMonth,lastYearDropdownOptionText:UA.gridFilteringLabelLastYear,lastFiscalPeriodDropdownOptionText:UA.gridFilteringLabelLastFiscalPeriod,lastFiscalYearDropdownOptionText:UA.gridFilteringLabelLastFiscalYear,lastXHoursDropdownOptionText:UA.gridFilteringLabelLastXHours,lastXDaysDropdownOptionText:UA.gridFilteringLabelLastXDays,lastXWeeksDropdownOptionText:UA.gridFilteringLabelLastXWeeks,lastXMonthsDropdownOptionText:UA.gridFilteringLabelLastXMonths,lastXYearsDropdownOptionText:UA.gridFilteringLabelLastXYears,lastXFiscalPeriodsDropdownOptionText:UA.gridFilteringLabelLastXFiscalPeriods,lastXFiscalYearsDropdownOptionText:UA.gridFilteringLabelLastXFiscalYears,isNullDropdownOptionText:UA.gridFilteringLabelDoesNotContainData,isNotNullDropdownOptionText:UA.gridFilteringLabelContainDataAnyTime,datePickerRequiredValidatorErrorMessage:this._formatDatePickerError(),submitButtonLabel:UA.filterApplyLabel,resetButtonLabel:UA.filterClearLabel,nextSevenDaysDropdownOptionText:UA.gridFilteringLabelNext7Days,lastSevenDaysDropdownOptionText:UA.gridFilteringLabelLast7Days,olderThanXMinutesDropdownOptionText:UA.gridFilteringLabelOlderThanXMinutes,olderThanXHoursDropdownOptionText:UA.gridFilteringLabelOlderThanXHours,olderThanXDaysDropdownOptionText:UA.gridFilteringLabelOlderThanXDays,olderThanXWeeksDropdownOptionText:UA.gridFilteringLabelOlderThanXWeeks,olderThanXMonthsDropdownOptionText:UA.gridFilteringLabelOlderThanXMonths,olderThanXYearsDropdownOptionText:UA.gridFilteringLabelOlderThanXYears,inFiscalYearDropdownOptionText:UA.gridFilteringLabelInFiscalYear,inFiscalPeriodDropdownOptionText:UA.gridFilteringLabelInFiscalPeriod,inFiscalPeriodAndYearDropdownOptionText:UA.gridFilteringLabelInFiscalPeriodAndYear,inOrAfterFiscalPeriodAndYearDropdownOptionText:UA.gridFilteringLabelInOrAfterFiscalPeriodAndYear,inOrBeforeFiscalPeriodAndYearDropdownOptionText:UA.gridFilteringLabelInOrBeforeFiscalPeriodAndYear,dateQuarter:UA.gridFilteringLabelQuarter,dateFiscalYear:UA.gridFilteringLabelFY,prevMonthAriaLabel:UA.gridFilteringPrevMonthAriaLabel,nextMonthAriaLabel:UA.gridFilteringLabelNextMonth,prevYearAriaLabel:UA.gridFilteringPrevYearAriaLabel,nextYearAriaLabel:UA.gridFilteringLabelNextYear,prevYearRangeAriaLabel:UA.gridFilteringPrevYearRangeAriaLabel,nextYearRangeAriaLabel:UA.gridFilteringLabelNextYearRange,closeButtonAriaLabel:UA.gridFilteringLabelClose,goToToday:UA.gridGoToTodayLabel},enumPredicateBuilder:{dropdownRequiredValidatorErrorMessage:UA.gridFilteringLabelSelectOperator,equalsDropdownOptionText:UA.conditionFilterOperatorEqualsLabel,doesNotEqualDropdownOptionText:UA.conditionFilterOperatorDoesNotEqualLabel,isNullDropdownOptionText:UA.gridFilteringLabelDoesNotContainData,isNotNullDropdownOptionText:UA.gridFilteringLabelContainData,containsDropdownOptionText:UA.conditionFilterOperatorContainsLabel,doesNotContainDropdownOptionText:UA.conditionFilterOperatorDoesNotContainLabel,startsWithDropdownOptionText:UA.conditionFilterOperatorBeginsWithLabel,doesNotStartWithDropdownOptionText:UA.gridFilteringLabelDoesNotBeginWith,endsWithDropdownOptionText:UA.conditionFilterOperatorEndsWithLabel,doesNotEndWithDropdownOptionText:UA.gridFilteringLabelDoesNotEndWith,enumValuesRequiredValidatorErrorMessage:UA.gridFilteringLabelPleaseSelectValue,submitButtonLabel:UA.filterApplyLabel,resetButtonLabel:UA.filterClearLabel,textInputRequiredValidatorErrorMessage:UA.gridFilteringLabelPleaseEnterValue},booleanPredicateBuilder:{dropdownRequiredValidatorErrorMessage:UA.gridFilteringLabelSelectOperator,equalsDropdownOptionText:UA.conditionFilterOperatorEqualsLabel,doesNotEqualDropdownOptionText:UA.conditionFilterOperatorDoesNotEqualLabel,isNullDropdownOptionText:UA.gridFilteringLabelDoesNotContainData,isNotNullDropdownOptionText:UA.gridFilteringLabelContainData,enumValuesRequiredValidatorErrorMessage:UA.gridFilteringLabelPleaseSelectValue,submitButtonLabel:UA.filterApplyLabel,resetButtonLabel:UA.filterClearLabel},setOfEnumPredicateBuilder:{dropdownRequiredValidatorErrorMessage:UA.gridFilteringLabelSelectOperator,equalsDropdownOptionText:UA.conditionFilterOperatorEqualsLabel,doesNotEqualDropdownOptionText:UA.conditionFilterOperatorDoesNotEqualLabel,containsValuesDropdownOptionText:UA.gridFilteringLabelContainsValues,doesNotContainValuesDropdownOptionText:UA.gridFilteringLabelDoesNotContainValues,isNullDropdownOptionText:UA.gridFilteringLabelDoesNotContainData,isNotNullDropdownOptionText:UA.gridFilteringLabelContainData,enumValuesRequiredValidatorErrorMessage:UA.gridFilteringLabelPleaseSelectValue,submitButtonLabel:UA.filterApplyLabel,resetButtonLabel:UA.filterClearLabel},objectPredicateBuilder:{dropdownRequiredValidatorErrorMessage:UA.gridFilteringLabelSelectOperator,equalsDropdownOptionText:UA.conditionFilterOperatorEqualsLabel,doesNotEqualDropdownOptionText:UA.conditionFilterOperatorDoesNotEqualLabel,isNullDropdownOptionText:UA.gridFilteringLabelDoesNotContainData,isNotNullDropdownOptionText:UA.gridFilteringLabelContainData,containsDropdownOptionText:UA.conditionFilterOperatorContainsLabel,doesNotContainDropdownOptionText:UA.conditionFilterOperatorDoesNotContainLabel,startsWithDropdownOptionText:UA.conditionFilterOperatorBeginsWithLabel,doesNotStartWithDropdownOptionText:UA.gridFilteringLabelDoesNotBeginWith,endsWithDropdownOptionText:UA.conditionFilterOperatorEndsWithLabel,doesNotEndWithDropdownOptionText:UA.gridFilteringLabelDoesNotEndWith,valueRequiredValidatorErrorMessage:UA.gridFilteringLabelPleaseSelectValue,tagPickerLoadingText:UA.gridFilteringLabelLoading,tagPickerNoResultsFoundText:UA.gridFilteringLabelNoRecordsFound,submitButtonLabel:UA.filterApplyLabel,resetButtonLabel:UA.filterClearLabel,ariaLabelFilterByInput:UA.filterByValueLabel,ariaLabelFilterByDropdown:UA.gridFilteringLabelFilterFilterByOperator,equalsCurrentUserDropdownOptionText:UA.gridFilteringLabelEqualsCurrentUser,doesNotEqualCurrentUserDropdownOptionText:UA.gridFilteringLabelDoesNotEqualCurrentUser,equalsCurrentBusinessUnitDropdownOptionText:UA.gridFilteringLabelEqualsCurrentBusinessUnit,doesNotEqualCurrentBusinessUnitDropdownOptionText:UA.gridFilteringLabelDoesNotEqualCurrentBusinessUnit,equalsCurrentUserOrReportingHierarchyDropdownOptionText:UA.gridFilteringLabelEqualsCurrentUserOrHisReportingHierarchy,equalsCurrentUserAndTeamsOrReportingHierarchyAndTeamsDropdownOptionText:UA.gridFilteringLabelEqualsCurrentUserAndHisTeamsOrHisReportingHierarchyAndTheirTeams,equalsCurrentUserTeamsDropdownOptionText:UA.gridFilteringLabelEqualsCurrentUserTeams,equalsCurrentUserOrTeamsDropdownOptionText:UA.gridFilteringLabelEqualsCurrentUserOrUserTeams,textInputRequiredValidatorErrorMessage:UA.gridFilteringLabelPleaseEnterValue}}},bm);function bm(t,i,e,n,r,s,o,a){this._columnDetail=t,this._dataSetService=i,this._filtering=e,this._sorting=n,this._theming=r,this._isRTL=s,this._gridTelemetry=o,this._restoreFocusToColumnHeader=a}var Em=!1,Bm=void 0;try{Bm=window}catch(t){}function Cm(t){if(!Em&&void 0!==Bm)return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:Bm}var jm=(ym.prototype.dispose=function(){var t;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(t in this._timeoutIds)this._timeoutIds.hasOwnProperty(t)&&this.clearTimeout(parseInt(t,10));this._timeoutIds=null}if(this._immediateIds){for(t in this._immediateIds)this._immediateIds.hasOwnProperty(t)&&this.clearImmediate(parseInt(t,10));this._immediateIds=null}if(this._intervalIds){for(t in this._intervalIds)this._intervalIds.hasOwnProperty(t)&&this.clearInterval(parseInt(t,10));this._intervalIds=null}if(this._animationFrameIds){for(t in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(t)&&this.cancelAnimationFrame(parseInt(t,10));this._animationFrameIds=null}},ym.prototype.setTimeout=function(t,i){var e=this,n=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),n=setTimeout(function(){try{e._timeoutIds&&delete e._timeoutIds[n],t.apply(e._parent)}catch(t){e._onErrorHandler&&e._onErrorHandler(t)}},i),this._timeoutIds[n]=!0),n},ym.prototype.clearTimeout=function(t){this._timeoutIds&&this._timeoutIds[t]&&(clearTimeout(t),delete this._timeoutIds[t])},ym.prototype.setImmediate=function(t,i){var e=this,n=0,r=Cm(i);return this._isDisposed||(this._immediateIds||(this._immediateIds={}),n=r.setTimeout(function(){try{e._immediateIds&&delete e._immediateIds[n],t.apply(e._parent)}catch(t){e._logError(t)}},0),this._immediateIds[n]=!0),n},ym.prototype.clearImmediate=function(t,i){var e=Cm(i);this._immediateIds&&this._immediateIds[t]&&(e.clearTimeout(t),delete this._immediateIds[t])},ym.prototype.setInterval=function(t,i){var e=this,n=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),n=setInterval(function(){try{t.apply(e._parent)}catch(t){e._logError(t)}},i),this._intervalIds[n]=!0),n},ym.prototype.clearInterval=function(t){this._intervalIds&&this._intervalIds[t]&&(clearInterval(t),delete this._intervalIds[t])},ym.prototype.throttle=function(s,t,i){var o=this;if(this._isDisposed)return this._noop;var a,h,c=t||0,u=!0,l=!0,f=0,d=null;return i&&"boolean"==typeof i.leading&&(u=i.leading),i&&"boolean"==typeof i.trailing&&(l=i.trailing),function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return h=t,function t(i){var e=(new Date).getTime(),n=e-f,r=u?c-n:c;return c<=n&&(!i||u)?(f=e,d&&(o.clearTimeout(d),d=null),a=s.apply(o._parent,h)):null===d&&l&&(d=o.setTimeout(t,r)),a}(!0)}},ym.prototype.debounce=function(i,t,e){var h=this;if(this._isDisposed){var n=function(){};return n.cancel=function(){},n.flush=function(){return null},n.pending=function(){return!1},n}var c,r,u=t||0,l=!1,f=!0,d=null,A=0,g=(new Date).getTime(),w=null;function s(t){w&&(h.clearTimeout(w),w=null),g=t}function m(t){s(t),c=i.apply(h._parent,r)}function o(){return!!w}function a(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return r=t,function t(i){var e=(new Date).getTime(),n=!1;i&&(l&&u<=e-A&&(n=!0),A=e);var r=e-A,s=u-r,o=e-g,a=!1;return null!==d&&(d<=o&&w?a=!0:s=Math.min(s,d-o)),u<=r||a||n?m(e):null!==w&&i||!f||(w=h.setTimeout(t,s)),c}(!0)}return e&&"boolean"==typeof e.leading&&(l=e.leading),e&&"boolean"==typeof e.trailing&&(f=e.trailing),e&&"number"==typeof e.maxWait&&!isNaN(e.maxWait)&&(d=e.maxWait),a.cancel=function(){w&&s((new Date).getTime())},a.flush=function(){return w&&m((new Date).getTime()),c},a.pending=o,a},ym.prototype.requestAnimationFrame=function(t,i){var e,n=this,r=0,s=Cm(i);return this._isDisposed||(this._animationFrameIds||(this._animationFrameIds={}),e=function(){try{n._animationFrameIds&&delete n._animationFrameIds[r],t.apply(n._parent)}catch(t){n._logError(t)}},r=s.requestAnimationFrame?s.requestAnimationFrame(e):s.setTimeout(e,0),this._animationFrameIds[r]=!0),r},ym.prototype.cancelAnimationFrame=function(t,i){var e=Cm(i);this._animationFrameIds&&this._animationFrameIds[t]&&(e.cancelAnimationFrame?e.cancelAnimationFrame(t):e.clearTimeout(t),delete this._animationFrameIds[t])},ym.prototype._logError=function(t){this._onErrorHandler&&this._onErrorHandler(t)},ym);function ym(t,i){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=t||null,this._onErrorHandler=i,this._noop=function(){}}function xm(t,i){for(var e in t)if(t.hasOwnProperty(e)&&(!i.hasOwnProperty(e)||i[e]!==t[e]))return;for(var e in i)if(i.hasOwnProperty(e)&&!t.hasOwnProperty(e))return;return 1}function Im(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];return function(t,i){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];i=i||{};for(var r=0,s=e;r<s.length;r++){var o=s[r];if(o)for(var a in o)!o.hasOwnProperty(a)||t&&!t(a)||(i[a]=o[a])}return i}.apply(this,[null,t].concat(i))}var Mm=(Fm.raise=function(t,i,e,n){var r,s,o;if(Fm._isElement(t))"undefined"!=typeof document&&document.createEvent?((s=document.createEvent("HTMLEvents")).initEvent(i,n||!1,!0),Im(s,e),r=t.dispatchEvent(s)):"undefined"!=typeof document&&document.createEventObject&&(o=document.createEventObject(e),t.fireEvent("on"+i,o));else for(;t&&!1!==r;){var a=t.__events__,h=a?a[i]:null;if(h)for(var c in h)if(h.hasOwnProperty(c))for(var u=h[c],l=0;!1!==r&&l<u.length;l++){var f=u[l];f.objectCallback&&(r=f.objectCallback.call(f.parent,e))}t=n?t.parent:null}return r},Fm.isObserved=function(t,i){var e=t&&t.__events__;return!!e&&!!e[i]},Fm.isDeclared=function(t,i){var e=t&&t.__declaredEvents;return!!e&&!!e[i]},Fm.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Fm._isElement=function(t){return!!t&&(!!t.addEventListener||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement)},Fm.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},Fm.prototype.onAll=function(t,i,e){for(var n in i)i.hasOwnProperty(n)&&this.on(t,n,i[n],e)},Fm.prototype.on=function(t,i,r,e){var s=this;if(-1<i.indexOf(","))for(var n=i.split(/[ ,]+/),o=0;o<n.length;o++)this.on(t,n[o],r,e);else{var a,h=this._parent,c={target:t,eventName:i,parent:h,callback:r,options:e};(n=t.__events__=t.__events__||{})[i]=n[i]||{count:0},n[i][this._id]=n[i][this._id]||[],n[i][this._id].push(c),n[i].count++,Fm._isElement(t)?(a=function(){for(var t,i,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!s._isDisposed){try{!1===(i=r.apply(h,e))&&e[0]&&((t=e[0]).preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}catch(t){}return i}},c.elementCallback=a,t.addEventListener?t.addEventListener(i,a,e):t.attachEvent&&t.attachEvent("on"+i,a)):c.objectCallback=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(!s._isDisposed)return r.apply(h,t)},this._eventRecords.push(c)}},Fm.prototype.off=function(t,i,e,n){for(var r=0;r<this._eventRecords.length;r++){var s,o,a,h=this._eventRecords[r];t&&t!==h.target||i&&i!==h.eventName||e&&e!==h.callback||"boolean"==typeof n&&n!==h.options||((a=(o=(s=h.target.__events__)[h.eventName])?o[this._id]:null)&&(1!==a.length&&e?(o.count--,a.splice(a.indexOf(h),1)):(o.count-=a.length,delete s[h.eventName][this._id]),o.count||delete s[h.eventName]),h.elementCallback&&(h.target.removeEventListener?h.target.removeEventListener(h.eventName,h.elementCallback,h.options):h.target.detachEvent&&h.target.detachEvent("on"+h.eventName,h.elementCallback)),this._eventRecords.splice(r--,1))}},Fm.prototype.raise=function(t,i,e){return Fm.raise(this._parent,t,i,e)},Fm.prototype.declare=function(t){var i=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"==typeof t)i[t]=!0;else for(var e=0;e<t.length;e++)i[t[e]]=!0},Fm._uniqueId=0,Fm);function Fm(t){this._id=Fm._uniqueId++,this._parent=t,this._eventRecords=[]}function Qm(t){if(!Em&&"undefined"!=typeof document)return t&&t.ownerDocument?t.ownerDocument:document}zr("asyncIterator"),zr("iterator");var Rm=function(t,i){return(Rm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)};function km(t,i){function e(){this.constructor=t}Rm(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Sm=function(){return(Sm=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t}).apply(this,arguments)};function Dm(t,i){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)i.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(e[n[r]]=t[n[r]]);return e}function Nm(t,i,e,n){var r,s=arguments.length,o=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,e):n;if("object"===("undefined"==typeof Reflect?"undefined":sr(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,e,n);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(o=(s<3?r(o):3<s?r(i,e,o):r(i,e))||o);return 3<s&&o&&Object.defineProperty(i,e,o),o}function Tm(){for(var t=0,i=0,e=arguments.length;i<e;i++)t+=arguments[i].length;for(var n=Array(t),r=0,i=0;i<e;i++)for(var s=arguments[i],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n}var Om,Ym="__stylesheet__",Um="undefined"!=typeof navigator&&/rv:11.0/.test(navigator.userAgent),Hm={};try{Hm=window}catch(Zm){}var zm,Gm=(Pm.getInstance=function(){var t;return(!(Om=Hm[Ym])||Om._lastStyleElement&&Om._lastStyleElement.ownerDocument!==document)&&(t=(null==Hm?void 0:Hm.FabricConfig)||{},Om=Hm[Ym]=new Pm(t.mergeStyles)),Om},Pm.prototype.setConfig=function(t){this._config=Sm(Sm({},this._config),t)},Pm.prototype.onReset=function(t){this._onResetCallbacks.push(t)},Pm.prototype.getClassName=function(t){var i=this._config.namespace;return(i?i+"-":"")+(t||this._config.defaultPrefix)+"-"+this._counter++},Pm.prototype.cacheClassName=function(t,i,e,n){this._keyToClassName[i]=t,this._classNameToArgs[t]={args:e,rules:n}},Pm.prototype.classNameFromKey=function(t){return this._keyToClassName[t]},Pm.prototype.getClassNameCache=function(){return this._keyToClassName},Pm.prototype.argsFromClassName=function(t){var i=this._classNameToArgs[t];return i&&i.args},Pm.prototype.insertedRulesFromClassName=function(t){var i=this._classNameToArgs[t];return i&&i.rules},Pm.prototype.insertRule=function(t,i){var e=0!==this._config.injectionMode?this._getStyleElement():void 0;if(i&&this._preservedRules.push(t),e)switch(this._config.injectionMode){case 1:var n=e.sheet;try{n.insertRule(t,n.cssRules.length)}catch(t){}break;case 2:e.appendChild(document.createTextNode(t))}else this._rules.push(t);this._config.onInsertRule&&this._config.onInsertRule(t)},Pm.prototype.getRules=function(t){return(t?this._preservedRules.join(""):"")+this._rules.join("")+this._rulesToInsert.join("")},Pm.prototype.reset=function(){this._rules=[],this._rulesToInsert=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach(function(t){return t()})},Pm.prototype.resetKeys=function(){this._keyToClassName={}},Pm.prototype._getStyleElement=function(){var t=this;return this._styleElement||"undefined"==typeof document||(this._styleElement=this._createStyleElement(),Um||window.requestAnimationFrame(function(){t._styleElement=void 0})),this._styleElement},Pm.prototype._createStyleElement=function(){var t=document.head,i=document.createElement("style");i.setAttribute("data-merge-styles","true");var e,n=this._config.cspSettings;return n&&n.nonce&&i.setAttribute("nonce",n.nonce),this._lastStyleElement?t.insertBefore(i,this._lastStyleElement.nextElementSibling):(e=this._findPlaceholderStyleTag())?t.insertBefore(i,e.nextElementSibling):t.insertBefore(i,t.childNodes[0]),this._lastStyleElement=i},Pm.prototype._findPlaceholderStyleTag=function(){var t=document.head;return t?t.querySelector("style[data-merge-styles]"):null},Pm);function Pm(t){this._rules=[],this._preservedRules=[],this._rulesToInsert=[],this._counter=0,this._keyToClassName={},this._onResetCallbacks=[],this._classNameToArgs={},this._config=Sm({injectionMode:1,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},t),this._keyToClassName=this._config.classNameCache||{}}function Vm(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=[],a=[],h=Gm.getInstance();return function t(i){for(var e=0,n=i;e<n.length;e++){var r,s=n[e];s&&("string"==typeof s?0<=s.indexOf(" ")?t(s.split(" ")):(r=h.argsFromClassName(s))?t(r):-1===o.indexOf(s)&&o.push(s):Array.isArray(s)?t(s):"object"===sr(s)&&a.push(s))}}(t),{classes:o,objects:a}}function Lm(t){zm!==t&&(zm=t)}function Jm(){return void 0===zm&&(zm="undefined"!=typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),zm}function Wm(){return{rtl:Jm()}}zm=Jm();var _m,Xm={},Km={"user-select":1};var Zm,qm=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"],$m="left",tp="right",ip="@noflip",ep=((Zm={})[$m]=tp,Zm[tp]=$m,Zm),np={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};var rp,sp="displayName",op=/\:global\((.+?)\)/g;function ap(t,i){return 0<=t.indexOf(":global(")?t.replace(op,"$1"):0===t.indexOf(":")?i+t:t.indexOf("&")<0?i+" "+t:t}function hp(t,i){if(!i)return"";var e=[];for(var n in i)i.hasOwnProperty(n)&&n!==sp&&void 0!==i[n]&&e.push(n,i[n]);for(var r,s,o,a,h,c,u,l,f,d,A,g,w,m,p,v,b=0;b<e.length;b+=2)l=void 0,"-"!==(l=(c=e)[u=b]).charAt(0)&&(c[u]=Xm[l]=Xm[l]||l.replace(/([A-Z])/g,"-$1").toLowerCase()),0,a=(r=e)[s=b],"number"==typeof(h=r[s+1])&&(o=-1===qm.indexOf(a)?"px":"",r[s+1]=h+o),function(t,i,e){if(t.rtl){var n=i[e];if(!n)return;var r=i[e+1];if("string"==typeof r&&0<=r.indexOf(ip))i[e+1]=r.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(0<=n.indexOf($m))i[e]=n.replace($m,tp);else if(0<=n.indexOf(tp))i[e]=n.replace(tp,$m);else if(0<=String(r).indexOf($m))i[e+1]=r.replace($m,tp);else if(0<=String(r).indexOf(tp))i[e+1]=r.replace(tp,$m);else if(ep[n])i[e]=ep[n];else if(np[r])i[e+1]=np[r];else switch(n){case"margin":case"padding":i[e+1]=function(t){if("string"==typeof t){var i=t.split(" ");if(4===i.length)return i[0]+" "+i[3]+" "+i[2]+" "+i[1]}return t}(r);break;case"box-shadow":i[e+1]=(s=r.split(" "),o=parseInt(s[0],10),s[0]=s[0].replace(String(o),String(-1*o)),s.join(" "))}}var s,o}(t,e,b),f=e,d=b,v=p=m=w=g=A=void 0,_m||(A="undefined"!=typeof document?document:void 0,w=(g="undefined"!=typeof navigator?navigator:void 0)?g.userAgent.toLowerCase():void 0,_m=A?{isWebkit:!!(A&&"WebkitAppearance"in A.documentElement.style),isMoz:!!(w&&-1<w.indexOf("firefox")),isOpera:!!(w&&-1<w.indexOf("opera")),isMs:!(!g||!/rv:11.0/i.test(g.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}),p=_m,v=f[d],Km[v]&&(m=f[d+1],Km[v]&&(p.isWebkit&&f.push("-webkit-"+v,m),p.isMoz&&f.push("-moz-"+v,m),p.isMs&&f.push("-ms-"+v,m),p.isOpera&&f.push("-o-"+v,m)));for(b=1;b<e.length;b+=4)e.splice(b,1,":",e[b],";");return e.join("")}function cp(h){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var e,n=function e(t,n,r){void 0===n&&(n={__order:[]}),void 0===r&&(r="&");var i=Gm.getInstance(),s=n[r];s||(s={},n[r]=s,n.__order.push(r));for(var o,a,h,c,u=0,l=t;u<l.length;u++){var f=l[u];if("string"==typeof f){var d=i.argsFromClassName(f);d&&e(d,n,r)}else if(Array.isArray(f))e(f,n,r);else for(var A in f)if("selectors"===A){var g=f.selectors;for(var w in g)!function(t){var i;g.hasOwnProperty(t)&&(i=g[t],0===t.indexOf("@")?e([i],n,t=t+"{"+r):-1<t.indexOf(",")?function(t){if(!op.test(t))return t;for(var i=[],e=/\:global\((.+?)\)/g,n=null;n=e.exec(t);)-1<n[1].indexOf(",")&&i.push([n.index,n.index+n[0].length,n[1].split(",").map(function(t){return":global("+t.trim()+")"}).join(", ")]);return i.reverse().reduce(function(t,i){var e=i[0],n=i[1],r=i[2];return t.slice(0,e)+r+t.slice(n)},t)}(t).split(",").map(function(t){return t.trim()}).forEach(function(t){return e([i],n,ap(t,r))}):e([i],n,ap(t,r)))}(w)}else void 0!==f[A]&&("margin"===A||"padding"===A?(o=s,c="string"==typeof(h=f[a=A])?h.split(" "):[h],o[a+"Top"]=c[0],o[a+"Right"]=c[1]||c[0],o[a+"Bottom"]=c[2]||c[0],o[a+"Left"]=c[3]||c[1]||c[0]):s[A]=f[A])}return n}(t),r=function(t){for(var i=[h.rtl?"rtl":"ltr"],e=!1,n=0,r=t.__order;n<r.length;n++){var s=r[n];i.push(s);var o=t[s];for(var a in o)o.hasOwnProperty(a)&&void 0!==o[a]&&(e=!0,i.push(a,o[a]))}return e?i.join(""):void 0}(n);if(r){var s=Gm.getInstance(),o={className:s.classNameFromKey(r),key:r,args:t};if(!o.className){o.className=s.getClassName((e=n&&n["&"])?e.displayName:void 0);for(var a=[],c=0,u=n.__order;c<u.length;c++){var l=u[c];a.push(l,hp(h,n[l]))}o.rulesToInsert=a}return o}}function up(t,i){void 0===i&&(i=1);var e=Gm.getInstance(),n=t.className,r=t.key,s=t.args,o=t.rulesToInsert;if(o){for(var a=0;a<o.length;a+=2){var h,c,u=o[a+1];u&&(c=(h=(h=o[a]).replace(/&/g,function t(i,e){return e<=0?"":1===e?i:i+t(i,e-1)}("."+t.className,i)))+"{"+u+"}"+(0===h.indexOf("@")?"}":""),e.insertRule(c))}e.cacheClassName(n,r,s,o)}}function lp(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return fp(t,Wm())}function fp(t,i){var e=Vm(t instanceof Array?t:[t]),n=e.classes,r=e.objects;return r.length&&n.push(function(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];var n=cp.apply(void 0,Tm([t],i));return n?(up(n,t.specificityMultiplier),n.className):""}(i||{},r)),n.join(" ")}function dp(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(t&&1===t.length&&t[0]&&!t[0].subComponentStyles)return t[0];for(var e={},n={},r=0,s=t;r<s.length;r++){var o=s[r];if(o)for(var a in o)if(o.hasOwnProperty(a)){if("subComponentStyles"===a&&void 0!==o.subComponentStyles){var h=o.subComponentStyles;for(var c in h)h.hasOwnProperty(c)&&(n.hasOwnProperty(c)?n[c].push(h[c]):n[c]=[h[c]]);continue}var u=e[a],l=o[a];e[a]=void 0===u?l:Tm(Array.isArray(u)?u:[u],Array.isArray(l)?l:[l])}}if(0<Object.keys(n).length){e.subComponentStyles={};var f=e.subComponentStyles;for(var c in n)!function(t){var e;n.hasOwnProperty(t)&&(e=n[t],f[t]=function(i){return dp.apply(void 0,e.map(function(t){return"function"==typeof t?t(i):t}))})}(c)}return e}function Ap(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return gp(t,Wm())}function gp(t,i){var e={subComponentStyles:{}};if(!t[0]&&t.length<=1)return{subComponentStyles:{}};var n=dp.apply(void 0,t),r=[];for(var s in n)if(n.hasOwnProperty(s)){if("subComponentStyles"===s){e.subComponentStyles=n.subComponentStyles||{};continue}var o=Vm(n[s]),a=o.classes,h=o.objects;null!=h&&h.length?(c=cp(i||{},{displayName:s},h))&&(r.push(c),e[s]=a.concat([c.className]).join(" ")):e[s]=a.join(" ")}for(var c,u=0,l=r;u<l.length;u++)(c=l[u])&&up(c,null==i?void 0:i.specificityMultiplier);return e}function wp(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var n=[],r=0,s=i;r<s.length;r++){var o=s[r];o&&n.push("function"==typeof o?o(t):o)}return 1===n.length?n[0]:n.length?dp.apply(void 0,n):{}}function mp(t){Gm.getInstance().insertRule("@font-face{"+hp(Wm(),t)+"}",!0)}function pp(t){var i=Gm.getInstance(),e=i.getClassName(),n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r,"{",hp(Wm(),t[r]),"}");var s=n.join("");return i.insertRule("@keyframes "+e+"{"+s+"}",!0),i.cacheClassName(e,s,[],["keyframes",s]),e}lp({overflow:"hidden !important"});var vp="data-is-scrollable";function bp(){var t;return void 0===rp&&((t=document.createElement("div")).style.setProperty("width","100px"),t.style.setProperty("height","100px"),t.style.setProperty("overflow","scroll"),t.style.setProperty("position","absolute"),t.style.setProperty("top","-9999px"),document.body.appendChild(t),rp=t.offsetWidth-t.clientWidth,document.body.removeChild(t)),rp}var Ep,Bp=(km(Cp,Ep=P.Component),Cp.prototype.componentDidUpdate=function(t,i){this._updateComponentRef(t,this.props)},Cp.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},Cp.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var t=0,i=this._disposables.length;t<i;t++){var e=this.__disposables[t];e.dispose&&e.dispose()}this.__disposables=null}},Object.defineProperty(Cp.prototype,"className",{get:function(){var t;return this.__className||(t=/function (.{1,})\(/.exec(this.constructor.toString()),this.__className=t&&1<t.length?t[1]:""),this.__className},enumerable:!0,configurable:!0}),Object.defineProperty(Cp.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!0,configurable:!0}),Object.defineProperty(Cp.prototype,"_async",{get:function(){return this.__async||(this.__async=new jm(this),this._disposables.push(this.__async)),this.__async},enumerable:!0,configurable:!0}),Object.defineProperty(Cp.prototype,"_events",{get:function(){return this.__events||(this.__events=new Mm(this),this._disposables.push(this.__events)),this.__events},enumerable:!0,configurable:!0}),Cp.prototype._resolveRef=function(i){var e=this;return this.__resolves||(this.__resolves={}),this.__resolves[i]||(this.__resolves[i]=function(t){return e[i]=t}),this.__resolves[i]},Cp.prototype._updateComponentRef=function(t,i){void 0===i&&(i={}),t&&i&&t.componentRef!==i.componentRef&&(this._setComponentRef(t.componentRef,null),this._setComponentRef(i.componentRef,this))},Cp.prototype._warnDeprecations=function(t){this.className,this.props},Cp.prototype._warnMutuallyExclusive=function(t){this.className,this.props},Cp.prototype._warnConditionallyRequiredProps=function(t,i,e){this.className,this.props},Cp.prototype._setComponentRef=function(t,i){!this._skipComponentRefResolution&&t&&("function"==typeof t&&t(i),"object"===sr(t)&&(t.current=i))},Cp);function Cp(t,i){var e=Ep.call(this,t,i)||this;return function(i,e,t){for(var n=0,r=t.length;n<r;n++)!function(t){var n=i[t],r=e[t];(n||r)&&(i[t]=function(){for(var t,i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return r&&(t=r.apply(this,i)),n!==r&&(t=n.apply(this,i)),t})}(t[n])}(e,Cp.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),e}var jp="__globalSettings__",yp="__callbacks__",xp=0,Ip=(Mp.getValue=function(t,i){var e=Fp();return void 0===e[t]&&(e[t]="function"==typeof i?i():i),e[t]},Mp.setValue=function(t,i){var e=Fp(),n=e[yp],r=e[t];if(i!==r){var s={oldValue:r,value:e[t]=i,key:t};for(var o in n)n.hasOwnProperty(o)&&n[o](s)}return i},Mp.addChangeListener=function(t){var i=t.__id__;Qp()[i||(t.__id__=String(xp++))]=t},Mp.removeChangeListener=function(t){delete Qp()[t.__id__]},Mp);function Mp(){}function Fp(){var t,i=Cm()||{};return i[jp]||(i[jp]=((t={})[yp]={},t)),i[jp]}function Qp(){return Fp()[yp]}var Rp=(Object.defineProperty(kp.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(kp.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),kp.prototype.equals=function(t){return parseFloat(this.top.toFixed(4))===parseFloat(t.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(t.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(t.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(t.right.toFixed(4))},kp);function kp(t,i,e,n){void 0===t&&(t=0),void 0===i&&(i=0),void 0===e&&(e=0),void 0===n&&(n=0),this.top=e,this.bottom=n,this.left=t,this.right=i}function Sp(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var e=t.filter(function(t){return t}).join(" ").trim();return""===e?void 0:e}function Dp(t){return t.frozen||(t.frozen=new Gp)}function Np(t,i){return Up(t.entries,function(t){return t[0]===i})}var Tp=Sa.getWeakData,Op=Tt.set,Yp=Tt.getterFor,Up=yr.find,Hp=yr.findIndex,zp=0,Gp=function(){this.entries=[]};Gp.prototype={get:function(t){var i=Np(this,t);if(i)return i[1]},has:function(t){return!!Np(this,t)},set:function(t,i){var e=Np(this,t);e?e[1]=i:this.entries.push([t,i])},delete:function(i){var t=Hp(this.entries,function(t){return t[0]===i});return~t&&this.entries.splice(t,1),!!~t}};var Pp={getConstructor:function(t,e,n,r){function s(t,i,e){var n=a(t),r=Tp(S(i),!0);return!0===r?Dp(n).set(i,e):r[n.id]=e,t}var o=t(function(t,i){Ra(t,o,e),Op(t,{type:e,id:zp++,frozen:void 0}),null!=i&&Oa(i,t[r],t,n)}),a=Yp(e);return Va(o.prototype,{delete:function(t){var i=a(this);if(!B(t))return!1;var e=Tp(t);return!0===e?Dp(i).delete(t):e&&R(e,i.id)&&delete e[i.id]},has:function(t){var i=a(this);if(!B(t))return!1;var e=Tp(t);return!0===e?Dp(i).has(t):e&&R(e,i.id)}}),Va(o.prototype,n?{get:function(t){var i=a(this);if(B(t)){var e=Tp(t);return!0===e?Dp(i).get(t):e?e[i.id]:void 0}},set:function(t,i){return s(this,t,i)}}:{add:function(t){return s(this,t,!0)}}),o}};g(function(t){function i(i){return function(t){return i(this,arguments.length?t:void 0)}}var n,e,r,s,o,a,h=Tt.enforce,c=!J.ActiveXObject&&"ActiveXObject"in J,u=Object.isExtensible,l=t.exports=Pa("WeakMap",i,Pp,!0,!0);gt&&c&&(n=Pp.getConstructor(i,"WeakMap",!0),Sa.REQUIRED=!0,e=l.prototype,r=e.delete,s=e.has,o=e.get,a=e.set,Va(e,{delete:function(t){if(!B(t)||u(t))return r.call(this,t);var i=h(this);return i.frozen||(i.frozen=new n),r.call(this,t)||i.frozen.delete(t)},has:function(t){if(!B(t)||u(t))return s.call(this,t);var i=h(this);return i.frozen||(i.frozen=new n),s.call(this,t)||i.frozen.has(t)},get:function(t){if(!B(t)||u(t))return o.call(this,t);var i=h(this);return i.frozen||(i.frozen=new n),s.call(this,t)?o.call(this,t):i.frozen.get(t)},set:function(t,i){var e;return B(t)&&!u(t)?((e=h(this)).frozen||(e.frozen=new n),s.call(this,t)?a.call(this,t,i):e.frozen.set(t,i)):a.call(this,t,i),this}}))});var Vp,Lp="isRTL";function Jp(t){return void 0===t&&(t={}),void 0!==t.rtl?t.rtl:(void 0===Vp&&(null!==(i=function(t){var i=null;try{i=window.sessionStorage.getItem(t)}catch(t){}return i}(Lp))&&function(t,i){void 0===i&&(i=!1);var e=Qm();e&&e.documentElement.setAttribute("dir",t?"rtl":"ltr"),i&&function(t,i){try{window.sessionStorage.setItem(t,i)}catch(t){}}(Lp,t?"1":"0"),Lm(Vp=t)}(Vp="1"===i),e=Qm(),void 0===Vp&&e&&Lm(Vp="rtl"===(e.body&&e.body.getAttribute("dir")||e.documentElement.getAttribute("dir")))),!!Vp);var i,e}function Wp(t,i){return void 0===i&&(i=!0),t&&(i&&(t&&t&&t._virtual&&(e=t._virtual.parent),e)||t.parentNode&&t.parentNode);var e}function _p(t,i,e){void 0===e&&(e=!0);var n=!1;if(t&&i)if(e)for(n=!1;i;){var r=Wp(i);if(r===t){n=!0;break}i=r}else t.contains&&(n=t.contains(i));return n}function Xp(t,i){return t&&t!==document.body?i(t)?t:Xp(Wp(t),i):null}function Kp(t,i,e,n){return t.addEventListener(i,e,n),function(){return t.removeEventListener(i,e,n)}}var Zp="data-portal-element";var qp=0,$p=Gm.getInstance();$p&&$p.onReset&&$p.onReset(function(){return qp++});var tv="__retval__";function iv(h){void 0===h&&(h={});var c=new Map,u=0,l=qp;return function(t,i){var e;if(void 0===i&&(i={}),h.useStaticStyles&&"function"==typeof t&&t.__noStyleOverride__)return t(i);var n,r=c,s=i.theme,o=s&&void 0!==s.rtl?s.rtl:Jp(),a=h.disableCaching;return l!==qp&&(l=qp,c=new Map,u=0),h.disableCaching||(r=nv(c,t),r=nv(r,i)),!a&&r[tv]||(r[tv]=void 0===t?{}:gp(["function"==typeof t?t(i):t],{rtl:!!o,specificityMultiplier:h.useStaticStyles?5:void 0}),a||u++),u>(h.cacheSize||50)&&(null!==(e=null===(n=Cm())||void 0===n?void 0:n.FabricConfig)&&void 0!==e&&e.enableClassNameCacheFullWarning,c.clear(),u=0,h.disableCaching=!0),r[tv]}}function ev(t,i){return i=function(t){switch(t){case void 0:return"__undefined__";case null:return"__null__";default:return t}}(i),t.has(i)||t.set(i,new Map),t.get(i)}function nv(t,i){if("function"==typeof i)if(i.__cachedInputs__)for(var e=0,n=i.__cachedInputs__;e<n.length;e++)t=ev(t,n[e]);else t=ev(t,i);else if("object"===sr(i))for(var r in i)i.hasOwnProperty(r)&&(t=ev(t,i[r]));return t}var rv=!1,sv=0,ov={empty:!0},av={},hv="undefined"==typeof WeakMap?null:WeakMap;function cv(){sv++}function uv(o,a,h){if(void 0===a&&(a=100),void 0===h&&(h=!1),!hv)return o;var t,c;rv||((t=Gm.getInstance())&&t.onReset&&Gm.getInstance().onReset(cv),rv=!0);var u=0,l=sv;return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var e=c;(void 0===c||l!==sv||0<a&&a<u)&&(c=lv(),u=0,l=sv),e=c;for(var n,r=0;r<t.length;r++){var s=(n=t[r])?"object"===sr(n)||"function"==typeof n?n:(av[n]||(av[n]={val:n}),av[n]):ov;e.map.has(s)||e.map.set(s,lv()),e=e.map.get(s)}return e.hasOwnProperty("value")||(e.value=o.apply(void 0,t),u++),!h||null!==e.value&&void 0!==e.value||(e.value=o.apply(void 0,t)),e.value}}function lv(){return{map:hv?new hv:null}}function fv(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var e=[],n=0,r=t;n<r.length;n++){var s=r[n];if(s)if("string"==typeof s)e.push(s);else if(s.hasOwnProperty("toString")&&"function"==typeof s.toString)e.push(s.toString());else for(var o in s)s[o]&&e.push(o)}return e.join(" ")}var dv={settings:{},scopedSettings:{},inCustomizerContext:!1},Av=Ip.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),gv=[],wv=(mv.reset=function(){Av.settings={},Av.scopedSettings={}},mv.applySettings=function(t){Av.settings=Sm(Sm({},Av.settings),t),mv._raiseChange()},mv.applyScopedSettings=function(t,i){Av.scopedSettings[t]=Sm(Sm({},Av.scopedSettings[t]),i),mv._raiseChange()},mv.getSettings=function(t,i,e){void 0===e&&(e=dv);for(var n={},r=i&&e.scopedSettings[i]||{},s=i&&Av.scopedSettings[i]||{},o=0,a=t;o<a.length;o++){var h=a[o];n[h]=r[h]||e.settings[h]||s[h]||Av.settings[h]}return n},mv.applyBatchedUpdates=function(t,i){mv._suppressUpdates=!0;try{t()}catch(t){}mv._suppressUpdates=!1,i||mv._raiseChange()},mv.observe=function(t){gv.push(t)},mv.unobserve=function(i){gv=gv.filter(function(t){return t!==i})},mv._raiseChange=function(){mv._suppressUpdates||gv.forEach(function(t){return t()})},mv);function mv(){}var pv=P.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}});function vv(t){return"function"==typeof t}var bv,Ev=(km(Bv,bv=P.Component),Bv.prototype.componentDidMount=function(){wv.observe(this._onCustomizationChange)},Bv.prototype.componentWillUnmount=function(){wv.unobserve(this._onCustomizationChange)},Bv.prototype.render=function(){var l=this,f=this.props.contextTransform;return P.createElement(pv.Consumer,null,function(t){var i,e,n,r,s,o,a,h,c,u=(i=l.props,{customizations:{settings:(a=(n=void 0===(e=(t||{}).customizations)?{settings:{},scopedSettings:{}}:e).settings,h=i.settings,void 0===a&&(a={}),(vv(h)?h:(c=h,function(t){return c?Sm(Sm({},t),c):t}))(a)),scopedSettings:(r=n.scopedSettings,s=i.scopedSettings,void 0===r&&(r={}),(vv(s)?s:(void 0===(o=s)&&(o={}),function(t){var i=Sm({},t);for(var e in o)o.hasOwnProperty(e)&&(i[e]=Sm(Sm({},t[e]),o[e]));return i}))(r)),inCustomizerContext:!0}});return f&&(u=f(u)),P.createElement(pv.Provider,{value:u},l.props.children)})},Bv);function Bv(){var t=null!==bv&&bv.apply(this,arguments)||this;return t._onCustomizationChange=function(){return t.forceUpdate()},t}function Cv(t,i){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}var jv="data-is-focusable",yv="data-is-visible",xv="data-focuszone-id",Iv="data-is-sub-focuszone";function Mv(t,i,e,n,r,s,o,a){if(!i||!o&&i===t)return null;var h=Qv(i);if(r&&h&&(s||!kv(i)&&!Sv(i))){var c=Mv(t,i.lastElementChild,!0,!0,!0,s,o,a);if(c){if(a&&Rv(c,!0)||!a)return c;var u=Mv(t,c.previousElementSibling,!0,!0,!0,s,o,a);if(u)return u;for(var l=c.parentElement;l&&l!==i;){var f=Mv(t,l.previousElementSibling,!0,!0,!0,s,o,a);if(f)return f;l=l.parentElement}}}return e&&h&&Rv(i,a)?i:Mv(t,i.previousElementSibling,!0,!0,!0,s,o,a)||(n?null:Mv(t,i.parentElement,!0,!1,!1,s,o,a))}function Fv(t,i,e,n,r,s,o,a){if(!i||i===t&&r&&!o)return null;var h=Qv(i);if(e&&h&&Rv(i,a))return i;if(!r&&h&&(s||!kv(i)&&!Sv(i))){var c=Fv(t,i.firstElementChild,!0,!0,!1,s,o,a);if(c)return c}return i===t?null:Fv(t,i.nextElementSibling,!0,!0,!1,s,o,a)||(n?null:Fv(t,i.parentElement,!1,!1,!0,s,o,a))}function Qv(t){if(!t||!t.getAttribute)return!1;var i=t.getAttribute(yv);return null!=i?"true"===i:0!==t.offsetHeight||null!==t.offsetParent||!0===t.isVisible}function Rv(t,i){if(t&&!t.disabled){var e=0,n=null;t&&t.getAttribute&&(n=t.getAttribute("tabIndex"))&&(e=parseInt(n,10));var r=t.getAttribute?t.getAttribute(jv):null,s=null!==n&&0<=e,o=!!t&&"false"!==r&&("A"===t.tagName||"BUTTON"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||"true"===r||s);return(!i||-1!==e)&&o}}function kv(t){return t&&t.getAttribute&&t.getAttribute(xv)}function Sv(t){return t&&t.getAttribute&&"true"===t.getAttribute(Iv)}function Dv(t,i){return"true"!==(e=i,(n=Xp(t,function(t){return t.hasAttribute(e)}))&&n.getAttribute(e));var e,n}var Nv=void 0,Tv="__currentId__",Ov="id__",Yv=Cm()||{};void 0===Yv[Tv]&&(Yv[Tv]=0);var Uv=!1;function Hv(t){var i;Uv||((i=Gm.getInstance())&&i.onReset&&i.onReset(zv),Uv=!0);var e=Yv[Tv]++;return(t||Ov)+e}function zv(t){void 0===t&&(t=0),Yv[Tv]=t}function Gv(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var e={},n=0,r=t;n<r.length;n++)for(var s=r[n],o=0,a=Array.isArray(s)?s:Object.keys(s);o<a.length;o++)e[a[o]]=1;return e}var Pv=Gv(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),Vv=Gv(Gv(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),Pv),Lv=(Gv(Vv,["form"]),Gv(Gv(Vv,["height","loop","muted","preload","src","width"]),["poster"]),Gv(Vv,["start"]),Gv(Vv,["value"]),Gv(Vv,["download","href","hrefLang","media","rel","target","type"])),Jv=Gv(Vv,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),Wv=(Gv(Jv,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),Gv(Jv,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),Gv(Jv,["form","multiple","required"]),Gv(Vv,["selected","value"]),Gv(Vv,["cellPadding","cellSpacing"]),Gv(Vv,["rowSpan","scope"]),Gv(Vv,["colSpan","headers","rowSpan","scope"]),Gv(Vv,["span"]),Gv(Vv,["span"]),Gv(Vv,["acceptCharset","action","encType","encType","method","noValidate","target"]),Gv(Vv,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),Gv(Vv,["alt","crossOrigin","height","src","srcSet","useMap","width"])),_v=Vv;function Xv(t,i,e){for(var n=Array.isArray(i),r={},s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];!(!n&&i[a]||n&&0<=i.indexOf(a)||0===a.indexOf("data-")||0===a.indexOf("aria-"))||e&&-1!==(null==e?void 0:e.indexOf(a))||(r[a]=t[a])}return r}var Kv,Zv=["setState","render","componentWillMount","UNSAFE_componentWillMount","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount"];function qv(t){!function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.length<2?n[0]:function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];n.forEach(function(t){return t&&t.apply(e,i)})}}(t,t[e],i[e]))}(t,{componentDidMount:$v,componentDidUpdate:tb,componentWillUnmount:ib})}function $v(){eb(this.props.componentRef,this)}function tb(t){t.componentRef!==this.props.componentRef&&(eb(t.componentRef,null),eb(this.props.componentRef,this))}function ib(){eb(this.props.componentRef,null)}function eb(t,i){t&&("object"===sr(t)?t.current=i:"function"==typeof t&&t(i))}var nb=((Kv={})[38]=1,Kv[40]=1,Kv[37]=1,Kv[39]=1,Kv[36]=1,Kv[35]=1,Kv[9]=1,Kv[33]=1,Kv[34]=1,Kv),rb="ms-Fabric--isFocusVisible",sb="ms-Fabric--isFocusHidden";function ob(t,i){var e,n=i?Cm(i):Cm();n&&((e=n.document.body.classList).add(t?rb:sb),e.remove(t?sb:rb))}var ab,hb,cb=new WeakMap;function ub(t,i){var e=cb.get(t),n=e?e+i:1;return cb.set(t,n),n}function lb(t){var e=t.rootRef;return P.useEffect(function(){var t,i=Cm(null==e?void 0:e.current);if(i&&!0!==(null===(t=i.FabricConfig)||void 0===t?void 0:t.disableFocusRects))return ub(i,1)<=1&&(i.addEventListener("mousedown",fb,!0),i.addEventListener("pointerdown",db,!0),i.addEventListener("keydown",Ab,!0)),function(){var t;i&&!0!==(null===(t=i.FabricConfig)||void 0===t?void 0:t.disableFocusRects)&&0===ub(i,-1)&&(i.removeEventListener("mousedown",fb,!0),i.removeEventListener("pointerdown",db,!0),i.removeEventListener("keydown",Ab,!0))}},[e]),null}function fb(t){ob(!1,t.target)}function db(t){"mouse"!==t.pointerType&&ob(!1,t.target)}function Ab(t){var i=t.which;nb[i]&&ob(!0,t.target)}function gb(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var n=0,r=i;n<r.length;n++)!function t(i,e,n){for(var r in void 0===n&&(n=[]),n.push(e),e){var s,o;e.hasOwnProperty(r)&&"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&("object"===sr(s=e[r])&&null!==s?(o=-1<n.indexOf(s),i[r]=o?s:t(i[r]||{},s,n)):i[r]=s)}return n.pop(),i}(t||{},r[n]);return t}function wb(){return!!(window&&window.navigator&&window.navigator.userAgent)&&/iPad|iPhone|iPod/i.test(window.navigator.userAgent)}function mb(t){var i,e;return void 0!==hb&&!t||(e=(i=Cm())&&i.navigator.userAgent,hb=!!e&&-1!==e.indexOf("Macintosh")),!!hb}Pa("Set",function(i){return function(t){return i(this,arguments.length?t:void 0)}},Xa);var pb=["theme","styles"];function vb(g,w,m,t,i){var p=(t=t||{scope:"",fields:void 0}).scope,e=t.fields,v=void 0===e?pb:e,n=P.forwardRef(function(i,t){var e,n,r,s,o,a,h,c=P.useRef(),u=(n=v,r=p,s=P.useState(0)[1],o=function(){return s(function(t){return++t})},a=P.useContext(pv).customizations,h=a.inCustomizerContext,P.useEffect(function(){return h||wv.observe(o),function(){h||wv.unobserve(o)}},[h]),wv.getSettings(n,r,a)),l=u.styles,f=(u.dir,Dm(u,["styles","dir"])),d=m?m(i):void 0,A=c.current&&c.current.__cachedInputs__||[];return c.current&&l===A[1]&&i.styles===A[2]||((e=function(t){return wp(t,w,l,i.styles)}).__cachedInputs__=[w,l,i.styles],e.__noStyleOverride__=!l&&!i.styles,c.current=e),P.createElement(g,Sm({ref:t},f,d,i,{styles:c.current}))});return n.displayName="Styled"+(g.displayName||g.name),i?P.memo(n):n}var bb,Eb=iv(),Bb=vb(function(){Ar(e,P.Component);var i=pr(e);function e(){var t;return hr(this,e),(t=i.apply(this,arguments)).onCloseButtonClick=function(){t.props.onCloseButtonClick&&t.props.onCloseButtonClick()},t}return ur(e,[{key:"render",value:function(){var t=this.props,i=t.styles,e=t.title,n=t.closeButtonAriaLabel,r=t.closeButtonTooltip,s=Eb(i,this.props);return P.createElement("div",{className:s.root},P.createElement("h3",{className:s.title},e),P.createElement(y.IconButton,{iconProps:{iconName:"Cancel"},className:s.closeButton,onClick:this.onCloseButtonClick,ariaLabel:n,title:r}))}}]),e}(),function(t){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:"16px",borderBottomColor:t.theme.palette.neutralLighter},title:{flex:"1",textOverflow:"ellipsis",whiteSpace:"nowrap",color:t.theme.palette.neutralDark,fontSize:"16px",fontWeight:"600"},closeButton:{color:t.theme.palette.neutralDark,width:"16px",height:"16px",fontSize:"16px"}}}),Cb=(km(jb,bb=Bp),jb.prototype.render=function(){var t=Xv(this.props,_v);return P.createElement("form",Sm({},t,{onSubmit:this._onSubmit}),this.props.children)},jb.prototype.getChildContext=function(){return{isFormValid:this._isFormValid,mountInput:this._mountInput,unmountInput:this._unmountInput,submitValue:this._submitValue}},jb.prototype._getFormValues=function(){var i={};return this._mountedInputs.forEach(function(t){i[t.props.inputKey]=t.state.currentValue}),i},jb.prototype._validateComponent=function(t){var i=t.doValidate();return i.isValid||!this.props.showErrorsWhenPristine&&this._pristine?t.clearError():t.setError(i.errorMessage),i},jb.prototype._validateForm=function(){var i=this,e={};return this._mountedInputs.forEach(function(t){e[t.props.inputKey]=i._validateComponent(t)}),this.setState(function(t){return t.validationResults=e,t}),e},jb.childContextTypes={isFormValid:i.func.isRequired,mountInput:i.func.isRequired,unmountInput:i.func.isRequired,submitValue:i.func.isRequired},jb);function jb(t){var r=bb.call(this,t)||this;return r._onSubmit=function(t){var i,e,n;t.preventDefault(),r._pristine&&(r._pristine=!1),r.props.onSubmit&&(i=r._validateForm(),e=r._isFormValid(i),n=r._getFormValues(),e?r.props.onSubmit(n):r.props.onInvalidSubmit&&r.props.onInvalidSubmit(n))},r._mountInput=function(i){-1===r._mountedInputs.indexOf(i)&&(r._mountedInputs.push(i),r.setState(function(t){return t.validationResults[i.props.inputKey]=r._validateComponent(i),t}))},r._submitValue=function(i){var e=r._validateComponent(i);r.setState(function(t){return t.validationResults[i.props.inputKey]=e,t}),e.isValid&&r.props.onUpdated&&r.props.onUpdated(i.props.inputKey,i.state.currentValue)},r._unmountInput=function(i){var t=r._mountedInputs.indexOf(i);-1<t&&(r._mountedInputs.splice(t,1),r.setState(function(t){return delete t.validationResults[i.props.inputKey],t}))},r._isFormValid=function(t){for(var i in void 0===t&&(t=r.state.validationResults),t)if(!t[i].isValid)return!1;return!0},r._mountedInputs=[],r._pristine=!0,r.state={validationResults:{}},r}var yb,xb,Ib=(km(Mb,yb=Bp),Mb.prototype.UNSAFE_componentWillReceiveProps=function(i){this._validateProps(i);var t=this.props.value;t!==i.value&&t===this.state.currentValue&&this.setState(function(t){return t.currentValue=i.value,t})},Mb.prototype.componentWillMount=function(){this.formContext.mountInput(this)},Mb.prototype.componentWillUnmount=function(){this.debouncedSubmitValue.flush(),this.formContext.unmountInput(this)},Mb.prototype.doValidate=function(){for(var t=this.props.validators,i={isValid:!0,component:this},e=0,n=void 0===t?[]:t;e<n.length;e++){var r=(0,n[e])(this.state.currentValue);if(r)return i.isValid=!1,i.errorMessage=r,i}return i},Mb.prototype.setError=function(i){this.setState(function(t){return t.isValid=!1,t.currentError=i,t})},Mb.prototype.clearError=function(){this.setState(function(t){return t.isValid=!0,t.currentError=void 0,t})},Mb.prototype.setValue=function(i){var t=this;this.setState(function(t){return t.currentValue=i,t},function(){t.debouncedSubmitValue(t)})},Mb.prototype._validateProps=function(t){if(!t.inputKey)throw new Error("FormBaseInput: name must defined on all form inputs")},Mb.contextTypes={isFormValid:i.func.isRequired,mountInput:i.func.isRequired,unmountInput:i.func.isRequired,submitValue:i.func.isRequired},Mb);function Mb(t,i,e){var n=yb.call(this,t,i)||this;return n.formContext=i,n.debouncedSubmitValue=n._async.debounce(n.formContext.submitValue,null!==n.props.debounceInterval&&void 0!==n.props.debounceInterval?n.props.debounceInterval:250,{leading:null==e||e}),n._validateProps(t),n}function Fb(t,i){var e=xb.call(this,t,i)||this;return e._onChange=function(t,i){e.setValue(i)},e.state={isValid:!0,currentValue:e.props.value||!1,currentError:void 0},e._validateCheckboxProps(t.checkboxProps),e}km(Fb,xb=Ib),Fb.prototype.render=function(){return P.createElement(e.Checkbox,Sm({},this.props.checkboxProps,{key:this.props.inputKey,onChange:this._onChange,checked:this.state.currentValue}))},Fb.prototype._validateCheckboxProps=function(t){t&&(null!==t.checked&&t.checked,t.onChange)};var Qb,Rb=(km(kb,Qb=Bp),kb.prototype.render=function(){var t=this.props.buttonProps||{},i=t.disabled,e=Dm(t,["disabled"]);return P.createElement(y.PrimaryButton,Sm({},e,{type:"submit",disabled:i||!this.formContext.isFormValid()}),this.props.children)},kb.contextTypes={isFormValid:i.func.isRequired,mountInput:i.func.isRequired,unmountInput:i.func.isRequired,submitValue:i.func.isRequired},kb);function kb(t,i){var e=Qb.call(this,t,i)||this;return e.formContext=i,e}var Sb,Db=iv(),Nb=(km(Tb,Sb=Ib),Tb.prototype.render=function(){var t=this.props,i=t.datePickerProps,e=t.inputKey,n=t.styles,r=this.state,s=r.currentError,o=r.currentValue,a=Db(n,this.props);return P.createElement("div",{className:a.root},P.createElement(h.DatePicker,Sm({},i,{key:e,value:o,onSelectDate:this._onDateChanged})),s&&this._renderError(a.inputError))},Tb.prototype._renderError=function(t){return P.createElement("div",{className:t,role:"alert"},P.createElement(m.Icon,{iconName:"Error"}),this.state.currentError)},Tb.prototype._validateDatePickerProps=function(t){t&&(t.onSelectDate,t.strings)},Tb);function Tb(t,i){var e=Sb.call(this,t,i)||this;return e._onDateChanged=function(t){e.setValue(t)},e.state={isValid:!0,currentValue:e.props.value,currentError:void 0},e._validateDatePickerProps(e.props.datePickerProps),e}Qt({target:"String",proto:!0,forced:md("small")},{small:function(){return wd(this,"small","","")}});var Ob,Yb=vb(Nb,function(t){var i=t.theme,e=i.palette;return{root:"form-date-picker",inputError:["input-error",i.fonts.small,{color:e.redDark,display:"flex",flexDirection:"row",alignItems:"center",selectors:{"> i":{marginTop:"auto",fontSize:14}}}]}}),Ub=(km(Hb,Ob=Ib),Hb.prototype.render=function(){var t=this.state.currentValue;return P.createElement(n.Dropdown,Sm({options:[],calloutProps:{calloutMaxHeight:360}},this.props.dropdownProps,{key:this.props.inputKey,onChange:this._onChange},this.getDropdownSelectedValues(t)))},Hb.prototype.getDropdownSelectedValues=function(t){return t&&Array.isArray(t)?0===t.length?{selectedKeys:null}:{selectedKeys:t}:{selectedKey:t}},Hb.prototype._validateDropdownProps=function(t){t&&(null!==t.selectedKey&&t.selectedKey,t.onChange)},Hb);function Hb(t,i){var o=Ob.call(this,t,i)||this;o._onChange=function(t,r){var i,e,n,s=o.props.dropdownProps;s&&s.multiSelect?(i=o.state.currentValue||[],e=!!r.selected,n=function(t,i){void 0===i&&(i=0);for(var e=-1,n=i;t&&n<t.length;n++)if(t[n]===r.key){e=n;break}return e}(i),e?i.push(r.key):0<=n&&i.splice(n,1),o.setValue(i)):o.setValue(r.key)};var e=t.dropdownProps,n=o.props.value,r=e&&e.multiSelect&&!Array.isArray(n)?n?[n]:[]:n;return o.state={isValid:!0,currentValue:r,currentError:void 0},o._validateDropdownProps(o.props.dropdownProps),o}var zb,Gb,Pb=(km(Vb,zb=Ib),Vb.prototype.name=function(){return"FormTextBox"},Vb.prototype.render=function(){return P.createElement(o.TextField,Sm({},this.props.textFieldProps,{key:this.props.inputKey,value:this.state.currentValue,onChange:this._onChange,errorMessage:this.state.currentError}))},Vb.prototype._validateTextFieldProps=function(t){t&&(t.errorMessage,t.value,t.onChange)},Vb);function Vb(t,i){var e=zb.call(this,t,i,!1)||this;return e._onChange=function(t,i){void 0===i&&(i=""),e.setValue(i)},e.state={isValid:!0,currentValue:e.props.value||"",currentError:void 0},e._validateTextFieldProps(e.props.textFieldProps),e}function Lb(t,i){var e=Gb.call(this,t,i,!1)||this;return e._onChange=function(t,i){e.setValue(i)},e.state={isValid:!0,currentValue:e.props.value||"",currentError:void 0},e._validatePrefixedTextBlockProps(e.props.prefixedTextBlockProps),e}function Jb(i){return function(t){if(null==t||""===t||Array.isArray(t)&&0===t.length)return i}}function Wb(i,e){return function(t){if(t&&null==i.exec(t))return e}}function _b(e,n){return function(t){if(t){var i=Number(t);if(!isNaN(i)&&i<e)return n(i)}}}function Xb(i){return function(t){if(t&&Number(t)%1!=0)return i}}km(Lb,Gb=Ib),Lb.prototype.render=function(){return P.createElement(o.TextField,Sm({},this.props.prefixedTextBlockProps,{key:this.props.inputKey,value:this.state.currentValue,onChange:this._onChange,errorMessage:this.state.currentError}))},Lb.prototype._validatePrefixedTextBlockProps=function(t){t&&(t.errorMessage,t.value,t.onChange)},Qt({target:"String",proto:!0},{repeat:Us});var Kb=g(function(t,i){var e,n;Object.defineProperty(i,"__esModule",{value:!0}),(n=e=i.EDataType||(i.EDataType={})).String="String",n.MultilineText="Memo",n.WholeNumber="Integer_None",n.Date="DateTime",n.OptionSet="Picklist",n.MultiOptionSet="MultiSelectPicklistType",n.TwoOptions="Boolean",n.Lookup="Lookup",n.Customer="Customer",n.Owner="Owner",n.Currency="Money",n.Float="Double",n.Decimal="Decimal",n.Language="Integer_Language",n.UniqueIdentifier="UniqueIdentifier",n.Duration="Integer_Duration",i.isLookup=function(t){return t.dataType===e.Lookup},i.isOwner=function(t){return t.dataType===e.Owner},i.isUniqueIdentifier=function(t){return t.dataType===e.UniqueIdentifier},i.doesLookupTarget=function(t,i){return!!t.targets&&0<=t.targets.indexOf(i.toLowerCase())},i.doesLookupSupportHierarchy=function(t){return t.lookupRelationship&&t.lookupRelationship.isHierarchical}});A(Kb),Kb.EDataType,Kb.isLookup,Kb.isOwner,Kb.isUniqueIdentifier,Kb.doesLookupTarget,Kb.doesLookupSupportHierarchy;var Zb,qb=/,/g,$b=/\.$/g,tE=(km(iE,Zb=P.Component),iE.prototype.UNSAFE_componentWillReceiveProps=function(t){t.value!==Number(this.state.lastValidValue)&&this.setState(this.makeStateFromProps(t))},iE.prototype.render=function(){var t=this.props,i=t.textFieldProps,e=t.formatValue,n=this.state,r=n.stringValue,s=n.formattedValue;return P.createElement(o.TextField,Sm({},i,{className:fv("ba-NumericalField",i&&i.className),value:!1===e?r:s,onChange:this.applyInput,onBlur:this.onBlur}))},iE);function iE(t){var n=Zb.call(this,t)||this;return n.defaultFormatter=new Intl.NumberFormat(void 0,{maximumFractionDigits:20}),n.makeStateFromProps=function(t){return{stringValue:void 0!==t.value?String(t.value):"",formattedValue:void 0!==t.value?n.formatAsNumericalString(String(t.value)):"",lastValidValue:void 0!==t.value?String(t.value):""}},n.formatAsNumericalString=function(i){try{var t=Number(i);return isNaN(t)?i:n.defaultFormatter.format(t)}catch(t){return i}},n.applyInput=function(t,i){var e=i.replace(qb,"");!(e=e.trim())||n.isValid(e)?n.setState({formattedValue:i,stringValue:e,lastValidValue:e}):n.setState({formattedValue:i,stringValue:e})},n.onBlur=function(){var t=n.state.lastValidValue,i=t?Number(t):void 0;i!==n.props.value&&n.props.onBlurred&&n.props.onBlurred(i);var e=t.replace($b,"");n.setState({stringValue:e||"",formattedValue:void 0!==i?n.formatAsNumericalString(e):""})},n.state=n.makeStateFromProps(t),n}var eE,nE=(km(rE,eE=tE),rE.prototype.isValid=function(t){return hE(Number(t))},rE);function rE(){return null!==eE&&eE.apply(this,arguments)||this}var sE,oE=(km(aE,sE=tE),aE.prototype.isValid=function(t){return hE(Number(t))&&0<=Number(t)},aE);function aE(){return null!==sE&&sE.apply(this,arguments)||this}function hE(t){return"number"==typeof t&&!(!isFinite(t)||Math.floor(t)!==t)}var cE,uE=(km(lE,cE=tE),lE.prototype.isValid=function(t){return isFinite(Number(t))&&this.isOfAcceptablePrecision(t)},lE.prototype.isOfAcceptablePrecision=function(t){var i=this.props.maxPrecision;if(void 0===i)return!0;var e=t.split("."),n=(e[0],e[1]);return!n||n.length<=i},lE);function lE(){return null!==cE&&cE.apply(this,arguments)||this}var fE=Object.freeze({__proto__:null,NumberField:uE,NumericalField:tE,IntegerField:nE,NaturalNumberField:oE}),dE=g(function(t,i){var n,e=M&&M.__extends||(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),r=M&&M.__assign||function(){return(r=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var s,o=(e(a,s=I.PureComponent),a.prototype.render=function(){return I.createElement(fE.IntegerField,r({},this.props,{value:""!==this.props.value?Number(this.props.value):void 0,onBlurred:this.onBlurred,textFieldProps:{ariaLabel:this.props.ariaLabel,suffix:this.props.valueSuffix,disabled:this.props.disabled,onGetErrorMessage:this.onGetErrorMessage,validateOnFocusOut:!0,validateOnLoad:!1}}))},a);function a(){var i=null!==s&&s.apply(this,arguments)||this;return i.onGetErrorMessage=function(t){i.props.value===t&&""===t&&i.props.onChange("")},i.onBlurred=function(t){i.props.onChange(void 0!==t?String(t):"")},i}i.WholeNumberControl=o});A(dE),dE.WholeNumberControl;var AE="".endsWith,gE=Math.min;Qt({target:"String",proto:!0,forced:!Ff("endsWith")},{endsWith:function(t,i){var e=String(F(this));Mf(t);var n=1<arguments.length?i:void 0,r=jt(e.length),s=void 0===n?r:gE(jt(n),r),o=String(t);return AE?AE.call(e,o,s):e.slice(s-o.length,s)===o}});var wE=g(function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=(c.IsNullOrWhiteSpace=function(t){try{return null==t||"undefined"==t||t.toString().replace(/\s/g,"").length<1}catch(t){return!1}},c.Join=function(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];try{var n=t[0];if(Array.isArray(n)||n instanceof Array){for(var r=c.Empty,s=0;s<n.length;s++){var o=n[s];s<n.length-1?r+=o+i:r+=o}return r}if("object"!=sr(n))return c.join.apply(c,[i].concat(t));var a=c.Empty,h=n;return Object.keys(n).forEach(function(t){a+=h[t]+i}),a=a.slice(0,a.length-i.length)}catch(i){return c.Empty}},c.Format=function(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];try{return t.match(c.regexNumber)?c.format(c.regexNumber,t,i):t.match(c.regexObject)?c.format(c.regexObject,t,i,!0):c.Empty}catch(t){return c.Empty}},c.format=function(t,i,r,s){return void 0===s&&(s=!1),i.replace(t,function(t,i){var e,n=t.split(":");return 1<n.length&&(i=n[0].replace("{",""),t=n[1].replace("}","")),null==(e=s?r[0][i]:r[i])||null==e||t.match(/{\d+}/)||void 0!==(e=c.parsePattern(t,e))&&null!=e?e:c.Empty})},c.parsePattern=function(t,i){switch(t){case"L":return i.toLowerCase();case"U":return i.toUpperCase();case"d":if("string"==typeof i)return c.getDisplayDateFromString(i);if(i instanceof Date)return c.Format("{0:00}.{1:00}.{2:0000}",i.getDate(),i.getMonth(),i.getFullYear());break;case"s":if("string"==typeof i)return c.getSortableDateFromString(i);if(i instanceof Date)return c.Format("{0:0000}-{1:00}-{2:00}",i.getFullYear(),i.getMonth(),i.getDate());break;case"n":"string"!=typeof i&&(i=i.toString());var e=i.replace(/,/g,".");if(isNaN(parseFloat(e))||e.length<=3)break;var n=e.split(/[^0-9]+/g),r=n;1<n.length&&(r=[c.join.apply(c,[""].concat(n.splice(0,n.length-1))),n[n.length-1]]);var s=r[0],o=s.length%3,a=0<o?s.substring(0,o):c.Empty,h=s.substring(o).match(/.{3}/g);return a+"."+c.Join(".",h)+(1<r.length?","+r[1]:"")}return"number"!=typeof i&&isNaN(i)||isNaN(+t)||c.IsNullOrWhiteSpace(i)?i:c.formatNumber(i,t)},c.getDisplayDateFromString=function(t){var i;if((i=t.split("-")).length<=1)return t;var e=i[i.length-1],n=i[i.length-2],r=i[i.length-3];return(e=(e=e.split("T")[0]).split(" ")[0])+"."+n+"."+r},c.getSortableDateFromString=function(t){var i=t.replace(",","").split(".");if(i.length<=1)return t;var e=i[i.length-1].split(" "),n=c.Empty;1<e.length&&(n=e[e.length-1]);var r=i[i.length-1].split(" ")[0]+"-"+i[i.length-2]+"-"+i[i.length-3];return!c.IsNullOrWhiteSpace(n)&&1<n.length?r+="T"+n:r+="T00:00:00",r},c.formatNumber=function(t,i){var e=i.length,n=t.toString();if(e<=n.length)return n;var r=e-n.length;return new Array(++r).join("0")+n},c.join=function(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var n=c.Empty,r=0;r<i.length;r++)if(!("string"==typeof i[r]&&c.IsNullOrWhiteSpace(i[r])||"number"!=typeof i[r]&&"string"!=typeof i[r])){n+=""+i[r];for(var s=r+1;s<i.length;s++)if(!c.IsNullOrWhiteSpace(i[s])){n+=t,r=s-1;break}}return n},c.regexNumber=/{(\d+(:\w*)?)}/g,c.regexObject=/{(\w+(:\w*)?)}/g,c.Empty="",c);function c(){}i.String=n;var e=(r.prototype.ToString=function(){return this.Values.join("")},r.prototype.Append=function(t){this.Values.push(t)},r.prototype.AppendFormat=function(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];this.Values.push(n.Format.apply(n,[t].concat(i)))},r.prototype.Clear=function(){this.Values=[]},r);function r(t){void 0===t&&(t=n.Empty),this.Values=[],this.Values=new Array(t)}i.StringBuilder=e});A(wE),wE.String,wE.StringBuilder;var mE=g(function(t,i){var n,e=M&&M.__extends||(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),r=M&&M.__assign||function(){return(r=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t}).apply(this,arguments)},s=M&&M.__rest||function(t,i){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)i.indexOf(n[r])<0&&(e[n[r]]=t[n[r]]);return e};Object.defineProperty(i,"__esModule",{value:!0});var o,a=(e(h,o=I.PureComponent),h.prototype.render=function(){var t=this.props,i=t.value,e=(t.onChange,s(t,["value","onChange"]));return I.createElement(c.TextField,r({},e,{defaultValue:i,onBlur:this.onBlur}))},h);function h(){var i=null!==o&&o.apply(this,arguments)||this;return i.onBlur=function(t){i.props.onChange(t.target.value)},i}i.BlurryTextField=a});A(mE),mE.BlurryTextField;var pE=g(function(t,s){var e=M&&M.__assign||function(){return(e=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t}).apply(this,arguments)};function n(i){return void 0===i&&(i=e({},s.commonOperatorContainsLabels,s.commonInputControlLabel)),[{name:"like",displayName:i.contains,valueFormat:"%{0}%",valueComponent:function(t){return I.createElement(mE.BlurryTextField,e({},t,{ariaLabel:i.inputControlLabel}))},preserveOldValue:h},{name:"not-like",displayName:i.doesNotContain,valueFormat:"%{0}%",valueComponent:function(t){return I.createElement(mE.BlurryTextField,e({},t,{ariaLabel:i.inputControlLabel}))},preserveOldValue:h},{name:"begins-with",displayName:i.beginsWith,xmlName:"like",valueFormat:"{0}%",valueComponent:function(t){return I.createElement(mE.BlurryTextField,e({},t,{ariaLabel:i.inputControlLabel}))},preserveOldValue:h},{name:"does-not-begins-with",displayName:i.doesNotBeginWith,xmlName:"not-like",valueFormat:"{0}%",valueComponent:function(t){return I.createElement(mE.BlurryTextField,e({},t,{ariaLabel:i.inputControlLabel}))},preserveOldValue:h},{name:"ends-with",displayName:i.endsWith,xmlName:"like",valueFormat:"%{0}",valueComponent:function(t){return I.createElement(mE.BlurryTextField,e({},t,{ariaLabel:i.inputControlLabel}))},preserveOldValue:h},{name:"does-not-ends-with",displayName:i.doesNotEndWith,xmlName:"not-like",valueFormat:"%{0}",valueComponent:function(t){return I.createElement(mE.BlurryTextField,e({},t,{ariaLabel:i.inputControlLabel}))},preserveOldValue:h}]}function o(t){return!isNaN(Number(t))}function r(t,i){return"eq"===t?i?"in":"eq":"ne"===t?i?"not-in":"ne":t}function a(t){return"eq"===t||"in"===t?"eq":"ne"===t||"not-in"===t?"ne":t}function h(t,i){return!!i&&!!n().find(function(t){return t.name===i.name})}Object.defineProperty(s,"__esModule",{value:!0}),s.commonPickerValidationLabels={errorNoValues:"Provide at least one value for the condition"},s.commonLookupLabels=e({},s.commonPickerValidationLabels,{loadingResults:"Loading results...",noResults:"No results found"}),s.commonEqualityComparisonOperatorsLabels={equals:"equals",doesNotEqual:"doesn't equal"},s.commonComparisonOperatorsLabels=e({},s.commonEqualityComparisonOperatorsLabels,{greaterThan:"greater than",greaterThanOrEqualTo:"greater than or equal to",lessThan:"less than",lessThanOrEqualTo:"less than or equal to"}),s.commonOperatorContainsLabels={contains:"contains",doesNotContain:"doesn't contain",beginsWith:"begins with",doesNotBeginWith:"doesn't begin with",endsWith:"ends with",doesNotEndWith:"doesn't end with"},s.commonOperatorNullLabels={containsData:"contains data",doesNotContainData:"doesn't contain data"},s.commonInputControlLabel={inputControlLabel:"value"},s.commonIntValueValidationLabels={noValue:"Provide a value for the condition",minValue:"Input value is lower than the minimum value allowed for this field ({0})",maxValue:"Input value is greater than the maximum value allowed for this field ({0})"},s.commonValueValidationLabels=e({},s.commonIntValueValidationLabels,{maxPrecision:"Input value has a greater precision than the maximum allowed for this field ({0})"}),s.getCommonContainsOperators=n,s.getCommonNullOperators=function(t){return void 0===t&&(t=s.commonOperatorNullLabels),[{name:"not-null",displayName:t.containsData,valueComponent:null},{name:"null",displayName:t.doesNotContainData,valueComponent:null}]},s.isNumber=o,s.getCommonValueValidations=function(t,i,e){void 0===e&&(e=s.commonValueValidationLabels);var n=[];""===t&&n.push(e.noValue),o(t)&&i&&null!=i.minValue&&i.minValue>Number(t)&&n.push(wE.String.Format(e.minValue,i.minValue.toString())),o(t)&&i&&null!=i.maxValue&&i.maxValue<Number(t)&&n.push(wE.String.Format(e.maxValue,i.maxValue.toString()));var r=o(t)&&Number(t)%1!=0?t.split(".")[1].length:0;return o(t)&&i&&null!=i.precision&&i.precision<r&&n.push(wE.String.Format(e.maxPrecision,i.precision.toString())),n},s.getPluralOperatorXmlName=r,s.getPluralOperatorInternalName=a,s.fetchXmlToTagExpression=function(t,i,e){var n=t.attributes.value;if(n)return e.create(a(t.attributes.operator),n,i);var r=(t.elements||[]).map(function(t){return t.elements||[]}).map(function(t){return t[0]&&t[0].text}).filter(function(t){return"string"==typeof t});return e.create(a(t.attributes.operator),r.join(","),i)},s.tagExpressionToFetchXml=function(t,i){void 0===i&&(i=!1);var e=t.state.dataType.state.value.split(",");return!i&&e.length<2?{name:"condition",type:"element",attributes:{attribute:t.state.field.state.selectedFieldName||"",operator:r(t.state.dataType.state.operatorName,!1),value:e[0]}}:{name:"condition",type:"element",attributes:{attribute:t.state.field.state.selectedFieldName||"",operator:r(t.state.dataType.state.operatorName,!0)},elements:e.map(function(t){return{name:"value",type:"element",elements:[{type:"text",text:t}]}})}},s.wasContainsOperator=h,s.conditionFetchXmlPostProcessing=function(t){t.attributes.attribute=t.attributes.attribute.concat("name")}});A(pE),pE.commonPickerValidationLabels,pE.commonLookupLabels,pE.commonEqualityComparisonOperatorsLabels,pE.commonComparisonOperatorsLabels,pE.commonOperatorContainsLabels,pE.commonOperatorNullLabels,pE.commonInputControlLabel,pE.commonIntValueValidationLabels,pE.commonValueValidationLabels,pE.getCommonContainsOperators,pE.getCommonNullOperators,pE.isNumber,pE.getCommonValueValidations,pE.getPluralOperatorXmlName,pE.getPluralOperatorInternalName,pE.fetchXmlToTagExpression,pE.tagExpressionToFetchXml,pE.wasContainsOperator,pE.conditionFetchXmlPostProcessing;var vE=g(function(t,i){var n,e=M&&M.__extends||(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),o=M&&M.__assign||function(){return(o=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0}),i.defaultFiscalYearAndPeriodLabels={dateQuarter:"Quarter {0}",dateFiscalYear:"FY{0}"},i.defaultDateTypeLabels=o({on:"on",onOrAfter:"on or after",onOrBefore:"on or before",yesterday:"yesterday",today:"today",tomorrow:"tomorrow",nextSevenDays:"next 7 days",lastSevenDays:"last 7 days",nextWeek:"next week",lastWeek:"last week",thisWeek:"this week",nextMonth:"next month",lastMonth:"last month",thisMonth:"this month",nextYear:"next year",lastYear:"last year",thisYear:"this year",lastXHours:"last x hours",nextXHours:"next x hours",lastXDays:"last x days",nextXDays:"next x days",lastXWeeks:"last x weeks",nextXWeeks:"next x weeks",lastXMonths:"last x months",nextXMonths:"next x months",lastXYears:"last x years",nextXYears:"next x years",olderThanXMinutes:"older than x minutes",olderThanXHours:"older than x hours",olderThanXDays:"older than x days",olderThanXWeeks:"older than x weeks",olderThanXMonths:"older than x months",olderThanXYears:"older than x years",containsData:"contains data (any time)",doesNotContainData:"doesn't contain data",inFiscalYear:"in fiscal year",lastFiscalYear:"last fiscal year",thisFiscalYear:"this fiscal year",nextFiscalYear:"next fiscal year",lastXFiscalYears:"last x fiscal years",nextXFiscalYears:"next x fiscal years",inFiscalPeriod:"in fiscal period",lastFiscalPeriod:"last fiscal period",thisFiscalPeriod:"this fiscal period",nextFiscalPeriod:"next fiscal period",lastXFiscalPeriods:"last x fiscal periods",nextXFiscalPeriods:"next x fiscal periods",inFiscalPeriodAndYear:"in fiscal period and year",inOrAfterFiscalPeriodAndYear:"in or after fiscal period and year",inOrBeforeFiscalPeriodAndYear:"in or before fiscal period and year"},i.defaultFiscalYearAndPeriodLabels,pE.commonInputControlLabel,pE.commonValueValidationLabels),i.dateType=function(s){return void 0===s&&(s=i.defaultDateTypeLabels),{name:Kb.EDataType.Date,defaultValue:"",iconName:"DateTime",operators:[{name:"on",displayName:s.on,preserveOldValue:C,defaultValue:(new Date).toISOString().slice(0,10)},{name:"on-or-after",displayName:s.onOrAfter,preserveOldValue:C,defaultValue:(new Date).toISOString().slice(0,10)},{name:"on-or-before",displayName:s.onOrBefore,preserveOldValue:C,defaultValue:(new Date).toISOString().slice(0,10)},{name:"yesterday",displayName:s.yesterday,valueComponent:null},{name:"today",displayName:s.today,valueComponent:null},{name:"tomorrow",displayName:s.tomorrow,valueComponent:null},{name:"next-seven-days",displayName:s.nextSevenDays,valueComponent:null},{name:"last-seven-days",displayName:s.lastSevenDays,valueComponent:null},{name:"next-week",displayName:s.nextWeek,valueComponent:null},{name:"last-week",displayName:s.lastWeek,valueComponent:null},{name:"this-week",displayName:s.thisWeek,valueComponent:null},{name:"next-month",displayName:s.nextMonth,valueComponent:null},{name:"last-month",displayName:s.lastMonth,valueComponent:null},{name:"this-month",displayName:s.thisMonth,valueComponent:null},{name:"next-year",displayName:s.nextYear,valueComponent:null},{name:"last-year",displayName:s.lastYear,valueComponent:null},{name:"this-year",displayName:s.thisYear,valueComponent:null},{name:"last-x-hours",displayName:s.lastXHours,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"next-x-hours",displayName:s.nextXHours,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"last-x-days",displayName:s.lastXDays,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"next-x-days",displayName:s.nextXDays,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"last-x-weeks",displayName:s.lastXWeeks,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"next-x-weeks",displayName:s.nextXWeeks,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"last-x-months",displayName:s.lastXMonths,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"next-x-months",displayName:s.nextXMonths,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"last-x-years",displayName:s.lastXYears,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"next-x-years",displayName:s.nextXYears,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"olderthan-x-minutes",displayName:s.olderThanXMinutes,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"olderthan-x-hours",displayName:s.olderThanXHours,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"olderthan-x-days",displayName:s.olderThanXDays,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"olderthan-x-weeks",displayName:s.olderThanXWeeks,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"olderthan-x-months",displayName:s.olderThanXMonths,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"olderthan-x-years",displayName:s.olderThanXYears,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"not-null",displayName:s.containsData,valueComponent:null},{name:"null",displayName:s.doesNotContainData,valueComponent:null},{name:"in-fiscal-year",displayName:s.inFiscalYear,valueComponent:function(t){return I.createElement(l,o({},t,{labels:s,ariaLabel:s.inputControlLabel}))},defaultValue:B.toString()},{name:"last-fiscal-year",displayName:s.lastFiscalYear,valueComponent:null},{name:"this-fiscal-year",displayName:s.thisFiscalYear,valueComponent:null},{name:"next-fiscal-year",displayName:s.nextFiscalYear,valueComponent:null},{name:"last-x-fiscal-years",displayName:s.lastXFiscalYears,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"next-x-fiscal-years",displayName:s.nextXFiscalYears,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"in-fiscal-period",displayName:s.inFiscalPeriod,valueComponent:function(t){return I.createElement(A,o({},t,{labels:s,ariaLabel:s.inputControlLabel}))},defaultValue:E.toString()},{name:"last-fiscal-period",displayName:s.lastFiscalPeriod,valueComponent:null},{name:"this-fiscal-period",displayName:s.thisFiscalPeriod,valueComponent:null},{name:"next-fiscal-period",displayName:s.nextFiscalPeriod,valueComponent:null},{name:"last-x-fiscal-periods",displayName:s.lastXFiscalPeriods,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"next-x-fiscal-periods",displayName:s.nextXFiscalPeriods,valueComponent:function(t){return I.createElement(dE.WholeNumberControl,o({},t,{ariaLabel:s.inputControlLabel}))},preserveOldValue:c},{name:"in-fiscal-period-and-year",displayName:s.inFiscalPeriodAndYear,expressionToFetchXml:v,fetchXmlToExpression:b,valueComponent:function(t){return I.createElement(m,o({},t,{labels:s,ariaLabel:s.inputControlLabel}))},defaultValue:{year:B.toString(),quarter:E.toString()}},{name:"in-or-after-fiscal-period-and-year",displayName:s.inOrAfterFiscalPeriodAndYear,expressionToFetchXml:v,fetchXmlToExpression:b,valueComponent:function(t){return I.createElement(m,o({},t,{labels:s,ariaLabel:s.inputControlLabel}))},defaultValue:{year:B.toString(),quarter:E.toString()}},{name:"in-or-before-fiscal-period-and-year",displayName:s.inOrBeforeFiscalPeriodAndYear,expressionToFetchXml:v,fetchXmlToExpression:b,valueComponent:function(t){return I.createElement(m,o({},t,{labels:s,ariaLabel:s.inputControlLabel}))},defaultValue:{year:B.toString(),quarter:E.toString()}}],defaultValueComponent:function(t){return I.createElement(a,o({},t,{ariaLabel:s.inputControlLabel}))},validateInput:function(t,i,e){var n=[];if(!i||!e)return n;var r=o({},i);if("olderthan-x-years"===e||"last-x-years"===e||"next-x-years"===e||"last-x-fiscal-years"===e||"next-x-fiscal-years"===e||"next-x-fiscal-periods"===e||"last-x-fiscal-periods"===e||"olderthan-x-months"===e||"last-x-months"===e||"next-x-months"===e||"olderthan-x-weeks"===e||"last-x-weeks"===e||"next-x-weeks"===e)r.minValue=1,r.maxValue=100;else if("olderthan-x-days"===e||"last-x-days"===e||"next-x-days"===e)r.minValue=1,r.maxValue=500;else if("olderthan-x-hours"===e||"last-x-hours"===e||"next-x-hours"===e)r.minValue=1,r.maxValue=2e3;else{if("olderthan-x-minutes"!==e)return n;r.minValue=1,r.maxValue=1440}return n.push.apply(n,pE.getCommonValueValidations(t,r,s)),n}}};var r,a=(e(s,r=I.PureComponent),s.prototype.render=function(){var t,e=this,i=new Date;return/^\d\d\d\d-\d\d-\d\d$/.test(this.props.value)&&(t=this.props.value.split("-").map(function(t){return Number(t)}),i=new Date(t[0],t[1]-1,t[2])),I.createElement(j.DatePicker,{value:i,isMonthPickerVisible:!0,allowTextInput:!0,onSelectDate:function(t){var i;t&&(i=h(t.getFullYear(),4)+"-"+h(t.getMonth()+1,2)+"-"+h(t.getDate(),2),e.props.value!==i&&e.props.onChange(i))},ariaLabel:this.props.ariaLabel,disabled:this.props.disabled})},s);function s(){return null!==r&&r.apply(this,arguments)||this}function h(t,i){var e=t.toString(),n="";return e.length<i&&(n="0".repeat(i-e.length)),""+n+e}function c(t){return!isNaN(Number(t))}var u,l=(e(f,u=I.PureComponent),f.prototype.componentWillReceiveProps=function(t){t.value&&this.setState({selectedKey:Number(t.value)})},f.prototype.render=function(){return I.createElement(x.Dropdown,{options:this.populateOptions(this.props.labels.dateFiscalYear,1970,2038),selectedKey:this.state.selectedKey,onChange:this.onChange,style:{width:"110px",marginRight:"8px"},ariaLabel:this.props.ariaLabel,disabled:this.props.disabled})},f);function f(t){var e=u.call(this,t)||this;return e.populateOptions=function(t,i,e){for(var n=[],r=i;r<=e;r++){var s={key:r,text:wE.String.Format(t,r.toString())};n.push(s)}return n},e.onChange=function(t,i){i&&(e.props.onChange(i.key.toString()),e.setState({selectedKey:Number(i.key)}))},e.state={selectedKey:Number(e.props.value)},e}i.FiscalYearDropdown=l;var d,A=(e(g,d=I.PureComponent),g.prototype.componentWillReceiveProps=function(t){t.value&&this.setState({selectedKey:Number(t.value)})},g.prototype.render=function(){return I.createElement(x.Dropdown,{options:this.populateOptions(this.props.labels.dateQuarter,1,4),selectedKey:this.state.selectedKey,onChange:this.onChange,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled})},g);function g(t){var e=d.call(this,t)||this;return e.populateOptions=function(t,i,e){for(var n=[],r=i;r<=e;r++){var s={key:r,text:wE.String.Format(t,r.toString())};n.push(s)}return n},e.onChange=function(t,i){i&&(e.props.onChange(i.key.toString()),e.setState({selectedKey:Number(i.key)}))},e.state={selectedKey:Number(e.props.value)},e}i.QuartersDropdown=A;var w,m=(e(p,w=I.PureComponent),p.prototype.render=function(){var t={value:this.isStateUpdated?this.state.year:this.props.value.year,onChange:this.updateYear,labels:this.props.labels,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled},i={value:this.isStateUpdated?this.state.quarter:this.props.value.quarter,onChange:this.updateQuarter,labels:this.props.labels,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled};return this.isStateUpdated=!1,I.createElement("div",{style:{display:"flex"}},I.createElement(l,o({},t)),I.createElement(A,o({},i)))},p);function p(t){var i=w.call(this,t)||this;return i.isStateUpdated=!1,i.updateYear=function(t){i.setState({year:t},function(){i.isStateUpdated=!0}),i.props.onChange({year:t,quarter:i.state.quarter})},i.updateQuarter=function(t){i.setState({quarter:t},function(){i.isStateUpdated=!0}),i.props.onChange({year:i.state.year,quarter:t})},i.state={year:i.props.value.year,quarter:i.props.value.quarter},i}function v(t){var i=t.state.dataType.state.value;return{name:"condition",type:"element",attributes:{attribute:t.state.field.state.selectedFieldName||"",operator:t.state.dataType.state.operatorName},elements:[{name:"value",type:"element",elements:[{type:"text",text:i.quarter}]},{name:"value",type:"element",elements:[{type:"text",text:i.year}]}]}}function b(t,i,e){var n=t.elements||[],r="",s="";n.map(function(t,i){var e=t.elements||[{text:""}];e[0]&&e[0].text&&(0===i?s=e[0].text.toString():r=e[0].text.toString())});var o={year:r,quarter:s};return e.create(t.attributes.operator,o,i)}i.FYnQuarterComponent=m,i.dateExpressionToFetchXml=v,i.fetchXmlToDateExpression=b;var E=Math.floor((new Date).getMonth()/3)+1,B=(new Date).getFullYear();function C(t,i){return!!i&&0<=["on","on-or-after","on-or-before"].indexOf(i.name)}});A(vE),vE.defaultFiscalYearAndPeriodLabels,vE.defaultDateTypeLabels,vE.dateType;var bE,EE,BE=vE.FiscalYearDropdown,CE=vE.QuartersDropdown,jE=vE.FYnQuarterComponent,yE=(vE.dateExpressionToFetchXml,vE.fetchXmlToDateExpression,function(){function i(){hr(this,i)}return ur(i,null,[{key:"IsNullOrEmpty",value:function(t){return null==t||null==t||""==t}},{key:"Format",value:function(t,e){return i.IsNullOrEmpty(t)?t:t.replace(/\{\{|\}\}|\{(\d+)\}/g,function(t,i){return"{{"==t?"{":"}}"==t?"}":e[i]})}}]),i}());function xE(){return new RegExp("^[^.]+$")}Qt({target:"Array",stat:!0,forced:!Ga(function(t){Array.from(t)})},{from:function(t,i,e){var n,r,s,o,a,h=Rt(t),c="function"==typeof this?this:Array,u=arguments.length,l=1<u?i:void 0,f=void 0!==l,d=0,A=Fa(h);if(f&&(l=Er(l,2<u?e:void 0,2)),null==A||c==Array&&Ma(A))for(r=new c(n=jt(h.length));d<n;d++)kt(r,d,f?l(h[d],d):h[d]);else for(a=(o=A.call(h)).next,r=new c;!(s=a.call(o)).done;d++)kt(r,d,f?Qa(o,l,[s.value,d],!0):s.value);return r.length=d,r}}),(EE=bE={})[EE.Seconds=0]="Seconds",EE[EE.Minutes=1]="Minutes",EE[EE.Hours=2]="Hours",EE[EE.Days=3]="Days",EE[EE.Weeks=4]="Weeks",EE[EE.Months=5]="Months",EE[EE.Years=6]="Years";var IE=iv(),ME=function(){Ar(B,P.Component);var r=pr(B);function B(t){var n;hr(this,B),(n=r.call(this,t)).onFormUpdated=function(i,e){n.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},lr({},i,e))}})},n.onFormSubmit=function(t){var i,e=n.props.onSubmit;void 0!==e&&(void 0!==(i=t.rightHandSide)&&(i=i.trim()),e(dr(dr({},t),{},{rightHandSide:i})))},n.onResetButtonClick=function(){n.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},{rightHandSide:null}),resetCount:t.resetCount+1}})};var i=t.selectedOperator||B.getDefaultOperatorsDropdownOptions(n.props.isLanguage,n.props.strings)[0].key.toString(),e=null!==t.selectedValue&&void 0!==t.selectedValue?t.selectedValue:void 0;return n.state={inputValues:{operator:i,rightHandSide:e},resetCount:0},n}return ur(B,[{key:"render",value:function(){var t=this.props,i=t.styles,e=void 0===i?B.defaultProps.styles:i,n=t.strings,r=(t.ref,t.componentRef,t.operatorsDropdownProps),s=t.numericInputProps,o=t.theme,a=t.isValueNullable,h=t.isInteger,c=t.isLanguage,u=t.unitOfMeasurement,l=t.validators,f=mr(t,["styles","strings","ref","componentRef","operatorsDropdownProps","numericInputProps","theme","isValueNullable","isInteger","isLanguage","unitOfMeasurement","validators"]),d=dr(dr({},B.defaultProps.strings),n),A=this.state,g=A.inputValues,w=A.resetCount,m=dr(dr({},f),{},{theme:o}),p=IE(e,m),v=B.getDefaultOperatorsDropdownOptions(this.props.isLanguage,d);!1===a&&(v=v.filter(function(t){return B.nullableOnlyOperators.has(t.key.toString())}));var b=[];c&&(b=Array.from(this.props.languagesMap).map(function(t){return{key:t.localeId,text:t.label}}));var E=l||this.getDefaultValidators();return P.createElement(Cb,Object.assign({},f,{onUpdated:this.onFormUpdated,onSubmit:this.onFormSubmit,key:w.toString()}),P.createElement("div",{role:"presentation",className:p.operatorsDropdownContainer},P.createElement(Ub,{inputKey:"operator",validators:[Jb(d.dropdownRequiredValidatorErrorMessage)],value:g.operator,dropdownProps:dr(dr({ariaLabel:d.ariaLabelFilterByDropdown,className:p.operatorsDropdown},r),{},{options:v})})),!B.unaryOperators.has(g.operator)&&!c&&P.createElement("div",{className:p.numericInputContainer},P.createElement(Pb,{inputKey:"rightHandSide",validators:E,value:g.rightHandSide||"",textFieldProps:dr({ariaLabel:d.ariaLabelFilterByInput,className:p.numericInput,suffix:h?this.getUnitOfMeasurement(u,d):void 0},s)})),!B.unaryOperators.has(g.operator)&&c&&P.createElement("div",{className:p.numericInputContainer},P.createElement(Ub,{inputKey:"rightHandSide",validators:[Jb(d.dropdownRequiredValidatorErrorMessage)],value:g.rightHandSide,dropdownProps:{options:b,multiSelect:!1}})),P.createElement("div",{className:p.buttonsContainer},P.createElement(Rb,{buttonProps:{className:p.submitButton}},d.submitButtonLabel),!B.nullableOnlyOperators.has(g.operator)&&P.createElement(y.DefaultButton,{onClick:this.onResetButtonClick,disabled:void 0===g.rightHandSide||null===g.rightHandSide||""===g.rightHandSide,text:d.resetButtonLabel,className:p.resetButton})))}},{key:"getUnitOfMeasurement",value:function(t,i){switch(t){case bE.Minutes:return i.durationUnitMinutesLabel;default:return}}},{key:"getDefaultValidators",value:function(){var i,e,n,t=this.props,r=t.strings,s=t.isInteger,o=t.minValue,a=t.maxValue,h=[Jb(r.textInputRequiredValidatorErrorMessage),(i=r.textInputIsNumberValidatorErrorMessage,function(t){if(t&&isNaN(Number(t)))return i})];return s&&(h.push(Wb(xE(),r.textInputIsIntegerValidatorErrorMessage)),h.push(Xb(r.textInputIsIntegerValidatorErrorMessage))),null!=o&&h.push(_b(o,function(t){return yE.Format(r.textInputNumberLowerThanMinErrorMessage,[o.toString()])})),null!=a&&h.push((e=a,n=function(t){return yE.Format(r.textInputNumberGreaterThanMaxErrorMessage,[a.toString()])},function(t){if(t){var i=Number(t);if(!isNaN(i)&&e<i)return n()}})),h}}],[{key:"getDefaultOperatorsDropdownOptions",value:function(t,i){var e=dr(dr({},B.defaultProps.strings),i),n=[{key:"eq",text:e.equalsDropdownOptionText},{key:"ne",text:e.doesNotEqualDropdownOptionText},{key:"not-null",text:e.isNotNullDropdownOptionText},{key:"null",text:e.isNullDropdownOptionText}];return null!=t&&!t||n.push({key:"eq-userlanguage",text:e.equalsCurrentUserLanguageDropdownOptionText}),null!=t&&t||n.push({key:"gt",text:e.greatherThanDropdownOptionText},{key:"ge",text:e.greaterThanOrEqualToDropdownOptionText},{key:"lt",text:e.lessThanDropdownOptionText},{key:"le",text:e.lessThanOrEqualToDropdownOptionText}),n}}]),B}();ME.defaultStrings={dropdownRequiredValidatorErrorMessage:"Select operator",equalsDropdownOptionText:"Equals",doesNotEqualDropdownOptionText:"Does not equal",greatherThanDropdownOptionText:"Greater than",greaterThanOrEqualToDropdownOptionText:"Greater than or equal to",lessThanDropdownOptionText:"Less than",lessThanOrEqualToDropdownOptionText:"Less than or equal to",isNullDropdownOptionText:"Does not contain data",isNotNullDropdownOptionText:"Contains data",equalsCurrentUserLanguageDropdownOptionText:"Equals current user language",textInputRequiredValidatorErrorMessage:"Please enter value",textInputIsNumberValidatorErrorMessage:"Value must be a valid number",textInputIsIntegerValidatorErrorMessage:"Value must be a valid whole number",textInputNumberGreaterThanMaxErrorMessage:"Input value is greater than the maximum value allowed for this field ({0})",textInputNumberLowerThanMinErrorMessage:"Input value is lower than the minimum value allowed for this field ({0})",submitButtonLabel:"Apply",resetButtonLabel:"Clear",durationUnitMinutesLabel:"minutes",ariaLabelFilterByInput:"Filter by value",ariaLabelFilterByDropdown:"Filter by operator"},ME.defaultProps={isValueNullable:!0,strings:ME.defaultStrings},ME.nullableOnlyOperators=new Set(["null","not-null"]),ME.unaryOperators=new Set([].concat(vr(ME.nullableOnlyOperators),["eq-userlanguage"]));var FE=iv(),QE=function(){Ar(g,P.Component);var r=pr(g);function g(t){var n;hr(this,g),(n=r.call(this,t)).onFormSubmit=function(t){var i,e=n.props.onSubmit;void 0!==e&&(void 0!==(i=n.state.inputValues.rightHandSide)&&g.dateBasedOperators.has(t.operator)&&(i=new Date(Date.parse(i))),void 0!==i&&g.fiscalYearAndPeriodOperators.has(t.operator)&&(i=[i.quarter,i.year]),e(dr(dr({},t),{},{rightHandSide:i})))},n.onFormUpdated=function(i,e){"operator"===i.toLowerCase()?g.fiscalPeriodOperators.has(e)&&!g.fiscalPeriodOperators.has(n.state.inputValues.operator)?n.setState({inputValues:{operator:e,rightHandSide:1}}):g.fiscalYearOperators.has(e)&&!g.fiscalYearOperators.has(n.state.inputValues.operator)?n.setState({inputValues:{operator:e,rightHandSide:(new Date).getFullYear()}}):g.fiscalYearAndPeriodOperators.has(e)&&!g.fiscalYearAndPeriodOperators.has(n.state.inputValues.operator)?n.setState({inputValues:{operator:e,rightHandSide:{quarter:1,year:(new Date).getFullYear()}}}):g.dateBasedOperators.has(e)!==g.dateBasedOperators.has(n.state.inputValues.operator)?n.setState({inputValues:{operator:e,rightHandSide:""}}):n.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},lr({},i,e))}}):n.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},lr({},i,e))}})},n.onResetButtonClick=function(){n.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},{rightHandSide:null}),resetCount:t.resetCount+1}})};var i=t.selectedOperator||g.getDefaultOperatorsDropdownOptions(n.props.strings)[0].key.toString(),e=null!==t.selectedValue&&void 0!==t.selectedValue?g.dateBasedOperators.has(i)?new Date(new Date(Date.parse(t.selectedValue)).toUTCString().substr(0,25)):t.selectedValue:void 0;return null!==t.selectedValue&&void 0!==t.selectedValue&&g.fiscalYearAndPeriodOperators.has(i)&&(e={quarter:e[0],year:e[1]}),n.state={inputValues:{operator:i,rightHandSide:e},resetCount:0},n}return ur(g,[{key:"render",value:function(){var t=this.props,i=t.styles,e=void 0===i?g.defaultProps.styles:i,n=t.strings,r=(t.ref,t.componentRef,t.operatorsDropdownProps),s=(t.datePickerProps,t.numericInputProps,t.theme),o=t.isValueNullable,a=(t.onSubmit,mr(t,["styles","strings","ref","componentRef","operatorsDropdownProps","datePickerProps","numericInputProps","theme","isValueNullable","onSubmit"])),h=dr(dr({},g.defaultProps.strings),n),c=this.state,u=c.inputValues,l=c.resetCount,f=dr(dr({},a),{},{theme:s}),d=FE(e,f),A=g.getDefaultOperatorsDropdownOptions(h);return!1===o&&(A=A.filter(function(t){return g.nullableOnlyOperators.has(t.key.toString())})),P.createElement(Cb,Object.assign({},a,{onSubmit:this.onFormSubmit,onUpdated:this.onFormUpdated,key:l.toString()}),P.createElement("div",{role:"presentation",className:d.operatorsDropdownContainer},P.createElement(Ub,{inputKey:"operator",validators:[Jb(h.dropdownRequiredValidatorErrorMessage)],value:u.operator,dropdownProps:dr(dr({ariaLabel:h.ariaLabelFilterByDropdown,className:d.operatorsDropdown},r),{},{options:A})})),this.renderValueComponent(),P.createElement("div",{className:d.buttonsContainer},P.createElement(Rb,{buttonProps:{className:d.submitButton}},h.submitButtonLabel),!g.unaryOperators.has(u.operator)&&P.createElement(y.DefaultButton,{onClick:this.onResetButtonClick,disabled:void 0===u.rightHandSide||null===u.rightHandSide||""===u.rightHandSide,text:h.resetButtonLabel,className:d.resetButton})))}},{key:"renderValueComponent",value:function(){var i=this,t=this.props,e=t.styles,n=void 0===e?g.defaultProps.styles:e,r=t.strings,s=(t.ref,t.componentRef,t.operatorsDropdownProps,t.datePickerProps),o=t.numericInputProps,a=t.theme,h=(t.isValueNullable,t.onSubmit,mr(t,["styles","strings","ref","componentRef","operatorsDropdownProps","datePickerProps","numericInputProps","theme","isValueNullable","onSubmit"])),c=dr(dr({},g.defaultProps.strings),r),u=dr({},ME.defaultProps.strings),l=this.state.inputValues,f=dr(dr({},h),{},{theme:a}),d=FE(n,f);return g.dateBasedOperators.has(l.operator)?P.createElement("div",{className:d.datePickerContainer},P.createElement(Yb,{inputKey:"rightHandSide",validators:[Jb(c.datePickerRequiredValidatorErrorMessage)],value:l.rightHandSide,datePickerProps:dr({ariaLabel:c.ariaLabelFilterByInput,className:d.datePicker},s)})):g.fiscalPeriodOperators.has(l.operator)?P.createElement("div",{className:d.dropdownInputContainer},P.createElement(CE,{labels:{dateFiscalYear:c.dateFiscalYear,dateQuarter:c.dateQuarter},ariaLabel:c.ariaLabelFilterByInput,value:l.rightHandSide||1,onChange:function(t){i.onFormUpdated("rightHandSide",t)}})):g.fiscalYearOperators.has(l.operator)?P.createElement("div",{className:d.dropdownInputContainer},P.createElement(BE,{labels:{dateFiscalYear:c.dateFiscalYear,dateQuarter:c.dateQuarter},ariaLabel:c.ariaLabelFilterByInput,value:l.rightHandSide||(new Date).getFullYear(),onChange:function(t){i.onFormUpdated("rightHandSide",t)}})):g.fiscalYearAndPeriodOperators.has(l.operator)?P.createElement("div",{className:d.fyAndPeriodInputContainer},P.createElement(jE,{labels:{dateFiscalYear:c.dateFiscalYear,dateQuarter:c.dateQuarter},ariaLabel:c.ariaLabelFilterByInput,value:l.rightHandSide||{quarter:1,year:(new Date).getFullYear()},onChange:function(t){i.onFormUpdated("rightHandSide",t)}})):g.unaryOperators.has(l.operator)?void 0:P.createElement("div",{className:d.numericInputContainer},P.createElement(Pb,{inputKey:"rightHandSide",validators:[Jb(c.numericInputRequiredValidatorErrorMessage),Wb(xE(),c.numericInputIsIntegerValidatorErrorMessage),Xb(c.numericInputIsIntegerValidatorErrorMessage),_b(1,function(){return yE.Format(u.textInputNumberLowerThanMinErrorMessage,[1..toString()])})],value:l.rightHandSide,textFieldProps:dr({ariaLabel:c.ariaLabelFilterByInput,className:d.numericInput},o)}))}}],[{key:"getDefaultOperatorsDropdownOptions",value:function(t){var i=dr(dr({},g.defaultProps.strings),t);return[{key:"on",text:i.onDropdownOptionText},{key:"on-or-after",text:i.onOrAfterDropdownOptionText},{key:"on-or-before",text:i.onOrBeforeDropdownOptionText},{key:"today",text:i.todayDropdownOptionText},{key:"yesterday",text:i.yesterdayDropdownOptionText},{key:"tomorrow",text:i.tomorrowDropdownOptionText},{key:"this-week",text:i.thisWeekDropdownOptionText},{key:"this-month",text:i.thisMonthDropdownOptionText},{key:"this-year",text:i.thisYearDropdownOptionText},{key:"this-fiscal-period",text:i.thisFiscalPeriodDropdownOptionText},{key:"this-fiscal-year",text:i.thisFiscalYearDropdownOptionText},{key:"next-week",text:i.nextWeekDropdownOptionText},{key:"next-seven-days",text:i.nextSevenDaysDropdownOptionText},{key:"next-month",text:i.nextMonthDropdownOptionText},{key:"next-year",text:i.nextYearDropdownOptionText},{key:"next-fiscal-period",text:i.nextFiscalPeriodDropdownOptionText},{key:"next-fiscal-year",text:i.nextFiscalYearDropdownOptionText},{key:"next-x-hours",text:i.nextXHoursDropdownOptionText},{key:"next-x-days",text:i.nextXDaysDropdownOptionText},{key:"next-x-weeks",text:i.nextXWeeksDropdownOptionText},{key:"next-x-months",text:i.nextXMonthsDropdownOptionText},{key:"next-x-years",text:i.nextXYearsDropdownOptionText},{key:"next-x-fiscal-periods",text:i.nextXFiscalPeriodsDropdownOptionText},{key:"next-x-fiscal-years",text:i.nextXFiscalYearsDropdownOptionText},{key:"last-week",text:i.lastWeekDropdownOptionText},{key:"last-seven-days",text:i.lastSevenDaysDropdownOptionText},{key:"last-month",text:i.lastMonthDropdownOptionText},{key:"last-year",text:i.lastYearDropdownOptionText},{key:"last-fiscal-period",text:i.lastFiscalPeriodDropdownOptionText},{key:"last-fiscal-year",text:i.lastFiscalYearDropdownOptionText},{key:"last-x-hours",text:i.lastXHoursDropdownOptionText},{key:"last-x-days",text:i.lastXDaysDropdownOptionText},{key:"last-x-weeks",text:i.lastXWeeksDropdownOptionText},{key:"last-x-months",text:i.lastXMonthsDropdownOptionText},{key:"last-x-years",text:i.lastXYearsDropdownOptionText},{key:"last-x-fiscal-periods",text:i.lastXFiscalPeriodsDropdownOptionText},{key:"last-x-fiscal-years",text:i.lastXFiscalYearsDropdownOptionText},{key:"olderthan-x-minutes",text:i.olderThanXMinutesDropdownOptionText},{key:"olderthan-x-hours",text:i.olderThanXHoursDropdownOptionText},{key:"olderthan-x-days",text:i.olderThanXDaysDropdownOptionText},{key:"olderthan-x-weeks",text:i.olderThanXWeeksDropdownOptionText},{key:"olderthan-x-months",text:i.olderThanXMonthsDropdownOptionText},{key:"olderthan-x-years",text:i.olderThanXYearsDropdownOptionText},{key:"in-fiscal-year",text:i.inFiscalYearDropdownOptionText},{key:"in-fiscal-period",text:i.inFiscalPeriodDropdownOptionText},{key:"in-fiscal-period-and-year",text:i.inFiscalPeriodAndYearDropdownOptionText},{key:"in-or-after-fiscal-period-and-year",text:i.inOrAfterFiscalPeriodAndYearDropdownOptionText},{key:"in-or-before-fiscal-period-and-year",text:i.inOrBeforeFiscalPeriodAndYearDropdownOptionText},{key:"not-null",text:i.isNotNullDropdownOptionText},{key:"null",text:i.isNullDropdownOptionText}]}}]),g}();QE.defaultStrings={dropdownRequiredValidatorErrorMessage:"Select operator",numericInputRequiredValidatorErrorMessage:"Value must be a valid integer",numericInputIsIntegerValidatorErrorMessage:"Value must be a valid integer",onDropdownOptionText:"On",onOrAfterDropdownOptionText:"On or after",onOrBeforeDropdownOptionText:"On or before",todayDropdownOptionText:"Today",yesterdayDropdownOptionText:"Yesterday",tomorrowDropdownOptionText:"Tomorrow",thisWeekDropdownOptionText:"This week",thisMonthDropdownOptionText:"This month",thisYearDropdownOptionText:"This year",thisFiscalPeriodDropdownOptionText:"This fiscal period",thisFiscalYearDropdownOptionText:"This fiscal year",nextWeekDropdownOptionText:"Next week",nextMonthDropdownOptionText:"Next month",nextYearDropdownOptionText:"Next year",nextFiscalPeriodDropdownOptionText:"Next fiscal period",nextFiscalYearDropdownOptionText:"Next fiscal year",nextXHoursDropdownOptionText:"Next X hours",nextXDaysDropdownOptionText:"Next X days",nextXWeeksDropdownOptionText:"Next X weeks",nextXMonthsDropdownOptionText:"Next X months",nextXYearsDropdownOptionText:"Next X years",nextXFiscalPeriodsDropdownOptionText:"Next X fiscal periods",nextXFiscalYearsDropdownOptionText:"Next X fiscal years",lastWeekDropdownOptionText:"Last week",lastMonthDropdownOptionText:"Last month",lastYearDropdownOptionText:"Last year",lastFiscalPeriodDropdownOptionText:"Last fiscal period",lastFiscalYearDropdownOptionText:"Last fiscal year",lastXHoursDropdownOptionText:"Last X hours",lastXDaysDropdownOptionText:"Last X days",lastXWeeksDropdownOptionText:"Last X weeks",lastXMonthsDropdownOptionText:"Last X months",lastXYearsDropdownOptionText:"Last X years",lastXFiscalPeriodsDropdownOptionText:"Last X fiscal periods",lastXFiscalYearsDropdownOptionText:"Last X fiscal years",isNullDropdownOptionText:"Does not contain data",isNotNullDropdownOptionText:"Contains data (any time)",datePickerRequiredValidatorErrorMessage:"Please enter value",submitButtonLabel:"Apply",resetButtonLabel:"Clear",ariaLabelFilterByInput:"Filter by value",ariaLabelFilterByDropdown:"Filter by operator",nextSevenDaysDropdownOptionText:"Next 7 days",lastSevenDaysDropdownOptionText:"Last 7 days",olderThanXMinutesDropdownOptionText:"Older than X minutes",olderThanXHoursDropdownOptionText:"Older than X hours",olderThanXDaysDropdownOptionText:"Older than X days",olderThanXWeeksDropdownOptionText:"Older than X weeks",olderThanXMonthsDropdownOptionText:"Older than X months",olderThanXYearsDropdownOptionText:"Older than X years",inFiscalYearDropdownOptionText:"In fiscal year",inFiscalPeriodDropdownOptionText:"In fiscal period",inFiscalPeriodAndYearDropdownOptionText:"In fiscal period and year",inOrAfterFiscalPeriodAndYearDropdownOptionText:"In or after fiscal period and year",inOrBeforeFiscalPeriodAndYearDropdownOptionText:"In or before fiscal period and year",dateQuarter:"Quarter {0}",dateFiscalYear:"FY{0}",goToToday:"Go to today",prevMonthAriaLabel:"Previous month",nextMonthAriaLabel:"Next month",prevYearAriaLabel:"Previous year",nextYearAriaLabel:"Next year",prevYearRangeAriaLabel:"Previous year range",nextYearRangeAriaLabel:"Next year range",closeButtonAriaLabel:"Close"},QE.defaultProps={isValueNullable:!0,datePickerProps:{allowTextInput:!0},strings:QE.defaultStrings},QE.nullableOnlyOperators=new Set(["null","not-null"]),QE.unaryOperators=new Set(["null","not-null","today","yesterday","tomorrow","this-week","this-month","this-year","this-fiscal-period","this-fiscal-year","next-week","next-seven-days","next-month","next-year","next-fiscal-period","next-fiscal-year","last-week","last-seven-days","last-month","last-year","last-fiscal-period","last-fiscal-year"]),QE.fiscalYearOperators=new Set(["in-fiscal-year"]),QE.fiscalPeriodOperators=new Set(["in-fiscal-period"]),QE.fiscalYearAndPeriodOperators=new Set(["in-fiscal-period-and-year","in-or-after-fiscal-period-and-year","in-or-before-fiscal-period-and-year"]),QE.dateBasedOperators=new Set(["on","on-or-after","on-or-before"]);var RE=vb(QE,function(){return{operatorsDropdownContainer:{marginBottom:"15px"},operatorsDropdown:{},datePickerContainer:{marginTop:"15px",marginBottom:"15px"},datePicker:{},numericInputContainer:{marginTop:"15px",marginBottom:"15px"},dropdownInputContainer:{marginTop:"15px",marginBottom:"15px",selectors:{".ms-Dropdown-container > div":{width:"100% !important"}}},fyAndPeriodInputContainer:{marginTop:"15px",marginBottom:"15px",selectors:{".ms-Dropdown-container":{width:"50% !important"}}},numericInput:{},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},submitButton:{marginRight:"10px"},resetButton:{}}}),kE=iv(),SE=function(){Ar(m,P.Component);var r=pr(m);function m(t){var s;hr(this,m),(s=r.call(this,t)).onFormUpdated=function(i,e){"operator"===i.toLowerCase()&&m.textOperators.has(e)!==m.textOperators.has(s.state.inputValues.operator)?s.setState({inputValues:{operator:e,rightHandSide:m.textOperators.has(e)?"":void 0,attributeSuffix:m.textOperators.has(e)?"name":void 0}}):s.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},lr({},i,e))}})},s.onFormSubmit=function(t){var i,e,n,r=s.props.onSubmit;void 0!==r&&(i=t.operator,e=t.rightHandSide,"eq"===i.toLowerCase()&&e&&1<e.length?i="in":"ne"===i.toLowerCase()&&e&&1<e.length&&(i="not-in"),"eq"!==i.toLowerCase()&&"ne"!==i.toLowerCase()||void 0===e||1!==e.length||(e=e[0]),n=s.state.inputValues.attributeSuffix,r(dr(dr({},t),{},{operator:i,rightHandSide:e,attributeSuffix:n})))};var i=t.selectedOperator;i&&"in"===i?i="eq":i&&"not-in"===i&&(i="ne");var e=i||m.getDefaultOperatorsDropdownOptions(s.props.strings)[0].key.toString(),n=null!==t.selectedValue&&void 0!==t.selectedValue?Array.isArray(t.selectedValue)?Array.from(t.selectedValue):[t.selectedValue]:void 0;return s.state={inputValues:{operator:e,rightHandSide:n,attributeSuffix:m.textOperators.has(e)?"name":void 0}},s}return ur(m,[{key:"render",value:function(){var t=this.props,i=t.enumLabels,e=t.styles,n=void 0===e?m.defaultProps.styles:e,r=t.strings,s=(t.ref,t.componentRef,t.operatorsDropdownProps),o=t.enumValuesDropdownProps,a=t.theme,h=t.isValueNullable,c=t.textInputProps,u=mr(t,["enumLabels","styles","strings","ref","componentRef","operatorsDropdownProps","enumValuesDropdownProps","theme","isValueNullable","textInputProps"]),l=dr(dr({},m.defaultProps.strings),r),f=this.state.inputValues,d=dr(dr({},u),{},{theme:a}),A=kE(n,d),g=m.getDefaultOperatorsDropdownOptions(l),w=Array.from(i).map(function(t){return{key:t[0],text:t[1]}});return!1===h&&(g=g.filter(function(t){return m.nullableOnlyOperators.has(t.key.toString())})),P.createElement(Cb,Object.assign({},u,{onUpdated:this.onFormUpdated,onSubmit:this.onFormSubmit}),P.createElement("div",{role:"presentation",className:A.operatorsDropdownContainer},P.createElement(Ub,{inputKey:"operator",validators:[Jb(l.dropdownRequiredValidatorErrorMessage)],value:f.operator,dropdownProps:dr(dr({ariaLabel:l.ariaLabelFilterByDropdown,className:A.operatorsDropdown},s),{},{options:g})})),!m.unaryOperators.has(f.operator)&&!m.textOperators.has(f.operator)&&P.createElement("div",{className:A.enumValuesDropdownContainer},P.createElement(Ub,{inputKey:"rightHandSide",validators:[Jb(l.dropdownRequiredValidatorErrorMessage)],value:f.rightHandSide,dropdownProps:dr(dr({ariaLabel:l.ariaLabelFilterByInput,className:A.enumValuesDropdown},o),{},{options:w,multiSelect:!0})})),!m.unaryOperators.has(f.operator)&&m.textOperators.has(f.operator)&&P.createElement("div",{className:A.textInputContainer},P.createElement(Pb,{inputKey:"rightHandSide",validators:[Jb(l.textInputRequiredValidatorErrorMessage)],value:f.rightHandSide||"",textFieldProps:dr({ariaLabel:l.ariaLabelFilterByInput,className:A.textInput},c)})),P.createElement("div",{className:A.buttonsContainer},P.createElement(Rb,{buttonProps:{className:A.submitButton}},l.submitButtonLabel)))}}],[{key:"getDefaultOperatorsDropdownOptions",value:function(t){var i=dr(dr({},m.defaultProps.strings),t);return[{key:"eq",text:i.equalsDropdownOptionText},{key:"ne",text:i.doesNotEqualDropdownOptionText},{key:"not-null",text:i.isNotNullDropdownOptionText},{key:"null",text:i.isNullDropdownOptionText},{key:"like",text:i.containsDropdownOptionText},{key:"not-like",text:i.doesNotContainDropdownOptionText},{key:"begins-with",text:i.startsWithDropdownOptionText},{key:"not-begin-with",text:i.doesNotStartWithDropdownOptionText},{key:"ends-with",text:i.endsWithDropdownOptionText},{key:"not-end-with",text:i.doesNotEndWithDropdownOptionText}]}}]),m}();SE.defaultStrings={dropdownRequiredValidatorErrorMessage:"Select operator",equalsDropdownOptionText:"Equals",doesNotEqualDropdownOptionText:"Does not equal",isNullDropdownOptionText:"Does not contain data",isNotNullDropdownOptionText:"Contains data",enumValuesRequiredValidatorErrorMessage:"Please select value",containsDropdownOptionText:"Contains",doesNotContainDropdownOptionText:"Does not contain",startsWithDropdownOptionText:"Begins with",doesNotStartWithDropdownOptionText:"Does not begin with",endsWithDropdownOptionText:"Ends with",doesNotEndWithDropdownOptionText:"Does not end with",submitButtonLabel:"Apply",resetButtonLabel:"Clear",ariaLabelFilterByInput:"Filter by value",ariaLabelFilterByDropdown:"Filter by operator",textInputRequiredValidatorErrorMessage:"Please enter value"},SE.defaultProps={isValueNullable:!0,strings:SE.defaultStrings},SE.nullableOnlyOperators=new Set(["null","not-null"]),SE.unaryOperators=new Set(SE.nullableOnlyOperators),SE.textOperators=new Set(["like","not-like","begins-with","not-begin-with","ends-with","not-end-with"]);var DE=vb(SE,function(){return{operatorsDropdownContainer:{marginBottom:"15px"},operatorsDropdown:{},enumValuesDropdownContainer:{marginTop:"15px",marginBottom:"15px"},enumValuesDropdown:{},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},submitButton:{marginRight:"10px"},resetButton:{},textInputContainer:{marginTop:"15px",marginBottom:"15px"},textInput:{}}}),NE=vb(ME,function(){return{operatorsDropdownContainer:{marginBottom:"15px"},operatorsDropdown:{},numericInputContainer:{marginTop:"15px",marginBottom:"15px"},numericInput:{},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},submitButton:{marginRight:"10px"},resetButton:{}}});zr("toStringTag"),zi(J.JSON,"JSON",!0),zi(Math,"Math",!0),g(function(t){var i=function(s){var l,t=Object.prototype,c=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",e=i.asyncIterator||"@@asyncIterator",n=i.toStringTag||"@@toStringTag";function o(t,i,e,n){var s,o,a,h,r=i&&i.prototype instanceof p?i:p,c=Object.create(r.prototype),u=new x(n||[]);return c._invoke=(s=t,o=e,a=u,h=d,function(t,i){if(h===g)throw new Error("Generator is already running");if(h===w){if("throw"===t)throw i;return M()}for(a.method=t,a.arg=i;;){var e=a.delegate;if(e){var n=function t(i,e){var n=i.iterator[e.method];if(n===l){if(e.delegate=null,"throw"===e.method){if(i.iterator.return&&(e.method="return",e.arg=l,t(i,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=f(n,i.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var s=r.arg;return s?s.done?(e[i.resultName]=s.value,e.next=i.nextLoc,"return"!==e.method&&(e.method="next",e.arg=l),e.delegate=null,m):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(n){if(n===m)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(h===d)throw h=w,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);h=g;var r=f(s,o,a);if("normal"===r.type){if(h=a.done?w:A,r.arg===m)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(h=w,a.method="throw",a.arg=r.arg)}}),c}function f(t,i,e){try{return{type:"normal",arg:t.call(i,e)}}catch(t){return{type:"throw",arg:t}}}s.wrap=o;var d="suspendedStart",A="suspendedYield",g="executing",w="completed",m={};function p(){}function a(){}function h(){}var u={};u[r]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(I([])));b&&b!==t&&c.call(b,r)&&(u=b);var E=h.prototype=p.prototype=Object.create(u);function B(t){["next","throw","return"].forEach(function(i){t[i]=function(t){return this._invoke(i,t)}})}function C(h){var i;this._invoke=function(e,n){function t(){return new Promise(function(t,i){!function i(t,e,n,r){var s=f(h[t],h,e);if("throw"!==s.type){var o=s.arg,a=o.value;return a&&"object"===sr(a)&&c.call(a,"__await")?Promise.resolve(a.__await).then(function(t){i("next",t,n,r)},function(t){i("throw",t,n,r)}):Promise.resolve(a).then(function(t){o.value=t,n(o)},function(t){return i("throw",t,n,r)})}r(s.arg)}(e,n,t,i)})}return i=i?i.then(t,t):t()}}function j(t){var i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),this.tryEntries.push(i)}function y(t){var i=t.completion||{};i.type="normal",delete i.arg,t.completion=i}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function I(i){if(i){var t=i[r];if(t)return t.call(i);if("function"==typeof i.next)return i;if(!isNaN(i.length)){var e=-1,n=function t(){for(;++e<i.length;)if(c.call(i,e))return t.value=i[e],t.done=!1,t;return t.value=l,t.done=!0,t};return n.next=n}}return{next:M}}function M(){return{value:l,done:!0}}return(a.prototype=E.constructor=h).constructor=a,h[n]=a.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var i="function"==typeof t&&t.constructor;return!!i&&(i===a||"GeneratorFunction"===(i.displayName||i.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,n in t||(t[n]="GeneratorFunction")),t.prototype=Object.create(E),t},s.awrap=function(t){return{__await:t}},B(C.prototype),C.prototype[e]=function(){return this},s.AsyncIterator=C,s.async=function(t,i,e,n){var r=new C(o(t,i,e,n));return s.isGeneratorFunction(i)?r:r.next().then(function(t){return t.done?t.value:r.next()})},B(E),E[n]="Generator",E[r]=function(){return this},E.toString=function(){return"[object Generator]"},s.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},s.values=I,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(y),!t)for(var i in this)"t"===i.charAt(0)&&c.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,i){return s.type="throw",s.arg=e,n.next=t,i&&(n.method="next",n.arg=l),!!i}for(var i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i],s=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=c.call(r,"catchLoc"),a=c.call(r,"finallyLoc");if(o&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,i){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=i&&i<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=i,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(s)},complete:function(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),m},finish:function(t){for(var i=this.tryEntries.length-1;0<=i;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),y(e),m}},catch:function(t){for(var i=this.tryEntries.length-1;0<=i;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var n,r=e.completion;return"throw"===r.type&&(n=r.arg,y(e)),n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:I(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=l),m}},s}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}});var TE,OE=(km(YE,TE=Ib),YE.prototype.render=function(){var t=this.state.currentValue;return P.createElement(r.TagPicker,Sm({},this.props.tagPickerProps,{key:this.props.inputKey,onChange:this._onChange,selectedItems:t}))},YE.prototype._validateTagPickerProps=function(t){t&&(null!==t.selectedItems&&t.selectedItems,t.onChange)},YE);function YE(t,i){var e=TE.call(this,t,i)||this;return e._onChange=function(t){e.setValue(t)},e.state={isValid:!0,currentValue:t.value,currentError:void 0},e._validateTagPickerProps(e.props.tagPickerProps),e}var UE=iv(),HE=function(){Ar(j,P.Component);var r=pr(j);function j(t){var a;hr(this,j),(a=r.call(this,t)).onFormSubmit=function(t){var i,e,n,r=a.props,s=r.onSubmit,o=r.useTextInputForEqAndNeOperators;void 0!==s&&(i=t.operator,e=t.rightHandSide,n=a.state.inputValues.attributeSuffix,"eq"===i.toLowerCase()&&!o&&e&&1<e.length?i="in":"ne"===i.toLowerCase()&&!o&&e&&1<e.length&&(i="not-in"),!a.props.isGridObjectFilterEdidtor&&void 0!==e&&Array.isArray(e)&&1===(e=e.map(function(t){return"{".concat(t.key.toString(),"}")})).length&&(e=e[0]),s(dr(dr({},t),{},{operator:i,rightHandSide:e,attributeSuffix:n})))},a.onFormUpdated=function(i,e){"operator"===i.toLowerCase()&&a.useTextInput(e)!==a.useTextInput(a.state.inputValues.operator)?a.setState({inputValues:{operator:e,rightHandSide:a.useTextInput(e)?"":void 0,attributeSuffix:a.getAttributeSuffix(e)},selectedTags:void 0}):a.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},lr({},i,e))}})},a.onResetButtonClick=function(){a.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},{rightHandSide:null}),selectedTags:void 0,resetCount:t.resetCount+1}})},a.getInitialSelectedTags=ar(regeneratorRuntime.mark(function t(){var i,e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=a.state.inputValues).rightHandSide){t.next=10;break}if(!a.props.isGridObjectFilterEdidtor){t.next=6;break}a.setState({selectedTags:i.rightHandSide}),t.next=10;break;case 6:return t.next=8,a.props.autocompleteFunc(i.rightHandSide.join());case 8:e=t.sent,a.setState({selectedTags:e.map(function(t){return{key:t.value,name:t.formattedValue}})});case 10:case"end":return t.stop()}},t)})),a.onRenderItem=function(t){var i=dr(dr({},t),{},{item:{key:"",name:""},onItemChange:function(){return null}});return t.item.name?P.createElement(s.TagItem,Object.assign({},i),t.item.name):P.createElement(s.TagItem,Object.assign({},i),P.createElement(u.Spinner,{size:u.SpinnerSize.xSmall,styles:{root:{marginTop:7}}}))};var i=t.selectedOperator;i&&"in"===i?i="eq":i&&"not-in"===i&&(i="ne");var e=i||j.getDefaultOperatorsDropdownOptions(t.hasCurrentUserOperators,t.hasCurrentBusinessUnitOperators,t.hasOwnerOperators,t.strings)[0].key.toString(),n=null!==t.selectedValue&&void 0!==t.selectedValue?a.useTextInput(e)||t.isGridObjectFilterEdidtor?t.selectedValue:t.selectedValue.map(function(t){return t.replace("{","").replace("}","")}):void 0;return a.state={inputValues:{operator:e,rightHandSide:n,attributeSuffix:a.getAttributeSuffix(e)},resetCount:0,selectedTags:void 0},a}return ur(j,[{key:"componentDidMount",value:function(){this.useTextInput(this.props.selectedOperator)||this.getInitialSelectedTags()}},{key:"render",value:function(){var t=this.props,n=t.autocompleteFunc,i=t.styles,e=void 0===i?j.defaultProps.styles:i,r=t.strings,s=(t.ref,t.componentRef,t.operatorsDropdownProps),o=(t.valuesTagPickerProps,t.theme),a=t.isValueNullable,h=(t.onSubmit,t.textInputProps),c=t.hasCurrentUserOperators,u=t.hasCurrentBusinessUnitOperators,l=t.hasOwnerOperators,f=t.suggestIfEmpty,d=mr(t,["autocompleteFunc","styles","strings","ref","componentRef","operatorsDropdownProps","valuesTagPickerProps","theme","isValueNullable","onSubmit","textInputProps","hasCurrentUserOperators","hasCurrentBusinessUnitOperators","hasOwnerOperators","suggestIfEmpty"]),A=dr(dr({},j.defaultProps.strings),r),g=this.state,w=g.inputValues,m=g.resetCount,p=g.selectedTags,v=dr(dr({},d),{},{theme:o}),b=UE(e,v),E=j.getDefaultOperatorsDropdownOptions(c,u,l,A);!1===a&&(E=E.filter(function(t){return j.nullableOnlyOperators.has(t.key.toString())}));var B=function(){var i=ar(regeneratorRuntime.mark(function t(i){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(i);case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return{key:t.value,name:t.formattedValue}}));case 4:case"end":return t.stop()}},t)}));return function(t){return i.apply(this,arguments)}}(),C=f?function(){return B("")}:void 0;return P.createElement(Cb,Object.assign({},d,{onSubmit:this.onFormSubmit,onUpdated:this.onFormUpdated,key:m.toString()}),P.createElement("div",{role:"presentation",className:b.operatorsDropdownContainer},P.createElement(Ub,{inputKey:"operator",validators:[Jb(A.dropdownRequiredValidatorErrorMessage)],value:w.operator,dropdownProps:dr(dr({ariaLabel:A.ariaLabelFilterByDropdown,className:b.operatorsDropdown},s),{},{options:E})})),!j.unaryOperators.has(w.operator)&&!this.useTextInput(w.operator)&&P.createElement("div",{className:b.valuesTagPickerContainer},P.createElement(OE,{inputKey:"rightHandSide",validators:[Jb(A.valueRequiredValidatorErrorMessage)],value:p||w.rightHandSide,tagPickerProps:{onRenderItem:this.onRenderItem,inputProps:{"aria-label":A.ariaLabelFilterByInput},className:b.valuesTagPicker,pickerSuggestionsProps:{loadingText:A.tagPickerLoadingText,noResultsFoundText:A.tagPickerNoResultsFoundText},onResolveSuggestions:B,onEmptyResolveSuggestions:C}})),!j.unaryOperators.has(w.operator)&&this.useTextInput(w.operator)&&P.createElement("div",{className:b.textInputContainer},P.createElement(Pb,{inputKey:"rightHandSide",validators:[Jb(A.textInputRequiredValidatorErrorMessage)],value:w.rightHandSide||"",textFieldProps:dr({ariaLabel:A.ariaLabelFilterByInput,className:b.textInput},h)})),P.createElement("div",{className:b.buttonsContainer},P.createElement(Rb,{buttonProps:{className:b.submitButton}},A.submitButtonLabel),!j.nullableOnlyOperators.has(w.operator)&&P.createElement(y.DefaultButton,{onClick:this.onResetButtonClick,disabled:void 0===w.rightHandSide||null===w.rightHandSide||Array.isArray(w.rightHandSide)&&0===w.rightHandSide.length,text:A.resetButtonLabel,className:b.resetButton})))}},{key:"getAttributeSuffix",value:function(t){if(this.useTextInput(t))return"name"}},{key:"useTextInput",value:function(t){var i=this.props.useTextInputForEqAndNeOperators;return j.textOperators.has(t)||i&&("eq"===t||"ne"===t)}}],[{key:"getDefaultOperatorsDropdownOptions",value:function(t,i,e,n){var r=dr(dr({},j.defaultProps.strings),n),s=[{key:"eq",text:r.equalsDropdownOptionText},{key:"ne",text:r.doesNotEqualDropdownOptionText},{key:"not-null",text:r.isNotNullDropdownOptionText},{key:"null",text:r.isNullDropdownOptionText},{key:"like",text:r.containsDropdownOptionText},{key:"not-like",text:r.doesNotContainDropdownOptionText},{key:"begins-with",text:r.startsWithDropdownOptionText},{key:"not-begin-with",text:r.doesNotStartWithDropdownOptionText},{key:"ends-with",text:r.endsWithDropdownOptionText},{key:"not-end-with",text:r.doesNotEndWithDropdownOptionText}];return t&&s.push({key:"eq-userid",text:r.equalsCurrentUserDropdownOptionText},{key:"ne-userid",text:r.doesNotEqualCurrentUserDropdownOptionText}),i&&s.push({key:"eq-businessid",text:r.equalsCurrentBusinessUnitDropdownOptionText},{key:"ne-businessid",text:r.doesNotEqualCurrentBusinessUnitDropdownOptionText}),e&&s.push({key:"eq-useroruserhierarchy",text:r.equalsCurrentUserOrReportingHierarchyDropdownOptionText},{key:"eq-useroruserhierarchyandteams",text:r.equalsCurrentUserAndTeamsOrReportingHierarchyAndTeamsDropdownOptionText},{key:"eq-userteams",text:r.equalsCurrentUserTeamsDropdownOptionText},{key:"eq-useroruserteams",text:r.equalsCurrentUserOrTeamsDropdownOptionText}),s}}]),j}();HE.defaultStrings={dropdownRequiredValidatorErrorMessage:"Select operator",equalsDropdownOptionText:"Equals",doesNotEqualDropdownOptionText:"Does not equal",isNullDropdownOptionText:"Does not contain data",isNotNullDropdownOptionText:"Contains data",containsDropdownOptionText:"Contains",doesNotContainDropdownOptionText:"Does not contain",startsWithDropdownOptionText:"Begins with",doesNotStartWithDropdownOptionText:"Does not begin with",endsWithDropdownOptionText:"Ends with",doesNotEndWithDropdownOptionText:"Does not end with",valueRequiredValidatorErrorMessage:"Please select value",textInputRequiredValidatorErrorMessage:"Please enter value",tagPickerLoadingText:"Loading...",ariaLabelFilterByInput:"Filter by value",ariaLabelFilterByDropdown:"Filter by operator",tagPickerNoResultsFoundText:"No records found",submitButtonLabel:"Apply",resetButtonLabel:"Clear",equalsCurrentUserDropdownOptionText:"Equals current user",doesNotEqualCurrentUserDropdownOptionText:"Does not equal current user",equalsCurrentBusinessUnitDropdownOptionText:"Equals current business unit",doesNotEqualCurrentBusinessUnitDropdownOptionText:"Does not equal current business unit",equalsCurrentUserOrReportingHierarchyDropdownOptionText:"Equals current user or their reporting hierarchy",equalsCurrentUserAndTeamsOrReportingHierarchyAndTeamsDropdownOptionText:"Equals current user and their teams or their reporting hierarchy and their teams",equalsCurrentUserTeamsDropdownOptionText:"Equals current user's teams",equalsCurrentUserOrTeamsDropdownOptionText:"Equals current user or user's teams"},HE.defaultProps={isValueNullable:!0,strings:HE.defaultStrings},HE.nullableOnlyOperators=new Set(["null","not-null"]),HE.currentUserOperators=new Set(["eq-userid","ne-userid"]),HE.currentBusinessUnitOperators=new Set(["eq-businessid","ne-businessid"]),HE.ownerOperators=new Set(["eq-useroruserhierarchy","eq-useroruserhierarchyandteams","eq-userteams","eq-useroruserteams"]),HE.unaryOperators=new Set([].concat(vr(HE.nullableOnlyOperators),vr(HE.currentUserOperators),vr(HE.currentBusinessUnitOperators),vr(HE.ownerOperators))),HE.textOperators=new Set(["like","not-like","begins-with","not-begin-with","ends-with","not-end-with"]);var zE=vb(HE,function(){return{operatorsDropdownContainer:{marginBottom:"15px"},operatorsDropdown:{},valuesTagPickerContainer:{marginTop:"15px",marginBottom:"15px"},valuesTagPicker:{selectors:{".ms-BasePicker-itemsWrapper":{overflow:"hidden"},".ms-TagItem":{overflow:"hidden"}}},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},submitButton:{marginRight:"10px"},resetButton:{},textInputContainer:{marginTop:"15px",marginBottom:"15px"},textInput:{}}}),GE=iv(),PE=function(){Ar(g,P.Component);var s=pr(g);function g(t){var r;hr(this,g),(r=s.call(this,t)).onFormUpdated=function(i,e){"operator"===i.toLowerCase()&&g.unaryOperators.has(e)!==g.unaryOperators.has(r.state.inputValues.operator)?r.setState({inputValues:{operator:e,rightHandSide:""}}):r.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},lr({},i,e))}})},r.onFormSubmit=function(t){var i,e,n=r.props.onSubmit;void 0!==n&&(i=t.operator,e=t.rightHandSide,"eq"===i.toLowerCase()&&e&&1<e.length?i="in":"ne"===i.toLowerCase()&&e&&1<e.length&&(i="not-in"),"eq"!==i.toLowerCase()&&"ne"!==i.toLowerCase()||void 0===e||1!==e.length||(e=e[0]),n(dr(dr({},t),{},{operator:i,rightHandSide:e})))};var i=t.selectedOperator;i&&"in"===i?i="eq":i&&"not-in"===i&&(i="ne");var e=i||g.getDefaultOperatorsDropdownOptions(r.props.strings)[0].key.toString(),n=null!==t.selectedValue&&void 0!==t.selectedValue?Array.isArray(t.selectedValue)?Array.from(t.selectedValue):[t.selectedValue]:void 0;return r.state={inputValues:{operator:e,rightHandSide:n}},r}return ur(g,[{key:"render",value:function(){var t=this.props,i=t.enumLabels,e=t.styles,n=void 0===e?g.defaultProps.styles:e,r=t.strings,s=(t.ref,t.componentRef,t.operatorsDropdownProps),o=t.enumValuesDropdownProps,a=t.theme,h=t.isValueNullable,c=mr(t,["enumLabels","styles","strings","ref","componentRef","operatorsDropdownProps","enumValuesDropdownProps","theme","isValueNullable"]),u=dr(dr({},g.defaultProps.strings),r),l=this.state.inputValues,f=dr(dr({},c),{},{theme:a}),d=GE(n,f),A=g.getDefaultOperatorsDropdownOptions(u);return!1===h&&(A=A.filter(function(t){return g.nullableOnlyOperators.has(t.key.toString())})),P.createElement(Cb,Object.assign({},c,{onUpdated:this.onFormUpdated,onSubmit:this.onFormSubmit}),P.createElement("div",{role:"presentation",className:d.operatorsDropdownContainer},P.createElement(Ub,{inputKey:"operator",validators:[Jb(u.dropdownRequiredValidatorErrorMessage)],value:l.operator,dropdownProps:dr(dr({ariaLabel:u.ariaLabelFilterByDropdown,className:d.operatorsDropdown},s),{},{options:A})})),!g.unaryOperators.has(l.operator)&&P.createElement("div",{className:d.enumValuesDropdownContainer},P.createElement(Ub,{inputKey:"rightHandSide",validators:[Jb(u.dropdownRequiredValidatorErrorMessage)],value:l.rightHandSide,dropdownProps:dr(dr({ariaLabel:u.ariaLabelFilterByInput,className:d.enumValuesDropdown},o),{},{options:Array.from(i).map(function(t){return{key:t[0],text:t[1]}}),multiSelect:!0})})),P.createElement("div",{className:d.buttonsContainer},P.createElement(Rb,{buttonProps:{className:d.submitButton}},u.submitButtonLabel)))}}],[{key:"getDefaultOperatorsDropdownOptions",value:function(t){var i=dr(dr({},g.defaultProps.strings),t);return[{key:"eq",text:i.equalsDropdownOptionText},{key:"ne",text:i.doesNotEqualDropdownOptionText},{key:"contain-values",text:i.containsValuesDropdownOptionText},{key:"not-contain-values",text:i.doesNotContainValuesDropdownOptionText},{key:"not-null",text:i.isNotNullDropdownOptionText},{key:"null",text:i.isNullDropdownOptionText}]}}]),g}();PE.defaultStrings={dropdownRequiredValidatorErrorMessage:"Select operator",equalsDropdownOptionText:"Equals",doesNotEqualDropdownOptionText:"Does not equal",containsValuesDropdownOptionText:"Contains values",doesNotContainValuesDropdownOptionText:"Does not contain values",isNullDropdownOptionText:"Does not contain data",isNotNullDropdownOptionText:"Contains data",enumValuesRequiredValidatorErrorMessage:"Please select value",submitButtonLabel:"Apply",resetButtonLabel:"Clear",ariaLabelFilterByInput:"Filter by value",ariaLabelFilterByDropdown:"Filter by operator"},PE.defaultProps={isValueNullable:!0,strings:PE.defaultStrings},PE.nullableOnlyOperators=new Set(["null","not-null"]),PE.unaryOperators=new Set(PE.nullableOnlyOperators);var VE=vb(PE,function(){return{operatorsDropdownContainer:{marginBottom:"15px"},operatorsDropdown:{},enumValuesDropdownContainer:{marginTop:"15px",marginBottom:"15px"},enumValuesDropdown:{},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},submitButton:{marginRight:"10px"},resetButton:{}}}),LE=iv(),JE=function(){Ar(w,P.Component);var r=pr(w);function w(t){var n;hr(this,w),(n=r.call(this,t)).onFormUpdated=function(i,e){n.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},lr({},i,e))}})},n.onResetButtonClick=function(){n.setState(function(t){return{inputValues:dr(dr({},t.inputValues),{},{rightHandSide:null}),resetCount:t.resetCount+1}})};var i=t.selectedOperator||w.getDefaultOperatorsDropdownOptions(n.props.isMultilineText,n.props.strings)[0].key.toString(),e=null!==t.selectedValue&&void 0!==t.selectedValue?t.selectedValue:"";return n.state={inputValues:{operator:i,rightHandSide:e},resetCount:0},n}return ur(w,[{key:"render",value:function(){var t=this.props,i=t.styles,e=void 0===i?w.defaultProps.styles:i,n=t.strings,r=(t.ref,t.componentRef,t.operatorsDropdownProps),s=t.textInputProps,o=t.theme,a=t.isValueNullable,h=mr(t,["styles","strings","ref","componentRef","operatorsDropdownProps","textInputProps","theme","isValueNullable"]),c=dr(dr({},w.defaultProps.strings),n),u=this.state,l=u.inputValues,f=u.resetCount,d=dr(dr({},h),{},{theme:o}),A=LE(e,d),g=w.getDefaultOperatorsDropdownOptions(this.props.isMultilineText,c);return!1===a&&(g=g.filter(function(t){return w.nullableOnlyOperators.has(t.key.toString())})),P.createElement(Cb,Object.assign({},h,{onUpdated:this.onFormUpdated,key:f.toString()}),P.createElement("div",{role:"presentation",className:A.operatorsDropdownContainer,"data-automation-id":"filterBy"},P.createElement(Ub,{inputKey:"operator",validators:[Jb(c.dropdownRequiredValidatorErrorMessage)],value:l.operator,dropdownProps:dr(dr({ariaLabel:c.ariaLabelFilterByDropdown,className:A.operatorsDropdown},r),{},{options:g})})),!w.unaryOperators.has(l.operator)&&P.createElement("div",{className:A.textInputContainer},P.createElement(Pb,{inputKey:"rightHandSide",validators:[Jb(c.textInputRequiredValidatorErrorMessage)],value:l.rightHandSide||"",textFieldProps:dr({ariaLabel:c.ariaLabelFilterByInput,className:A.textInput},s)})),P.createElement("div",{className:A.buttonsContainer},P.createElement(Rb,{buttonProps:{className:A.submitButton}},c.submitButtonLabel),!w.nullableOnlyOperators.has(l.operator)&&P.createElement(y.DefaultButton,{onClick:this.onResetButtonClick,disabled:void 0===l.rightHandSide||null===l.rightHandSide||""===l.rightHandSide,text:c.resetButtonLabel,className:A.resetButton})))}}],[{key:"getDefaultOperatorsDropdownOptions",value:function(t,i){var e=dr(dr({},w.defaultProps.strings),i),n=[];return t||n.push({key:"eq",text:e.equalsDropdownOptionText},{key:"ne",text:e.doesNotEqualDropdownOptionText}),n.push({key:"like",text:e.containsDropdownOptionText},{key:"not-like",text:e.doesNotContainDropdownOptionText},{key:"begins-with",text:e.startsWithDropdownOptionText},{key:"not-begin-with",text:e.doesNotStartWithDropdownOptionText},{key:"ends-with",text:e.endsWithDropdownOptionText},{key:"not-end-with",text:e.doesNotEndWithDropdownOptionText},{key:"not-null",text:e.isNotNullDropdownOptionText},{key:"null",text:e.isNullDropdownOptionText}),n}}]),w}();JE.defaultStrings={dropdownRequiredValidatorErrorMessage:"Select operator",equalsDropdownOptionText:"Equals",doesNotEqualDropdownOptionText:"Does not equal",containsDropdownOptionText:"Contains",doesNotContainDropdownOptionText:"Does not contain",startsWithDropdownOptionText:"Begins with",doesNotStartWithDropdownOptionText:"Does not begin with",endsWithDropdownOptionText:"Ends with",doesNotEndWithDropdownOptionText:"Does not end with",isNullDropdownOptionText:"Does not contain data",isNotNullDropdownOptionText:"Contains data",textInputRequiredValidatorErrorMessage:"Please enter value",submitButtonLabel:"Apply",resetButtonLabel:"Clear",ariaLabelFilterByInput:"Filter by value",ariaLabelFilterByDropdown:"Filter by operator"},JE.defaultProps={isValueNullable:!0,strings:JE.defaultStrings},JE.nullableOnlyOperators=new Set(["null","not-null"]),JE.unaryOperators=new Set(JE.nullableOnlyOperators);var WE=vb(JE,function(){return{operatorsDropdownContainer:{marginBottom:"15px"},operatorsDropdown:{},textInputContainer:{marginTop:"15px",marginBottom:"15px"},textInput:{},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},submitButton:{marginRight:"10px"},resetButton:{}}}),_E=iv(),XE=function(){Ar(l,P.Component);var i=pr(l);function l(t){var u;return hr(this,l),(u=i.call(this,t)).onFormSubmit=function(t){var i=u.props,e=i.column,n=i.filterExpression,r=u.props,s=r.onFilterExpressionChanged,o=r.onDismiss,a=t.operator,h=t.rightHandSide,c=t.attributeSuffix;void 0!==s&&s({key:"",columnKey:e.key,columnKeySuffix:c,operator:a,rightHandSide:h,column:e},n),o&&o()},u.onCloseButtonClick=function(){var t=u.props.onDismiss;void 0!==t&&t()},l.validateProps(t),u}return ur(l,[{key:"renderDefaultFilterEditorForm",value:function(t,i){var e,n=this.props,r=n.column,s=n.strings,o=n.useTextInputForEqAndNeOperatorsInObjectFilterEditor,a=n.suggestIfEmpty,h=dr(dr({},l.defaultProps.strings),s);if(void 0===r.dataType||null===r.dataType)return null;switch(r.dataType){case"string":return P.createElement(WE,Object.assign({},t,{isValueNullable:r.isNullable,strings:h.stringPredicateBuilder,isMultilineText:"TextArea"===r.format,selectedOperator:i&&i.operator,selectedValue:i&&i.rightHandSide}));case"number":case"integer":return P.createElement(NE,Object.assign({},t,{isValueNullable:r.isNullable,strings:h.numberPredicateBuilder,isInteger:"integer"===r.dataType,isLanguage:"integer"===r.dataType&&"Language"===r.format,unitOfMeasurement:r.unitOfMeasure,validators:r.inputValidators,maxValue:r.maxValue,minValue:r.minValue,languagesMap:r.languagesMap,selectedOperator:i&&i.operator,selectedValue:i&&i.rightHandSide}));case"date":return r.dateFormattingInfo&&(e={allowTextInput:!0,formatDate:r.simpleFormatFunc,parseDateFromString:r.formatStringValueToDataFunc,firstDayOfWeek:r.dateFormattingInfo.FirstDayOfWeek,strings:{months:r.dateFormattingInfo.MonthNames,shortMonths:r.dateFormattingInfo.AbbreviatedMonthNames,days:r.dateFormattingInfo.DayNames,shortDays:r.dateFormattingInfo.ShortestDayNames,goToToday:h.datePredicateBuilder.goToToday,prevMonthAriaLabel:h.datePredicateBuilder.prevMonthAriaLabel,nextMonthAriaLabel:h.datePredicateBuilder.nextMonthAriaLabel,prevYearAriaLabel:h.datePredicateBuilder.prevYearAriaLabel,nextYearAriaLabel:h.datePredicateBuilder.nextYearAriaLabel,prevYearRangeAriaLabel:h.datePredicateBuilder.prevYearRangeAriaLabel,nextYearRangeAriaLabel:h.datePredicateBuilder.nextYearRangeAriaLabel,closeButtonAriaLabel:h.datePredicateBuilder.closeButtonAriaLabel}}),P.createElement(RE,Object.assign({},t,{isValueNullable:r.isNullable,strings:h.datePredicateBuilder,selectedOperator:i&&i.operator,selectedValue:i&&i.rightHandSide,datePickerProps:e}));case"enum":return P.createElement(DE,Object.assign({},t,{isValueNullable:r.isNullable,enumLabels:this.mapValidColumnValuesToEnumLabels(r.validValues),strings:h.enumPredicateBuilder,selectedOperator:i&&i.operator,selectedValue:i&&i.rightHandSide}));case"flags":return P.createElement(VE,Object.assign({},t,{isValueNullable:r.isNullable,enumLabels:this.mapValidColumnValuesToEnumLabels(r.validValues),strings:h.setOfEnumPredicateBuilder,selectedOperator:i&&i.operator,selectedValue:i&&i.rightHandSide}));case"boolean":return P.createElement(DE,Object.assign({},t,{isValueNullable:r.isNullable,enumLabels:this.mapValidColumnValuesToEnumLabels(r.validValues),strings:h.booleanPredicateBuilder,selectedOperator:i&&i.operator,selectedValue:i&&i.rightHandSide}));case"owner":case"object":var c=i&&i.rightHandSide,u=i&&i.operator;return!c||Array.isArray(c)||HE.textOperators.has(u)||o||(c=[c]),P.createElement(zE,Object.assign({},t,{isValueNullable:r.isNullable,autocompleteFunc:r.autocompleteFunc,strings:h.objectPredicateBuilder,selectedOperator:u,selectedValue:c,hasCurrentUserOperators:"systemuser"===r.specialApplicableTarget,hasOwnerOperators:"owner"===r.dataType,hasCurrentBusinessUnitOperators:"businessunit"===r.specialApplicableTarget,isGridObjectFilterEdidtor:r.isGridObjectFilterEdidtor,useTextInputForEqAndNeOperators:o,suggestIfEmpty:a}));default:return null}}},{key:"mapValidColumnValuesToEnumLabels",value:function(t){return new Map(t.map(function(t){return[t.value,t.formattedValue]}))}},{key:"renderFilterEditorForm",value:function(){var t=this.props,i=t.onFilterFormRender,e=t.filterExpression,n={onSubmit:this.onFormSubmit,showErrorsWhenPristine:!0};return void 0===i?this.renderDefaultFilterEditorForm(n,e):i(n)}},{key:"render",value:function(){var t=this.props,i=(t.column,t.getCalloutTarget),e=(t.filterExpression,t.onFilterExpressionChanged,t.styles),n=void 0===e?l.defaultProps.styles:e,r=t.strings,s=void 0===r?l.defaultProps.strings:r,o=(t.ref,t.componentRef,t.theme),a=mr(t,["column","getCalloutTarget","filterExpression","onFilterExpressionChanged","styles","strings","ref","componentRef","theme"]),h=dr(dr({},a),{},{theme:o}),c=_E(n,h),u=i();return P.createElement(f.Callout,Object.assign({role:"alertdialog",target:u,preventDismissOnResize:!0,styles:c,theme:o},a),P.createElement(d.FocusTrapZone,{isClickableOutsideFocusTrap:!0,firstFocusableSelector:"textInput"},P.createElement(Bb,{title:s.title,closeButtonAriaLabel:s.closeButtonAriaLabel,onCloseButtonClick:this.onCloseButtonClick,closeButtonTooltip:s.closeButtonTooltip?s.closeButtonTooltip:s.closeButtonAriaLabel}),P.createElement("div",{className:c.formSection},this.renderFilterEditorForm())))}}],[{key:"validateProps",value:function(t){var i=t.column,e=t.filterExpression;if(void 0!==e&&e.columnKey!==i.key)throw new Error("filterExpression.columnKey does not match column.key")}}]),l}();XE.defaultProps={isBeakVisible:!0,gapSpace:5,calloutWidth:250,setInitialFocus:!0,strings:{title:"Filter by",closeButtonAriaLabel:"Close",closeButtonTooltip:"Close"}};var KE,ZE,qE,$E=vb(XE,function(){return{root:{},beak:{},beakCurtain:{},container:{},calloutMain:{},formSection:{padding:"8px 16px 16px 16px"}}});(ZE=KE={})[ZE.None=-1]="None",ZE[ZE.Asc=0]="Asc",ZE[ZE.Desc=1]="Desc",(qE={}).set="set",qE.text="text",qE.number="number",qE.date="agDateColumnFilter";var tB=yr.some;Qt({target:"Array",proto:!0,forced:gi("some")},{some:function(t,i){return tB(this,t,1<arguments.length?i:void 0)}});var iB,eB,nB={topLeftEdge:0,topCenter:1,topRightEdge:2,topAutoEdge:3,bottomLeftEdge:4,bottomCenter:5,bottomRightEdge:6,bottomAutoEdge:7,leftTopEdge:8,leftCenter:9,leftBottomEdge:10,rightTopEdge:11,rightCenter:12,rightBottomEdge:13};(eB=iB={})[eB.Normal=0]="Normal",eB[eB.Divider=1]="Divider",eB[eB.Header=2]="Header",eB[eB.Section=3]="Section";var rB,sB;(sB=rB={})[sB.vertical=0]="vertical",sB[sB.horizontal=1]="horizontal",sB[sB.bidirectional=2]="bidirectional",sB[sB.domOrder=3]="domOrder";var oB,aB,hB="data-is-focusable",cB="data-focuszone-id",uB="tabindex",lB="data-no-vertical-wrap",fB="data-no-horizontal-wrap",dB=999999999,AB=-999999999,gB={},wB=new Set,mB=["text","number","password","email","tel","url","search"],pB=(km(vB,aB=P.Component),vB.getOuterZones=function(){return wB.size},vB._onKeyDownCapture=function(t){9===t.which&&wB.forEach(function(t){return t._updateTabIndexes()})},vB.prototype.componentDidMount=function(){var t=this._root.current;if(gB[this._id]=this,t){this._windowElement=Cm(t);for(var i=Wp(t,!1);i&&i!==this._getDocument().body&&1===i.nodeType;){if(kv(i)){this._isInnerZone=!0;break}i=Wp(i,!1)}this._isInnerZone||(wB.add(this),this._windowElement&&1===wB.size&&this._windowElement.addEventListener("keydown",vB._onKeyDownCapture,!0)),this._root.current&&this._root.current.addEventListener("blur",this._onBlur,!0),this._updateTabIndexes(),this.props.defaultTabbableElement&&"string"==typeof this.props.defaultTabbableElement?this._activeElement=this._getDocument().querySelector(this.props.defaultTabbableElement):this.props.defaultActiveElement&&(this._activeElement=this._getDocument().querySelector(this.props.defaultActiveElement)),this.props.shouldFocusOnMount&&this.focus()}},vB.prototype.componentDidUpdate=function(){var t,i=this._root.current,e=this._getDocument();e&&this._lastIndexPath&&(e.activeElement===e.body||null===e.activeElement||!this.props.preventFocusRestoration&&e.activeElement===i)&&((t=function(t,i){for(var e=t,n=0,r=i;n<r.length;n++){var s=r[n],o=e.children[Math.min(s,e.children.length-1)];if(!o)break;e=o}return Rv(e)&&Qv(e)?e:Fv(t,e,!0)||Mv(t,e)}(i,this._lastIndexPath))?(this._setActiveElement(t,!0),t.focus(),this._setParkedFocus(!1)):this._setParkedFocus(!0))},vB.prototype.componentWillUnmount=function(){delete gB[this._id],this._isInnerZone||(wB.delete(this),this._windowElement&&0===wB.size&&this._windowElement.removeEventListener("keydown",vB._onKeyDownCapture,!0)),this._root.current&&this._root.current.removeEventListener("blur",this._onBlur,!0),this._activeElement=null,this._defaultFocusElement=null},vB.prototype.render=function(){var t=this.props,i=t.as,e=t.elementType,n=t.rootProps,r=t.ariaDescribedBy,s=t.ariaLabelledBy,o=t.className,a=Xv(this.props,Vv),h=i||e||"div";return this._evaluateFocusBeforeRender(),P.createElement(h,Sm({"aria-labelledby":s,"aria-describedby":r},a,n,{className:fv(oB=oB||lp({selectors:{":focus":{outline:"none"}}},"ms-FocusZone"),o),ref:this._root,"data-focuszone-id":this._id,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},vB.prototype.focus=function(t){if(void 0===t&&(t=!1),this._root.current){if(!t&&"true"===this._root.current.getAttribute(hB)&&this._isInnerZone){var i=this._getOwnerZone(this._root.current);if(i===this._root.current)return!1;var e=gB[i.getAttribute(cB)];return!!e&&e.focusElement(this._root.current)}if(!t&&this._activeElement&&_p(this._root.current,this._activeElement)&&Rv(this._activeElement))return this._activeElement.focus(),!0;var n=this._root.current.firstChild;return this.focusElement(Fv(this._root.current,n,!0))}return!1},vB.prototype.focusLast=function(){if(this._root.current){var t=this._root.current&&this._root.current.lastChild;return this.focusElement(Mv(this._root.current,t,!0,!0,!0))}return!1},vB.prototype.focusElement=function(t){var i=this.props,e=i.onBeforeFocus,n=i.shouldReceiveFocus;return!(n&&!n(t)||e&&!e(t)||!t||(this._setActiveElement(t),this._activeElement&&this._activeElement.focus(),0))},vB.prototype.setFocusAlignment=function(t){this._focusAlignment=t},vB.prototype._evaluateFocusBeforeRender=function(){var t,i,e=this._root.current,n=this._getDocument();!n||(t=n.activeElement)!==e&&(i=_p(e,t,!1),this._lastIndexPath=i?function(t,i){for(var e=[];i&&t&&i!==t;){var n=Wp(i,!0);if(null===n)return[];e.unshift(Array.prototype.indexOf.call(n.children,i)),i=n}return e}(e,t):void 0)},vB.prototype._setParkedFocus=function(t){var i=this._root.current;i&&this._isParked!==t&&((this._isParked=t)?(this.props.allowFocusRoot||(this._parkedTabIndex=i.getAttribute("tabindex"),i.setAttribute("tabindex","-1")),i.focus()):this.props.allowFocusRoot||(this._parkedTabIndex?(i.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):i.removeAttribute("tabindex")))},vB.prototype._setActiveElement=function(t,i){var e=this._activeElement;this._activeElement=t,e&&(kv(e)&&this._updateTabIndexes(e),e.tabIndex=-1),this._activeElement&&(this._focusAlignment&&!i||this._setFocusAlignment(t,!0,!0),this._activeElement.tabIndex=0)},vB.prototype._preventDefaultWhenHandled=function(t){this.props.preventDefaultWhenHandled&&t.preventDefault()},vB.prototype._tryInvokeClickForFocusable=function(t){if(t===this._root.current||!this.props.shouldRaiseClicks)return!1;do{if("BUTTON"===t.tagName||"A"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName)return!1;if(this._isImmediateDescendantOfZone(t)&&"true"===t.getAttribute(hB)&&"true"!==t.getAttribute("data-disable-click-on-enter"))return i=t,r=n=e=void 0,e="MouseEvents","function"==typeof Event?n=new Event(e):(n=document.createEvent("Event")).initEvent(e,!0,!0),(r=n).initEvent("click",!0,!0),i.dispatchEvent(r),!0;t=Wp(t,!1)}while(t!==this._root.current);var i,e,n,r;return!1},vB.prototype._getFirstInnerZone=function(t){if(!(t=t||this._activeElement||this._root.current))return null;if(kv(t))return gB[t.getAttribute(cB)];for(var i=t.firstElementChild;i;){if(kv(i))return gB[i.getAttribute(cB)];var e=this._getFirstInnerZone(i);if(e)return e;i=i.nextElementSibling}return null},vB.prototype._moveFocus=function(t,i,e,n){void 0===n&&(n=!0);var r=this._activeElement,s=-1,o=void 0,a=!1,h=this.props.direction===rB.bidirectional;if(!r||!this._root.current)return!1;if(this._isElementInput(r)&&!this._shouldInputLoseFocus(r,t))return!1;var c=h?r.getBoundingClientRect():null;do{if(r=(t?Fv:Mv)(this._root.current,r),!h){o=r;break}if(r){var u=i(c,r.getBoundingClientRect());if(-1===u&&-1===s){o=r;break}if(-1<u&&(-1===s||u<s)&&(s=u,o=r),0<=s&&u<0)break}}while(r);if(o&&o!==this._activeElement)a=!0,this.focusElement(o);else if(this.props.isCircularNavigation&&n)return t?this.focusElement(Fv(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(Mv(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return a},vB.prototype._moveFocusDown=function(){var s=this,o=-1,a=this._focusAlignment.left||this._focusAlignment.x||0;return!!this._moveFocus(!0,function(t,i){var e=-1,n=Math.floor(i.top),r=Math.floor(t.bottom);return n<r?s._shouldWrapFocus(s._activeElement,lB)?dB:AB:((-1===o&&r<=n||n===o)&&(o=n,e=a>=i.left&&a<=i.left+i.width?0:Math.abs(i.left+i.width/2-a)),e)})&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},vB.prototype._moveFocusUp=function(){var o=this,a=-1,h=this._focusAlignment.left||this._focusAlignment.x||0;return!!this._moveFocus(!1,function(t,i){var e=-1,n=Math.floor(i.bottom),r=Math.floor(i.top),s=Math.floor(t.top);return s<n?o._shouldWrapFocus(o._activeElement,lB)?dB:AB:((-1===a&&n<=s||r===a)&&(a=r,e=h>=i.left&&h<=i.left+i.width?0:Math.abs(i.left+i.width/2-h)),e)})&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},vB.prototype._moveFocusLeft=function(){var n=this,r=this._shouldWrapFocus(this._activeElement,fB);return!!this._moveFocus(Jp(),function(t,i){var e=-1;return(Jp()?parseFloat(i.top.toFixed(3))<parseFloat(t.bottom.toFixed(3)):parseFloat(i.bottom.toFixed(3))>parseFloat(t.top.toFixed(3)))&&i.right<=t.right&&n.props.direction!==rB.vertical?e=t.right-i.right:r||(e=AB),e},void 0,r)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},vB.prototype._moveFocusRight=function(){var n=this,r=this._shouldWrapFocus(this._activeElement,fB);return!!this._moveFocus(!Jp(),function(t,i){var e=-1;return(Jp()?parseFloat(i.bottom.toFixed(3))>parseFloat(t.top.toFixed(3)):parseFloat(i.top.toFixed(3))<parseFloat(t.bottom.toFixed(3)))&&i.left>=t.left&&n.props.direction!==rB.vertical?e=i.left-t.left:r||(e=AB),e},void 0,r)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},vB.prototype._moveFocusPaging=function(t,i){void 0===i&&(i=!0);var e=this._activeElement;if(!e||!this._root.current)return!1;if(this._isElementInput(e)&&!this._shouldInputLoseFocus(e,t))return!1;var n=function(t){for(var i=t,e=Qm(t);i&&i!==e.body;){if("true"===i.getAttribute(vp))return i;i=i.parentElement}for(i=t;i&&i!==e.body;){if("false"!==i.getAttribute(vp)){var n=getComputedStyle(i),r=n?n.getPropertyValue("overflow-y"):"";if(r&&("scroll"===r||"auto"===r))return i}i=i.parentElement}return i&&i!==e.body||(i=Cm(t)),i}(e);if(!n)return!1;var r=-1,s=void 0,o=-1,a=-1,h=n.clientHeight,c=e.getBoundingClientRect();do{if(e=(t?Fv:Mv)(this._root.current,e)){var u=e.getBoundingClientRect(),l=Math.floor(u.top),f=Math.floor(c.bottom),d=Math.floor(u.bottom),A=Math.floor(c.top),g=this._getHorizontalDistanceFromCenter(t,c,u);if(t&&f+h<l||!t&&d<A-h)break;-1<g&&(t&&o<l?(o=l,r=g,s=e):!t&&d<a?(a=d,r=g,s=e):(-1===r||g<=r)&&(r=g,s=e))}}while(e);var w=!1;if(s&&s!==this._activeElement)w=!0,this.focusElement(s),this._setFocusAlignment(s,!1,!0);else if(this.props.isCircularNavigation&&i)return t?this.focusElement(Fv(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(Mv(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return w},vB.prototype._setFocusAlignment=function(t,i,e){var n,r,s;this.props.direction!==rB.bidirectional||this._focusAlignment&&!i&&!e||(r=(n=t.getBoundingClientRect()).left+n.width/2,s=n.top+n.height/2,this._focusAlignment||(this._focusAlignment={left:r,top:s}),i&&(this._focusAlignment.left=r),e&&(this._focusAlignment.top=s))},vB.prototype._isImmediateDescendantOfZone=function(t){return this._getOwnerZone(t)===this._root.current},vB.prototype._getOwnerZone=function(t){for(var i=Wp(t,!1);i&&i!==this._root.current&&i!==this._getDocument().body;){if(kv(i))return i;i=Wp(i,!1)}return i},vB.prototype._updateTabIndexes=function(t){!this._activeElement&&this.props.defaultTabbableElement&&"function"==typeof this.props.defaultTabbableElement&&(this._activeElement=this.props.defaultTabbableElement(this._root.current)),!t&&this._root.current&&(this._defaultFocusElement=null,t=this._root.current,this._activeElement&&!_p(t,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!Rv(this._activeElement)&&(this._activeElement=null);for(var i=t&&t.children,e=0;i&&e<i.length;e++){var n=i[e];kv(n)?"true"===n.getAttribute(hB)&&(this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==n?"-1"!==n.getAttribute(uB)&&n.setAttribute(uB,"-1"):"0"!==(this._defaultFocusElement=n).getAttribute(uB)&&n.setAttribute(uB,"0")):(n.getAttribute&&"false"===n.getAttribute(hB)&&n.setAttribute(uB,"-1"),Rv(n)?this.props.disabled?n.setAttribute(uB,"-1"):this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==n?"-1"!==n.getAttribute(uB)&&n.setAttribute(uB,"-1"):"0"!==(this._defaultFocusElement=n).getAttribute(uB)&&n.setAttribute(uB,"0"):"svg"===n.tagName&&"false"!==n.getAttribute("focusable")&&n.setAttribute("focusable","false")),this._updateTabIndexes(n)}},vB.prototype._isContentEditableElement=function(t){return t&&"true"===t.getAttribute("contenteditable")},vB.prototype._isElementInput=function(t){return!(!t||!t.tagName||"input"!==t.tagName.toLowerCase()&&"textarea"!==t.tagName.toLowerCase())},vB.prototype._shouldInputLoseFocus=function(t,i){if(!this._processingTabKey&&t&&t.type&&-1<mB.indexOf(t.type.toLowerCase())){var e=t.selectionStart,n=e!==t.selectionEnd,r=t.value,s=t.readOnly;if(n||0<e&&!i&&!s||e!==r.length&&i&&!s||this.props.handleTabKey&&(!this.props.shouldInputLoseFocusOnArrowKey||!this.props.shouldInputLoseFocusOnArrowKey(t)))return!1}return!0},vB.prototype._shouldWrapFocus=function(t,i){return!this.props.checkForNoWrap||Dv(t,i)},vB.prototype._portalContainsElement=function(t){return t&&!!this._root.current&&(i=this._root.current,null!==(e=Xp(t,function(t){return i===t||t.hasAttribute(Zp)}))&&e.hasAttribute(Zp));var i,e},vB.prototype._getDocument=function(){return Qm(this._root.current)},vB.defaultProps={isCircularNavigation:!1,direction:rB.bidirectional,shouldRaiseClicks:!0},vB);function vB(t){var A=aB.call(this,t)||this;return A._root=P.createRef(),A._onFocus=function(t){if(!A._portalContainsElement(t.target)){var i,e,n=A.props,r=n.onActiveElementChanged,s=n.doNotAllowFocusEventToPropagate,o=n.stopFocusPropagation,a=n.onFocusNotification,h=n.onFocus,c=n.shouldFocusInnerElementWhenReceivedFocus,u=n.defaultTabbableElement,l=A._isImmediateDescendantOfZone(t.target);if(h?h(t):a&&a(),l)i=t.target;else for(var f=t.target;f&&f!==A._root.current;){if(Rv(f)&&A._isImmediateDescendantOfZone(f)){i=f;break}f=Wp(f,!1)}c&&t.target===A._root.current&&((e=u&&"function"==typeof u&&u(A._root.current))&&Rv(e)?(i=e).focus():(A.focus(!0),A._activeElement&&(i=null)));var d=!A._activeElement;i&&i!==A._activeElement&&((l||d)&&A._setFocusAlignment(i,!0,!0),A._activeElement=i,d&&A._updateTabIndexes()),r&&r(A._activeElement,t),(o||s)&&t.stopPropagation()}},A._onBlur=function(){A._setParkedFocus(!1)},A._onMouseDown=function(t){if(!A._portalContainsElement(t.target)&&!A.props.disabled){for(var i=t.target,e=[];i&&i!==A._root.current;)e.push(i),i=Wp(i,!1);for(;e.length&&((i=e.pop())&&Rv(i)&&A._setActiveElement(i,!0),!kv(i)););}},A._onKeyDown=function(t){if(!A._portalContainsElement(t.target)){var i=A.props,e=i.direction,n=i.disabled,r=i.isInnerZoneKeystroke,s=i.pagingSupportDisabled,o=i.shouldEnterInnerZone;if(!(n||(A.props.onKeyDown&&A.props.onKeyDown(t),t.isDefaultPrevented()||A._getDocument().activeElement===A._root.current&&A._isInnerZone))){if((o&&o(t)||r&&r(t))&&A._isImmediateDescendantOfZone(t.target)){var a=A._getFirstInnerZone();if(a){if(!a.focus(!0))return}else{if(!Sv(t.target))return;if(!A.focusElement(Fv(t.target,t.target.firstChild,!0)))return}}else{if(t.altKey)return;switch(t.which){case 32:if(A._tryInvokeClickForFocusable(t.target))break;return;case 37:if(e!==rB.vertical&&(A._preventDefaultWhenHandled(t),A._moveFocusLeft()))break;return;case 39:if(e!==rB.vertical&&(A._preventDefaultWhenHandled(t),A._moveFocusRight()))break;return;case 38:if(e!==rB.horizontal&&(A._preventDefaultWhenHandled(t),A._moveFocusUp()))break;return;case 40:if(e!==rB.horizontal&&(A._preventDefaultWhenHandled(t),A._moveFocusDown()))break;return;case 34:if(!s&&A._moveFocusPaging(!0))break;return;case 33:if(!s&&A._moveFocusPaging(!1))break;return;case 9:if(A.props.allowTabKey||1===A.props.handleTabKey||2===A.props.handleTabKey&&A._isElementInput(t.target)){var h;if(A._processingTabKey=!0,h=e!==rB.vertical&&A._shouldWrapFocus(A._activeElement,fB)?(Jp()?!t.shiftKey:t.shiftKey)?A._moveFocusLeft():A._moveFocusRight():t.shiftKey?A._moveFocusUp():A._moveFocusDown(),A._processingTabKey=!1,h)break;A.props.shouldResetActiveElementWhenTabFromZone&&(A._activeElement=null)}return;case 36:if(A._isContentEditableElement(t.target)||A._isElementInput(t.target)&&!A._shouldInputLoseFocus(t.target,!1))return!1;var c=A._root.current&&A._root.current.firstChild;if(A._root.current&&c&&A.focusElement(Fv(A._root.current,c,!0)))break;return;case 35:if(A._isContentEditableElement(t.target)||A._isElementInput(t.target)&&!A._shouldInputLoseFocus(t.target,!0))return!1;var u=A._root.current&&A._root.current.lastChild;if(A._root.current&&A.focusElement(Mv(A._root.current,u,!0,!0,!0)))break;return;case 13:if(A._tryInvokeClickForFocusable(t.target))break;return;default:return}}t.preventDefault(),t.stopPropagation()}}},A._getHorizontalDistanceFromCenter=function(t,i,e){var n=A._focusAlignment.left||A._focusAlignment.x||0,r=Math.floor(e.top),s=Math.floor(i.bottom),o=Math.floor(e.bottom),a=Math.floor(i.top);return t&&s<r||!t&&o<a?n>=e.left&&n<=e.left+e.width?0:Math.abs(e.left+e.width/2-n):A._shouldWrapFocus(A._activeElement,lB)?dB:AB},qv(A),A._id=Hv("FocusZone"),A._focusAlignment={left:0,top:0},A._processingTabKey=!1,A}function bB(t){return t.canCheck?!(!t.isChecked&&!t.checked):"boolean"==typeof t.isChecked?t.isChecked:"boolean"==typeof t.checked?t.checked:null}function EB(t){return!(!t.subMenuProps&&!t.items)}function BB(t){return!(!t.isDisabled&&!t.disabled)}function CB(t){return null!==bB(t)?"menuitemcheckbox":"menuitem"}var jB,yB,xB,IB=(km(MB,jB=P.Component),MB.prototype._updateComposedComponentRef=function(t){var i;(this._composedComponentInstance=t)?this._hoisted=function(t,n,i){void 0===i&&(i=Zv);var r=[];for(var e in n)!function(e){"function"!=typeof n[e]||void 0!==t[e]||i&&-1!==i.indexOf(e)||(r.push(e),t[e]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];n[e].apply(n,t)})}(e);return r}(this,t):this._hoisted&&(i=this)._hoisted.forEach(function(t){return delete i[t]})},MB);function MB(t){var i=jB.call(this,t)||this;return i._updateComposedComponentRef=i._updateComposedComponentRef.bind(i),i}(xB=yB=yB||{})[xB.small=0]="small",xB[xB.medium=1]="medium",xB[xB.large=2]="large",xB[xB.xLarge=3]="xLarge",xB[xB.xxLarge=4]="xxLarge",xB[xB.xxxLarge=5]="xxxLarge",xB[xB.unknown=999]="unknown";var FB,QB,RB,kB,SB,DB,NB=[479,639,1023,1365,1919,99999999];function TB(){return FB||QB||yB.large}(kB=RB=RB||{})[kB.top=1]="top",kB[kB.bottom=-1]="bottom",kB[kB.left=2]="left",kB[kB.right=-2]="right",(SB={})[SB.top=0]="top",SB[SB.bottom=1]="bottom",SB[SB.start=2]="start",SB[SB.end=3]="end";var OB,YB=(km(UB,OB=Rp),UB);function UB(){return null!==OB&&OB.apply(this,arguments)||this}function HB(t,i,e){return{targetEdge:t,alignmentEdge:i,isAuto:e}}var zB=((DB={})[nB.topLeftEdge]=HB(RB.top,RB.left),DB[nB.topCenter]=HB(RB.top),DB[nB.topRightEdge]=HB(RB.top,RB.right),DB[nB.topAutoEdge]=HB(RB.top,void 0,!0),DB[nB.bottomLeftEdge]=HB(RB.bottom,RB.left),DB[nB.bottomCenter]=HB(RB.bottom),DB[nB.bottomRightEdge]=HB(RB.bottom,RB.right),DB[nB.bottomAutoEdge]=HB(RB.bottom,void 0,!0),DB[nB.leftTopEdge]=HB(RB.left,RB.top),DB[nB.leftCenter]=HB(RB.left),DB[nB.leftBottomEdge]=HB(RB.left,RB.bottom),DB[nB.rightTopEdge]=HB(RB.right,RB.top),DB[nB.rightCenter]=HB(RB.right),DB[nB.rightBottomEdge]=HB(RB.right,RB.bottom),DB);function GB(t,i){return!(t.top<i.top||t.bottom>i.bottom||t.left<i.left||t.right>i.right)}function PB(t,i){var e=[];return t.top<i.top&&e.push(RB.top),t.bottom>i.bottom&&e.push(RB.bottom),t.left<i.left&&e.push(RB.left),t.right>i.right&&e.push(RB.right),e}function VB(t,i){return t[RB[i]]}function LB(t,i,e){return t[RB[i]]=e,t}function JB(t,i){var e=eC(i);return(VB(t,e.positiveEdge)+VB(t,e.negativeEdge))/2}function WB(t,i){return 0<t?i:-1*i}function _B(t,i){return WB(t,VB(i,t))}function XB(t,i,e){return WB(e,VB(t,e)-VB(i,e))}function KB(t,i,e){var n=VB(t,i)-e;return t=LB(t,i,e),LB(t,-1*i,VB(t,-1*i)-n)}function ZB(t,i,e,n){return void 0===n&&(n=0),KB(t,e,VB(i,e)+WB(e,n))}function qB(t,i,e){return _B(e,t)>_B(e,i)}function $B(t,i,e){for(var n=0,r=t;n<r.length;n++){var s=r[n];i.elementRectangle=ZB(i.elementRectangle,e,s)}return i}function tC(t,i,e){var n=eC(i).positiveEdge;return KB(t,n,e-(JB(t,i)-VB(t,n)))}function iC(t,i,e,n,r){void 0===n&&(n=0);var s=e.alignmentEdge,o=e.targetEdge,a=r?o:-1*o,h=(r?ZB:function(t,i,e,n){void 0===n&&(n=0);var r=WB(-1*e,n);return KB(t,-1*e,VB(i,e)+r)})(t,i,o,n);return s?ZB(h,i,s):tC(h,a,JB(i,o))}function eC(t){return t===RB.top||t===RB.bottom?{positiveEdge:RB.left,negativeEdge:RB.right}:{positiveEdge:RB.top,negativeEdge:RB.bottom}}function nC(t,i,e){return e&&Math.abs(XB(t,e,i))>Math.abs(XB(t,e,-1*i))?-1*i:i}function rC(t,i,e){var n=JB(i,t),r=JB(e,t),s=eC(t),o=s.positiveEdge,a=s.negativeEdge;return n<=r?o:a}function sC(t){var i=t.getBoundingClientRect();return new YB(i.left,i.right,i.top,i.bottom)}function oC(t){return new YB(t.left,t.right,t.top,t.bottom)}function aC(t,i,e,n){var r,s,o,a,h,c,u,l,f,d,A=t.gapSpace?t.gapSpace:0,g=function(t,i){var e,n,r;if(i){if(!GB(e=i.preventDefault?new YB(i.clientX,i.clientX,i.clientY,i.clientY):i.getBoundingClientRect?sC(i):(n=i.left||i.x,r=i.top||i.y,new YB(n,n,r,r)),t))for(var s=0,o=PB(e,t);s<o.length;s++){var a=o[s];e[RB[a]]=t[RB[a]]}}else e=new YB(0,0,0,0);return e}(e,t.target),w=(r=function(t,i){if(void 0===t&&(t=nB.bottomAutoEdge),n)return{alignmentEdge:n.alignmentEdge,isAuto:n.isAuto,targetEdge:n.targetEdge};var e=Sm({},zB[t]);return Jp()?(e.alignmentEdge&&e.alignmentEdge%2==0&&(e.alignmentEdge=-1*e.alignmentEdge),void 0!==i?zB[i]:e):e}(t.directionalHint,t.directionalHintForRTL),t.coverTarget,s=t.alignTargetEdge,r.isAuto&&(r.alignmentEdge=rC(r.targetEdge,g,e)),r.alignTargetEdge=s,r),m=(o=sC(i),a=g,h=e,c=w,u=A,l=t.directionalHintFixed,GB(d=iC(o,a,c,u,f=t.coverTarget),h)?{elementRectangle:d,targetEdge:c.targetEdge,alignmentEdge:c.alignmentEdge}:function(t,i,e,n,r,s,o){void 0===r&&(r=0);var a=n.alignmentEdge,h=n.alignTargetEdge,c={elementRectangle:t,targetEdge:n.targetEdge,alignmentEdge:a};s||o||(c=function(t,i,e,n,r){void 0===r&&(r=0);var s=[RB.left,RB.right,RB.bottom,RB.top];Jp()&&(s[0]*=-1,s[1]*=-1);for(var o=t,a=n.targetEdge,h=n.alignmentEdge,c=0;c<4;c++){if(qB(o,e,a))return{elementRectangle:o,targetEdge:a,alignmentEdge:h};s.splice(s.indexOf(a),1),0<s.length&&(-1<s.indexOf(-1*a)?a*=-1:(h=a,a=s.slice(-1)[0]),o=iC(t,i,{targetEdge:a,alignmentEdge:h},r))}return{elementRectangle:t,targetEdge:n.targetEdge,alignmentEdge:h}}(t,i,e,n,r));var u,l,f,d=PB(t,e);if(h){if(c.alignmentEdge&&-1<d.indexOf(-1*c.alignmentEdge)){var A=(u=c.alignmentEdge,l=c.targetEdge,f=-1*u,{elementRectangle:iC(c.elementRectangle,i,{targetEdge:l,alignmentEdge:f},r,o),targetEdge:l,alignmentEdge:f});if(GB(A.elementRectangle,e))return A;c=$B(PB(A.elementRectangle,e),c,e)}}else c=$B(d,c,e);return c}(o,a,h,c,u,l,f));return Sm(Sm({},m),{targetRectangle:g})}function hC(t,i,e,n,r){var s=t.isBeakVisible&&t.beakWidth||0,o=Math.sqrt(s*s*2)/2+(t.gapSpace?t.gapSpace:0),a=t;a.gapSpace=o;var h,c,u,l,f,d,A,g,w,m,p,v,b,E,B,C,j,y,x,I,M,F,Q,R,k,S,D,N,T,O,Y,U,H=t.bounds?oC(t.bounds):new YB(0,window.innerWidth-bp(),0,window.innerHeight),z=aC(a,e,H,n),G=(p=(h=s,u=(c=z).targetRectangle,f=(l=eC(c.targetEdge)).positiveEdge,d=l.negativeEdge,A=JB(u,c.targetEdge),g=new YB(h/2,c.elementRectangle.width-h/2,h/2,c.elementRectangle.height-h/2),qB(w=tC(w=KB(w=new YB(0,h,0,h),-1*c.targetEdge,-h/2),-1*c.targetEdge,A-_B(f,c.elementRectangle)),g,f)?qB(w,g,d)||(w=ZB(w,g,d)):w=ZB(w,g,f),w),v=H,b=-1*(m=z).targetEdge,E=new YB(0,m.elementRectangle.width,0,m.elementRectangle.height),B={},C=nC(m.elementRectangle,m.alignmentEdge?m.alignmentEdge:eC(b).positiveEdge,v),B[RB[b]]=VB(p,b),B[RB[C]]=XB(p,E,C),{elementPosition:Sm({},B),closestEdge:rC(m.targetEdge,p,E),targetEdge:b});return Sm(Sm({},(j=z,y=i,x=H,I=t.coverTarget,M=r,{elementPosition:(F=j.elementRectangle,Q=j.targetEdge,R=x,k=j.alignmentEdge,S=I,D=M,N={},T=sC(y),Y=RB[O=S?Q:-1*Q],U=k||eC(Q).positiveEdge,D||(U=nC(F,U,R)),N[Y]=XB(F,T,O),N[RB[U]]=XB(F,T,U),N),targetEdge:j.targetEdge,alignmentEdge:j.alignmentEdge})),{beakPosition:G})}var cC,uC=(km(lC,cC=P.Component),lC.prototype.UNSAFE_componentWillMount=function(){this._originalFocusedElement=Qm().activeElement},lC.prototype.componentDidMount=function(){var t,i,e,n;this._root.current&&(this._disposables.push(Kp(this._root.current,"focus",this._onFocus,!0),Kp(this._root.current,"blur",this._onBlur,!0)),(t=Cm(this._root.current))&&this._disposables.push(Kp(t,"keydown",this._onKeyDown)),(n=(e=Qm(i=this._root.current))&&e.activeElement)&&_p(i,n)&&(this._containsFocus=!0)),this._updateScrollBarAsync()},lC.prototype.componentDidUpdate=function(){this._updateScrollBarAsync(),this._async.dispose()},lC.prototype.componentWillUnmount=function(){var t;this._disposables.forEach(function(t){return t()}),this.props.shouldRestoreFocus&&(void 0===(t=this.props.onRestoreFocus)?function(t){var i=t.originalElement,e=t.containsFocus;i&&e&&i!==window&&i.focus&&i.focus()}:t)({originalElement:this._originalFocusedElement,containsFocus:this._containsFocus}),delete this._originalFocusedElement},lC.prototype.render=function(){var t=this.props,i=t.role,e=t.className,n=t.ariaLabel,r=t.ariaLabelledBy,s=t.ariaDescribedBy,o=t.style;return P.createElement("div",Sm({ref:this._root},Xv(this.props,_v),{className:e,role:i,"aria-label":n,"aria-labelledby":r,"aria-describedby":s,onKeyDown:this._onKeyDown,style:Sm({overflowY:this.state.needsVerticalScrollBar?"scroll":void 0,outline:"none"},o)}),this.props.children)},lC.prototype._updateScrollBarAsync=function(){var t=this;this._async.requestAnimationFrame(function(){t._getScrollBar()})},lC.prototype._getScrollBar=function(){var t,i,e;this.props.style&&this.props.style.overflowY||(t=!1,this._root&&this._root.current&&this._root.current.firstElementChild&&(i=this._root.current.clientHeight,e=this._root.current.firstElementChild.clientHeight,0<i&&i<e&&(t=1<e-i)),this.state.needsVerticalScrollBar!==t&&this.setState({needsVerticalScrollBar:t}))},lC.defaultProps={shouldRestoreFocus:!0},lC);function lC(t){var i=cC.call(this,t)||this;return i._root=P.createRef(),i._disposables=[],i._onKeyDown=function(t){switch(t.which){case 27:i.props.onDismiss&&(i.props.onDismiss(t),t.preventDefault(),t.stopPropagation())}},i._onFocus=function(){i._containsFocus=!0},i._onBlur=function(t){i._root.current&&t.relatedTarget&&!_p(i._root.current,t.relatedTarget)&&(i._containsFocus=!1)},i._async=new jm(i),i.state={needsVerticalScrollBar:!1},i}var fC=Ip.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),dC=Gm.getInstance();dC&&dC.onReset&&dC.onReset(function(){for(var t in fC)fC.hasOwnProperty(t)&&fC[t].subset&&(fC[t].subset.className=void 0)});var AC="cubic-bezier(.1,.9,.2,1)",gC="cubic-bezier(.1,.25,.75,.9)",wC="0.167s",mC="0.367s",pC=pp({from:{opacity:0},to:{opacity:1}}),vC=pp({from:{opacity:1},to:{opacity:0,visibility:"hidden"}}),bC=qC(-10),EC=qC(-20),BC=qC(-40),CC=qC(-400),jC=qC(10),yC=qC(20),xC=qC(40),IC=qC(400),MC=$C(10),FC=$C(20),QC=$C(-10),RC=$C(-20),kC=tj(10),SC=tj(20),DC=tj(40),NC=tj(400),TC=tj(-10),OC=tj(-20),YC=tj(-40),UC=tj(-400),HC=ij(-10),zC=ij(-20),GC=ij(10),PC=ij(20),VC=pp({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),LC=pp({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),JC=pp({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),WC=pp({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),_C=pp({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),XC=pp({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),KC={slideRightIn10:ZC(pC+","+bC,mC,AC),slideRightIn20:ZC(pC+","+EC,mC,AC),slideRightIn40:ZC(pC+","+BC,mC,AC),slideRightIn400:ZC(pC+","+CC,mC,AC),slideLeftIn10:ZC(pC+","+jC,mC,AC),slideLeftIn20:ZC(pC+","+yC,mC,AC),slideLeftIn40:ZC(pC+","+xC,mC,AC),slideLeftIn400:ZC(pC+","+IC,mC,AC),slideUpIn10:ZC(pC+","+MC,mC,AC),slideUpIn20:ZC(pC+","+FC,mC,AC),slideDownIn10:ZC(pC+","+QC,mC,AC),slideDownIn20:ZC(pC+","+RC,mC,AC),slideRightOut10:ZC(vC+","+kC,mC,AC),slideRightOut20:ZC(vC+","+SC,mC,AC),slideRightOut40:ZC(vC+","+DC,mC,AC),slideRightOut400:ZC(vC+","+NC,mC,AC),slideLeftOut10:ZC(vC+","+TC,mC,AC),slideLeftOut20:ZC(vC+","+OC,mC,AC),slideLeftOut40:ZC(vC+","+YC,mC,AC),slideLeftOut400:ZC(vC+","+UC,mC,AC),slideUpOut10:ZC(vC+","+HC,mC,AC),slideUpOut20:ZC(vC+","+zC,mC,AC),slideDownOut10:ZC(vC+","+GC,mC,AC),slideDownOut20:ZC(vC+","+PC,mC,AC),scaleUpIn100:ZC(pC+","+VC,mC,AC),scaleDownIn100:ZC(pC+","+JC,mC,AC),scaleUpOut103:ZC(vC+","+WC,wC,gC),scaleDownOut98:ZC(vC+","+LC,wC,gC),fadeIn100:ZC(pC,wC,gC),fadeIn200:ZC(pC,"0.267s",gC),fadeIn400:ZC(pC,mC,gC),fadeIn500:ZC(pC,"0.467s",gC),fadeOut100:ZC(vC,wC,gC),fadeOut200:ZC(vC,"0.267s",gC),fadeOut400:ZC(vC,mC,gC),fadeOut500:ZC(vC,"0.467s",gC),rotate90deg:ZC(_C,"0.1s",gC),rotateN90deg:ZC(XC,"0.1s",gC)};function ZC(t,i,e){return{animationName:t,animationDuration:i,animationTimingFunction:e,animationFillMode:"both"}}function qC(t){return pp({from:{transform:"translate3d("+t+"px,0,0)"},to:{transform:"translate3d(0,0,0)"}})}function $C(t){return pp({from:{transform:"translate3d(0,"+t+"px,0)"},to:{transform:"translate3d(0,0,0)"}})}function tj(t){return pp({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d("+t+"px,0,0)"}})}function ij(t){return pp({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,"+t+"px,0)"}})}var ej,nj,rj,sj,oj={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"},aj={elevation4:"0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",elevation8:"0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",elevation16:"0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",elevation64:"0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)",roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"};(nj=ej={}).Arabic="Segoe UI Web (Arabic)",nj.Cyrillic="Segoe UI Web (Cyrillic)",nj.EastEuropean="Segoe UI Web (East European)",nj.Greek="Segoe UI Web (Greek)",nj.Hebrew="Segoe UI Web (Hebrew)",nj.Thai="Leelawadee UI Web",nj.Vietnamese="Segoe UI Web (Vietnamese)",nj.WestEuropean="Segoe UI Web (West European)",nj.Selawik="Selawik Web",nj.Armenian="Segoe UI Web (Armenian)",nj.Georgian="Segoe UI Web (Georgian)",(sj=rj={}).Arabic="'"+ej.Arabic+"'",sj.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",sj.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",sj.Cyrillic="'"+ej.Cyrillic+"'",sj.EastEuropean="'"+ej.EastEuropean+"'",sj.Greek="'"+ej.Greek+"'",sj.Hebrew="'"+ej.Hebrew+"'",sj.Hindi="'Nirmala UI'",sj.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",sj.Korean="'Malgun Gothic', Gulim",sj.Selawik="'"+ej.Selawik+"'",sj.Thai="'Leelawadee UI Web', 'Kmer UI'",sj.Vietnamese="'"+ej.Vietnamese+"'",sj.WestEuropean="'"+ej.WestEuropean+"'",sj.Armenian="'"+ej.Armenian+"'",sj.Georgian="'"+ej.Georgian+"'";var hj,cj,uj,lj,fj,dj,Aj="'Segoe UI', '"+ej.WestEuropean+"'",gj={ar:rj.Arabic,bg:rj.Cyrillic,cs:rj.EastEuropean,el:rj.Greek,et:rj.EastEuropean,he:rj.Hebrew,hi:rj.Hindi,hr:rj.EastEuropean,hu:rj.EastEuropean,ja:rj.Japanese,kk:rj.EastEuropean,ko:rj.Korean,lt:rj.EastEuropean,lv:rj.EastEuropean,pl:rj.EastEuropean,ru:rj.Cyrillic,sk:rj.EastEuropean,"sr-latn":rj.EastEuropean,th:rj.Thai,tr:rj.EastEuropean,uk:rj.Cyrillic,vi:rj.Vietnamese,"zh-hans":rj.ChineseSimplified,"zh-hant":rj.ChineseTraditional,hy:rj.Armenian,ka:rj.Georgian};function wj(t,i,e){return{fontFamily:e,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:t,fontWeight:i}}(cj=hj={}).mini="10px",cj.xSmall="10px",cj.small="12px",cj.smallPlus="12px",cj.medium="14px",cj.mediumPlus="16px",cj.icon="16px",cj.large="18px",cj.xLarge="20px",cj.xLargePlus="24px",cj.xxLarge="28px",cj.xxLargePlus="32px",cj.superLarge="42px",cj.mega="68px",(lj=uj={}).light=100,lj.semilight=300,lj.regular=400,lj.semibold=600,lj.bold=700,(dj=fj={}).xSmall="10px",dj.small="12px",dj.medium="16px",dj.large="20px";var mj,pj,vj,bj,Ej,Bj,Cj,jj,yj=(void 0===ab&&(pj=Qm(),null!==(vj=function(){var t=null;try{var i=Cm(),t=i?i.localStorage.getItem("language"):null}catch(t){}return t}())&&(ab=vj),void 0===ab&&pj&&(ab=pj.documentElement.getAttribute("lang")),void 0===ab&&(ab="en")),mj=function(t){for(var i in gj)if(gj.hasOwnProperty(i)&&t&&0===i.indexOf(t))return gj[i];return Aj}(ab)+", 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif",{tiny:wj(hj.mini,uj.regular,mj),xSmall:wj(hj.xSmall,uj.regular,mj),small:wj(hj.small,uj.regular,mj),smallPlus:wj(hj.smallPlus,uj.regular,mj),medium:wj(hj.medium,uj.regular,mj),mediumPlus:wj(hj.mediumPlus,uj.regular,mj),large:wj(hj.large,uj.regular,mj),xLarge:wj(hj.xLarge,uj.semibold,mj),xLargePlus:wj(hj.xLargePlus,uj.semibold,mj),xxLarge:wj(hj.xxLarge,uj.semibold,mj),xxLargePlus:wj(hj.xxLargePlus,uj.semibold,mj),superLarge:wj(hj.superLarge,uj.semibold,mj),mega:wj(hj.mega,uj.semibold,mj)});function xj(t,i,e,n){mp({fontFamily:t="'"+t+"'",src:(void 0!==n?"local('"+n+"'),":"")+"url('"+i+".woff2') format('woff2'),url('"+i+".woff') format('woff')",fontWeight:e,fontStyle:"normal",fontDisplay:"swap"})}function Ij(t,i,e,n,r){void 0===n&&(n="segoeui");var s=t+"/"+e+"/"+n;xj(i,s+"-light",uj.light,r&&r+" Light"),xj(i,s+"-semilight",uj.semilight,r&&r+" SemiLight"),xj(i,s+"-regular",uj.regular,r),xj(i,s+"-semibold",uj.semibold,r&&r+" SemiBold"),xj(i,s+"-bold",uj.bold,r&&r+" Bold")}(bj=null!=(jj=null==(Cj=null===(Bj=Cm())||void 0===Bj?void 0:Bj.FabricConfig)?void 0:Cj.fontBaseUrl)?jj:"https://static2.sharepointonline.com/files/fabric/assets")&&(Ij(Ej=bj+"/fonts",ej.Thai,"leelawadeeui-thai","leelawadeeui"),Ij(Ej,ej.Arabic,"segoeui-arabic"),Ij(Ej,ej.Cyrillic,"segoeui-cyrillic"),Ij(Ej,ej.EastEuropean,"segoeui-easteuropean"),Ij(Ej,ej.Greek,"segoeui-greek"),Ij(Ej,ej.Hebrew,"segoeui-hebrew"),Ij(Ej,ej.Vietnamese,"segoeui-vietnamese"),Ij(Ej,ej.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),Ij(Ej,rj.Selawik,"selawik","selawik"),Ij(Ej,ej.Armenian,"segoeui-armenian"),Ij(Ej,ej.Georgian,"segoeui-georgian"),xj("Leelawadee UI Web",Ej+"/leelawadeeui-thai/leelawadeeui-semilight",uj.light),xj("Leelawadee UI Web",Ej+"/leelawadeeui-thai/leelawadeeui-bold",uj.semibold));var Mj,Fj,Qj="@media screen and (-ms-high-contrast: active)";function Rj(t,i){return"@media only screen and (min-width: "+t+"px) and (max-width: "+i+"px)"}function kj(t,i,e,n,r,s,o){return function(t,i){var e,n;void 0===i&&(i={});var r=i.inset,s=void 0===r?0:r,o=i.width,a=void 0===o?1:o,h=i.position,c=void 0===h?"relative":h,u=i.highContrastStyle,l=i.borderColor,f=void 0===l?t.palette.white:l,d=i.outlineColor,A=void 0===d?t.palette.neutralSecondary:d,g=i.isFocusedOnly;return{outline:"transparent",position:c,selectors:((e={"::-moz-focus-inner":{border:"0"}})["."+rb+" &"+(void 0===g||g?":focus":"")+":after"]={content:'""',position:"absolute",left:s+1,top:s+1,bottom:s+1,right:s+1,border:a+"px solid "+f,outline:a+"px solid "+A,zIndex:Mj.FocusStyle,selectors:((n={})[Qj]=u,n)},e)}}(t,"number"!=typeof i&&i?i:{inset:i,position:e,highContrastStyle:n,borderColor:r,outlineColor:s,isFocusedOnly:o})}(Fj=Mj=Mj||{}).Nav=1,Fj.ScrollablePane=1,Fj.FocusStyle=1,Fj.Coachmark=1e3,Fj.Layer=1e6,Fj.KeytipLayer=1000001;var Sj=uv(function(e,t){var n=Gm.getInstance();return t?Object.keys(e).reduce(function(t,i){return t[i]=n.getClassName(e[i]),t},{}):e});function Dj(t,i,e){return Sj(t,void 0!==e?e:i.disableGlobalClassNames)}var Nj,Tj={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"},Oj=window&&window.__assign||function(){return(Oj=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t}).apply(this,arguments)},Yj="undefined"==typeof window?global:window;Yj&&Yj.CSPSettings&&Yj.CSPSettings.nonce,(Nj=Yj.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]}).runState||(Nj=Oj({},Nj,{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}})),Nj.registeredThemableStyles||(Nj=Oj({},Nj,{registeredThemableStyles:[]})),Yj.__themeState__=Nj;var Uj,Hj,zj,Gj=Pj({palette:oj,semanticColors:Vj(oj,aj,void 0,!1,!1),fonts:yj,isInverted:!1,disableGlobalClassNames:!1});function Pj(t,i){void 0===i&&(i=!1);var e=Sm(Sm({},oj),t.palette),n=Sm(Sm({},aj),t.effects);t.palette&&t.palette.accent||(e.accent=e.themePrimary);var r=Sm(Sm({},Vj(e,n,t.semanticColors,!!t.isInverted,i)),t.semanticColors),s=Sm({},yj);if(t.defaultFontStyle)for(var o=0,a=Object.keys(s);o<a.length;o++)s[h=a[o]]=gb({},s[h],t.defaultFontStyle);if(t.fonts)for(var h,c=0,u=Object.keys(t.fonts);c<u.length;c++)s[h=u[c]]=gb({},s[h],t.fonts[h]);return{palette:e,fonts:Sm({},s),rtl:t.rtl,semanticColors:r,isInverted:!!t.isInverted,disableGlobalClassNames:!!t.disableGlobalClassNames,spacing:Sm(Sm({},Tj),t.spacing),effects:n}}function Vj(t,i,e,n,r){var s,o,a=Sm({bodyBackground:t.white,bodyBackgroundHovered:t.neutralLighter,bodyBackgroundChecked:t.neutralLight,bodyStandoutBackground:t.neutralLighterAlt,bodyFrameBackground:t.white,bodyFrameDivider:t.neutralLight,bodyText:t.neutralPrimary,bodyTextChecked:t.black,bodySubtext:t.neutralSecondary,bodyDivider:t.neutralLight,disabledBodyText:t.neutralTertiary,disabledBodySubtext:t.neutralTertiaryAlt,disabledBorder:t.neutralTertiaryAlt,focusBorder:t.neutralSecondary,cardStandoutBackground:t.white,cardShadow:i.elevation4,cardShadowHovered:"",variantBorder:t.neutralLight,variantBorderHovered:t.neutralTertiary,defaultStateBackground:t.neutralLighterAlt,actionLink:t.neutralPrimary,actionLinkHovered:t.neutralDark,link:t.themePrimary,linkHovered:t.themeDarker,buttonBackground:t.white,buttonBackgroundChecked:t.neutralTertiaryAlt,buttonBackgroundHovered:t.neutralLighter,buttonBackgroundCheckedHovered:t.neutralLight,buttonBackgroundPressed:t.neutralLight,buttonBackgroundDisabled:t.neutralLighter,buttonBorder:t.neutralSecondaryAlt,buttonText:t.neutralPrimary,buttonTextHovered:t.neutralDark,buttonTextChecked:t.neutralDark,buttonTextCheckedHovered:t.black,buttonTextPressed:t.neutralDark,buttonTextDisabled:t.neutralTertiary,buttonBorderDisabled:t.neutralLighter,primaryButtonBackground:t.themePrimary,primaryButtonBackgroundHovered:t.themeDarkAlt,primaryButtonBackgroundPressed:t.themeDark,primaryButtonBackgroundDisabled:t.neutralLighter,primaryButtonBorder:"transparent",primaryButtonText:t.white,primaryButtonTextHovered:t.white,primaryButtonTextPressed:t.white,primaryButtonTextDisabled:t.neutralQuaternary,accentButtonBackground:t.accent,accentButtonText:t.white,inputBorder:t.neutralSecondary,inputBorderHovered:t.neutralPrimary,inputBackground:t.white,inputBackgroundChecked:t.themePrimary,inputBackgroundCheckedHovered:t.themeDark,inputPlaceholderBackgroundChecked:t.themeLighter,inputForegroundChecked:t.white,inputIcon:t.themePrimary,inputIconHovered:t.themeDark,inputIconDisabled:t.neutralTertiary,inputFocusBorderAlt:t.themePrimary,smallInputBorder:t.neutralSecondary,inputText:t.neutralPrimary,inputTextHovered:t.neutralDark,inputPlaceholderText:t.neutralSecondary,disabledBackground:t.neutralLighter,disabledText:t.neutralTertiary,disabledSubtext:t.neutralQuaternary,listBackground:t.white,listText:t.neutralPrimary,listItemBackgroundHovered:t.neutralLighter,listItemBackgroundChecked:t.neutralLight,listItemBackgroundCheckedHovered:t.neutralQuaternaryAlt,listHeaderBackgroundHovered:t.neutralLighter,listHeaderBackgroundPressed:t.neutralLight,menuBackground:t.white,menuDivider:t.neutralTertiaryAlt,menuIcon:t.themePrimary,menuHeader:t.themePrimary,menuItemBackgroundHovered:t.neutralLighter,menuItemBackgroundPressed:t.neutralLight,menuItemText:t.neutralPrimary,menuItemTextHovered:t.neutralDark,errorText:n?"#F1707B":"#a4262c",messageText:n?"#F3F2F1":"#323130",messageLink:n?"#6CB8F6":"#005A9E",messageLinkHovered:n?"#82C7FF":"#004578",infoIcon:n?"#C8C6C4":"#605e5c",errorIcon:n?"#F1707B":"#A80000",blockingIcon:n?"#442726":"#FDE7E9",warningIcon:n?"#C8C6C4":"#797775",severeWarningIcon:n?"#FCE100":"#D83B01",successIcon:n?"#92C353":"#107C10",infoBackground:n?"#323130":"#f3f2f1",errorBackground:n?"#442726":"#FDE7E9",blockingBackground:n?"#442726":"#FDE7E9",warningBackground:n?"#433519":"#FFF4CE",severeWarningBackground:n?"#4F2A0F":"#FED9CC",successBackground:n?"#393D1B":"#DFF6DD",warningHighlight:n?"#fff100":"#ffb900",warningText:"",successText:n?"#92c353":"#107C10",listTextColor:"",menuItemBackgroundChecked:t.neutralLight},e);return s=a=Sm(Sm({},a),{cardShadowHovered:n?"0 0 1px "+a.variantBorderHovered:i.elevation8}),o=!0===r?" /* @deprecated */":"",s.listTextColor=s.listText+o,s.menuItemBackgroundChecked+=o,s.warningHighlight+=o,s.warningText=s.messageText+o,s.successText+=o,s}wv.getSettings(["theme"]).theme||(null!==(Hj=null===(zj=Cm())||void 0===zj?void 0:zj.FabricConfig)&&void 0!==Hj&&Hj.theme&&(Gj=Pj(zj.FabricConfig.theme)),wv.applySettings(((Uj={}).theme=Gj,Uj)));var Lj,Jj,Wj=function(e){var n={};for(var t in e)!function(t){var i;e.hasOwnProperty(t)&&Object.defineProperty(n,t,{get:function(){return void 0===i&&(i=lp(e[t]).toString()),i},enumerable:!0,configurable:!0})}(t);return n}(KC),_j=((Lj={})[RB.top]=Wj.slideUpIn10,Lj[RB.bottom]=Wj.slideDownIn10,Lj[RB.left]=Wj.slideLeftIn10,Lj[RB.right]=Wj.slideRightIn10,Lj),Xj=iv({disableCaching:!0}),Kj={opacity:0,filter:"opacity(0)"},Zj=["role","aria-roledescription"],qj=(km($j,Jj=P.Component),$j.prototype.componentDidUpdate=function(){this.props.hidden?this._hasListeners&&this._removeListeners():(this._setInitialFocus(),this._hasListeners||this._addListeners(),this._updateAsyncPosition())},$j.prototype.shouldComponentUpdate=function(t,i){return!(!t.shouldUpdateWhenHidden&&this.props.hidden&&t.hidden||xm(this.props,t)&&xm(this.state,i))},$j.prototype.UNSAFE_componentWillMount=function(){this._setTargetWindowAndElement(this._getTarget())},$j.prototype.componentWillUnmount=function(){this._async.dispose(),this._disposables.forEach(function(t){return t()})},$j.prototype.UNSAFE_componentWillUpdate=function(t){var i=this._getTarget(t);(i!==this._getTarget()||"string"==typeof i||i instanceof String)&&!this._blockResetHeight&&(this._maxHeight=void 0,this._setTargetWindowAndElement(i)),t.gapSpace===this.props.gapSpace&&this.props.beakWidth===t.beakWidth||(this._maxHeight=void 0),t.finalHeight!==this.props.finalHeight&&this._setHeightOffsetEveryFrame(),this._didPositionPropsChange(t,this.props)&&(this._maxHeight=void 0,this._setTargetWindowAndElement(i),this.setState({positions:void 0}),this._didSetInitialFocus=!1,this._bounds=void 0),this._blockResetHeight=!1},$j.prototype.componentDidMount=function(){this.props.hidden||this._onComponentDidMount()},$j.prototype.render=function(){if(!this._targetWindow)return null;var t=this.props.target,i=this.props,e=i.styles,n=i.style,r=i.ariaLabel,s=i.ariaDescribedBy,o=i.ariaLabelledBy,a=i.className,h=i.isBeakVisible,c=i.children,u=i.beakWidth,l=i.calloutWidth,f=i.calloutMaxWidth,d=i.finalHeight,A=i.hideOverflow,g=void 0===A?!!d:A,w=i.backgroundColor,m=i.calloutMaxHeight,p=i.onScroll,v=i.shouldRestoreFocus,b=void 0===v||v,t=this._getTarget(),E=this.state.positions,B=this._getMaxHeight()?this._getMaxHeight()+this.state.heightOffset:void 0,C=m&&B&&m<B?m:B,j=g,y=h&&!!t;this._classNames=Xj(e,{theme:this.props.theme,className:a,overflowYHidden:j,calloutWidth:l,positions:E,beakWidth:u,backgroundColor:w,calloutMaxWidth:f});var x=Sm(Sm(Sm({},n),{maxHeight:C}),j&&{overflowY:"hidden"}),I=this.props.hidden?{visibility:"hidden"}:void 0;return P.createElement("div",{ref:this._hostElement,className:this._classNames.container,style:I},P.createElement("div",Sm({},Xv(this.props,_v,Zj),{className:fv(this._classNames.root,E&&E.targetEdge&&_j[E.targetEdge]),style:E?E.elementPosition:Kj,tabIndex:-1,ref:this._calloutElement}),y&&P.createElement("div",{className:this._classNames.beak,style:this._getBeakPosition()}),y&&P.createElement("div",{className:this._classNames.beakCurtain}),P.createElement(uC,Sm({},Xv(this.props,Zj),{ariaLabel:r,onRestoreFocus:this.props.onRestoreFocus,ariaDescribedBy:s,ariaLabelledBy:o,className:this._classNames.calloutMain,onDismiss:this.dismiss,onScroll:p,shouldRestoreFocus:b,style:x,onMouseDown:this._mouseDownOnPopup,onMouseUp:this._mouseUpOnPopup}),c)))},$j.prototype._dismissOnClickOrScroll=function(t){var i=t.target,e=this._hostElement.current&&!_p(this._hostElement.current,i);e&&this._isMouseDownOnPopup?this._isMouseDownOnPopup=!1:(!this._target&&e||t.target!==this._targetWindow&&e&&(this._target.stopPropagation||!this._target||i!==this._target&&!_p(this._target,i)))&&this.dismiss(t)},$j.prototype._addListeners=function(){var t=this;this._async.setTimeout(function(){t._disposables.push(Kp(t._targetWindow,"scroll",t._dismissOnScroll,!0),Kp(t._targetWindow,"resize",t._dismissOnResize,!0),Kp(t._targetWindow.document.documentElement,"focus",t._dismissOnLostFocus,!0),Kp(t._targetWindow.document.documentElement,"click",t._dismissOnLostFocus,!0)),t._hasListeners=!0},0)},$j.prototype._removeListeners=function(){this._disposables.forEach(function(t){return t()}),this._disposables=[],this._hasListeners=!1},$j.prototype._updateAsyncPosition=function(){var t=this;this._async.requestAnimationFrame(function(){return t._updatePosition()},this._calloutElement.current)},$j.prototype._getBeakPosition=function(){var t=this.state.positions,i=Sm({},t&&t.beakPosition?t.beakPosition.elementPosition:null);return i.top||i.bottom||i.left||i.right||(i.left=0,i.top=0),i},$j.prototype._updatePosition=function(){this._setTargetWindowAndElement(this._getTarget());var t,i,e=this.state.positions,n=this._hostElement.current,r=this._calloutElement.current,s=!!this.props.target;n&&r&&(!s||this._target)&&((t=Sm({},this.props)).bounds=this._getBounds(),t.target=this._target,i=this.props.finalHeight?hC(t,n,r,e,!0):hC(t,n,r,e),!e&&i||e&&i&&!this._arePositionsEqual(e,i)&&this._positionAttempts<5?(this._positionAttempts++,this.setState({positions:i})):0<this._positionAttempts&&(this._positionAttempts=0,this.props.onPositioned&&this.props.onPositioned(this.state.positions)))},$j.prototype._getBounds=function(){var t,i,e,n;return this._bounds||(i=(i="function"==typeof(t=this.props.bounds)?t(this.props.target,this._targetWindow):t)||{top:(e=this._target,n=this._targetWindow,(i=function(t,i){var e=void 0;if(i.getWindowSegments&&(e=i.getWindowSegments()),void 0===e||e.length<=1)return{top:0,left:0,right:i.innerWidth,bottom:i.innerHeight,width:i.innerWidth,height:i.innerHeight};var n,r=0,s=0;null!==t&&t.getBoundingClientRect?(r=((n=t.getBoundingClientRect()).left+n.right)/2,s=(n.top+n.bottom)/2):null!==t&&(r=t.left||t.x,s=t.top||t.y);for(var o={top:0,left:0,right:0,bottom:0,width:0,height:0},a=0,h=e;a<h.length;a++){var c=h[a];r&&c.left<=r&&c.right>=r&&s&&c.top<=s&&c.bottom>=s&&(o={top:c.top,left:c.left,right:c.right,bottom:c.bottom,width:c.width,height:c.height})}return o}(e,n)).top+this.props.minPagePadding),left:i.left+this.props.minPagePadding,right:i.right-this.props.minPagePadding,bottom:i.bottom-this.props.minPagePadding,width:i.width-2*this.props.minPagePadding,height:i.height-2*this.props.minPagePadding},this._bounds=i),this._bounds},$j.prototype._getMaxHeight=function(){var t,i,e=this;return this._maxHeight||(this.props.directionalHintFixed&&this._target?(t=this.props.isBeakVisible?this.props.beakWidth:0,i=(this.props.gapSpace?this.props.gapSpace:0)+t,this._async.requestAnimationFrame(function(){e._target&&(e._maxHeight=function(t,i,e,n,r){void 0===e&&(e=0);var s,o=t,a=t,h=t,c=n?oC(n):new YB(0,window.innerWidth-bp(),0,window.innerHeight),u=h.left||h.x,l=h.top||h.y,f=o.stopPropagation?new YB(o.clientX,o.clientX,o.clientY,o.clientY):void 0!==u&&void 0!==l?new YB(u,u,l,l):sC(a),d=zB[i],A=r?-1*d.targetEdge:d.targetEdge;return 0<(s=A===RB.top?VB(f,d.targetEdge)-c.top-e:A===RB.bottom?c.bottom-VB(f,d.targetEdge)-e:c.bottom-f.top-e)?s:c.height}(e._target,e.props.directionalHint,i,e._getBounds(),e.props.coverTarget),e._blockResetHeight=!0,e.forceUpdate())},this._target)):this._maxHeight=this._getBounds().height),this._maxHeight},$j.prototype._arePositionsEqual=function(t,i){return this._comparePositions(t.elementPosition,i.elementPosition)&&this._comparePositions(t.beakPosition.elementPosition,i.beakPosition.elementPosition)},$j.prototype._comparePositions=function(t,i){for(var e in i)if(i.hasOwnProperty(e)){var n=t[e],r=i[e];if(void 0===n||void 0===r)return!1;if(n.toFixed(2)!==r.toFixed(2))return!1}return!0},$j.prototype._setTargetWindowAndElement=function(t){var i,e,n=this._calloutElement.current;t?"string"==typeof t?(i=Qm(n),this._target=i?i.querySelector(t):null,this._targetWindow=Cm(n)):t.stopPropagation?(this._targetWindow=Cm(t.target),this._target=t):t.getBoundingClientRect?(e=t,this._targetWindow=Cm(e),this._target=e):void 0!==t.current?(this._target=t.current,this._targetWindow=Cm(this._target)):(this._targetWindow=Cm(n),this._target=t):this._targetWindow=Cm(n)},$j.prototype._setHeightOffsetEveryFrame=function(){var e=this;this._calloutElement.current&&this.props.finalHeight&&(this._setHeightOffsetTimer=this._async.requestAnimationFrame(function(){var t,i=e._calloutElement.current&&e._calloutElement.current.lastChild;i&&(t=i.scrollHeight-i.offsetHeight,e.setState({heightOffset:e.state.heightOffset+t}),i.offsetHeight<e.props.finalHeight?e._setHeightOffsetEveryFrame():e._async.cancelAnimationFrame(e._setHeightOffsetTimer,e._calloutElement.current))},this._calloutElement.current))},$j.prototype._didPositionPropsChange=function(t,i){return!t.hidden&&t.hidden!==i.hidden||t.directionalHint!==i.directionalHint},$j.prototype._getTarget=function(t){return void 0===t&&(t=this.props),t.target},$j.defaultProps={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,preventDismissOnResize:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:nB.bottomAutoEdge},$j);function $j(t){var e=Jj.call(this,t)||this;return e._hostElement=P.createRef(),e._calloutElement=P.createRef(),e._hasListeners=!1,e._disposables=[],e.dismiss=function(t){var i=e.props.onDismiss;i&&i(t)},e._dismissOnScroll=function(t){var i=e.props.preventDismissOnScroll;e.state.positions&&!i&&e._dismissOnClickOrScroll(t)},e._dismissOnResize=function(t){e.props.preventDismissOnResize||e.dismiss(t)},e._dismissOnLostFocus=function(t){e.props.preventDismissOnLostFocus||e._dismissOnClickOrScroll(t)},e._setInitialFocus=function(){e.props.setInitialFocus&&!e._didSetInitialFocus&&e.state.positions&&e._calloutElement.current&&(e._didSetInitialFocus=!0,e._async.requestAnimationFrame(function(){return t=e._calloutElement.current,!!(i=Fv(t,t,!0,!1,!1,!0))&&(function(){if(i){if(Nv)return Nv=i;var t=Cm(Nv=i);t&&t.requestAnimationFrame(function(){Nv&&Nv.focus(),Nv=void 0})}}(),!0);var t,i},e._calloutElement.current))},e._onComponentDidMount=function(){e._addListeners(),e.props.onLayerMounted&&e.props.onLayerMounted(),e._updateAsyncPosition(),e._setHeightOffsetEveryFrame()},e._mouseDownOnPopup=function(){e._isMouseDownOnPopup=!0},e._mouseUpOnPopup=function(){e._isMouseDownOnPopup=!1},e._async=new jm(e),e._didSetInitialFocus=!1,e.state={positions:void 0,slideDirectionalClassName:void 0,calloutElementRect:void 0,heightOffset:0},e._positionAttempts=0,e}function ty(t){var i=t.theme,e=t.className,n=t.applyTheme;return{root:[Dj(sy,i).root,i.fonts.medium,{color:i.palette.neutralPrimary,selectors:{"& button":ry,"& input":ry,"& textarea":ry}},n&&{color:i.semanticColors.bodyText,backgroundColor:i.semanticColors.bodyBackground},e],bodyThemed:[{backgroundColor:i.semanticColors.bodyBackground}]}}var iy,ey={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},ny=vb(qj,function(t){var i,e=t.theme,n=t.className,r=t.overflowYHidden,s=t.calloutWidth,o=t.beakWidth,a=t.backgroundColor,h=t.calloutMaxWidth,c=Dj(ey,e),u=e.semanticColors,l=e.effects;return{container:[c.container,{position:"relative"}],root:[c.root,e.fonts.medium,{position:"absolute",boxSizing:"border-box",borderRadius:l.roundedCorner2,boxShadow:l.elevation16,selectors:((i={})[Qj]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},i)},{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}},n,!!s&&{width:s},!!h&&{maxWidth:h}],beak:[c.beak,{position:"absolute",backgroundColor:u.menuBackground,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},{height:o,width:o},a&&{backgroundColor:a}],beakCurtain:[c.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:u.menuBackground,borderRadius:l.roundedCorner2}],calloutMain:[c.calloutMain,{backgroundColor:u.menuBackground,overflowX:"hidden",overflowY:"auto",position:"relative",borderRadius:l.roundedCorner2},r&&{overflowY:"hidden"},a&&{backgroundColor:a}]}},void 0,{scope:"CalloutContent"}),ry={fontFamily:"inherit"},sy={root:"ms-Fabric",bodyThemed:"ms-Fabric-bodyThemed"},oy=iv(),ay=uv(function(t,i){return Pj(Sm(Sm({},t),{rtl:i}))});function hy(){var t=null!==iy&&iy.apply(this,arguments)||this;return t._rootElement=P.createRef(),t._removeClassNameFromBody=void 0,t}var cy,uy,ly,fy,dy=vb((km(hy,iy=P.Component),hy.prototype.render=function(){var t,i,e,n,r=this.props,s=r.as,o=void 0===s?"div":s,a=r.theme,h=r.dir,c=this._getClassNames(),u=Xv(this.props,_v,["dir"]),l=(t=h,i=Jp(a)?"rtl":"ltr",e=Jp()?"rtl":"ltr",{rootDir:(n=t||i)!==i||n!==e?n:t,needsTheme:n!==i}),f=l.rootDir,d=l.needsTheme,A=P.createElement(o,Sm({dir:f},u,{className:c.root,ref:this._rootElement}));return d&&(A=P.createElement(Ev,{settings:{theme:ay(a,"rtl"===h)}},A)),P.createElement(P.Fragment,null,A,P.createElement(lb,{rootRef:this._rootElement}))},hy.prototype.componentDidMount=function(){this._addClassNameToBody()},hy.prototype.componentWillUnmount=function(){this._removeClassNameFromBody&&this._removeClassNameFromBody()},hy.prototype._getClassNames=function(){var t=this.props,i=t.className,e=t.theme,n=t.applyTheme;return oy(ty,{theme:e,applyTheme:n,className:i})},hy.prototype._addClassNameToBody=function(){var t,i;this.props.applyThemeToBody&&(t=this._getClassNames(),(i=Qm(this._rootElement.current))&&(i.body.classList.add(t.bodyThemed),this._removeClassNameFromBody=function(){i.body.classList.remove(t.bodyThemed)}))},hy),ty,void 0,{scope:"Fabric"}),Ay={},gy=iv(),wy=(km(my,cy=P.Component),my.prototype.componentDidMount=function(){var t,i,e=this.props.hostId;this._createLayerElement(),e&&(t=e,i=this._createLayerElement,Ay[t]||(Ay[t]=[]),Ay[t].push(i))},my.prototype.render=function(){var t=this.state.layerElement,i=this._getClassNames(),e=this.props.eventBubblingEnabled;return P.createElement("span",{className:"ms-layer",ref:this._rootRef},t&&C.createPortal(P.createElement(dy,Sm({},!e&&(py||(py={},["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onTouchMove","onTouchStart","onTouchCancel","onTouchEnd","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"].forEach(function(t){return py[t]=My})),py),{className:i.content}),this.props.children),t))},my.prototype.componentDidUpdate=function(){this.props.hostId!==this.state.hostId&&this._createLayerElement()},my.prototype.componentWillUnmount=function(){var t,i,e,n=this.props.hostId;this._removeLayerElement(),n&&(t=n,i=this._createLayerElement,!Ay[t]||0<=(e=Ay[t].indexOf(i))&&(Ay[t].splice(e,1),0===Ay[t].length&&delete Ay[t]))},my.prototype._removeLayerElement=function(){var t,i=this.props.onLayerWillUnmount,e=this.state.layerElement;i&&i(),e&&e.parentNode&&(t=e.parentNode)&&t.removeChild(e)},my.prototype._getClassNames=function(){var t=this.props,i=t.className,e=t.styles,n=t.theme;return gy(e,{theme:n,className:i,isNotHost:!this.props.hostId})},my.prototype._getHost=function(){var t=this.props.hostId,i=Qm(this._rootRef.current);if(i)return t?i.getElementById(t):i.body},my.defaultProps={onLayerDidMount:function(){},onLayerWillUnmount:function(){}},Nm([(uy="Layer",ly=["theme","hostId"],function(s){var e,t=(km(i,e=P.Component),i.prototype.componentDidMount=function(){wv.observe(this._onSettingChanged)},i.prototype.componentWillUnmount=function(){wv.unobserve(this._onSettingChanged)},i.prototype.render=function(){var r=this;return P.createElement(pv.Consumer,null,function(t){var i,e=wv.getSettings(ly,uy,t.customizations),n=r.props;return e.styles&&"function"==typeof e.styles&&(e.styles=e.styles(Sm(Sm({},e),n))),fy&&e.styles?(r._styleCache.default===e.styles&&r._styleCache.component===n.styles||(i=dp(e.styles,n.styles),r._styleCache.default=e.styles,r._styleCache.component=n.styles,r._styleCache.merged=i),P.createElement(s,Sm({},e,n,{styles:r._styleCache.merged}))):P.createElement(s,Sm({},e,n))})},i.prototype._onSettingChanged=function(){this.forceUpdate()},i.displayName="Customized"+uy,i);function i(t){var i=e.call(this,t)||this;return i._styleCache={},i._onSettingChanged=i._onSettingChanged.bind(i),i}return Cv(s,t)})],my));function my(t){var r=cy.call(this,t)||this;return r._rootRef=P.createRef(),r._createLayerElement=function(){var s,t,i=r.props.hostId,e=Qm(r._rootRef.current),n=r._getHost();e&&n&&(r._removeLayerElement(),s=e.createElement("div"),t=r._getClassNames(),s.className=t.root,s.setAttribute(Zp,"true"),function(t){var i=s,e=t;i._virtual||(i._virtual={children:[]});var n,r=i._virtual.parent;!r||r===t||-1<(n=r._virtual.children.indexOf(i))&&r._virtual.children.splice(n,1),i._virtual.parent=e||void 0,e&&(e._virtual||(e._virtual={children:[]}),e._virtual.children.push(i))}(r._rootRef.current),r.props.insertFirst?n.insertBefore(s,n.firstChild):n.appendChild(s),r.setState({hostId:i,layerElement:s},function(){var t=r.props,i=t.onLayerDidMount,e=t.onLayerMounted;e&&e(),i&&i()}))},r.state={},r}var py,vy,by,Ey,By,Cy,jy,yy,xy,Iy,My=function(t){t.eventPhase===Event.BUBBLING_PHASE&&"mouseenter"!==t.type&&"mouseleave"!==t.type&&"touchstart"!==t.type&&"touchend"!==t.type&&t.stopPropagation()},Fy={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},Qy=vb(wy,function(t){var i=t.className,e=t.isNotHost,n=t.theme,r=Dj(Fy,n);return{root:[r.root,n.fonts.medium,e&&[r.rootNoHost,{position:"fixed",zIndex:Mj.Layer,top:0,left:0,bottom:0,right:0,visibility:"hidden"}],i],content:[r.content,{visibility:"visible"}]}},void 0,{scope:"Layer",fields:["hostId","theme","styles"]}),Ry=(km(ky,vy=P.Component),ky.prototype.render=function(){var t=this.props,i=t.layerProps,e=Dm(t,["layerProps"]),n=P.createElement(ny,Sm({},e));return this.props.doNotLayer?n:P.createElement(Qy,Sm({},i),n)},ky);function ky(){return null!==vy&&vy.apply(this,arguments)||this}(Ey=by={})[Ey.default=0]="default",Ey[Ey.image=1]="image",Ey[Ey.Default=1e5]="Default",Ey[Ey.Image=100001]="Image",(Cy=By={})[Cy.center=0]="center",Cy[Cy.contain=1]="contain",Cy[Cy.cover=2]="cover",Cy[Cy.none=3]="none",Cy[Cy.centerCover=4]="centerCover",Cy[Cy.centerContain=5]="centerContain",(yy=jy={})[yy.landscape=0]="landscape",yy[yy.portrait=1]="portrait",(Iy=xy={})[Iy.notLoaded=0]="notLoaded",Iy[Iy.loaded=1]="loaded",Iy[Iy.error=2]="error",Iy[Iy.errorLoaded=3]="errorLoaded";var Sy,Dy=iv(),Ny=(km(Ty,Sy=P.Component),Ty.prototype.UNSAFE_componentWillReceiveProps=function(t){t.src!==this.props.src?this.setState({loadState:xy.notLoaded}):this.state.loadState===xy.loaded&&this._computeCoverStyle(t)},Ty.prototype.componentDidUpdate=function(t,i){this._checkImageLoaded(),this.props.onLoadingStateChange&&i.loadState!==this.state.loadState&&this.props.onLoadingStateChange(this.state.loadState)},Ty.prototype.render=function(){var t=Xv(this.props,Wv,["width","height"]),i=this.props,e=i.src,n=i.alt,r=i.width,s=i.height,o=i.shouldFadeIn,a=i.shouldStartVisible,h=i.className,c=i.imageFit,u=i.role,l=i.maximizeFrame,f=i.styles,d=i.theme,A=this.state.loadState,g=void 0!==this.props.coverStyle?this.props.coverStyle:this._coverStyle,w=Dy(f,{theme:d,className:h,width:r,height:s,maximizeFrame:l,shouldFadeIn:o,shouldStartVisible:a,isLoaded:A===xy.loaded||A===xy.notLoaded&&this.props.shouldStartVisible,isLandscape:g===jy.landscape,isCenter:c===By.center,isCenterContain:c===By.centerContain,isCenterCover:c===By.centerCover,isContain:c===By.contain,isCover:c===By.cover,isNone:c===By.none,isError:A===xy.error,isNotImageFit:void 0===c});return P.createElement("div",{className:w.root,style:{width:r,height:s},ref:this._frameElement},P.createElement("img",Sm({},t,{onLoad:this._onImageLoaded,onError:this._onImageError,key:"fabricImage"+this.props.src||"",className:w.image,ref:this._imageElement,src:e,alt:n,role:u})))},Ty.prototype._checkImageLoaded=function(){var t=this.props.src;this.state.loadState===xy.notLoaded&&this._imageElement.current&&(t&&0<this._imageElement.current.naturalWidth&&0<this._imageElement.current.naturalHeight||this._imageElement.current.complete&&Ty._svgRegex.test(t))&&(this._computeCoverStyle(this.props),this.setState({loadState:xy.loaded}))},Ty.prototype._computeCoverStyle=function(t){var i,e,n=t.imageFit,r=t.width,s=t.height;(n===By.cover||n===By.contain||n===By.centerContain||n===By.centerCover)&&void 0===this.props.coverStyle&&this._imageElement.current&&this._frameElement.current&&(i="number"==typeof r&&"number"==typeof s&&n!==By.centerContain&&n!==By.centerCover?r/s:this._frameElement.current.clientWidth/this._frameElement.current.clientHeight,e=this._imageElement.current.naturalWidth/this._imageElement.current.naturalHeight,this._coverStyle=i<e?jy.landscape:jy.portrait)},Ty.defaultProps={shouldFadeIn:!0},Ty._svgRegex=/\.svg$/i,Ty);function Ty(t){var r=Sy.call(this,t)||this;return r._coverStyle=jy.portrait,r._imageElement=P.createRef(),r._frameElement=P.createRef(),r._onImageLoaded=function(t){var i=r.props,e=i.src,n=i.onLoad;n&&n(t),r._computeCoverStyle(r.props),e&&r.setState({loadState:xy.loaded})},r._onImageError=function(t){r.props.onError&&r.props.onError(t),r.setState({loadState:xy.error})},r.state={loadState:xy.notLoaded},r}var Oy,Yy={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},Uy=vb(Ny,function(t){var i=t.className,e=t.width,n=t.height,r=t.maximizeFrame,s=t.isLoaded,o=t.shouldFadeIn,a=t.shouldStartVisible,h=t.isLandscape,c=t.isCenter,u=t.isContain,l=t.isCover,f=t.isCenterContain,d=t.isCenterCover,A=t.isNone,g=t.isError,w=t.isNotImageFit,m=t.theme,p=Dj(Yy,m),v={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},b=Cm(),E=void 0!==b&&void 0===b.navigator.msMaxTouchPoints,B=u&&h||l&&!h?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[p.root,m.fonts.medium,{overflow:"hidden"},r&&[p.rootMaximizeFrame,{height:"100%",width:"100%"}],s&&o&&!a&&Wj.fadeIn400,(c||u||l||f||d)&&{position:"relative"},i],image:[p.image,{display:"block",opacity:0},s&&["is-loaded",{opacity:1}],c&&[p.imageCenter,v],u&&[p.imageContain,E&&{width:"100%",height:"100%",objectFit:"contain"},!E&&B,v],l&&[p.imageCover,E&&{width:"100%",height:"100%",objectFit:"cover"},!E&&B,v],f&&[p.imageCenterContain,h&&{maxWidth:"100%"},!h&&{maxHeight:"100%"},v],d&&[p.imageCenterCover,h&&{maxHeight:"100%"},!h&&{maxWidth:"100%"},v],A&&[p.imageNone,{width:"auto",height:"auto"}],w&&[!!e&&!n&&{height:"auto",width:"100%"},!e&&!!n&&{height:"100%",width:"auto"},!!e&&!!n&&{height:"100%",width:"100%"}],h&&p.imageLandscape,!h&&p.imagePortrait,!s&&"is-notLoaded",o&&"is-fadeIn",g&&"is-error"]}},void 0,{scope:"Image"},!0),Hy=Ap({root:{display:"inline-block"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),zy=uv(function(t){var i,e,n,r,s=(i=t,n=void 0,r=fC.__options,i=i?i.toLowerCase():"",(i=fC.__remapped[i]||i)&&((n=fC[i])?(e=n.subset)&&e.fontFace&&(e.isRegistered||(mp(e.fontFace),e.isRegistered=!0),e.className||(e.className=lp(e.style,{fontFamily:e.fontFace.fontFamily,fontWeight:e.fontFace.fontWeight||"normal",fontStyle:e.fontFace.fontStyle||"normal"}))):r.disableWarnings||!r.warnOnMissingIcons||console&&console.warn),n||{subset:{},code:void 0}),o=s.code,a=s.subset;return o?{children:o,iconClassName:a.className,fontFamily:a.fontFace&&a.fontFace.fontFamily}:null},void 0,!0),Gy=(uv(function(t,i,e){return r=(n={iconName:t,className:i,"aria-label":e}).iconName,s=n.className,a=void 0===(o=n.style)?{}:o,c=(h=zy(r)||{}).iconClassName,u=h.children,l=h.fontFamily,f=Xv(n,Vv),d=n["aria-label"]?{}:{role:"presentation","aria-hidden":!0},P.createElement("i",Sm({"data-icon-name":r},d,f,{className:fv("ms-Icon",Hy.root,c,!r&&Hy.placeholder,s),style:Sm({fontFamily:l},a)}),u);var n,r,s,o,a,h,c,u,l,f,d}),iv({cacheSize:100}));function Py(t){var i=Oy.call(this,t)||this;return i._onImageLoadingStateChange=function(t){i.props.imageProps&&i.props.imageProps.onLoadingStateChange&&i.props.imageProps.onLoadingStateChange(t),t===xy.error&&i.setState({imageLoadError:!0})},i.state={imageLoadError:!1},i}var Vy,Ly=vb((km(Py,Oy=P.Component),Py.prototype.render=function(){var t=this.props,i=t.children,e=t.className,n=t.styles,r=t.iconName,s=t.imageErrorAs,o=t.theme,a="string"==typeof r&&0===r.length,h=!!this.props.imageProps||this.props.iconType===by.image||this.props.iconType===by.Image,c=zy(r)||{},u=c.children,l=Gy(n,{theme:o,className:e,iconClassName:c.iconClassName,isImage:h,isPlaceholder:a}),f=h?"span":"i",d=Xv(this.props,Vv,["aria-label"]),A=this.state.imageLoadError,g=Sm(Sm({},this.props.imageProps),{onLoadingStateChange:this._onImageLoadingStateChange}),w=A&&s||Uy,m=this.props["aria-label"]||this.props.ariaLabel,p=m?{"aria-label":m}:{"aria-hidden":!this.props["aria-labelledby"]&&!g["aria-labelledby"]};return P.createElement(f,Sm({"data-icon-name":r},p,d,{className:l.root}),h?P.createElement(w,Sm({},g)):i||u)},Py),function(t){var i=t.className,e=t.iconClassName,n=t.isPlaceholder,r=t.isImage,s=t.styles;return{root:[n&&Hy.placeholder,Hy.root,r&&Hy.image,e,i,s&&s.root,s&&s.imageContainer]}},void 0,{scope:"Icon"},!0),Jy=(km(Wy,Vy=P.Component),Wy.prototype.render=function(){var t,i,e,n,r,s,o,a,h,c,u,l,f,d,A,g,w,m,p,v,b=this.props,E=b.item,B=b.classNames;return P.createElement("div",{className:E.split?B.linkContentMenu:B.linkContent},(g=this.props,w=g.onCheckmarkClick,m=g.item,p=g.classNames,v=bB(m),w?P.createElement(Ly,{iconName:!1!==m.canCheck&&v?"CheckMark":"",className:p.checkmarkIcon,onClick:function(t){return w(m,t)}}):null),(l=(u=this.props).item,f=u.hasIcons,d=u.classNames,A=l.iconProps,f?l.onRenderIcon?l.onRenderIcon(u):P.createElement(Ly,Sm({},A,{className:d.icon})):null),(h=(a=this.props).item,c=a.classNames,h.text||h.name?P.createElement("span",{className:c.label},h.text||h.name):null),(s=(r=this.props).item,o=r.classNames,s.secondaryText?P.createElement("span",{className:o.secondaryText},s.secondaryText):null),(i=(t=this.props).item,e=t.classNames,n=t.theme,EB(i)?P.createElement(Ly,Sm({iconName:Jp(n)?"ChevronLeft":"ChevronRight"},i.submenuIconProps,{className:e.subMenuIcon})):null))},Wy);function Wy(t){var s=Vy.call(this,t)||this;return s.openSubMenu=function(){var t,i=s.props,e=i.item,n=i.openSubMenu,r=i.getSubmenuTarget;r&&(t=r(),EB(e)&&n&&t&&n(e,t))},s.dismissSubMenu=function(){var t=s.props,i=t.item,e=t.dismissSubMenu;EB(i)&&e&&e()},s.dismissMenu=function(t){var i=s.props.dismissMenu;i&&i(void 0,t)},qv(s),s}function _y(t){var i=t.theme,e=t.disabled,n=t.expanded,r=t.checked,s=t.isAnchorLink,o=t.knownIcon,a=t.itemClassName,h=t.dividerClassName,c=t.iconClassName,u=t.subMenuClassName,l=t.primaryDisabled,f=t.className;return ex(i,e,n,r,s,o,a,h,c,u,l,f)}var Xy,Ky=uv(function(t){return Ap({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:t.palette.neutralTertiaryAlt}})}),Zy=Rj(0,639),qy=uv(function(){var t;return{selectors:((t={})[Qj]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},t)}}),$y=uv(function(t){var i,e,n,r,s,o,a,h=t.semanticColors,c=t.fonts,u=t.palette,l=h.menuItemBackgroundHovered,f=h.menuItemTextHovered,d=h.menuItemBackgroundPressed,A=h.bodyDivider;return dp({item:[c.medium,{color:h.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:A,position:"relative"},root:[kj(t),c.medium,{color:h.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:36,lineHeight:36,display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:h.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:Sm(((i={})[Qj]={color:"GrayText",opacity:1},i),{"@media screen and (forced-colors: active)":{forcedColorAdjust:"none"}})},rootHovered:Sm({backgroundColor:l,color:f,selectors:{".ms-ContextualMenu-icon":{color:u.themeDarkAlt},".ms-ContextualMenu-submenuIcon":{color:u.neutralPrimary}}},qy()),rootFocused:Sm({backgroundColor:u.white},qy()),rootChecked:Sm({selectors:{".ms-ContextualMenu-checkmarkIcon":{color:u.neutralPrimary}}},qy()),rootPressed:Sm({backgroundColor:d,selectors:{".ms-ContextualMenu-icon":{color:u.themeDark},".ms-ContextualMenu-submenuIcon":{color:u.neutralPrimary}}},qy()),rootExpanded:Sm({backgroundColor:d,color:h.bodyTextChecked},qy()),linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},secondaryText:{color:t.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:36,fontSize:fj.medium,width:fj.medium,margin:"0 4px",verticalAlign:"middle",flexShrink:"0",selectors:((e={})[Zy]={fontSize:fj.large,width:fj.large},e)},iconColor:{color:h.menuIcon,selectors:((n={})[Qj]={color:"inherit"},n["$root:hover &"]={selectors:((r={})[Qj]={color:"HighlightText"},r)},n["$root:focus &"]={selectors:((s={})[Qj]={color:"HighlightText"},s)},n)},iconDisabled:{color:h.disabledBodyText},checkmarkIcon:{color:h.bodySubtext,selectors:((o={})[Qj]={color:"HighlightText"},o)},subMenuIcon:{height:36,lineHeight:36,color:u.neutralSecondary,textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:fj.small,selectors:((a={":hover":{color:u.neutralPrimary},":active":{color:u.neutralPrimary}})[Zy]={fontSize:fj.medium},a[Qj]={color:"HighlightText"},a)},splitButtonFlexContainer:[kj(t),{display:"flex",height:36,flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-start"}]})}),tx=uv(function(t){var i;return Ap(Ky(t),{wrapper:{position:"absolute",right:28,selectors:((i={})["@media only screen and (min-width: 0px) and (max-width: 639px)"]={right:32},i)},divider:{height:16,width:1}})}),ix={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText",splitMenu:"ms-ContextualMenu-splitMenu"},ex=uv(function(t,i,e,n,r,s,o,a,h,c,u,l){var f,d,A,g,w=$y(t),m=Dj(ix,t);return Ap({item:[m.item,w.item,o],divider:[m.divider,w.divider,a],root:[m.root,w.root,n&&[m.isChecked,w.rootChecked],r&&w.anchorLink,e&&[m.isExpanded,w.rootExpanded],i&&[m.isDisabled,w.rootDisabled],!i&&!e&&[{selectors:((f={":hover":w.rootHovered,":active":w.rootPressed})["."+rb+" &:focus, ."+rb+" &:focus:hover"]=w.rootFocused,f["."+rb+" &:hover"]={background:"inherit;"},f)}],l],splitPrimary:[w.root,{width:"calc(100% - 28px)"},n&&["is-checked",w.rootChecked],(i||u)&&["is-disabled",w.rootDisabled],!(i||u)&&!n&&[{selectors:((d={":hover":w.rootHovered})[":hover ~ ."+m.splitMenu]=w.rootHovered,d[":active"]=w.rootPressed,d["."+rb+" &:focus, ."+rb+" &:focus:hover"]=w.rootFocused,d["."+rb+" &:hover"]={background:"inherit;"},d)}]],splitMenu:[m.splitMenu,w.root,{flexBasis:"0",padding:"0 8px",minWidth:"28px"},e&&["is-expanded",w.rootExpanded],i&&["is-disabled",w.rootDisabled],!i&&!e&&[{selectors:((A={":hover":w.rootHovered,":active":w.rootPressed})["."+rb+" &:focus, ."+rb+" &:focus:hover"]=w.rootFocused,A["."+rb+" &:hover"]={background:"inherit;"},A)}]],anchorLink:w.anchorLink,linkContent:[m.linkContent,w.linkContent],linkContentMenu:[m.linkContentMenu,w.linkContent,{justifyContent:"center"}],icon:[m.icon,s&&w.iconColor,w.icon,h,i&&[m.isDisabled,w.iconDisabled]],iconColor:w.iconColor,checkmarkIcon:[m.checkmarkIcon,s&&w.checkmarkIcon,w.icon,h],subMenuIcon:[m.subMenuIcon,w.subMenuIcon,c,e&&{color:t.palette.neutralPrimary},i&&[w.iconDisabled]],label:[m.label,w.label],secondaryText:[m.secondaryText,w.secondaryText],splitContainer:[w.splitButtonFlexContainer,!i&&!n&&[{selectors:((g={})["."+rb+" &:focus, ."+rb+" &:focus:hover"]=w.rootFocused,g)}]]})}),nx=vb(Jy,_y,void 0,{scope:"ContextualMenuItem"}),rx=(km(sx,Xy=P.Component),sx.prototype.shouldComponentUpdate=function(t){return!xm(t,this.props)},sx);function sx(t){var r=Xy.call(this,t)||this;return r._onItemMouseEnter=function(t){var i=r.props,e=i.item,n=i.onItemMouseEnter;n&&n(e,t,t.currentTarget)},r._onItemClick=function(t){var i=r.props,e=i.item,n=i.onItemClickBase;n&&n(e,t,t.currentTarget)},r._onItemMouseLeave=function(t){var i=r.props,e=i.item,n=i.onItemMouseLeave;n&&n(e,t)},r._onItemKeyDown=function(t){var i=r.props,e=i.item,n=i.onItemKeyDown;n&&n(e,t)},r._onItemMouseMove=function(t){var i=r.props,e=i.item,n=i.onItemMouseMove;n&&n(e,t,t.currentTarget)},r._getSubMenuId=function(t){var i=r.props.getSubMenuId;if(i)return i(t)},r._getSubmenuTarget=function(){},qv(r),r}var ox,ax,hx="ktp",cx="-",ux="ktp-layer-id";(ax=ox={}).KEYTIP_ADDED="keytipAdded",ax.KEYTIP_REMOVED="keytipRemoved",ax.KEYTIP_UPDATED="keytipUpdated",ax.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",ax.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",ax.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",ax.ENTER_KEYTIP_MODE="enterKeytipMode",ax.EXIT_KEYTIP_MODE="exitKeytipMode";var lx=(fx.getInstance=function(){return this._instance},fx.prototype.init=function(t){this.delayUpdatingKeytipChange=t},fx.prototype.register=function(t,i){void 0===i&&(i=!1);var e=t;i||(e=this.addParentOverflow(t),this.sequenceMapping[e.keySequences.toString()]=e);var n,r=this._getUniqueKtp(e);return i?this.persistedKeytips[r.uniqueID]=r:this.keytips[r.uniqueID]=r,!this.inKeytipMode&&this.delayUpdatingKeytipChange||(n=i?ox.PERSISTED_KEYTIP_ADDED:ox.KEYTIP_ADDED,Mm.raise(this,n,{keytip:e,uniqueID:r.uniqueID})),r.uniqueID},fx.prototype.update=function(t,i){var e=this.addParentOverflow(t),n=this._getUniqueKtp(e,i),r=this.keytips[i];r&&(n.keytip.visible=r.keytip.visible,this.keytips[i]=n,delete this.sequenceMapping[r.keytip.keySequences.toString()],this.sequenceMapping[n.keytip.keySequences.toString()]=n.keytip,!this.inKeytipMode&&this.delayUpdatingKeytipChange||Mm.raise(this,ox.KEYTIP_UPDATED,{keytip:n.keytip,uniqueID:n.uniqueID}))},fx.prototype.unregister=function(t,i,e){void 0===e&&(e=!1),e?delete this.persistedKeytips[i]:delete this.keytips[i],e||delete this.sequenceMapping[t.keySequences.toString()];var n=e?ox.PERSISTED_KEYTIP_REMOVED:ox.KEYTIP_REMOVED;!this.inKeytipMode&&this.delayUpdatingKeytipChange||Mm.raise(this,n,{keytip:t,uniqueID:i})},fx.prototype.enterKeytipMode=function(){Mm.raise(this,ox.ENTER_KEYTIP_MODE)},fx.prototype.exitKeytipMode=function(){Mm.raise(this,ox.EXIT_KEYTIP_MODE)},fx.prototype.getKeytips=function(){var i=this;return Object.keys(this.keytips).map(function(t){return i.keytips[t].keytip})},fx.prototype.addParentOverflow=function(t){var i=Tm(t.keySequences);if(i.pop(),0!==i.length){var e=this.sequenceMapping[i.toString()];if(e&&e.overflowSetSequence)return Sm(Sm({},t),{overflowSetSequence:e.overflowSetSequence})}return t},fx.prototype.menuExecute=function(t,i){Mm.raise(this,ox.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:t,keytipSequences:i})},fx.prototype._getUniqueKtp=function(t,i){return void 0===i&&(i=Hv()),{keytip:Sm({},t),uniqueID:i}},fx._instance=new fx,fx);function fx(){this.keytips={},this.persistedKeytips={},this.sequenceMapping={},this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0,this.delayUpdatingKeytipChange=!1}function dx(t){return t.reduce(function(t,i){return t+cx+i.split("").join(cx)},hx)}function Ax(t){var i,e=t.children,n=function(t){var i,e,n=P.useRef(),r=t.keytipProps?Sm({disabled:t.disabled},t.keytipProps):void 0,s=(i=lx.getInstance(),void 0===(e=P.useRef()).current&&(e.current={value:"function"==typeof i?i():i}),e.current.value);P.useEffect(function(){return r&&(n.current=s.register(r)),function(){r&&s.unregister(r,n.current)}},[]);var o,a,h=(o=t,a=P.useRef(),P.useEffect(function(){a.current=o}),a.current);n.current&&r&&((null==h?void 0:h.keytipProps)!==t.keytipProps||(null==h?void 0:h.disabled)!==t.disabled)&&s.update(r,n.current);var c,u,l,f,d,A,g,w,m,p,v,b={ariaDescribedBy:void 0,keytipId:void 0};return r&&(c=t.ariaDescribedBy,m=s.addParentOverflow(r),p=Sp(c,(u=m.keySequences,l=" "+ux,u.length?l+" "+dx(u):l)),v=Tm(m.keySequences),m.overflowSetSequence&&(f=v,d=m.overflowSetSequence,g=d.length-1,w=Tm(d).pop(),(A=Tm(f).slice()).splice(g,0,w),v=A),b={ariaDescribedBy:p,keytipId:dx(v)}),b}(Dm(t,["children"])),r=n.keytipId,s=n.ariaDescribedBy;return e(((i={})["data-ktp-target"]=r,i["data-ktp-execute-target"]=r,i["aria-describedby"]=s,i))}var gx,wx=(km(mx,gx=rx),mx.prototype.render=function(){var i=this,t=this.props,e=t.item,n=t.classNames,r=t.index,s=t.focusableElementIndex,o=t.totalItemCount,a=t.hasCheckmarks,h=t.hasIcons,c=t.contextualMenuItemAs,u=void 0===c?nx:c,l=t.expandedMenuItemKey,f=t.onItemClick,d=t.openSubMenu,A=t.dismissSubMenu,g=t.dismissMenu,w=e.rel;e.target&&"_blank"===e.target.toLowerCase()&&(w=w||"nofollow noopener noreferrer");var m=this._getSubMenuId(e),p=EB(e),v=Xv(e,Lv),b=BB(e),E=e.itemProps,B=e.keytipProps;return B&&p&&this._getMemoizedMenuButtonKeytipProps(B),P.createElement("div",null,P.createElement(Ax,{keytipProps:e.keytipProps,ariaDescribedBy:v["aria-describedby"],disabled:b},function(t){return P.createElement("a",Sm({},v,t,{ref:i._anchor,href:e.href,target:e.target,rel:w,className:n.root,role:"menuitem","aria-owns":e.key===l?m:void 0,"aria-haspopup":p||void 0,"aria-expanded":p?e.key===l:void 0,"aria-posinset":s+1,"aria-setsize":o,"aria-disabled":BB(e),style:e.style,onClick:i._onItemClick,onMouseEnter:i._onItemMouseEnter,onMouseLeave:i._onItemMouseLeave,onMouseMove:i._onItemMouseMove,onKeyDown:p?i._onItemKeyDown:void 0}),P.createElement(u,Sm({componentRef:e.componentRef,item:e,classNames:n,index:r,onCheckmarkClick:a&&f?f:void 0,hasIcons:h,openSubMenu:d,dismissSubMenu:A,dismissMenu:g,getSubmenuTarget:i._getSubmenuTarget},E)))}))},mx);function mx(){var r=null!==gx&&gx.apply(this,arguments)||this;return r._anchor=P.createRef(),r._getMemoizedMenuButtonKeytipProps=uv(function(t){return Sm(Sm({},t),{hasMenu:!0})}),r._getSubmenuTarget=function(){return r._anchor.current?r._anchor.current:void 0},r._onItemClick=function(t){var i=r.props,e=i.item,n=i.onItemClick;n&&n(e,t)},r}var px,vx=(km(bx,px=rx),bx.prototype.render=function(){var i=this,t=this.props,e=t.item,n=t.classNames,r=t.index,s=t.focusableElementIndex,o=t.totalItemCount,a=t.hasCheckmarks,h=t.hasIcons,c=t.contextualMenuItemAs,u=void 0===c?nx:c,l=t.expandedMenuItemKey,f=t.onItemMouseDown,d=t.onItemClick,A=t.openSubMenu,g=t.dismissSubMenu,w=t.dismissMenu,m=this._getSubMenuId(e),p=bB(e),v=null!==p,b=CB(e),E=EB(e),B=e.itemProps,C=e.ariaLabel,j=Xv(e,Jv);delete j.disabled;var y=e.role||b,x={className:n.root,onClick:this._onItemClick,onKeyDown:E?this._onItemKeyDown:void 0,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(t){return f?f(e,t):void 0},onMouseMove:this._onItemMouseMove,href:e.href,title:e.title,"aria-label":C,"aria-haspopup":E||void 0,"aria-owns":e.key===l?m:void 0,"aria-expanded":E?e.key===l:void 0,"aria-posinset":s+1,"aria-setsize":o,"aria-disabled":BB(e),"aria-checked":"menuitemcheckbox"!==y&&"menuitemradio"!==y||!v?void 0:!!p,"aria-selected":"menuitem"===y&&v?!!p:void 0,role:y,style:e.style},I=e.keytipProps;return I&&E&&(I=this._getMemoizedMenuButtonKeytipProps(I)),P.createElement(Ax,{keytipProps:I,ariaDescribedBy:j["aria-describedby"],disabled:BB(e)},function(t){return P.createElement("button",Sm({ref:i._btn},j,x,t),P.createElement(u,Sm({componentRef:e.componentRef,item:e,classNames:n,index:r,onCheckmarkClick:a&&d?d:void 0,hasIcons:h,openSubMenu:A,dismissSubMenu:g,dismissMenu:w,getSubmenuTarget:i._getSubmenuTarget},B)))})},bx);function bx(){var t=null!==px&&px.apply(this,arguments)||this;return t._btn=P.createRef(),t._getMemoizedMenuButtonKeytipProps=uv(function(t){return Sm(Sm({},t),{hasMenu:!0})}),t._getSubmenuTarget=function(){return t._btn.current?t._btn.current:void 0},t}var Ex,Bx=iv(),Cx=vb(function(t){var i=t.styles,e=t.theme,n=t.getClassNames,r=t.className,s=Bx(i,{theme:e,getClassNames:n,className:r});return P.createElement("span",{className:s.wrapper},P.createElement("span",{className:s.divider}))},function(t){var i=t.theme,e=t.getClassNames,n=t.className;if(!i)throw new Error("Theme is undefined or null.");if(e){var r=e(i);return{wrapper:[r.wrapper],divider:[r.divider]}}return{wrapper:[{display:"inline-flex",height:"100%",alignItems:"center"},n],divider:[{width:1,height:"100%",backgroundColor:i.palette.neutralTertiaryAlt}]}},void 0,{scope:"VerticalDivider"}),jx=(km(yx,Ex=rx),yx.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},yx.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},yx.prototype.render=function(){var i=this,t=this.props,e=t.item,n=t.classNames,r=t.index,s=t.focusableElementIndex,o=t.totalItemCount,a=t.hasCheckmarks,h=t.hasIcons,c=t.onItemMouseLeave,u=t.expandedMenuItemKey,l=EB(e),f=(f=e.keytipProps)&&this._getMemoizedMenuButtonKeytipProps(f);return P.createElement(Ax,{keytipProps:f,disabled:BB(e)},function(t){return P.createElement("div",{"data-ktp-target":t["data-ktp-target"],ref:function(t){return i._splitButton=t},role:CB(e),"aria-label":e.ariaLabel,className:n.splitContainer,"aria-disabled":BB(e),"aria-expanded":l?e.key===u:void 0,"aria-haspopup":!0,"aria-describedby":Sp(e.ariaDescription,t["aria-describedby"]),"aria-checked":e.isChecked||e.checked,"aria-posinset":s+1,"aria-setsize":o,onMouseEnter:i._onItemMouseEnterPrimary,onMouseLeave:c?c.bind(i,Sm(Sm({},e),{subMenuProps:null,items:null})):void 0,onMouseMove:i._onItemMouseMovePrimary,onKeyDown:i._onItemKeyDown,onClick:i._executeItemClick,onTouchStart:i._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":e["aria-roledescription"]},i._renderSplitPrimaryButton(e,n,r,a,h),i._renderSplitDivider(e),i._renderSplitIconButton(e,n,r,t))})},yx.prototype._renderSplitPrimaryButton=function(t,i,e,n,r){var s=this.props,o=s.contextualMenuItemAs,a=void 0===o?nx:o,h=s.onItemClick,c={key:t.key,disabled:BB(t)||t.primaryDisabled,name:t.name,text:t.text||t.name,secondaryText:t.secondaryText,className:i.splitPrimary,canCheck:t.canCheck,isChecked:t.isChecked,checked:t.checked,iconProps:t.iconProps,onRenderIcon:t.onRenderIcon,data:t.data,"data-is-focusable":!1},u=t.itemProps;return P.createElement("button",Sm({},Xv(c,Jv)),P.createElement(a,Sm({"data-is-focusable":!1,item:c,classNames:i,index:e,onCheckmarkClick:n&&h?h:void 0,hasIcons:r},u)))},yx.prototype._renderSplitDivider=function(t){var i=t.getSplitButtonVerticalDividerClassNames||tx;return P.createElement(Cx,{getClassNames:i})},yx.prototype._renderSplitIconButton=function(i,t,e,n){var r=this.props,s=r.contextualMenuItemAs,o=void 0===s?nx:s,a=r.onItemMouseLeave,h=r.onItemMouseDown,c=r.openSubMenu,u=r.dismissSubMenu,l=r.dismissMenu,f={onClick:this._onIconItemClick,disabled:BB(i),className:t.splitMenu,subMenuProps:i.subMenuProps,submenuIconProps:i.submenuIconProps,split:!0,key:i.key},d=Sm(Sm({},Xv(f,Jv)),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:a?a.bind(this,i):void 0,onMouseDown:function(t){return h?h(i,t):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":n["data-ktp-execute-target"],"aria-hidden":!0}),A=i.itemProps;return P.createElement("button",Sm({},d),P.createElement(o,Sm({componentRef:i.componentRef,item:f,classNames:t,index:e,hasIcons:!1,openSubMenu:c,dismissSubMenu:u,dismissMenu:l,getSubmenuTarget:this._getSubmenuTarget},A)))},yx.prototype._handleTouchAndPointerEvent=function(t){var i=this,e=this.props.onTap;e&&e(t),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){i._processingTouch=!1,i._lastTouchTimeoutId=void 0},500)},yx);function yx(t){var s=Ex.call(this,t)||this;return s._getMemoizedMenuButtonKeytipProps=uv(function(t){return Sm(Sm({},t),{hasMenu:!0})}),s._onItemKeyDown=function(t){var i=s.props,e=i.item,n=i.onItemKeyDown;13===t.which?(s._executeItemClick(t),t.preventDefault(),t.stopPropagation()):n&&n(e,t)},s._getSubmenuTarget=function(){return s._splitButton},s._onItemMouseEnterPrimary=function(t){var i=s.props,e=i.item,n=i.onItemMouseEnter;n&&n(Sm(Sm({},e),{subMenuProps:void 0,items:void 0}),t,s._splitButton)},s._onItemMouseEnterIcon=function(t){var i=s.props,e=i.item,n=i.onItemMouseEnter;n&&n(e,t,s._splitButton)},s._onItemMouseMovePrimary=function(t){var i=s.props,e=i.item,n=i.onItemMouseMove;n&&n(Sm(Sm({},e),{subMenuProps:void 0,items:void 0}),t,s._splitButton)},s._onItemMouseMoveIcon=function(t){var i=s.props,e=i.item,n=i.onItemMouseMove;n&&n(e,t,s._splitButton)},s._onIconItemClick=function(t){var i=s.props,e=i.item,n=i.onItemClickBase;n&&n(e,t,s._splitButton?s._splitButton:t.currentTarget)},s._executeItemClick=function(t){var i=s.props,e=i.item,n=i.executeItemClick,r=i.onItemClick;if(!e.disabled&&!e.isDisabled)return s._processingTouch&&r?r(e,t):void(n&&n(e,t))},s._onTouchStart=function(t){!s._splitButton||"onpointerdown"in s._splitButton||s._handleTouchAndPointerEvent(t)},s._onPointerDown=function(t){"touch"===t.pointerType&&(s._handleTouchAndPointerEvent(t),t.preventDefault(),t.stopImmediatePropagation())},s._async=new jm(s),s._events=new Mm(s),s}var xx=iv(),Ix=iv();function Mx(t){return t.subMenuProps?t.subMenuProps.items:t.items}var Fx,Qx=uv(function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return function(t){return wp.apply(void 0,Tm([t,_y],i))}}),Rx=(km(kx,Fx=P.Component),kx.prototype.shouldComponentUpdate=function(t,i){return!(!t.shouldUpdateWhenHidden&&this.props.hidden&&t.hidden||xm(this.props,t)&&xm(this.state,i))},kx.prototype.UNSAFE_componentWillUpdate=function(t){var i;t.target!==this.props.target&&(i=t.target,this._setTargetWindowAndElement(i)),this._isHidden(t)!==this._isHidden(this.props)&&(this._isHidden(t)?this._onMenuClosed():(this._onMenuOpened(),this._previousActiveElement=this._targetWindow?this._targetWindow.document.activeElement:void 0)),t.delayUpdateFocusOnHover!==this.props.delayUpdateFocusOnHover&&(this._shouldUpdateFocusOnMouseEvent=!t.delayUpdateFocusOnHover,this._gotMouseMove=this._shouldUpdateFocusOnMouseEvent&&this._gotMouseMove)},kx.prototype.UNSAFE_componentWillMount=function(){var t=this.props.target;this._setTargetWindowAndElement(t),this.props.hidden||(this._previousActiveElement=this._targetWindow?this._targetWindow.document.activeElement:void 0)},kx.prototype.componentDidMount=function(){this.props.hidden||this._onMenuOpened(),this._mounted=!0},kx.prototype.componentWillUnmount=function(){this.props.onMenuDismissed&&this.props.onMenuDismissed(this.props),this._events.dispose(),this._async.dispose(),this._mounted=!1},kx.prototype.render=function(){var i=this,t=this.props.isBeakVisible,e=this.props,n=e.items,r=e.labelElementId,s=e.id,o=e.className,a=e.beakWidth,h=e.directionalHint,c=e.directionalHintForRTL,u=e.alignTargetEdge,l=e.gapSpace,f=e.coverTarget,d=e.ariaLabel,A=e.doNotLayer,g=e.target,w=e.bounds,m=e.useTargetWidth,p=e.useTargetAsMinWidth,v=e.directionalHintFixed,b=e.shouldFocusOnMount,E=e.shouldFocusOnContainer,B=e.title,C=e.styles,j=e.theme,y=e.calloutProps,x=e.onRenderSubMenu,I=void 0===x?this._onRenderSubMenu:x,M=e.onRenderMenuList,F=void 0===M?this._onRenderMenuList:M,Q=e.focusZoneProps,R=e.getMenuClassNames;this._classNames=R?R(j,o):xx(C,{theme:j,className:o});var k=function t(i){for(var e=0,n=i;e<n.length;e++){var r=n[e];if(r.iconProps)return!0;if(r.itemType===iB.Section&&r.sectionProps&&t(r.sectionProps.items))return!0}return!1}(n);this._adjustedFocusZoneProps=Sm(Sm({},Q),{direction:this._getFocusZoneDirection()});var S,D,N=n.some(function(t){return!!t.canCheck||!(!t.sectionProps||!t.sectionProps.items.some(function(t){return!0===t.canCheck}))}),T=this.state.expandedMenuItemKey&&!0!==this.props.hidden?this._getSubmenuProps():null,t=void 0===t?this.props.responsiveMode<=yB.medium:t,O=this._target;if((m||p)&&O&&O.offsetWidth&&(D=O.getBoundingClientRect().width-2,m?S={width:D}:p&&(S={minWidth:D})),n&&0<n.length){for(var Y=0,U=0,H=n;U<H.length;U++){var z=H[U];z.itemType!==iB.Divider&&z.itemType!==iB.Header&&(Y+=z.customOnRenderListLength?z.customOnRenderListLength:1)}var G=this._classNames.subComponentStyles?this._classNames.subComponentStyles.callout:void 0;return P.createElement(Ry,Sm({styles:G,onRestoreFocus:this._tryFocusPreviousActiveElement},y,{target:g,isBeakVisible:t,beakWidth:a,directionalHint:h,directionalHintForRTL:c,gapSpace:l,coverTarget:f,doNotLayer:A,className:fv("ms-ContextualMenu-Callout",y&&y.className),setInitialFocus:b,onDismiss:this.props.onDismiss,onScroll:this._onScroll,bounds:w,directionalHintFixed:v,alignTargetEdge:u,hidden:this.props.hidden}),P.createElement("div",{"aria-label":d,"aria-labelledby":r,style:S,ref:function(t){return i._host=t},id:s,className:this._classNames.container,tabIndex:E?0:-1,onKeyDown:this._onMenuKeyDown,onKeyUp:this._onKeyUp,onFocusCapture:this._onMenuFocusCapture},B&&P.createElement("div",{className:this._classNames.title}," ",B," "),n&&n.length?P.createElement(pB,Sm({className:this._classNames.root,isCircularNavigation:!0,handleTabKey:1},this._adjustedFocusZoneProps),F({items:n,totalItemCount:Y,hasCheckmarks:N,hasIcons:k,defaultMenuItemRenderer:this._defaultMenuItemRenderer},this._onRenderMenuList)):null,T&&I(T,this._onRenderSubMenu)))}return null},kx.prototype._isHidden=function(t){return!!t.hidden},kx.prototype._onMenuOpened=function(){this._events.on(this._targetWindow,"resize",this.dismiss),this._shouldUpdateFocusOnMouseEvent=!this.props.delayUpdateFocusOnHover,this._gotMouseMove=!1,this.props.onMenuOpened&&this.props.onMenuOpened(this.props)},kx.prototype._onMenuClosed=function(){this._events.off(this._targetWindow,"resize",this.dismiss),this._tryFocusPreviousActiveElement({containsFocus:this._focusingPreviousElement,originalElement:this._previousActiveElement}),this._focusingPreviousElement=!1,this.props.onMenuDismissed&&this.props.onMenuDismissed(this.props),this._shouldUpdateFocusOnMouseEvent=!this.props.delayUpdateFocusOnHover,this.setState({expandedByMouseClick:void 0,dismissedMenuItemKey:void 0,expandedMenuItemKey:void 0,submenuTarget:void 0})},kx.prototype._getFocusZoneDirection=function(){var t=this.props.focusZoneProps;return t&&void 0!==t.direction?t.direction:rB.vertical},kx.prototype._onRenderSubMenu=function(t,i){throw Error("ContextualMenuBase: onRenderSubMenu callback is null or undefined. Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.")},kx.prototype._renderSectionItem=function(t,i,e,n,r){var s,o,a,h,c=this,u=t.sectionProps;if(u)return u.title&&(s=this._id+u.title.replace(/\s/g,""),o={key:"section-"+u.title+"-title",itemType:iB.Header,text:u.title,id:s},a={role:"group","aria-labelledby":s},h=this._renderHeaderMenuItem(o,i,e,n,r)),u.items&&0<u.items.length?P.createElement("li",{role:"presentation",key:u.key||t.key||"section-"+e},P.createElement("div",Sm({},a),P.createElement("ul",{className:this._classNames.list},u.topDivider&&this._renderSeparator(e,i,!0,!0),h&&this._renderListItem(h,t.key||e,i,t.title),u.items.map(function(t,i){return c._renderMenuItem(t,i,i,u.items.length,n,r)}),u.bottomDivider&&this._renderSeparator(e,i,!1,!0)))):void 0},kx.prototype._renderListItem=function(t,i,e,n){return P.createElement("li",{role:"presentation",title:n,key:i,className:e.item},t)},kx.prototype._renderSeparator=function(t,i,e,n){return n||0<t?P.createElement("li",{role:"separator",key:"separator-"+t+(void 0===e?"":e?"-top":"-bottom"),className:i.divider,"aria-hidden":"true"}):null},kx.prototype._renderNormalItem=function(t,i,e,n,r,s,o){return t.onRender?t.onRender(Sm({"aria-posinset":n+1,"aria-setsize":r},t),this.dismiss):t.href?this._renderAnchorMenuItem(t,i,e,n,r,s,o):t.split&&EB(t)?this._renderSplitButton(t,i,e,n,r,s,o):this._renderButtonItem(t,i,e,n,r,s,o)},kx.prototype._renderHeaderMenuItem=function(t,i,e,n,r){var s=this.props.contextualMenuItemAs,o=void 0===s?nx:s,a=t.itemProps,h=t.id,c=a&&Xv(a,_v);return P.createElement("div",Sm({id:h,className:this._classNames.header},c,{style:t.style}),P.createElement(o,Sm({item:t,classNames:i,index:e,onCheckmarkClick:n?this._onItemClick:void 0,hasIcons:r},a)))},kx.prototype._renderAnchorMenuItem=function(t,i,e,n,r,s,o){var a=this.props.contextualMenuItemAs,h=this.state.expandedMenuItemKey;return P.createElement(wx,{item:t,classNames:i,index:e,focusableElementIndex:n,totalItemCount:r,hasCheckmarks:s,hasIcons:o,contextualMenuItemAs:a,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onAnchorClick,onItemKeyDown:this._onItemKeyDown,getSubMenuId:this._getSubMenuId,expandedMenuItemKey:h,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss})},kx.prototype._renderButtonItem=function(t,i,e,n,r,s,o){var a=this.props.contextualMenuItemAs,h=this.state.expandedMenuItemKey;return P.createElement(vx,{item:t,classNames:i,index:e,focusableElementIndex:n,totalItemCount:r,hasCheckmarks:s,hasIcons:o,contextualMenuItemAs:a,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onItemClick,onItemClickBase:this._onItemClickBase,onItemKeyDown:this._onItemKeyDown,getSubMenuId:this._getSubMenuId,expandedMenuItemKey:h,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss})},kx.prototype._renderSplitButton=function(t,i,e,n,r,s,o){var a=this.props.contextualMenuItemAs,h=this.state.expandedMenuItemKey;return P.createElement(jx,{item:t,classNames:i,index:e,focusableElementIndex:n,totalItemCount:r,hasCheckmarks:s,hasIcons:o,contextualMenuItemAs:a,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onItemClick,onItemClickBase:this._onItemClickBase,onItemKeyDown:this._onItemKeyDown,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss,expandedMenuItemKey:h,onTap:this._onPointerAndTouchEvent})},kx.prototype._isAltOrMeta=function(t){return 18===t.which||"Meta"===t.key},kx.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},kx.prototype._updateFocusOnMouseEvent=function(t,i,e){var n=this,r=e||i.currentTarget,s=this.props.subMenuHoverDelay,o=void 0===s?250:s;t.key!==this.state.expandedMenuItemKey&&(void 0!==this._enterTimerId&&(this._async.clearTimeout(this._enterTimerId),this._enterTimerId=void 0),void 0===this.state.expandedMenuItemKey&&r.focus(),EB(t)?(i.stopPropagation(),this._enterTimerId=this._async.setTimeout(function(){r.focus(),n.setState({expandedByMouseClick:!0}),n._onItemSubMenuExpand(t,r),n._enterTimerId=void 0},o)):this._enterTimerId=this._async.setTimeout(function(){n._onSubMenuDismiss(i),r.focus(),n._enterTimerId=void 0},o))},kx.prototype._getSubmenuProps=function(){var t=this.state,i=t.submenuTarget,e=t.expandedMenuItemKey,n=this._findItemByKey(e),r=null;return n&&(r={items:Mx(n),target:i,onDismiss:this._onSubMenuDismiss,isSubMenu:!0,id:this.state.subMenuId,shouldFocusOnMount:!0,shouldFocusOnContainer:this.state.expandedByMouseClick,directionalHint:Jp(this.props.theme)?nB.leftTopEdge:nB.rightTopEdge,className:this.props.className,gapSpace:0,isBeakVisible:!1},n.subMenuProps&&Im(r,n.subMenuProps)),r},kx.prototype._findItemByKey=function(t){var i=this.props.items;return this._findItemByKeyFromItems(t,i)},kx.prototype._findItemByKeyFromItems=function(t,i){for(var e=0,n=i;e<n.length;e++){var r=n[e];if(r.itemType===iB.Section&&r.sectionProps){var s=this._findItemByKeyFromItems(t,r.sectionProps.items);if(s)return s}else if(r.key&&r.key===t)return r}},kx.prototype._setTargetWindowAndElement=function(t){var i,e=this._host;t?"string"==typeof t?(i=Qm(e),this._target=i?i.querySelector(t):null,this._targetWindow=Cm(e)):t.stopPropagation?(this._targetWindow=Cm(t.target),this._target=t):void 0===t.left&&void 0===t.x||void 0===t.top&&void 0===t.y?void 0!==t.current?(this._target=t.current,this._targetWindow=Cm(this._target)):(this._targetWindow=Cm(t),this._target=t):(this._targetWindow=Cm(e),this._target=t):this._targetWindow=Cm(e)},kx.defaultProps={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:nB.bottomAutoEdge,beakWidth:16},Nm([function(i){var n,t=(km(e,n=IB),e.prototype.componentDidMount=function(){this._events.on(window,"resize",this._onResize),this._onResize()},e.prototype.componentWillUnmount=function(){this._events.dispose()},e.prototype.render=function(){var t=this.state.responsiveMode;return t===yB.unknown?null:P.createElement(i,Sm({ref:this._updateComposedComponentRef,responsiveMode:t},this.props))},e);function e(t){var e=n.call(this,t)||this;return e._onResize=function(){var t=C.findDOMNode(e),i=function(t){var i=yB.small;if(t){try{for(;t.innerWidth>NB[i];)i++}catch(t){i=TB()}QB=i}else{if(void 0===FB)throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");i=FB}return i}(t&&Cm(t)||window);i!==e.state.responsiveMode&&e.setState({responsiveMode:i})},e._events=new Mm(e),e._updateComposedComponentRef=e._updateComposedComponentRef.bind(e),e.state={responsiveMode:TB()},e}return Cv(i,t)}],kx));function kx(t){var p=Fx.call(this,t)||this;return p._mounted=!1,p.dismiss=function(t,i){var e=p.props.onDismiss;e&&e(t,i)},p._tryFocusPreviousActiveElement=function(t){t&&t.containsFocus&&p._previousActiveElement&&p._previousActiveElement.focus&&p._previousActiveElement.focus()},p._onRenderMenuList=function(t,i){var r=0,e=t.items,s=t.totalItemCount,o=t.hasCheckmarks,a=t.hasIcons,n=t.role;return P.createElement("ul",{className:p._classNames.list,onKeyDown:p._onKeyDown,onKeyUp:p._onKeyUp,role:null!=n?n:"menu"},e.map(function(t,i){var e,n=p._renderMenuItem(t,i,r,s,o,a);return t.itemType!==iB.Divider&&t.itemType!==iB.Header&&(e=t.customOnRenderListLength?t.customOnRenderListLength:1,r+=e),n}))},p._renderMenuItem=function(t,i,e,n,r,s){var o,a,h=[],c=t.iconProps||{iconName:"None"},u=t.getItemClassNames,l=t.itemProps,f=l?l.styles:void 0,d=t.itemType===iB.Divider?t.className:void 0,A=t.submenuIconProps?t.submenuIconProps.className:"",g=u?u(p.props.theme,BB(t),p.state.expandedMenuItemKey===t.key,!!bB(t),!!t.href,"None"!==c.iconName,t.className,d,c.className,A,t.primaryDisabled):(a={theme:p.props.theme,disabled:BB(t),expanded:p.state.expandedMenuItemKey===t.key,checked:!!bB(t),isAnchorLink:!!t.href,knownIcon:"None"!==c.iconName,itemClassName:t.className,dividerClassName:d,iconClassName:c.className,subMenuClassName:A,primaryDisabled:t.primaryDisabled},Ix(Qx(null===(o=p._classNames.subComponentStyles)||void 0===o?void 0:o.menuItem,f),a));switch("-"!==t.text&&"-"!==t.name||(t.itemType=iB.Divider),t.itemType){case iB.Divider:h.push(p._renderSeparator(i,g));break;case iB.Header:h.push(p._renderSeparator(i,g));var w=p._renderHeaderMenuItem(t,g,i,r,s);h.push(p._renderListItem(w,t.key||i,g,t.title));break;case iB.Section:h.push(p._renderSectionItem(t,g,i,r,s));break;default:var m=p._renderNormalItem(t,g,i,e,n,r,s);h.push(p._renderListItem(m,t.key||i,g,t.title))}return P.createElement(P.Fragment,{key:t.key},h)},p._defaultMenuItemRenderer=function(t){var i=t.index,e=t.focusableElementIndex,n=t.totalItemCount,r=t.hasCheckmarks,s=t.hasIcons;return p._renderMenuItem(t,i,e,n,r,s)},p._onKeyDown=function(t){p._lastKeyDownWasAltOrMeta=p._isAltOrMeta(t);var i=27===t.which&&(mb()||wb());return p._keyHandler(t,p._shouldHandleKeyDown,i)},p._shouldHandleKeyDown=function(t){return 27===t.which||p._shouldCloseSubMenu(t)||38===t.which&&(t.altKey||t.metaKey)},p._onMenuFocusCapture=function(t){p.props.delayUpdateFocusOnHover&&(p._shouldUpdateFocusOnMouseEvent=!0)},p._onKeyUp=function(t){return p._keyHandler(t,p._shouldHandleKeyUp,!0)},p._shouldHandleKeyUp=function(t){var i=p._lastKeyDownWasAltOrMeta&&p._isAltOrMeta(t);return p._lastKeyDownWasAltOrMeta=!1,!!i&&!(wb()||mb())},p._keyHandler=function(t,i,e){var n=!1;return i(t)&&(p._focusingPreviousElement=!0,p.dismiss(t,e),t.preventDefault(),t.stopPropagation(),n=!0),n},p._shouldCloseSubMenu=function(t){var i=Jp(p.props.theme)?39:37;return!(t.which!==i||!p.props.isSubMenu||p._adjustedFocusZoneProps.direction!==rB.vertical&&(!p._adjustedFocusZoneProps.checkForNoWrap||Dv(t.target,"data-no-horizontal-wrap")))},p._onMenuKeyDown=function(t){var i,e,n,r;!p._onKeyDown(t)&&p._host&&(i=!(!t.altKey&&!t.metaKey),e=38===t.which,n=40===t.which,i||!e&&!n||(r=e?Mv(p._host,p._host.lastChild,!0,!1,!0,!0):Fv(p._host,p._host.firstChild,!0,!1,!1,!0))&&(r.focus(),t.preventDefault(),t.stopPropagation()))},p._onScroll=function(){p._isScrollIdle||void 0===p._scrollIdleTimeoutId?p._isScrollIdle=!1:(p._async.clearTimeout(p._scrollIdleTimeoutId),p._scrollIdleTimeoutId=void 0),p._scrollIdleTimeoutId=p._async.setTimeout(function(){p._isScrollIdle=!0},250)},p._onItemMouseEnterBase=function(t,i,e){p._shouldIgnoreMouseEvent()||p._updateFocusOnMouseEvent(t,i,e)},p._onItemMouseMoveBase=function(t,i,e){var n=i.currentTarget;p._shouldUpdateFocusOnMouseEvent&&(p._gotMouseMove=!0,p._isScrollIdle&&void 0===p._enterTimerId&&n!==p._targetWindow.document.activeElement&&p._updateFocusOnMouseEvent(t,i,e))},p._onMouseItemLeave=function(t,i){if(!p._shouldIgnoreMouseEvent()&&(void 0!==p._enterTimerId&&(p._async.clearTimeout(p._enterTimerId),p._enterTimerId=void 0),void 0===p.state.expandedMenuItemKey))if(p._host.setActive)try{p._host.setActive()}catch(t){}else p._host.focus()},p._onItemMouseDown=function(t,i){t.onMouseDown&&t.onMouseDown(t,i)},p._onItemClick=function(t,i){p._onItemClickBase(t,i,i.currentTarget)},p._onItemClickBase=function(t,i,e){var n=Mx(t);p._cancelSubMenuTimer(),EB(t)||n&&n.length?t.key!==p.state.expandedMenuItemKey&&(p.setState({expandedByMouseClick:0!==i.nativeEvent.detail||"mouse"===i.nativeEvent.pointerType}),p._onItemSubMenuExpand(t,e)):p._executeItemClick(t,i),i.stopPropagation(),i.preventDefault()},p._onAnchorClick=function(t,i){p._executeItemClick(t,i),i.stopPropagation()},p._executeItemClick=function(t,i){var e;t.disabled||t.isDisabled||(e=!1,t.onClick?e=!!t.onClick(i,t):p.props.onItemClick&&(e=!!p.props.onItemClick(i,t)),!e&&i.defaultPrevented||(p.dismiss(i,!0),p._focusingPreviousElement=!0))},p._onItemKeyDown=function(t,i){var e=Jp(p.props.theme)?37:39;t.disabled||i.which!==e&&13!==i.which&&(40!==i.which||!i.altKey&&!i.metaKey)||(p.setState({expandedByMouseClick:!1}),p._onItemSubMenuExpand(t,i.currentTarget),i.preventDefault())},p._cancelSubMenuTimer=function(){void 0!==p._enterTimerId&&(p._async.clearTimeout(p._enterTimerId),p._enterTimerId=void 0)},p._onItemSubMenuExpand=function(t,i){p.state.expandedMenuItemKey!==t.key&&(p.state.expandedMenuItemKey&&p._onSubMenuDismiss(),i.focus(),p.setState({expandedMenuItemKey:t.key,submenuTarget:i}))},p._onSubMenuDismiss=function(t,i){i?p.dismiss(t,i):p._mounted&&p.setState({dismissedMenuItemKey:p.state.expandedMenuItemKey,expandedMenuItemKey:void 0,submenuTarget:void 0})},p._getSubMenuId=function(t){var i=p.state.subMenuId;return t.subMenuProps&&t.subMenuProps.id&&(i=t.subMenuProps.id),i},p._onPointerAndTouchEvent=function(t){p._cancelSubMenuTimer()},p._async=new jm(p),p._events=new Mm(p),qv(p),p.state={contextualMenuItems:void 0,subMenuId:Hv("ContextualMenu")},p._id=t.id||Hv("ContextualMenu"),p._focusingPreviousElement=!1,p._isScrollIdle=!0,p._shouldUpdateFocusOnMouseEvent=!p.props.delayUpdateFocusOnHover,p._gotMouseMove=!1,p}var Sx={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"};function Dx(t){return P.createElement(Nx,Sm({},t))}var Nx=vb(Rx,function(t){var i=t.className,e=t.theme,n=Dj(Sx,e),r=e.fonts,s=e.semanticColors,o=e.effects;return{root:[e.fonts.medium,n.root,n.isopen,{backgroundColor:s.menuBackground,minWidth:"180px"},i],container:[n.container,{selectors:{":focus":{outline:0}}}],list:[n.list,n.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[n.header,r.small,{fontWeight:uj.semibold,color:s.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:36,lineHeight:36,cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[n.title,{fontSize:r.mediumPlus.fontSize,paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:s.menuItemBackgroundPressed}],subComponentStyles:{callout:{root:{boxShadow:o.elevation8}},menuItem:{}}}},function(){return{onRenderSubMenu:Dx}},{scope:"ContextualMenu"}),Tx=Nx,Ox=Sm;function Yx(t,i){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var r=t;return r.isSlot?0===P.Children.count(e)?r(i):(e=P.Children.toArray(e),r(Sm(Sm({},i),{children:e}))):P.createElement.apply(P,Tm([t,i],e))}function Ux(c,t){void 0===t&&(t={});var i=t.defaultProp,u=void 0===i?"children":i;return function(t,i,e,n,r){if(P.isValidElement(i))return i;var s,o,a=function(t,i){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];for(var r={},s=[],o=0,a=e;o<a.length;o++){var h=a[o];s.push(h&&h.className),Ox(r,h)}return r.className=fp([t,s],{rtl:Jp(i)}),r}(n,r,t,"string"==typeof(s=i)||"number"==typeof s||"boolean"==typeof s?((o={})[u]=s,o):s);if(e){if(e.component){var h=e.component;return P.createElement(h,Sm({},a))}if(e.render)return e.render(a,c)}return P.createElement(c,Sm({},a))}}var Hx=uv(function(t){return Ux(t)});function zx(t,u){var i={},l=t;for(var e in u)!function(c){var t;u.hasOwnProperty(c)&&((t=function(t){for(var i,e,n,r,s,o,a=[],h=1;h<arguments.length;h++)a[h-1]=arguments[h];if(0<a.length)throw new Error("Any module using getSlots must use withSlots. Please see withSlots javadoc for more info.");return i=u[c],e=t,n=l[c],r=l.slots&&l.slots[c],s=l._defaultStyles&&l._defaultStyles[c],o=l.theme,void 0!==i.create?i.create(e,n,r,s):Hx(i)(e,n,r,s,o)}).isSlot=!0,i[c]=t)}(e);return i}function Gx(u,l){function t(t){var i,e,n,r=(i=l.displayName,e=P.useContext(pv),n=l.fields,wv.getSettings(n||["theme","styles","tokens"],i,e.customizations)),s=l.state;s&&(t=Sm(Sm({},t),s(t)));var o=t.theme||r.theme,a=Px(t,o,l.tokens,r.tokens,t.tokens),h=function(i,e,n){for(var t=[],r=3;r<arguments.length;r++)t[r-3]=arguments[r];return dp.apply(void 0,t.map(function(t){return"function"==typeof t?t(i,e,n):t}))}(t,o,a,l.styles,r.styles,t.styles),c=Sm(Sm({},t),{styles:h,tokens:a,_defaultStyles:h,theme:o});return u(c)}void 0===l&&(l={});var i=l.factoryOptions,e=(void 0===i?{}:i).defaultProp;return t.displayName=l.displayName||u.name,e&&(t.create=Ux(t,{defaultProp:e})),Ox(t,l.statics),t}function Px(t,i){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];for(var r={},s=0,o=e;s<o.length;s++){var a=o[s];a&&(a="function"==typeof a?a(t,i):a,Array.isArray(a)&&(a=Px.apply(void 0,Tm([t,i],a))),Ox(r,a))}return r}function Vx(t,i){return i.spacing.hasOwnProperty(t)?i.spacing[t]:t}function Lx(t){var i=parseFloat(t),e=isNaN(i)?0:i,n=isNaN(i)?"":i.toString();return{value:e,unit:t.substring(n.toString().length)||"px"}}function Jx(t,e){if(void 0===t||"number"==typeof t||""===t)return t;var i=t.split(" ");return i.length<2?Vx(t,e):i.reduce(function(t,i){return Vx(t,e)+" "+Vx(i,e)})}var Wx={root:"ms-StackItem"},_x={start:"flex-start",end:"flex-end"},Xx=Gx(function(t){var i=t.children;return P.Children.count(i)<1?null:Yx(zx(t,{root:"div"}).root,null,i)},{displayName:"StackItem",styles:function(t,i,e){var n=t.grow,r=t.shrink,s=t.disableShrink,o=t.align,a=t.verticalFill,h=t.order,c=t.className,u=Dj(Wx,i);return{root:[i.fonts.medium,u.root,{margin:e.margin,height:a?"100%":"auto",width:"auto"},n&&{flexGrow:!0===n?1:n},(s||!n&&!r)&&{flexShrink:0},r&&!s&&{flexShrink:1},o&&{alignSelf:_x[o]||o},h&&{order:h},c]}}}),Kx={start:"flex-start",end:"flex-end"},Zx={root:"ms-Stack",inner:"ms-Stack-inner"},qx=Gx(function(t){var i=t.as,e=void 0===i?"div":i,r=t.disableShrink,n=t.wrap,s=Dm(t,["as","disableShrink","wrap"]),o=P.Children.map(t.children,function(t,i){if(!t)return null;if(!(e=t)||"object"!==sr(e)||!e.type||e.type.displayName!==Xx.displayName)return t;var e,n={shrink:!r};return P.cloneElement(t,Sm(Sm({},n),t.props))}),a=Xv(s,Vv),h=zx(t,{root:e,inner:"div"});return Yx(h.root,Sm({},a),n?Yx(h.inner,null,o):o)},{displayName:"Stack",styles:function(t,i,e){var n,r,s,o,a,h,c,u=t.verticalFill,l=t.horizontal,f=t.reversed,d=t.grow,A=t.wrap,g=t.horizontalAlign,w=t.verticalAlign,m=t.disableShrink,p=t.className,v=Dj(Zx,i),b=e&&e.childrenGap?e.childrenGap:t.gap,E=e&&e.maxHeight?e.maxHeight:t.maxHeight,B=e&&e.maxWidth?e.maxWidth:t.maxWidth,C=e&&e.padding?e.padding:t.padding,j=function(t,i){if(void 0===t||""===t)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if("number"==typeof t)return{rowGap:{value:t,unit:"px"},columnGap:{value:t,unit:"px"}};var e=t.split(" ");if(2<e.length)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if(2===e.length)return{rowGap:Lx(Vx(e[0],i)),columnGap:Lx(Vx(e[1],i))};var n=Lx(Vx(t,i));return{rowGap:n,columnGap:n}}(b,i),y=j.rowGap,x=j.columnGap,I=""+-.5*x.value+x.unit,M=""+-.5*y.value+y.unit,F={textOverflow:"ellipsis"},Q={"> *:not(.ms-StackItem)":{flexShrink:m?0:1}};return A?{root:[v.root,{flexWrap:"wrap",maxWidth:B,maxHeight:E,width:"auto",overflow:"visible",height:"100%"},g&&((n={})[l?"justifyContent":"alignItems"]=Kx[g]||g,n),w&&((r={})[l?"alignItems":"justifyContent"]=Kx[w]||w,r),p,{display:"flex"},l&&{height:u?"100%":"auto"}],inner:[v.inner,{display:"flex",flexWrap:"wrap",marginLeft:I,marginRight:I,marginTop:M,marginBottom:M,overflow:"visible",boxSizing:"border-box",padding:Jx(C,i),width:0===x.value?"100%":"calc(100% + "+x.value+x.unit+")",maxWidth:"100vw",selectors:Sm({"> *":Sm({margin:""+.5*y.value+y.unit+" "+.5*x.value+x.unit},F)},Q)},g&&((s={})[l?"justifyContent":"alignItems"]=Kx[g]||g,s),w&&((o={})[l?"alignItems":"justifyContent"]=Kx[w]||w,o),l&&{flexDirection:f?"row-reverse":"row",height:0===y.value?"100%":"calc(100% + "+y.value+y.unit+")",selectors:{"> *":{maxWidth:0===x.value?"100%":"calc(100% - "+x.value+x.unit+")"}}},!l&&{flexDirection:f?"column-reverse":"column",height:"calc(100% + "+y.value+y.unit+")",selectors:{"> *":{maxHeight:0===y.value?"100%":"calc(100% - "+y.value+y.unit+")"}}}]}:{root:[v.root,{display:"flex",flexDirection:l?f?"row-reverse":"row":f?"column-reverse":"column",flexWrap:"nowrap",width:"auto",height:u?"100%":"auto",maxWidth:B,maxHeight:E,padding:Jx(C,i),boxSizing:"border-box",selectors:Sm(((a={"> *":F})[f?"> *:not(:last-child)":"> *:not(:first-child)"]=[l&&{marginLeft:""+x.value+x.unit},!l&&{marginTop:""+y.value+y.unit}],a),Q)},d&&{flexGrow:!0===d?1:d},g&&((h={})[l?"justifyContent":"alignItems"]=Kx[g]||g,h),w&&((c={})[l?"alignItems":"justifyContent"]=Kx[w]||w,c),p]}},statics:{Item:Xx}}),$x=iv(),tI=vb(function(){Ar(i,I.PureComponent);var t=pr(i);function i(){return hr(this,i),t.apply(this,arguments)}return ur(i,[{key:"render",value:function(){var t=this.props,i=t.styles,e=t.theme,n=t.disableSorting,r=t.disableFiltering,s=t.disableMoving,o=t.disablePinning,a=t.pinned,h=t.target,c=t.onApplyFilter,u=t.onClearFilters,l=t.onSortAscending,f=t.onSortDescending,d=t.onMove,A=t.onPinned,g=t.sortDirection,w=t.isFiltered,m=t.onDismiss,p=t.strings,v=$x(i,{theme:e}),b=[];return b.push({key:"sortAscending",name:p.sortAscMenuText,ariaLabel:p.sortAscMenuText,canCheck:!0,isChecked:g===KE.Asc,isDisabled:n,role:"menuitemradio",iconProps:{iconName:"SortUp"}}),b.push({key:"sortDescending",name:p.sortDescMenuText,ariaLabel:p.sortDescMenuText,canCheck:!0,isChecked:g===KE.Desc,isDisabled:n,role:"menuitemradio",iconProps:{iconName:"SortDown"}}),b.push({key:"divider_1",itemType:iB.Divider}),b.push({key:"filter",name:p.filterMenuText,ariaLabel:p.filterMenuText,isDisabled:r,iconProps:{iconName:"Filter"}}),!0===w&&b.push({key:"clearFilters",name:p.clearFilterMenuText,ariaLabel:p.clearFilterMenuText,iconProps:{iconName:"ClearFilter"}}),b.push({key:"divider_2",itemType:iB.Divider}),s||(b.push({key:"moveLeft",name:p.moveLeftMenuText,ariaLabel:p.moveLeftMenuText,iconProps:{iconName:"Back"}}),b.push({key:"moveRight",name:p.moveRightMenuText,ariaLabel:p.moveRightMenuText,iconProps:{iconName:"Forward"}})),b.push({key:"divider_3",itemType:iB.Divider}),o||"left"===a||b.push({key:"pinLeft",name:p.pinLeftMenuText,ariaLabel:p.pinLeftMenuText,iconProps:{iconName:"DockLeft"}}),o||"right"===a||b.push({key:"pinRight",name:p.pinRightMenuText,ariaLabel:p.pinRightMenuText,iconProps:{iconName:"DockRight"}}),a&&b.push({key:"unpin",name:p.unpinMenuText,ariaLabel:p.unpinMenuText,iconProps:{iconName:"Unpin"}}),I.createElement(Tx,{className:v.root,items:b,target:h,directionalHint:nB.bottomLeftEdge,directionalHintForRTL:nB.bottomRightEdge,directionalHintFixed:!0,onItemClick:function(t,i){var e=!!t&&t.shiftKey;if(i)switch(i.key){case"sortAscending":l&&l(e);break;case"sortDescending":f&&f(e);break;case"filter":c&&c();break;case"clearFilters":u&&u();break;case"moveLeft":d&&d("left");break;case"moveRight":d&&d("right");break;case"pinLeft":A&&A("left");break;case"pinRight":A&&A("right");break;case"unpin":A&&A()}},shouldFocusOnMount:!0,shouldFocusOnContainer:!1,onDismiss:m})}}]),i}(),function(t){return{root:{backgroundColor:t.theme.palette.white}}},void 0,void 0,!0),iI=iv(),eI=function(){Ar(e,P.PureComponent);var i=pr(e);function e(t){var n;return hr(this,e),(n=i.call(this,t))._dropdownTargetElement=P.createRef(),n._onSort=function(t,i){var e=n.props.onSortChanged;n.setState({showContextMenu:!1}),e&&e(t,i)},n._onApplyFilter=function(){n.setState({showFilterMenu:!0,showContextMenu:!1})},n._onColumnFilterChanged=function(t,i){var e=n.props.onFilterChanged;n.setState({showFilterMenu:!1,isFiltered:!0}),e&&e(t,i)},n._onPinned=function(t){var i=n.props.onPinned;i&&i(t)},n._onClearFilter=function(){var t=n.props.onClearFilter;n.setState({showFilterMenu:!1,isFiltered:!1}),t&&t()},n._onDismissFilterMenu=function(){var t=n.props.onDismissFilterMenu;n.setState({showFilterMenu:!1}),t&&t()},n.state={showContextMenu:t.showContextMenu||!1,showFilterMenu:t.showFilterCallout||!1,isFiltered:!(!t.filterExpressionEditorProps||!t.filterExpressionEditorProps.filterExpression)},n}return ur(e,[{key:"render",value:function(){var i=this,t=this.props,e=t.styles,n=t.theme,r=t.filterExpressionEditorProps,s=t.sortDirection,o=t.pinned,a=t.onMove,h=t.column,c=t.headerText,u=t.strings,l=t.disableSorting,f=t.disableFiltering,d=t.disableMoving,A=t.disablePinning,g=iI(e,{theme:n}),w=null;return s===KE.Asc&&(w=P.createElement(m.Icon,{iconName:"SortUp"})),s===KE.Desc&&(w=P.createElement(m.Icon,{iconName:"SortDown"})),P.createElement("div",{style:{width:"100%",height:"100%"},ref:this._dropdownTargetElement,onClick:function(){i.setState({showContextMenu:!i.state.showContextMenu,showFilterMenu:!1})}},P.createElement(qx,{horizontal:!0,horizontalAlign:"start",verticalAlign:"center",verticalFill:!0,wrap:!1,className:g.root},P.createElement(qx.Item,{className:g.headerText},c),this.state.isFiltered&&P.createElement(qx.Item,{disableShrink:!0,className:g.iconsContainer},P.createElement(m.Icon,{iconName:"Filter"})),P.createElement(qx.Item,{disableShrink:!0,className:g.iconsContainer},w),P.createElement(qx.Item,{disableShrink:!0,className:g.iconsContainer},P.createElement(m.Icon,{iconName:"ChevronDown"})),this.state.showContextMenu&&this._dropdownTargetElement.current&&P.createElement(tI,{sortDirection:s,disableSorting:l,disableFiltering:f,disableMoving:d,disablePinning:A,isFiltered:this.state.isFiltered,pinned:o,onPinned:this._onPinned,onMove:a,onSortAscending:function(t){return i._onSort(KE.Asc,t)},onSortDescending:function(t){return i._onSort(KE.Desc,t)},onApplyFilter:this._onApplyFilter,onClearFilters:this._onClearFilter,target:this._dropdownTargetElement.current,onDismiss:function(){return i.setState({showContextMenu:!1})},strings:u}),this.state.showFilterMenu&&P.createElement($E,Object.assign({getCalloutTarget:function(){return i._dropdownTargetElement.current},column:h,calloutWidth:250,calloutMaxWidth:250,shouldRestoreFocus:this._shouldRestoreFocus(),onFilterExpressionChanged:this._onColumnFilterChanged,onDismiss:this._onDismissFilterMenu,gapSpace:0,isBeakVisible:!1,directionalHint:nB.bottomLeftEdge,directionalHintForRTL:nB.bottomRightEdge,directionalHintFixed:!0},r))))}},{key:"_shouldRestoreFocus",value:function(){var t=this.props.shouldRestoreFocusToColumnHeaderOnClose;return null==t||t}}]),e}();eI.defaultStrings={sortAscMenuText:"Sort A to Z",sortDescMenuText:"Sort Z to A",filterMenuText:"Filter by",clearFilterMenuText:"Clear Filters"},eI.defaultProps={strings:eI.defaultStrings};var nI,rI,sI=vb(eI,function(t){var i=t.theme;return{root:{backgroundColor:"transparent",overflow:"hidden"},headerText:{backgroundColor:"transparent",fontSize:i.fonts.medium.fontSize,fontWeight:"normal",fontStyle:"normal",overflow:"hidden",textOverflow:"ellipsis",color:i.palette.neutralPrimary},iconsContainer:{display:"inline-flex",flex:0,lineHeight:"normal",marginLeft:"5px !important",marginRight:"5px !important",fontSize:12,color:i.palette.neutralTertiary}}},void 0,void 0,!0),oI=window&&window.__spreadArrays||function(){for(var t=0,i=0,e=arguments.length;i<e;i++)t+=arguments[i].length;for(var n=Array(t),r=0,i=0;i<e;i++)for(var s=arguments[i],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n},aI=(hI.prototype.init=function(){var t=this;this.gridControl.autoGenerateColumns=!1,this.isGridHighDensityEnabled=bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName()),this.isGridNewFilterEnabled=bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB()),this.isDisableRefreshWhileEditing=bf.isFeatureEnabled(bf.getDisableRefreshWhileEditingFCB()),this.getIndexedValue(this.gridControl.columnHeaders.rows,0).height=cf.defaultMinRowHeight,this.gridControl.rows.defaultSize=cf.defaultMinRowHeight,this.gridControl.treeIndent=Pl.treeIndent,this.gridControl.cellFactory=new Ww(this.factory,this.utils,this.client,this.containerService),this.updatedView.addHandler(this.updatedViewHandler),this.keyDown.addHandler(this.openFilterEditorHandler),this.cleanupAttributes(this.gridControl),this.gridControl.updatedLayout.addHandler(function(){t.cleanupAttributes(t.gridControl)}),this.gridControl.lostFocus.addHandler(function(){t.cleanupAttributes(t.gridControl)}),lm(this.gridControl)?this.gridControl.selection.setRange():this.gridControl.selection=new ru.grid.CellRange,this.initAccessibilityExtender(),this.subscribeMouseEvents(),this.noRecordsDiv=this.containerService.noRecordsDiv,this.initCalendarCulture(),this.initHeaderButtons(),this.msosDataMaps={}},hI.prototype.disableDefaultEnterHandler=function(){this.gridControl.hostElement.parentElement.addEventListener("keydown",function(t){t.keyCode==Pl.kbEnterCode&&t.preventDefault()},!0)},hI.prototype.enableTreeView=function(){this.gridControl.childItemsPath="children"},hI.prototype.enableTreeViewEditing=function(){for(var t=0;t<this.gridControl.rows.length;t++)this.gridControl.rows[t].isReadOnly=!1},hI.prototype.toggleDropDown=function(t){var i,e,n;this.selection.col<=0||this.selection.col>this.dataSetService.columns.length||(i=this.getColumnByName(this.getColumnName(this.selection.col)),e=bf.getDatasetColumnByName(this.dataSetService.dataSet.columns,i.binding),$w.isOptionSetDropDownEditorColumn(i,e)&&(this.gridControl._edtHdl._toggleListBox(t),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.activeListBox)||(this.activeListBox.selectedIndexChanged.removeAllHandlers(),this.activeListBox.selectedIndexChanged.addHandler(this.defaultDropDownSelectedIndexChangeHandler))),$w.isCustomDropDownEditorColumn(i,e)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.activeEditor)&&(this.startEditing(),n=ru.input.Menu.getControl(document.activeElement),MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(n.isDroppedDown=!0)))},Object.defineProperty(hI.prototype,"activeListBox",{get:function(){return this.gridControl._edtHdl._lbx},enumerable:!1,configurable:!0}),hI.prototype.setRecordReadOnly=function(t,i){var e=MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.collectionView)?void 0:this.gridControl.collectionView.items;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&0!==e.length)for(var n=0;n<e.length;n++)if(e[n].recId===t){this.gridControl.rows[n].isReadOnly=i;break}},hI.prototype.setRefreshBtnDisabled=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.refreshBtn)||(this.refreshBtn.disabled=t)},hI.prototype.enableMultiSelection=function(){this.gridControl.selectionMode=ru.grid.SelectionMode.ListBox},hI.prototype.disableMultiSelection=function(){this.gridControl.selectionMode=ru.grid.SelectionMode.Row},hI.prototype.initializeColumns=function(t){var i=this;t.forEach(function(t){bf.isUci()&&i.isEditable&&(t.name==i.containerService.getContainerId()+"-"+Pl.btnHeaderSelectColumnName?t.width=bf.getHeaderSelectColumnWidth(t):t.name==Pl.btnHeaderColumnName&&(t.minWidth=bf.getHeaderColumnWidth(t))),i.gridControl.columns.push(t),bf.isBtnHeaderColumn(t.name)&&i.applyEditableGridButtonsAreaHeader(i.client.formFactor)})},hI.prototype.setWijmoColumnWidth=function(t){var i=this.gridControl.columns;for(var e in t){var n,r,s=this.getColumnIndex(e);-1!==s&&(n=i[s],r=t[e],n.width=r,n.size=r)}},hI.prototype.initializeFiltering=function(){var e=this;this.gridFilter=new ru.grid.filter.FlexGridFilter(this.gridControl),this.gridFilter.showSortButtons=!1,this.gridFilter.filterColumns=[],this.isGridNewFilterEnabled||this.gridControl.columns.forEach(function(t){var i=t.binding;e.columnHasFilter(i)&&e.gridFilter.filterColumns.push(i)}),!bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())||MscrmCommon.ControlUtils.String.isNullOrEmpty(this.nativeFilterExpressionToRestore)||bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB())||(this.gridFilter.filterDefinition=this.nativeFilterExpressionToRestore),this.initializeLocale(),this.saveCurrentFilter()},hI.prototype.columnHasFilter=function(t){return-1==this.filterDisabledColumns.indexOf(t)},hI.prototype.initializeLocale=function(){ru.culture.FlexGridFilter.ascending=UA.filterAscendingLabel,ru.culture.FlexGridFilter.descending=UA.filterDescendingLabel,ru.culture.FlexGridFilter.apply=UA.filterApplyLabel,ru.culture.FlexGridFilter.cancel=UA.filterCancelLabel,ru.culture.FlexGridFilter.clear=UA.filterClearLabel,ru.culture.FlexGridFilter.conditions=UA.filterByConditionLabel,ru.culture.FlexGridFilter.values=UA.filterByValueLabel,ru.culture.FlexGridFilter.search=UA.valueFilterSearchLabel,ru.culture.FlexGridFilter.selectAll=UA.valueFilterSelectAllLabel,ru.culture.FlexGridFilter.null=UA.valueFilterNullLabel,ru.culture.FlexGridFilter.header=UA.conditionFilterHeaderLabel,ru.culture.FlexGridFilter.and=UA.conditionFilterAndLabel,ru.culture.FlexGridFilter.or=UA.conditionFilterOrLabel,ru.culture.FlexGridFilter.stringOperators=[{name:UA.conditionFilterOperatorNotSetLabel,op:null},{name:UA.conditionFilterOperatorEqualsLabel,op:ru.grid.filter.Operator.EQ},{name:UA.conditionFilterOperatorDoesNotEqualLabel,op:ru.grid.filter.Operator.NE},{name:UA.conditionFilterOperatorBeginsWithLabel,op:ru.grid.filter.Operator.BW},{name:UA.conditionFilterOperatorEndsWithLabel,op:ru.grid.filter.Operator.EW},{name:UA.conditionFilterOperatorContainsLabel,op:ru.grid.filter.Operator.CT}],ru.culture.FlexGridFilter.numberOperators=[{name:UA.conditionFilterOperatorNotSetLabel,op:null},{name:UA.conditionFilterOperatorEqualsLabel,op:ru.grid.filter.Operator.EQ},{name:UA.conditionFilterOperatorDoesNotEqualLabel,op:ru.grid.filter.Operator.NE},{name:UA.conditionFilterOperatorGreaterLabel,op:ru.grid.filter.Operator.GT},{name:UA.conditionFilterOperatorGreaterOrEqualLabel,op:ru.grid.filter.Operator.GE},{name:UA.conditionFilterOperatorLessLabel,op:ru.grid.filter.Operator.LT},{name:UA.conditionFilterOperatorLessOrEqualLabel,op:ru.grid.filter.Operator.LE}],bf.isDisruptiveFeatureEnabledOnAllClients(bf.getGridColumnFilterParityPhase1FCB())?ru.culture.FlexGridFilter.dateOperators=[{name:UA.conditionFilterOperatorNotSetLabel,op:null},{name:UA.conditionFilterOperatorOnLabel,op:ru.grid.filter.Operator.EQ},{name:UA.conditionFilterOperatorOnOrBeforeLabel,op:ru.grid.filter.Operator.LE},{name:UA.conditionFilterOperatorOnOrAfterLabel,op:ru.grid.filter.Operator.GE}]:ru.culture.FlexGridFilter.dateOperators=[{name:UA.conditionFilterOperatorNotSetLabel,op:null},{name:UA.conditionFilterOperatorEqualsLabel,op:ru.grid.filter.Operator.EQ},{name:UA.conditionFilterOperatorIsBeforeLabel,op:ru.grid.filter.Operator.LT},{name:UA.conditionFilterOperatorIsAfterLabel,op:ru.grid.filter.Operator.GT}],ru.culture.FlexGridFilter.booleanOperators=[{name:UA.conditionFilterOperatorNotSetLabel,op:null},{name:UA.conditionFilterOperatorEqualsLabel,op:ru.grid.filter.Operator.EQ},{name:UA.conditionFilterOperatorDoesNotEqualLabel,op:ru.grid.filter.Operator.NE}]},hI.prototype.updateColumns=function(i){var e=this;Object.keys(i).forEach(function(t){e.updateColumn(t,i[t])})},hI.prototype.createGridDetail=function(t,i,e){this.detailProvider=new zw(this.gridControl,this.client.isRTL),this.detailProvider.maxHeight=400,this.detailProvider.createDetailCell=t,this.detailProvider.rowHasDetail=i,this.detailProvider.disposeDetailCell=e},hI.prototype.showDetailGrid=function(t){this.detailProvider&&this.detailProvider.showDetail(t,!0)},hI.prototype.hideDetailGrid=function(t){this.detailProvider.hideDetail(t)},hI.prototype.render=function(t){this.setItemsSource(t),this.switchNoRecordsLabelVisibility()},hI.prototype.initCalendarCulture=function(){ru.culture.Globalize.calendar.months=this.client.dateFormattingInfo.MonthNames,ru.culture.Globalize.calendar.monthsAbbr=this.client.dateFormattingInfo.AbbreviatedMonthNames,ru.culture.Globalize.calendar.days=this.client.dateFormattingInfo.DayNames,ru.culture.Globalize.calendar.daysAbbr=this.client.dateFormattingInfo.AbbreviatedDayNames,ru.culture.Globalize.calendar.am=[this.client.dateFormattingInfo.AMDesignator,this.client.dateFormattingInfo.AMDesignator],ru.culture.Globalize.calendar.pm=[this.client.dateFormattingInfo.PMDesignator,this.client.dateFormattingInfo.PMDesignator]},hI.prototype.initHeaderButtons=function(){this.isEditable?MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)&&(this.saveBtn=this.createHeaderButton($l.saveButtonLabel,Pl.headerBtnSaveClass,this.saveButtonMouseHandler,this.saveButtonKeyboardHandler,!0)):MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.removeEventListener(Pl.eventMouseDown,this.saveButtonMouseHandler),this.saveBtn.removeEventListener(cf.eventKeyDown,this.saveButtonKeyboardHandler),this.saveBtn=null),!bf.isUci()&&bf.isDesktop(this.client.formFactor)&&(this.refreshBtn=this.createHeaderButton($l.refreshButtonLabel,Pl.headerBtnRefreshClass,this.refreshButtonMouseHandler,this.refreshButtonKeyboardHandler)),this.selectAllBtn=this.createHeaderButton($l.selectAllButtonLabel,Pl.headerBtnSelectClass,null,null)},hI.prototype.refresh=function(){this.isDisableRefreshWhileEditing&&this.isEditing||this.gridControl.refresh()},Object.defineProperty(hI.prototype,"msosDataMap",{get:function(){return this.msosDataMaps},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"isEditable",{get:function(){return!this.gridControl.isReadOnly},set:function(t){this.gridControl.isReadOnly=!t},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"isMultiSelectionEnabled",{get:function(){return hI.isMultiSelectionEnabled(this.gridControl)},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"filtering",{set:function(t){this._filtering=t},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"sortingService",{set:function(t){this._sorting=t},enumerable:!1,configurable:!0}),hI.prototype.containsFocus=function(){return this.gridControl.containsFocus()},hI.prototype.getCellBoundingRect=function(t,i){return t<0||t>this.totalRowsCount-1||i<0||i>this.totalColumnsCount-1?null:this.gridControl.getCellBoundingRect(t,i)},hI.prototype.getColumnIndex=function(t){var i=this.gridControl.columns.getColumn(t);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?-1:i.index},hI.prototype.isColumnVisible=function(t){var i=this.gridControl.columns.getColumn(t);return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&i.isVisible},hI.prototype.startEditing=function(t,i,e){return this.gridControl.startEditing(t,i,e)},hI.prototype.getSelectedState=function(t,i){return this.gridControl.getSelectedState(t,i)},hI.prototype.getColumnFilter=function(t){return new Zw(this.gridFilter.getColumnFilter(t))},hI.prototype.saveCurrentFilter=function(){this.filterDefinition=this.gridFilter.filterDefinition},hI.prototype.getFilterDefinition=function(){return this.filterDefinition},hI.prototype.openFilterEditor=function(t,i){var e=-1<t?this.columns[t]:null;e&&this.gridFilter&&this.gridFilter.getColumnFilter(e,!1)&&this.gridFilter.editColumnFilter(e,i)},hI.prototype.closeFilterEditor=function(){this.gridFilter.closeEditor()},hI.prototype.restoreFilters=function(t,i){void 0===i&&(i=null);var e=MscrmCommon.ControlUtils.String.isNullOrEmpty(i)?this.filterDefinition:i;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))return null;var n=JSON.parse(e),r=[];if(n&&n.filters&&0<n.filters.length)for(var s=0;s<n.filters.length;s++){var o=this.gridControl.columns.getColumn(n.filters[s].binding),a=this.getColumnFilter(o.binding),h=a.getOriginalGridFilter();t(a,n.filters[s].type)&&(this.applyColumnFilterDefinition(h,n.filters[s]),r.push(a))}return this.saveCurrentFilter(),r},hI.prototype.restoreAllFilters=function(){return this.restoreFilters(function(t){return!0})},hI.prototype.applyColumnFilterDefinition=function(t,i){if(t)switch(i.type){case"condition":t.filterType=ru.grid.filter.FilterType.Condition,t.conditionFilter.condition1.operator=i.condition1.operator,t.conditionFilter.condition1.value=t.column.dataType===ru.DataType.Date?this.convertStringToDate(i.condition1.value):i.condition1.value,t.conditionFilter.and=i.and,t.conditionFilter.condition2.operator=i.condition2.operator,t.conditionFilter.condition2.value=t.column.dataType===ru.DataType.Date?this.convertStringToDate(i.condition2.value):i.condition2.value;break;case"value":t.filterType=ru.grid.filter.FilterType.Value,t.valueFilter.filterText=i.filterText,t.valueFilter.showValues=i.showValues}},hI.prototype.convertStringToDate=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?null:new Date(t)},Object.defineProperty(hI.prototype,"columnLayout",{get:function(){return this.gridControl.columnLayout},set:function(t){this.gridControl.columnLayout=t},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"columnResized",{get:function(){return this.gridControl.resizedColumn},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"formatItem",{get:function(){return this.gridControl.formatItem},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"updatedView",{get:function(){return this.gridControl.updatedView},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"selectionChanging",{get:function(){return this.gridControl.selectionChanging},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"selectionChanged",{get:function(){return this.gridControl.selectionChanged},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"beginningEdit",{get:function(){return this.gridControl.beginningEdit},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"cellEditEnding",{get:function(){return this.gridControl.cellEditEnding},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"cellEditEnded",{get:function(){return this.gridControl.cellEditEnded},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"cellEditProcessed",{get:function(){return this.cellEditProcessedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"sortingColumn",{get:function(){return this.gridControl.sortingColumn},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"lostFocus",{get:function(){return this.gridControl.lostFocus},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"scrollPositionChanged",{get:function(){return this.gridControl.scrollPositionChanged},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"columnsCollectionChanged",{get:function(){return this.gridControl.columns.collectionChanged},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"selection",{get:function(){return this.gridControl.selection},enumerable:!1,configurable:!0}),hI.prototype.select=function(t,i){this.gridControl.select(t,i)},Object.defineProperty(hI.prototype,"prepareCellForEdit",{get:function(){return this.gridControl.prepareCellForEdit},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"loadedRows",{get:function(){return this.gridControl.loadedRows},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"activeEditor",{get:function(){return this.gridControl.activeEditor},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"isEditing",{get:function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.getGridEditRange())},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"cells",{get:function(){return this.gridControl.cells},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"columns",{get:function(){return this.gridControl.columns},enumerable:!1,configurable:!0}),hI.prototype.onCellEditProcessed=function(t){this.cellEditProcessed.raise(this,t)},hI.prototype.onFormatItem=function(t){this.gridControl.onFormatItem(t)},hI.prototype.onUpdatedView=function(t){this.gridControl.onUpdatedView(t)},hI.prototype.onSortedColumn=function(t){this.gridControl.sortedColumn.raise(this,t)},hI.prototype.hitTest=function(t){return this.gridControl.hitTest(t)},hI.prototype.getCellData=function(t,i,e){return 0===this.gridControl.rows.length?null:this.gridControl.getCellData(t,i,e)},hI.prototype.getRenderedCellHeight=function(){var t=this.row(0);return t?t.renderHeight:0},hI.prototype.findRecord=function(t,i){for(var e=0;e<t.length;e++)if(t[e].recId===i)return t[e]},hI.prototype.updateSourceCollection=function(t){var i,e=this,n=this.getCollectionDataView();n.beginUpdate(),n.sourceCollection.length=0;var r=this.dataAdapterService.getGridRecordItems(this.dataSetService.dataSet);(i=n.sourceCollection).splice.apply(i,oI([0,0],t.map(function(t){return e.findRecord(r.sourceCollection,t)}))),n.pageSize=n.sourceCollection.length,n.refresh(),n.endUpdate()},hI.prototype.setProgressIndicator=function(t){var i,e,n,r;if(this.progressIndicatorDiv||(i=this.containerService.getContainerId()+"_progressIndicatorDiv",e=Nd.render(this.factory,i),n=this.containerService.progressIndicatorDiv,this.progressIndicatorDiv=n,this.utils.bindDOMElement(e,n),r=this.getCollectionDataView(),this.render(r)),t)switch(this.progressIndicatorDiv.style.display="block",t){case Rd.Top:var s=Pl.progressIndicatorSize/2+Pl.firstRowHeight;this.progressIndicatorDiv.style.top=s+"px",this.progressIndicatorDiv.style.bottom="auto";break;case Rd.Bottom:this.progressIndicatorDiv.style.top="auto",this.progressIndicatorDiv.style.bottom=Pl.progressIndicatorSize/2+"px"}else this.progressIndicatorDiv.style.display="none",this.progressIndicatorDiv.style.top=null,this.progressIndicatorDiv.style.bottom=null},hI.prototype.getSourceCollectionIds=function(){return this.getCollectionDataView().sourceCollection.map(function(t){return t.recId})},hI.prototype.findCellHtml=function(t,i){var e=this.getCellBoundingRect(t,i);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))return null;var n=document.elementFromPoint(e.left+e.width/2,e.top+e.height/2);for(ru.hasClass(n,cf.headerCSSClass)&&(n=null);n&&!ru.hasClass(n,cf.cellCSSClass);)n=n.parentElement;return n},hI.prototype.getColumnName=function(t){if(-1===t)return MscrmCommon.ControlUtils.String.Empty;var i=this.gridControl.columns;return t==i.length&&--t,i[t].binding},Object.defineProperty(hI.prototype,"selectedRows",{get:function(){return hI.selectedRows(this.gridControl)},set:function(t){this.gridControl.selectedRows=t},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"totalRowsCount",{get:function(){return this.gridControl.rows.length},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"totalColumnsCount",{get:function(){return this.gridControl.columns.length},enumerable:!1,configurable:!0}),hI.prototype.row=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.rows)?null:this.gridControl.rows[t]},hI.prototype.selectedRowsNumbers=function(){return hI.isMultiSelectionEnabled(this.gridControl)?new MscrmCommon.ArrayQuery(this.gridControl.rows).where(function(t){return t.isSelected}).select(function(t){return t.index}).items():[this.gridControl.selection.row]},hI.prototype.isRowSelected=function(t){return 0<=this.selectedRowsNumbers().indexOf(t)},hI.selectedRows=function(t){if(hI.isMultiSelectionEnabled(t))return new MscrmCommon.ArrayQuery(t.rows).where(function(t){return t.isSelected}).select(function(t){return t&&t.dataItem?t.dataItem.recId:null}).items();if(0<=t.selection.row){var i=t.rows[t.selection.row];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.dataItem))return[i.dataItem.recId]}return[]},hI.isMultiSelectionEnabled=function(t){return t.selectionMode===ru.grid.SelectionMode.ListBox},hI.handleSelectionChanging=function(t,i){var e=event&&event.target&&event.target.getAttribute("class");return"wj-cells"===e||"wj-cell wj-header"===e||!(!event||event.keyCode!=Pl.kbSpaceCode||!event.target||"columnheader"!==event.target.getAttribute(Pl.role))&&(window.setTimeout(function(){hI.selectAllOrNothing(t)},0),!0)},hI.selectAllOrNothing=function(t){var i=t instanceof hI?t.gridControl:t,e=i.selection;0==e.row&&0==e.col&&e.row2==i.rows.length-1&&e.col2==i.columns.length-1?i.select(-1,-1):i.rows.length&&i.select(new ru.grid.CellRange(0,0,i.rows.length-1,i.columns.length-1))},Object.defineProperty(hI.prototype,"click",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.clickEvent)&&(this.clickEvent=new ru.Event,this.gridControl.hostElement.addEventListener(cf.eventSingleClick,this.raiseClickEvent)),this.clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"touchStart",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.touchStartEvent)&&(this.touchStartEvent=new ru.Event,this.gridControl.hostElement.addEventListener(cf.eventTouchStart,this.raiseTouchStartEvent)),this.touchStartEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"touchEnd",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.touchEndEvent)&&(this.touchEndEvent=new ru.Event,this.gridControl.hostElement.addEventListener(cf.eventTouchEnd,this.raiseTouchEndEvent)),this.touchEndEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"touchMove",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.touchMoveEvent)&&(this.touchMoveEvent=new ru.Event,this.gridControl.hostElement.addEventListener(cf.eventTouchMove,this.raiseTouchMoveEvent)),this.touchMoveEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"dblClick",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dblClickEvent)&&(this.dblClickEvent=new ru.Event,this.gridControl.hostElement.addEventListener(cf.eventDoubleClick,this.raiseDblClickEvent)),this.dblClickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"mouseDown",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.mouseDownEvent)&&(this.mouseDownEvent=new ru.Event,this.gridControl.hostElement.addEventListener(Pl.eventMouseDown,this.raiseMouseDownEvent)),this.mouseDownEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"mouseMove",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.mouseMoveEvent)&&(this.mouseMoveEvent=new ru.Event,bf.isTouchScreenDevice(this.client)||this.gridControl.hostElement.addEventListener(cf.eventMouseMove,this.raiseMouseMoveEvent)),this.mouseMoveEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"mouseLeave",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.mouseLeaveEvent)&&(this.mouseLeaveEvent=new ru.Event,this.gridControl.hostElement.addEventListener(cf.eventMouseLeave,this.raiseMouseLeaveEvent)),this.mouseLeaveEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"keyDown",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.keyDownEvent)&&(this.keyDownEvent=new ru.Event,this.gridControl.hostElement.addEventListener(cf.eventKeyDown,this.raiseKeyDownEvent)),this.keyDownEvent},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"filterChanging",{get:function(){return this.gridFilter.filterChanging},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"filterChanged",{get:function(){return this.gridFilter.filterChanged},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"gridHostingElement",{get:function(){return this.gridControl.hostElement},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"gridRoot",{get:function(){return $(this.gridControl.hostElement).find('div[wj-part="root"]')[0]},enumerable:!1,configurable:!0}),hI.prototype.getScrollableElement=function(){return this.gridRoot},hI.prototype.attachScrollHandler=function(t){var i=this.getScrollableElement();i&&i.addEventListener("scroll",t)},Object.defineProperty(hI.prototype,"gridRowHeaderHostingElement",{get:function(){return this.gridControl.rowHeaders.hostElement},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"gridColumnHeaders",{get:function(){return this.gridControl.columnHeaders},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"hiddenGridColumnHeaders",{get:function(){return this.gridControl.cells.hostElement.querySelectorAll("[role=columnheader]")},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"gridColumnFilterButtons",{get:function(){return this.gridColumnHeaders.hostElement.querySelectorAll(".wj-btn-glyph")},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"saveButton",{get:function(){return this.saveBtn},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"selectAllButton",{get:function(){return this.selectAllBtn},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"hiddenHeaderSelectAllButton",{get:function(){return this.hiddenHeaderSelectAllBtn},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"hiddenHeaderLiveRegion",{get:function(){return this.hiddenHeaderLiveRegionDiv},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"refreshButton",{get:function(){return this.refreshBtn},enumerable:!1,configurable:!0}),Object.defineProperty(hI.prototype,"collectionChanged",{get:function(){return this.collectionChangedEvent},enumerable:!1,configurable:!0}),hI.prototype.dispose=function(){if(this.updatedView.removeHandler(this.updatedViewHandler),this.keyDown.removeHandler(this.openFilterEditorHandler),this.unsubscribeCollectionChanged(),this.unsubscribeMouseEvents(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.hostElement)||this.gridControl.hostElement.removeEventListener(cf.eventSingleClick,this.raiseClickEvent),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.removeEventListener(Pl.eventMouseDown,this.saveButtonMouseHandler),this.saveBtn.removeEventListener(cf.eventKeyDown,this.saveButtonKeyboardHandler)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.refreshBtn)||(this.refreshBtn.removeEventListener(Pl.eventMouseDown,this.refreshButtonMouseHandler),this.refreshBtn.removeEventListener(cf.eventKeyDown,this.refreshButtonKeyboardHandler)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.hiddenGridColumnHeaders))for(var t=this.hiddenGridColumnHeaders,i=0;i<t.length;i++)t[i].removeEventListener("focus",this.focusColumnHeaderHandler),t[i].removeEventListener("blur",this.blurColumnHeaderHandler);this.gridControl.dispose(),this.gridFilter=null,this.gridControl=null,this.validations=null,this.clickEvent.removeAllHandlers(),this.clickEvent=null,this.touchStartEvent.removeAllHandlers(),this.touchStartEvent=null,this.touchEndEvent.removeAllHandlers(),this.touchEndEvent=null,this.touchMoveEvent.removeAllHandlers(),this.touchMoveEvent=null,this.dblClickEvent.removeAllHandlers(),this.dblClickEvent=null,this.typeProcessorService=null,this.timeZoneService=null,this.errorHandlingService=null,this.dataSetService=null,this.dataAdapterService=null,this.navigationService=null},hI.prototype.getPageIndex=function(){return this.gridControl.itemsSource?this.gridControl.itemsSource.pageIndex:0},hI.prototype.getPageCount=function(){return this.gridControl.itemsSource?this.gridControl.itemsSource.pageCount:0},hI.prototype.getCollectionDataView=function(){return this.gridControl.itemsSource},hI.prototype.getColumnByName=function(t){return this.gridControl.columns.getColumn(t)},hI.prototype.getGroupDescriptions=function(){return this.gridControl.itemsSource.groupDescriptions},hI.prototype.setGroupHeaderFormat=function(t){this.gridControl.groupHeaderFormat=t},hI.prototype.setShowGroups=function(t){this.gridControl.showGroups=t},hI.prototype.finishEdit=function(){this.gridControl.finishEditing(!1)},hI.prototype.hideHighlightedRow=function(){0<=this.highlightedRow&&this.gridControl.rows.length>this.highlightedRow&&(bf.isUci()&&this.isRowSelected(this.highlightedRow)||(this.setRowBackground(this.highlightedRow),this.highlightedRow=-1))},hI.prototype.cancelSelection=function(){lm(this.gridControl)&&!this.gridControl.selection.isValid||(this.gridControl.selection=new ru.grid.CellRange)},hI.prototype.blurCellSelection=function(t){t.tabIndex=-1,ru.toggleClass(t,"wj-state-selected",!1)},hI.prototype.focusFirstCellOrLastSelectedCell=function(){var t,i,e,n;!this.totalRowsCount||this.gridControl.selectedRows.length||ru.hasClass(ru.getActiveElement(),cf.headerCSSClass)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.collectionView)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.collectionView.groupDescriptions)?(n=this.gridControl.cells.getCellElement(this.gridControl.selection.row,this.gridControl.selection.col))?this.focusElement(n):(i=(t=this.gridControl.cells.viewRange)?t.row:0,e=this.gridControl.cells.getCellElement(i,1),this.focusElement(e)):(this.gridControl.selection=new ru.grid.CellRange(this.gridControl.collectionView.groupDescriptions.length,bf.firstInformativeColumnIndex),((n=this.gridControl.cells.getCellElement(0,bf.firstInformativeColumnIndex))&&!n.classList.contains(cf.groupClass)||(n=this.gridControl.cells.getCellElement(this.gridControl.selection.row,this.gridControl.selection.col)))&&this.focusElement(n))},hI.prototype.subscribeMouseEvents=function(){this.mouseMove.addHandler(this.handleHighlightRecordMouseMove),this.mouseLeave.addHandler(this.handleHighlightRecordMouseLeave)},hI.prototype.unsubscribeMouseEvents=function(){this.mouseMove.removeHandler(this.handleHighlightRecordMouseMove),this.mouseLeave.removeHandler(this.handleHighlightRecordMouseLeave)},hI.prototype.getCellDefaultBackground=function(t){return this.isGridHighDensityEnabled?this.theming.colors.base.white:bf.isUci()?t.classList.contains(cf.altCSSClass)?this.theming.colors.base.white:this.theming.colors.basecolor.grey.grey1:""},hI.prototype.hexToRgb=function(t){if(!t||7!==t.length||"#"!==t[0])return"";var i=[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)];return"rgb("+i[0]+", "+i[1]+", "+i[2]+")"},hI.prototype.areColorsDifferent=function(t,i){return t!==this.hexToRgb(i)},hI.prototype.setRowBackground=function(h,c){var u=this;void 0===c&&(c="");var l,t,i,e,n=this.row(h);MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(n instanceof ru.grid.GroupRow&&(n.isSelected=!1),l=!!c,t=this.containerService.getHostId(),i=MscrmCommon.ControlUtils.String.Format("#{0} div[{1}='{2}']",t,Pl.rowHeaderRowNumber,h),e=$(i).get(0),MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||e.classList.contains(cf.detailCellCSSClass)||(e.style.background=c||this.getCellDefaultBackground(e),l?e.classList.add(Pl.headerCellHoverClass):e.classList.remove(Pl.headerCellHoverClass)),this.gridControl.columns.forEach(function(t,i){var e,n,r,s,o,a=u.gridControl.cells.getCellElement(h,i);MscrmCommon.ControlUtils.Object.isNullOrUndefined(a)||a.classList.contains(cf.detailCellCSSClass)||(e=c||u.getCellDefaultBackground(a),u.areColorsDifferent(a.style.background,e)&&(a.style.background=e),!bf.isUci()||(n=a.firstElementChild)&&(r="A"===n.tagName,s=l?r?u.theming.colors.basecolor.blue.blue5:u.theming.colors.basecolor.black:r?u.theming.colors.basecolor.blue.blue4:u.theming.colors.basecolor.grey.grey7,u.areColorsDifferent(n.style.color,s)&&(n.style.color=s),u.isGridHighDensityEnabled||(o=l?u.theming.fontfamilies.semibold:u.theming.fontfamilies.regular,n.style.fontFamily!==o&&(n.style.fontFamily=o))))}))},hI.prototype.updateColumn=function(t,i){var e=this.gridControl.columns.getColumn(t);null!=e&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.dataMap)||(this.getColumnTypeByName(t)===sf.multiSelectOptionset&&(this.msosDataMaps[t]=i.dataMap),e.showDropDown=this.getColumnTypeByName(t)===sf.optionset,e.dataMap=i.dataMap),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.format)||(e.format=i.format),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.inputType)||(e.inputType=i.inputType),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.validations)||(this.validations[t]=i.validations),e.isRequired=!1)},hI.prototype.getIndexedValue=function(t,i){return t[i]},hI.prototype.setItemsSource=function(t){var i=this,e=this.selectedRows;this.unsubscribeCollectionChanged(),lm(this.gridControl)?fm(this.gridControl._root,function(){return i.gridControl.itemsSource=t}):this.gridControl.itemsSource=t,this.subscribeCollectionChanged(t),this.collectionChangedEvent.hasHandlers&&this.collectionChanged.raise(this,ru.EventArgs.empty),this.setSelectedRecords(e)},hI.prototype.setSelectedRecords=function(t){for(var e=this,n=0;n<this.gridControl.rows.length;n++)!function(){var i=e.gridControl.rows[n];t.find(function(t){return t==i.dataItem.recId})&&(i.isSelected=!0)}()},hI.prototype.subscribeCollectionChanged=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.itemsSource)||t.groupDescriptions.collectionChanged.addHandler(this.onCollectionChangedEventHandler),this.columnsCollectionChanged.addHandler(this.onCollectionChangedEventHandler)},hI.prototype.unsubscribeCollectionChanged=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.itemsSource)||this.gridControl.itemsSource.groupDescriptions.collectionChanged.removeHandler(this.onCollectionChangedEventHandler),this.columnsCollectionChanged.removeHandler(this.onCollectionChangedEventHandler)},hI.prototype.getGridEditRange=function(){return this.gridControl.editRange},hI.prototype.getRowHeaderWidth=function(){return this.gridControl&&this.gridControl.rowHeaders?this.gridControl.rowHeaders.hostElement.clientWidth:0},hI.prototype.handleKeyboardNavigation=function(t){var i,e,n,r=new ru.grid.HitTestInfo(t.target,null),s=-1===r.row;(PA.isKeyCode(t,Pl.kbSpaceCode)||PA.isKeyCode(t,Pl.kbEnterCode))&&s&&1==r.col&&this.selectAllButtonAction(),PA.isKeyCode(t,Pl.kbTabCode)&&(i=this.isEditable?2:1,e=0<this.totalRowsCount,n=s&&r.col===this.columns.length-i,t.shiftKey&&-1<r.row?this.blurCellSelection(t.target):!t.shiftKey&&n&&e?(t.preventDefault(),this.focusFirstCellOrLastSelectedCell()):!t.shiftKey&&-1<r.row&&ru.toggleClass(t.target,"wj-state-selected",!1))},hI.prototype.applyAriaColIndexAndCountToColumns=function(){if(this.dataSetService&&this.dataSetService.columns){var t=this.dataSetService.columns.filter(function(t){return 0<=t.order}).map(function(t){return t.displayName});if(this.cells&&this.cells.hostElement){var i=this.cells.hostElement.children;if(i&&i[0]&&t&&0<t.length){var e=i[0].children;this.cells.hostElement.setAttribute("aria-colcount",(t.length+1).toString());for(var n=0;n<e.length;n++){var r=t.indexOf(e[n].textContent),s=0<=r?r+2:1;e[n].setAttribute("aria-colindex",s.toString());for(var o=1;o<i.length;o++)i[o].children&&i[o].children.length>n&&i[o].children[n].setAttribute("aria-colindex",s.toString())}}}}},hI.prototype.applyAriaRowCount=function(){var t=this.totalRowsCount+1;this.cells&&this.cells.hostElement&&this.cells.hostElement.setAttribute(Pl.ariaRowCount,t.toString())},hI.prototype.getDataForMultiSelectPickListEditor=function(t,i){var e=[],n=this.dataSetService.records[i].getValue(t.binding),r=this.msosDataMaps[t.binding],s=bf.getDatasetColumnByName(this.dataSetService.dataSet.columns,t.binding),o=[];if(!0===mm.isUCIWithDependentOptionSetFeatureEnabledColumn(s)&&(o=mm.getFilteredChildrenOptionValues(s,i,this.dataSetService)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r.collectionView)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r.collectionView.items))for(var a=0;a<r.collectionView.items.length;a++)if(r.collectionView.items[a].Value&&!isNaN(r.collectionView.items[a].Value)){var h,c=parseInt(r.collectionView.items[a].Value),u=!1,l=!0;if(n)for(var f=0;f<n.length;f++)if(n[f]===c){u=!0;break}mm.isUCIWithDependentOptionSetFeatureEnabledColumn(s)&&(l=mm.isValidChildOption(r,s,o,a)),l&&(h=new im("option",r.collectionView.items[a].Label,c,r.collectionView.items[a].Label,u),e.push(h))}return e},hI.prototype.addLearningPathIDs=function(t){var i;t.panel.cellType===ru.grid.CellType.ColumnHeader?(0<$(t.cell).parents('div[wj-part="ch"]').length&&this.learningPathService.addLearningPathIdToHtmlElement(t.cell,Pl.lpGridHeaderId),this.learningPathService.addLearningPathIdToHtmlElement(t.cell,Pl.lpGridColumnPrefixId+this.getColumnName(t.col))):0<=t.row&&0<=t.col&&(i=t.cell.parentElement,this.learningPathService.addLearningPathIdToHtmlElement(i,Pl.lpGridCellContainerId),this.learningPathService.addLearningPathIdToHtmlElement(t.cell,Pl.lpGridCellPrefixId+t.cell.getAttribute(Pl.dataId)))},hI.prototype.applyCellsSelectionStyle=function(){for(var t=this.gridControl.rows.length,i=0;i<t;i++){var e=this.gridControl.cells.getCellElement(i,1),n=this.row(i);n instanceof ru.grid.GroupRow&&n.isCollapsed||e&&!e.classList.contains(cf.detailCellCSSClass)&&this.applyCellSelectionStyle(n,e)}},hI.prototype.setHeaderRowIndexToOne=function(t){var i=this.cells.hostElement.querySelector("[role=row]");"1"!==i.getAttribute(Pl.ariaRowIndex)&&i.setAttribute(Pl.ariaRowIndex,"1")},hI.prototype.applyRowIndexToRows=function(t,i){for(var e=i.parentElement;"row"!==e.getAttribute("role");)if(!(e=e.parentElement)||"grid"===e.getAttribute("role"))return;var n=t.index+2;e.setAttribute(Pl.ariaRowIndex,n.toString())},hI.prototype.updateHiddenSelectAllHeader=function(t){var e=this,n=this.hiddenGridColumnHeaders&&this.hiddenGridColumnHeaders[t.col-1];n&&bf.isSelectAllBtnHeaderColumn(this.getColumnName(t.col))&&(t.cell.title=$l.selectionStatusColumnHeader,setTimeout(function(){n.textContent="";var t=document.createElement("button");t.style.width="100%",t.style.height="100%",t.addEventListener(Pl.eventMouseClick,e.selectAllButtonMouseHandler),t.textContent=e.getHiddenHeaderSelectAllButtonLabel(),n.removeEventListener("focus",e.focusColumnHeaderHandler),n.removeEventListener("blur",e.blurColumnHeaderHandler),n.style.padding="0px",n.removeAttribute("aria-sort"),n.removeAttribute("tabindex"),n.removeAttribute("aria-describedby"),t.addEventListener("focus",e.focusColumnHeaderHandler),t.addEventListener("blur",e.blurColumnHeaderHandler),n.appendChild(t),e.hiddenHeaderSelectAllBtn=t,n.setAttribute("aria-label",$l.selectionStatusColumnHeader);var i=document.createElement("div");i.setAttribute("aria-live","polite"),i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.top="0",n.appendChild(i),e.hiddenHeaderLiveRegionDiv=i},0))},hI.prototype._restoreFocusToColumnHeader=function(i){var e=this;window.setTimeout(function(){var t=e.cells.hostElement.querySelectorAll("[role=columnheader]");t&&t[i-1]&&t[i-1].focus()},100)},hI.prototype._getNativeFilterExpressionToRestoreForColumn=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.nativeFilterExpressionToRestore)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){var i=JSON.parse(this.nativeFilterExpressionToRestore);return-1<Object.keys(i).indexOf(t)?i[t]:void 0}},hI.prototype.getLanguagesMap=function(t){if(t&&t.LanguageByCode){for(var i=[],e=t.LanguageByCode,n=0,r=Object.keys(e);n<r.length;n++){var s=r[n],o={localeId:s,label:e[s]};i.push(o)}return i}},hI.prototype.getColumnSeparator=function(){return this.isGridHighDensityEnabled?'<div class="columnSeparator" style="border-right: 1px solid '+(Cf.getDesignBag().HeaderDividerColor||"#C4C4C4")+' !important;height:20px;opacity:1">&nbsp;</div>':'<div class="columnSeparator">&nbsp;</div>'},hI.prototype.renderUpdatedRecord=function(t,i,e){bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&i&&this.errorHandlingService.getServerErrorMessage(i.getRecordId())&&(this.errorHandlingService.removeServerErrorMessage(i.getRecordId()),this.errorHandlingService.update(i));var n,r=this.dataAdapterService.updateGridRecordItem(i,e);this.refresh(),bf.isTreeView(this.dataSetService.dataSet)&&(n=this.dataAdapterService.getGridRecordItemsOnRecordUpdate(this.dataSetService.dataSet,i,this.gridFilter,r),MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||this.render(n)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&0<e.length&&(bf.isFeatureEnabled(bf.getLegacyEditableSubGridWarningOnUpdateFCB())?this.updateStatusArea(CA.Unsaved):this.saveButtonAction()),bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&i&&!i.isDirty()&&this.updateStatusArea(CA.Clear)},hI.prototype.updateStatusArea=function(t){var i,e=MscrmCommon.ControlUtils.String.Empty;switch(t){case CA.Unsaved:e=$l.unsavedStatusLabel,MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.disabled=!1);break;case CA.Saving:e=$l.savingStatusLabel;break;case CA.Saved:MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.disabled=!0);break;case CA.Refresh:e=$l.refreshStatusLabel,MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.disabled=!0)}MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.statusAreaDiv)&&(i=this.containerService.getContainerId(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.parentComponent)||(i=this.parentComponent.containerService.getContainerId()),this.statusAreaDiv=$("#"+i+Pl.statusAreaPostfix)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.statusAreaDiv)&&0<this.statusAreaDiv.length&&(this.statusAreaDiv.text(e),MscrmCommon.ControlUtils.String.isNullOrEmpty(e)||this.ariaLiveRegionService.sendAssertiveMessage(e))},hI.prototype.compareArrayValues=function(t,i){if(null==t&&null==i)return!0;if(null==t||null==i)return!1;if(t.length!==i.length)return!1;for(var e=t.sort(),n=i.sort(),r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0},hI.prototype.getColumnType=function(t){var i=this.gridControl.columns[t];return bf.getDatasetColumnByName(this.dataSetService.columns,i.binding).attributes.type},hI.prototype.getColumnsCount=function(){return this.gridControl.columns.length},hI.prototype.getColumnTypeByName=function(t){return bf.getDatasetColumnByName(this.dataSetService.columns,t).attributes.type},hI.prototype.formatDisplayValue=function(r,s,o,t){var a,h,i,c,e,u=this;o.cell.innerHTML="",MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||(bf.isSelectAllBtnHeaderColumn(t.name)?this.applyRowHeaderImage(this.gridControl.rows[o.row],o.cell):(a=bf.getDatasetColumnByName(this.dataSetService.columns,t.binding))&&a.attributes&&(h=null,!a||a.isPrimary||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet.getCellImageInfo)?(i=bf.getValueOrDefault(this.typeProcessorService.getValue(r,a,null,!0)),bf.contextUtils.isFeatureEnabled(wm)&&mm.isDependentOptionSet(a)&&(h=mm.getToolTipForDependentOptionSetColumns(r,a,this.isEditable,this.dataSetService)),MscrmCommon.ControlUtils.String.isNullOrEmpty(h)?MscrmCommon.ControlUtils.String.isNullOrEmpty(i)||o.cell.setAttribute(Pl.htmlTitleAttributeName,i):o.cell.setAttribute(Pl.htmlTitleAttributeName,h),this.fieldFactory.updateCellView(o.cell,a,i,r.getRecordId(),null,null,this.factory,this.utils,this.client)):(c=o.row,e=Xrm.Utility.getGlobalContext().getUserLcid(),this.dataSetService.dataSet.getCellImageInfo(a.name,s,e).then(function(t){var i,e=null,n=null;t&&(e=t.Url,n=t.Tooltip),u.row(c)&&u.gridControl.getCellData(c,0,!1)===s&&(i=bf.getValueOrDefault(u.typeProcessorService.getValue(r,a,null,!0)),bf.contextUtils.isFeatureEnabled(wm)&&mm.isDependentOptionSet(a)&&(h=mm.getToolTipForDependentOptionSetColumns(r,a,u.isEditable,u.dataSetService)),MscrmCommon.ControlUtils.String.isNullOrEmpty(h)?MscrmCommon.ControlUtils.String.isNullOrEmpty(i)||o.cell.setAttribute(Pl.htmlTitleAttributeName,i):o.cell.setAttribute(Pl.htmlTitleAttributeName,h),u.fieldFactory.updateCellView(o.cell,a,i,r.getRecordId(),e,n,u.factory,u.utils,u.client))}))))},hI.prototype.formatDisplay=function(t,i,e){switch(e){case sf.twoOptions:i.textContent=t;break;case sf.lookup:i.textContent="";var n=document.createElement("span");n.classList.add(Pl.navigableCell),n.textContent=t,i.appendChild(n);break;case sf.optionset:var r=!0;default:var s,o=!1;$(i).contents().filter(function(){return this.nodeType===Node.TEXT_NODE&&(o=!0)}).each(function(){this.textContent=this.textContent.split(/\S/)[0]+t}),o||(s=document.createTextNode(t),r?$(i).prepend(s):$(i).append(s))}},hI.prototype.initAccessibilityExtender=function(){var s,o=this;ru.grid.accessibility&&(s=new ru.grid.accessibility.AccessibilityExtender(this.gridControl),this.gridControl.sortedColumn.addHandler(function(t,i){var e=i.panel,n=t.columns[i.col],r=o.sortingInfo(e,n);s.alert("column "+n.header+" sorted in "+(0===r.sortDirection?"ascending":"descending")+" order")}))},hI.prototype.applyCellSelectionStyle=function(t,i){var e,n,r=this,s=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t),o=!i.classList.contains(cf.groupClass)&&t.isSelected||!this.isMultiSelectionEnabled&&this.gridControl.selection.row==t.index;s&&(e=i.classList.contains(Pl.rowSelectedClass),o&&!e?i.classList.add(Pl.rowSelectedClass):!o&&e&&i.classList.remove(Pl.rowSelectedClass),bf.isUci()&&(n=o?this.theming.colors.maintheme.maincolor2.fill:"",this.applyAriaCheckBoxToTheCell(t,i,o),setTimeout(function(){r.setRowBackground(t.index,n)},10)),this.applyRowHeaderImage(t,i),bf.isUci()&&(this.applyAriaSelectedToSelectedRow(t,o),this.applyAriaSelectedToAllSelectedCells(t,o)))},hI.prototype.applyAriaSelectedToSelectedRow=function(t,i){var e=this;i||(this._applyAriaSelectedToSelectedRow(t,i),setTimeout(function(){e._applyAriaSelectedToSelectedRow(t,i)},0))},hI.prototype._applyAriaSelectedToSelectedRow=function(t,i){var e,n=this.gridControl&&this.gridControl.cells&&this.gridControl.cells.hostElement&&this.gridControl.cells.hostElement.children&&this.gridControl.cells.hostElement.children[t.index+1];n&&(n.hasAttribute("aria-selected")?(e=n.getAttribute("aria-selected"),i||"true"!==e?i&&"false"===e&&n.setAttribute("aria-selected","true"):n.setAttribute("aria-selected","false")):n.setAttribute("aria-selected",i?"true":"false"))},hI.prototype.applyAriaSelectedToAllSelectedCells=function(t,i){for(var e=this.gridControl.columns.length,n=1;n<e;++n){var r,s=this.gridControl.cells.getCellElement(t.index,n);s&&(s.hasAttribute("aria-selected")?(r=s.getAttribute("aria-selected"),i||"true"!==r?i&&"false"===r&&s.setAttribute("aria-selected","true"):s.setAttribute("aria-selected","false")):i?s.setAttribute("aria-selected","true"):s.setAttribute("aria-selected","false"))}},hI.prototype.applyAriaCheckBoxToTheCell=function(t,i,e){var n=this.containerService.getContainerId()+"row-aria-checkbox-"+t.index,r=i.hasAttribute("aria-selected"),s=i.getAttribute("aria-selected");r?"true"!==s||e?"false"===s&&e&&i.setAttribute("aria-selected","true"):i.setAttribute("aria-selected","false"):e?i.setAttribute("aria-selected","true"):i.setAttribute("aria-selected","false");var o,a,h,c=document.getElementById(n);i.children.length&&c?r?"true"!==(o=c.getAttribute("aria-checked"))||e?"false"===o&&e&&c.setAttribute("aria-checked","true"):c.setAttribute("aria-checked","false"):e?c.setAttribute("aria-checked","true"):c.setAttribute("aria-checked","false"):((c=document.createElement("div")).id=n,c.setAttribute(Pl.role,"checkbox"),e?c.setAttribute("aria-checked","true"):c.setAttribute("aria-checked","false"),a=t.index+1,h=MscrmCommon.ControlUtils.String.Format($l.rowSelectCheckboxLabel,a+1),c.setAttribute("aria-label",h),c.setAttribute("row-selection-checkbox","true"),i.appendChild(c))},hI.prototype.onHierarchyIconClick=function(t,i,e){var n=this,r={etn:t,id:i},s={pageType:"control",controlName:Pl.HierarchyControlName,data:r},o=[{name:"entityLogicalName",value:t},{name:"recordId",value:i}];this.navigationService.navigateTo(s).then(function(t){n.gridTelemetry.reportSuccess(n.telemetrySubComponentName+".onHierarchyIconClick",o)}).catch(function(t){n.gridTelemetry.reportFailure(n.telemetrySubComponentName+".onHierarchyIconClick",t,null,o)})},hI.prototype.applyHierarchyIcon=function(t,i,e){var n,r,s,o;t&&t.dataItem&&(0<t.dataItem[Pl.ChildCountAliasName]||this.lookupAttributeNameForHierarchicalRelationship&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.dataItem[this.lookupAttributeNameForHierarchicalRelationship]))?((n=document.createElement("button")).className=Pl.ccHierarchyIconCSSClass,n.setAttribute(Pl.tabIndex,"-1"),n.setAttribute(Pl.ariaLabel,$l.hierarchyButtonLabel),r=this.gridControl.getCellData(t.index,0,!1),n.onmousedown=this.onHierarchyIconClick.bind(this,t.dataItem[Pl.entityLogicalNameProperty],r),e.appendChild(n)):((s=document.createElement("div")).className=Pl.ccHierarchyIconEmptyDiv,s.setAttribute(Pl.role,"presentation"),o={row:t.index,col:1},s.hasAttribute(cf.cellIndexKey)||s.setAttribute(cf.cellIndexKey,o.toString()),e.hasAttribute(cf.cellIndexKey)||e.setAttribute(cf.cellIndexKey,o.toString()),e.appendChild(s))},hI.prototype.applyRowHeaderIconsAndImages=function(s,t){var o=this,a=document.createElement("div");a.className=Pl.ccRowHeaderIconContainerCSSClass,a.style.cssFloat=this.client.isRTL?"left":"right",a.setAttribute(Pl.role,"presentation"),a.style.marginRight=this.client.isRTL?void 0:"20px",a.style.marginLeft=this.client.isRTL?"20px":void 0;var i=!this.isEditable&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.lookupAttributeNameForHierarchicalRelationship);i&&this.applyHierarchyIcon(s,t,a);var h,e,n,r,c=!1;MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet.getCellImageInfo)||(h=this.gridControl.getCellData(s.index,0,!1),e=this.dataSetService.columns.find(function(t){return t.isPrimary&&!!t.imageProviderWebresource&&!!t.imageProviderFunctionName}),MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||(c=!0,n=Xrm.Utility.getGlobalContext().getUserLcid(),this.dataSetService.dataSet.getCellImageInfo(e.name,h,n).then(function(t){var i,e,n=null,r=null;t&&(n=t.Url,r=t.Tooltip),n&&o.gridControl.getCellData(s.index,0,!1)===h?((i=document.createElement("img")).src=n,r&&(i.alt=r,i.title=r),i.style.width="16px",i.style.height="16px",i.style.marginLeft=o.client.isRTL?void 0:"14px",i.style.marginRight=o.client.isRTL?"14px":void 0,a.appendChild(i)):((e=document.createElement("div")).className=Pl.ccConditionalImageEmptyDiv,e.style.marginLeft=o.client.isRTL?void 0:"14px",e.style.marginRight=o.client.isRTL?"14px":void 0,e.setAttribute(Pl.role,"presentation"),a.appendChild(e))}))),(i||c)&&(t.style.textAlign=this.client.isRTL?"right":"left",0===t.getElementsByClassName(Pl.ccRowHeaderIconContainerCSSClass).length&&(t.innerHTML="",t.appendChild(a)),r=this.gridControl.columns,i!==c?MscrmCommon.ControlUtils.Object.isNullOrUndefined(r[1])||(r[1].width=80):MscrmCommon.ControlUtils.Object.isNullOrUndefined(r[1])||(r[1].width=108))},hI.prototype.applyRowHeaderImage=function(r,s){var o,t,i,e,a=this;this.isEditable||!bf.isUCIDisruptiveFeatureEnabled(bf.getGridHierarchyIconFCB())?MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet.getCellImageInfo)||(o=this.gridControl.getCellData(r.index,0,!1),t=this.dataSetService.columns.find(function(t){return t.isPrimary&&!!t.imageProviderWebresource&&!!t.imageProviderFunctionName}),MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||(s.style.textAlign=this.client.isRTL?"right":"left",i=this.gridControl.columns,MscrmCommon.ControlUtils.Object.isNullOrUndefined(i[1])||(i[1].width=80,i[1].align=""),e=Xrm.Utility.getGlobalContext().getUserLcid(),this.dataSetService.dataSet.getCellImageInfo(t.name,o,e).then(function(t){var i,e=null,n=null;t&&(e=t.Url,n=t.Tooltip),s.innerHTML="",e&&a.gridControl.getCellData(r.index,0,!1)===o&&((i=document.createElement("img")).src=e,n&&(i.alt=n,i.title=n),i.style.marginTop="2px",i.style.width="16px",i.style.height="16px",i.style.cssFloat=a.client.isRTL?"left":"right",a.isGridHighDensityEnabled&&(a.client.isRTL?i.style.marginLeft="20px":i.style.marginRight="20px",i.style.marginTop="10px"),s.appendChild(i))}))):this.applyRowHeaderIconsAndImages(r,s)},hI.prototype.switchNoRecordsLabelVisibility=function(){var o=this;!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.itemsSource)&&0<this.gridControl.itemsSource.itemCount&&!this.dataSetService.dataSet.hasError?(this.noRecordsDiv.style.display="none",this.noRecordsDiv.parentElement.style.overflow="hidden"):MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.noRecordsDiv)||(bf.isUci()?(this.noRecordsDiv.style.display="block",this.noRecordsDiv.parentElement.style.overflow="auto",this.gridColumnHeaders&&this.gridColumnHeaders.hostElement&&this.gridColumnHeaders.hostElement.parentElement&&(this.gridColumnHeaders.hostElement.parentElement.style.overflow="visible"),this.gridRoot&&this.gridRoot.parentElement&&(this.gridRoot.parentElement.style.overflow="visible"),0!==this.noRecordsDebounce&&window.cancelAnimationFrame(this.noRecordsDebounce),this.noRecordsDebounce=window.requestAnimationFrame(function(){function t(){o.noRecordsDebounce=0;var t={fontSize:(o.noRecordsDiv.clientHeight<240?2:4.5)+"em",lineHeight:"100%",paddingBottom:"10px"},i={top:o.hideNestedGridColumnHeader==Lw.Yes?0:Pl.firstRowHeight+"px",bottom:0,left:0,width:"100%",height:0,margin:"auto",position:"absolute",verticalAlign:"middle",textAlign:"center",color:o.theming.colors.basecolor.grey.grey5,fontSize:o.theming.fontsizes.sfontsize,fontFamily:o.theming.fontfamilies.regular},e=Cf.getDesignBag();e.ListItemBackGroundColor&&(i.backgroundColor=e.ListItemBackGroundColor);var n={};e.ListItemTextColor&&(t.color=e.ListItemTextColor),o.dataSetService.dataSet.hasError&&(t.color=e.ErrorTextColor||"red");var r=o.dataSetService.dataSet.hasError?{text:o.dataSetService.dataSet.errorMessage,icon:188,containerStyle:i,iconStyle:t,textStyle:n}:{text:$l.noRecordsText,icon:91,accessibilityHidden:!0,containerStyle:i,iconStyle:t,textStyle:n},s=o.factory.createElement("PLACEHOLDER",r);o.utils.bindDOMElement(s,o.noRecordsDiv)}lm(o.gridControl)?o.noRecordsDebounce=window.requestAnimationFrame(t):t()})):this.noRecordsDiv.style.display="block")},hI.prototype.saveButtonAction=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService)||this.dataSetService.beginRecordSave()},hI.prototype.getHiddenHeaderSelectAllButtonLabel=function(){return this.selectedRows.length?$l.deselectAllButtonAccessibilityLabel:$l.selectAllButtonAccessibilityLabel},hI.prototype.updateHiddenHeaderSelectAllButtonLabel=function(){var t;this.hiddenHeaderSelectAllButton&&(t=this.getHiddenHeaderSelectAllButtonLabel(),this.hiddenHeaderSelectAllButton.textContent=t)},hI.prototype.updateHiddenHeaderLiveRegion=function(){var t;this.hiddenHeaderLiveRegion&&(t=this.selectedRows.length?$l.selectAllLiveRegionContent:$l.deselectAllLiveRegionContent,this.hiddenHeaderLiveRegion.textContent=t)},hI.prototype.selectAllButtonAction=function(){hI.selectAllOrNothing(this),this.updateHiddenHeaderSelectAllButtonLabel(),this.updateHiddenHeaderLiveRegion()},hI.prototype.refreshButtonAction=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet)||(this.updateStatusArea(CA.Refresh),this.dataSetService.dataSet.refresh())},hI.prototype.selectLastColumnHeader=function(){var t=this.getColumnIndex(Pl.btnHeaderColumnName),i=this.gridColumnHeaders.getCellElement(this.gridColumnHeaders.rows.length-1,t-1);MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(this.focusElement(i),event.preventDefault())},hI.prototype.selectFirstRowLastDataColumn=function(){var t=this.dataSetService.columns.length,i=this.gridControl.cells.getCellElement(0,t);this.gridControl.hostElement.focus(),this.focusElement(i),this.gridControl.select(0,t),event.preventDefault()},hI.prototype.createHeaderButton=function(t,i,e,n,r){void 0===r&&(r=!1);var s=document.createElement("button");return s.title=t,s.classList.add(Pl.headerBtnClass),s.classList.add(i),s.addEventListener(Pl.eventMouseDown,e),s.addEventListener(cf.eventKeyDown,n),s.disabled=r,this.isGridHighDensityEnabled&&(s.style.fontSize="12px"),s},hI.prototype.enableKeyboardSupport=function(){this.hasKeyboardSupport=!0},hI.prototype.hideColumns=function(t,i){var e=this;MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.columns)||t.forEach(function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.gridControl.columns.getColumn(t))||(e.gridControl.columns.getColumn(t).visible=!i)})},hI.prototype.isOfflineFeatureAvailable=function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.client.isOffline)&&this.client.isOffline()&&this.offline&&this.offline.isOfflineEnabled(this.mode.contextInfo.entityTypeName)},hI.prototype.clearNativeFilterExpressionToRestore=function(){this.nativeFilterExpressionToRestore=null},hI);function hI(t,i,e,n,r,s,o,a,h,c,u,l,f,d,A,g,w,m,p,v,b,E){var B=this;this.isControlDisabled=!1,this.hideNestedGridColumnHeader=Lw.No,this.raiseClickEvent=function(t){return B.clickEvent.raise(B,t)},this.raiseDblClickEvent=function(t){return B.dblClickEvent.raise(B,t)},this.raiseMouseDownEvent=function(t){return B.mouseDownEvent.raise(B,t)},this.raiseMouseMoveEvent=function(t){return B.mouseMoveEvent.raise(B,t)},this.raiseMouseLeaveEvent=function(t){return B.mouseLeaveEvent.raise(B,t)},this.raiseKeyDownEvent=function(t){return B.keyDownEvent.raise(B,t)},this.raiseTouchStartEvent=function(t){return B.touchStartEvent.raise(B,t)},this.raiseTouchEndEvent=function(t){return B.touchEndEvent.raise(B,t)},this.raiseTouchMoveEvent=function(t){return B.touchMoveEvent.raise(B,t)},this.highlightedRow=-1,this.hasKeyboardSupport=!1,this.noRecordsDebounce=0,this.filterDisabledColumns=[Pl.btnHeaderColumnName,Pl.btnHeaderSelectColumnName],this.telemetrySubComponentName="WijmoGridComponent",this.handleHighlightRecordMouseMove=function(t,i){var e,n=B.hitTest(i),r=n.cellType===ru.grid.CellType.Cell,s=n.cellType===ru.grid.CellType.RowHeader&&0==n.col;r||s?(B.highlightedRow!==n.row&&B.hideHighlightedRow(),bf.isUci()&&B.isRowSelected(n.row)||(B.highlightedRow=n.row,e=bf.isUci()?B.theming.colors.basecolor.grey.grey3:Pl.gridRowHoverColor,B.setRowBackground(B.highlightedRow,e))):B.hideHighlightedRow()},this.handleHighlightRecordMouseLeave=function(t,i){B.hideHighlightedRow()},this.onCollectionChangedEventHandler=function(t,i){B.collectionChangedEvent.hasHandlers&&B.collectionChangedEvent.raise(B,ru.EventArgs.empty)},this.defaultDropDownSelectedIndexChangeHandler=function(){var t,i,e=B.gridControl.activeEditor;MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||(e.value=B.gridControl._edtHdl._lbx.selectedValue,t=B.gridControl.columns[B.selection.col],i=MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?MscrmCommon.ControlUtils.String.Empty:t.header,B.ariaLiveRegionService.sendPoliteCellValueMessage(B.activeListBox.getDisplayText(B.activeListBox.selectedIndex),i))},this.defaultDropDownKeydownHandler=function(t){var i;PA.isKeyCode(t,Pl.kbArrowUpCode)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeEditor)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeListBox)||(i=B.activeListBox.itemsSource.length,B.activeListBox.selectedIndex=(B.activeListBox.selectedIndex-1+i)%i,PA.stopEventPropagation(t))),PA.isKeyCode(t,Pl.kbArrowDownCode)&&(t.altKey?MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeListBox)&&B.toggleDropDown(B.selection):MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeEditor)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeListBox)||(i=B.activeListBox.itemsSource.length,B.activeListBox.selectedIndex=(B.activeListBox.selectedIndex+1)%i),PA.stopEventPropagation(t))},this.displayCellEditErrorHandler=function(t,i){var e,n,r,s,o,a;t.panel.cellType===ru.grid.CellType.Cell&&(e=t.panel.grid.getCellData(t.row,0,!1),n=t.col===bf.firstInformativeColumnIndex,r=0,!(s=B.errorHandlingService.getCellEncodedErrorMessage(e,i.binding,n))&&n&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&(s=B.errorHandlingService.getValidServerErrorMessage(e),r=B.errorHandlingService.getValidServerErrorCode(e)),MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(s)||(ru.setAttribute(t.cell,Pl.ariaInvalid,!0),o=document.createElement("div"),t.cell.insertBefore(o,t.cell.firstChild),ru.toggleClass(o,cf.errorIndicatorCSSClass,!0),bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&o.style.setProperty(B.client.isRTL?"margin-left":"margin-right","7px"),bf.isDupDetectionScenario(r)&&(o.setAttribute("role","button"),o.setAttribute("aria-label",$l.openMangeDuplicatesDialog)),a=t.cell.id+Pl.cellErrorMessagePostfix,MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.getElementById(a))&&bf.createCellAccessibilityMessage(s,t.cell,a).setAttribute(Pl.role,"alert"),o.addEventListener(Pl.eventMouseDown,function(t){var i;!B.client.isOffline()&&bf.isDupDetectionScenario(r)?new Promise(function(t,i){B.utils.fireEvent(bf.OPEN_DUPLICATE_DETECTION_DIALOG,{entityReference:B.dataSetService.getRecordEntityReference(e),resolve:t,reject:i})}).catch(function(){B.dataSetService.beginRecordSave(!1,!0,e)}):((i=new ru.Tooltip).isContentHtml=!0,PA.stopEventPropagation(t),i.popup.addHandler(function(){B.ariaLiveRegionService.sendAssertiveMessage(s)}),i.show(o,s))})))},this.cellEditorHandler=function(t,i,e,n){var r,s=B.gridControl.editRange,o=B.validations[i.binding];if(!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.attributes)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)||t.panel.cellType!==ru.grid.CellType.Cell||s.row!==t.row||s.col!==t.col))if(!0===mm.isUCIWithDependentOptionSetFeatureEnabledColumn(e)&&null!==e.attributes.parentPicklistLogicalName&&(r=t.panel.grid.getCellData(t.row,0,!1),i.dataMap.getDisplayValues=function(t){return mm.getFilteredChildrenOptionLabels(e,r,B.dataSetService,i)}),B.typeProcessorService.useOriginalEditor(e)){var a=$w.getOriginalEditor(t.cell);Object.keys(o).forEach(function(t){a.setAttribute(t.toString(),o[t])}),B.hasKeyboardSupport&&!$w.isCustomDropDownEditorColumn(i,e)&&a.addEventListener(cf.eventKeyDown,B.defaultDropDownKeydownHandler)}else{$w.hideOriginalEditor(t.cell);var h,c,u=t.panel.grid.getCellData(t.row,t.col,!1),l=i.dataType,f=e.attributes.format,d=e.attributes.type,A=e.dataType;switch(l){case ru.DataType.Date:new sw(B.gridControl,t,u,f,e.attributes.behavior,B.timeZoneService,n.dateFormattingInfo);break;case ru.DataType.Number:d===sf.whole&&MscrmCommon.ControlUtils.String.EqualsIgnoreCase(f,sf.formatDuration)?new lw(B.gridControl,t,u,B.client):bf.isWholeOptionSet(e)?new Rw(B.gridControl,t,e,u,B.ariaLiveRegionService):(h=null,c=B.dataSetService.dataSet.getSelectedRecord(),bf.isUci()?h=c.getCurrencyDecimalPrecision(e.name):d!==sf.currency||MscrmCommon.ControlUtils.Object.isNullOrUndefined(c)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(c.getCurrencyDecimalPrecision)||(h=c.getCurrencyDecimalPrecision(e)),new yw(B.gridControl,t,B.numberEditorKeyboardValue||u,i,o,h));break;case ru.DataType.String:switch(d){case sf.twoOptions:new nw(B.gridControl,t,u,e,B.ariaLiveRegionService);break;case sf.multiple:new Iw(B.gridControl,t,u,i,f,o);break;case sf.singleLine:MscrmCommon.ControlUtils.String.EqualsIgnoreCase(f,sf.formatTextArea)&&new Iw(B.gridControl,t,u,i,f,o)}break;case ru.DataType.Array:switch(d){case sf.multiSelectOptionset:var g=t.panel.grid.getCellData(t.row,0,!1),w=B.getDataForMultiSelectPickListEditor(i,g),m=bf.isDesktop(B.client.formFactor);new Cw(B.gridControl,t,w,m,B.isControlDisabled)}break;case ru.DataType.Object:MscrmCommon.ControlUtils.String.EqualsIgnoreCase(A,sf.dataTypeLookupSimple)&&new Ew(t,u,i,new Ow(B.perfTool),B.dataSetService.dataSet,B.htmlEncode,B.navigationService,B.ariaLiveRegionService,B.perfTool)}}},this.openFilterEditorHandler=function(t,i){var e=new ru.grid.HitTestInfo(i.target,null),n=B.isEditable?2:1;if(-1===e.row&&1<e.col&&e.col<=B.columns.length-n&&!i.shiftKey&&!i.altKey&&!i.metaKey&&(i.keyCode===Pl.kbSpaceCode||i.keyCode===Pl.kbEnterCode)){if(B.isGridNewFilterEnabled){var r=B.getColumnName(e.col),s="#"+bf.getHeaderId(B.containerService.getContainerId(),r),o=i.currentTarget&&i.currentTarget.querySelector(s)&&i.currentTarget.querySelector(s).firstElementChild;return void(o&&o.click())}i.preventDefault(),i.stopImmediatePropagation(),B.openFilterEditor(e.col)}},this.focusColumnHeaderHandler=function(t){var i=new ru.grid.HitTestInfo(t.target,null),e=B.gridColumnHeaders.getCellElement(0,i.col);B.client&&B.client.userAgent&&B.client.userAgent.isBrowserIE?ru.setCss(e,{border:"dotted 1px"}):ru.setCss(e,{outline:"dotted 1px",outlineOffset:"-1px"})},this.blurColumnHeaderHandler=function(t){var i=new ru.grid.HitTestInfo(t.target,null),e=B.gridColumnHeaders.getCellElement(0,i.col);B.client&&B.client.userAgent&&B.client.userAgent.isBrowserIE?ru.setCss(e,{border:"none"}):ru.setCss(e,{outline:"none"})},this.applyAriaLabelsToRows=function(){var t=B.cells.hostElement.querySelectorAll("[role=row]");if(t&&t.length)for(var i=0;i<t.length;i++){var e=t[i];e&&!e.hasAttribute("aria-label")&&e.setAttribute("aria-label",0===i?$l.gridHeaderRowText:$l.gridDataRowText)}},this.updatedViewHandler=function(){var t=B.cells.hostElement.querySelectorAll("[role=columnheader]"),i=lm(B.gridControl)?cf.defaultMinRowHeight:B.gridControl.columnHeaders.hostElement.parentElement.offsetHeight,e=B.gridControl.scrollPosition.y,n=B.gridColumnHeaders,r=B.gridColumnHeaders.hostElement;B.isGridHighDensityEnabled?r&&bf.userSettings.isHighContrastEnabled&&ru.setCss(r,{border:"1px solid transparent"}):r&&ru.setCss(r,{border:"1px solid transparent"});var s=n.hostElement.parentElement;s&&(s.hasAttribute(Pl.role)||(s.setAttribute(Pl.role,"presentation"),Cf.getDesignBag().HeaderBackgroundColor&&(s.style.backgroundColor=Cf.getDesignBag().HeaderBackgroundColor)));for(var o=0;o<t.length;o++){ru.setCss(t[o],{position:"",top:-(e+i),height:i,opacity:0,pointerEvents:"auto"});var a,h,c,u=t[o];bf.isUci()&&bf.isDesktop(B.client.formFactor)&&(a=B.containerService.getContainerId()+"-"+Pl.FilterHasBeenApplied,h=B.containerService.getContainerId()+"-"+Pl.SortAndFilterInstruction,0!==o&&o<B.gridControl.columns.length-1&&(t[o].setAttribute("title",B.gridControl.columns[o+1].header),u.setAttribute(Pl.ariaDescribedBy,h),c=B.getColumnName(o+1),B._filtering&&B._filtering.getFilter(c)&&u.setAttribute(Pl.ariaDescribedBy,h+" "+a)));var l=u.querySelector("button");l?(l.addEventListener("focus",B.focusColumnHeaderHandler),l.addEventListener("blur",B.blurColumnHeaderHandler)):(u.setAttribute("tabIndex","0"),u.addEventListener("focus",B.focusColumnHeaderHandler),u.addEventListener("blur",B.blurColumnHeaderHandler)),B.isEditable&&o==t.length-1&&B.gridControl.viewRange.col2==B.gridControl.columns.length-1&&u.setAttribute("tabIndex","-1")}B.applyAriaLabelsToRows(),B.applyAriaColIndexAndCountToColumns(),B.applyAriaRowCount(),B.gridRoot&&(B.gridRoot.style["-ms-overflow-style"]="scrollbar")},this.formatCellDisplayValue=function(t,i){var e;i.isVisible&&(t.panel.cellType!==ru.grid.CellType.Cell||!MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.gridControl.activeEditor)&&t.cell===B.gridControl.activeEditor.parentElement||(e=B.gridControl.getCellData(t.row,0,!1),MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||B.formatDisplayValue(B.dataSetService.records[e],e,t,i)))},this.applyCellStyleFormat=function(t,i){var e;0<=i.row&&1===i.col&&B.gridControl.columnHeaders!=i.panel&&(e=B.gridControl.rows[i.row],i.cell.setAttribute(Pl.rowHeaderRowNumber,i.row.toString()),e instanceof ru.grid.GroupRow?(e.isSelected=!1,i.cell.classList.add(Pl.groupHeaderCellClass)):i.cell.classList.add(Pl.appBarClass),B.applyRowIndexToRows(e,i.cell),B.applyCellSelectionStyle(e,i.cell),i.cell.removeAttribute("aria-readonly"),i.cell.removeAttribute("aria-required")),i.cell.classList.contains(cf.headerCSSClass)||(i.cell.setAttribute(Pl.dataId,"cell-"+i.row+"-"+i.col),i.cell.setAttribute(Pl.cellId,B.containerService.getContainerId()+"-id-cell-"+i.row+"-"+i.col),bf.isSelectAllBtnHeaderColumn(B.getColumnName(i.col))&&B.cells&&B.cells.hostElement&&B.cells.hostElement.firstElementChild&&B.cells.hostElement.firstElementChild.firstChild&&B.cells.hostElement.firstElementChild.firstChild.removeAttribute("aria-required"))},this.applyNonSelectableCellStyleFormat=function(t,i){i.cell.setAttribute(Pl.tabIndex,"-1")},this.applyColumnHeaderFormat=function(r,s){var o,t,i,e,n,a,h,c,u,l=s.panel;l.cellType===ru.grid.CellType.ColumnHeader&&(B.setHeaderRowIndexToOne(s.cell),o=s.col,t=B.getColumnName(o),i=r.getColumn(t),s.cell.id=B.containerService.getContainerId()+"-"+t,s.cell.setAttribute("data-id",t),s.cell.title=s.cell.textContent,e=bf.contextUtils.crmHtmlEncode(s.cell.textContent),s.cell.id!==B.containerService.getContainerId()+"-"+Pl.btnHeaderSelectColumnName?bf.isUci()?B.isGridNewFilterEnabled?B.applyNewHeaderStyle(s):(n=B.theming.colors.basecolor.blue.blue4,c=h=a="",B.isGridHighDensityEnabled&&(n=Cf.getDesignBag().HeaderTextColor||Pl.HighDensityFontColor,a=";font-size:12px",h=l&&l.grid&&l.grid.rightToLeft?";padding:0px;top:1px;float:left;margin-left:10px;":";padding:0px;top:1px;float:right;margin-right:14px;",c=";width: calc(100% - 36px);"),B.isEditable&&B.columnHasFilter(l.columns[s.col])?(s.cell.innerHTML='<div class="grid-filter-button-container" style="color:'+n+a+h+'; opacity: 1">',s.cell.innerHTML+='<div class="headerCaption" style= "color:'+n+a+c+'; opacity: 1;">'+e+"</div>"):s.cell.innerHTML='<div class="headerCaption" style= "color:'+n+a+c+'; opacity: 1">'+e+"</div>",B.isEditable||!i.allowSorting||B.isGridNewFilterEnabled||(s.cell.innerHTML='<div class="grid-filter-button-container" style="color:'+n+a+h+'"></div><div class="grid-header-text" style="color:'+n+a+c+'">'+e+"</div>",B.isGridHighDensityEnabled||(s.cell.innerHTML+='<div class="columnSeparator">&nbsp;</div>'))):s.cell.innerHTML='<div class="headerCaption">'+e+"</div>":(s.cell.addEventListener(Pl.eventMouseDown,B.selectAllButtonMouseHandler),B.updateHiddenSelectAllHeader(s)),B.hasKeyboardSupport&&!B.isGridNewFilterEnabled&&s.cell.addEventListener(cf.eventKeyDown,function(t){var i,e,n;t.ctrlKey||t.shiftKey||t.altKey||t.metaKey||PA.isKeyCode(t,Pl.kbTabCode)||((PA.isKeyCode(t,Pl.kbSpaceCode)||PA.isKeyCode(t,Pl.kbEnterCode))&&s.cell.id!==B.containerService.getContainerId()+"-"+Pl.btnHeaderSelectColumnName?(i=new ru.grid.CellRangeEventArgs(s.panel,new ru.grid.CellRange(s.row,o)),B.sortingColumn.raise(r,i)):PA.isKeyCode(t,Pl.kbArrowDownCode)?(e=B.gridControl.cells.getCellElement(0,o),B.focusElement(e),B.gridControl.select(0,o),t.preventDefault()):PA.isKeyCode(t,Pl.kbArrowLeftCode)?(n=B.gridColumnHeaders.getCellElement(B.gridColumnHeaders.rows.length-1,o-1),MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(B.focusElement(n),t.preventDefault())):PA.isKeyCode(t,Pl.kbArrowRightCode)&&(n=B.gridColumnHeaders.getCellElement(B.gridColumnHeaders.rows.length-1,o+1),MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(B.focusElement(n),t.preventDefault())))}),(u=document.createElement("div")).className="columnSeparator",B.isGridHighDensityEnabled&&(u.style.setProperty("border-right","1px solid "+(Cf.getDesignBag().HeaderDividerColor||"#C4C4C4"),"important"),u.style.height="20px",u.style.opacity="1",u.innerHTML="&nbsp;"),s.cell.appendChild(u))},this.applyEditableGridButtonsAreaHeader=function(t){var i,e=$(B.gridControl.hostElement).find('div[wj-part="ch"]');0!==e.length&&0===e.children(MscrmCommon.ControlUtils.String.Format(".{0}",Pl.headerButtonsClass)).length&&((i=document.createElement("div")).classList.add(Pl.headerButtonsClass),MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.saveBtn)||(i.appendChild(B.saveBtn),e[0].removeAttribute("aria-hidden")),!bf.isUci()&&bf.isDesktop(t)&&i.appendChild(B.refreshBtn),B.isGridHighDensityEnabled&&(i.style.height="35px"),Cf.getDesignBag().HeaderBackgroundColor&&(i.style.backgroundColor=Cf.getDesignBag().HeaderBackgroundColor),e.append(i))},this.applySelectAllButtonAreaHeader=function(t,i){if(i.cellType===ru.grid.CellType.ColumnHeader&&0==i.cell.children.length){if(i.cell.title=MscrmCommon.ControlUtils.String.Empty,i.cell.innerText=MscrmCommon.ControlUtils.String.Empty,0!==$(i.cell).children(MscrmCommon.ControlUtils.String.Format(".{0}",Pl.headerButtonsLeftClass)).length)return;var e=document.createElement("div");e.classList.add(Pl.headerButtonsLeftClass),MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.selectAllBtn)||(B.selectAllBtn.tabIndex=-1,e.appendChild(B.selectAllBtn)),$(i.cell).append(e)}},this.fixWordWrapColumnHeaderStyle=function(t){t.panel.cellType===ru.grid.CellType.ColumnHeader&&ru.toggleClass(t.cell,cf.wordWrapCSSClass,!1)},this.applyNewHeaderStyle=function(t){var i=t.panel;if(i.cellType===ru.grid.CellType.ColumnHeader){var e,n,r,s=t.col,o=B.getColumnName(s),a=i.columns[s],h=bf.getDatasetColumnByName(B.dataSetService.columns,o);if(h){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.dataType))switch(a.dataType){case ru.DataType.String:e=h.attributes.options?"enum":"string";break;case ru.DataType.Date:e="date";break;case ru.DataType.Number:e="number";break;case ru.DataType.Array:e="enum";break;case ru.DataType.Boolean:e="boolean";break;default:e="object","owner"===h.attributes.type&&(e="owner")}if(bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB()))switch(h.dataType){case sf.dataTypeWholeLanguage:e="integer",n="Language",r=B.getLanguagesMap(h.attributes);break;case sf.dataTypeMultiselectoptionset:e="flags"}var c=B.sortingInfo(i,a);B._filtering&&B._filtering.setFilter(B._getNativeFilterExpressionToRestoreForColumn(o));var u=new vm({headerText:t.cell.textContent,columnDataType:e,index:a.index,columnName:o,attributeDataType:h.attributes.type,isSortingAllowed:a.allowSorting,sortDirection:c?c.sortDirection:void 0,isFilteringAllowed:B._isFilteringAllowedForColumn(h.dataType,o),options:h.attributes.Options?h.attributes.Options.map(function(t){return{formattedValue:t.Label,value:t.Value}}):null,specialApplicableTarget:B._getSpecialApplicableTarget(h.attributes),targets:h.attributes&&h.attributes.targets,format:n,languagesMap:r,dialogOnTop:bf.getParameterValue(Pl.headerDialogOnTop),preventDismissOnScroll:bf.getParameterValue(Pl.headerDialogPreventDismissOnScroll),client:B.client},B.dataSetService,B._filtering,B._sorting,B.theming,B.client.isRTL,B.gridTelemetry,B._restoreFocusToColumnHeader.bind(B)),l=document.createElement("div");l.id=bf.getHeaderId(B.containerService.getContainerId(),o),C.render(P.createElement(sI,u.getProps()),l);var f,d=B.hiddenGridColumnHeaders[t.col-1];d&&a.header===t.cell.title&&a.allowSorting&&(f=document.createElement("button"),bf.isSelectAllBtnHeaderColumn(o)||(f.setAttribute("aria-haspopup","menu"),f.setAttribute("aria-expanded","false")),f.style.width="100%",f.style.height="100%",f.addEventListener(Pl.eventMouseClick,function(){var t=l.querySelector("div");t&&t.click()}),f.textContent=d.textContent,d.textContent=null,d.style.padding="0px",d.setAttribute("tabindex","-1"),d.removeAttribute("aria-describedby"),d.removeAttribute("title"),d.appendChild(f)),t.cell.innerHTML="",t.cell.appendChild(l)}}},this._getSpecialApplicableTarget=function(t){var i;return t.targets&&(-1!==t.targets.indexOf("systemuser")?i="systemuser":-1!==t.targets.indexOf("businessunit")&&(i="businessunit")),i},this._isFilteringAllowedForColumn=function(t,i){return!(bf.metadataContext&&bf.metadataContext.client&&bf.metadataContext.client.isOffline()||MscrmCommon.ControlUtils.String.EqualsIgnoreCase(t,sf.dataTypeLookupPartyList)||MscrmCommon.ControlUtils.String.EqualsIgnoreCase(t,sf.entityName)||bf.shouldColumnFilterBeDisabled(i))},this.applyColumnHeaderSortingStyle=function(t){var i,e,n,r,s,o,a,h,c,u,l,f,d=t.panel;d.cellType===ru.grid.CellType.ColumnHeader&&(i=d.columns[t.col],(e=B.sortingInfo(d,i))&&(B.isGridNewFilterEnabled||(n="",0==e.sortDirection?(ru.toggleClass(t.cell,"wj-sort-asc",!0),n="wj-glyph-up"):1==e.sortDirection&&(ru.toggleClass(t.cell,"wj-sort-desc",!0),n="wj-glyph-down"),r=B.htmlEncode(i.header),s="",o=h=bf.isUci()?"color:"+B.theming.colors.basecolor.blue.blue4+"; opacity: 1;":"",c=u="",B.isGridHighDensityEnabled&&(a=Cf.getDesignBag().SortFilterIconColor||"black",h="color:"+(Cf.getDesignBag().HeaderTextColor||Pl.HighDensityFontColor)+";opacity: 1;font-size:12px;",c="width: calc(100% - 46px);",u=d.grid.rightToLeft?(o="color:"+a+";left:32px;opacity: 1;font-size:12px",c+="float:left;","padding:0px;top:1px;float:left;margin-left:14px;"):(o="color:"+a+";right:7px;opacity: 1;font-size:12px","padding:0px;top:1px;float:right;margin-right:14px;")),l=B.columnHasFilter(i.binding),B.gridFilter&&l&&(s+='<div class="grid-filter-button-container" style="'+h+u+'"></div>'),s+='<div class="grid-header-text" style="'+h+c+'">'+r+"</div>",s+='<div class="'+n+'" style="'+o+'"></div>',s+=B.getColumnSeparator(),t.cell.innerHTML=s),(f=B.hiddenGridColumnHeaders&&B.hiddenGridColumnHeaders[t.col-1])&&f.setAttribute(Pl.ariaSort,0===e.sortDirection?"ascending":"descending")))},this.applyRollupColumnsFormat=function(t,i){var e,n,r,s,o,a,h;i.panel.cellType===ru.grid.CellType.Cell&&(e=i.panel.columns[i.col],0<=B.dataSetService.rollupColumns.indexOf(e.binding)&&0===(n=i.cell).getElementsByTagName("div").length&&(r=i.panel.rows[i.row],s=new MscrmCommon.ArrayQuery(B.dataSetService.columns).firstOrDefault(function(t){return t.name===e.binding}),o=B.typeProcessorService.getValue(B.dataSetService.records[r.dataItem.recId],s,e.binding+"_date",!0),MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)||(a=MscrmCommon.ControlUtils.String.Format("{0} {1}",$l.rollupLastUpdatedLabel,o),!bf.isUci()&&bf.isDesktop(B.client.formFactor)?((h=document.createElement("span")).title=a,h.className=Pl.rollupIconClass,n.insertBefore(h,n.firstChild)):((h=document.createElement("div")).textContent=a,h.className=Pl.rollupDateClass,n.appendChild(h)))))},this.applyFilterButtonStyles=function(){for(var t=B.gridColumnFilterButtons,i=0;i<t.length;i++)B.isGridNewFilterEnabled?(t[i].style.display="none",t[i].setAttribute("role","presentation")):(t[i].style.position="relative",t[i].style.cssFloat=B.client.isRTL?"left":"right",B.isGridHighDensityEnabled&&(t[i].style.fontSize="12px",t[i].style.height="35px"))},this.beginningEditHandler=function(t,i){var e,n;i.cancel||(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.saveBtn)||(B.saveBtn.disabled=!1),e=i.data,B.numberEditorKeyboardValue=null,e&&e instanceof KeyboardEvent&&e.charCode&&!e.ctrlKey&&!e.metaKey&&(n=String.fromCharCode(e.charCode),B.numberEditorKeyboardValue="0"<=n&&n<="9"?+n:n))},this.prepareCellForEditHandler=function(t,i){var e=B.gridControl.cells.getCellElement(i.row,i.col);e.style.paddingTop="0px",e.style.paddingBottom="0px";var n=e.lastChild;B.client.isRTL?(n.style.paddingRight="10px !important",n.style.paddingLeft="3px"):n.style.paddingRight="3px",n.style.background="white";var r=e.getElementsByClassName(cf.errorIndicatorCSSClass);r&&1==r.length&&(r[0].style.display="none")},this.cellEditEndingHandler=function(t,i){var h=B.getCellData(i.row,i.col,!1),c=i.panel.grid.getCellData(i.row,0,!1),u=i.panel.columns[i.col].binding,l=i.panel.columns[i.col].dataType;B.cellEditEnded.addHandler(i.cancel?function t(i,e){B.cellEditEnded.removeHandler(t),B.onCellEditProcessed(e)}:function t(i,e){B.cellEditEnded.removeHandler(t);var n,r,s,o,a=e.panel.grid.getCellData(e.row,e.col,!1);MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.dataSetService.records[c])||(n=h===a,r=null==h&&null==a,l==ru.DataType.Array&&(n=B.compareArrayValues(a,h)),n||r||(s=new MscrmCommon.ArrayQuery(B.dataSetService.columns).firstOrDefault(function(t){return t.name===u}),o=B.typeProcessorService.buildDatasetValue(s.attributes.type,s,a),B.dataSetService.submitValue(c,u,o))),B.onCellEditProcessed(e)})},this.focusElement=function(t){t&&(t.tabIndex=0,t.focus())},this.saveButtonMouseHandler=function(t){B.saveButtonAction()},this.saveButtonKeyboardHandler=function(t){(PA.isKeyCode(t,Pl.kbEnterCode)||PA.isKeyCode(t,Pl.kbSpaceCode))&&(B.saveButtonAction(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.refreshBtn)?B.selectLastColumnHeader():B.refreshBtn.focus()),PA.isKeyCode(t,Pl.kbArrowDownCode)&&B.selectFirstRowLastDataColumn(),PA.isKeyCode(t,Pl.kbArrowRightCode)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.refreshBtn)||B.refreshBtn.focus()),PA.isKeyCode(t,Pl.kbArrowLeftCode)&&B.selectLastColumnHeader()},this.selectAllButtonMouseHandler=function(t){B.selectAllButtonAction()},this.refreshButtonMouseHandler=function(t){B.refreshButtonAction()},this.refreshButtonKeyboardHandler=function(t){(PA.isKeyCode(t,Pl.kbEnterCode)||PA.isKeyCode(t,Pl.kbSpaceCode))&&B.refreshButtonAction(),PA.isKeyCode(t,Pl.kbArrowDownCode)&&B.selectFirstRowLastDataColumn(),PA.isKeyCode(t,Pl.kbArrowLeftCode)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.saveBtn)||B.saveBtn.disabled?B.selectLastColumnHeader():B.saveBtn.focus())},this.cleanupAttributes=function(t){var i=B.gridControl.cells.getCellElement(0,bf.firstInformativeColumnIndex);B.gridControl.selection&&B.gridControl.selection.isValid&&(i=B.gridControl.cells.getCellElement(B.gridControl.selection.row,B.gridControl.selection.col)),i&&(i.tabIndex=0);var e=t.hostElement.querySelector("[wj-part=focus]");e&&e.removeAttribute("tabindex")},this.sortingInfo=function(t,i){for(var e=B.dataSetService.dataSet.sorting,n=0;n<e.length;++n)if(e[n].name===i.binding)return e[n];return null},this.gridControl=t,this.utils=i,this.client=e,this.offline=n,this.mode=r,this.containerService=s,this.typeProcessorService=o,this.timeZoneService=a,this.errorHandlingService=h,this.dataSetService=c,this.dataAdapterService=u,this.htmlEncode=l,this.navigationService=f,this.ariaLiveRegionService=A,this.learningPathService=g,this.fieldFactory=w,this.factory=v,this.utils=i,this.validations={},this.collectionChangedEvent=new ru.Event,this.cellEditProcessedEvent=new ru.Event,this.theming=d,this.msosDataMaps={},this.perfTool=m,this.gridTelemetry=p,this.nativeFilterExpressionToRestore=b,this.lookupAttributeNameForHierarchicalRelationship=E}(rI=nI={})[rI.No=0]="No",rI[rI.Yes=1]="Yes",rI[rI.Unknown=2]="Unknown";var cI=(uI.prototype.add=function(t,i){this.dependencyObject[t]=i},uI.prototype.getService=function(t){return this.dependencyObject[t]},uI.prototype.getAllCurrentRecords=function(){for(var t={},i=0,e=this.gridFeatures;i<e.length;i++){var n=e[i].getCurrentRecord();null!==n&&(t[n.name]=n.value)}return t},Object.defineProperty(uI.prototype,"gridFeatures",{get:function(){return this.getService(cA.gridFeatures)},enumerable:!1,configurable:!0}),Object.defineProperty(uI.prototype,"gridComponent",{get:function(){return this.getService(cA.gridComponent)},enumerable:!1,configurable:!0}),Object.defineProperty(uI.prototype,"gridState",{get:function(){return this.getService(cA.stateService)},enumerable:!1,configurable:!0}),uI.prototype.dispose=function(){for(var t=0,i=this.gridFeatures;t<i.length;t++)i[t].dispose();for(var e in this.dependencyObject)this.dependencyObject.hasOwnProperty(e)&&"dispose"in this.dependencyObject[e]&&this.dependencyObject[e].dispose();this.dependencyObject=null},uI);function uI(){this.dependencyObject={}}function lI(){}var fI=(Object.defineProperty(dI.prototype,"rowId",{get:function(){return this._rowId},enumerable:!1,configurable:!0}),Object.defineProperty(dI.prototype,"columnName",{get:function(){return this._columnName},enumerable:!1,configurable:!0}),Object.defineProperty(dI.prototype,"row",{get:function(){return this._row},enumerable:!1,configurable:!0}),Object.defineProperty(dI.prototype,"column",{get:function(){return this._column},enumerable:!1,configurable:!0}),Object.defineProperty(dI.prototype,"cellType",{get:function(){return this._cellType},enumerable:!1,configurable:!0}),dI.buildFromEventArgs=function(t){var i=t.panel.cellType,e=0<=t.row&&i===ru.grid.CellType.Cell?t.panel.grid.getCellData(t.row,0,!1):null,n=t.panel.columns;return new dI(e,0<=t.col&&i===ru.grid.CellType.Cell&&t.col<n.length?n[t.col].binding:null,t.row,t.col,i)},dI);function dI(t,i,e,n,r){this._rowId=t,this._columnName=i,this._row=e,this._column=n,this._cellType=r}var AI,gI,wI=((window&&window.__extends||(AI=function(t,i){return(AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}AI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(mI,gI=fI),Object.defineProperty(mI.prototype,"cell",{get:function(){return this._cell},enumerable:!1,configurable:!0}),mI.buildFromEventArgs=function(t){var i=fI.buildFromEventArgs(t),e=t.cell;return new mI(i.rowId,i.columnName,i.row,i.column,i.cellType,e)},mI);function mI(t,i,e,n,r,s){var o=gI.call(this,t,i,e,n,r)||this;return o._cell=s,o}var pI,vI,bI=((window&&window.__extends||(pI=function(t,i){return(pI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}pI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(EI,vI=fI),EI.prototype.isRangeSelect=function(){return this._isRangeSelection},Object.defineProperty(EI.prototype,"isMultiSelection",{get:function(){return this.isRangeSelect()||this._selectedRows.length>(this.hasSelectionChanged?1:0)},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"hasSelectionChanged",{get:function(){return 0<=this._selectedRows.indexOf(this.rowId)},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"isValidEvent",{get:function(){return this._isValidEvent},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"isKeyboardNavigation",{get:function(){return this._isKeyboardNavigation},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"isRecordRowSelection",{get:function(){return 0<=this.row},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"isRecordColumnSelection",{get:function(){return 0<=this.column},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"isClearSelection",{get:function(){return this.row<0&&this.column<0},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"selectionEvent",{get:function(){return this._selectionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"isCellSelection",{get:function(){return 0<this.column&&0<=this.row},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"isRowHeaderSelected",{get:function(){return 0===this.column||this.cellType===ru.grid.CellType.RowHeader},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"isCurrentRowSelected",{get:function(){var i=this;return new MscrmCommon.ArrayQuery(this.selectedRows).contains(function(t){return t===i.rowId})},enumerable:!1,configurable:!0}),Object.defineProperty(EI.prototype,"selectedRows",{get:function(){return this._selectedRows},enumerable:!1,configurable:!0}),EI.buildFromEventArgs=function(t,i){var e="undefined"!=typeof event?event:null,n=t.panel.grid._mouseHdl;MscrmCommon.ControlUtils.Object.isNullOrUndefined(n._htDown)||(e=n._eMouse);var r=e&&e.target?e.target[cf.cellIndexKey]:null,s=r?new ru.grid.CellRangeEventArgs(t.panel.grid.cells,new ru.grid.CellRange(t.row,r.col)):t,o=fI.buildFromEventArgs(s),a=MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||this.isKeyboardEvent(e),h=this.isValidCellType(o.cellType,i),c=t.range.row!==t.range.row2,u=aI.selectedRows(t.panel.grid);return new EI(o.rowId,o.columnName,o.row,o.column,o.cellType,u,c,h,e,a)},EI.buildFromEvent=function(t,i,e){var n=i.hitTest(t),r=0<=n.row?i.getCellData(n.row,0,!1):null,s=i.selection.row!==i.selection.row2,o=this.isValidEvent(t,n,e),a=i.selectedRows;return new EI(r,i.getColumnName(n.col),n.row,n.col,n.cellType,a,s,o,t)},EI.isValidEvent=function(t,i,e){return this.isValidEventType(t)&&this.isValidCellType(i.cellType,e)},EI.isValidCellType=function(t,i){return t===ru.grid.CellType.Cell||t===ru.grid.CellType.RowHeader||i&&t===ru.grid.CellType.TopLeft},EI.isValidEventType=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&(this.isMouseEvent(t)||this.isKeyboardEvent(t)||"undefined"!=typeof TouchEvent&&t instanceof TouchEvent)},EI.isMouseEvent=function(t){return t instanceof MouseEvent||"undefined"!=typeof MSEventObj&&t instanceof MSEventObj&&-1!==t.type.indexOf("mouse")},EI.isKeyboardEvent=function(t){return t instanceof KeyboardEvent||"undefined"!=typeof MSEventObj&&t instanceof MSEventObj&&-1!==t.type.indexOf("key")},EI);function EI(t,i,e,n,r,s,o,a,h,c){void 0===c&&(c=!1);var u=vI.call(this,t,i,e,n,r)||this;return u._selectedRows=s,u._isRangeSelection=o,u._isValidEvent=a,u._isKeyboardNavigation=c,u._selectionEvent=h,u}var BI,CI,jI=((window&&window.__extends||(BI=function(t,i){return(BI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}BI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(yI,CI=vA),yI.prototype.initialize=function(t){var i=t.parameters;bf.isNestedGridConfigured=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.SubGrid),bf.firstInformativeColumnIndex=this.gridComponent.isEditable&&bf.isTouchScreenDevice(t.client)&&bf.isReflowByWidth(this.containerService.maxWidth)?3:2,this.gridComponent.init(),this.gridComponent.initializeColumns(this.typeProcessorService.generateColumnConfiguration(i.Grid.columns,!1,this.gridComponent.isEditable,null,this.containerService.maxWidth)),this.gridComponent.formatItem.addHandler(this.formatItemHandler),this.gridComponent.click.addHandler(this.clickHandler),this.gridComponent.loadedRows.addHandler(this.loadedEditableRowsHandler),this.gridComponent.beginningEdit.addHandler(this.beginningEditHandler),this.gridComponent.prepareCellForEdit.addHandler(this.prepareCellForEditHandler),this.gridComponent.cellEditEnding.addHandler(this.cellEditEndingHandler),this.gridComponent.cellEditEnded.addHandler(this.cellEditEndedHandler),this.gridComponent.selectionChanged.addHandler(this.selectionChangedHandler),this.gridComponent.keyDown.addHandler(this.keyDownHandler),this.dataSetService.add_OnDataSetRecordChange(this.datasetUpdateHandler),this.gridComponent.touchStart.addHandler(this.touchStartHandler),this.gridComponent.touchEnd.addHandler(this.touchEndHandler),this.gridComponent.touchMove.addHandler(this.touchMoveHandler),this.gridComponent.dblClick.addHandler(this.dblClickHandler),this.gridComponent.scrollPositionChanged.addHandler(this.scrollPositionChangedHandler),this.gridComponent.selectionChanging.addHandler(this.selectionChangingHandler),this.gridComponent.lostFocus.addHandler(this.lostFocusHandler),bf.isTreeView(i.Grid)&&(this.gridComponent.enableTreeView(),this.gridComponent.loadedRows.addHandler(this.loadedRowsHandler)),this.selectionService.IsMultiSelectionSupported?this.gridComponent.enableMultiSelection():this.gridComponent.disableMultiSelection()},yI.prototype.rendering=function(t){this.parentFieldAccessService.refreshDataSet(t.gridDataSet)},yI.prototype.stateRestored=function(t){var i=this;this.perfTool.tryStart(bd.AdditionalAttributes),t.gridDataSet.generateAdditionalAttributes().then(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent)||(i.perfTool.tryStop(bd.AdditionalAttributes),i.gridComponent.updateColumns(i.typeProcessorService.generateColumnUpdate(t.gridDataSet.columns)),i.sizeChange(t),i.shouldRefreshGridRecords||(i.dataAdapterService.refreshRecordItems(t.gridDataSet),i.gridComponent.refresh(),i.shouldRefreshGridRecords=!0))},function(){i.perfTool.tryStop(bd.AdditionalAttributes)})},yI.prototype.sizeChange=function(t){var i,e,n,r,s,o,a;bf.isUci()&&(e=(i=bf.calculateConfiguredGridColumnWidth(this.dataSetService.columns)).totalWidth,n=i.columnCount,r=i.columnWidths,s=bf.isTouchScreenDevice(this.client),o=this.containerService.maxWidth,s&&bf.isReflowByWidth(this.containerService.maxWidth)?o-=cf.navigateButtonMinimumWidth:bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())?o-=cf.specialColumnWithConditionalImageWidthHighDensity:o-=cf.specialColumnWithConditionalImageWidth,a=bf.calculateColumnWidth(this.dataSetService,Math.floor(o),e,n,r,s),this.gridComponent.setWijmoColumnWidth(a))},yI.prototype.rendered=function(t){},yI.prototype.saving=function(t){CI.prototype.saving.call(this,t),this.handleSave(t)},yI.prototype.saved=function(t){CI.prototype.saved.call(this,t),this.handleSave(t)},yI.prototype.getCurrentRecord=function(){var t=this.dataSetService.getCurrentRecord();if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||!t.isDirty())return null;var i=new lI;return i.name="Grid",i.value=t,i},Object.defineProperty(yI.prototype,"isEditable",{set:function(t){this.gridComponent.isEditable=t},enumerable:!1,configurable:!0}),yI.prototype.handleSave=function(t){this.gridComponent.setRefreshBtnDisabled(this.isSaveInProgress)},yI.prototype.deferStartEditing=function(t){var i=this;setTimeout(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent.selection)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent.selection.col)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent.selection.row)||i.gridComponent.selection.row!==t.row||i.gridComponent.selection.col!==t.column||i.gridComponent.startEditing(!0,t.row,t.column)},25)},yI.prototype.dispose=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridComponent)||(this.gridComponent.formatItem.removeHandler(this.formatItemHandler),this.gridComponent.loadedRows.removeHandler(this.loadedRowsHandler),this.gridComponent.loadedRows.removeHandler(this.loadedEditableRowsHandler),this.gridComponent.beginningEdit.removeHandler(this.beginningEditHandler),this.gridComponent.cellEditEnding.removeHandler(this.cellEditEndingHandler),this.gridComponent.cellEditEnded.removeHandler(this.cellEditEndedHandler),this.gridComponent.selectionChanged.removeHandler(this.selectionChangedHandler),this.gridComponent.lostFocus.removeHandler(this.lostFocusHandler),this.gridComponent.click.removeHandler(this.clickHandler),this.gridComponent.touchStart.removeHandler(this.touchStartHandler),this.gridComponent.touchEnd.removeHandler(this.touchEndHandler),this.gridComponent.touchMove.removeHandler(this.touchMoveHandler),this.gridComponent.dblClick.removeHandler(this.dblClickHandler),this.gridComponent.scrollPositionChanged.removeHandler(this.scrollPositionChangedHandler),this.gridComponent.selectionChanging.removeHandler(this.selectionChangingHandler),this.gridComponent.keyDown.removeHandler(this.keyDownHandler)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService)||this.dataSetService.remove_OnDataSetRecordChange(this.datasetUpdateHandler),this.gridComponent=null,this.typeProcessorService=null,this.parentFieldAccessService=null,this.selectionService=null,this.dataSetService=null,this.errorHandlingService=null,this.navigationService=null,this.containerService=null,this.rowButtonManager=null},yI);function yI(t,i,e,n,r,s,o,a,h,c,u,l,f,d,A){var g=CI.call(this,f)||this;return g.datasetUpdateHandler=function(i){g.perfTool.tryStop(bd.DataSetUpdate),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.record)||(g.dataSetService.records[i.recordId]=i.record);var t=g.dataSetService.getRecordById(i.recordId);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){var e=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.affectedColumns)?[]:g.dataSetService.columns.filter(function(t){return-1!==i.affectedColumns.indexOf(t.name)});switch(i.resultType){case 1:g.gridComponent.renderUpdatedRecord(i,t,e);break;case 3:case 2:g.parentFieldAccessService.updateRow(i.recordId,e);break;case 10:g.dataSetService.endRecordSave(i),i.isRecordSavedSuccessfully&&!t.isRecordValid()&&t.validateAllColumns&&t.validateAllColumns();case 4:g.errorHandlingService.update(t),g.gridComponent.refresh()}}},g.loadedRowsHandler=function(t,i){g.gridComponent.enableTreeViewEditing()},g.loadedEditableRowsHandler=function(t){bf.isUci()&&t.cells.hostElement.setAttribute(Pl.ariaLabel,g.dataSetService.dataSet.getTitle())},g.dblClickHandler=function(t,i){var e=bI.buildFromEvent(i,g.gridComponent,!1);if(-1===e.column){var n=g.dataSetService.dataSet.sortedRecordIds[0],r=g.dataSetService.dataSet.records[n];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)){var s=g.navigationService.createEntityReferenceModel(r);return void g.navigationService.navigateToEntityForm(s)}}e.isRecordRowSelection&&e.isValidEvent&&(r=g.dataSetService.dataSet.records[e.rowId],MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||(s=g.navigationService.createEntityReferenceModel(r),g.navigationService.navigateToEntityForm(s)))},g.formatItemHandler=function(t,i){var e=wI.buildFromEventArgs(i),n=i.panel.columns[i.col],r=bf.getDatasetColumnByName(g.dataSetService.dataSet.columns,n.binding);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&bf.isBtnHeaderColumn(n.name))return g.gridComponent.applyNonSelectableCellStyleFormat(t,i),void g.rowButtonManager.handleFormatItem(e);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&bf.isSelectAllBtnHeaderColumn(n.name)&&i.panel.cellType===ru.grid.CellType.ColumnHeader&&(g.gridComponent.applySelectAllButtonAreaHeader(t,e),g.gridComponent.applyNonSelectableCellStyleFormat(t,i)),r&&n&&$w.isCustomDropDownEditorColumn(n,r)&&$w.removeOptionsetDropDown(i.cell),g.gridComponent.formatCellDisplayValue(i,n),g.gridComponent.applyCellStyleFormat(t,i),g.gridComponent.applyColumnHeaderFormat(t,i),g.gridComponent.applyColumnHeaderSortingStyle(i),g.gridComponent.applyFilterButtonStyles(),g.gridComponent.fixWordWrapColumnHeaderStyle(i),0<g.dataSetService.rollupColumns.length&&g.gridComponent.applyRollupColumnsFormat(t,i),g.gridComponent.cellEditorHandler(i,n,r,g.client),g.gridComponent.displayCellEditErrorHandler(i,n),t.selection.isValid||i.panel.cellType===ru.grid.CellType.ColumnHeader||0!==i.row||i.col!==bf.firstInformativeColumnIndex||(i.cell.tabIndex=0)},g.selectionChangingHandler=function(t,i){aI.handleSelectionChanging(t,i)&&(i.cancel=!0);var e=g.gridComponent.selection;i.range.row==e.row&&i.range.row2==e.row2||g.parentFieldAccessService.clearSelectedRow()},g.scrollPositionChangedHandler=function(){var t=g.gridComponent;t.finishEdit(),t.hideHighlightedRow(),g.rowButtonManager.handleScrollPositionChanged()},g.lostFocusHandler=function(){setTimeout(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(g.selectionService)||g.selectionService.IsMultiSelectionSupported||g.gridComponent.containsFocus()||g.gridComponent.cancelSelection()},100)},g.clickHandler=function(t,i,e){if(void 0===e&&(e=!1),!g.selectionService.IsMultiSelectionSupported||e){var n=bI.buildFromEvent(i,g.gridComponent);if(!n.isRecordRowSelection)return void g.gridComponent.cancelSelection();n.isRowHeaderSelected&&g.dataSetService.beginRecordSave(),g.selectionService.setSelectedRecords(n),g.parentFieldAccessService.redraw(n)}},g.clearTimer=function(){g.timer&&(clearTimeout(g.timer),g.timer=null)},g.tapHold=function(t,i,e){switch(g.clearTimer(),e.cellType){case ru.grid.CellType.RowHeader:case ru.grid.CellType.TopLeft:bf.click(i.target)}g.gridComponent.showDetailGrid(g.gridComponent.row(e.row)),g.clickHandler(t,i,!0),i.preventDefault()},g.tap=function(t,i){g.clearTimer(),g.dblClickHandler(t,i),i.preventDefault()},g.touchStartHandler=function(t,i){var e=bI.buildFromEvent(i,g.gridComponent);e.isRowHeaderSelected&&(g.timer=setTimeout(function(){return g.tapHold(t,i,e)},cf.tapHoldThreshold))},g.touchEndHandler=function(t,i){g.timer&&g.tap(t,i)},g.touchMoveHandler=function(t,i){g.clearTimer()},g.keyDownHandler=function(t,i){i.ctrlKey&&i.keyCode==Pl.kbSCode&&(PA.stopEventPropagation(i),MscrmCommon.ControlUtils.Object.isNullOrUndefined(g.dataSetService)||(g.gridComponent.isEditing&&g.gridComponent.finishEdit(),g.dataSetService.beginRecordSave()))},g.selectionChangedHandler=function(t,i){var e=bI.buildFromEventArgs(i,g.selectionService.IsMultiSelectionSupported),n=g.dataSetService.dataSet.getSelectedRecord(),r=!1;MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||n.getRecordId()===e.rowId&&e.isCurrentRowSelected||(r=g.dataSetService.beginRecordSave()),(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.rowId)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.columnName)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.rowId)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.columnName))&&g.parentFieldAccessService.setSelectedRowNumber(g.gridComponent.selection.row),g.selectionService.setSelectedRecords(e),g.parentFieldAccessService.redrawSelectedRow(),g.gridComponent.applyCellsSelectionStyle();var s=e.isRecordRowSelection&&e.isValidEvent&&e.isCellSelection&&!e.isMultiSelection&&e.isCurrentRowSelected,o=g.gridComponent.selectedRows.length,a=g.gridComponent.totalRowsCount;if(setTimeout(function(){var t=$(".wj-topleft > div");o===a?t.addClass(Pl.rowSelectedClass):t.removeClass(Pl.rowSelectedClass)},300),s)MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.selectionEvent)||e.isRecordRowSelection&&e.isValidEvent&&(!e.isCellSelection||e.isMultiSelection||e.isKeyboardNavigation||g.deferStartEditing(e),PA.stopEventPropagation(e.selectionEvent));else if(!r){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&n.getRecordId()===e.rowId)return;g.dataSetService.beginRecordSave()}},g.beginningEditHandler=function(t,i){g.parentFieldAccessService.redrawSelectedRow();var e=fI.buildFromEventArgs(i);1===g.gridComponent.selectedRows.length&&g.gridComponent.selectedRows[0]===e.rowId||(g.gridComponent.cancelSelection(),g.gridComponent.select(i.range));var n=g.parentFieldAccessService.isEditable(e);n===nI.Unknown&&g.parentFieldAccessService.deferStartEditing(e,g.gridComponent),g.gridComponent.isControlDisabled=!1;var r=g.gridComponent.getCellData(i.row,i.col,!1);n==nI.No&&g.gridComponent.getColumnByName(e.columnName).dataType==ru.DataType.Array&&r&&0<r.length?g.gridComponent.isControlDisabled=!0:n!==nI.No&&(bf.isUci()||n===nI.Yes)||(i.cancel=!0),g.gridComponent.beginningEditHandler(t,i)},g.prepareCellForEditHandler=function(t,i){g.gridComponent.prepareCellForEditHandler(t,i)},g.cellEditEndingHandler=function(t,i){g.gridComponent.cellEditEndingHandler(t,i)},g.cellEditEndedHandler=function(t,i){},g.perfTool=A,g.gridComponent=t,g.typeProcessorService=i,g.parentFieldAccessService=e,g.selectionService=n,g.dataSetService=r,g.errorHandlingService=s,g.navigationService=o,g.containerService=a,g.client=h,g.dataAdapterService=u,g.rowButtonManager=d,g.shouldRefreshGridRecords=!1,g}var xI,II,MI=((window&&window.__extends||(xI=function(t,i){return(xI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}xI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(FI,II=vA),FI.prototype.initialize=function(t){this.gridComponent.initializeFiltering(),this.gridComponent.filterChanging.addHandler(this.filterChangingHandler),this.gridComponent.filterChanged.addHandler(this.filterChangedHandler),this.filteringService.buildGridFilterStateCache()},Object.defineProperty(FI.prototype,"stateKey",{get:function(){return Cd.filter},enumerable:!1,configurable:!0}),FI.prototype.saveState=function(t){this.filteringService.saveState(t)},FI.prototype.applyState=function(t){return this.filteringService.applyState(t)},FI.prototype.hasState=function(){return!0},FI.prototype.rendered=function(t){this.filteringService.restoreGridFilterStateCache(),this.gridComponent.restoreAllFilters()},FI.prototype.applyFilter=function(i,t){var e,n,r,s=this;s.criticalRegionService.prepareForRiskyOperation()&&!s.isOfflineMode&&(e=s.filteringService.applyFilterForNewFilterFeature(i,t),n=mA.getRefreshCurrentDataSetArgs(!0),s.raiseStateChanged(),e.refreshRequired&&s.requestRefresh(n),(r=new MutationObserver(function(t){r.disconnect(),window.setTimeout(function(){var t=s.gridComponent.cells.hostElement.querySelectorAll("[role=columnheader]");t&&t[i-1]&&t[i-1].focus()},100)})).observe(s.gridComponent.cells.hostElement,{childList:!0}))},FI.prototype.getAllFilters=function(){if(this._filterCache)return this._filterCache},FI.prototype.getFilter=function(t){if(this._filterCache)return this._filterCache[t]},FI.prototype.setFilter=function(t){t&&t.column&&t.column.name&&(this._filterCache[t.column.name]=t)},FI.prototype.getDataSetFilterExpression=function(){return this.filteringService.getDataSetFilterExpression()},FI.prototype.clearFilter=function(t){t&&(this._filterCache[t]=void 0,this.gridComponent.clearNativeFilterExpressionToRestore())},FI.prototype.dispose=function(){this.gridComponent.filterChanging.removeHandler(this.filterChangingHandler),this.gridComponent.filterChanged.removeHandler(this.filterChangedHandler),this.gridComponent=null,this.filteringService=null},FI);function FI(t,i,e,n){var r=II.call(this,e)||this;return r.filterChangingHandler=function(t,i){r.criticalRegionService.prepareForRiskyOperation()&&!r.isOfflineMode?r.filteringService.configureFilter(i.col):i.cancel=!0},r.filterChangedHandler=function(t,i){var e,n;r.criticalRegionService.prepareForRiskyOperation()&&!r.isOfflineMode?(e=r.filteringService.applyFilter(i.col),i.cancel=e.cancel,n=mA.getRefreshCurrentDataSetArgs(!0),r.raiseStateChanged(),e.refreshRequired&&r.requestRefresh(n),r.gridComponent.closeFilterEditor()):i.cancel=!0},r.gridComponent=t,r.filteringService=i,(t.filtering=r)._filterCache=n||{},r}var QI,RI,kI=((window&&window.__extends||(QI=function(t,i){return(QI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}QI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(SI,RI=vA),SI.prototype.initialize=function(t){this.groupingComponent.initialize(),this.groupingComponent.groupingRequested.addHandler(this.groupingRequestedHandler),this.groupingService.groupingRequested.addHandler(this.groupingRequestedHandler)},Object.defineProperty(SI.prototype,"stateKey",{get:function(){return Cd.groupby},enumerable:!1,configurable:!0}),SI.prototype.networkStatusChanged=function(t){RI.prototype.networkStatusChanged.call(this,t),this.groupingComponent.disableGroupMenu=this.shouldDisableGrouping},SI.prototype.rendering=function(t){this.groupingService.updateView(t.gridView),this.groupingService.applyColumnState(t.gridView)},SI.prototype.rendered=function(t){},SI.prototype.saveState=function(t){this.groupingService.saveState(t)},SI.prototype.applyState=function(t){return this.groupingService.applyState(t)},SI.prototype.enteringCriticalRegion=function(){RI.prototype.enteringCriticalRegion.call(this),this.groupingComponent.disableGroupMenu=this.shouldDisableGrouping},SI.prototype.leftCriticalRegion=function(){RI.prototype.leftCriticalRegion.call(this),this.groupingComponent.disableGroupMenu=this.shouldDisableGrouping},SI.prototype.hasState=function(){return!0},Object.defineProperty(SI.prototype,"shouldDisableGrouping",{get:function(){return this.isOfflineMode||this.isInCriticalRegion},enumerable:!1,configurable:!0}),SI.prototype.dispose=function(){this.groupingComponent.groupingRequested.removeHandler(this.groupingRequestedHandler),this.groupingService.groupingRequested.removeHandler(this.groupingRequestedHandler)},SI);function SI(t,i,e){var n=RI.call(this,e)||this;return n.groupingRequestedHandler=function(t,i){n.criticalRegionService.prepareForRiskyOperation()&&(n.groupingComponent.applyGroupBy(i.groupByName),n.groupingService.applyGroupBy(i.groupByName,i.collectionView)&&n.requestRefresh())},n.groupingService=t,n.groupingComponent=i,n}var DI,NI,TI=((window&&window.__extends||(DI=function(t,i){return(DI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}DI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(OI,NI=vA),OI.prototype.initialize=function(){this.gridComponent.keyDown.addHandler(this.keyboardNavigationHandler),this.gridComponent.selectionChanged.addHandler(this.setupEscapeFromCellHandler),this.gridComponent.enableKeyboardSupport(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.groupingComponent)||this.groupingComponent.keyDown.addHandler(this.groupbyKeyboardHandler)},OI.prototype.dispose=function(){this.gridComponent.keyDown.removeHandler(this.keyboardNavigationHandler),this.gridComponent.keyDown.removeHandler(this.escapeFromCellHandler),this.gridComponent.selectionChanged.removeHandler(this.setupEscapeFromCellHandler),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.groupingComponent)||this.groupingComponent.keyDown.removeHandler(this.groupbyKeyboardHandler),this.gridComponent=null,this.groupingComponent=null,this.containerService=null,this.selectionService=null,this.fieldAccessService=null,NI.prototype.dispose.call(this)},OI);function OI(t,i,e,n,r,s,o){var a=NI.call(this,s)||this;return a.hasPaging=!1,a.keyboardNavigationHandler=function(t,i){var e=!1;!PA.isKeyCode(i,Pl.kbTabCode)||document.activeElement.id!==a.containerService.getHostId()||i.ctrlKey||i.shiftKey||i.altKey||i.metaKey||-1!==a.gridComponent.selection.col||-1!==a.gridComponent.selection.col2||-1!==a.gridComponent.selection.row||-1!==a.gridComponent.selection.row2||(a.gridComponent.select(0,1),window.setTimeout(function(){var t=document.getElementById(a.containerService.getHostId());MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||t.focus()},0),e=!0),PA.isKeyCode(i,Pl.kbPageUpCode)&&a.hasPaging&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.gridComponent.activeEditor)&&(a.pagingComponent.clickPreviousPage(),e=!0),PA.isKeyCode(i,Pl.kbPageDownCode)&&a.hasPaging&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.gridComponent.activeEditor)&&(a.pagingComponent.clickNextPage(),e=!0),i.ctrlKey&&i.keyCode===Pl.kbSCode&&(PA.preventDefault(i),e=!0),PA.isKeyCode(i,Pl.kbSpaceCode)&&i.target.tagName===Pl.divNodeTagName&&PA.preventDefault(i),a.gridComponent.handleKeyboardNavigation(i),e&&a.fieldAccessService.redrawSelectedRow()},a.setupEscapeFromCellHandler=function(t,i){a.gridComponent.keyDown.removeHandler(a.escapeFromCellHandler),1===i.range.col&&0===i.range.row&&window.setTimeout(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.gridComponent)||a.gridComponent.keyDown.addHandler(a.escapeFromCellHandler)},50)},a.escapeFromCellHandler=function(t,i){!PA.isKeyCode(i,Pl.kbTabCode)||i.ctrlKey||!i.shiftKey||i.altKey||i.metaKey||1!==a.gridComponent.selection.col||1!==a.gridComponent.selection.col2||0!==a.gridComponent.selection.row||0!==a.gridComponent.selection.row2||(a.gridComponent.cancelSelection(),a.selectionService.clearSelectedRecord(),a.gridComponent.keyDown.removeHandler(a.escapeFromCellHandler))},a.groupbyKeyboardHandler=function(t,i){var e=a.groupingComponent.getItemCount();PA.isKeyCode(i,Pl.kbArrowDownCode)&&(a.groupingComponent.selectedIndex=(a.groupingComponent.selectedIndex+1)%e),PA.isKeyCode(i,Pl.kbArrowUpCode)&&(a.groupingComponent.selectedIndex=(a.groupingComponent.selectedIndex-1+e)%e),PA.isKeyCode(i,Pl.kbSpaceCode)&&(a.groupingComponent.isDroppedDown=!a.groupingComponent.isDroppedDown),PA.isKeyCode(i,Pl.kbEnterCode)&&(a.groupingComponent.selectedValue=a.groupingComponent.getValue(a.groupingComponent.selectedIndex),a.groupingComponent.itemClicked.raise(a.groupingComponent,null))},a.gridComponent=t,a.groupingComponent=i,a.pagingComponent=e,a.hasPaging=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.pagingComponent),a.containerService=n,a.selectionService=r,a.fieldAccessService=o,a}var YI,UI,HI=((window&&window.__extends||(YI=function(t,i){return(YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}YI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(zI,UI=vA),zI.prototype.initialize=function(t){this.paginationComponent.addPreviousPageClicked(this.previousPageClickHandler),this.paginationComponent.addNextPageClicked(this.nextPageClickHandler),this.paginationComponent.addFirstPageClicked(this.firstPageClickHandler)},zI.prototype.networkStatusChanged=function(t){UI.prototype.networkStatusChanged.call(this,t),this.paginationComponent.disablePagination=this.shouldDisablePagination},zI.prototype.rendered=function(t){this.paginationComponent.ensureCorrectPage(t.gridView),this.paginationComponent.setPaginationButtonsState(t.gridDataSet)},zI.prototype.stateRestored=function(t){var i=t.gridView;i.pageCount>=this.currentPageNumber&&i.moveToPage(this.currentPageNumber)},zI.prototype.enteringCriticalRegion=function(){UI.prototype.enteringCriticalRegion.call(this),this.paginationComponent.disablePagination=this.shouldDisablePagination},zI.prototype.leftCriticalRegion=function(){UI.prototype.leftCriticalRegion.call(this),this.paginationComponent.disablePagination=this.shouldDisablePagination},Object.defineProperty(zI.prototype,"shouldDisablePagination",{get:function(){return this.isOfflineMode||this.isInCriticalRegion},enumerable:!1,configurable:!0}),zI.prototype.setCurrentPageNumber=function(){this.currentPageNumber=this.paginationComponent.getCurrentPageNumber()},zI.prototype.dispose=function(){this.paginationComponent.removePreviousPageClicked(this.previousPageClickHandler),this.paginationComponent.removeNextPageClicked(this.nextPageClickHandler),this.paginationComponent.removeFirstPageClicked(this.firstPageClickHandler)},zI);function zI(t,i,e){var n=UI.call(this,e)||this;return n.currentPageNumber=0,n.firstPageClickHandler=function(){n.setCurrentPageNumber(),n.criticalRegionService.prepareForRiskyOperation()&&n.paginationService.moveFirstPage()&&n.requestRefresh(mA.getRefreshCurrentDataSetArgs(!1,lA.LoadFirstPage))},n.previousPageClickHandler=function(){n.setCurrentPageNumber(),n.criticalRegionService.prepareForRiskyOperation()&&n.paginationService.movePreviousPage()&&n.requestRefresh(mA.getRefreshCurrentDataSetArgs(!1,lA.LoadPreviousPage))},n.nextPageClickHandler=function(){n.setCurrentPageNumber(),n.criticalRegionService.prepareForRiskyOperation()&&n.paginationService.moveNextPage()&&n.requestRefresh(mA.getRefreshCurrentDataSetArgs(!1,lA.LoadNextPage))},n.paginationService=t,n.paginationComponent=i,n}var GI,PI,VI=((window&&window.__extends||(GI=function(t,i){return(GI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}GI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(LI,PI=vA),LI.prototype.initialize=function(t){var i=t.parameters;this.gridComponent.isEditable=!1,bf.firstInformativeColumnIndex=2,this.gridComponent.init(),this.gridComponent.disableDefaultEnterHandler(),this.gridComponent.formatItem.addHandler(this.formatItemHandler),this.gridComponent.loadedRows.addHandler(this.loadedRowsHandler),this.gridComponent.click.addHandler(this.clickHandler),this.gridComponent.touchStart.addHandler(this.touchStartHandler),this.gridComponent.touchEnd.addHandler(this.touchEndHandler),this.gridComponent.touchMove.addHandler(this.touchMoveHandler),this.gridComponent.dblClick.addHandler(this.dblClickHandler),this.gridComponent.scrollPositionChanged.addHandler(this.scrollPositionChangedHandler),this.gridComponent.lostFocus.addHandler(this.lostFocusHandler),this.gridComponent.selectionChanged.addHandler(this.selectionChangedHandler),this.gridComponent.selectionChanging.addHandler(this.selectionChangingHandler),this.gridComponent.keyDown.addHandler(this.keyDownHandler),bf.isTreeView(i.Grid)&&(this.gridComponent.enableTreeView(),this.gridComponent.loadedRows.addHandler(this.loadedRowsHandler)),this.selectionService.IsMultiSelectionSupported?this.gridComponent.enableMultiSelection():this.gridComponent.disableMultiSelection(),this.initializeColumns()},LI.prototype.initializeColumns=function(){var t=this.containerService.maxWidth;this.maxWidth=Math.floor(t),this.cacheConfiguredGridColumnWidth(this.dataSetService.columns);var i=bf.calculateColumnWidth(this.dataSetService,this.maxWidth,this.totalConfiguredWidth,this.visibleColumnCount,this.columnWidthByConfiguration,bf.isTouchScreenDevice(this.client)),e=this.typeProcessorService.generateColumnConfiguration(this.dataSetService.columns,!1,this.gridComponent.isEditable,i);this.gridComponent.initializeColumns(e)},LI.prototype.getCurrentRecord=function(){var t=this.dataSetService.getCurrentRecord();if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||!t.isDirty())return null;var i=new lI;return i.name="Grid",i.value=t,i},LI.prototype.cacheConfiguredGridColumnWidth=function(t){var i=bf.calculateConfiguredGridColumnWidth(t),e=i.totalWidth,n=i.columnCount,r=i.columnWidths;this.totalConfiguredWidth=e,this.visibleColumnCount=n,this.columnWidthByConfiguration=r},LI.prototype.stateRestored=function(t){var i,e=this.containerService.maxWidth;this.maxWidth!==e&&(this.maxWidth=Math.floor(e),i=bf.calculateColumnWidth(this.dataSetService,this.maxWidth,this.totalConfiguredWidth,this.visibleColumnCount,this.columnWidthByConfiguration,bf.isTouchScreenDevice(this.client)),this.gridComponent.setWijmoColumnWidth(i)),this.gridComponent.updateColumns(this.typeProcessorService.generateColumnUpdate(t.gridDataSet.columns))},LI.prototype.dispose=function(){this.gridComponent.formatItem.removeHandler(this.formatItemHandler),this.gridComponent.loadedRows.removeHandler(this.loadedRowsHandler),this.gridComponent.click.removeHandler(this.clickHandler),this.gridComponent.touchStart.removeHandler(this.touchStartHandler),this.gridComponent.touchEnd.removeHandler(this.touchEndHandler),this.gridComponent.touchMove.removeHandler(this.touchMoveHandler),this.gridComponent.dblClick.removeHandler(this.dblClickHandler),this.gridComponent.scrollPositionChanged.removeHandler(this.scrollPositionChangedHandler),this.gridComponent.lostFocus.removeHandler(this.lostFocusHandler),this.gridComponent.selectionChanged.removeHandler(this.selectionChangedHandler),this.gridComponent.selectionChanging.removeHandler(this.selectionChangingHandler),this.gridComponent.keyDown.removeHandler(this.keyDownHandler),this.gridComponent=null,this.typeProcessorService=null,this.selectionService=null,this.dataSetService=null,this.navigationService=null},LI);function LI(t,i,e,n,r,s,o,a,h,c,u,l,f){var d=PI.call(this,l)||this;return d.doubleTap=!1,d.columnWidthByConfiguration={},d.dblClickHandler=function(t,i){if(!(i.target&&i.target instanceof HTMLAnchorElement)){var e=bI.buildFromEvent(i,d.gridComponent,!1);if(-1===e.column){var n=d.dataSetService.dataSet.sortedRecordIds[0],r=d.dataSetService.dataSet.records[n];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)){var s=d.navigationService.createEntityReferenceModel(r);return void d.navigationService.navigateToEntityForm(s)}}e.isRecordRowSelection&&e.isValidEvent&&(r=d.dataSetService.dataSet.records[e.rowId],MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||(s=d.navigationService.createEntityReferenceModel(r),d.navigationService.navigateToEntityForm(s)))}},d.formatItemHandler=function(t,i){var e=wI.buildFromEventArgs(i),n=i.panel.columns[i.col],r=bf.getDatasetColumnByName(d.dataSetService.dataSet.columns,n.binding);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&bf.isSelectAllBtnHeaderColumn(n.name)&&i.panel.cellType===ru.grid.CellType.ColumnHeader&&(d.gridComponent.applySelectAllButtonAreaHeader(t,e),d.gridComponent.applyNonSelectableCellStyleFormat(t,i)),d.gridComponent.formatCellDisplayValue(i,n),d.gridComponent.applyCellStyleFormat(t,i),d.gridComponent.applyColumnHeaderFormat(t,i),d.gridComponent.applyColumnHeaderSortingStyle(i),d.gridComponent.fixWordWrapColumnHeaderStyle(i),d.gridComponent.addLearningPathIDs(i),bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())&&d.gridComponent.applyFilterButtonStyles(),0<d.dataSetService.rollupColumns.length&&d.gridComponent.applyRollupColumnsFormat(t,i),t.selection.isValid||i.panel.cellType===ru.grid.CellType.ColumnHeader||0!==i.row||i.col!==bf.firstInformativeColumnIndex||(i.cell.tabIndex=0)},d.loadedRowsHandler=function(t){var i=t.cells.hostElement,e=d.dataSetService.records?""+Object.keys(d.dataSetService.records).length:"0",n=d.dataSetService.columns?""+d.dataSetService.dataSet.columns.filter(function(t){return!1===t.isHidden}).length:"0";i.hasAttribute(Pl.dataId)||i.setAttribute(Pl.dataId,Pl.cellsDataIdAttributeName),i.setAttribute(Pl.ariaLabel,d.dataSetService.dataSet.getTitle()),i.setAttribute(Pl.dataRowCount,e),i.setAttribute(Pl.dataColumnCount,n)},d.scrollPositionChangedHandler=function(){d.gridComponent.hideHighlightedRow()},d.lostFocusHandler=function(){setTimeout(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(d.selectionService)||d.selectionService.IsMultiSelectionSupported||d.gridComponent.containsFocus()||d.gridComponent.cancelSelection()},100)},d.clickHandler=function(t,i,e){var n=i.target;if(n&&n instanceof HTMLAnchorElement)n.open&&n.open(i);else if(n&&n.firstChild){var r=n.firstChild;if(r instanceof HTMLAnchorElement&&r.open)for(var s=bI.buildFromEvent(i,t),o=t.dataSetService.columns,a=0;a<o.length;a++)if(o[a].isPrimary){o[a].name===s.columnName&&r.open(i);break}}},d.focusEventTarget=function(t){t.target.parentElement.focus(),t.stopPropagation(),t.preventDefault()},d.keyDownHandler=function(t,i){var e,n,r,s,o,a=d.gridComponent.selection,h=i.keyCode;-1<a.row&&-1<a.col&&((e=d.gridComponent.findCellHtml(a.row,a.col))&&e.selectPrevItem&&(h==Pl.kbArrowLeftCode?e.isFirsItemSelected()?d.focusEventTarget(i):e.selectPrevItem(i):h==Pl.kbArrowRightCode&&(e.isLastItemSelected()?d.focusEventTarget(i):e.selectNextItem(i))),e&&h==Pl.kbEnterCode&&((n=e.firstChild)&&n.open?n.open(i):(r=d.gridComponent.row(a.row).dataItem.recId,s=d.dataSetService.dataSet.records[r],MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)||(o=d.navigationService.createEntityReferenceModel(s),d.dataSetService.dataSet.openDatasetItem(o)))))},d.clearTimer=function(){d.timer&&(clearTimeout(d.timer),d.timer=null)},d.tapHold=function(t,i,e){switch(d.clearTimer(),e.cellType){case ru.grid.CellType.RowHeader:case ru.grid.CellType.TopLeft:bf.click(i.target)}d.gridComponent.showDetailGrid(d.gridComponent.row(e.row)),d.clickHandler(t,i,!0),i.preventDefault()},d.tap=function(t,i){d.clearTimer(),d.dblClickHandler(t,i),i.preventDefault()},d.touchStartHandler=function(t,i){var e=bI.buildFromEvent(i,d.gridComponent);e.isRowHeaderSelected?d.timer=setTimeout(function(){return d.tapHold(t,i,e)},cf.tapHoldThreshold):d.client&&d.client.userAgent&&d.client.userAgent.isIos&&(d.doubleTap?d.tap(t,i):(d.doubleTap=!0,setTimeout(function(){return d.doubleTap=!1},Pl.doubleTapThreshold)))},d.touchEndHandler=function(t,i){d.timer&&d.tap(t,i)},d.touchMoveHandler=function(t,i){d.clearTimer()},d.selectionChangingHandler=function(t,i){aI.handleSelectionChanging(t,i)&&(i.cancel=!0)},d.selectionChangedHandler=function(t,i){var e=bI.buildFromEventArgs(i,d.selectionService.IsMultiSelectionSupported),n=e.selectionEvent?e.selectionEvent.target:null;n&&n instanceof HTMLAnchorElement?i.cancel=!0:(d.selectionService.setSelectedRecords(e),d.gridComponent.applyCellsSelectionStyle())},d.gridComponent=t,d.typeProcessorService=i,d.selectionService=n,d.dataSetService=r,d.navigationService=s,d.containerService=o,d.client=a,d}var JI,WI,_I=((window&&window.__extends||(JI=function(t,i){return(JI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}JI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(XI,WI=vA),XI.prototype.initialize=function(t){this.isGridNewFilterEnabled?this.gridComponent.sortingColumn.addHandler(this.disableHeaderSort):this.gridComponent.sortingColumn.addHandler(this.sortingHandler),this.sortingService.sortingChanged.addHandler(this.sortingChangedHandler)},XI.prototype.disableHeaderSort=function(t,i){i.cancel=!0},Object.defineProperty(XI.prototype,"stateKey",{get:function(){return Cd.sort},enumerable:!1,configurable:!0}),XI.prototype.saveState=function(t){this.sortingService.saveState(t)},XI.prototype.applyState=function(t){return this.sortingService.applyState(t)},XI.prototype.hasState=function(){return!0},Object.defineProperty(XI.prototype,"shouldDisableSorting",{get:function(){return this.isOfflineMode&&!this.gridComponent.isOfflineFeatureAvailable()||this.isInCriticalRegion},enumerable:!1,configurable:!0}),XI.prototype.dispose=function(){this.isGridNewFilterEnabled?this.gridComponent.sortingColumn.removeHandler(this.disableHeaderSort):this.gridComponent.sortingColumn.removeHandler(this.sortingHandler),this.sortingService.sortingChanged.removeHandler(this.sortingChangedHandler),this.gridComponent=null,this.sortingService=null},XI);function XI(t,i,e){var o=WI.call(this,e)||this;return o.multiColumnKey="shiftKey",o.sortingHandler=function(t,i){i.cancel=!0;var e,n,r,s=o;s.criticalRegionService.prepareForRiskyOperation()&&!s.shouldDisableSorting&&(e=t.columns[i.col].binding,t.columns[i.col].allowSorting&&(n=MscrmCommon.ControlUtils.Object.isNullOrUndefined(t._mouseHdl._eMouse)?null:t._mouseHdl._eMouse[s.multiColumnKey],s.sortingService.applySorting(e,n)&&s.requestRefresh()),s.gridComponent.onSortedColumn(i),(r=new MutationObserver(function(t){r.disconnect(),window.setTimeout(function(){var t=s.gridComponent.cells.hostElement.querySelectorAll("[role=columnheader]");t&&t[i.col-1]&&t[i.col-1].focus()},100)})).observe(s.gridComponent.cells.hostElement,{childList:!0}))},o.sortGrid=function(t,i,e,n){var r,s=o;s.criticalRegionService.prepareForRiskyOperation()&&!s.shouldDisableSorting&&(s.sortingService.applySorting(t,i,e)&&s.requestRefresh(),o.raiseStateChanged(),n&&(r=new MutationObserver(function(t){r.disconnect(),window.setTimeout(function(){var t=s.gridComponent.cells.hostElement.querySelectorAll("[role=columnheader]");t&&t[n-1]&&t[n-1].focus()},100)})).observe(s.gridComponent.cells.hostElement,{childList:!0}))},o.sortingChangedHandler=function(t,i){o.criticalRegionService.prepareForRiskyOperation()&&!o.shouldDisableSorting&&o.raiseStateChanged()},o.gridComponent=t,(o.gridComponent.sortingService=o).sortingService=i,o.isGridNewFilterEnabled=bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB()),o}function KI(){}var ZI,qI,$I=((window&&window.__extends||(ZI=function(t,i){return(ZI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}ZI(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(tM,qI=RA),tM.prototype.initialize=function(t){this.inputBag=t.parameters,qI.prototype.initialize.call(this,t)},tM.prototype.showSubGrid=function(t){var i=t.dataItem.recId.toLowerCase();return i!==bf.getSubGridFilterValue(this.dataSetService.dataSet)?(this.currentRow=t,bf.replaceSubGridFilterValue(this.dataSetService.dataSet,i),void this.refreshCurrentDataSet()):(qI.prototype.handleDataSetUpdate.call(this,!0,this.getSubGridBag(),!0),this.gridComponent.gridHostingElement)},tM.prototype.handleDataSetUpdate=function(t,i){var e=this.getDataSet(i);return!(this.dataSetService.dataSet=e).working&&(qI.prototype.handleDataSetUpdate.call(this,t,i,!0),this.gridComponent.refresh(),null!=this.currentRow&&this.parentGridComponent.showDetailGrid(this.currentRow),!0)},tM.prototype.refreshDataSetHandler=function(t,i){this.refreshDataSetCallback(new mA(this.dataSetService.dataSet,this,!1,i.operation))},tM.prototype.refreshCurrentDataSet=function(){this.refreshDataSetCallback(new mA(this.dataSetService.dataSet,this))},tM.prototype.getDataSet=function(t){return t.SubGrid},tM.prototype.getSubGridBag=function(){return{EnableGroupBy:this.inputBag.EnableGroupBy,EnableEditing:this.inputBag.EnableEditing,EnableFiltering:this.inputBag.EnableFiltering,ReflowBehavior:this.inputBag.ReflowBehavior,ListLayoutDirection:this.inputBag.ListLayoutDirection,Grid:this.inputBag.SubGrid,SubGrid:this.inputBag.SubGrid,HideNestedGridColumnHeader:this.inputBag.HideNestedGridColumnHeader}},tM.prototype.disposeGrid=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.currentGrid)||(null!==this.features&&this.removeFeatureHandlers(),this.currentGrid.dispose(),this.gridComponent=null,this.dataAdapter=null,this.features=null,this.currentGrid=null)},tM.prototype.dispose=function(){this.disposeGrid(),qI.prototype.dispose.call(this)},tM);function tM(t,i,e,n,r,s,o,a,h,c){var u=qI.call(this,i,e,n,r,s,o,a,c)||this;return u.parentGridComponent=t,u.refreshDataSetCallback=h,u}var iM,eM,nM=((window&&window.__extends||(iM=function(t,i){return(iM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}iM(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(rM,eM=vA),rM.prototype.initialize=function(t){var i,e,n=(this.context=t).parameters;this.inputBag=n,MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.SubGrid)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(bf.getDatasetColumnByAlias(n.SubGrid.columns,gf.SubGridParentIdName))||(this.dataSet=n.SubGrid,MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet)||this.dataSet.hasError||(i=this.dataSet.filtering,e={filterOperator:0,conditions:null,filters:[{filterOperator:0,conditions:[{attributeName:gf.SubGridParentIdName,conditionOperator:0,value:"00000000-0000-0000-0000-000000000000"}]}]},i.setFilter(e)),this.parentGridComponent.createGridDetail(this.createDetailGrid.bind(this),this.isRowHasDetail.bind(this),this.disposeDetailGrid.bind(this)))},rM.prototype.getCurrentRecord=function(){if(0===this.details.length)return null;var t=this.details[this.details.length-1].root.getService(cA.dataSetService).getCurrentRecord();if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||!t.isDirty())return null;var i=new lI;return i.name="SubGrid",i.value=t,i},rM.prototype.createDetailGrid=function(t){for(var i=t.dataItem.recId.toLowerCase(),e=!1,n=0;n<this.details.length;n++)if(i===this.details[n].recId){e=!0;break}if(!e){var r=document.createElement("div");if(this.dataSet.hasError)return r.innerText=this.dataSet.errorMessage,r;r.setAttribute(Pl.parentRecordIdAttributeName,i);var s=bf.parsePropertyOrDefault(this.inputBag.HideNestedGridColumnHeader,Xw.parseValue,Lw.No);this.filterCache[i]||(this.filterCache[i]={});var o=this.gridBuilder.build(r,this.dataSet,!0,this.criticalRegionService,this.perfTool,s,this.filterCache[i]);bf.isDetail=!0;var a=o.gridFeatures,h=o.gridComponent;h.parentComponent=this.parentGridComponent;var c=o.getService(cA.dataAdapter),u=o.getService(cA.stateService),l=o.getService(cA.dataSetService),f=o.getService(cA.errorHandlingService);h.hideNestedGridColumnHeader=s;var d=new $I(this.parentGridComponent,a,h,c,u,l,this.criticalRegionService,f,this.requestRefresh.bind(this),this.perfTool);this.context.parameters.Grid=this.context.parameters.SubGrid,d.initialize(this.context);var A=new KI;A.coordinator=d,A.root=o,A.recId=i,A.rootElement=r,this.details.push(A),n=this.details.length-1;var g=A.coordinator.showSubGrid(t);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(g))return}return this.details.length>n?this.details[n].rootElement:null},rM.prototype.isRowHasDetail=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.dataItem.recId)||this.dataSet.hasError},rM.prototype.disposeDetailGrid=function(t){var i,e=t;if(e.detail.hasAttribute(Pl.parentRecordIdAttributeName)&&(i=e.detail.getAttribute(Pl.parentRecordIdAttributeName)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.details)){for(var n=null,r=void 0,r=0;r<this.details.length;r++)if(i===this.details[r].recId){n=this.details[r];break}n&&(this.details.splice(r,1),n.coordinator.dispose(),n.root.dispose())}},rM.prototype.disposeRowDetail=function(t){for(var i=0,e=t;i<e.length;i++){var n=e[i];MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(n.coordinator.dispose(),n.root.dispose())}},rM.prototype.dispose=function(){this.disposeRowDetail(this.details),this.filterCache=null,this.details=null},rM);function rM(t,i,e,n){var r=eM.call(this,e)||this;return r.parentGridComponent=t,r.gridBuilder=i,r.details=[],r.perfTool=n,r.filterCache={},r}var sM=(oM.apply=function(t){var i,e;oM.applied||(oM.userAgent=t,(i=ru).grid.filter.ValueFilter.prototype.apply=oM.applyValueFilter,i.grid.filter.ConditionFilter.prototype.apply=oM.applyConditionFilter,i.input.DropDown.prototype._handleResize=oM._handleResize,i.grid._MouseHandler.prototype._mousedown=oM._mousedown,i.grid._MouseHandler.prototype._click=oM._click,i.grid._MouseHandler.prototype._mousemove=oM._mousemove,i.grid._MouseHandler.prototype._handleSelection=oM.mouseHandleSelection,i.grid._EditHandler.prototype.getClipString=oM.getClipString,i.mouseToPage=oM.mouseToPage,i.input.AutoComplete.prototype._setText=oM._autocompleteSetText,e=i.grid._KeyboardHandler.prototype._keydown,i.grid._KeyboardHandler.prototype._keydown=oM._keyDown(e),i.input.InputNumber.prototype.onGotFocus=oM.inputNumberOnGotFocus,i.input.InputNumber.prototype._updateSymbols=oM._updateSymbols,i.hidePopup=oM.hidePopup,i.grid.filter.ColumnFilterEditor.prototype._handleResize=oM.filterHandleResize,i.grid.filter.FlexGridFilter.prototype.editColumnFilter=oM.editColumnFilter,i.grid.FlexGrid.prototype._setFocus=oM._setFocus,i.grid.FlexGrid.prototype._setFocusNoScroll=oM._setFocusNoScroll,i.grid.FlexGrid.controlTemplate=oM.controlTemplate,i.grid.filter.FlexGridFilter.prototype.closeEditor=oM._closeEditor,i.Control.prototype.focus=oM._setControlFocus,bf.isUci()&&(i.input.ComboBox.prototype._setText=oM._overrideComboboxSetText,i.input.ComboBox.prototype.dispose=oM._overrideComboBoxDispose,i.input.ComboBox.prototype.refresh=oM._overrideComboBoxRefresh,i.grid.FlexGrid.prototype._updateScrollPosition=oM._overrideFlexGridUpdateScrollPosition),oM._patchGetDefaultRowHeight(i),oM._patchGetDefaultCellPadding(i),oM._patchRefresh(i),oM.applied=!0)},oM.mouseToPage=function(t){if(t instanceof ru.Point)return t;if(t.touches&&0<t.touches.length?t=t.touches[0]:t.changedTouches&&0<t.changedTouches.length&&(t=t.changedTouches[0]),ru.isNumber(t.clientX)&&ru.isNumber(t.clientY))return new ru.Point(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."},oM._keyboardSort=function(i,e,t){if(e.range&&e.panel){var n=e.panel.columns[e.col],r=i._getBindingColumn(e.panel,e.row,n),s=r?r._getBindingSort():null;if(r.allowSorting&&s){for(var o=e.grid.collectionView.sortDescriptions,a=null,h=0;h<o.length;h++)if(o[h].property==s){a=!o[h].ascending;break}if(null==a){if(t)return;a=!0}var c=new ru.grid.CellRangeEventArgs(e.panel,e.range);i.onSortingColumn(c)&&(i._edtHdl._commitRowEdits(),t?o.clear():o.splice(0,o.length,new ru.collections.SortDescription(s,a)),i.onSortedColumn(c));var u=new MutationObserver(function(t){u.disconnect(),window.setTimeout(function(){var t=i.cells.hostElement.querySelectorAll("[role=columnheader]");t&&t[e.col-1]&&t[e.col-1].focus()},100)});u.observe(i.cells.hostElement,{childList:!0})}}},oM._keyDown=function(m){return function(e){var i,n=this._g,r=new ru.grid.HitTestInfo(e.target,null),t=n.cells.getCellElement(r.row,r.col),s=2===r.col&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridDuplicateDetectionFCB(),bf.getApril2020UpdateFCB())&&t&&t.getElementsByClassName(cf.errorIndicatorCSSClass),o=1===r.col&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridHierarchyIconFCB())&&t&&t.getElementsByClassName(Pl.ccHierarchyIconCSSClass);if(!(-1===r.row||1!==r.col||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||ru.hasClass(e.target,cf.headerCSSClass))&&(PA.isKeyCode(e,Pl.kbArrowUpCode)||PA.isKeyCode(e,Pl.kbArrowDownCode)||PA.isKeyCode(e,Pl.kbSpaceCode)||PA.isKeyCode(e,Pl.kbEnterCode)||PA.isKeyCode(e,Pl.kbArrowRightCode)||PA.isKeyCode(e,Pl.kbArrowLeftCode))){var a=Math.max(0,n._szClient.height-n.columnHeaders.height),h=r.row,c=r.col;switch(e.keyCode){case Pl.kbEnterCode:if(bf.isUCIDisruptiveFeatureEnabled(bf.getGridHierarchyIconFCB())&&e.target.classList.contains(Pl.ccHierarchyIconCSSClass))return e.target.dispatchEvent(new Event("mousedown")),e.preventDefault(),void e.stopImmediatePropagation();break;case Pl.kbArrowUpCode:h=n.rows.getNextCell(r.row,ru.grid.SelMove.Prev,a),r.row-1<=n.viewRange.row&&n.scrollIntoView(n.viewRange.row-1,-1,!0);break;case Pl.kbArrowDownCode:h=n.rows.getNextCell(r.row,ru.grid.SelMove.Next,a),r.row+1>=n.viewRange.row2&&n.scrollIntoView(n.viewRange.row2+1,-1,!0);break;case Pl.kbArrowLeftCode:if(!n.rightToLeft)return bf.isElementFocused(o)&&t.focus(),void e.preventDefault();case Pl.kbArrowRightCode:if(n.rightToLeft)return bf.isElementFocused(o)&&t.focus(),void e.preventDefault();if(h=r.row,bf.isElementNotFocused(o))return o[0].focus(),void e.preventDefault();c=Math.min(r.col+1,n.columns.length-1),oM._handleSelection(r,n,h,c,!0),r.col+1>=n.viewRange.col2&&n.scrollIntoView(-1,n.viewRange.col2+1,!0);break;case Pl.kbSpaceCode:oM._handleSelection(r,n,r.row,r.col,!1)}return(w=n.cells.getCellElement(h,c))&&(ru.setAttribute(t,Pl.tabIndex,-1),ru.setAttribute(w,Pl.tabIndex,0),(n._activeCell=w).focus()),void e.preventDefault()}if(-1===r.row||1===r.col||e.keyCode===Pl.kbTabCode||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||!(PA.isKeyCode(e,Pl.kbArrowUpCode)||PA.isKeyCode(e,Pl.kbArrowDownCode)||PA.isKeyCode(e,Pl.kbArrowLeftCode)||PA.isKeyCode(e,Pl.kbArrowRightCode)||PA.isKeyCode(e,Pl.kbEnterCode)&&2===r.col&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridDuplicateDetectionFCB(),bf.getApril2020UpdateFCB())&&bf.isElementFocused(s)))if(-1!=r.row||e.keyCode!=Pl.kbTabCode||e.altKey||e.metaKey||(u=!1,e.shiftKey?1<r.col&&n.viewRange&&r.col==n.viewRange.col&&(u=!0):r.col<n.columns.length-(n.isReadOnly?1:2)&&n.viewRange&&n.viewRange.col2==r.col?u=!0:r.col==n.columns.length-(n.isReadOnly?1:2)&&n.scrollIntoView(0,0,!0),u&&(e.preventDefault(),e.stopImmediatePropagation(),(i=new MutationObserver(function(t){i.disconnect(),window.setTimeout(function(){var t=n.cells.hostElement.querySelectorAll("[role=columnheader]"),i=e.shiftKey?-1:1;t&&t[r.col+i]&&t[r.col+i].focus()},100)})).observe(n.columnHeaders.hostElement,{childList:!0}),e.shiftKey?n.scrollIntoView(0,n.viewRange.col-1):n.scrollIntoView(0,r.col+1))),-1!==r.row||e.shiftKey||e.altKey||e.metaKey)m.apply(this,arguments);else{var u=!1;switch(e.keyCode){case Pl.kbEnterCode:if(bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB()))return;oM._keyboardSort(n,r,!!e.ctrlKey&&e.ctrlKey),u=!0;break;case Pl.kbSpaceCode:return 1===r.col?void e.preventDefault():void 0;case Pl.kbArrowUpCode:case Pl.kbArrowDownCode:case Pl.kbArrowLeftCode:case Pl.kbArrowRightCode:u=!0}u&&(e.preventDefault(),e.stopImmediatePropagation())}else{var a=Math.max(0,n._szClient.height-n.columnHeaders.height),c=r.col,h=r.row,l=e.shiftKey;switch(e.keyCode){case Pl.kbEnterCode:return s[0].dispatchEvent(new Event("mousedown")),e.preventDefault(),void e.stopImmediatePropagation();case Pl.kbArrowUpCode:n.rows.getNextCell(r.row,ru.grid.SelMove.Prev,a),this._moveSel(ru.grid.SelMove.Prev,ru.grid.SelMove.None,l),r.row-1<=n.viewRange.row&&n.scrollIntoView(n.viewRange.row-1,-1,!0);break;case Pl.kbArrowDownCode:n.rows.getNextCell(r.row,ru.grid.SelMove.Next,a),this._moveSel(ru.grid.SelMove.Next,ru.grid.SelMove.None,l),r.row+1>=n.viewRange.row2&&n.scrollIntoView(n.viewRange.row2+1,-1,!0);break;case Pl.kbArrowLeftCode:if(n.rightToLeft){if(c=n._cols.getNextCell(r.col,ru.grid.SelMove.Next,a),w=n.cells.getCellElement(h,c),2===r.col&&w&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridDuplicateDetectionFCB(),bf.getApril2020UpdateFCB())&&bf.isElementNotFocused(s))return ru.setAttribute(s[0],Pl.tabIndex,-1),s[0].focus(),void e.preventDefault();this._moveSel(ru.grid.SelMove.None,ru.grid.SelMove.Next,l),c>=n.viewRange.col2&&n.scrollIntoView(-1,n.viewRange.col2+1,!0)}else{c=n._cols.getNextCell(r.col,ru.grid.SelMove.Prev,a);var f=(w=n.cells.getCellElement(h,c)).getElementsByClassName(Pl.ccHierarchyIconCSSClass),d=w.getElementsByClassName(cf.errorIndicatorCSSClass);if(2===r.col&&w){if(bf.isElementFocused(s))return oM._handleSelection(r,n,r.row,r.col,!0),t.focus(),void e.preventDefault();if(f&&0<f.length)return oM._handleSelection(r,n,h,c,!0),ru.setAttribute(t,Pl.tabIndex,-1),ru.setAttribute(w,Pl.tabIndex,0),n._activeCell=w,f[0].focus(),void e.preventDefault()}else if(3===r.col&&w&&d&&0<d.length)return oM._handleSelection(r,n,h,c,!0),ru.setAttribute(t,Pl.tabIndex,0),ru.setAttribute(w,Pl.tabIndex,-1),ru.setAttribute(d[0],Pl.tabIndex,-1),n._activeCell=w,d[0].focus(),void e.preventDefault();this._moveSel(ru.grid.SelMove.None,ru.grid.SelMove.Prev,l),c<=n.viewRange.col&&n.scrollIntoView(-1,n.viewRange.col-1,!0)}break;case Pl.kbArrowRightCode:if(n.rightToLeft){if(c=n._cols.getNextCell(r.col,ru.grid.SelMove.Prev,a),w=n.cells.getCellElement(h,c),2===r.col&&w){var A=w.getElementsByClassName(Pl.ccHierarchyIconCSSClass);if(A&&0<A.length)return oM._handleSelection(r,n,h,c,!0),ru.setAttribute(t,Pl.tabIndex,-1),ru.setAttribute(w,Pl.tabIndex,0),n._activeCell=w,A[0].focus(),void e.preventDefault()}else if(3===r.col&&w){var g=w.getElementsByClassName(cf.errorIndicatorCSSClass);if(g&&0<g.length)return oM._handleSelection(r,n,h,c,!0),ru.setAttribute(t,Pl.tabIndex,-1),ru.setAttribute(w,Pl.tabIndex,0),n._activeCell=w,g[0].focus(),void e.preventDefault()}this._moveSel(ru.grid.SelMove.None,ru.grid.SelMove.Prev,l),c<=n.viewRange.col&&n.scrollIntoView(-1,n.viewRange.col-1,!0)}else{c=n._cols.getNextCell(r.col,ru.grid.SelMove.Next,a);var w=n.cells.getCellElement(h,c);if(2===r.col&&w&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridDuplicateDetectionFCB(),bf.getApril2020UpdateFCB())&&bf.isElementNotFocused(s))return ru.setAttribute(s[0],Pl.tabIndex,-1),s[0].focus(),void e.preventDefault();this._moveSel(ru.grid.SelMove.None,ru.grid.SelMove.Next,l),c>=n.viewRange.col2&&n.scrollIntoView(-1,n.viewRange.col2+1,!0)}}e.preventDefault()}}},oM._handleSelection=function(t,i,e,n,r){if(-1<t.row&&-1<t.col){var s=i.rows,o=i._selHdl._sel,a=new ru.grid.CellRange(t.row,t.col);i._mouseHdl._startListBoxSelection(t.row);for(var h,c=!1,u=0;u<s.length;u++){var l,f=a.containsRow(u)?i._mouseHdl._lbSelState:null!=i._mouseHdl._lbSelRows[u];r&&(f=u===e),f!==s[u].isSelected&&(l=new ru.grid.CellRangeEventArgs(i.cells,new ru.grid.CellRange(u,o.col,u,o.col2)),i.onSelectionChanging(l)&&(s[u]._setFlag(ru.grid.RowColFlags.Selected,f,!0),c=!0,i.onSelectionChanged(l)))}(c||o&&o.row===e)&&(o.row=e,o.col=n,i.refreshCells(!1,!0,!0),(h=i.cells.getCellElement(e,n)).getAttribute("aria-selected").toString()!==i.rows[e].isSelected.toString()&&h.setAttribute("aria-selected",i.rows[e].isSelected.toString()))}},oM._patchGetDefaultRowHeight=function(t){this._overrideIfCanUseSizeCaching(t,"_getDefaultRowHeight",function(){return cf.defaultMinRowHeight})},oM._patchGetDefaultCellPadding=function(t){this._overrideIfCanUseSizeCaching(t,"_getDefaultCellPadding",function(){return cf.tableBodyPadding})},oM._patchRefresh=function(t){this._overrideIfCanUseSizeCaching(t,"refresh")},oM._overrideIfCanUseSizeCaching=function(t,i,e){var n=t.grid.FlexGrid.prototype[i];t.grid.FlexGrid.prototype[i]=function(){var t=this;if(lm(this)){if(e)return e();var i=arguments;return fm(this._root,function(){return n.apply(t,i)})}return n.apply(this,arguments)}},oM.applied=!1,oM._closeEditor=function(){var t,i,e=this._g,n=ru.Control.getControl(this._divEdt),r=this._edtCol,s=!1;n&&(s=!0,ru.hidePopup(this._divEdt,function(){n.dispose()})),r&&(i=(t=e.columnHeaders).rows.length?t.getCellElement(t.rows.length-1,r.index):null,this._setAriaExpanded(i,!1),i=e.cells.getCellElement(-1,r.index),this._setAriaExpanded(i,!1),i&&"columnheader"==i.getAttribute("role")&&i.focus()),!s&&this._divEdt&&ru.hidePopup(this._divEdt,function(){}),this._divEdt=null,this._edtCol=null},oM._setControlFocus=function(){var t=this._e;t&&(!ru.isIE()&&t.tabIndex<0?ru.moveFocus(t,0):t.focus())},oM._setFocus=function(t){if(this.hostElement&&(t||!this.containsFocus())){var i=ru.getActiveElement(),e=this._eFocus;if(i&&i.getAttribute&&"columnheader"==i.getAttribute("role"))return;this.activeEditor?ru.contains(this.activeEditor,i)||(this._setFocusNoScroll(this.activeEditor),e.removeAttribute("tabindex")):this._activeCell?ru.contains(this._activeCell,i)||i==this._root||this._activeCell.classList.contains(cf.groupClass)||(this._setFocusNoScroll(this._activeCell),e.removeAttribute("tabindex")):ru.contains(e,i)||e.focus(),this.containsFocus()||e.focus()}},oM._setFocusNoScroll=function(t){var i;"columnheader"!=t.getAttribute("role")&&(i=this.scrollPosition,t!=this._eFocus&&(t.tabIndex=this._tabIndex,t.focus()),this.scrollPosition=i)},oM.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;max-width:inherit;max-height:inherit;-webkit-overflow-scrolling:touch;"><div wj-part="cells" class="wj-cells" style="position:absolute"></div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none;"><div style="width:100%;height:100%"></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone" style="position:absolute;pointer-events:none;overflow:hidden"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell" style="position:fixed;'+("rtl"===window.document.body.dir?"right:-32000px":"left:-32000px")+'">0</div><div wj-part="sz" style="position:relative;visibility:hidden"></div></div>',oM.filterHandleResize=function(){this._wasTouching||ru.grid.filter.ColumnFilterEditor.prototype.onButtonClicked()},oM.editColumnFilter=function(t,i){var e=this;this.closeEditor(),t=this._asColumn(t);var n=new ru.grid.CellRangeEventArgs(this._g.cells,new ru.grid.CellRange(-1,t.index));if(this.onFilterChanging(n)){n.cancel=!0;var r=document.createElement("div"),s=this.getColumnFilter(t),o=new ru.grid.filter.ColumnFilterEditor(r,s,this.showSortButtons);ru.addClass(r,"wj-dropdown-panel"),this._divEdt=r,this._edtCol=t,this._g.rightToLeft&&(r.dir="rtl"),o.filterChanged.addHandler(function(){n.cancel=!1,setTimeout(function(){n.cancel||e.apply()})}),o.buttonClicked.addHandler(function(){e.closeEditor(),e._g.focus(),e.onFilterChanged(n)}),o.lostFocus.addHandler(function(){setTimeout(function(){var t=ru.Control.getControl(e._divEdt);t&&!t.containsFocus()&&e.closeEditor()},10)});var a=this._g;a._edtHdl._commitRowEdits(),a.scrollIntoView(-1,t.index,!0);var h=this._g.columnHeaders,c=i&&i.panel==h?i.row:h.rows.length-1,u=i?i.col:t.index,l=h.getCellBoundingRect(c,u),f=h.getCellElement(c,u);f?ru.showPopup(r,f,!1,!1,!1):ru.showPopup(r,l),this._setAriaExpanded(f,!0),this._setAriaExpanded(a.cells.getCellElement(-1,u),!0);for(var d=o.hostElement.querySelectorAll("input"),A=0;A<d.length;A++){var g=d[A];if(0<g.offsetHeight&&-1<g.tabIndex&&!g.disabled){g.focus();break}}o.containsFocus()||o.focus()}else this._divEdt=this._edtCol=null},oM.applyValueFilter=function(i){var t=this.column;return!(this._bnd&&this._values&&Object.keys(this._values).length)||(t.dataType==ru.DataType.Array?(i=this.dataMap?this.dataMap.getDisplayValues(i):t.dataMap?t.dataMap.getDisplayValues(i):ru.Globalize.format(i,t.format),Object.keys(this._values).every(function(t){return 0<=i.indexOf(t)})):(i=this._bnd.getValue(i),i=this.dataMap?this.dataMap.getDisplayValue(i):t.dataMap?t.dataMap.getDisplayValue(i):ru.Globalize.format(i,t.format),null!=this._values[i]))},oM.applyConditionFilter=function(t){var i=this._col,e=this._c1,n=this._c2;if(!this._bnd||!this.isActive)return!0;t=this._bnd.getValue(t),i.dataMap?t=i.dataMap.getDisplayValue(t):ru.isDate(t)?(ru.isString(e.value)||ru.isString(n.value))&&(t=ru.Globalize.format(t,i.format)):ru.isNumber(t)?t=ru.Globalize.parseFloat(ru.Globalize.format(t,i.format)):i.dataType===ru.DataType.Object&&t.Name&&(t=t.Name);var r=e.apply(t),s=n.apply(t);return e.isActive&&n.isActive?this._and?r&&s:r||s:e.isActive?r:!n.isActive||s},oM.getClipString=function(t){var i=this._g,e="",n=!0;t=t||i.selection;for(var r=(t=ru.asType(t,ru.grid.CellRange)).topRow;r<=t.bottomRow;r++)if(i.rows[r].isVisible){n||(e+="\n"),n=!1;for(var s,o=t.leftCol,a=!0;o<=t.rightCol;o++)i.columns[o].isVisible&&(a||(e+="\t"),a=!1,-1<(s=(s=i.cells.getCellData(r,o,!0).toString()?i.cells._activeCell.textContent:"").replace(/\t/g," ")).indexOf("\n")&&(s='"'+s.replace(/"/g,'""')+'"'),e+=s)}return e},oM._handleResize=function(){this.isDroppedDown&&(this.refresh(),this.isDroppedDown=!0)},oM._mousemove=function(t){if(null!=this._htDown){if(0==t.buttons&&this._eMouse&&600<t.timeStamp-this._eMouse.timeStamp)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else switch(this._htDown.cellType){case ru.grid.CellType.Cell:this._mouseSelect(t,t.shiftKey);break;case ru.grid.CellType.RowHeader:0==(this._g.allowDragging&ru.grid.AllowDragging.Rows)&&this._mouseSelect(t,!0)}}},oM._mousedown=function(t){var i=this._g,e=i.hitTest(t),n=e.cellType,r=t.ctrlKey||t.metaKey;if(this._selDown=i.selection,e.panel==i.cells){if(ru.closestClass(t.target,ru.grid.CellFactory._WJC_DROPDOWN)){t.preventDefault();var s=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i._edtHdl)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i._edtHdl._toggleListBox)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||i._edtHdl._toggleListBox(t,e.range)};return void(oM.userAgent&&oM.userAgent.isIos?setTimeout(s,500):s())}if(i.editRange&&i.editRange.contains(e.range))return}var o=ru.getActiveElement();if(t.target!=o||!i._isInputElement(t.target)){if(n==ru.grid.CellType.None){var a=t.target;return a&&"true"===a.getAttribute("row-selection-checkbox")?void oM._handleSelection(new ru.grid.HitTestInfo(a.parentNode,null),i,e.row,e.col,!1):void i._edtHdl._commitRowEdits()}if(this._htDown=e,this._eMouse=t,null!=this._szRowCol)return o!=i._eFocus&&(i._eFocus.tabIndex=0,i._eFocus.focus()),void this._handleResizing(t);switch(n){case ru.grid.CellType.Cell:1!=e.col?(r&&i.selectionMode==ru.grid.SelectionMode.ListBox&&this._startListBoxSelection(e.row),this._mouseSelect(t,t.shiftKey)):0==(this._g.allowDragging&ru.grid.AllowDragging.Rows)&&(i.selectionMode==ru.grid.SelectionMode.ListBox&&this._startListBoxSelection(e.row),this._mouseSelect(t,t.shiftKey));break;case ru.grid.CellType.RowHeader:0==(this._g.allowDragging&ru.grid.AllowDragging.Rows)&&(i.selectionMode==ru.grid.SelectionMode.ListBox&&this._startListBoxSelection(e.row),this._mouseSelect(t,t.shiftKey))}if(n==ru.grid.CellType.Cell&&-1<i.rows.maxGroupLevel&&ru.closestClass(t.target,ru.grid.CellFactory._WJC_COLLAPSE)){var h=ru.tryCast(i.rows[e.row],ru.grid.GroupRow);if(h)return r?i.collapseGroupsToLevel(h.isCollapsed?h.level+1:h.level):h.isCollapsed=!h.isCollapsed,void this.resetMouseState()}}},oM._click=function(t){var i,e,n,r;50<Date.now()-this._tsLast&&!t.pointerType&&(i=this._g,e=t.target,n=new ru.grid.HitTestInfo(e,null),t.defaultPrevented||n.grid!=i||i._isInputElement(e)||(n.panel==i.topLeftCells?aI.selectAllOrNothing(i):n.panel==i.columnHeaders?(this._eMouse=t,this._clickSort(t,n)):n.panel==i.rowHeaders||1==n.col?(this._startListBoxSelection(n.row),this._mouseSelect(t,t.shiftKey)):n.panel==i.cells&&1!=n.col&&(n.row<0?this._clickSort(t,n):ru.closestClass(e,ru.grid.CellFactory._WJC_COLLAPSE)?(r=i.rows[n.row])instanceof ru.grid.GroupRow&&(t.ctrlKey?i.collapseGroupsToLevel(r.isCollapsed?r.level+1:r.level):r.isCollapsed=!r.isCollapsed):ru.closestClass(e,ru.grid.CellFactory._WJC_DROPDOWN)?i._edtHdl._toggleListBox(t,n.range):i.select(n.range))))},oM._autocompleteSetText=function(t){var e=this;if(!this._inCallback){if(!t&&-1<this.selectedIndex&&(this.selectedIndex=-1),t!=this._oldText&&(this._tbx.value!=t&&(this._tbx.value=t),this._oldText=t,this.onTextChanged(),!t&&this.collectionView))return this._rxHighlight=null,this.collectionView.filter=this._query=null,void(this.isDroppedDown=!1);this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){e._toSearch=null;var t,i=e.text.trim().toLowerCase();i.length>=e._minLength&&i!=e._query&&(i=(e._query=i).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t=ru.escapeHtml(i),e._rxMatch=new RegExp("(?=.*"+i.replace(/ /g,")(?=.*")+")","ig"),e._rxHighlight=e.isContentHtml?new RegExp("("+t.replace(/ /g,"|")+")(?![^<]*>|[^<>]* </)","ig"):new RegExp("("+t.replace(/ /g,"|")+")","ig"),e.itemsSourceFunction?e.itemsSourceFunction(i,e.maxItems,e._itemsSourceFnCallBackBnd):e._updateItems())},this._delay))}},oM.mouseHandleSelection=function(t,i){if(-1<t.row&&-1<t.col){var e=this._g,n=e.rows,r=e._selHdl.selection,s=new ru.grid.CellRange(t.row,t.col);if(null!=this._lbSelRows){for(var o=!1,s=new ru.grid.CellRange(t.row,t.col,this._htDown.row,this._htDown.col),a=0;a<n.length;a++){var h,c=s.containsRow(a)?this._lbSelState:null!=this._lbSelRows[a];c!=n[a].isSelected&&(h=new ru.grid.CellRangeEventArgs(e.cells,new ru.grid.CellRange(a,r.col,a,r.col2)),e.onSelectionChanging(h)&&(n[a]._setFlag(ru.grid.RowColFlags.Selected,c,!0),o=!0,e.onSelectionChanged(h)),0==Object.keys(this._lbSelRows).length&&e.select(s))}o&&e.refreshCells(!1,!0,!0),e.scrollIntoView(t.row,t.col)}else t.cellType==ru.grid.CellType.RowHeader&&(s.col=0,s.col2=e.columns.length-1),i&&(s.row2=r.row2,s.col2=r.col2),e.select(s)}},oM.inputNumberOnGotFocus=function(t){var i;this.isTouching||(this._tbx.focus(),(i=this.text.indexOf(this._chrDec))<0&&(i=this._getInputRange(!0)[1]),ru.setSelectionRange(this._tbx,i)),ru.Control.prototype.onGotFocus.call(this,t)},oM._updateSymbols=function(){var t=ru.culture.Globalize.numberFormat,i=this.format?this.format.match(/([a-z])(\d*)(,*)(.*)/i):null;this._chrDec=t["."]||".",this._chrNeg=t["-"]||"-",this._chrCur=i&&i[4]?i[4]:t.currency.symbol||"$",this._fmtSpc=i&&i[1]?i[1].toLowerCase():"n",this._fmtPrc=i&&i[2]?parseInt(i[2]):null,this._rxSym=new RegExp("^[%+\\-() "+this._chrDec+this._chrCur+"]*$"),this._rxNeg=new RegExp("(\\-|\\()")},oM.hidePopup=function(i,e,t){void 0===e&&(e=!0),void 0===t&&(t=!1),t?ru.animate(function(t){i.style.opacity=(1-t).toString(),1==t&&(oM.internalHidePopup(i,e),i.style.opacity="")}):oM.internalHidePopup(i,e)},oM.internalHidePopup=function(t,i){t.style.display="none",i&&t.parentElement&&"none"==t.style.display&&ru.removeChild(t);var e=t[ru.Control._SCRL_KEY];e instanceof ru.Control&&e.dispose(),delete t[ru.Control._SCRL_KEY],delete t[ru.Control._OWNR_KEY]},oM._overrideFlexGridUpdateScrollPosition=function(){if(ru.input.ComboBox.prototype._isRefreshing)return!1;var t=this._root,i=t.scrollTop,e=t.scrollLeft;this.rightToLeft&&"rev"==ru.grid.FlexGrid._getRtlMode()&&(e=t.scrollWidth-t.clientWidth-e);var n=new ru.Point(-Math.abs(e),-i);return!this._ptScrl.equals(n)&&(this._ptScrl=n,this.onScrollPositionChanged(),!0)},oM._overrideComboBoxRefresh=function(t){var i=ru.input.ComboBox.prototype;i._isRefreshing=!0,i._refreshTimeout&&clearTimeout(i._refreshTimeout),i._refreshTimeout=setTimeout(function(){i._isRefreshing=!1},500),void 0===t&&(t=!0),ru.input.DropDown.prototype.refresh.call(this,t),ru.hasItems(this.collectionView)&&(this._lbx.refresh(),-1<this.selectedIndex&&(this.selectedIndex=this._lbx.selectedIndex))},oM._overrideComboBoxDispose=function(){var t=ru.input.ComboBox.prototype;t._refreshTimeout&&clearTimeout(t._refreshTimeout),t._refreshTimeout=null,this.isDroppedDown=!1;var i,e=this.dropDown,n=ru.Control;e&&((i=n.getControl(e))&&i.dispose(),ru.removeChild(e)),n.prototype.dispose.call(this)},oM._overrideComboboxSetText=function(t,i){if(!this._composing&&!this._settingText){var e,n;!i&&t&&3===t.length&&(!this.lastUserText||this.lastUserText.length<3)&&t[0]<"3"?!(e=bf.metadataContext.client.dateFormattingInfo)||"H:mm"!==e.ShortTimePattern&&"H.mm"!==e.ShortTimePattern||1!==t.indexOf(e.TimeSeparator)||2!==(t=(this.lastUserText=t).replace(e.TimeSeparator,"")).length||"0"!==t[0]||NaN!==(n=parseInt(t,10))&&(t=n.toString(),this._setSelRange(2,4)):this.lastUserText=t,this._settingText=!0,null==t&&(t=""),t=t.toString();var r=this.selectedIndex,s=this.collectionView,o=this._getSelStart(),a=-1,h=!0;if(this.isEditable&&(!this._delKey&&this.containsFocus()||(h=!(i=!0))),r=this.indexOf(t,i),h&&(r<0&&i&&(r=this.indexOf(t,!1)),r<0&&0<o&&(r=this.indexOf(t.substr(0,o),!1))),r<0&&!this.isEditable&&oM._hasItems(s)&&(this.isRequired||t))for(var c=this._oldText||"",r=Math.max(0,this.indexOf(c,!1)),u=0;u<t.length&&u<c.length;u++)if(t[u]!=c[u]){o=u;break}-1<r&&(a=o,t=this.getDisplayText(r)),t!=this._tbx.value&&(this._tbx.value=t),-1<a&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(a),s&&s.moveCurrentToPosition(r),this._delKey=0,this._settingText=!1,ru.input.DropDown.prototype._setText.call(this,t,i)}},oM._hasItems=function(t){return null!=t&&null!=t.items&&0<t.items.length},oM);function oM(){}var aM=(hM.prototype.onSelectionChanged=function(t){},hM.prototype.sendPoliteMessage=function(t){},hM.prototype.sendAssertiveMessage=function(t){},hM.prototype.sendPoliteCellValueMessage=function(t,i){},hM.prototype.sendAssertiveCellValueMessage=function(t,i){},hM.prototype.dispose=function(){},hM);function hM(){}var cM,uM,lM=((window&&window.__extends||(cM=function(t,i){return(cM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}cM(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(fM,uM=aM),fM.prototype.sendPoliteMessage=function(t){this.component.sendPoliteMessage(t)},fM.prototype.sendAssertiveMessage=function(t){this.component.sendAssertiveMessage(t)},fM.prototype.sendPoliteCellValueMessage=function(t,i){var e=this.getCellValueMessage(t,i);this.component.sendPoliteMessage(e)},fM.prototype.sendAssertiveCellValueMessage=function(t,i){var e=this.getCellValueMessage(t,i);this.component.sendAssertiveMessage(e)},fM.prototype.onSelectionChanged=function(t){var i,e,n,r;t.isMultiSelection||t.isCellSelection&&(i=this.dataSetService.getRecordById(t.rowId),e=bf.getDatasetColumnByName(this.dataSetService.columns,t.columnName),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||(n=e.displayName,r=this.getAriaFormattedValue(i,e),this.sendAssertiveCellValueMessage(r,n)))},fM.prototype.getAriaFormattedValue=function(t,i){var e=this.typeProcessorService.getValue(t,i,null,!0);return MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(e)?$l.emptyCellAriaLabel:e},fM.prototype.getCellValueMessage=function(t,i){return MscrmCommon.ControlUtils.String.Format($l.cellTemplateAriaLabel,t,i)},fM.prototype.dispose=function(){this.component=null},fM);function fM(t,i,e){var n=uM.call(this)||this;return n.component=t,n.dataSetService=i,n.typeProcessorService=e,n}var dM=(Object.defineProperty(AM.prototype,"maxWidth",{get:function(){return-1===this._maxWidth&&(this._maxWidth=this.container.clientWidth),this._maxWidth},enumerable:!1,configurable:!0}),Object.defineProperty(AM.prototype,"maxHeight",{get:function(){return-1===this._maxHeight&&(this._maxHeight=this.container.clientHeight),this._maxHeight},enumerable:!1,configurable:!0}),AM.prototype.buildSearchPlaceholder=function(){this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}"></div>',this.containerId+Pl.searchPlaceholderPostfix)},AM.prototype.buildErrorArea=function(t){void 0===t&&(t=""),this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}" {2}></div> <div id="{1}" {2}></div>',this.containerId+Pl.genericErrorPostfix+t,this.containerId+Pl.updateErrorPostfix+t,bf.isEditableGridOnLegacyClient(this.isEditable)?null:'style="display: flex;"')},AM.prototype.getGridStyle=function(){if(bf.isEditableGridOnLegacyClient(this.isEditable)){var t=this.calcGridHeightFromControlHeight(this.maxHeight);return MscrmCommon.ControlUtils.String.Format('style = "width: {0}px; height: {1}px;"',this.maxWidth.toString(),t.toString())}return'style = "width:100%;display:flex;'+(this.client.userAgent.isBrowserIE?"flex-basis:100%;":"")+'"'},AM.prototype.buildGrid=function(t){var i,e="";t||(e=this.getGridStyle(),bf.isEditableGridOnLegacyClient(this.isEditable)?(i=this.calcGridHeightFromControlHeight(this.maxHeight),this.html+=MscrmCommon.ControlUtils.String.Format('<div style="position:relative;height:{0}px;min-height:250px;">',i)):this.html+='<div style="position:relative;display:flex;width:100%;flex:1 1 auto;">');var n,r,s=this.learningPathService.addLearningPathId('<div id="{0}" aria-label="{1}" class="editableGrid {2}" {3}></div>',Pl.lpGridId);this.html+=MscrmCommon.ControlUtils.String.Format(s,this.getHostId(),this.isEditable?$l.editableGridAriaLabel:$l.readonlyGridAriaLabel,t?Pl.nestedGridDetailClass:MscrmCommon.ControlUtils.String.Empty,e),this.html+=this.buildProgressIndicator(),bf.isUci()?(this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}{1}" class="{2}" style="display:none;background-color:{3}"></div>',this.containerId,Pl.noRecordsPostfix,Pl.noRecordsContainerClass,Cf.getDesignBag().ListItemBackGroundColor||""),n=this.getContainerId()+"-"+Pl.FilterHasBeenApplied,r=this.getContainerId()+"-"+Pl.SortAndFilterInstruction,this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}" style="display:none">{1}</div>',n,$l.filterAppliedOnColumn),this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}" style="display:none">{1}</div>',r,$l.accessibilityInstructionForColumn)):this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}{1}" class="{2}" style="display:none">{3}</div>',this.containerId,Pl.noRecordsPostfix,Pl.noRecordsLabelClass,$l.noRecordsText),t||(this.html+="</div>")},AM.prototype.buildProgressIndicator=function(){return MscrmCommon.ControlUtils.String.Format('<div id="{0}{1}" class="{2}" style="width:100%;position:absolute;display:none;"></div>',this.containerId,Pl.progressIndicatorPostfix,Pl.gridProgressIndicatorClass)},AM.prototype.buildFooter=function(t){void 0===t&&(t=!0);var i="",e="",n=bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())?"style=font-size:12px;color:"+(Cf.getDesignBag().FooterPageIconColor||""):"",r=bf.isUci()?'<span class="symbolFont FirstPageButton-symbol" '+n+"></span>":'<span class="symbolFont BackButton-symbol"></span><span class="symbolFont BackButton-symbol"></span>';e+='<div class="cc-grid-pager"><div class="wj-control wj-content wj-pager" id= "{1}"><div class="wj-input-group">',e+='<span class="wj-input-group-btn">     <button id={2} title={3} aria-label="{3}" type="button" class="wj-btn wj-btn-default" tabindex="0" '+n+" >    {4}    </button>    </span>",e+='<span class="wj-input-group-btn">    <button id="{5}" title="{6}" aria-label="{6}" type="button" class="wj-btn wj-btn-default" tabindex="0">    <span class="symbolFont BackButton-symbol" '+n+"></span>    </button>    </span>",e+='<span class="wj-input-group-btn">    <span class="cc-grid-paging-current" title="{7}"',e+=n+"></span>  </span>",e+='<span class="wj-input-group-btn">    <button id="{8}" title="{9}" aria-label="{9}" type="button" class="wj-btn wj-btn-default" tabindex="0" '+n+'>    <span class="symbolFont Forward-symbol"></span>   </button>    </span>',e+="</div></div></div>",e=this.learningPathService.addLearningPathId(e,Pl.lpGridFooterPagerId);var s="",o="";bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())?(o=this.client.isRTL?"padding-right:20px":"padding-left:20px",s="line-height:40px;"):bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&(o=this.client.isRTL?"padding-right:10px":"padding-left:10px",s="line-height:40px;"),i+=t?'<div class="cc-grid-footer" style="'+(o=o+";background-color:"+(Cf.getDesignBag().FooterPageBackgroundColor||""))+'"><div id={0} class="cc-grid-status-area" style="'+s+'"></div>':'<div class="cc-grid-footer" style="display:none;"><div id={0} class="cc-grid-status-area" style="'+s+'"></div>',i+=e,i+="</div>",i=this.learningPathService.addLearningPathId(i,Pl.lpGridFooterId),this.html+=MscrmCommon.ControlUtils.String.Format(i,this.containerId+Pl.statusAreaPostfix,this.containerId+Pl.pagerPostfix,this.containerId+Pl.firstPagePostfix,$l.firstPageTooltipLabel,r,this.containerId+Pl.previousPagePostfix,$l.previousPageTooltipLabel,$l.currentPageTooltipLabel,this.containerId+Pl.nextPagePostfix,$l.nextPageTooltipLabel)},AM.prototype.buildGroupBy=function(){var t=this.learningPathService.addLearningPathId('<label class="label" role = "presentation" for="{0}" id="{1}">{2}</label>',"cc-grid-groupby|label"),i=bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())?'<div class="cc-grid-groupby" style="display:flex;min-height: 30px;padding:4px 20px 0px 20px;">'+t+'<select id="{0}" tabindex="0"></select></div>':'<div class="cc-grid-groupby" style="display:flex;min-height: 30px;">'+t+'<select id="{0}" tabindex="0"></select></div>';i=this.learningPathService.addLearningPathId(i,"cc-grid-groupby"),this.html+=i;var e=this.containerId+Pl.groupBySelectPostfix,n=e+Pl.labelPostfix;this.html=MscrmCommon.ControlUtils.String.Format(this.html,e,n,$l.groupByMenuHeaderLabel)},AM.prototype.buildAriaLiveNotificationArea=function(){this.html+='<span id="{0}" class="cc-grid-accessibility-cue" aria-hidden="true" aria-live="polite" role="status"></span>',this.html+='<span id="{1}" class="cc-grid-accessibility-cue" aria-hidden="true" aria-live="assertive" role="alert"></span>',this.html=MscrmCommon.ControlUtils.String.Format(this.html,this.containerId+Pl.ariaPoliteLiveRegionPostfix,this.containerId+Pl.ariaAssertiveLiveRegionPostfix)},AM.prototype.build=function(t,i,e){void 0===e&&(e=!0),this.isEditable=i,this.hasGroupBy&&this.gridControlState.isGroupByEnabled&&this.buildGroupBy(),this.buildSearchPlaceholder(),this.buildErrorArea(),this.buildGrid(t),i&&(this.buildFooter(e),this.buildAriaLiveNotificationArea());var n=MscrmCommon.ControlUtils.String.Format('style="width: 100%; height: auto; display: flex;"');!t&&bf.isEditableGridOnLegacyClient(i)&&(n=MscrmCommon.ControlUtils.String.Format('style="width: {0}px; height: auto;"',this.maxWidth.toString()));var r="cc-grid";!bf.isUci()&&bf.isDesktop(this.client.formFactor)&&(r+=" cc-grid-desktop"),bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())&&(r+=" "+Pl.HighDensityClassSelector.replace(".","")),this.client.userAgent.isBrowserIE&&(r+=" BrowserIE"),this.client.isRTL&&(r+=" cc-grid-rtl"),this.html=MscrmCommon.ControlUtils.String.Format('<div id="{0}" class="{1}" {2}>{3}</div>',this.containerId+Pl.controlDivPostfix,r,n,this.html),this.html=this.learningPathService.addLearningPathId(this.html,Pl.lpGridContainerId),Object.assign(this.container.style,{display:"flex"}),this.container.innerHTML=this.html,this.setNavigationButtons(this.container),this.setNoRecordsDiv(this.container),this.setScrollIndicatorsDiv(this.container)},AM.prototype.resizeControl=function(t,i,e){return(t!==this.maxHeight||i!==this.maxWidth)&&(this._maxHeight=t,this._maxWidth=i,e&&(document.getElementById(this.containerId+Pl.controlDivPostfix).setAttribute("style",MscrmCommon.ControlUtils.String.Format("height: {0}px; width: {1}px",this.maxHeight,this.maxWidth)),this.adjustGridHeight(this.maxHeight)),!0)},AM.prototype.adjustGridHeight=function(t){var i,e,n;bf.isEditableGridOnLegacyClient(this.isEditable)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&(t=document.getElementById(this.containerId+Pl.controlDivPostfix).clientHeight),i=this.calcGridHeightFromControlHeight(t),n=(e=document.getElementById(this.getHostId())).parentElement,e.setAttribute("style",MscrmCommon.ControlUtils.String.Format("height: {0}px",i)),n.setAttribute("style",MscrmCommon.ControlUtils.String.Format("height: {0}px; position: relative;",i)))},AM.prototype.getContainerId=function(){return this.containerId},AM.prototype.getHostId=function(){return this.containerId+Pl.componentDivPostfix},Object.defineProperty(AM.prototype,"previousPageButton",{get:function(){return this.prevPage},enumerable:!1,configurable:!0}),Object.defineProperty(AM.prototype,"nextPageButton",{get:function(){return this.nextPage},enumerable:!1,configurable:!0}),Object.defineProperty(AM.prototype,"firstPageButton",{get:function(){return this.firstPage},enumerable:!1,configurable:!0}),Object.defineProperty(AM.prototype,"currentPageElement",{get:function(){return this.currentPage},enumerable:!1,configurable:!0}),Object.defineProperty(AM.prototype,"noRecordsDiv",{get:function(){return this.noRecords},enumerable:!1,configurable:!0}),Object.defineProperty(AM.prototype,"progressIndicatorDiv",{get:function(){return this.progressIndicator},enumerable:!1,configurable:!0}),Object.defineProperty(AM.prototype,"groupByHeight",{get:function(){var t=document.getElementById(this.containerId+Pl.groupBySelectPostfix);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?0:t.parentElement.clientHeight},enumerable:!1,configurable:!0}),AM.prototype.calcGridHeightFromControlHeight=function(t){var i=(this.hasGroupBy?this.groupByHeight:0)+cf.pagerHeight+this.getErrorContainerHeight(Pl.updateErrorPostfix)+this.getErrorContainerHeight(Pl.genericErrorPostfix),e=t-i;return bf.isUci()||!bf.isDesktop(this.client.formFactor)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.client.adjustDataAreaHeight)||(e=this.client.adjustDataAreaHeight(this.container.id,e,cf.defaultMinRowHeightWeb,i)),e},AM.prototype.getErrorContainerHeight=function(t){var i=document.getElementById(this.getContainerId()+t);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(i.innerHTML)?0:i.clientHeight},AM.prototype.setNavigationButtons=function(t){var i=t.getElementsByTagName("button");this.currentPage=t.querySelector(".cc-grid-paging-current"),this.firstPage=i.item(0),this.prevPage=i.item(1),this.nextPage=i.item(2)},AM.prototype.setNoRecordsDiv=function(t){this.noRecords=t.getElementsByClassName(bf.isUci()?Pl.noRecordsContainerClass:Pl.noRecordsLabelClass).item(0)},AM.prototype.setScrollIndicatorsDiv=function(t){this.progressIndicator=t.getElementsByClassName(Pl.gridProgressIndicatorClass).item(0)},AM.prototype.dispose=function(){this.containerId=null,this._maxWidth=null,this._maxHeight=null,this.html=null,this.prevPage=null,this.nextPage=null,this.container=null,this.client=null},AM);function AM(t,i,e,n,r,s,o,a){if(this.html="",this.learningPathService=null,this._maxHeight=-1,this._maxWidth=-1,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))throw new Error("Id for container not set.");this.containerId=t,this.gridControlState=i,this._maxWidth=e,this._maxHeight=n,this.hasGroupBy=r,this.container=s,this.client=o,this.learningPathService=a}var gM=(Object.defineProperty(wM.prototype,"enteringCriticalRegion",{get:function(){return this.enteringCriticalRegionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(wM.prototype,"leftCriticalRegion",{get:function(){return this.leftCriticalRegionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(wM.prototype,"isInCriticalRegion",{get:function(){for(var t=!1,i=0,e=Object.keys(this.dataSetServices);i<e.length;i++)var n=e[i],t=t||this.dataSetServices[n].hasDirtyRecord;for(var r=0,s=Object.keys(this.errorHandlingServices);r<s.length;r++)n=s[r],t=t||this.errorHandlingServices[n].hasGridError;return t},enumerable:!1,configurable:!0}),wM.prototype.onDataSetRefresh=function(){this.evaluateState(this,null)},wM.prototype.prepareForRiskyOperation=function(){for(var t=!1,i=0,e=Object.keys(this.gridComponents);i<e.length;i++){var n=e[i];this.gridComponents[n].finishEdit(),this.gridComponents[n].cancelSelection(),t=t||!this.gridComponents[n].isEditable}return t||!this.isInCriticalRegion},wM.prototype.register=function(t,i,e,n){this.dataSetServices[t]=i,this.errorHandlingServices[t]=e,(this.gridComponents[t]=n).cellEditProcessed.addHandler(this.evaluateState),i.saved.addHandler(this.evaluateState),i.gridError.addHandler(this.evaluateState)},wM.prototype.unregister=function(t){var i=this.dataSetServices[t],e=this.gridComponents[t];try{e.cellEditProcessed.removeHandler(this.evaluateState),i.saved.removeHandler(this.evaluateState),i.gridError.removeHandler(this.evaluateState)}catch(t){}delete this.dataSetServices[t],delete this.gridComponents[t],delete this.errorHandlingServices[t],this.evaluateState(this,null)},wM.prototype.dispose=function(){this.enteringCriticalRegionEvent.removeAllHandlers(),this.leftCriticalRegionEvent.removeAllHandlers(),this.enteringCriticalRegionEvent=null,this.leftCriticalRegionEvent=null,this.dataSetServices=null,this.gridComponents=null},wM);function wM(){var r=this;this.evaluateState=function(t,i){var e=r.previousState,n=r.isInCriticalRegion;e!==n&&((r.previousState=n)?r.enteringCriticalRegionEvent.raise(r):r.leftCriticalRegionEvent.raise(r))},this.dataSetServices={},this.errorHandlingServices={},this.gridComponents={},this.previousState=!1,this.enteringCriticalRegionEvent=new ru.Event,this.leftCriticalRegionEvent=new ru.Event}var mM,pM,vM=((window&&window.__extends||(mM=function(t,i){return(mM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}mM(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(bM,pM=ru.EventArgs),Object.defineProperty(bM.prototype,"gridHasError",{get:function(){return this.hasError},enumerable:!1,configurable:!0}),Object.defineProperty(bM.prototype,"gridHasDirtyRecord",{get:function(){return this.hasDirtyRecord},enumerable:!1,configurable:!0}),bM);function bM(t,i){var e=pM.call(this)||this;return e.hasError=t,e.hasDirtyRecord=i,e}var EM,BM,CM=((window&&window.__extends||(EM=function(t,i){return(EM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}EM(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(jM,BM=ru.EventArgs),Object.defineProperty(jM.prototype,"recordId",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(jM.prototype,"moreItemsInQueue",{get:function(){return this.moreInQueue},enumerable:!1,configurable:!0}),Object.defineProperty(jM.prototype,"isRecordSavedSuccessfully",{get:function(){return this.isSuccessfulSave},enumerable:!1,configurable:!0}),Object.defineProperty(jM.prototype,"errorStatus",{get:function(){return this._errorStatus},enumerable:!1,configurable:!0}),jM);function jM(t,i,e,n){var r=BM.call(this)||this;return r.id=t,r.moreInQueue=i,r.isSuccessfulSave=e,r._errorStatus=n,r}var yM=(xM.prototype.getMultiSelectOptionSetColumns=function(){var i=this;this.dataSet.columns.forEach(function(t){(t.dataType?t.dataType.toLowerCase():null)===sf.multiSelectOptionset&&i.multiSelectOptionSetColumns.push(t)})},xM.prototype.getTargetEntityType=function(){return bf.isUci()?this.dataSet.getTargetEntityType():null},xM.prototype.getCurrentRecord=function(){return this.dataSet.getSelectedRecord()},xM.prototype.getRecordById=function(t){return this.gridDataSet.records[t]},Object.defineProperty(xM.prototype,"records",{get:function(){return this.gridDataSet.records},enumerable:!1,configurable:!0}),Object.defineProperty(xM.prototype,"columns",{get:function(){return this.gridDataSet.columns},enumerable:!1,configurable:!0}),Object.defineProperty(xM.prototype,"dataSet",{get:function(){return this.gridDataSet},set:function(t){this.removeDataSetEventHandlers(),this.gridDataSet=t,this.restoreDataSetEventHandlers()},enumerable:!1,configurable:!0}),xM.prototype.add_OnDataSetRecordChange=function(t){this.onDataSetRecordChangeHandlers.push(t),this.dataSet.add_OnDataSetRecordChange(t)},xM.prototype.remove_OnDataSetRecordChange=function(i){this.dataSet.remove_OnDataSetRecordChange(i),this.onDataSetRecordChangeHandlers.filter(function(t){return t!=i})},xM.prototype.addOnDataSetUpdated=function(t){this.onDataSetUpdatedHandlers.push(t),this.dataSet.addOnDataSetUpdated(t)},xM.prototype.removeOnDataSetUpdated=function(i){this.dataSet.removeOnDataSetUpdated(i),this.onDataSetUpdatedHandlers.filter(function(t){return t!=i})},Object.defineProperty(xM.prototype,"rollupColumns",{get:function(){if(null==this.rollupColumnsCollection){this.rollupColumnsCollection=[];for(var t=0;t<this.columns.length;t++)MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.columns[t].attributes)||this.columns[t].attributes.sourcetype!==Mscrm.AttributeSourceType.Rollup||this.rollupColumnsCollection.push(this.columns[t].name)}return this.rollupColumnsCollection},enumerable:!1,configurable:!0}),Object.defineProperty(xM.prototype,"hasDirtyRecord",{get:function(){for(var t=0,i=this.dataSet.sortedRecordIds;t<i.length;t++){var e=i[t];if(this.dataSet.records[e].isDirty())return!0}return!1},enumerable:!1,configurable:!0}),xM.prototype.getRecordEntityReference=function(t){return this.dataSet.records[t].getNamedReference()},xM.prototype.beginRecordSave=function(t,i,e){var n=this;void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===e&&(e=null);var r=e&&this.dataSet.records[e]||this.dataSet.getSelectedRecord();return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||!r.isDirty()||!r.isRecordValid()||(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridTelemetry)||(this.addTelemetryMultiSelectOptionSetSelection(r),t&&this.gridTelemetry.reportSuccess("DataSetSevice",[{name:"savedFromNavigation",value:!0}])),this.addToPersistingList(r.getRecordId()),r.save?r.save({suppressDuplicateDetection:i}).then(function(){return n.endRecordSave({recordId:r.getRecordId(),affectedColumns:[],errorStatus:null,fieldErrorMessages:{},isRecordSavedSuccessfully:!0,isSuccessful:!0,resultType:10})}).catch(function(t){bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&n.endRecordSave({recordId:r.getRecordId(),affectedColumns:[],errorStatus:t,fieldErrorMessages:{name:t.message},isRecordSavedSuccessfully:!1,isSuccessful:!1,resultType:10})}):this.notifyOutputChanged(!0),this.perfTool.tryStart(bd.DataSetUpdate),0))},xM.prototype.addTelemetryMultiSelectOptionSetSelection=function(t){for(var i=0;i<this.multiSelectOptionSetColumns.length;i++){var e=0,n=0,r=this.multiSelectOptionSetColumns[i];MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.getValue(r.name))||(e=t.getValue(r.name).length),MscrmCommon.ControlUtils.Object.isNullOrUndefined(r.attributes.options)||(n=r.attributes.options.length);var s=[{name:"selectCount",value:e},{name:"availableCount",value:n},{name:"optionSetName",value:r.name}];this.gridTelemetry.reportEvent("editablegrid_multiselectoptionsetselection",s)}},xM.prototype.endRecordSave=function(t){var i;MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.persistingRecords)||(-1!==(i=this.persistingRecords.indexOf(t.recordId))&&this.persistingRecords.splice(i,1),this.raiseSavedEvent(t.recordId,0!==this.persistingRecords.length,t.isRecordSavedSuccessfully,t.errorStatus),this.perfTool.tryStop(bd.DataSetUpdate))},xM.prototype.submitValue=function(t,i,e){var n=this.gridDataSet.records[t];MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)?this.loggingService.logError(MscrmCommon.ControlUtils.String.Format("Could not find record {0} inside dataset.",t)):this.records[t].setValue(i,e)},xM.prototype.notifyOnError=function(t){this.errorEvent.hasHandlers&&this.errorEvent.raise(this,new vM(t,this.hasDirtyRecord))},Object.defineProperty(xM.prototype,"saving",{get:function(){return this.savingEvent},enumerable:!1,configurable:!0}),Object.defineProperty(xM.prototype,"saved",{get:function(){return this.savedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(xM.prototype,"gridError",{get:function(){return this.errorEvent},enumerable:!1,configurable:!0}),xM.prototype.removeDataSetEventHandlers=function(){var i=this;MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet)||(0<this.onDataSetRecordChangeHandlers.length&&this.onDataSetRecordChangeHandlers.forEach(function(t){i.dataSet.remove_OnDataSetRecordChange(t)}),0<this.onDataSetUpdatedHandlers.length&&this.onDataSetUpdatedHandlers.forEach(function(t){i.dataSet.removeOnDataSetUpdated(t)}))},xM.prototype.restoreDataSetEventHandlers=function(){var i=this;0<this.onDataSetRecordChangeHandlers.length&&this.onDataSetRecordChangeHandlers.forEach(function(t){i.dataSet.add_OnDataSetRecordChange(t)}),0<this.onDataSetUpdatedHandlers.length&&this.onDataSetUpdatedHandlers.forEach(function(t){i.dataSet.addOnDataSetUpdated(t)})},xM.prototype.addToPersistingList=function(t){-1===this.persistingRecords.indexOf(t)&&(this.persistingRecords.push(t),this.raiseSavingEvent(t))},xM.prototype.raiseSavingEvent=function(t){this.savingEvent.hasHandlers&&this.savingEvent.raise(this,new CM(t,!0,!1))},xM.prototype.raiseSavedEvent=function(t,i,e,n){this.savedEvent.hasHandlers&&this.savedEvent.raise(this,new CM(t,i,e,n))},xM.prototype.dispose=function(){this.removeDataSetEventHandlers(),this.loggingService=null,this.gridDataSet=null,this.notifyOutputChanged=null,this.rollupColumnsCollection=null,this.persistingRecords=null,this.perfTool=null,this.gridTelemetry=null},xM);function xM(t,i,e,n,r){this.rollupColumnsCollection=[],this.persistingRecords=[],this.multiSelectOptionSetColumns=[],this.onDataSetRecordChangeHandlers=[],this.onDataSetUpdatedHandlers=[],this.perfTool=n,this.gridTelemetry=r,this.rollupColumnsCollection=null,this.gridDataSet=i,this.notifyOutputChanged=e,this.loggingService=t,this.savingEvent=new ru.Event,this.savedEvent=new ru.Event,this.errorEvent=new ru.Event,this.getMultiSelectOptionSetColumns()}var IM=(MM.prototype.addServerError=function(t,i){this.serverErrors[t]=i},MM.prototype.removeServerErrorMessage=function(t){delete this.serverErrors[t]},MM.prototype.getServerErrorMessage=function(t){return this.serverErrors[t]&&this.serverErrors[t].message},MM.prototype.getValidServerErrorMessage=function(t){var i=this.serverErrors[t]&&this.serverErrors[t].message;return i!==Pl.PreventDefaultErrorCode.toString()?i:null},MM.prototype.getValidServerErrorCode=function(t){var i=this.serverErrors[t]&&this.serverErrors[t].errorCode;return i!==Pl.PreventDefaultErrorCode?i:null},MM.prototype.getServerErrorLength=function(){return Object.keys(this.serverErrors).length},MM.prototype.update=function(t){var i=bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&this.getServerErrorLength()&&this.getValidServerErrorMessage(t.getRecordId()),e=this.troubledRecords.indexOf(t.getRecordId());-1<e&&t.isRecordValid()&&!i?(this.troubledRecords.splice(e,1),0===this.troubledRecords.length&&this.showUpdateError("")):(-1===e&&!t.isRecordValid()||i)&&(this.troubledRecords.push(t.getRecordId()),this.showUpdateError($l.genericUpdateError)),this.datasetService.notifyOnError(0!==this.troubledRecords.length)},MM.prototype.clearTroubledRecords=function(){this.troubledRecords=[]},MM.prototype.clearUpdateError=function(){this.showUpdateError("")},Object.defineProperty(MM.prototype,"hasGridError",{get:function(){return 0!==this.troubledRecords.length},enumerable:!1,configurable:!0}),MM.prototype.hasError=function(t,i){var e=this.datasetService.records[t];return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&!e.isValid(i)},MM.prototype.hasRecordError=function(t){var i=this.datasetService.records[t];return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&!i.isRecordValid()},MM.prototype.getError=function(t,i){return this.hasError(t,i)?this.datasetService.records[t].getNotification(i):null},MM.prototype.getRecordError=function(t){return this.hasRecordError(t)?this.datasetService.records[t].getErrorMessage():null},MM.prototype.getCellEncodedErrorMessage=function(t,i,e){var n=this.htmlEncode(this.getRecordError(t)),r=this.htmlEncode(this.getError(t,i)),s=this.hasRecordError(t)&&!MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(n)&&e&&n!=$l.genericUpdateError,o=this.hasError(t,i)&&!MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(r);return s&&o?MscrmCommon.ControlUtils.String.Format("<p>{0}</p><p>{1}</p>",n,r):s?n:o?r:null},MM.prototype.showUpdateError=function(t){this.isEditable&&(this.setErrorContainer(Pl.updateErrorPostfix,t),MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(t)||this.ariaLiveRegionService.sendPoliteMessage(t))},MM.prototype.setErrorContainer=function(t,i){var e,n=document.getElementById(this.containerService.getContainerId()+t);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(!MscrmCommon.ControlUtils.String.isNullOrEmpty(i)&&0<i.trim().length?(e="",bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())?e=this._client.isRTL?"margin-right:20px":"margin-left:20px":bf.isUCIDisruptiveFeatureEnabled(bf.getGridNotificationOnServerError())&&(e=this._client.isRTL?"margin-right:10px":"margin-left:10px"),n.innerHTML=MscrmCommon.ControlUtils.String.Format('<div class="cc-grid-errorIndicator" style="'+e+'"></div> {0}',this.htmlEncode(i))):(n.removeAttribute(Pl.tabIndex),n.innerHTML=""),this.containerService.adjustGridHeight()),n},MM.prototype.dispose=function(){this.containerService=null},MM);function MM(t,i,e,n,r,s){this.serverErrors={},this.containerService=t,this.datasetService=i,this.ariaLiveRegionService=e,this.htmlEncode=n,this.troubledRecords=[],this.isEditable=r,this._client=s}var FM=(QM.prototype.isRequired=function(){return 2===this.requiredLevel||1===this.requiredLevel},QM.prototype.isRecommended=function(){return 3===this.requiredLevel},QM.getDefault=function(){var t=new QM;return t.isEditable=!1,t.isSecured=!1,t.isReadable=!0,t.requiredLevel=0,t},QM);function QM(){}var RM=(kM.prototype.isEditable=function(t){if(t.cellType==ru.grid.CellType.Cell&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.row)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.column)){var i=this.tryGetCachedFieldAccess(t.rowId,t.columnName);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?nI.Unknown:i.isEditable?nI.Yes:nI.No}},kM.prototype.deferStartEditing=function(r,s){var o=this;this.getFieldAccess(r.rowId,r.columnName).then(function(t){var i,e,n;MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)||(i=t.isEditable,e=s.getSelectedState(r.row,r.column)==ru.grid.SelectedState.Cursor,n=o.hasCachedFieldAccess(r.rowId,r.columnName),(i&&e&&n||!i&&s.getColumnByName(r.columnName).dataType==ru.DataType.Array&&e&&n)&&s.startEditing(!1,r.row,r.column))})},kM.prototype.redrawCell=function(t){var i;t.cellType==ru.grid.CellType.Cell&&t.row==this.fieldAccessComponent.selectedRow&&(i=this.getFieldAccess(t.rowId,t.columnName),this.fieldAccessComponent.applyStyles(t.row,t.column,i))},kM.prototype.redraw=function(t,i){void 0===i&&(i=!1);var e=t.row==this.fieldAccessComponent.selectedRow&&t.isCurrentRowSelected;t.cellType!=ru.grid.CellType.Cell||e&&!i||(this.fieldAccessComponent.clearSelectedRowFieldAccess(this.columns),t.isRecordRowSelection&&t.isCurrentRowSelected&&(this.setSelectedRowNumber(t.row),this.redrawRow(t.rowId,this.columns)))},kM.prototype.redrawSelectedRow=function(){var t=this.fieldAccessComponent.selectedRowId;MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||(this.fieldAccessComponent.isRecordSelected(t)?this.redrawRow(t,this.columns):this.clearSelectedRow())},kM.prototype.setSelectedRowNumber=function(t){-1<t&&(this.fieldAccessComponent.selectedRow=t)},kM.prototype.updateRow=function(t,i){this.fieldAccessCache[t]=null,this.redrawRow(t,i,!0)},kM.prototype.clearSelectedRow=function(){this.fieldAccessComponent.clearSelectedRowFieldAccess(this.columns)},kM.prototype.redrawRow=function(t,i,e){void 0===e&&(e=!1);for(var n=0;n<this.columns.length;n++){var r,s=this.columns[n].name,o=this.fieldAccessComponent.getColumnIndex(this.columns[n].name),a=this.fieldAccessComponent.isColumnVisible(this.columns[n].name);o<0||!a||(r=this.getFieldAccess(t,s,e),this.fieldAccessComponent.applyStyles(this.fieldAccessComponent.selectedRow,o,r))}},kM.prototype.refreshDataSet=function(t){this.fieldAccessCache={},this.records=t.records,this.columns=t.columns},kM.prototype.getFieldAccess=function(t,i,e){var n=this;if(void 0===e&&(e=!1),this.hasCachedFieldAccess(t,i))return Promise.resolve(this.fieldAccessCache[t][i]);var r=FM.getDefault(),s=[this.getIsReadable(t,i,r),this.getIsEditable(t,i,r),this.getIsSecured(t,i,r),this.getRequiredLevel(t,i,r)];return this.perfTool.tryStart(bd.FieldAccess),Promise.all(s).then(function(){return n.perfTool.tryStop(bd.FieldAccess),e&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.fieldAccessCache)?(n.cacheFieldAccess(t,i,r),Promise.resolve(n.fieldAccessCache[t][i])):n.hasCachedFieldAccess(t,i)?Promise.resolve(n.fieldAccessCache[t][i]):(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.fieldAccessCache)||n.cacheFieldAccess(t,i,r),Promise.resolve(r))})},kM.prototype.tryGetCachedFieldAccess=function(t,i){return this.hasCachedFieldAccess(t,i)?this.fieldAccessCache[t][i]:null},kM.prototype.hasCachedFieldAccess=function(t,i){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.fieldAccessCache[t])&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.fieldAccessCache[t][i])},kM.prototype.cacheFieldAccess=function(t,i,e){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.fieldAccessCache[t])&&(this.fieldAccessCache[t]={}),this.fieldAccessCache[t][i]=e},kM.prototype.getIsEditable=function(n,r,s){var o=this;return new Promise(function(e,t){(MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.records)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.records[n]))&&t(new Error("No records found"));var i=[];i.push(o.getIsFieldEditable(n,r)),bf.isUci()&&i.push(o.getIsRecordEditable(n)),Promise.all(i).then(function(t){var i=!0;t.forEach(function(t){i=i&&t}),s.isEditable=i,e(i)})})},kM.prototype.getIsRecordEditable=function(t){var n=this;return new Promise(function(i,e){n.records[t].isEditable(null).then(function(t){i(t)},function(t){e(t)})})},kM.prototype.getIsFieldEditable=function(t,n){var r=this;return new Promise(function(i,e){r.records[t].isEditable(n).then(function(t){i(t)},function(t){e(t)})})},kM.prototype.getIsSecured=function(t,n,r){var s=this;return new Promise(function(i,e){(MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records[t]))&&e(new Error("No records found")),s.records[t].isSecured(n).then(function(t){r.isSecured=t,i(t)},function(t){e(t)})})},kM.prototype.getIsReadable=function(t,n,r){var s=this;return new Promise(function(i,e){(MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records[t]))&&e(new Error("No records found")),s.records[t].isReadable(n).then(function(t){r.isReadable=t,i(t)},function(t){e(t)})})},kM.prototype.getRequiredLevel=function(t,n,r){var s=this;return new Promise(function(i,e){(MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records[t]))&&e(new Error("No records found")),s.records[t].getFieldRequiredLevel(n).then(function(t){r.requiredLevel=t,i(t)},function(t){e(t)})})},kM.prototype.dispose=function(){this.fieldAccessCache=null,this.records=null,this.columns=null,this.fieldAccessComponent=null},kM);function kM(t,i){this.perfTool=i,this.fieldAccessComponent=t,this.fieldAccessCache={}}var SM,DM,NM,TM,OM,YM,UM=(HM.prototype.compose=function(t){return this.composeConditionFilterExpression(t)},HM.prototype.composeExclude=function(t){throw new Error("'composeExclude' should invoke on value filter composer")},HM.prototype.dispose=function(){},HM.prototype.composeConditionFilterExpression=function(t){var i=t.conditionFilter;return PM(this.composeFilterCondition(t,i.condition1,this._attributeDescriptor),this.composeFilterCondition(t,i.condition2,this._attributeDescriptor),i.and?0:1)},HM.prototype.composeFilterCondition=function(t,i,e){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.operator)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.value))return null;var n=bf.getFetchAttributes(t.binding,t.dataType,e),r=n.attributeName,s=n.entityAliasName,o=void 0;switch(t.dataType){case ru.DataType.String:o=SM.String;break;case ru.DataType.Object:o=SM.Object;break;case ru.DataType.Date:o=SM.Date;break;case"owner":o=SM.Owner}return zM(i.operator,i.value,r,o,s,this._attributeDescriptor)},HM);function HM(t){this._attributeDescriptor=t}function zM(t,i,e,n,r,s){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))return null;var o=(n===SM.Date?function(t){var i;switch(t){case OM.InFiscalPeriod:i=69;break;case OM.InFiscalPeriodAndYear:i=70;break;case OM.InFiscalYear:i=68;break;case OM.InOrAfterFiscalPeriodAndYear:i=72;break;case OM.InOrBeforeFiscalPeriodAndYear:i=71;break;case OM.LastFiscalPeriod:i=63;break;case OM.LastFiscalYear:i=62;break;case OM.LastMonth:i=22;break;case OM.Last7Days:i=17;break;case OM.LastWeek:i=19;break;case OM.LastXDays:i=33;break;case OM.LastXFiscalPeriods:i=65;break;case OM.LastXFiscalYears:i=64;break;case OM.LastXHours:i=31;break;case OM.LastXMonths:i=37;break;case OM.LastXWeeks:i=35;break;case OM.LastXYears:i=39;break;case OM.LastYear:i=28;break;case OM.NotNull:i=13;break;case OM.Null:i=12;break;case OM.NextFiscalPeriod:i=61;break;case OM.NextFiscalYear:i=60;break;case OM.NextMonth:i=24;break;case OM.Next7Days:i=18;break;case OM.NextWeek:i=21;break;case OM.NextXDays:i=34;break;case OM.NextXFiscalPeriods:i=67;break;case OM.NextXFiscalYears:i=66;break;case OM.NextXHours:i=32;break;case OM.NextXMonths:i=38;break;case OM.NextXWeeks:i=36;break;case OM.NextXYears:i=40;break;case OM.NextYear:i=30;break;case OM.OlderthanXDays:i=84;break;case OM.OlderthanXHours:i=85;break;case OM.OlderthanXMinutes:i=86;break;case OM.OlderthanXMonths:i=53;break;case OM.OlderthanXWeeks:i=83;break;case OM.OlderthanXYears:i=82;break;case OM.On:i=25;break;case OM.OnOrAfter:i=27;break;case OM.OnOrBefore:i=26;break;case OM.ThisFiscalPeriod:i=59;break;case OM.ThisFiscalYear:i=58;break;case OM.ThisMonth:i=23;break;case OM.ThisWeek:i=20;break;case OM.ThisYear:i=29;break;case OM.Today:i=15;break;case OM.Tomorrow:i=16;break;case OM.Yesterday:i=14;break;default:i=-1}return i}:VM)(t);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(o))return null;var a=function(){switch(o){case 8:case 9:case 10:case 11:case 87:case 88:return NM.MultiTypedValue;case 70:case 71:case 72:return NM.TwoIntegerValues;case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 28:case 29:case 30:case 73:case 74:case 58:case 59:case 60:case 61:case 62:case 63:case 43:case 51:case 44:case 80:case 81:case 73:case 74:case 41:case 42:return NM.NoValue;case 54:case 55:case 56:case 57:case 0:case 1:case 4:case 2:case 5:case 3:case 6:case 7:case 25:case 26:case 27:case 49:case 75:case 76:case 77:case 78:case 79:return NM.SingleTypedValue;case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 53:case 82:case 83:case 84:case 85:case 86:case 64:case 65:case 66:case 67:case 68:case 69:return NM.SingleIntegerValue}return null}();if(a!==NM.NoValue&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))return null;var h,c=new MscrmCommon.ConditionExpression;if(c.attributeName=e,c.entityAliasName=r,c.conditionOperator=o,n!==SM.Date)return n===SM.String||n===SM.Owner||n===SM.Object||n===SM.Enum?(c.value=function(t,i,e){if(bf.isUci())if(bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB()))switch(t){case OM.NotBeginsWith:case OM.BeginsWith:return bf.contextUtils.encodeFilterString(GM(i),{encloseWithWildcard:!0,encloseWithWildcardOption:2});case OM.NotEndsWith:case OM.EndsWith:return bf.contextUtils.encodeFilterString(GM(i),{encloseWithWildcard:!0,encloseWithWildcardOption:1});case OM.NotLike:case OM.Like:return bf.contextUtils.encodeFilterString(GM(i),{encloseWithWildcard:!0});case OM.EQ:case OM.NE:return e?i[0].key:i;case OM.IN:case OM.NotIN:return e?i.map(function(t){return t.key}):i;default:return i}else switch(t){case OM.NotBeginsWith:case OM.BeginsWith:case ru.grid.filter.Operator.BW:return bf.contextUtils.encodeFilterString(GM(i),{encloseWithWildcard:!0,encloseWithWildcardOption:2});case OM.NotEndsWith:case OM.EndsWith:case ru.grid.filter.Operator.EW:return bf.contextUtils.encodeFilterString(GM(i),{encloseWithWildcard:!0,encloseWithWildcardOption:1});case OM.NotLike:case OM.Like:case ru.grid.filter.Operator.CT:return bf.contextUtils.encodeFilterString(i,{encloseWithWildcard:!0});default:return i}else switch(t){case OM.NotBeginsWith:case OM.BeginsWith:case ru.grid.filter.Operator.BW:return i+"%";case OM.NotEndsWith:case OM.EndsWith:case ru.grid.filter.Operator.EW:return"%"+i;case OM.NotLike:case OM.Like:case ru.grid.filter.Operator.CT:return"%"+i+"%";default:return i}}(t,i,n===SM.Object||n===SM.Owner),n!==SM.Object&&n!==SM.Owner&&n!==SM.Enum||t!==OM.NotBeginsWith&&t!==OM.BeginsWith&&t!==OM.NotEndsWith&&t!==OM.EndsWith&&t!==OM.NotLike&&t!==OM.Like||(c.attributeName=bf.getLookupNameAttribute(s))):bf.isUci()&&n===SM.Number?(h={controlAttributes:{Type:s.Type}},c.value=bf.formatting.parseFormatted(i,h)):c.value=i,[c];if(bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB()))switch(a){case NM.SingleIntegerValue:case NM.TwoIntegerValues:c.value=i;break;case NM.SingleTypedValue:switch(c.conditionOperator){case 25:case 27:case 26:var u=i;c.value=u.getFullYear()+"-"+(u.getMonth()<9?"0":"")+(u.getMonth()+1)+"-"+(u.getDate()<10?"0":"")+u.getDate()}}else{if(bf.isDisruptiveFeatureEnabledOnAllClients(bf.getGridColumnFilterParityPhase1FCB())?(u=i,c.value=u.getFullYear()+"-"+(u.getMonth()<9?"0":"")+(u.getMonth()+1)+"-"+(u.getDate()<10?"0":"")+u.getDate()):c.value=i.toDateString(),0===VM(t)){c.conditionOperator=27;var l=new MscrmCommon.ConditionExpression;return l.attributeName=e,l.entityAliasName=r,l.conditionOperator=26,l.value=c.value,[c,l]}bf.isDisruptiveFeatureEnabledOnAllClients(bf.getGridColumnFilterParityPhase1FCB())&&(4==VM(t)?c.conditionOperator=27:5==VM(t)&&(c.conditionOperator=26))}return[c]}function GM(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&Array.isArray(t)&&0<t.length?t[0]:t}function PM(t,i,e){MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&(t=i,i=null);var n=new MscrmCommon.FilterExpression;if(n.filterOperator=e,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))return null;var r,s=new MscrmCommon.FilterExpression;return s.filterOperator=0,s.conditions=t,n.filters=[s],MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||((r=new MscrmCommon.FilterExpression).filterOperator=0,r.conditions=i,n.filters.push(r)),n}function VM(t){var i;switch(t){case OM.EQ:case ru.grid.filter.Operator.EQ:i=0;break;case OM.NE:case ru.grid.filter.Operator.NE:i=1;break;case OM.GT:case ru.grid.filter.Operator.GT:i=2;break;case OM.GE:case ru.grid.filter.Operator.GE:i=4;break;case OM.LT:case ru.grid.filter.Operator.LT:i=3;break;case OM.LE:case ru.grid.filter.Operator.LE:i=5;break;case OM.Like:case ru.grid.filter.Operator.CT:i=6;break;case OM.BeginsWith:case ru.grid.filter.Operator.BW:i=6;break;case OM.NotBeginsWith:case OM.NotEndsWith:i=7;break;case OM.EndsWith:case ru.grid.filter.Operator.EW:i=6;break;case OM.NotLike:i=7;break;case ru.grid.filter.Operator.NC:i=1;break;case OM.Null:i=12;break;case OM.NotNull:i=13;break;case OM.IN:i=8;break;case OM.NotIN:i=9;break;case OM.EQUserLanguage:i=51;case OM.EQUserTeams:i=73;break;case OM.ContainValues:i=87;break;case OM.DoesNotContainValues:i=88;break;case OM.EQUserOrUserTeams:i=74;break;case OM.EQUserId:i=41;break;case OM.NEUserId:i=42;break;case OM.EQBusinessId:i=43;break;case OM.NEBusinessId:i=44;break;case OM.EQUserOrUserHierarchy:i=80;break;case OM.EQUserOrUserHierarchyAndTeams:i=81;break;default:i=-1}return i}(DM=SM=SM||{})[DM.Date=0]="Date",DM[DM.String=1]="String",DM[DM.Object=2]="Object",DM[DM.Owner=3]="Owner",DM[DM.Enum=4]="Enum",DM[DM.Number=5]="Number",(TM=NM=NM||{})[TM.NoValue=0]="NoValue",TM[TM.SingleTypedValue=1]="SingleTypedValue",TM[TM.SingleIntegerValue=2]="SingleIntegerValue",TM[TM.TwoIntegerValues=3]="TwoIntegerValues",TM[TM.MultiTypedValue=4]="MultiTypedValue",(YM=OM=OM||{}).BeginsWith="begins-with",YM.EndsWith="ends-with",YM.EQ="eq",YM.EQBusinessId="eq-businessid",YM.EQUserId="eq-userid",YM.EQUserLanguage="eq-userlanguage",YM.EQUserOrUserHierarchy="eq-useroruserhierarchy",YM.EQUserOrUserHierarchyAndTeams="eq-useroruserhierarchyandteams",YM.EQUserOrUserTeams="eq-useroruserteams",YM.EQUserTeams="eq-userteams",YM.GE="ge",YM.GT="gt",YM.IN="in",YM.NotIN="not-in",YM.LE="le",YM.Like="like",YM.LT="lt",YM.NE="ne",YM.NEBusinessId="ne-businessid",YM.NEUserId="ne-userid",YM.NotBeginsWith="not-begin-with",YM.NotEndsWith="not-end-with",YM.NotLike="not-like",YM.NotNull="not-null",YM.Null="null",YM.ContainValues="contain-values",YM.DoesNotContainValues="not-contain-values",YM.InFiscalPeriod="in-fiscal-period",YM.InFiscalPeriodAndYear="in-fiscal-period-and-year",YM.InFiscalYear="in-fiscal-year",YM.InOrAfterFiscalPeriodAndYear="in-or-after-fiscal-period-and-year",YM.InOrBeforeFiscalPeriodAndYear="in-or-before-fiscal-period-and-year",YM.Last7Days="last-seven-days",YM.LastFiscalPeriod="last-fiscal-period",YM.LastFiscalYear="last-fiscal-year",YM.LastMonth="last-month",YM.LastWeek="last-week",YM.LastXDays="last-x-days",YM.LastXFiscalPeriods="last-x-fiscal-periods",YM.LastXFiscalYears="last-x-fiscal-years",YM.LastXHours="last-x-hours",YM.LastXMonths="last-x-months",YM.LastXWeeks="last-x-weeks",YM.LastXYears="last-x-years",YM.LastYear="last-year",YM.Next7Days="next-seven-days",YM.NextFiscalPeriod="next-fiscal-period",YM.NextFiscalYear="next-fiscal-year",YM.NextMonth="next-month",YM.NextWeek="next-week",YM.NextXDays="next-x-days",YM.NextXFiscalPeriods="next-x-fiscal-periods",YM.NextXFiscalYears="next-x-fiscal-years",YM.NextXHours="next-x-hours",YM.NextXMonths="next-x-months",YM.NextXWeeks="next-x-weeks",YM.NextXYears="next-x-years",YM.NextYear="next-year",YM.OlderthanXDays="olderthan-x-days",YM.OlderthanXHours="olderthan-x-hours",YM.OlderthanXMinutes="olderthan-x-minutes",YM.OlderthanXMonths="olderthan-x-months",YM.OlderthanXWeeks="olderthan-x-weeks",YM.OlderthanXYears="olderthan-x-years",YM.On="on",YM.OnOrAfter="on-or-after",YM.OnOrBefore="on-or-before",YM.ThisFiscalPeriod="this-fiscal-period",YM.ThisFiscalYear="this-fiscal-year",YM.ThisMonth="this-month",YM.ThisWeek="this-week",YM.ThisYear="this-year",YM.Today="today",YM.Tomorrow="tomorrow",YM.Yesterday="yesterday";var LM=(JM.prototype.compose=function(t){return this.composeFilterExpression(t)},JM.prototype.composeExclude=function(t){return this.composeExcludeFilterExpression(t)},JM.prototype.dispose=function(){},JM.prototype.composeExcludeFilterExpression=function(t){var i=new MscrmCommon.FilterExpression;i.filterOperator=0,i.conditions=[];var e=new MscrmCommon.ConditionExpression;return e.attributeName=t.binding,e.conditionOperator=12,i.conditions.push(e),i},JM.prototype.composeFilterExpression=function(t){var i=bf.getFetchAttributes(t.binding,t.dataType,this._attributeDescriptor),e=i.attributeName,n=i.entityAliasName;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataMap))return null;var r=new MscrmCommon.FilterExpression;r.filterOperator=0,r.conditions=[],r.filters=[];var s=new MscrmCommon.ConditionExpression;s.value=[],s.attributeName=e,s.entityAliasName=n,s.conditionOperator=87;var o,a=t.valueFilter.showValues;for(var h in a)a.hasOwnProperty(h)&&(o=this.dataMap.getKeyValue(h),s.value.push(o));return 0<s.value.length&&r.conditions.push(s),r},JM);function JM(t,i){this.dataMap=t,this._attributeDescriptor=i}var WM=(_M.prototype.compose=function(t){return this.composeValueFilterExpression(t,1,0)},_M.prototype.composeExclude=function(t){return this.composeValueFilterExpression(t,0,1)},_M.prototype.dispose=function(){},_M.prototype.composeValueFilterExpression=function(t,i,e){var n=t.dataMap,r=bf.getFetchAttributes(t.binding,t.dataType,this._attributeDescriptor),s=r.attributeName,o=r.entityAliasName;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))return null;var a=new MscrmCommon.FilterExpression;a.filterOperator=i,a.conditions=[],a.filters=[];var h,c,u=t.valueFilter.showValues;for(var l in u)u.hasOwnProperty(l)&&(h=n.getKeyValue(l),(c=new MscrmCommon.ConditionExpression).attributeName=s,c.entityAliasName=o,c.conditionOperator=e,c.value=h,a.conditions.push(c));return a},_M);function _M(t){this._attributeDescriptor=t}var XM=(KM.prototype.compose=function(t,i){var e;switch(this._filter.column.dataType){case"string":e=SM.String;break;case"date":e=SM.Date;break;case"object":e=SM.Object;case"owner":e=SM.Owner;break;case"enum":e=SM.Enum;break;case"number":e=SM.Number}var n=bf.getFetchAttributes(this._filter.column.name,this._filter.column.dataType,i),r=n.attributeName,s=n.entityAliasName;return PM(zM(this._filter.operator,this._filter.rightHandSide,r,e,s,i),null,1)},KM.prototype.dispose=function(){},KM.prototype.composeExclude=function(t){throw new Error("Method not implemented.")},KM);function KM(t){this._filter=t}var ZM=(qM.prototype.getComposer=function(t,i){return e=t,bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB())&&e&&e.hasOwnProperty("key")?new XM(t):t.isConditionFilter?new UM(i):t.isValueFilter?t.isMultiSelectOptionSetFilter?new LM(this.gridComponent.msosDataMap[t.binding],i):new WM(i):null;var e},qM.prototype.compose=function(t,i){var e=this.getComposer(t,i);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))return null;var n=e.compose(t,i);return e.dispose(),n},qM.prototype.composeExclude=function(t,i){var e=this.getComposer(t,i);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))return null;if(!(e instanceof WM||e instanceof LM))return null;var n=e.composeExclude(t);return e.dispose(),n},qM.prototype.combine=function(t,i){var e;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?((i=new MscrmCommon.FilterExpression).conditions=null,i.filterOperator=0,i.filters=[],i.filters.push(t)):(i.filters=i.filters||[],e=-1,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions[0])||(e=this.getChildFilterIdx(i,t.conditions[0].attributeName,t.conditions[0].entityAliasName)),-1===e?MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||i.filters.push(t):i.filters[e]=t),i},qM.prototype.remove=function(t,i,e,n,r){void 0===r&&(r=!1),t.filters=t.filters||[];var s=this.getChildFilterIdx(t,i,e);return bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB(),bf.getApril2020UpdateFCB())&&-1===s&&r&&(s=this.getChildFilterIdx(t,bf.getLookupNameAttribute(n),e)),-1!==s&&(t.filters.splice(s,1),!0)},qM.prototype.getChildFilterIdx=function(t,i,e){for(var n=0;n<t.filters.length;n++){if(t.filters[n].filters&&t.filters[n].filters.length)for(var r=0;r<t.filters[n].filters.length;r++)if(this.filterMatchName(t.filters[n].filters[r],i,e))return n;if(this.filterMatchName(t.filters[n],i,e))return n}return-1},qM.prototype.filterMatchName=function(t,i,e){return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions)||!t.conditions.length||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions[0]))&&t.conditions[0].attributeName===i&&t.conditions[0].entityAliasName===e},qM.prototype.dispose=function(){},qM);function qM(t){this.gridComponent=t}function $M(){}function tF(){}var iF=(eF.prototype.applyState=function(t){var i=this.dataSetService.dataSet.filtering.getFilter(),e=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.conditions)||!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.filters)&&0<i.filters.length);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[Cd.filter])&&!e){var n=t[Cd.filter],r=this.gridComponent.restoreFilters(bf.isRestorableFilterType,n.filterDefinition);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.filterTypeCache)?this.buildGridFilterStateCache():this.filterTypeCache=n.filterTypeCache,this.restoreGridFilterStateCache(),i=this.dataSetService.dataSet.filtering.getFilter(),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&0<r.length){for(var s=0;s<r.length;s++)var o=this.getAttributeDescriptorByColumnName(r[s].binding),a=this.filteringContext.compose(r[s],o),i=this.filteringContext.combine(a,i);return this.dataSetService.dataSet.filtering.setFilter(i),!0}}return!1},eF.prototype.saveState=function(t){var i=new tF;i.filterDefinition=this.gridComponent.getFilterDefinition(),i.filterTypeCache=this.filterTypeCache,t[Cd.filter]=i},eF.prototype.configureFilter=function(t){var i,e=this.gridComponent.getColumnFilter(t),n=bf.getDatasetColumnByName(this.dataSetService.dataSet.columns,e.binding),r=n.attributes.type;(r===sf.twoOptions||r===sf.optionset||bf.isStatusOptionSet(n)||bf.isWholeOptionSet(n)||r===sf.entityName&&bf.isDisruptiveFeatureEnabledOnAllClients(bf.getGridColumnFilterParityPhase1FCB()))&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.dataMap)?e.setValueFilter(PA.removeEmptyElements(e.dataMap.getDisplayValues())):r===sf.multiSelectOptionset&&(i=this.gridComponent.msosDataMap[e.binding],MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||e.setValueFilter(PA.removeEmptyElements(i.getDisplayValues())))},eF.prototype.buildGridFilterStateCache=function(){for(var t=this.dataSetService.dataSet.columns,i=0;i<t.length;++i){var e=t[i];if(-1!==e.order&&!e.isHidden){var n=this.gridComponent.getColumnFilter(e.name),r=e.attributes.type;switch(n.dataType){case ru.DataType.String:if(r===sf.twoOptions||r===sf.optionset||bf.isStatusOptionSet(e)||r===sf.multiSelectOptionset||bf.isWholeOptionSet(e)){this.filterTypeCache[e.name]=ru.grid.filter.FilterType.Value;break}if(r===sf.entityName){bf.isDisruptiveFeatureEnabledOnAllClients(bf.getGridColumnFilterParityPhase1FCB())?this.filterTypeCache[e.name]=ru.grid.filter.FilterType.Value:this.filterTypeCache[e.name]=ru.grid.filter.FilterType.None;break}case ru.DataType.Date:case ru.DataType.Number:this.filterTypeCache[e.name]=ru.grid.filter.FilterType.Condition;break;case ru.DataType.Array:r===sf.multiSelectOptionset&&(this.filterTypeCache[e.name]=ru.grid.filter.FilterType.Value);break;case ru.DataType.Object:MscrmCommon.ControlUtils.String.EqualsIgnoreCase(e.dataType,sf.dataTypeLookupPartyList)?this.filterTypeCache[e.name]=ru.grid.filter.FilterType.None:bf.isLookupType(e.dataType)&&(this.filterTypeCache[e.name]=ru.grid.filter.FilterType.Condition)}}}},eF.prototype.restoreGridFilterStateCache=function(){this.gridComponent.isEditable&&(e=this.gridComponent.getColumnFilter(Pl.btnHeaderColumnName)).setFilterType(ru.grid.filter.FilterType.None),this.gridComponent.getColumnFilter(Pl.btnHeaderSelectColumnName).setFilterType(ru.grid.filter.FilterType.None);for(var t=this.dataSetService.dataSet.columns,i=0;i<t.length;++i){var e,n,r=t[i];-1===r.order||r.isHidden||(e=this.gridComponent.getColumnFilter(r.name),this.filterTypeCache[r.name]===ru.grid.filter.FilterType.Value?(n=e.valueFilter.showValues,e.setFilterType(this.filterTypeCache[r.name]),this.excludeFilterApplied(e.binding,r)?e.valueFilter.showValues={showNoOptions:!0}:e.valueFilter.showValues=n):e.setFilterType(this.filterTypeCache[r.name]))}},eF.prototype.applyFilter=function(t){bf.isUci()&&!bf.isNestedGridConfigured&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1});var i=new $M;this.gridComponent.saveCurrentFilter();var e,n,r=this.gridComponent.getColumnFilter(t),s=this.dataSetService.dataSet.filtering.getFilter(),o=this.getAttributeDescriptorByColumnName(r.binding),a=bf.getFetchAttributes(r.binding,r.dataType,o),h=a.attributeName,c=a.entityAliasName,u=null;return this.perfTool.tryStart(bd.Filtering),r.isActive||MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)?(i.cancel=!0,MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)||this.filteringContext.remove(s,h,c,o),this.filterIsMultiSelectOptionset(h)&&(r.isMultiSelectOptionSetFilter=!0),e=this.filteringContext.compose(r,o),r&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&(r.isMultiSelectOptionSetFilter||this.filterIsOptionset(t,h))&&(e=this.verifyEmptyExpression(e,r)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)?bf.isUci()&&!bf.isNestedGridConfigured&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:2}):(n=this.filteringContext.combine(e,s),this.dataSetService.dataSet.filtering.setFilter(n),i.refreshRequired=!0,u=JSON.stringify(n))):this.filteringContext.remove(s,h,c,o)&&(this.dataSetService.dataSet.filtering.setFilter(s),i.refreshRequired=!0,u=JSON.stringify(s)),bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(u)&&this.utils.fireEvent(this.SEND_FILTER_EXPRESSION_STRINGS_TO_DATA_SET_HOST,{nativeFilterExpressionString:this.gridComponent.getFilterDefinition(),dataSetFilterExpressionString:u}),i},eF.prototype.excludeFilterApplied=function(t,i){var e=this.dataSetService.dataSet.filtering.getFilter();if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))return!1;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet.filtering.getFilter()))return!1;var n=this.dataSetService.dataSet.filtering.getFilter().conditions;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||0==n.length)return!1;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes.options))return!1;if(i.attributes.options.length!==n.length)return!1;for(var r=0;r<n.length;r++)if(n[r].attributeName!==t||1!==n[r].conditionOperator)return!1;return!0},eF.prototype.filterIsOptionset=function(t,i){for(var e=this.gridComponent.getColumnFilter(t),n=null,r=0;r<this.dataSetService.columns.length;r++)if(this.dataSetService.columns[r].name===i){n=this.dataSetService.columns[r];break}return null!==n&&e.dataType===ru.DataType.String&&!(n.attributes.type!==sf.optionset&&!bf.isStatusOptionSet(n)&&n.attributes.type!==sf.multiSelectOptionset&&n.attributes.type!==sf.twoOptions&&!bf.isWholeOptionSet(n))},eF.prototype.filterIsMultiSelectOptionset=function(t){for(var i=null,e=0;e<this.dataSetService.columns.length;e++)if(this.dataSetService.columns[e].name===t){i=this.dataSetService.columns[e];break}return null!==i&&i.attributes.type===sf.multiSelectOptionset},eF.prototype.verifyEmptyExpression=function(t,i){var e=!1;if(t.filters=t.filters||[],0===t.filters.length&&0===t.conditions.length&&(e=!0),1===t.filters.length&&0===t.filters[0].conditions.length&&(e=!0),e){i.valueFilter.showValues={};for(var n=0;n<i.valueFilter.uniqueValues.length;n++)i.valueFilter.showValues[i.valueFilter.uniqueValues[n]]=!0;var r=this.getAttributeDescriptorByColumnName(i.binding);t=this.filteringContext.composeExclude(i,r)}return t},eF.prototype.getAttributeDescriptorByColumnName=function(t){for(var i=0;i<this.dataSetService.dataSet.columns.length;i++)if(this.dataSetService.dataSet.columns[i].name===t)return this.dataSetService.dataSet.columns[i].attributes},eF.prototype.applyFilterForNewFilterFeature=function(t,i){bf.isUci()&&!bf.isNestedGridConfigured&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1});var e,n=new $M;this.gridComponent.saveCurrentFilter(),i||(e=this.gridComponent.getColumnFilter(t));var r,s,o=this.dataSetService.dataSet.filtering.getFilter();e?(r=e.binding,s=e.dataType):r=i.column.name;var a,h,c=this.getAttributeDescriptorByColumnName(r),u=bf.getFetchAttributes(r,s,c),l=u.attributeName,f=u.entityAliasName;return this.perfTool.tryStart(bd.Filtering),!e||e.isActive||MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)?(n.cancel=!0,MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)||this.filteringContext.remove(o,l,f,c,bf.shouldGetVirtualName(c)),h=void 0,h=e?this.filteringContext.compose(e,c):this.filteringContext.compose(i,c),e&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)&&(e.isMultiSelectOptionSetFilter||this.filterIsOptionset(t,l))&&(h=this.verifyEmptyExpression(h,e)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)?bf.isUci()&&!bf.isNestedGridConfigured&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:2}):(a=this.filteringContext.combine(h,o),this.dataSetService.dataSet.filtering.setFilter(a),n.refreshRequired=!0,this.dataSetFilterExpression=a)):this.filteringContext.remove(o,l,f,c,bf.shouldGetVirtualName(c))&&(this.dataSetService.dataSet.filtering.setFilter(o),n.refreshRequired=!0,this.dataSetFilterExpression=o),n},eF.prototype.getDataSetFilterExpression=function(){return this.dataSetFilterExpression},eF.prototype.dispose=function(){this.filteringContext.dispose(),this.gridComponent=null,this.dataSetService=null,this.filteringContext=null,this.filterTypeCache={}},eF);function eF(t,i,e,n,r){this.SEND_FILTER_EXPRESSION_STRINGS_TO_DATA_SET_HOST="sendfilterexpressionstringstodatasethost",this.gridComponent=t,this.dataSetService=i,this.filteringContext=e,this.filterTypeCache={},this.utils=n,this.perfTool=r}var nF=(Object.defineProperty(rF.prototype,"groupingRequested",{get:function(){return this.groupingRequestedEvent},enumerable:!1,configurable:!0}),rF.prototype.updateView=function(t){this.collectionView=t},rF.prototype.applyState=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[Cd.groupby])&&0<t[Cd.groupby].length)for(var i=t[Cd.groupby][0].propertyName,e=0,n=this.dataSetService.columns;e<n.length;e++)if(n[e].name===i)return this.groupingRequestedEvent.hasHandlers&&this.groupingRequestedEvent.raise(this,new Fg(i,this.collectionView)),!0;return!1},rF.prototype.saveState=function(t){var i=[],e=this.gridComponent.getCollectionDataView();if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))for(var n=0,r=e.groupDescriptions;n<r.length;n++){var s=r[n];i.push({propertyName:s.propertyName})}t[Cd.groupby]=i},rF.prototype.applyColumnState=function(t){var i;this.isServerGroupedBy&&0<this.dataSetService.dataSet.sorting.length&&(i=this.dataSetService.dataSet.sorting[0].name,this.applyGrouping(i,t))},Object.defineProperty(rF.prototype,"isServerGrouped",{get:function(){return this.isServerGroupedBy},enumerable:!1,configurable:!0}),rF.prototype.applyGroupBy=function(t,i){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&(i=this.gridComponent.getCollectionDataView()),!!this.isGroupingRequired(t,i)&&(this.applyServerGroupBy(t,i),!0)},rF.prototype.applyServerGroupBy=function(t,i){var e;bf.isUci()&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.dataSetService.dataSet.sorting.length=0,t?(this.isServerGroupedBy=!0,(e=new MscrmCommon.DataSetColumnSortStatus).name=t,e.sortDirection=0,this.dataSetService.dataSet.sorting.push(e)):this.isServerGroupedBy=!1,this.applyGrouping(t,i)},rF.prototype.applyGrouping=function(t,i){i.groupDescriptions.clear(),this.isEmpty(t)||i.groupDescriptions.push(new ru.collections.PropertyGroupDescription(t,this.getGroupHeaderName))},rF.prototype.isGroupingRequired=function(t,i){return this.isEmpty(t)||this.isColumnExist(t)&&!this.isAlreadyGrouped(t,i)},rF.prototype.isAlreadyGrouped=function(t,i){var e=i.groupDescriptions;return 0<e.length&&e[0].propertyName===t},rF.prototype.isEmpty=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||""===t},rF.prototype.isColumnExist=function(t){for(var i=0,e=this.dataSetService.columns;i<e.length;i++)if(e[i].name===t)return!0;return!1},rF.prototype.dispose=function(){this.gridComponent=null,this.dataSetService=null,this.collectionView=null},rF);function rF(t,i,e,n){var r=this;this.getGroupHeaderName=function(t,i){var e=new MscrmCommon.ArrayQuery(r.dataSetService.dataSet.columns).firstOrDefault(function(t){return t.name===i}),n=r.typeProcessorService.getValue(r.dataSetService.dataSet.records[t.recId],e,i,!0);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||PA.isString(n)||(n=n.toString()),MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(n)&&(n=cf.undefinedString),n},this.gridComponent=t,this.dataSetService=i,this.groupingRequestedEvent=new ru.Event,this.isServerGroupedBy=!1,this.typeProcessorService=e,this.utils=n}var sF=(oF.prototype.addLearningPathId=function(t,i){if(this.isDisabled)return t;var e=t,n=$.parseHTML(t),r=$(n);return r&&0<r.length&&(r.attr(this.learningPath.DOMAttributeName,this.learningPath.baseControlId+"|"+i),e=r.get(0).outerHTML),e},oF.prototype.addLearningPathIdToHtmlElement=function(t,i){this.isDisabled||t.setAttribute(this.learningPath.DOMAttributeName,this.learningPath.baseControlId+"|"+i)},oF.prototype.dispose=function(){this.learningPath=null},oF);function oF(t){this.learningPath=null,this.isDisabled=!1,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?this.isDisabled=!0:this.learningPath=t}var aF=(hF.prototype.logError=function(t){this.log(Pl.controlName,t,Mscrm.TraceLevel.Error)},hF.prototype.logInfo=function(t){this.log(Pl.controlName,t,Mscrm.TraceLevel.Info)},hF.prototype.logWarning=function(t){this.log(Pl.controlName,t,Mscrm.TraceLevel.Warning)},hF.prototype.dispose=function(){this.log=null},hF);function hF(t){this.log=t}var cF=(uF.prototype.setSelectedRecords=function(t){},uF.prototype.clearSelectedRecord=function(){return this.dataSetService.dataSet.clearSelectedRecord()},Object.defineProperty(uF.prototype,"IsMultiSelectionSupported",{get:function(){return this.isMultiSelectionSupported},enumerable:!1,configurable:!0}),uF.prototype.dispose=function(){this.dataSetService=null},uF);function uF(t){this.dataSetService=t}var lF,fF,dF=((window&&window.__extends||(lF=function(t,i){return(lF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}lF(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(AF,fF=cF),AF.prototype.setSelectedRecords=function(t){if(t.isValidEvent&&(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.rowId)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columnName)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.rowId)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columnName))&&(t.isRecordRowSelection||t.isClearSelection)){for(var i=[],e=0;e<t.selectedRows.length;e++){var n=this.dataSetService.dataSet.records[t.selectedRows[e]];MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||i.push(t.selectedRows[e])}0<i.length?this.dataSetService.dataSet.setSelectedRecords(i):this.clearSelectedRecord()}},AF);function AF(t){var i=fF.call(this,t)||this;return i.isMultiSelectionSupported=!0,i}var gF=(wF.prototype.navigateToEntityForm=function(e){var t,n=this;this.criticalRegionService.prepareForRiskyOperation()&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.formFactor)||bf.isUci()||!bf.isDesktop(this.formFactor)?this.utils.getEntityMetadata(e.LogicalName).then(function(t){var i;t&&t.IsBPFEntity?n.isOffline||(i={CommandButtonId:"Mscrm.HomepageGrid."+e.LogicalName+".OpenActiveStage"},n.dataSetService.dataSet.openDatasetItem(e,i)):t&&t.IsActivity||"activitypointer"===n.dataSetService.dataSet.getTargetEntityType()?n.isNavigating||(n.isNavigating=!0,cd(e,n.dataSetService.dataSet,n.navigation),setTimeout(function(){n.isNavigating=!1},Pl.doubleTapThreshold)):n.isNavigating||(n.isNavigating=!0,n.dataSetService.dataSet.openDatasetItem(e,null),setTimeout(function(){n.isNavigating=!1},Pl.doubleTapThreshold))},function(t){n.dataSetService.dataSet.openDatasetItem(e,null)}):(t={entityName:e.LogicalName,entityId:e.Id?e.Id.toString():e.id?e.id.toString():null},this.navigation.openForm(t)))},wF.prototype.openDialog=function(t,i,e){return this._context.navigation.openDialog(t,i,e)},wF.prototype.openUrl=function(t){t&&this._context.navigation.openUrl(t)},wF.prototype.navigateTo=function(t){if(t)return this._context.navigation.navigateTo(t)},wF.prototype.createEntityReferenceModel=function(t){return new hd(t.getRecordId(),t.getPrimaryEntityLogicalName())},wF.prototype.dispose=function(){this.navigation=null,this.criticalRegionService=null,this.dataSetService=null},wF);function wF(t,i,e,n,r,s,o,a){this.isOffline=!1,this.isNavigating=!1,this.navigation=t,this.criticalRegionService=n,this.utils=r,this.dataSetService=s,this.formFactor=o,this.isOffline=a,this._context=i}var mF=(pF.prototype.movePreviousPage=function(){var t=!1;this.gridComponent.finishEdit();var i=this.gridComponent.getCollectionDataView();MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(0<i.pageIndex?(i.moveToPreviousPage(),i.currentItem=null):this.dataSetService.dataSet.paging.hasPreviousPage&&(bf.isUci()&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(bd.PagingLoad),t=!0,this.pagingComponent.markAsLoadingPreviousPage()),this.updateCurrentPageNumber(i.pageIndex+1)),this.pagingComponent.setPaginationButtonsState(this.dataSetService.dataSet);var e=this.pagingComponent.getPreviousButtonElement(),n=this.pagingComponent.getNextButtonElement();return null!==e&&null!==n&&(e.disabled?n.focus():e.focus()),t},pF.prototype.moveNextPage=function(){var e=this,t=!1;this.gridComponent.finishEdit();var i=this.gridComponent.getCollectionDataView();return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(i.pageIndex<i.pageCount-1?(i.moveToNextPage(),i.currentItem=null,this.updateCurrentPageNumber(i.pageIndex+1)):this.dataSetService.dataSet.paging.hasNextPage&&(bf.isUci()&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(bd.PagingLoad),t=!0,this.pagingComponent.markAsLoadingNextPage(),this.updateCurrentPageNumber(i.pageIndex+2))),this.pagingComponent.setPaginationButtonsState(this.dataSetService.dataSet),setTimeout(function(){var t=e.pagingComponent.getPreviousButtonElement(),i=e.pagingComponent.getNextButtonElement();null!==t&&null!==i&&(i.disabled?t.focus():i.focus())},500),t},pF.prototype.moveFirstPage=function(){var t=!1;this.gridComponent.finishEdit();var i=this.gridComponent.getCollectionDataView();MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(0<i.pageIndex?(i.moveToFirstPage(),i.currentItem=null):this.dataSetService.dataSet.paging.hasPreviousPage&&(bf.isUci()&&this.utils.fireEvent(bf.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(bd.PagingLoad),t=!0,this.pagingComponent.markAsLoadingFirstPage())),this.updateCurrentPageNumber(1),this.pagingComponent.setPaginationButtonsState(this.dataSetService.dataSet);var e=this.pagingComponent.getNextButtonElement();return null!==e&&e.focus(),t},pF.prototype.updateCurrentPageNumber=function(t){bf.isUci()&&this.utils.fireEvent(bf.SEND_CURRENT_PAGE_NUMBER,{currentPageNumber:t})},pF.prototype.dispose=function(){this.gridComponent=null,this.dataSetService=null,this.pagingComponent=null,this.perfTool=null},pF);function pF(t,i,e,n,r){this.gridComponent=t,this.dataSetService=i,this.pagingComponent=e,this.utils=n,this.perfTool=r}var vF,bF,EF=((window&&window.__extends||(vF=function(t,i){return(vF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}vF(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}))(BF,bF=cF),BF.prototype.setSelectedRecords=function(t){var i;(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.rowId)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columnName)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.rowId)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columnName))&&(t.isValidEvent&&t.isRecordRowSelection&&t.isRecordColumnSelection&&!t.isMultiSelection?(i=this.dataSetService.dataSet.records[t.rowId],MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||this.dataSetService.dataSet.setSelectedRecordId(t.rowId,t.isRowHeaderSelected)):t.isRecordRowSelection||this.clearSelectedRecord())},BF);function BF(t){var i=bF.call(this,t)||this;return i.isMultiSelectionSupported=!1,i}var CF=(jF.prototype.utcToBrowserTimeZone=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?t:new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())},jF.prototype.browserTimeZoneToUtc=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?t:new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},jF.prototype.utcToUserLocal=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?t:new Date(t.getTime()+6e4*(this.getUserTimeZoneUtcOffset(t)+t.getTimezoneOffset()))},jF.prototype.userLocalToUtc=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?t:new Date(t.getTime()-6e4*(this.getUserTimeZoneUtcOffset(t)+t.getTimezoneOffset()))},jF.prototype.dispose=function(){delete this.getUserTimeZoneUtcOffset},jF);function jF(t){this.getUserTimeZoneUtcOffset=t}var yF=(xF.filterRecordItem=function(t,i,e){for(var n=!1,r=0;r<i.length;++r){var s=i[r].name;try{var o=e.getColumnFilter(s);if(o&&!this.evaluateFlexColumnFilter(t,o)){n=!0;break}}catch(t){continue}}return n},xF.evaluateFlexColumnFilter=function(t,i){var e=!0;return i.isActive&&(i.filterType==ru.grid.filter.FilterType.Condition?e=this.evaluateConditionFilter(t,i.conditionFilter):i.filterType==ru.grid.filter.FilterType.Value?e=this.evaluateValueFilter(t,i.valueFilter):i.filterType==ru.grid.filter.FilterType.Both&&(e=this.evaluateConditionFilter(t,i.conditionFilter)&&this.evaluateValueFilter(t,i.valueFilter))),e},xF.evaluateConditionFilter=function(t,i){var e=i.and,n=!0;return i.isActive&&(n=e?this.evaluateCondition(t,i.condition1)&&this.evaluateCondition(t,i.condition2):this.evaluateCondition(t,i.condition1)||this.evaluateCondition(t,i.condition2)),n},xF.evaluateValueFilter=function(t,i){var e=!0;return i.isActive&&(e=i.apply(t)),e},xF.evaluateCondition=function(t,i){return i.apply(t)},xF);function xF(){}var IF=(MF.prototype.getGridRecordItems=function(t){this.communicationChannel&&this.communicationChannel.isPresenceEnabled(t.getTargetEntityType())&&(t=this.updateDataSetForPresence(t));var i=this.getAllRecordItems(t);this.allRecordItemsFlatList=i,bf.isTreeView(t)&&(i=this.createTree(i));var e=new ru.collections.CollectionView(i);return e.pageSize=t.paging.pageSize,e.moveCurrentToPosition(-1),e},MF.prototype.getGridRecordItemsOnRecordUpdate=function(t,i,e,n){var r,s=this.allRecordItemsFlatList,o=new MscrmCommon.ArrayQuery(this.allRecordItemsFlatList).firstOrDefault(function(t){return t.recId===i.getRecordId()}),a=yF.filterRecordItem(o,t.columns,e);a&&(r=s.indexOf(o),s.splice(r,1));var h=null;return(a||n)&&(s=this.createTree(s),(h=new ru.collections.CollectionView(s)).pageSize=t.paging.pageSize),h},MF.prototype.refreshRecordItems=function(t){for(var i=t.columns,e=0,n=this.allRecordItemsFlatList;e<n.length;e++)for(var r=n[e],s=0,o=i;s<o.length;s++){var a=o[s];r[a.name]=this.typeProcessorService.getValue(t.records[r.recId],a,null,!1)}},MF.prototype.createTree=function(o){for(var a=o.slice(0),t=0;t<o.length;t++)!function(s){o[s].children=new MscrmCommon.ArrayQuery(o).where(function(t){var i=t.parentID,e=o[s].parentID,n=o[s].recId.toLowerCase(),r=t.recId.toLowerCase();if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&MscrmCommon.ControlUtils.String.EqualsIgnoreCase(i.Id.toString(),n)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||!MscrmCommon.ControlUtils.String.EqualsIgnoreCase(e.Id.toString(),r)))return a.splice(a.indexOf(t),1),!0}).items()}(t);return a},MF.prototype.getGridRecordItem=function(t,i,e,n){var r,s={};s.recId=t.getRecordId(),s.logicalName=t.getPrimaryEntityLogicalName(),s.isSelected=e,this.communicationChannel&&this.communicationChannel.getPresenceMappedField(s.logicalName)&&(r=this.communicationChannel.getPresenceMappedField(s.logicalName)),bf.hasSubGridParentId(t)&&(s[gf.SubGridParentIdName]=t[gf.SubGridParentIdName]);for(var o=0;o<i.length;o++){var a=i[o],h=a.name;s[h]=this.typeProcessorService.getValue(t,a,null,!1),r==a.name&&(s.sipValue=s[h])}return s.parentID=t.ParentId,s},MF.prototype.getAllRecordItems=function(e){var n=[],r=e.sortedRecordIds,s=e.selectedRecordIds,o=e.records;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(o))return n;for(var a=this,t=0;t<r.length;t++)!function(i){var t=!!s&&0<=s.findIndex(function(t){return t==r[i]});n[i]=a.getGridRecordItem(o[r[i]],e.columns,t,!1)}(t);return n},MF.prototype.updateGridRecordItem=function(i,t){var e=new MscrmCommon.ArrayQuery(this.allRecordItemsFlatList).firstOrDefault(function(t){return t.recId===i.getRecordId()});if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))return this.internalUpdateGridRecordItem(e,i,t);var n=this.allRecordItemsFlatList.map(function(t){return t.recId});this.loggingService.logError(MscrmCommon.ControlUtils.String.Format("Could not find record {0} inside this.flatRecordItemsList ({1})",i.getRecordId(),JSON.stringify(n)))},MF.prototype.internalUpdateGridRecordItem=function(t,i,e){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))throw new Error("Missing argument : gridDataSetRecord");t.recId=i.getRecordId();var n=t.parentID!==i.ParentId;t.parentID=i.ParentId,bf.hasSubGridParentId(i)&&(t[gf.SubGridParentIdName]=i[gf.SubGridParentIdName]);for(var r=0;r<e.length;r++){var s=e[r],o=s.name;this.areSame(t[o],i.getValue(o))||(t[o]=this.typeProcessorService.getValue(i,s,null,!1))}return n},MF.prototype.updateDataSetForPresence=function(t){for(var i=!1,e={maxLength:100,format:"Email",type:"string"},n=this.communicationChannel.getPresenceMappedField(t.getTargetEntityType()),r=0;r<t.columns.length;r++)t.columns[r].alias==n&&(i=!0,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columns[r].attributes)&&(t.columns[r].attributes=e));return i||(t.addColumn(n),t.refresh()),t},MF.prototype.areSame=function(t,i){return PA.isDate(t)&&PA.isDate(i)?t.getTime()===i.getTime():t===i},MF.prototype.dispose=function(){this.typeProcessorService=null,this.loggingService=null},MF);function MF(t,i,e,n){this.loggingService=t,this.typeProcessorService=i,this.communicationChannel=n}var FF=(QF.prototype.setServerLayout=function(t){this.currentServerLayout=t},QF.prototype.register=function(t){-1===this.statefulControls.indexOf(t)&&(this.statefulControls.push(t),t.stateChanged.addHandler(this.stateChangedHandler))},QF.prototype.isStateEmpty=function(){return this.state==={}||null===this.state},QF.prototype.saveState=function(t){this.saveDataState(),this.saveLayout(t),this.saveCallback(this.state)},QF.prototype.restoreState=function(t){this.hasServerLayoutChanged(t)&&this.tryRestoreState(t);var i=this.updateDataState();return this.restoreLayout(t),i},QF.prototype.saveLayout=function(t){this.state[Cd.clientLayout]=t.columnLayout},QF.prototype.saveDataState=function(){for(var t=0,i=this.statefulControls;t<i.length;t++)i[t].saveState(this.state)},QF.prototype.updateDataState=function(){for(var t=!1,i=0,e=this.statefulControls;i<e.length;i++)t=e[i].applyState(this.state)||t;return t},QF.prototype.restoreLayout=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.state[Cd.clientLayout])||(t.columnLayout=this.state[Cd.clientLayout])},QF.prototype.hasServerLayoutChanged=function(t){return this.state[Cd.serverLayout]!==this.currentServerLayout},QF.prototype.tryRestoreState=function(t){for(var i=bf.buildLayoutDictionary(t.columnLayout),e={},n=0,r=this.statefulControls;n<r.length;n++)e[(a=r[n]).stateKey]=bf.buildProcessedDescriptions(i,this.state[a.stateKey]);this.state={};for(var s=0,o=this.statefulControls;s<o.length;s++){var a=o[s];this.state[a.stateKey]=e[a.stateKey]}this.state[Cd.serverLayout]=this.currentServerLayout},QF.prototype.dispose=function(){for(var t=0;t<this.statefulControls.length;++t)this.statefulControls[t].stateChanged.removeHandler(this.stateChangedHandler);this.statefulControls=[]},QF);function QF(t,i){var e=this;this.stateChangedHandler=function(t,i){t.saveState(e.state),e.saveCallback(e.state)},this.statefulControls=[],this.state=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?{}:i,this.saveCallback=t}var RF=(kF.prototype.generateColumnConfiguration=function(t,i,e,n,r){var s=[];if(t){var o=new ru.grid.Column;o.binding="recId",o.name="recId",o.visible=!1,o.dataType=ru.DataType.Object,s.push(o);var a=0,h=this.client.allocatedWidth-cf.specialColumnsWidth;if(bf.isPhone(this.client.formFactor))for(var c=0;c<t.length;c++)a+=t[c].visualSizeFactor;var u=a<=0?0:h/(a/100),l=0,f=!1;t.sort(function(t,i){return t.order-i.order});for(var d,A=0;A<t.length;A++){var g,w,m,p=t[A];p.isPrimary&&(f=p.imageProviderWebresource&&!!p.imageProviderFunctionName),-1===p.order||p.isHidden||((g=new ru.grid.Column).header=p.displayName||p.name,g.binding=p.name,bf.isDesktop(this.client.formFactor)?g.width=p.visualSizeFactor:bf.isPhone(this.client.formFactor)?(g.minWidth=cf.defaultMinWidth,g.width=u*this.getSizeFactor(p)):(w=this.getSizeFactor(p),i?(g.minWidth=0<p.visualSizeFactor?p.visualSizeFactor/2:cf.defaultMinWidth,g.width=t.length>cf.maxColumnForDynamicSizing||0===w?p.visualSizeFactor:w.toString()+"*"):(g.minWidth=0<p.visualSizeFactor?p.visualSizeFactor:cf.defaultMinWidth,g.width=p.visualSizeFactor)),g.visible=!p.isHidden,g.allowSorting=!p.disableSorting,g.allowDragging=e,p.attributes.type===sf.multiSelectOptionset?(g.allowSorting=!1,l++):p.attributes.type===sf.partyList&&(g.allowSorting=!1),!n||(m=n[p.name])&&(g.width=m,g.size=m),this.buildWijmoColumn(p.attributes.type,p,g),s.push(g))}0<l&&(d=[{name:"editablegrid_multiSelectControlcount",value:l}],this.gridTelemetry.reportEvent("multiselectoptionsetcontrolusage",d)),this.generateAdditionalColumnConfiguration(s,e,f,r)}return s},kF.prototype.buildWijmoColumn=function(t,i,e){switch(t){case sf.twoOptions:e.dataType=ru.DataType.String;break;case sf.dateAndTime:e.dataType=ru.DataType.Date,i.attributes.format.toLowerCase()===sf.formatDateAndTime?e.format=this.client.dateFormattingInfo.FullDateTimePattern:e.format=this.client.dateFormattingInfo.ShortDatePattern.replace(/\//g,this.client.dateFormattingInfo.DateSeparator);break;case sf.decimal:case sf.fp:case sf.double:case sf.whole:e.dataType=ru.DataType.Number,bf.isWholeDuration(i)&&(e.minWidth=cf.durationEditorMinWidth);break;case sf.currency:e.dataType=ru.DataType.Number,MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes.format)||""===i.attributes.format?e.format="C4":e.format=i.attributes.format;break;case sf.optionset:e.dataType=ru.DataType.String,bf.isWholeOptionSet(i)||(e.format="D");break;case sf.multiSelectOptionset:this.allowMsosEditingInGrid||(e.isReadOnly=!0),e.dataType=ru.DataType.Array;break;case sf.lookup:case sf.owner:case sf.customer:case sf.partyList:e.dataType=ru.DataType.Object,i.dataType.toLowerCase()===sf.dataTypeLookupSimple.toLowerCase()&&!this._shouldConnectionColumnReadOnly(this.entityTypeName,i)||(e.isReadOnly=!0);break;case sf.singleLine:switch(e.dataType=ru.DataType.String,i.attributes.format){case sf.formatEmail:e.inputType="email";break;case sf.formatURL:e.inputType="url"}break;case sf.multiple:e.dataType=ru.DataType.String;break;case sf.state:case sf.status:case sf.entityName:case sf.uniqueIdentifier:e.isReadOnly=!0;default:e.dataType=ru.DataType.String,e.isReadOnly=!0}},kF.prototype.generateColumnUpdate=function(t){for(var i={},e=0;e<t.length;e++){var n,r=t[e];-1===r.order||r.isHidden||(n={validations:{},format:null,dataMap:null,inputType:null},this.buildAdditionalAttributes(r.attributes.type,r,n),i[r.name]=n)}return i},kF.prototype.buildAdditionalAttributes=function(t,i,e){switch(t){case sf.decimal:case sf.fp:case sf.double:e.validations.max=i.attributes.maxValue,e.validations.min=i.attributes.minValue,e.format=MscrmCommon.ControlUtils.String.Format("N{0}",i.attributes.precision);break;case sf.whole:bf.isWholeOptionSet(i)?this.buildAdditionalAttributes(sf.optionset,i,e):!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes.format)&&i.attributes.format.toLowerCase()===sf.formatLanguage&&i.attributes.format.toLowerCase()===sf.formatTimeZone||(e.validations.max=i.attributes.maxValue,e.validations.min=i.attributes.minValue,e.format="N0");break;case sf.currency:e.validations.max=i.attributes.maxValue,e.validations.min=i.attributes.minValue,e.format=MscrmCommon.ControlUtils.String.Format("N{0}",i.attributes.precision);break;case sf.twoOptions:case sf.optionset:case sf.state:case sf.status:case sf.multiSelectOptionset:case sf.entityName:if(t==sf.entityName&&!bf.isDisruptiveFeatureEnabledOnAllClients(bf.getGridColumnFilterParityPhase1FCB()))break;var n=bf.getOptionsFromAttributes(i),r=new ru.grid.DataMap(n,Pl.OptionSetValue,Pl.OptionSetLabel);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||(e.dataMap=r),bf.contextUtils.isFeatureEnabled(wm)&&!bf.isUci()&&mm.isDependentOptionSet(i)&&(i.isHidden=!0);break;case sf.singleLine:e.validations.maxLength=i.attributes.maxLength,i.attributes.format.toLowerCase()===sf.formatTextArea&&(e.inputType="hidden");break;case sf.multiple:e.inputType="hidden",e.validations.maxLength=i.attributes.maxLength,e.format=sf.multiple}},kF.prototype.useOriginalEditor=function(t){var i=!0;switch(t.attributes.type){case sf.twoOptions:case sf.dateAndTime:case sf.decimal:case sf.fp:case sf.double:case sf.currency:case sf.multiple:case sf.lookup:case sf.whole:case sf.multiSelectOptionset:i=!1;break;case sf.singleLine:t.attributes.format.toLowerCase()===sf.formatTextArea&&(i=!1)}return i&&!bf.isWholeOptionSet(t)},kF.prototype.getValue=function(t,i,e,n){var r,s,o,a,h,c,u,l=e,f=null,d=cf.undefinedString;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?d:(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&(l=i.name),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes)||(f=i.attributes),bf.isWholeDuration(i)&&n?d=t.reformatValue(l):bf.isWholeOptionSet(i)&&n?(r=void 0,i.dataType===sf.dataTypeWholeLanguage?r=null==f.languagebycode?f.LanguageByCode:f.languagebycode:i.dataType===sf.dataTypeWholeTimezone&&(r=null==f.timezonebycode?f.TimeZoneByCode:f.timezonebycode),s=t.getValue(l),s=this.getAliasedValue(s),d=MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)?s:r[s]):"MultiSelectOptionSet"===i.dataType||"MultiSelectPicklist"===i.dataType?n?(d=t.getFormattedValue(l),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(d)&&0!=d.length||(d=cf.undefinedString)):(d=t.getValue(l),MscrmCommon.ControlUtils.Object.isNullOrUndefined(d)&&(d=[])):(h=t.getValue(l),i.dataType===sf.dataTypeOptionSet&&PA.isOptionMetadata(h)&&(h=h.getValue("value")),(n||MscrmCommon.ControlUtils.Object.isNullOrUndefined(h))&&(h=t.getFormattedValue(l),bf.isUci()&&i.dataType===sf.dataTypeSingleLineURL&&(o=new RegExp("^((http|https|ftp|ftps)://)|^(tel:|onenote:)|^/"),MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)||""===h||o.test(h.toLowerCase())||(h=this.httpsPrefix.concat(h))),bf.isUci()||MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)||i.dataType!==sf.dataTypeOptionSet||"string"==typeof h||(h=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)||i.dataType!==sf.dataTypeOptionSet||(h=h.trim()),i.dataType===sf.dataTypeLookupSimple&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)&&(a=t.getValue(l),MscrmCommon.ControlUtils.Object.isNullOrUndefined(a)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.Id)||!MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.Name)||(h=$l.gridLookupDefaultText))),h=this.getAliasedValue(h),MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)||"object"!==sr(h)?d=h:PA.isDate(h)&&f?d=2===(c=parseInt(f.behavior))||3===c?this.timeZoneConverter.utcToBrowserTimeZone(h):1==c?this.timeZoneConverter.utcToUserLocal(h):h:sf.compare(h,sf.guid)?d=h.toString():sf.compare(h,sf.optionSetObject)?d=h.get_ValueString():sf.compare(h,sf.xrmEntityReference)||sf.compare(h,sf.entityReference)?d=n?h.Name:h:sf.compare(h,sf.entityCollection)?(d="",MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)||(u=h.getObjectData().entities,d=bf.formatEntityRecords(u))):d="*unhandled*"),bf.getValueOrNull(d))},kF.prototype.buildDatasetValue=function(t,i,e){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))return null;switch(t){case sf.twoOptions:return 1===parseInt(e);case sf.optionset:return-1===(e=parseInt(e))?null:e;case sf.dateAndTime:return 2===i.attributes.behavior||3===i.attributes.behavior?this.timeZoneConverter.browserTimeZoneToUtc(e):1===i.attributes.behavior?this.timeZoneConverter.userLocalToUtc(e):e;case sf.whole:if(bf.isWholeOptionSet(i))return this.buildDatasetValue(sf.optionset,i,e);default:return e}},kF.prototype.createButtonColumn=function(t){var i=new ru.grid.Column;return i.binding=t,i.name=t,i.header=" ",i.allowSorting=!1,i.allowResizing=!1,i.isReadOnly=!0,i.allowDragging=!1,i.dataType=ru.DataType.Object,i.align=this.client.isRTL?"right":"left",i},kF.prototype.generateAdditionalColumnConfiguration=function(t,i,e,n){var r,s=this.createButtonColumn(Pl.btnHeaderSelectColumnName);s.width=e||!i&&bf.isHierarchyIconEnabled?cf.selectButtonWithIconOrConditionalImageMinimumWidth:cf.selectButtonMinimumWidth,t.splice(1,0,s),i&&(r=this.createButtonColumn(Pl.btnHeaderColumnName),bf.isTouchScreenDevice(this.client)&&bf.isReflowByWidth(n)?(r.width=cf.navigateButtonMinimumWidth,t.splice(2,0,r)):(r.width="*",r.minWidth=2*cf.navigateButtonMinimumWidth+15,bf.isUci()&&!bf.isDetail&&(r.width=r.minWidth),t.push(r)))},kF.prototype.getSizeFactor=function(t){return 0<t.visualSizeFactor?t.visualSizeFactor/100:t.visualSizeFactor},kF.prototype._shouldConnectionColumnReadOnly=function(t,i){return this.entityTypeName===Pl.connectionEntityName&&i&&i.name===Pl.connectionReadOnlyColumnName},kF.prototype.getAliasedValue=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&sf.compare(t,sf.aliasedValue)?t.get_value():t},kF.prototype.dispose=function(){this.gridTelemetry=null},kF);function kF(t,i,e,n,r){this.httpsPrefix="https://",this.timeZoneConverter=t,this.client=i,this.gridTelemetry=e,this.allowMsosEditingInGrid=n,this.entityTypeName=r}var SF=(DF.prototype.buildEnhancedPagingService=function(t,i,e){return new OA(t,i,this.utils,e,this.pageNumberToRestore,this.perfTool)},DF.prototype.buildEnhancedPagingComponent=function(t){return new Nl(t)},DF.prototype.buildGridPagingService=function(t,i,e){return new mF(t,i,e,this.utils,this.perfTool)},DF.prototype.buildPagingComponent=function(t,i){var e=t.previousPageButton,n=t.nextPageButton,r=t.firstPageButton,s=t.currentPageElement;return new Sg(r,e,s,n,i)},DF.prototype.buildGridGroupingService=function(t,i,e){return new nF(t,i,e,this.utils)},DF.prototype.buildGroupingComponent=function(t,i,e,n){return new Rg(t,i,e.columns,n)},DF.prototype.buildFieldFactory=function(t,i,e,n){var r=new yg(t,i,e,n,this.communicationChannel,this.isAppointmentRteEnabled,this.context);return this.hasFieldTypeColumns?r:r.withDefaultField()},DF.prototype.buildFieldAccessComponent=function(t){return new Zg(t)},DF.prototype.buildTypeProcessorService=function(t,i,e){return new RF(t,this.client,this.gridTelemetry,i,e)},DF.prototype.buildTimeZoneService=function(t){return new CF(t)},DF.prototype.buildContainerService=function(t,i,e,n,r){var s=MscrmCommon.ControlUtils.ControlGuidGenerator.newGuid("Grid");return new dM(s,t,i,e,this.hasGrouping,n,this.client,r)},DF.prototype.buildWijmoGridComponent=function(t,i,e,n,r,s,o,a,h,c,u){return this.buildItemViewComponent(t,i,e,n,r,s,o,a,h,c,u)},DF.prototype.buildErrorHandlingService=function(t,i,e){return new IM(t,i,e,this.htmlEncode,this.isEditable,this.client)},DF.prototype.buildLoggingService=function(){return new aF(this.log)},DF.prototype.buildDataAdapterService=function(t,i,e){return new IF(t,i,e,this.communicationChannel)},DF.prototype.buildNavigationService=function(t,i,e,n,r,s,o){return new gF(t,this.context,i,e,n,r,s,o)},DF.prototype.buildFieldAccessService=function(t){return new RM(t,this.perfTool)},DF.prototype.buildSelectionService=function(t){return new(bf.supportMultiSelection(this.client.formFactor)?dF:EF)(t)},DF.prototype.buildStateService=function(t,i){return new FF(t,i)},DF.prototype.buildSortingService=function(t,i){return new Fd(t,i,this.context.utils,this.perfTool)},DF.prototype.buildFilteringService=function(t,i,e,n){return new iF(t,i,n,e,this.perfTool)},DF.prototype.buildDataSetService=function(t,i,e){return new yM(t,i,e,this.perfTool,this.gridTelemetry)},DF.prototype.buildFilteringContext=function(t){return new ZM(t)},DF.prototype.buildAriaLiveRegionComponent=function(t){return new zA(t)},DF.prototype.buildAriaLiveRegionService=function(t,i,e){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)?new aM:new lM(e,t,i)},DF.prototype.buildCriticalRegionService=function(){return new gM},DF.prototype.create=function(t,i,e){return this.resetIncludedFeatures(),this.saveStateCallback=t.utils.setState.bind(t.utils),this.notifyOutputChanged=e,this.log=t.utils.log.bind(t.utils),this.state=i,this.client=t.client,this.utils=t.utils,this.formatting=t.formatting,this.htmlEncode=t.utils.crmHtmlEncode.bind(t.utils),this.navigation=t.navigation,this.mode=t.mode,this.theming=t.theming,this.learningPathBag=t.learningPath,this.webAPI=t.webAPI,this.communicationChannel=t.communicationChannel,this.factory=t.factory,this.offline=t.offline,bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&(this.nativeFilterExpressionToRestore=t.parameters&&t.parameters.NativeFilterExpressionToRestore&&t.parameters.NativeFilterExpressionToRestore.raw?t.parameters.NativeFilterExpressionToRestore.raw:null,this.pageNumberToRestore=t.parameters&&t.parameters.PageNumberToRestore&&t.parameters.PageNumberToRestore.raw?t.parameters.PageNumberToRestore.raw:1),bf.isUCIDisruptiveFeatureEnabled(bf.getGridHierarchyIconFCB())&&(this.lookupAttributeNameForHierarchy=t.parameters&&t.parameters.LookupAttributeNameForHierarchy&&t.parameters.LookupAttributeNameForHierarchy.raw?t.parameters.LookupAttributeNameForHierarchy.raw:null,bf.isHierarchyIconEnabled=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.lookupAttributeNameForHierarchy)||!1),!bf.isUci()&&this.client&&bf.isDesktop(this.client.formFactor)?cf.defaultMinRowHeight=cf.defaultMinRowHeightWeb:bf.isUCIDisruptiveFeatureEnabled(bf.getGridHighDensityFCBName())&&(cf.defaultMinRowHeight=cf.defaultMinRowHeightUCIHighDensity),MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.orgSettings)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.orgSettings.appointmentRichEditorExperience)||(this.isAppointmentRteEnabled=t.orgSettings.appointmentRichEditorExperience),this},DF.prototype.withFiltering=function(t){return this.hasFiltering=t==iA.Yes,this},DF.prototype.withSorting=function(){return this.hasSorting=!0,this},DF.prototype.withPagination=function(t){return void 0===t&&(t=!0),this.hasPagination=t,this},DF.prototype.withGrouping=function(t){return this.hasGrouping=t==sA.Yes,this},DF.prototype.withEditing=function(t){return this.isEditable=t==Zd.Yes,this},DF.prototype.withSubGrid=function(t){return this.subGridBuilder=t(new DF(this.context,this.perfTool,this.gridTelemetry,this.userAgentInfo)),this.hasSubGrid=!0,this},DF.prototype.withKeyboardNavigation=function(){return this.hasKeyboardNavigation=!0,this},DF.prototype.withAriaLiveRegion=function(){return this.hasAriaLiveRegion=!0,this},DF.prototype.withFieldTypeColumns=function(t){return this.useSkypeProtocol=t,this.hasFieldTypeColumns=!0,this},DF.prototype.build=function(t,i,e,n,r,s,o){var a=this;void 0===s&&(s=Lw.No),sM.apply(this.client.userAgent),bf.isDetail=e;var h=!0,c=[],u=new cI,l=this.buildTimeZoneService(this.client.getUserTimeZoneUtcOffset.bind(this.client));l.formatTime=function(t,i){return a.formatting.formatTime(t,i)},l.formatDateShort=function(t,i){return a.formatting.formatDateShort(t,i)};var f=new sF(this.learningPathBag),d=this.buildContainerService(bf.getGridState(i),this.client.allocatedWidth,this.client.allocatedHeight,t,f),A=this.buildLoggingService(),g=this.buildDataSetService(A,i,this.notifyOutputChanged),w=bf.isUci()?g.getTargetEntityType():null,m=this.buildTypeProcessorService(l,this.utils.isFeatureEnabled("AllowMsosEditingInGrid"),w),p=this.hasAriaLiveRegion?this.buildAriaLiveRegionComponent(d.getContainerId()):null,v=this.buildAriaLiveRegionService(g,m,p),b=this.buildErrorHandlingService(d,g,v),E=this.buildDataAdapterService(A,m,b);!bf.isUci()||!e||MscrmCommon.ControlUtils.Object.isNullOrUndefined(g)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(g.dataSet)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(g.dataSet.paging)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(g.dataSet.paging.pageSize)||g.dataSet.paging.hasNextPage||g.dataSet.paging.hasPreviousPage||(h=!1),d.build(e,this.isEditable,h);var B,C,j,y,x,I,M,F,Q,R,k,S,D,N,T,O,Y=this.buildFlexGridControl(e,t,d.getHostId(),s),U=this.buildStateService(this.saveStateCallback,this.state),H=this.buildNavigationService(this.navigation,U,n,this.utils,g,this.client.formFactor,this.mode.isOffline),z=this.buildSelectionService(g),G=this.buildFieldFactory(g,H,this.theming,this.useSkypeProtocol),P=this.buildWijmoGridComponent(Y,d,m,l,b,g,E,H,v,f,G),V=this.buildFieldAccessComponent(P),L=this.buildFieldAccessService(V);return u.add(cA.timeZoneService,l),u.add(cA.containerService,d),u.add(cA.gridComponent,P),u.add(cA.typeProcessorService,m),u.add(cA.fieldAccessComponent,V),u.add(cA.fieldAccessService,L),u.add(cA.selectionService,z),u.add(cA.stateService,U),u.add(cA.errorHandlingService,b),u.add(cA.dataAdapter,E),u.add(cA.dataSetService,g),u.add(cA.loggingService,A),u.add(cA.navigationService,H),u.add(cA.ariaLiveRegionComponent,p),u.add(cA.ariaLiveRegionService,v),this.isEditable?(B=this.buildRowButtonManager(P,g,H),C=new jI(P,m,L,z,g,b,H,d,this.client,this.mode,E,v,n,B,this.perfTool),this.CheckIfEditableOnMobile(C,g),c.push(C)):(j=new VI(P,m,L,z,g,H,d,this.client,this.mode,E,v,n,G),c.push(j)),this.hasFiltering&&(y=this.buildFilteringContext(P),x=this.buildFilteringService(P,g,this.utils,y),I=new MI(P,x,n,o),c.push(I),u.add(cA.filteringContext,y),u.add(cA.filteringService,x)),this.hasPagination&&(this.isEditable?(M=this.buildPagingComponent(d,P),F=this.buildGridPagingService(P,g,M),Q=new HI(F,M,n),c.push(Q),u.add(cA.paginationComponent,M),u.add(cA.paginationService,F)):(M=this.buildEnhancedPagingComponent(P),F=this.buildEnhancedPagingService(P,i,M),Q=new yA(F,M),c.push(Q),u.add(cA.enhancedPaginationComponent,M),u.add(cA.enhancedPaginationService,F))),this.hasGrouping&&bf.getGridState(i).isGroupByEnabled&&(R=this.buildGroupingComponent(d.getContainerId(),P,g,v),k=this.buildGridGroupingService(P,g,m),S=new kI(k,R,n),c.push(S),u.add(cA.groupingComponent,R),u.add(cA.groupingService,k)),this.hasSorting&&(D=this.buildSortingService(i,u.getService(cA.groupingService)),N=new _I(P,D,n),c.push(N),u.add(cA.sortingService,D)),this.hasSubGrid&&(T=new nM(P,this.subGridBuilder,n,this.perfTool),c.push(T)),this.hasKeyboardNavigation&&(O=new TI(P,u.getService(cA.groupingComponent),u.getService(cA.paginationComponent),d,z,n,L),c.push(O)),u.add(cA.gridFeatures,c),u},DF.prototype.buildFlexGridControl=function(t,i,e,n){void 0===n&&(n=Lw.No);try{var r={headersVisibility:t&&n==Lw.Yes?ru.grid.HeadersVisibility.None:ru.grid.HeadersVisibility.Column},s=t?i.getElementsByClassName("editableGrid").item(0):$(MscrmCommon.ControlUtils.String.Format("#{0}",e)).get(0);t&&n==Lw.Yes&&s.classList.add("hideNestedGridHeader");var o=!this.isEditable&&this.utils.isFeatureEnabled("WijmoSizeCache");o&&(s[um]=!0);var a=o?fm(s,function(){return new ru.grid.FlexGrid(s,r)},1,function(){}):new ru.grid.FlexGrid(s,r);return(!bf.isUci()||this.context.utils.isFeatureEnabled(bf.gridVirtualizationFCB))&&bf.isUci()||(bf.isTouchScreenDevice(this.client)?a.virtualizationThreshold=cf.virtualizationThreshold:a.virtualizationThreshold=[0,cf.virtualizationThreshold]),this.adjustGridLayout(s),a}catch(t){}},DF.prototype.adjustGridLayout=function(t){var i=t&&t.firstChild;!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&(this.client.userAgent.isBrowserSafari||bf.isTouchScreenDevice(this.client)&&!bf.isEditableGridOnLegacyClient(this.isEditable))&&(t.style.height="auto",i.style.height="auto")},DF.prototype.buildItemViewComponent=function(t,i,e,n,r,s,o,a,h,c,u){return new aI(t,this.utils,this.client,this.offline,this.mode,i,e,n,r,s,o,this.htmlEncode,a,this.theming,h,c,u,this.perfTool,this.gridTelemetry,this.factory,this.nativeFilterExpressionToRestore,this.lookupAttributeNameForHierarchy)},DF.prototype.buildRowButtonManager=function(t,i,e){return new Wg(t,i,this.navigation,e,this.webAPI,this.client.isRTL,this.utils,this.isEditable)},DF.prototype.CheckIfEditableOnMobile=function(i,t){var e,n=!this.mode.isControlDisabled&&!this.mode.isOffline;bf.isUci()?(e=t.getTargetEntityType(),this.utils.getEntityMetadata(e).then(function(t){i.isEditable=n&&!t.IsReadOnlyInMobileClient})):i.isEditable=n},DF.prototype.resetIncludedFeatures=function(){this.isEditable=!1,this.hasFiltering=!1,this.hasSorting=!1,this.hasPagination=!1,this.hasGrouping=!1,this.hasSubGrid=!1},DF);function DF(t,i,e,n){this.context=t,this.perfTool=i,this.gridTelemetry=e,this.userAgentInfo=n,this.pageNumberToRestore=null}function NF(t,i){void 0===i&&(i={});var e,n,r=i.insertAt;t&&"undefined"!=typeof document&&(e=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css","top"===r&&e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)))}NF('.wj-content{display:inline-block;border:1px solid rgba(0,0,0,.2);border-radius:4px;background:#fff;box-sizing:border-box}.wj-content.wj-calendar-outer,.wj-content.wj-dropdown,.wj-content.wj-inputmask,.wj-content.wj-inputnumber,.wj-content.wj-pager{display:inline-table}.wj-control{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.wj-control,.wj-control :focus,.wj-control a:focus{outline:0}.wj-control [contenteditable]{user-select:text;-moz-user-select:text;-webkit-user-select:text;-ms-user-select:text}.wj-header{background:#eaeaea;color:#444;font-weight:700}.wj-state-selected{background:#0085c7;color:#fff}.wj-state-multi-selected{background:#80adbf;color:#fff}.wj-state-disabled{opacity:.5;cursor:default;pointer-events:none}.wj-control[disabled]{opacity:.5;background:#eee;pointer-events:none}button,input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;overflow:visible;border-radius:inherit;cursor:pointer}.wj-btn{border:0;padding:0 10px;height:100%;vertical-align:top;text-align:center;white-space:nowrap;cursor:pointer}.wj-btn-default{border:1px solid rgba(0,0,0,.2);background:transparent;color:inherit}.wj-control a[wj-part^=btn-],.wj-control button[wj-part^=btn-]:not(.wj-btn-default){background:#e6e6e6;padding:6px 20px;color:#444;display:inline-block;margin-top:5px;text-decoration:none;font-size:12px;font-weight:700;border:0}.wj-btn:focus,.wj-btn:hover,.wj-control a[wj-part^=btn-]:focus,.wj-control a[wj-part^=btn-]:hover,.wj-control button[wj-part^=btn-]:focus,.wj-control button[wj-part^=btn-]:hover{background:rgba(0,0,0,.2)}.wj-btn.wj-btn-default:hover{background:rgba(0,0,0,.05)}.wj-btn-group,.wj-btn-group-vertical{position:relative;display:inline-block;border-radius:4px;vertical-align:top}.wj-btn-group>.wj-btn:not(:first-child):not(:last-child){border-radius:0}.wj-btn-group>.wj-btn:first-child{margin-left:0}.wj-btn-group>.wj-btn:first-child:not(:last-child){border-right:0;border-top-right-radius:0;border-bottom-right-radius:0}.wj-btn-group>.wj-btn:last-child:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.wj-btn-group .wj-btn+.wj-btn,.wj-btn-group .wj-btn+.wj-btn-group,.wj-btn-group .wj-btn-group+.wj-btn,.wj-btn-group .wj-btn-group+.wj-btn-group{margin-left:-1px}.wj-listbox{overflow:auto;cursor:default}.wj-listbox-item{box-sizing:border-box;padding:3px 10px}.wj-listbox-item.wj-separator{height:1px;margin:3px 0;padding:0;background:rgba(0,0,0,.1)}.wj-listbox-item:not(.wj-state-selected):not(.wj-state-disabled):not(.wj-separator):hover{background:rgba(0,0,0,.05)}.wj-listbox .wj-listbox-item label{font-weight:400;margin:0}.wj-dropdown .wj-listbox{padding:0;white-space:nowrap}.wj-listbox-item.wj-state-selected .wj-control{background:#fff;color:#444}.wj-dropdown{vertical-align:middle}.wj-dropdown .wj-dropdown-menu,.wj-dropdown .wj-template{border-radius:inherit}.wj-template{height:100%;display:table-cell;position:relative}.wj-dropdown-panel{box-shadow:0 6px 13px rgba(0,0,0,.2);z-index:1500}.wj-autocomplete-match{font-weight:700}.wj-inputnumber input[type=number]::-webkit-inner-spin-button,.wj-inputnumber input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.wj-control input::-ms-clear{display:none}.wj-inputmask,.wj-inputnumber{vertical-align:middle}.wj-input-group-btn,.wj-input-group .wj-form-control{box-sizing:border-box;display:table-cell}.wj-input{height:100%;overflow:hidden}.wj-input-group{position:relative;display:table;overflow:hidden;width:100%;height:100%;border-collapse:separate;border-radius:4px;background:inherit}.wj-input-group .wj-form-control{position:relative;float:left;padding:0 8px;min-height:2em;vertical-align:middle;width:100%;height:100%;border:0;border-radius:0;background:transparent;color:inherit}.wj-input-group .wj-form-control.wj-numeric{text-align:right}.wj-input-group div[wj-part=header]{float:none;width:auto;vertical-align:middle}.wj-input-group-btn>.wj-btn{border-width:0;min-height:2em}.wj-input-group-btn:first-child>.wj-btn{border-right-width:1px;border-top-right-radius:0;border-bottom-right-radius:0}.wj-input-group-btn:last-child>.wj-btn,[dir=rtl] .wj-input-group-btn:first-child>.wj-btn{border-left-width:1px;border-top-left-radius:0;border-bottom-left-radius:0}[dir=rtl] .wj-input-group-btn:first-child>.wj-btn{border-right-width:0;border-top-right-radius:inherit;border-bottom-right-radius:inherit}[dir=rtl] .wj-input-group-btn:last-child>.wj-btn{border-right-width:1px;border-top-right-radius:0;border-bottom-right-radius:0;border-left-width:0;border-top-left-radius:inherit;border-bottom-left-radius:inherit}.wj-input-group-btn{position:relative;width:26px;height:100%;vertical-align:top;white-space:nowrap}.wj-pager{vertical-align:middle;margin-left:5px;margin-right:5px}.wj-pager .wj-input-group-btn>.wj-btn{min-width:40px}.wj-pager .wj-btn[disabled] span{opacity:.5;cursor:default}.wj-pager .wj-form-control{text-align:center;border-left:1px solid rgba(0,0,0,.2);border-right:1px solid rgba(0,0,0,.2)}.wj-calendar-outer{display:block;padding:10px;width:100%;height:auto;cursor:default;direction:ltr}.wj-calendar td{text-align:center}.wj-dropdown-panel.wj-calendar{width:20em}.wj-dropdown-panel .wj-calendar-outer{border:0;background:0}.wj-day-today{font-weight:700}.wj-day-othermonth{opacity:.5}.wj-calendar-header{display:block;padding:0 0 15px;width:100%}.wj-month-select{float:left;display:inline-block;cursor:pointer}.wj-calendar-header .wj-btn-group{float:right;display:inline-block;margin-bottom:7px}.wj-calendar-header .wj-btn-group .wj-btn{padding:0 8px 1px;min-height:25px}.wj-calendar-month{box-sizing:border-box;width:100%;border-collapse:collapse;font:inherit}.wj-calendar-month td{width:14.29%;padding:5px 0;border:0}.wj-calendar-month .wj-header{font-size:90%}.wj-calendar-year{box-sizing:border-box;width:100%;border-collapse:collapse;font:inherit}.wj-calendar-year td{width:25%;padding:8px;border:0}.wj-flexgrid{cursor:default;width:100%;overflow:hidden}.wj-flexgrid .wj-row{position:absolute;top:0}.wj-cell{position:absolute;box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:3px;border-right:1px solid #d4d4d4;border-bottom:1px solid #d4d4d4}.wj-cell.wj-state-multi-selected .wj-control,.wj-cell.wj-state-selected .wj-control{color:#444}.wj-header.wj-state-multi-selected{background:#e4e4e4;color:#444;font-weight:700}.wj-colheaders .wj-header.wj-state-multi-selected{border-bottom:2px solid #0085c7}.wj-rowheaders .wj-header.wj-state-multi-selected{border-right:2px solid #0085c7}.wj-state-sticky .wj-header{opacity:.75}.wj-flexgrid .wj-marquee{position:absolute;box-sizing:border-box;border:2px solid #0085c7}.wj-cell.wj-state-invalid{border:1.2px solid red}.wj-rowheaders .wj-cell.wj-state-invalid{background:#ffb4b4}.wj-cells .wj-cell.wj-state-invalid:after{position:absolute;content:"";width:0;right:0;top:-6px;border:6px solid transparent;border-right-color:red}.wj-cell.wj-wrap{white-space:normal;text-overflow:clip}.wj-cell.wj-multiline{white-space:pre;text-overflow:clip}.wj-cell.wj-wrap.wj-multiline{white-space:pre-wrap;text-overflow:clip}.wj-cell:not(.wj-header):not(.wj-group):not(.wj-alt):not(.wj-state-selected):not(.wj-state-multi-selected){background:#fff}.wj-alt:not(.wj-header):not(.wj-group):not(.wj-state-selected):not(.wj-state-multi-selected){background:#f9f9f9}.wj-group:not(.wj-state-selected):not(.wj-state-multi-selected){background:#ddd}.wj-cell.wj-frozen-row{border-bottom:1px solid #666}.wj-cell.wj-frozen-col{border-right:1px solid #666}.wj-frozen-clone .wj-cell a,.wj-frozen-clone .wj-cell button,.wj-frozen-clone .wj-cell input,.wj-frozen-clone .wj-cell textarea{pointer-events:auto}.wj-cell .wj-btn.wj-btn-glyph{padding:0 4px;height:auto;min-width:1.5em;color:inherit;background:transparent;opacity:.6}.wj-cell .wj-btn.wj-btn-glyph:hover{opacity:1}.wj-cell .wj-btn.wj-btn-glyph.wj-right{position:absolute;right:2px}.wj-rtl .wj-cell .wj-btn.wj-btn-glyph.wj-right{left:2px;right:auto}.wj-flexgrid .wj-grid-editor{box-sizing:border-box;width:100%;height:100%;margin:0;padding:0;border:0;overflow:hidden;resize:none;background:inherit;color:inherit}.wj-flexgrid .wj-marker{position:absolute;background:#0085c7;opacity:.5;pointer-events:none;z-index:1000}.wj-flexgrid .wj-cell.wj-header.wj-state-dragsrc{opacity:.5}.wj-rtl .wj-cell{border-left:1px solid #c6c6c6;border-right:0}.wj-rtl .wj-frozen-col{border-left:1px solid #666;border-right:0}.wj-cell.wj-filter-off,.wj-cell.wj-filter-on{padding-right:1.6em}.wj-rtl .wj-cell.wj-filter-off,.wj-rtl .wj-cell.wj-filter-on{padding-left:1.6em;padding-right:2px}.wj-filter-on .wj-glyph-filter{opacity:.9}.wj-filter-off .wj-glyph-filter{opacity:.5}.wj-columnfiltereditor{padding:10px;min-width:230px;max-width:400px}.wj-columnfiltereditor .wj-filtertype{text-align:right;margin:14px 0;font-size:12px}.wj-columnfiltereditor a{color:inherit;font-size:inherit;font-weight:700}.wj-columnfiltereditor a.wj-state-disabled{text-decoration:none}.wj-columnfiltereditor .wj-control{margin-bottom:6px;width:100%}.wj-columnfiltereditor .wj-listbox{height:150px}.wj-columnfiltereditor .wj-listbox .wj-listbox-item{max-width:25em}.wj-columnfiltereditor .wj-listbox:not(.wj-state-focused) .wj-listbox-item.wj-state-selected{color:inherit;background:inherit;transition:all .3s}.wj-columnfiltereditor .wj-listbox .wj-listbox-item label{white-space:nowrap}.wj-grouppanel{display:block;background:#f4f4f4;padding:15px}.wj-grouppanel .wj-cell{margin-right:10px;padding:6px 16px;border:1px solid #e6e6e6;cursor:pointer}.wj-grouppanel .wj-cell:hover{background:#e0e0e0}.wj-multirow .wj-cell.wj-record-end:not(.wj-header){border-bottom-color:#787878}.wj-multirow .wj-cell.wj-group-end{border-right-color:#787878}.wj-multirow .wj-hdr-collapse{position:absolute;padding:6px;right:0;top:0;color:#0085c7;opacity:.5}.wj-multirow .wj-hdr-collapse:hover{opacity:1}.wj-flexsheet .wj-marquee{position:absolute;box-sizing:border-box;border:2px solid #0085c7}.wj-flexsheet .wj-state-multi-selected{background:#e6e6e6;color:#222}.wj-flexsheet .wj-cell.wj-state-multi-selected{border-right:1px solid #bbb;border-bottom:1px solid #bbb}.wj-tooltip{position:absolute;z-index:1000;top:0;left:0;pointer-events:none;max-width:400px;padding:6px;background:#ffffe5;border:1px solid rgba(0,0,0,.1);border-radius:6px;box-shadow:0 6px 12px rgba(0,0,0,.175);box-sizing:border-box}.wj-flexchart{height:400px;padding:15px 10px;margin-bottom:12px;background:#fff;border:1px solid #e4e4e4;display:block}.wj-flexchart .wj-header .wj-title{font-size:16pt;fill:#666;font-weight:400}.wj-flexchart .wj-footer .wj-title{fill:#666;font-weight:400}.wj-flexchart .wj-data-label,.wj-flexchart .wj-legend .wj-label{fill:#666}.wj-flexchart .wj-data-label-border{stroke:hsla(0,0%,50.2%,.5)}.wj-flexchart .wj-data-label-line{stroke:grey}.wj-flexchart .wj-axis-x .wj-title,.wj-flexchart .wj-axis-y .wj-title,.wj-flexchart .wj-legend .wj-title{font-style:italic}.wj-flexchart .wj-state-selected{stroke-width:3px;stroke-dasharray:6;stroke-linecap:square}.wj-flexchart .fibonacci-arcs path.wj-state-selected{stroke-dasharray:5 10;stroke-linecap:butt}.wj-treemap .wj-data-label{fill:#fff}@media(max-width:1025px){.wj-flexchart .wj-state-selected{stroke-width:2px;stroke-dasharray:4}}@media(max-width:767px){wj-flexchart .wj-state-selected{stroke-width:1px;stroke-dasharray:3}}.wj-flexchart .wj-label{fill:#666}.wj-flexchart .wj-axis-x .wj-line,.wj-flexchart .wj-tick,.wj-flexchart .wj-tick-minor{stroke:#aaa;stroke-width:1px}.wj-flexchart .wj-gridline{stroke:#666;stroke-width:1px;opacity:.75}.wj-flexchart .wj-gridline-minor{stroke:#666;stroke-width:1px;opacity:.25}.wj-flexchart .wj-chart-rangeslider{position:absolute;touch-action:none}.wj-flexchart .wj-chart-rangeslider button{position:absolute;text-align:center;vertical-align:middle;padding:0;line-height:16px;border-radius:2px}.wj-flexchart .wj-chart-hrangeslider button{width:16px;height:100%}.wj-flexchart .wj-chart-vrangeslider button{height:16px;width:100%}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-content{background:#eaeaea;height:100%;position:relative}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-rangehandle{position:absolute;text-align:center;vertical-align:middle;background:#bdbdbd;height:100%;width:100%}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-minhandle{border:1px solid grey;display:block;position:absolute;border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-minhandle{background:#bdbdbd;cursor:ew-resize;height:22px;margin-top:-2px;width:14px}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-minhandle{background:#bdbdbd;cursor:ns-resize;width:22px;margin-left:-2px;height:14px}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-handle-active{z-index:2}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-decbtn{left:0}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-incbtn{right:0}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-decbtn{bottom:0}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-incbtn{top:0}.wj-flexchart .wj-chart-rangeslider .wj-glyph-left{border-top:5px solid transparent;border-right:4px solid;border-bottom:4px solid transparent;margin-right:2px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-right{border-bottom:5px solid transparent;border-left:4px solid;border-top:4px solid transparent;margin-left:2px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-down{border-top:5px solid;border-right:4px solid transparent;border-left:4px solid transparent;margin-bottom:3px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-up{border-right:4px solid transparent;border-bottom:5px solid;border-left:4px solid transparent;margin-bottom:4px}.wj-flexchart .wj-chart-rangeselector-container{position:relative}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider,.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-content{background:transparent;border-color:transparent}.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-rangehandle{opacity:.3}.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-minhandle{background:transparent;opacity:.6;border:2px solid grey;border-radius:.5em}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-minhandle{height:20px;width:20px;border-radius:50%;border:1px solid hsla(0,0%,50.2%,.75);top:0;bottom:0;margin:auto;color:grey;background:#d3d3d3;opacity:1}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-maxhandle:after,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-minhandle:after{content:"\\2551";text-align:center;width:100%;display:inline-block;position:absolute;margin:0;top:50%;transform:translateY(-55%);-webkit-transform:translateY(-55%);opacity:.75;font-size:10px}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-minhandle{height:20px;width:20px;left:50%;border-radius:50%;border:1px solid hsla(0,0%,50.2%,.75);top:0;bottom:0;color:grey;background:#d3d3d3;opacity:1}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-maxhandle:after,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-minhandle:after{content:"\\2550";text-align:center;height:100%;display:inline-block;position:absolute;margin:0;left:50%;transform:translate(-50%,15%);-webkit-transform:translate(-50%,15%);opacity:.75;font-size:12px}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider .wj-rangeslider-maxhandle.wj-rangeslider-handle-active,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider .wj-rangeslider-minhandle.wj-rangeslider-handle-active{background:rgba(136,189,230,.7)}.wj-flexchart .wj-rangeselector .wj-scroller-center{background:hsla(0,0%,50.2%,.1);position:absolute;display:block;touch-action:none}.wj-flexchart .wj-zoom{visibility:hidden;position:relative}.wj-flexchart .wj-zoom-overlay{background:hsla(0,0%,50.2%,.2);position:absolute;display:block;touch-action:none}.wj-flexchart.wj-panable{cursor:pointer}.wj-flexchart .wj-block-other-interaction{display:none}.wj-flexchart-touch-disabled{touch-action:none}.wj-flexchart .wj-chart-linemarker{background:hsla(0,0%,50.2%,.3);position:absolute;padding:2px}.wj-flexchart .wj-chart-linemarker-container{position:relative}.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-hline{height:2px;background:grey;touch-action:none;position:absolute}.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-vline{width:2px;background:grey;touch-action:none;position:absolute}.wj-flexchart.wj-chart-linemarker-draggable,.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-draggable{-khtml-user-drag:element;cursor:move}.wj-gauge{display:block;touch-action:none}.wj-gauge .wj-face path{fill:#f5f5f5;stroke:#cbcbcb;stroke-width:1px;stroke-linejoin:round}.wj-gauge .wj-pointer{fill:#0085c7}.wj-gauge .wj-ticks{stroke-width:2px;stroke:#fff}.wj-gauge .wj-max,.wj-gauge .wj-min{font-size:60%;opacity:.5}.wj-radialgauge .wj-value{font-size:150%}.wj-lineargauge{height:1.2em}.wj-colorpicker{width:420px;height:200px;padding:4px}.wj-colorbox{position:relative;width:100%;height:100%;cursor:pointer;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.wj-popup{background:#fff;box-shadow:0 3px 9px rgba(0,0,0,.5);z-index:1500;margin:2px 0}.wj-popup-backdrop{background:#000;opacity:.5;position:fixed;left:0;right:0;top:0;bottom:0;z-index:1500}.wj-glyph-asterisk,.wj-glyph-calendar,.wj-glyph-check,.wj-glyph-circle,.wj-glyph-clipboard,.wj-glyph-clock,.wj-glyph-diamond,.wj-glyph-dimension,.wj-glyph-down,.wj-glyph-down-left,.wj-glyph-down-right,.wj-glyph-file,.wj-glyph-filter,.wj-glyph-left,.wj-glyph-left-rtl,.wj-glyph-measure,.wj-glyph-minus,.wj-glyph-pencil,.wj-glyph-plus,.wj-glyph-right,.wj-glyph-right-rtl,.wj-glyph-square,.wj-glyph-step-backward,.wj-glyph-step-backward-rtl,.wj-glyph-step-forward,.wj-glyph-step-forward-rtl,.wj-glyph-up,.wj-glyph-up-left,.wj-glyph-up-right{position:relative;display:inline-block;box-sizing:border-box;text-align:center;opacity:.75;cursor:pointer}.wj-glyph-asterisk:after{content:"\\2731\\fe0e"}.wj-glyph-calendar{width:1em;height:1em;border:.1em solid;border-top:.3em solid;transform:translateY(.15em)}.wj-glyph-calendar:after{position:absolute;font-size:50%;left:.5em;content:"1"}.wj-glyph-check:after{content:"\\2714\\fe0e";font-weight:700}.wj-glyph-circle{border:.25em solid;border-radius:1em;transform:translateY(-.1em)}.wj-glyph-clipboard:after{content:"\\1f4cb\\fe0e"}.wj-glyph-clock{width:1em;height:1em;border:.1em solid;border-radius:50%;transform:translateY(.15em)}.wj-glyph-clock:after{position:absolute;border-left:.1em solid;border-bottom:.1em solid;width:.25em;height:.3em;top:.1em;left:.35em;content:""}.wj-glyph-diamond:after{content:"\\25c6\\fe0e"}.wj-glyph-dimension:after{content:"\\27c0\\fe0e"}.wj-glyph-down{border-top:.5em solid;border-right:.4em solid transparent;border-left:.4em solid transparent}.wj-glyph-down-left{border-top:.65em solid transparent;border-left:.65em solid;top:-2px}.wj-glyph-down-right{border-bottom:.65em solid;border-left:.65em solid transparent;top:-2px}.wj-glyph-file{border-left:.7em solid;height:.85em}.wj-glyph-file:after{position:absolute;transform:translateX(-100%);border-top:.3em solid transparent;border-left:.3em solid #fff;content:""}.wj-glyph-left,.wj-glyph-right-rtl{border-top:.4em solid transparent;border-right:.5em solid;border-bottom:.4em solid transparent}.wj-glyph-measure:after{content:"\\1f4ca\\fe0e"}.wj-glyph-minus,.wj-glyph-plus{border-top:.25em solid;width:.9em;top:-.2em}.wj-glyph-plus:after{position:absolute;box-sizing:border-box;border-left:.25em solid;width:.25em;height:.85em;left:.32em;top:-.55em;content:""}.wj-glyph-pencil:after{content:"\\270e\\fe0e"}.wj-glyph-left-rtl,.wj-glyph-right{border-top:.4em solid transparent;border-bottom:.4em solid transparent;border-left:.5em solid}.wj-glyph-square{border:.25em solid}.wj-glyph-step-backward,.wj-glyph-step-forward-rtl{border-top:.4em solid transparent;border-right:.5em solid;border-bottom:.4em solid transparent;transform:translateX(.12em)}.wj-glyph-step-backward:after,.wj-glyph-step-forward-rtl:after{position:absolute;border-left:.2em solid;height:.75em;transform:translate(-100%,-50%);content:""}.wj-glyph-step-forward-rtl:after,[dir=rtl] .wj-glyph-step-backward:after{transform:translateY(-50%)}.wj-glyph-step-backward-rtl,.wj-glyph-step-forward{border-top:.4em solid transparent;border-bottom:.4em solid transparent;border-left:.5em solid}.wj-glyph-step-backward-rtl:after,.wj-glyph-step-forward:after{position:absolute;border-left:.2em solid;height:.75em;transform:translateY(-50%);content:""}.wj-glyph-step-backward-rtl:after,[dir=rtl] .wj-glyph-step-forward:after{transform:translate(100%,-50%)}.wj-glyph-up{border-right:.4em solid transparent;border-bottom:.5em solid;border-left:.4em solid transparent}.wj-glyph-up-left{border-bottom:.65em solid transparent;border-left:.65em solid}.wj-glyph-up-right{border-top:.65em solid;border-left:.65em solid transparent}.wj-glyph-filter{top:-.1em;width:.5em;border-top:.5em solid;border-right:.4em solid transparent;border-left:.4em solid transparent}.wj-glyph-filter:after{position:absolute;border-left:.2em solid;height:.4em;transform:translateX(-50%);top:-.2em;content:""}[dir=rtl] .wj-glyph-filter:after{transform:translateX(50%)}.wj-flexsheet .wj-content{border-color:#ccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.wj-flexsheet-formula-list{margin:0;padding:0;background:#fff;border:1px solid rgba(0,0,0,.2);font-family:arial,sans-serif;font-size:12px;line-height:22px;position:absolute;width:300px;z-index:2001;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px rgba(0,0,0,.2)}.wj-flexsheet-formula-name{color:#222;font-size:13px;font-family:inconsolata,monospace,arial,sans,sans-serif;margin:-2px 0}.wj-flexsheet-formula-description{color:#666;display:block;font-size:11px;margin:-2px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wj-state-selected .wj-flexsheet-formula-description{color:#fff}.wj-flexsheet div[wj-filter]{display:none}div[wj-part=tab-holder]{background:#b8b8b8}span.wj-sheet-icon{margin:0 14px}div.wj-sheet-page{padding-top:1px}div.wj-sheet-page>button{padding:1px 0 0;border-radius:0;border:0;background:#e4e5e8;color:#727275}div.wj-sheet-page>button:hover{background:#dee0e3}.wj-sheet-tab ul{display:inline-block;margin:0;padding:0;float:left}.wj-sheet-tab ul li{float:left;display:block;padding-right:20px;padding-left:20px;cursor:pointer;margin-top:1px;border-left:1px solid #b8b8b8;min-height:20px;background:#d2d3d8;text-align:center;padding-top:2px;font-size:11px;color:#727275}.wj-sheet-tab ul li.active{border-top-color:transparent;background:#fff;cursor:default;height:100%;margin-top:1px;border-left:1px solid #b8b8b8;font-weight:700}.wj-sheet-tab ul li.hidden{display:none}.wj-sheet-tab ul li:not(.active):hover,.wj-sheet-tab ul li:not(.hidden):hover{background:#aabcd6;color:#fff;cursor:pointer}.wj-sheet-tab ul li.wj-new-sheet:hover{background:#0085c7}.wj-new-sheet{padding:0;width:32px;height:20px;font-size:11px;text-align:center;background:#668eb9;color:#fff}.wj-new-sheet .wj-sheet-icon{color:#727275;margin-top:5px}div.wj-sheet>div{display:block;float:left}[dir=rtl] div.wj-sheet>div{display:block;float:right}.wj-flexsheet{background:#a9a9a9;width:100%;height:100%}.wj-context-menu{background:#fff;border:thin solid grey;cursor:default;padding:3px 0}.wj-context-menu-item{padding:3px 10px}.wj-context-menu-item:not(.wj-context-menu-item-selected):hover{background:rgba(0,0,0,.1)}.wj-context-menu-item-selected{background:#0085c7;color:#fff}.wj-header-row{background:#96abb4!important;color:#fff!important}.wj-pivotpanel{position:relative;padding:3px 6px;overflow:auto;min-height:25em;width:100%}.wj-pivotpanel a{float:right;margin:6px}.wj-pivotpanel table{table-layout:fixed;width:100%}.wj-pivotpanel div{width:100%}.wj-pivotpanel td,.wj-pivotpanel tr{border:1px #e0e0e0;padding:3px}.wj-pivotpanel label{font-weight:700;margin:0}.wj-pivotpanel .wj-flexgrid{flex-grow:1;border:0;border-radius:0;min-height:8em;max-height:20em;margin-left:6px}.wj-pivotpanel table .wj-flexgrid{min-height:5em;height:5em}.wj-pivotpanel .wj-marker{position:absolute;background:#0085c7;opacity:.5;pointer-events:none}.wj-pivotpanel .wj-flexgrid .wj-cell{border:0;background:inherit!important;color:inherit!important}.wj-pivotpanel .wj-flexgrid .wj-cell:hover{background:rgba(0,0,0,.03)!important;border-radius:4px}.wj-pivotpanel .wj-flexgrid .wj-glyph-filter{cursor:default;opacity:.5}.wj-pivotpanel .wj-flexgrid .wj-glyph-dimension,.wj-pivotpanel .wj-flexgrid .wj-glyph-measure{cursor:default}.wj-pivotpanel .wj-flexgrid .wj-aggregate{font-size:80%;opacity:.5}.wj-pivotpanel .wj-flexgrid label{font-weight:400;margin:0}.context-menu{font-size:90%;padding:6px}.menu-icon{display:inline-block;width:1em;margin-right:6px;opacity:.75;color:#0000c0}.menu-icon.menu-icon-remove{color:maroon;font-weight:700}.wj-pivotfieldeditor{min-width:400px}.wj-pivotfieldeditor tr.wj-separator{border-top:10px solid transparent}.wj-pivotfieldeditor td:first-child{text-align:right}.wj-pivotfiltereditor{padding:10px;min-width:230px}.wj-pivotfiltereditor .wj-control{margin-bottom:6px;width:100%}.wj-pivotfiltereditor .wj-listbox{max-height:150px}.wj-pivotfiltereditor .wj-listbox .wj-listbox-item label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.wj-pivotgrid .wj-colheaders .wj-cell.wj-header{text-align:center}.wj-pivotgrid .wj-topleft .wj-cell.wj-col-field-hdr{text-align:right}.wj-pivotgrid .wj-cell.wj-aggregate{font-weight:700}.wj-pivotgrid .wj-aggregate.wj-cell:not(.wj-header):not(.wj-group):not(.wj-state-selected):not(.wj-state-multi-selected){background:rgba(0,133,199,.15)}.wj-pivotchart{position:relative}.wj-pivotchart .wj-dropdown{position:absolute;margin-right:15px;z-index:999}.wj-pivotchart .wj-flexchart{padding:35px 15px 10px}.wj-detaildialog .wj-flexgrid{width:60vw;height:40vh;box-sizing:border-box}.wj-dialog-header{width:100%;background:rgba(0,0,0,.05);font-weight:700;font-size:120%}.wj-dialog-body,.wj-dialog-footer,.wj-dialog-header{padding:1em;box-sizing:border-box}.wj-dialog-footer{text-align:right;margin-top:1em}.wj-control.wj-tabpanel{display:block}.wj-control.wj-tabpanel>div>.wj-tabpanes{overflow:auto;border-top:1px solid #ddd;user-select:text;-moz-user-select:text;-webkit-user-select:text;-ms-user-select:text}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader{position:relative;cursor:pointer;display:inline-block;text-align:center;padding:8px 12px;text-decoration:none;color:inherit;font-weight:700;text-transform:uppercase}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader.wj-state-active{color:#0085c7;background:#fff}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader:not(.wj-state-active):focus{background:rgba(0,0,0,.1)}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader:after{content:"";position:absolute;background:#0085c7;height:2.5px;left:45%;width:10%;bottom:0;visibility:hidden}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader.wj-state-active:after{left:0;width:100%;visibility:visible;transition-duration:.2s}.wj-control.wj-tabpanel>div>.wj-tabpanes>.wj-tabpane:not(.wj-state-active){display:none}.wj-treeview{width:100%;overflow:auto;background:transparent;border:0}.wj-treeview.wj-state-loading *{cursor:wait!important}.wj-treeview .wj-node{cursor:pointer;white-space:nowrap;box-sizing:border-box;padding:3px 10px}.wj-treeview .wj-node.wj-state-selected{color:inherit;background:rgba(0,0,0,.05)}.wj-treeview .wj-node img{padding-right:4px}.wj-treeview .wj-node .wj-node-check{margin-right:4px}.wj-treeview .wj-node:before{content:"";position:relative;display:inline-block;border-top:.5em solid;border-right:.45em solid transparent;border-left:.45em solid transparent;top:-1px;margin-right:4px;opacity:.75;transition:all .3s cubic-bezier(.4,0,.2,1)}.wj-treeview .wj-node.wj-state-collapsed:before,.wj-treeview .wj-node.wj-state-collapsing:before{transform:rotate(-90deg);transition:all .3s cubic-bezier(.4,0,.2,1)}.wj-treeview .wj-nodelist .wj-node.wj-state-empty:before{visibility:hidden}.wj-treeview .wj-nodelist{display:block;position:relative}.wj-treeview .wj-nodelist .wj-nodelist{padding-left:1em}.wj-treeview .wj-node.wj-state-collapsed+.wj-nodelist{display:none}.wj-treeview .wj-marker{position:absolute;background:#0085c7;opacity:.5;pointer-events:none}.wj-treeview .wj-node.wj-state-collapsed.wj-state-loading:before{animation-name:wjLazyNodeLoading;animation-duration:.6s;animation-direction:alternate;animation-iteration-count:infinite}@keyframes wjLazyNodeLoading{0%{opacity:1;transform:scale(1.1)}to{opacity:.5;transform:scale(.5)}}[dir=rtl] .wj-nodelist .wj-nodelist{padding-left:unset;padding-right:1em}[dir=rtl] .wj-node img{padding-right:unset;padding-left:4px}[dir=rtl] .wj-node .wj-node-check,[dir=rtl] .wj-nodelist .wj-node:before{margin-right:unset;margin-left:4px}[dir=rtl] .wj-nodelist .wj-node.wj-state-collapsed:before,[dir=rtl] .wj-nodelist .wj-node.wj-state-collapsing:before{transform:rotate(90deg)}.wj-multi-autocomplete{width:100%;height:auto;padding:5px;border:1px solid rgba(0,0,0,.1);border-radius:6px;margin-bottom:10px}.wj-multi-autocomplete .wj-input{float:left}.wj-multi-autocomplete .wj-form-control{padding:10px}.wj-multi-autocomplete .wj-token{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;display:inline-block;float:left;border:1px solid #d9d9d9;background:#ededed;white-space:nowrap;margin:5px;vertical-align:middle;cursor:default}.wj-multi-autocomplete .wj-token .wj-token-label{display:inline-block;overflow:hidden;text-overflow:ellipsis;padding:5px 5px 5px 10px;vertical-align:middle;max-width:500px}.wj-multi-autocomplete .wj-token:hover{border-color:#b9b9b9}.wj-multi-autocomplete .wj-token.wj-token-active{border-color:#febbbb}.wj-multi-autocomplete .wj-token-helper{position:absolute;left:-10000px}.wj-multi-autocomplete .wj-token .wj-token-close{font-family:Arial;display:inline-block;line-height:100%;font-size:1.1em;line-height:1.49em;margin-left:5px;float:none;height:100%;vertical-align:middle;padding-right:4px;cursor:pointer}.wj-multi-autocomplete .wj-token .wj-token-close:focus,.wj-multi-autocomplete .wj-token .wj-token-close:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.5}.wj-viewer-outer{width:100%;height:100%;display:block;position:relative;padding-top:50px}.wj-viewer-splitter{cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wj-viewer-outer.mobile.with-footer,.wj-viewer-outer.mobile.with-searchbar{padding-bottom:50px}.wj-viewer-outer.mobile.with-footer.with-searchbar{padding-bottom:100px}.wj-viewer-outer .mobile{visibility:hidden}.wj-viewer-outer.mobile .wj-toolbar,.wj-viewer-outer.mobile .wj-viewer-splitter{visibility:hidden;display:none}.wj-viewer-outer.mobile .mobile{visibility:visible}.wj-viewer-outer.mobile .wj-toolbar.mobile{display:block}.wj-viewer-outer.mobile .wj-toolbar.mobile.hidden{display:none}.wj-viewer{height:750px;width:1100px;background:#fff;margin-left:auto;margin-right:auto}.wj-viewer.full-screen{left:0;top:0;width:100%;height:100%;display:block;position:fixed!important;z-index:1200}.wj-viewer.full-screen .wj-viewer-outer{width:100%;height:100%;display:block;position:absolute;padding-top:0}.wj-viewer.full-screen .wj-viewer-outer.mobile{padding-top:50px}body.full-screen{overflow:hidden}.wj-viewer.wj-control{-webkit-user-select:inherit;-ms-user-select:inherit;-moz-user-select:inherit}.wj-toolbarcontainer{float:left;height:100%;overflow:hidden}.wj-toolbarwrapper{padding-top:5px;height:100%}.wj-toolbar{height:50px;width:100%;border-bottom:1px solid #c8c8c8;box-sizing:border-box;position:absolute;margin-top:-50px}.wj-viewer .wj-toolbarwrapper.wj-btn-group>.wj-btn{padding-left:0;padding-right:0;height:40px;box-sizing:border-box;position:relative;float:left}.wj-viewer.full-screen .wj-toolbar,.wj-viewer .wj-toolbar .hidden{display:none}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-toolbar{display:block}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-searchbar.hidden{display:none}.wj-toolbar a:focus,.wj-toolbar a:hover{background:#eee}.wj-toolbar a:focus.checked,.wj-toolbar a:focus.disabled,.wj-toolbar a:hover.checked,.wj-toolbar a:hover.disabled{background:transparent;cursor:default}.wj-toolbar .wj-separator{height:33px;width:10px;float:left;border-right:2px solid #000;margin:3px 10px 0 0;opacity:.25}.wj-toolbar .wj-pagenumber{margin:4px 10px;height:30px;width:80px;float:left}.mobile .wj-toolbar .wj-pagenumber{width:50px}.wj-toolbar .wj-pagecount{margin:5px 10px;height:30px;line-height:30px;float:left}.mobile .wj-toolbar .wj-pagecount{margin:5px 7px}.wj-toolbar .wj-input-zoom{margin:4px 10px;height:30px;width:100px;float:left}.wj-toolbar .slash{float:left;height:40px;width:10px;line-height:40px}.wj-toolbar-move{width:12px;height:100%;cursor:pointer;visibility:hidden}.wj-viewer-outer.mobile .wj-toolbar .wj-toolbar-move{visibility:hidden;display:none}@media print{.wj-toolbar-move{visibility:hidden;display:none}}.wj-toolbar-move.left{float:left}.wj-toolbar-move.right{float:right}.wj-toolbar-move .wj-glyph-left,.wj-toolbar-move .wj-glyph-right{margin-top:23px;margin-left:2px}.wj-toolbar:hover .wj-toolbar-move.enabled{opacity:1}.wj-toolbar-move:hover.enabled{background:#f0f0f0;opacity:1}.wj-toolbar-move{opacity:.2}.wj-mini-toolbar{position:absolute;vertical-align:bottom;border:0;bottom:50px;width:460px;background:#303030;visibility:hidden;opacity:.8}.wj-viewer.full-screen .wj-mini-toolbar{visibility:visible;display:inline-block}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-mini-toolbar{visibility:hidden;display:none}.wj-mini-toolbar a:focus{background:transparent}.wj-mini-toolbar .slash,.wj-mini-toolbar .wj-pagecount{color:#e0e0e0}.wj-mini-toolbar .wj-pagenumber{color:#e0e0e0;background:#202020}.wj-mini-toolbar .wj-toolbar-move{visibility:hidden}.wj-mini-toolbar .wj-svg-btn{fill:#fff;opacity:1}.wj-mini-toolbar .wj-btn:hover{background:#606060!important}.wj-viewer-container{height:100%;width:100%;table-layout:fixed;box-sizing:border-box}@media print{.wj-viewer-container{white-space:nowrap}}.wj-viewer.full-screen .wj-viewer-splitter{display:none}.wj-viewer.narrow .wj-viewer-splitter{display:none;visibility:hidden}.wj-viewer-container .wj-viewer-splitter{float:left;height:100%;cursor:pointer}.wj-viewer-container .wj-viewer-splitter button{padding:0 2px;background:#fafafa;border-left:1px solid #c8c8c8;border-right:1px solid #c8c8c8;border-top:0;border-bottom:0}.wj-viewer-container .wj-viewer-splitter button:hover{background:#dadada}.wj-viewer-container .wj-viewer-splitter span{text-align:center}.wj-viewer-leftpanel{float:left;height:100%}.mobile .wj-viewer-leftpanel{width:0}.wj-viewer.full-screen .wj-viewer-leftpanel{display:none}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-viewer-leftpanel{display:block}.wj-viewer.narrow .wj-viewer-leftpanel{display:none;visibility:hidden}.wj-nav{padding-left:0;list-style:none;float:left;border-bottom:0;margin-bottom:-1px;box-sizing:border-box}.wj-nav>li{position:relative;display:block;float:none;margin:0}.wj-nav>li.hidden{display:none}.wj-nav>li>a{position:relative;display:block;margin-right:0;border:0;background-repeat:no-repeat;background-position:50%;width:48px;height:48px;line-height:1.42857143;border-radius:0;border-width:0 1px 0 0;border-right:0 solid;border-color:transparent;padding-top:12px;box-sizing:border-box}.wj-nav>li>a:focus,.wj-nav>li>a:hover{text-decoration:none;background:#eee}.wj-nav>li>a .wj-arrow{display:none}.wj-nav>li>a .wj-arrow .wj-insidearrow{position:absolute;top:17px;z-index:1000;right:-1px;height:0;width:0;border:7px solid transparent;border-right-color:#fafafa}.wj-nav>li>a .wj-arrow .wj-outsidearrow{position:absolute;top:16px;right:-1px;height:0;width:0;border:8px solid transparent;border-right-color:#c8c8c8}.wj-nav>li.active>a,.wj-nav>li.active>a:focus,.wj-nav>li.active>a:hover{border:0}.mobile .wj-nav{display:none;visibility:hidden}.wj-viewer-tabsleft{height:100%;position:relative}.wj-viewer-outer.mobile .wj-viewer-tabsleft{width:100%;position:absolute;top:0;z-index:1000}.wj-viewer-outer.mobile .wj-viewer-tabsleft.collapsed{width:0}.wj-viewer-outer.mobile .wj-tabcontent{width:100%}.wj-viewer-tabsleft.collapsed .wj-tabcontent{width:0;visibility:collapse}.wj-tabcontent{float:right;height:100%;width:auto}.wj-tabcontent h3{margin-top:0;font-family:-apple-system-font,Segoe UI Light,Segoe UI,Roboto,sans-serif}.wj-tabcontent .wj-tabpane{position:relative;left:-9999px;background:#fafafa;width:0;height:0;display:none}.wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper{position:absolute;width:299px;padding:10px 20px 20px;box-sizing:border-box}.wj-viewer-outer.mobile .wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper{position:absolute;width:100%;padding:10px 20px 20px;box-sizing:border-box}.wj-tabcontent .wj-tabpane .wj-tabtitle{color:#000;float:left}.wj-tabcontent .wj-tabpane .wj-tabcontent-wrapper{height:100%;padding-top:48px;box-sizing:border-box}.wj-tabcontent .wj-tabpane .wj-tabcontent-wrapper.search-wrapper{padding-top:202px}.wj-tabcontent .wj-tabpane .wj-tabcontent-wrapper.wj-exportformats-wrapper{padding-top:120px}.wj-tabcontent .wj-tabpane .wj-tabcontent-inner{overflow:auto;height:100%;border-top:1px solid #c8c8c8}.wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper .wj-close{font-size:30pt;line-height:20px;float:right;font-weight:700;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;cursor:pointer}.wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper .wj-exportcontainer{margin-top:50px}.wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper .wj-exportcontainer label{margin-right:8px}.wj-tabcontent .wj-tabpane .wj-outlines-tree{border-radius:0;background:#fafafa;padding-top:20px;padding-left:4px}.wj-tabcontent .wj-listbox-item.wj-thumbnail-item.wj-state-selected,.wj-tabcontent .wj-listbox-item.wj-thumbnail-item:not(.wj-state-selected):not(.wj-state-disabled):not(.wj-separator):hover{background:transparent;color:inherit}.wj-tabcontent .wj-thumbnaillist{width:100%;border-radius:0;border:0;display:block}.wj-tabcontent .wj-tabpane .wj-thumbnaillist .wj-thumbnail-item{height:auto;text-align:center;padding-top:35px}.wj-tabcontent .wj-tabpane .wj-thumbnaillist .wj-thumbnail-item .wj-pagethumbnail{background:#fff;border:1px solid #c8c8c8;cursor:pointer;margin:0 auto 10px}.wj-tabcontent .wj-tabpane .wj-thumbnaillist .wj-listbox-item.wj-thumbnail-item.wj-state-selected .wj-pagethumbnail{border-color:#0085c7}.wj-tabcontent .active{left:0;width:300px;height:100%;border-left:1px solid #c8c8c8;display:block}.wj-viewer-outer.mobile .wj-tabcontent .active{left:0;width:100%;height:100%;border:1px solid #c8c8c8;display:block}.wj-viewpanel-container{float:right;overflow:hidden}.wj-pageview,.wj-viewpanel-container{position:relative;background:#e5e5e5;height:100%;width:100%;text-align:center}.wj-pageview{-webkit-overflow-scrolling:touch}.wj-pageview-continuous{overflow:auto}.wj-pageview.hidden{display:none;visibility:hidden}.wj-pageview-pagescontainer{position:relative;height:100%;width:100%;display:inline-block;overflow-x:auto;overflow-y:scroll;text-align:center}.wj-pageview-single:not(.virtual) .wj-pageview-pagescontainer{overflow-y:auto}.wj-pageview-vscroller{display:inline-block;position:absolute;right:0;top:0;height:100%;width:18px;float:right;overflow-x:hidden;overflow-y:scroll}.wj-pageview-single:not(.virtual) .wj-pageview-vscroller{visibility:hidden}.wj-vscroller-wrapper{width:1px}@media print{.wj-viewpanel-container{display:inline-block;float:none}}.wj-viewpanel-container .wj-view-page{width:1px;height:1px;margin:0 auto 30px;background:#fff;border:1px solid rgba(0,0,0,.3);box-shadow:0 2px 8px rgba(0,0,0,.15)}.wj-viewpanel-container.move .wj-view-page{cursor:move;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wj-viewpanel-container .wj-view-page:last-child{margin-bottom:0}.wj-viewer-loading{background:hsla(0,0%,80%,.8);position:absolute;left:0;top:0;width:100%;height:100%;text-align:center;font-size:20pt}.wj-viewer-loading .verticalalign{vertical-align:middle;display:inline-block;width:1px;height:100%;margin-left:-1px}.wj-viewer-loading .textspan{vertical-align:middle;display:inline-block;padding:20px}.wj-viewer-loading.errormessage{font-size:inherit}.wj-parameterscontainer{float:left;width:100%;padding-left:10px;padding-right:10px;box-sizing:border-box}.wj-parametercontainer{float:left;width:100%;margin-top:20px}.wj-parametercontainer .wj-parameterhead{float:left;padding-top:4px}.wj-parametercontainer .wj-parametercontrol{float:right;width:100%}.wj-parametercontainer .error{color:red;float:right}.wj-parametererrors-hidden .wj-parametercontainer .error{display:none}.wj-parametercontainer textarea{float:right;resize:none;height:100px;width:140px}.wj-tabpane .wj-applybutton{float:right;margin-top:20px}.wj-outlines-tree{border:0;width:100%;display:block}.wj-outlines-tree .wj-cell{border:0}.wj-outlines-tree .wj-cell span{margin-right:5px}.wj-outlines-tree .wj-cell a:hover,.wj-outlines-tree .wj-cell a:link,.wj-outlines-tree .wj-cell a:visited{color:#000;text-decoration:none}.wj-outlines-tree .wj-header.wj-cell{color:#fff;background:#000;border:0;font-weight:700}.wj-outlines-tree .wj-cell{cursor:pointer}.wj-outlines-tree .wj-alt:not(.wj-state-selected):not(.wj-state-multi-selected),.wj-outlines-tree .wj-cell,.wj-outlines-tree .wj-group:not(.wj-state-selected):not(.wj-state-multi-selected){background:#fafafa;color:#000}.wj-outlines-tree .wj-state-selected{background:#eee;color:#000}.wj-outlines-tree .wj-state-multi-selected{background:#fafafa;color:#000}.wj-tabcontent .wj-tabpane .wj-searchbox{width:100%;height:30px;float:left;border-radius:4px;border:1px solid rgba(0,0,0,.2);padding:4px 60px 4px 8px;margin-right:5px;box-sizing:border-box}.wj-tabcontent .wj-tabpane .wj-searchcontainer{position:relative;float:left}.wj-tabcontent .wj-tabpane .wj-searchcontainer .wj-btn-group{position:absolute;top:0;right:0}.wj-tabcontent .wj-tabpane .wj-searchcontainer .wj-btn-group button{background:transparent;background-position:50%;background-repeat:no-repeat;height:30px;width:30px;border:0;padding:1px}.wj-tabcontent .wj-tabpane .wj-searchoption{margin-top:10px;float:left;width:100%}.wj-tabcontent .wj-tabpane .wj-searchoption input{height:16px;float:left;width:16px;margin:2px 0 0}.wj-tabcontent .wj-tabpane .wj-searchoption label{margin-top:2px;float:left;font-weight:400}.wj-tabcontent .wj-tabpane .wj-searchresult{color:#000;padding-top:15px;float:left}.wj-tabcontent .wj-searchresultlist{float:left;width:100%;padding:10px;background:transparent;border:0;border-radius:0}.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-item{cursor:pointer}.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-item.selected,.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-item:hover{background:#eee}.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-text{font-size:18px;font-weight:500}.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-page{font-weight:300}.wj-viewer-outer.mobile .wj-tabcontent .wj-tabpane .wj-pagesetupcontainer{width:100%}.wj-view-page .wj-loading{background:hsla(0,0%,80%,.8);width:100%;height:100%}.wj-view-page .highlight{fill:red;fill-opacity:.5}.wj-view-page rect{pointer-events:none}.wj-view-page a rect,.wj-view-page rect[arsvg\\:data-action-type]{pointer-events:inherit}.wj-pages-wrapper{display:inline-block;margin:30px}.wj-svg-btn{opacity:.5;width:22px;height:22px;enable-background:new 0 0 22 22;stroke-width:0;stroke:#000}.wj-viewer .wj-btn-group>.wj-btn{padding-top:8px;padding-left:8px;padding-right:8px;height:36px;width:34px}.wj-viewer .mobile .wj-btn-group>.wj-btn{padding-top:9px}.wj-content:not(.customEdit) .wj-btn-group .wj-btn:hover{background:#eee}.wj-content:not(.customEdit) .wj-btn-group .wj-btn.wj-state-active .wj-svg-btn{fill:#3986c7;opacity:1;stroke:#3986c7}.wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-btn .wj-svg-btn{fill:#3986c7;opacity:1}.wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-btn .wj-svg-btn .wj-hollow-svg{fill:none;stroke:#3986c7}.wj-viewer-menu>.wj-listbox-item{white-space:nowrap}.wj-viewer-footer{height:50px;width:100%;border-top:1px solid #c8c8c8;box-sizing:border-box;position:relative;display:none}.wj-viewer-outer.mobile .wj-viewer-footer{display:block}.wj-viewer-outer.mobile .wj-viewer-footer.hidden{display:none}.wj-viewer-footer .wj-toolbar{margin:0 auto;left:0;right:0}.wj-viewer-footer .wj-close{font-size:30pt;line-height:20px;float:right;font-weight:700;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;cursor:pointer;margin-top:12px}.wj-control :invalid{box-shadow:none;outline:0}.wj-export-editor{width:100%}.wj-export-editor td{font-size:8pt}.wj-exportformats-wrapper .wj-export-editor td:first-child{width:200px}.wj-exportformats-wrapper .wj-export-editor td:last-child{width:150px}.wj-exportformats-group{margin:8px}.wj-exportformats-footer,.wj-pagesetup-footer{padding:8px}.wj-searchbar{height:50px;width:100%;border-top:1px solid #c8c8c8;box-sizing:border-box;position:relative;margin:0 auto}.wj-searchbar.hidden{visibility:hidden;display:none}.wj-searchbar .wj-searchcontainer{left:40px;right:80px;float:left;width:auto;position:absolute;padding-top:4px;display:inline-block}.wj-searchbar .wj-searchbox{width:100%;height:30px;float:left;border-radius:4px;border:1px solid rgba(0,0,0,.2);padding:4px 60px 4px 8px;margin-right:5px;box-sizing:border-box}.wj-searchbar .wj-searchcontainer .wj-btn-group{position:absolute;top:5px;right:0}.wj-searchbar .wj-searchcontainer .wj-btn-group>.wj-btn-search{padding-top:4px}.wj-searchbar .wj-searchcontainer .wj-btn-group button{background:transparent;background-position:50%;background-repeat:no-repeat;height:30px;width:30px;border:0;padding:1px}.wj-searchbar .wj-toolbarcontainer,.wj-searchbar .wj-toolbarcontainer .wj-toolbarwrapper{width:100%}.wj-searchbar .wj-toolbarcontainer .wj-toolbarwrapper>.wj-btn{display:inline-block}.wj-searchbar .wj-toolbarcontainer .wj-toolbarwrapper .wj-searchbtn-groups{float:right;width:auto;padding-top:0}.wj-listbox-item .checkIcon{width:20px;margin-right:5px;visibility:hidden}.wj-listbox-item.checked .checkIcon{visibility:visible}.wj-listbox-item.hidden{display:none;visibility:hidden}.wj-zoombar{width:220px}.wj-rubberband{border:solid;border-color:red;border-width:2px;width:0;height:0;z-index:1;position:absolute;display:none}.wj-viewpanel-container.magnifier-actived .wj-view-page,.wj-viewpanel-container.rubberband-actived .wj-view-page{cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wj-magnifier,.wj-viewpanel-container.magnifier-actived .wj-view-page svg,.wj-viewpanel-container.rubberband-actived .wj-view-page svg{pointer-events:none}.wj-magnifier{border:solid;border-color:#000;border-width:1px;width:242px;height:150px;z-index:1;position:absolute;display:none;overflow:hidden;cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wj-viewpanel-container.magnifier-actived .wj-magnifier.show,.wj-viewpanel-container.rubberband-actived .wj-rubberband.show{display:block}.wj-magnifier .wj-view-page{position:absolute}'),NF('.editModeSectionControlIcon{position:absolute;top:0;right:100%;margin-top:6px;margin-bottom:0;margin-left:0}.text-ellipsis{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.TabularView{background-color:transparent;border:0;table-layout:fixed;border-collapse:separate}.listAsTable-HeaderRow{color:#fff;height:23px;border:0;background-color:#999;vertical-align:bottom;text-align:left;padding:0;margin-bottom:0;border-spacing:0;-webkit-transform:none!important}.listAsTable-HeaderRow,.listAsTable-HeaderRow th{font:normal normal normal 13px/20px SegoeUI-Semibold,Segoe UI SemiBold}.listAsTable-HeaderRow th{border-spacing:0;min-width:40px;border:1px solid #f4f4f4}.listAsTable-HeaderRow span{display:inline-block;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:36px;max-width:100%;vertical-align:top}.listAsTable-HeaderRow th.headerRow-sortAscending span,.listAsTable-HeaderRow th.headerRow-sortDescending span{max-width:-webkit-calc(100% - 14px);max-width:calc(100% - 14px)}.TabularView td{vertical-align:middle}.TabularView>tbody:last-child>tr{margin-top:8px;margin-bottom:8px;height:53px;padding:0}.TabularView>tbody>tr:first-child{margin-top:0}.listAsTable-HeaderRow>th{text-align:left;vertical-align:middle;white-space:nowrap}.headerRow-sortArrow{height:10px;width:7px;margin-left:7px;display:inline-block}.headerRow-sortAscending,.headerRow-sortDescending{background-color:#717171;overflow:inherit}.headerRow-sortDescending .headerRow-sortArrow{background-image:url(/nga/resources/images/sort_arrow_down.png)}.headerRow-sortAscending .headerRow-sortArrow{background-image:url(/nga/resources/images/sort_arrow_up.png)}.handleRow span{float:right;width:31px;left:23px;top:25px;touch-action:none}.listAsTable-HeaderRow th,.TabularView tbody tr td,.widthReserver td{padding-left:10px;min-width:40px}.listAsTable-HeaderRow th{padding-right:10px}.TabularView tbody tr td,.widthReserver td{padding-right:11px}.widthReserver td div{min-width:50px}.listAsTable-HeaderRow th:first-child,.TabularView tbody tr:not(hover) td:first-child,.widthReserver td:first-child{min-width:40px}.listItem.listAsTable-Row{outline:none}.listItem.listAsTable-Row td:first-child{border-left:2px solid transparent;padding-right:9px}.listItem.listAsTable-Row td:last-child{border-right:2px solid transparent;padding-right:9px;position:relative}.listItem.listAsTable-Row[aria-selected=true]{background:#fff}.listItem.listAsTable-Row[aria-selected=true] td{border-top:2px solid #f7661f;border-bottom:2px solid #f7661f}.listItem.listAsTable-Row[aria-selected=true] td:first-child{border-left:2px solid #f7661f}.listItem.listAsTable-Row[aria-selected=true] td:last-child{padding-right:0;border-right:2px solid #f7661f}.TabularView .item_Checked{right:0;position:absolute;top:0}.listRoot.panoramaItem-control.gridRoot{overflow:hidden}.gridComponentContainer.panoramaItem-control{height:100%}.phone .gridPane .listRoot.panoramaItem-control .scrollingElement{height:-webkit-calc(100% - 40px);height:calc(100% - 40px)}.gridPane.panoramaItem{-webkit-box-flex:1 0 auto;-moz-box-flex:1 0 auto;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.gridPane .listRoot.panoramaItem-control .scrollingElement{padding-right:6px;width:auto}.listRoot:not(.containerDisabled) .TabularView tbody .field:focus:not([readonly]){background-color:#fff}.TabularView.hasHyperLinkNavigation>tbody>tr>td:first-child,.TabularView.hasHyperLinkNavigation>tbody>tr>td:first-child input{cursor:pointer;color:#24a0da}.table_header{border-spacing:0;margin-right:17px}.listHeader.hideExtraPadding{margin-bottom:0;padding-bottom:0}.widthReserver{height:0;visibility:hidden;border-spacing:0}.widthReserver td{height:0;border-top:0;border-bottom:0;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0}.listAsTable-Row{background-color:transparent}.hoverable .listAsTable-Row:hover{cursor:pointer}.listAsTable-Row td>:not(.item_Checked){font:normal normal normal 14px/20px SegoeUI,Segoe UI;background-color:transparent;display:inline-block;min-width:40px;width:inherit;color:#666;text-align:left;overflow-x:hidden}.listAsTable-Row td>:not(.item_Checked).crmSymbolFont{font-family:Dyn CRM Symbol;text-align:center;font-size:16.2px}.listAsTable-Row td span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tablet.ios .listAsTable-Row td span{overflow-x:auto}.listAsTable-Row button{border:none;margin:0}.listAsTable-Row .listItem_primary_field{text-decoration:underline;color:#000}.TabularView tr:nth-child(odd){background-color:#f1f1f1}.TabularView tr:nth-child(2n){background-color:#fbfbfb}.TabularView .placeHolderImage{height:auto}.tablet .gridPane .listRoot.panoramaItem-control .scrollingElement{height:-webkit-calc(100% - 105px);height:calc(100% - 105px);background-color:transparent}.tablet .TabularView tr{background-color:#fff}.tablet .TabularView>tbody:last-child>tr{height:52px}.tablet .listAsTable-HeaderRow{background-color:hsla(0,0%,100%,.5);color:#000;height:50px}.tablet .listAsTable-HeaderRow th{border-color:transparent;border-bottom:2px solid #f4f4f4}.tablet .listAsTable-HeaderRow span{font:normal normal normal 12px/20px SegoeUI-Semibold,Segoe UI SemiBold;color:#000;text-transform:uppercase}.tablet .headerRow-sortAscending,.tablet .headerRow-sortDescending{background-color:#fff}.tablet .headerRow-sortArrow{height:auto;width:auto;background-image:none;font-size:13px}.tablet .headerRow-sortDescending .headerRow-sortArrow{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.tablet .headerRow-sortAscending .headerRow-sortArrow{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.tablet .headerRow-sortAscending .headerRow-sortArrow:before,.tablet .headerRow-sortDescending .headerRow-sortArrow:before{font-family:Dyn CRM Symbol;content:"\\E111"}.tablet .listItem.listAsTable-Row td{border-bottom:2px solid #f4f4f4}.tablet .listItem.listAsTable-Row[aria-selected=true] td{border-bottom:2px solid #f7661f}.tablet .listAsTable-Row td>:not(.item_Checked):not(.crmSymbolFont){font:normal normal normal 15px/20px SegoeUI,Segoe UI}.tablet .TabularView .listItem:first-child:last-child{background-color:#fff}@font-face{font-family:Dyn CRM Symbol Grid;src:url("data:font/truetype;charset=utf-8;base64,AAEAAAAMAIAAAwBAT1MvMknUe20AAADMAAAAYFZETVhuw3ZbAAABLAAABeBjbWFw4BF5igAABwwAAAfUZ2FzcAAIABsAAA7gAAAADGdseWY+5MEZAAAO7AABK8xoZWFkCl68yAABOrgAAAA2aGhlYRJq/r0AATrwAAAAJGhtdHiYcrwOAAE7FAAABcpsb2NhAL5ejAABQOAAAAX4bWF4cAHbAZsAAUbYAAAAIG5hbWW40i/MAAFG+AAABiJwb3N0AI9xZQABTRwAABJ7AAMJsgGQAAUAAAWaBTMAAAEbBZoFMwAAA9EAZgISCAUCCwUCBAIEAgIDAAAAARAAAAAAAAAAAAAAAE1TICAAQAAN7I0F0/5RAQ0IogICAAAAAQAAAAAEAAWaAAAAIAAAAAEAAQABAQEBAQAMAPgI/wAIAAj//gAJAAr//QAKAAr//QALAAv//QAMAAz//QANAAz//QAOAA3//AAPAA7//AAQAA///AARABD//AASABH/+wATABL/+wAUABP/+wAVABT/+wAWABX/+gAXABb/+gAYABf/+gAZABj/+gAaABn/+QAbABr/+QAcABv/+QAdABz/+QAeAB3/+AAfAB3/+AAgAB7/+AAhAB//+AAiACD/9wAjACH/9wAkACL/9wAlACP/9wAmACT/9gAnACX/9gAoACb/9gApACf/9gAqACj/9QArACn/9QAsACr/9QAtACv/9QAuACz/9AAvAC3/9AAwAC7/9AAxAC//9AAyADD/8wAzADH/8wA0ADH/8wA1ADL/8wA2ADP/8gA3ADT/8gA4ADX/8gA5ADb/8gA6ADf/8QA7ADj/8QA8ADn/8QA9ADr/8QA+ADv/8AA/ADz/8ABAAD3/8ABBAD7/8ABCAD//7wBDAED/7wBEAEH/7wBFAEL/7wBGAEP/7gBHAET/7gBIAET/7gBJAEX/7gBKAEb/7QBLAEf/7QBMAEj/7QBNAEn/7QBOAEr/7ABPAEv/7ABQAEz/7ABRAE3/7ABSAE7/6wBTAE//6wBUAFD/6wBVAFH/6wBWAFL/6gBXAFP/6gBYAFT/6gBZAFX/6gBaAFb/6QBbAFf/6QBcAFj/6QBdAFj/6QBeAFn/6ABfAFr/6ABgAFv/6ABhAFz/6ABiAF3/5wBjAF7/5wBkAF//5wBlAGD/5wBmAGH/5gBnAGL/5gBoAGP/5gBpAGT/5gBqAGX/5QBrAGb/5QBsAGf/5QBtAGj/5QBuAGn/5ABvAGr/5ABwAGv/5ABxAGv/5AByAGz/4wBzAG3/4wB0AG7/4wB1AG//4wB2AHD/4gB3AHH/4gB4AHL/4gB5AHP/4gB6AHT/4QB7AHX/4QB8AHb/4QB9AHf/4QB+AHj/4AB/AHn/4ACAAHr/4ACBAHv/4ACCAHz/3wCDAH3/3wCEAH7/3wCFAH//3wCGAH//3gCHAID/3gCIAIH/3gCJAIL/3gCKAIP/3QCLAIT/3QCMAIX/3QCNAIb/3QCOAIf/3ACPAIj/3ACQAIn/3ACRAIr/3ACSAIv/2wCTAIz/2wCUAI3/2wCVAI7/2wCWAI//2gCXAJD/2gCYAJH/2gCZAJL/2gCaAJL/2QCbAJP/2QCcAJT/2QCdAJX/2QCeAJb/2ACfAJf/2ACgAJj/2AChAJn/2ACiAJr/1wCjAJv/1wCkAJz/1wClAJ3/1wCmAJ7/1gCnAJ//1gCoAKD/1gCpAKH/1gCqAKL/1QCrAKP/1QCsAKT/1QCtAKX/1QCuAKb/1ACvAKb/1ACwAKf/1ACxAKj/1ACyAKn/0wCzAKr/0wC0AKv/0wC1AKz/0wC2AK3/0gC3AK7/0gC4AK//0gC5ALD/0gC6ALH/0QC7ALL/0QC8ALP/0QC9ALT/0QC+ALX/0AC/ALb/0ADAALf/0ADBALj/0ADCALn/zwDDALn/zwDEALr/zwDFALv/zwDGALz/zgDHAL3/zgDIAL7/zgDJAL//zgDKAMD/zQDLAMH/zQDMAML/zQDNAMP/zQDOAMT/zADPAMX/zADQAMb/zADRAMf/zADSAMj/ywDTAMn/ywDUAMr/ywDVAMv/ywDWAMz/ygDXAM3/ygDYAM3/ygDZAM7/ygDaAM//yQDbAND/yQDcANH/yQDdANL/yQDeANP/yADfANT/yADgANX/yADhANb/yADiANf/xwDjANj/xwDkANn/xwDlANr/xwDmANv/xgDnANz/xgDoAN3/xgDpAN7/xgDqAN//xQDrAOD/xQDsAOD/xQDtAOH/xQDuAOL/xADvAOP/xADwAOT/xADxAOX/xADyAOb/wwDzAOf/wwD0AOj/wwD1AOn/wwD2AOr/wgD3AOv/wgD4AOz/wgD5AO3/wQD6AO7/wQD7AO//wQD8APD/wQD9APH/wAD+APL/wAD/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FSI0DQdKED8mGRf9aCIoC1EJASMcA6T9+gKyArL9+wAAA//V/jAJ7whKABgAJAAwAAABESEGABURIRE0NjchESEmAjURIREUFhYzEzQANyERIQYGFREhAREhIiYnESERFBYXCe/9Tun+5P6nU0X7XgKcRFMBWI74gKwBHekCBf37Vlf+pwQL+0mdtAgBWVdVBD/+qA3+9u/9TwKxqP5gAVhfAQCnAgX9+6zpcfv27wEJDf6nA1hR/fsIFf6nvJ0CBf6nUVgDAAb/1f4wCe8ISgAMABYAHQAqAC4AMgAAAQYGIyImJxE2MzIWFwERIyYkJREkJDcBESImNTQ2ASEVIREhAREjNSERIQEhNSEBIRUhBegGWE5SWQYhIkKQRAQLrKP9d/50AUcCh+r6nI3MzP0oA2X79gYPAVKs/q77QgQR/KIDXvyiA178ov65PktNPAIoBSoxBQ36naCxCAKxCLSd/qf9T8qPj8n7Sq0Jbv6n/qetAVj+qKz+p6wACAAr/twJmQeeAAMABwALAA8AEwAXABsAHwAAEyERIRERIREBIREhEREhEQEhESE3ITUhASERITchNSErBAr79gQKAVkEC/v1BAv2kgQK+/asArH9TwS3BAv79awCsv1OBED9+vyiAgX9+wjC/fr5RAIF/fsIwv36raz9T/36rawAAAMChv3aBz0IoAADAAcADwAAASERIREhESEFMxEhASMBIQKGBLf7SQS3+0kCBa0BWf6nrf6nAVkBOPyiCsb8oqz+p/6nAVkAAAwBLf6GCJYH9AADAAcACwAPABMAGQAiACgALgAyADYAOgAAASMRMxERIxETESMRAREzEQMRMxEBESEVIxUBAREjESERITUBFTMVIREFNTMRITUFNSEVATUhFRM1IRUB06ampqamBsSlpaX4lwFZrAVjAVms/qf+p/yirP6nBr2s/qf79QFZ/qcBWa0BWQSWAVn9+v6nAVn9+/6nAVn+pwFZ/qcCBQFZ/qcECwFZrawBWf6n/fsBWQFYrffrrK0BWays/qetra2tCMGtrfc/ra0AAA3/fv3ZCkUIoAADAAcACwAPABMAFwAbAB8AMwBHAFsAbgByAAABIREhASERIQEhESEBIREhASERIQEhESEBIREhASERIQEWFRQGBwcGIyImNTQ3NzY2MzIXARUUDgIjIicnJjU0PgIzMxYWARYVFAcBBiMiJycmNTQ3ATYzMhcBByEiJjURNDYzITIWFREHESERASEBIwIw/qcBWQIF/qcBWQIF/qcBWfv2/qcBWQIF/qcBWQIF/qcBWfqdAVn+pwIFAVn+pwIcDA0NqQcFDRACKQMOCgwNBc4fOSUYFhD7EC87SSkHUZD+8xAQ/N0QFhYQ/A8PAyQQFhYQ+/qt/KNIZWZHBrxGZqz5RAS2AVn+qAEElgFZ/qcBWf6nAVn8oQFZ/qcBWf6nAVn9+/6nAVn+p/2tDQwJDQQqAhANBgeoDg0NBGgHKkpAKBD7EBYaKjQdApD+iBAWFhD83RAQ+xAWFhADJA8P/OmtZUgIFUdlZUf7Sa0EC/lEAgX+pwAK/3792gpFCKAAAwAHAAsADwATABcAIwA2AD0AQQAAASERIQEhESETESERASERIQEhESEBIREhBQEHAQEnAQE3AQEXASEVISImNRE0NjMhMhYVESMRIQEGBgcjESEBIREhAjD+pwFZAgX+pwFZrAFZ+/b+pwFZAgX+pwFZ/KIBWf6nCAABbvT+kv6S8wFt/pPzAW4BbvT15gS2+0pIZWZHBrxGZqz5RAYPOXU7cAFZ/KIBWf6nBJYBWf6nAVn+pwFZ/qf9+gFZ/qcBWf37/qdQ/pLzAW3+k/MBbgFu9P6SAW70/jatZUgIFUdlZUf7SQNe/MgmaEUBWf37/qcAAAMBg/6GCEAH9AANABkAKwAABQYEISAkJxAANwEBFggCNTQAMzIAFRQAIwERITUzEQIAISAAAyMSACEgAAhAi/44/vT+8/45igEe5wFZAVnqARz7zP7QATDV1QEx/s/VA1/+p6wQ/pv+w/7D/pwQrRUBvgGLAYwBvs5OXl5OAT8BYxD+pwFZEP6ZAiMBMdXVATD+0NXV/s8CBv36rQFZATUBfP6D/swBhQHZ/iUAAAIAK/8yCZkHRwAWABoAAAEyFhURFAYjISImNRE0NjMhNjYzIRYWFSERIQjsSGVlSPfrR2VlRwQLA1pPArJTWffrCBUGm2ZG+fBIZWZHBhBGZk1fB1r3+fAAAAMAF/4wCaUISgA4AEgAVAAABRYXFAYHByMHBiMjLgUCLgI1NBI/AjY3MhYXExYXFAYHBwYGFRQXARYWMzI3NzY3MhYXATMyABEGBCEgJCcQADMzEwA2MzIWFRQGIyImNQWJCQEjHEABG2prFUuQk5SFdHg+GiyqnU0PFBYgNQ2vCQEjHLUiKQwBKQ49KBoXthQWIDQNAtEJ4gEPWf51/u3+7f51WQER4An9/lr5rK74+K6s+ewUFiA1DR0MLwMsV47OzQEEs2q7cM0BLUciBwkBIxz+eRQWIDUNURA+JhoY/WghKQxRCQEiHQQl/rv+0VVqaVYBNAFA/kwEQP3+sbH+/bIABP/s/jAJ2AhKABcAJAAuADUAAAEBJjU3NDc3NjMyFwEBNjMyFxcWFxcUBwE2MzIWFxMGBiMiJicBJiQlESQkNzMRAREiJjU0Ngao/ccSARWAFBgdEwFFAkMUIRcRihYDAQ34JiEiQpBEBAZZTlBbBQS3o/1z/nkBSAKG6az58Y/Ky/4wAmUTGAQbE3cSFf6jAuoZDmsRGwgVEwFcBSox/i0+S009AXyhrwgCsgi1nPqdBAr9TsyNjssAA/9+/eIKRQiYAA8AGwAnAAADEAAzMxMTMzIAEQYEISAkEjYzMhYVFAYjIiY1AREhESERIREhESERggER4An9/AnhARFZ/nX+7f7t/nX4+qys+fmsrPoJdv37/qf9+gIGAVkCmwE0AUD+TAG0/rz+0FVqaQVW/f2ysv39svpX/qf9+wIFAVkCBf37AAAE/9X+OAnvCEIADwAbAB8AIwAAAQYEISAkJxAAMzMTEzMyAAAGIyImNTQ2MzIWFQEhESEHIREhBcJZ/nX+7f7u/nVZARDgCf39CeIBD/6u+K2t+PitrfgFf/aSCW6s9+oIFgJFVWppVgEyAUL+TAG0/rsCbv7+sbH+/rH3pQKyrf6nAAAJAIH/MglDB0cAAwAHAAsADwATABcAGwAfACMAAAUhESEFIREhASERIQEhNSERITUhESE1IQEhNSERITUhESE1IQlD9z4IwvtI/KIDXgQL/KIDXvtJ/fsCBf37AgX9+wIFBAv9+gIG/foCBv36AgbOCBWs+UQGvPlEBWOt/fqt/fqtAgWt/fqt/fqtAAL/hACLCj8F7wAIABEAAAMBIQEhESEBIQkCIQEhESEBfAIFAVn+nAK9/UMBZP6nBr0B+f4H/qcBWf1CAr7+pwM9ArL9+v6n/fsFZP1O/U4CBQFZAgYAAv9+AIsKRQXvAAgAEQAAAQEhASERIQEhCQIhASERIQEEKf4H/qcBWf1OArL+pwFZBWP+BwH5AVn+pwKy/U4BWQM9/U4CBQFZAgb6nAKyArL9+v6n/fsAAAICMP3fB5MImgAIABEAAAEBEQERIREBEQkCEQERIREBBOH9TwIFAVkCBfqdArECsv37/qf9+/3fAgYBWP6cAr39QwFk/qgGvAH5/gf+pwFZ/UMCvf6nAAACAjD92geTCKAACAARAAABAREBESERAREJAhEBESERAQThArL9+/6n/fsFY/1O/U8CBQFZAgUChf4G/qcBWf1PArH+pwFZBWT+BgH6AVj+qAKx/U8BWAAAAwEt/oYIlgf0AAwADwAfAAABAREjESERIREhFSERASEBEyERISMRIREjIREhMxEhEQaRAgWs/fr77wK4/KIFZAER/u/YAS3+0yz+pzj+3wEhOAFZB/T9+/1OAgUCBffrrAlu/fsBEfrk/qf+pwFZAVkBWf6nAAT/1f4wCe8ISgALABgAIgApAAAFIREhESERIREhESEBNjMyFhcTBgYjIiYnASYkJREkJDczEQERIiY1NDYJ7/6n/qf+pwFZAVkBWffrISJAkkMFCFdOUFsFBLej/XP+eQFGAofqrPnwj8nKd/6nAVkBWAFZ/qcCsgUqMf4tPktNPQF8oa8IArIItJ36nQQK/U7MjY7LAAQAK/7cCZkHngALAA8AEwAXAAAlIREhESERIREhESEBESERAREhEQERIREJmf6n/qf+pwFZAVkBWfaSA138owNdBAv8ojX+pwFZAVkBWf6nArEDX/yh+/YDXvyiB2n8oQNfAAAC/9UBOAnvBUIAFwAvAAABESMiADU0ADMhMgAXITQmJyEiBhUUFjMBMgAVFAAjISIAJyEUFhchMjY1NCYjIxEChqzV/tABMNUCsewBDQ3+p1tS/U9HZmVIBhDUATH+z9T9Tu/+9g0BWV5PArJHZWVHrQKQ/qgBMNXVATD+5epMWQdlR0hlArL+0dbW/tEBHOlPWQVmR0dlAVkABP+V/icKLghTABkAHQAhACUAAAEBJjU1NDc3NjMyFwEBNjYzMhcXFhYVFAYHASERIRUhESEBIREhBpr9gRQYkBUdIRUBbAKLCx8RGRWaDw4IB/V2A1/8oQNf/KEHafyiA17+JwKxFR0DHhWGExf+eANFDg8PeQseEgwXCQWm/KKs/KIECgNeAAb/rP4UChgIZQATACUAOQA9AEEARQAAARYVFAYHBwYjIiY1NDc3NjYzMhcBFA4CIyInASY1ND4CMxYWARYVFAcBBiMiJwEmNTQ3ATYzMhcBIREhFSERIQEhESEEjg0ND7AIBg0QAiwDDwkNDQYRIUAjFxgR/voRF1VTLFaY/uYREfy6ERcXEf76EREDRxEXFhH3tgNe/KIDXvyiB2n8ogNe/ncNDAkPBCwCEQ0GB7AODg0Ely1SRiYSAQYRFxUaTSACmP54ERcXEfy6EREBBhEXFxADRxERBPv8oqz8ogQKA14AAAb/fv3aCkUIogArADcARwBLAE8AUwAAARQGBxcHJwYGBxcFJyImJwcnNyYnBwM3NjcnNxc2NyclFzIXNxcHFhYXNxMkJiMiBhUUFjMyNjUkFhcVFAYHIyImJyc0NjczASERIRUhESEBIREhCXEKCLiS0Bo5Hxj+8VQmSiWO7lM0KN9CyQMTsZPNLTkfAQ1dUE2V7lgXKRPtQf5D5qKg5eehnuf+sVMETjYLOVMCAU04C/h8A178ogNe/KIHafyhA18BECNGIpTuVhorE+dAywoJsJLINEUYAQ9UT0eO7VQrI+VIzhW4ktUZNx4Z/vBX5eaioOTlooxMNws4UwRQNQg5UwQG+PyirfyjBAoDXgAABf+P/doKNAigAAsAGwAxAD0AQwAAABYVFAYjIiY1NDYzATMyABEGBCEgJCcQADMzEwEGBCMgJCcQADMzExMzMhYXBgYVFBYAFhUUBiMiJjU0NjMDIREhESEDM/j4ra34+K0FtAniAQ9Z/nX+7f7u/nRZARHgCf39x3L+v8v+6f53VwES3wn9/QyE4z4iJw4C8Pr6rKz6+qxF/fsDXv6nCJD+sbP9/bOx/vh9/rv+0VVqaVYBNAFA/kwC6zY7bFQBNAE//k0Bs4V/QI1OK1ECK/2ysv39srL9ArEBWfyiAAAKAIH92glDCKAADwAbACgAKwAvADMANwA7AD8AQwAAAQYEISAkJxAAMzMTEzMyAAAGIyImNTQ2MzIWFQEhFSERIQERIxEhESEBIQEFMxUjJRUhNQEzFSMhNSEVATUzFSUVITUJQ1n+df7t/u3+dVkBEeAJ/fwJ4QER/q74rqz5+ayu+Pk1AWD9+wVjAgat/fv77gS+ARL+7vv2rKwCjf7L/qisrAFYATX9c6wB4f7L/plVamlWATQBQP5MAbT+vAJt/v2ysv3+sfz4rAlt/fv9+wFZAgT+qAESZa2tra3+p62trf6nra2tra0AAAv/fv3aCkUIogADAAcACwAPABMAFwAbAB8AIwAnACsAAAMhESERESERAREhEQERIREFIREhASM1MwUhNSEBIzUzBSE1IQEjNTMFITUhggNe/KIDXgQL/KIGvPlEBhD6nAVk+/WsrANe/U4CsvyirKwDXv1OArL8oqysA179TgKyCKL8ovv2A178ogdo/KIDXvv0+UQGvK36nQQLrKys/fusrKz9+6ysrAAACQDM/jAI9whKABgAHAAgACQAMQA1ADkAPQBAAAABASY1NTQ3NzYzMhcBATYzMhYXFxYXFRQHARUhNRE1IR0CITUBIRUhESEBESMRIREhEzMVIxMjNTM1IzUzBSEBBcj9xxIVgRQYHBUBRAJDFCELFQiKFgMN+8j+ywE1/sv99AIM/U8FYwIGrf37++60rKysrKysrANeARL+7v4wAmUTGQMbE3cSFf6jAuoZBghrERsIFRMEuqys/fusrKytrftJrQlu/fv9TgIFAgX8o60BWaytrKwBEQAACQDX/jAI7AhKAAsADwATABcAJAAoACwAMAAzAAAlAQcBAScBATcBARcBFSE1ETUhHQIhNQEhFSERIQERIxEhESETMxUjEyM1MzUjNTMFIQEHfwFt8/6S/pL0AW7+kvQBbgFu8/vS/ssBNf7L/fQCDP1OBWQCBa39+/vvs6ysrKysrKwDXwER/u+R/pP0AW7+kvQBbQFu9P6SAW70BPKsrP37rKysra37Sa0Jbv37/U4CBQIF/KOtAVmsraysAREABACJ/pkJOgfhAAMABwALAA8AAAkDFwkDEQEREwERAQKf/iwEFwHVgwG/++n+QP1nBBOLBBP77QQuASUCjv7bUv7p/XEBGP1JA7P9dPxNA7MCjPxN/XQAAAkBLf6GCJYH9AADAA8AHAAgACQAKAAsADAAMwAAASM1MwERIREhESERIREhEQERIxEhESERIRUhESEBIRUhJTMVIwEhFSEjIzUzJSE1IQUBEQMyrKwECwFZ/qf+p/6nAVkCsqz9+vvvArj8ogVk/U4BNf7L/qesrAFZATX+y62srAHi/ssBNQKO/u8F76z8ov6n/qf+pwFZAVkBWQKy/U4CBQIF9+usCW779aysrAIFrKytrKwBEf7vAAT/fv3aCkUIoAALAA8AEwAXAAAlAQcBAScBATcB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Cc0BLQnN/9UJzQArCc3/1QnN/5UJzf+sCc3/fgnN/48JzQCBCc3/fgnNAMwJzQDXCc0AiQnNAS0Jzf9+Cc3/yQnN/9UJzf9+Cc3/qQnNARwJzQArCc0BgwnN/34Jzf/VCc3/1QnNACoJzf9+Cc0A1wnNACsJzQIwCc0A1wnNACsJzQArCc0AKgnNACsJzQAtCc0ALQnN/34JzQEtCc0A1wnNAKAJzf9+Cc3/fgnNACsJzQDXCc3/qgnNANcJzQGECc0A1wnNANcJzQCBCc0AVgnN/9IJzQArCc3/fgnNANcJzf9+Cc0ABAnN/5kJzQArCc3/hgnN/34Jzf9+Cc3/fAnN/34JzQDWCc3/cwnNAIEJzQArCc3/gAnN/34Jzf9+Cc3/fgnNAIkJzQArCc3/1QnN/34JzQArCc3/fgnN/34Jzf+gCc0AKwnN/+EJzQArCc3/fgnNAS0Jzf+PCc0BhAnNAYQJzQArCc0AEwnNACwJzQDXCc0A1wnNANcJzQDXCc0BhAnNANcJzf9+Cc3/fgnN/+wJzQGECc3/qQnN/9UJzf9+Cc3/fgnN/34Jzf9+Cc3/fgnN/9UJzQArCc3/fgnN/38Jzf9+Cc0A1wnNAoYJzf96Cc0AKwnN/44Jzf+BCc0AKwnN/34JzQCXCc3/fgnN/9UJzf+CCc0AKwnN/34Jzf9+Cc3/fgnN/9UJzf9+Cc3/fgnNAYgJzf9+Cc3/fgnNAjAJzf9+Cc3/fgnN/34Jzf9+Cc0A1wnN/9EJzQCECc3/fgnN/9UJzf9+Cc3/fgnN/34Jzf+vCc3/sAgAARkIvAAABRQApQUUAAoKkADXDJwDTgnNAOYJzQDhCc0DMAnNAXkJzQF5Cc0AcwnNARcJzQDWCc0ApgnNAFMJzQEXCc0AtQnNAp0JzQEXCc0EJAnNAOUJzQFDCc0BFgnN/sEJzQCQCc0AAAnN/3UJzQElCc3/fgnNAdgJzf+5Cc0B2gnNAF4JzQDhCc0ADQnN/8EJzQCkCc0ADQnNAAkJzQAICc0AWAnNAFwJzQA7Cc0APwnNADsJzQBKCc0AAAnNAWcJzQFiCc0BZwnNAWcJzQBqCc0BZwnNAWcJzQFnCc0A2AnNAWcJzQFnCc0AWAnNAFwJzQA7Cc0APwnNADsJzQBKCc0AAAnNAWcJzQFiCc0BZwnNAWcJzQBqCc0BZwnNAWcJzQFnCc0A2AnNAWcJzQFnCc0AWAnNAFwJzQA7Cc0APwnNADsJzQBKCc0AAAnNAWcJzQFiCc0BZwnNAWcJzQBqCc0BZwnNAWcJzQFnCc0A2AnNAWcJzQFnCc0AWAnNABgJzQA4Cc0AWwnNAFsJzQBbCc0AngnNAGQJzQFbCc3/5wnNABoJzQCUCAABZAgAAKMLRAEaBuQApQbkAKUJzQEVCc0BeQnNAXkJzQC1CAACRAnNAdUJzQHVCc0BFwnNARcJKgAKC1QAVAnNABwAHAEMANwAbQFEAUABCAFfAF4AhgCUA2sB2gCbAmAA0wB5AjUArgBkAKYAAAAAAAAAAAAoAAAAKAAAACgAAAAoAAAAugAAASoAAAG4AAACfgAAArIAAAL2AAADTAAAA8QAAAQ4AAAEjAAABMYAAAVmAAAF1AAABjQAAAb8AAAImAAACMAAAApEAAAK4gAAC14AAAveAAAMUAAADLQAAA08AAAN7AAADoIAAA9aAAAQRgAAEHoAABDMAAARqgAAEg4AABLEAAATVAAAFEQAABR8AAAUygAAFbQAABY0AAAWhgAAFuAAABdcAAAX9gAAGGAAABiuAAAY+AAAGUYAABnKAAAaQgAAGpgAABucAAAcBAAAHIAAABz2AAAdrAAAHhQAAB9IAAAftAAAIFoAACC+AAAhEAAAIZwAACJsAAAjEgAAI8gAACRKAAAkkgAAJWQAACbiAAAn4AAAKI4AACjoAAAp7AAAKqYAACsyAAArtgAALEIAACyYAAAs8AAALUgAAC2gAAAuFgAALqwAAC8QAAAvqgAAMDIAADEWAAAyJgAAMwYAADPyAAA0nAAANXQAADY0AAA2jAAAN0YAADe+AAA4TAAAOLYAADkmAAA6RgAAOvYAADt+AAA8LAAAPS4AAD2UAAA9+AAAPjAAAD6WAAA+0AAAPxoAAD+kAABALAAAQJ4AAEDkAABBHAAAQWYAAEGgAABCEAAAQ5AAAEPSAABEfgAARUYAAEXaAABG9gAAR2QAAEh8AABJwgAASpoAAEsYAABLYAAAS9YAAExOAABMwAAATaAAAE5sAABO5gAAT4YAAFCiAABRjAAAUtgAAFN8AABUEAAAVSQAAFYCAABW+AAAV7QAAFjcAABZ9AAAWmwAAFsiAABcRgAAXHoAAF0QAABdsAAAXggAAF6aAABffAAAYJoAAGGYAABiFAAAY0AAAGRgAABk9gAAZiAAAGcIAABoWgAAaOAAAGmqAABp9AAAamAAAGqiAABrLAAAa6QAAGweAABs2AAAbSwAAG18AABuKgAAb14AAG/wAABwgAAAcTwAAHGGAABypAAAc8gAAHRyAAB1JAAAdmAAAHd+AAB4EgAAeHYAAHmUAAB6OAAAetIAAHtwAAB8SAAAfJAAAH2CAAB+BAAAfxwAAIBcAACAlgAAgZwAAIH4AACCZgAAgvgAAIOWAACEIgAAhHAAAITaAACFlgAAhngAAIeOAACIHgAAiOwAAImCAACKigAAi0YAAIukAACMyAAAjSYAAI6mAACPfgAAj8wAAJBSAACQzgAAkjIAAJLCAACTfAAAk/AAAJUUAACWEAAAlvQAAJf4AACYIAAAmEgAAJlMAACaUgAAmvwAAJsuAACcJgAAnHgAAJzKAACeBAAAnvoAAJ/QAACgSAAAoPYAAKGIAACjBAAApBIAAKQ+AACkhgAApXwAAKXuAACmDgAAptoAAKguAACo7AAAqYQAAKnaAACqXgAAq3wAAKx4AACsqgAArQIAAK02AACuXgAAsMgAALGYAACykgAAtEAAALWgAAC3GAAAuIIAALnaAAC7cAAAvKwAAL28AADAiAAAwcYAAMMaAADEAgAAxEQAAMSyAADFEAAAxiAAAMaAAADHqAAAycYAAMo0AADLzAAAzVgAAM7cAADQhgAA0e4AANMoAADVxgAA1zwAANiUAADZtAAA2i4AANrQAADbYAAA3KQAAN08AADelgAA4O4AAOGMAADjfAAA5WAAAOc8AADpPgAA6wAAAOySAADvigAA8VgAAPMKAAD0hAAA9VYAAPZSAAD3PAAA+NoAAPnKAAD7fAAA/iwAAP8iAAEAqAABAXgAAQJUAAEDDAABBD4AAQUYAAEGigABB1gAAQhMAAEKxgABC5YAAQy8AAENRgABDXAAAQ7oAAEPFAABDy4AAQ/2AAERLAABEaYAARH6AAESIgABElQAARKIAAETCgABFAAAARSYAAEWjgABF3YAARfUAAEYeAABGfAAARpqAAEavgABGxwAARzqAAEfMAABIDIAASB2AAEiYgABIrYAASLoAAEkDAABJEQAASWkAAEmUAABJvAAASimAAEqFgABK8wAAQAAAX0A+wAUAAAAAAACABAALwABAAAAOABvAAAAAAAAACMBqgADAAEEAwACAAwAAAADAAEEBQACABAADAADAAEEBgACAAwAHAADAAEEBwACABAAKAADAAEECAACABAAOAADAAEECQAAAGQASAADAAEECQABABwArAADAAEECQACAA4AyAADAAEECQADABwArAADAAEECQAEABwArAADAAEECQAFABgA1gADAAEECQAGABgA7gADAAEECQAIACoAVgADAAEECQALAFQBBgADAAEECQANApgBWgADAAEECQAOAFQBBgADAAEECgACAAwAAAADAAEECwACABAD8gADAAEEDAACAAwAAAADAAEEDgACAAwEAgADAAEEEAACAA4EDgADAAEEEwACABIEHAADAAEEFAACAAwAAAADAAEEFQACABAELgADAAEEFgACAAwAAAADAAEEGQACAA4EPgADAAEEGwACABAETAADAAEEHQACAAwAAAADAAEEHwACAAwAAAADAAEEJAACAA4EXAADAAEELQACAA4EagADAAEICgACAAwAAAADAAEIFgACAAwAAAADAAEMCgACAAwAAAADAAEMDAACAAwAAABOAG8AcgBtAGEAbABvAGIAeQENAGUAagBuAOkAbgBvAHIAbQBhAGwAUwB0AGEAbgBkAGEAcgBkA5oDsQO9A78DvQO5A7oDrACpACAAMgAwADEANQAgAE0AaQBjAHIAbwBzAG8AZgB0ACAAQwBvAHIAcABvAHIAYQB0AGkAbwBuAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAC4ARAB5AG4AIABDAFIATQAgAFMAeQBtAGIAbwBsAFIAZQBnAHUAbABhAHIAVgBlAHIAcwBpAG8AbgAgADEALgAxADYARAB5AG4AQwBSAE0AUwB5AG0AYgBvAGwAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwB0AHkAcABvAGcAcgBhAHAAaAB5AC8AZgBvAG4AdABzAC8AWQBvAHUAIABtAGEAeQAgAHUAcwBlACAAdABoAGkAcwAgAGYAbwBuAHQAIABhAHMAIABwAGUAcgBtAGkAdAB0AGUAZAAgAGIAeQAgAHQAaABlACAARQBVAEwAQQAgAGYAbwByACAAdABoAGUAIABwAHIAbwBkAHUAYwB0ACAAaQBuACAAdwBoAGkAYwBoACAAdABoAGkAcwAgAGYAbwBuAHQAIABpAHMAIABpAG4AYwBsAHUAZABlAGQAIAB0AG8AIABkAGkAcwBwAGwAYQB5ACAAYQBuAGQAIABwAHIAaQBuAHQAIABjAG8AbgB0AGUAbgB0AC4AIABZAG8AdQAgAG0AYQB5ACAAbwBuAGwAeQAgACgAaQApACAAZQBtAGIAZQBkACAAdABoAGkAcwAgAGYAbwBuAHQAIABpAG4AIABjAG8AbgB0AGUAbgB0ACAAYQBzACAAcABlAHIAbQBpAHQAdABlAGQAIABiAHkAIAB0AGgAZQAgAGUAbQBiAGUAZABkAGkAbgBnACAAcgBlAHMAdAByAGkAYwB0AGkAbwBuAHMAIABpAG4AYwBsAHUAZABlAGQAIABpAG4AIAB0AGgAaQBzACAAZgBvAG4AdAA7ACAAYQBuAGQAIAAoAGkAaQApACAAdABlAG0AcABvAHIAYQByAGkAbAB5ACAAZABvAHcAbgBsAG8AYQBkACAAdABoAGkAcwAgAGYAbwBuAHQAIAB0AG8AIABhACAAcAByAGkAbgB0AGUAcgAgAG8AcgAgAG8AdABoAGUAcgAgAG8AdQB0AHAAdQB0ACAAZABlAHYAaQBjAGUAIAB0AG8AIABoAGUAbABwACAAcAByAGkAbgB0ACAAYwBvAG4AdABlAG4AdAAuAE4AbwByAG0AYQBhAGwAaQBOAG8AcgBtAOEAbABOAG8AcgBtAGEAbABlAFMAdABhAG4AZABhAGEAcgBkAE4AbwByAG0AYQBsAG4AeQQeBDEESwRHBD0ESwQ5AE4AbwByAG0A4QBsAG4AZQBOAGEAdgBhAGQAbgBvAEEAcgByAHUAbgB0AGEAAAACAAAAAAAA/04AdwAAAAAAAAAAAAAAAAAAAAAAAAAAAX0AAAECAAIAAwEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8BIAEhASIBIwEkASUBJgEnASgBKQEqASsBLAEtAS4BLwEwATEBMgEzATQBNQE2ATcBOAE5AToBOwE8AT0BPgE/AUABQQFCAUMBRAFFAUYBRwFIAUkBSgFLAUwBTQFOAU8BUAFRAVIBUwFUAVUBVgFXAVgBWQFaAVsBXAFdAV4BXwFgAWEBYgFjAWQBZQFmAWcBaAFpAWoBawFsAW0BbgFvAXABcQFyAXMBdAF1AXYBdwF4AXkBegF7AXwBfQF+AX8BgAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcoBywHMAc0BzgHPAdAB0QHSAdMB1AHVAdYB1wHYAdkB2gHbAdwB3QHeAd8B4AHhAeIB4wHkAeUB5gHnAegB6QHqAesB7AHtAe4B7wHwAfEB8gHzAfQB9QH2AfcB+AH5AfoB+wH8Af0B/gH/AgACAQICAgMCBAIFAgYCBwIIAgkCCgILAgwCDQIOAg8CEAIRAhICEwIUAhUCFgIXAhgCGQIaAhsCHAIdAh4CHwIgAiECIgIjAiQCJQImAicCKAIpAioCKwIsAi0CLgIvAjACMQIyAjMCNAI1AjYCNwI4AjkCOgI7AjwCPQI+Aj8CQAJBAkICQwJEAkUCRgJHAkgCSQJKAksCTAJNAk4CTwJQAlECUgJTAlQCVQJWAlcCWAJZAloCWwJcAl0CXgJfAmACYQJiAmMCZAJlAmYCZwJoAmkCagJrAmwCbQJuAm8CcAJxAnICcwJ0AnUCdgJ3AngCeQJ6AnsHdW5pMDAwRAd1bmlFMTdFB3VuaUUxMDQHdW5pRTEwNQd1bmlFMTA3B3VuaUUxMDkHdW5pRTEwQQd1bmlFMTBCB3VuaUUxMEQHdW5pRTEwRQd1bmlFMTBGB3VuaUUxMTMHdW5pRTExNQd1bmlFMTE5B3VuaUUxMUMHdW5pRTEyNQd1bmlFMTI4B3VuaUUxMjkHdW5pRTEyQgd1bmlFMTNBB3VuaUUxM0QHdW5pRTE0OQd1bmlFMTRDB3VuaUUxNkYHdW5pRTE5Mgd1bmlFMUQwDUV4cG9ydFRvRXhjZWwWU2V0U2NoZWR1bGVTZXRDYWxlbmRhchNSZWN1cmluZ0FwcG9pbnRtZW50B1JvdXRpbmcJUnVuUmVwb3J0C0VkaXRQcm9jZXNzCFVuZm9sbG93GERlYWN0aXZhdGVDYW5jZWxDb250cmFjdAhBY3RpdmF0ZQVTaGFyZQlDaGFydFBhbmUOU2VuZERpcmVjdE1haWwKRm9ybUVkaXRvcgZBc3NpZ24GUmVtb3ZlFVN3aXRjaEJ1c2luZXNzUHJvY2VzcwpDbG9zZUFzV29uC0Nsb3NlQXNMb3N0HFJlYWN0aXZhdGVDYXNlQWN0aXZhdGVRdXVvdGUMU2V0UmVnYXJkaW5nBmlGcmFtZQpEaXN0cmlidXRlEVJlb3Blbk9wcG9ydHVuaXR5EFF1ZXVlSXRlbURldGFpbHMHUmVsZWFzZQZXb3JrT24TRXhwb3J0Q29udHJhY3RMaW5lcwpEZWxldGVCdWxrEkRlbGV0ZUNvbnRyYWN0TGluZRJDYW5jZWxDb250cmFjdExpbmUPQWRkQ29udHJhY3RMaW5lD0ludm9pY2VDb250cmFjdA9SZWxlYXNlQ29udHJhY3QNUmVuZXdDb250cmFjdApJbXBvcnREYXRhDEhvbGRDb250cmFjdAxDb3B5Q29udHJhY3QOUmVhY3RpdmF0ZUxlYWQFTWVyZ2USQWRkdG9NYXJrZXRpbmdMaXN0DUR1cGVEZXRlY3Rpb24HQ29udmVydA5Db3B5YXNUZW1wbGF0ZQpFZGl0U2VyaWVzCUVuZFNlcmllcwRDYXNlC09wcG9ydHVuaXR5BExlYWQVT3BlbnNDYW1wYWlnblJlc3BvbnNlB0FkZEZyb20GQWRkQmNjDUxvb2t1cEFkZHJlc3MNSW5jcmVhc2VXaWR0aA1EZWNyZWFzZVdpZHRoDkluY3JlYXNlSGVpZ2h0DkRlY3JlYXNlSGVpZ2h0CkFkZFN1YmdyaWQNQWRkdG9DYW1wYWlnbgxOZXdEYXNoYm9hcmQJRW1haWxMaW5rE1NldERhc2hib2FyZERlZmF1bHQNRWRpdENvbXBvbmVudBNEYXNoYm9hcmRQcm9wZXJ0aWVzB0Nvbm5lY3QQQ29weXRvU3RhdGljTGlzdA1EYXNoYm9hcmRMaXN0C0ludm9pY2VQYWlkDUNhbmNlbEludm9pY2URUHJvZHVjdFJlY2xhc3NpZnkNQ3JlYXRlSW52b2ljZQtDYW5jZWxPcmRlcgxGdWxmaWxsT3JkZXILQ3JlYXRlT3JkZXIOQ29weWFzQ2FtcGFpZ24TQWRkQ2FtcGFpZ25BY3Rpdml0eQtSZXZpc2VRdW90ZQVQcmludBBQaG9uZUNhbGxTdXBwb3J0CFNhdmVPcGVuDVByZXZpb3VzU3RhZ2UMQWR2YW5jZVN0YWdlCUNoYXJ0VHlwZQ1SZXNpemVDb2x1bW5zBE1lbnUMVmlld1NlbGVjdG9yBkxvY2tlZAhVbmxvY2tlZA1DaGFydFNlbGVjdG9yCVNhbGVGdW5uZQhCYXJDaGFydAlBcmVhQ2hhcnQHdW5pRUE3MghQaWVDaGFydAxTY2F0dGVyQ2hhcnQMUG9wb3V0RXhwYW5kBlNhdmVBcwRFZGl0EVBvc3RDb25maWd1cmF0aW9uCVBvc3RSdWxlcwhBY2NvdW50cwpBY3Rpdml0aWVzDkFkbWluaXN0cmF0aW9uC0FwcG9pbnRtZW50CEFydGljbGVzCkRhc2hib2FyZHMIQXVkaXRpbmcIQ2FtcGFpZ24FQ2FzZXMKQ29tcGV0aXRvcgdDb250YWN0CENvbnRyYWN0CEN1cnJlbmN5DEN1c3RvbUVudGl0eQ1DdXN0b21pemF0aW9uEkRhdGFiYXNlTWFuYWdlbWVudAlEZWJ1Z0luZm8IRGlzY291bnQSRG9jdW1lbnRNYW5hZ2VtZW50E0R5bmFtaWNzTWFya2V0cGxhY2UDRmF4BEdvYWwISW52b2ljZXMHdW5pRUE5MwlNYXJrZXRpbmcNTWFya2V0aW5nTGlzdAd1bmlFQTk3CVByb2Nlc3Nlcw5Qcm9kdWN0Q2F0YWxvZwtQcm9kdWN0TGlzdAhQcm9kdWN0cwZRdWV1ZXMNUXVjaWtDYW1wYWlnbgVRdW90ZRRSZWN1cnJpbmdBcHBvaW50bWVudAZSZXBvcnQNUm9sbHVwUXVlcmllcwVTYWxlcw9TYWxlc0xpdGVyYXR1cmUHU2VydmljZQ9TZXJ2aWNlQ2FsZW5kYXIKU3lzdGVtSm9icwRUYXNrBFRlYW0JVGVtcGxhdGVzBFVzZXIIV2hhdHNOZXcLR29hbE1ldHJpY3MHdW5pRUIwRgZMZXR0ZXIGT3JkZXJzDUluY29taW5nRW1haWwNT3V0Z29pbmdFbWFpbAd1bmlFQjE1DkN1c3RvbUFjdGl2aXR5F0luY29taW5nRW1haWxBdHRhY2htZW50F091dGdvaW5nRW1haWxBdHRhY2htZW50EENhbXBhaWduUmVzcG9uc2UNQnVsa09wZXJhdGlvbhBDYW1wYWlnbkFjdGl2aXR5DkNhc2VSZXNvbHV0aW9uEE9wcG9ydHVuaXR5Q2xvc2UKT3JkZXJDbG9zZQlRdW90ZUNsb3MSUG9zdHNDb25maWd1cmF0aW9uFVBvc3RSdWxlc0NvbmZpZ3VyYXRpbwhTb2x1dGlvbhdBbHRlcm5hdGVmb3JBcHBvaW50bWVudBJCdXNpbmVzc01hbmFnZW1lbnQHdW5pRUIzMwpBZGRUb1F1ZXVlD0FwcG9pbnRtZW50LjAwMQlDb252ZXJ0VG8HdW5pRUMwMwRGb3JtDU5ld1N5c3RlbVZpZXcPU2VydmljZUFjdGl2aXR5C1N0YXJ0RGlhbG9nBFZpZXcHQXBwcm92ZQZTdWJtaXQJVW5wdWJsaXNoB3VuaUVDMEMMUmVsYXRpb25zaGlwDEFkdmFuY2VkRmluZAVDaGFydAxTZXRBc0RlZmF1bHQNUXVpY2tDYW1wYWlnbhNDcmVhdGVRdWlja0NhbXBhaWduCU1haWxNZXJnZQtSZWNhbGN1bGF0ZQxDb252ZXJ0VG9LaXQOU2NoZWR1bGVSZXBvcnQRQWRkU2FsZXNBdHRjaG1lbnQKU2VuZEFzTWFpbAxDaGFuZ2VTdGF0dXMJQ29uZmxpY3RzClJlc2NoZWR1bGUIU2NoZWR1bGUSU2VuZERpcmVjdE1haWwuMDAxB01haWxib3gSRW1haWxTZXJ2ZXJQcm9maWxlGVRlc3RFbWFpbEFuZEVuYWJsZU1haWxib3gWTWlncmF0ZUVtYWlsUm91dGVyRGF0YRNTZXRBc0RlZmF1bHRQcm9maWxlC09wZW5NYWlsYm94B3VuaUVDMjgHdW5pRUMyOQd1bmlFMDk0B3VuaUUwOTUHdW5pRTA5Rgd1bmlFMEExB3VuaUUwQkEHdW5pRTBEOQd1bmlFMTBDB3VuaUUxMTEHdW5pRTExQgd1bmlFMTI2B3VuaUUxMjcHdW5pRTEzMwd1bmlFMTM0B3VuaUUxMzYHdW5pRTEzRgd1bmlFMTQwB3VuaUUxNDEHdW5pRTE1Rgd1bmlFMTZDB3VuaUUxNkUHdW5pRTE3MQd1bmlFMTc4B3VuaUUxODIHdW5pRTE4QQd1bmlFMTk2B3VuaUVDMkEHdW5pRUMyQgd1bmlFQzJDB3VuaUVDMkQHdW5pRUMyRQd1bmlFQzJGB3VuaUVDMzAHdW5pRTE0Mwd1bmlFQzMxB3VuaUUxMTIHdW5pRUMzMgd1bmlFQzMzB3VuaUVDMzQHdW5pRUMzNQd1bmlFQzM2B3VuaUVDMzcHdW5pRUMzOAd1bmlFQzM5B3VuaUVDM0EHdW5pRUMzQgd1bmlFQzNDB3VuaUVDM0QHdW5pRUMzRQd1bmlFQzNGB3VuaUVDNDAHdW5pRUM0MQd1bmlFQzQyB3VuaUVDNDMHdW5pRUM0NAd1bmlFQzQ1B3VuaUVDNDYHdW5pRUM0Nwd1bmlFQzQ4B3VuaUVDNDkHdW5pRUM0QQd1bmlFQzRCB3VuaUVDNEMHdW5pRUM0RAd1bmlFQzRFB3VuaUVDNEYHdW5pRUM1MAd1bmlFQzUxB3VuaUVDNTIHdW5pRUM1Mwd1bmlFQzU0B3VuaUVDNTUHdW5pRUM1Ngd1bmlFQzU3B3VuaUVDNTgHdW5pRUM1OQd1bmlFQzVBB3VuaUVDNUIHdW5pRUM1Qwd1bmlFQzVEB3VuaUVDNUUHdW5pRUM1Rgd1bmlFQzYwB3VuaUVDNjEHdW5pRUM2Mgd1bmlFQzYzB3VuaUVDNjQHdW5pRUM2NQd1bmlFQzY2B3VuaUVDNjcHdW5pRUM2OAd1bmlFQzY5B3VuaUVDNkEHdW5pRUM2Qgd1bmlFQzZDB3VuaUVDNkQHdW5pRUM2RQd1bmlFQzZGB3VuaUVDNzAHdW5pRUM3MQd1bmlFQzcyB3VuaUVDNzMHdW5pRUM3NAd1bmlFQzc1B3VuaUVDNzYHdW5pRUM3Nwd1bmlFQzc4B3VuaUVDNzkGdTFGNTI1BnUxRjVGMgd1bmlFMjg0B3VuaTI1QjcHdW5pMjVFMgd1bmlFMTVFB3VuaUUxNjMHdW5pRTE2MQd1bmlFMTQ1B3VuaUUwODUHdW5pRTExMAd1bmlFMUZEB3VuaUUxNjYHdW5pRUM3QQd1bmlFMDUyB3VuaUUwNkYHdW5pRTA0Mgd1bmlFMDQwB3VuaUVDN0IHdW5pRUM3Qwd1bmlFQzdEB3VuaUVDN0UHdW5pRUM3Rgd1bmlFQzgwB3VuaUVDODEHdW5pRUM4Mgd1bmlFQzgzB3VuaUVDODQHdW5pRTIxNAd1bmlFQzg1B3VuaUVDODYHdW5pRUM4Nwd1bmlFQzg4B3VuaUVDODkHdW5pRUM4QQd1bmlFQzhCB3VuaUVDOEMHdW5pRUM4RAA=")}.focused-input input:focus{border:2px dashed!important}.cc-grid{flex-direction:column}.cc-grid :focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.cc-grid.HighDensityGrid .wj-colheaders .wj-header .wj-btn.wj-btn-glyph.wj-right.wj-elem-filter{float:right;position:relative;font-size:12px;height:35px}.cc-grid.HighDensityGrid .wj-colheaders .wj-rtl .wj-header .wj-btn.wj-btn-glyph.wj-right.wj-elem-filter{float:left;position:relative;font-size:12px;height:35px}.cc-grid.HighDensityGrid.BrowserIE .wj-colheaders .wj-cell.wj-header .wj-btn.wj-btn-glyph.wj-right.wj-elem-filter .wj-glyph-filter{display:inline}.cc-grid .cc-gridcell-rollup-date{color:#999}.cc-grid .cc-gridcell-required{padding-left:0!important;padding-right:14px!important}.cc-grid .cc-gridcell-required:after{content:"*";color:red;padding:3px}.cc-grid .cc-gridcell-recommended:after,.cc-grid .cc-gridcell-required:after{font-weight:800;position:absolute;right:1px;top:1px;bottom:2px;background-color:inherit}.cc-grid .cc-gridcell-recommended:after{content:"+";color:#00f;padding-left:4px}.cc-grid .cc-gridcell-not-editable:before{content:"\\EA6B";font-family:Dyn CRM Symbol Grid}.cc-grid .cc-gridcell-secured:before{content:"\\E192";font-family:Dyn CRM Symbol Grid}.cc-grid .cc-gridcell-secured.cc-gridcell-not-editable:before{content:"\\EA6B\\E192";font-family:Dyn CRM Symbol Grid}.cc-grid .cc-gridcell-secured input.wj-form-control{width:calc(100% - 20px)}.cc-grid .BackButton-symbol:before,.cc-grid .Forward-symbol:before{content:"\\E72A";display:inline-block}.cc-grid .FirstPageButton-symbol:before{content:"\\F438";display:inline-block}.cc-grid .cc-grid-paging-left:before,.cc-grid .cc-grid-paging-right:before{content:"\\E09F";display:inline-block;font-family:Dyn CRM Symbol Grid}.cc-grid .BackButton-symbol:before,.cc-grid .cc-grid-paging-first:before,.cc-grid .cc-grid-paging-left:before{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;-ms-filter:"FlipH"}.cc-grid .cc-grid-paging-first:before,.cc-grid .cc-grid-paging-last:before{content:"\\E09F\\E09F";display:inline-block;font-family:Dyn CRM Symbol Grid}.cc-grid .cc-grid-paging-current{display:flex;width:100%;text-align:center;padding:10px}.cc-grid .cc-grid-groupby{padding-top:15px;padding-bottom:15px;padding-left:10px}.cc-grid .cc-grid-groupby .label{display:inline;padding-right:10px;font-weight:700;font-size:14px;align-self:center}.cc-grid .cc-grid-groupby .label:after{content:":"}.cc-grid .cc-grid-groupby .label .wj-control{align-self:center}.cc-grid .cc-grid-errorIndicator{display:inline-block;margin-right:10px;cursor:pointer;width:16px;min-width:16px;height:16px;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;border:none;outline:none;background-color:#c0172b;padding:0;font:normal normal normal 14px/20px SegoeUI,Segoe UI;line-height:normal;margin-top:4px;margin-bottom:4px}.cc-grid .cc-grid-errorIndicator:before{font-family:Dyn CRM Symbol Grid,Segoe MDL2 Assets;display:block;width:100%;text-align:center;color:#fff;font-weight:400;font-size:10px;content:"\\E10A";height:16px;line-height:normal;padding-top:1px}.cc-grid .cc-grid-errorIndicator:focus{outline:2px dotted!important}.cc-grid .cc-grid-noRecordslabel{top:52px;bottom:0;left:0;position:absolute;vertical-align:middle;font:normal normal normal 14px/20px SegoeUI,Segoe UI;color:#666;width:100%;text-align:center;overflow:auto}.cc-grid .cc-grid-noRecords-Container{min-height:158px}.cc-grid .cc-lookup-nav-button{float:right;width:30px;position:absolute;right:0;top:0}.cc-grid .cc-lookup-nav-button button{padding-right:4px;padding-left:4px}.cc-grid .cc-lookup-nav-button button:after{color:#0070df;font-family:Dyn CRM Symbol Grid;text-decoration:none;font-weight:lighter;content:"\\E111"}.cc-grid .cc-lookup-nav-button button:focus{background-color:#e2f4fd}.cc-grid .cc-lookup-nav-button.wj-input-group-btn{position:static}.cc-grid .cc-ds-rowbtn{border:none;background:transparent;width:16px;font-family:Dyn CRM Symbol Grid;font-weight:lighter;font-size:16px}.cc-grid .cc-ds-rowbtn.cc-ds-rowbtn-nav:after{content:"\\E111"}.cc-grid .cc-ds-rowbtn.cc-ds-rowbtn-delete:after{content:"\\E107"}.cc-grid .cc-ds-rowbtn:focus{background-color:#e2f4fd}.cc-grid .wj-group>.wj-input-group-btn{visibility:hidden}.cc-grid .cc-grid-accessibility-cue{height:1px;left:-10000px;overflow:hidden;position:fixed;top:0;width:1px}.cc-grid .cc-grid-pager{text-align:right}.cc-grid .headerCaption{text-overflow:ellipsis;overflow:hidden;font-size:1em;font-family:Segoe UI;cursor:pointer}.cc-grid .wj-cell.wj-header{text-align:justify!important}.cc-grid .wj-control:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.cc-grid .wj-control.wj-menu:focus{border:2px dashed!important}.cc-grid .wj-btn.wj-btn-glyph{opacity:1}.cc-grid .wj-btn-default{background-color:transparent;background-image:none;width:100%;height:100%}.cc-grid .wj-dropdown .wj-btn{vertical-align:middle;text-align:right}.cc-grid .wj-content{border-radius:0}.cc-grid .wj-header .grid-filter-button-container{float:right;padding-left:5px}.cc-grid .wj-input-group-btn:last-child>.wj-btn{border-left-width:0}.cc-grid .wj-pager{width:auto!important}.cc-grid .wj-input-group-btn:first-child>.wj-btn{border-right-width:0;border-left-width:0}.cc-grid .wj-flexgrid.wj-content,.cc-grid .wj-pager{background-color:transparent;border:0}.cc-grid .wj-flexgrid .wj-content{border:0}.cc-grid .wj-flexgrid .grid-line{height:38px;line-height:38px}.cc-grid .wj-flexgrid .grid-header-text{text-overflow:ellipsis;overflow:hidden;float:left;width:calc(100% - 20px);cursor:pointer}.cc-grid .wj-flexgrid .wj-filter-off .grid-header-text,.cc-grid .wj-flexgrid .wj-filter-on .grid-header-text,.cc-grid .wj-flexgrid .wj-sort-asc.wj-filter-off .grid-header-text,.cc-grid .wj-flexgrid .wj-sort-asc.wj-filter-on .grid-header-text,.cc-grid .wj-flexgrid .wj-sort-desc.wj-filter-off .grid-header-text,.cc-grid .wj-flexgrid .wj-sort-desc.wj-filter-on .grid-header-text{width:calc(100% - 40px)}.cc-grid .wj-flexgrid div[wj-part=ch]{border-spacing:0;margin-right:17px}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn,.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn{border:none;background:transparent;font-family:Dyn CRM Symbol Grid;font-size:16px;width:100%;height:100%}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons{bottom:1px;position:absolute;line-height:38px;margin:auto 0;height:50px;background-color:#fff;right:0}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn.cc-ds-header-save-btn:after{content:"\\E105"}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn.cc-ds-header-refresh-btn:after{content:"\\E149"}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn:active{color:#00869c}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn{padding:0;width:100%;text-align:left}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn:focus{outline:none}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn:after{content:"\\E10B"}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header{background-color:#f2f6f2;color:#fff;font:normal normal normal 12px/20px SegoeUI-Semibold,Segoe UI SemiBold;text-transform:uppercase;padding-left:10px;line-height:38px}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header:before{border-right-width:0;content:" ";position:absolute;left:0;height:60%;top:15%}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-down,.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-up{border-right-color:transparent;border-left-color:transparent;opacity:1;width:20px;border-width:0}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-down:before,.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-up:before{font-family:Dyn CRM Symbol Grid;content:"\\E111"}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-up{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);border-bottom:0 solid}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-down{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);border-top:0 solid}.cc-grid .wj-flexgrid .wj-alt:not(.wj-header):not(.wj-group):not(.wj-state-selected):not(.wj-state-multi-selected):not(.cc-grid-selectedRow),.cc-grid .wj-flexgrid .wj-cell:not(.wj-state-multi-selected):not(.cc-grid-selectedRow),.cc-grid .wj-flexgrid .wj-rowheader>.wj-cell,.cc-grid .wj-flexgrid .wj-topleft .wj-cell.wj-header{background-color:#fff;color:#000}.cc-grid .wj-flexgrid.wj-state-readonly .wj-cell:not(.wj-header):not(.wj-alt):not(.wj-state-multi-selected):not(.cc-grid-selectedRow),.cc-grid .wj-flexgrid.wj-state-readonly .wj-rowheaders .wj-header:not(.wj-header-alt):not(.cc-grid-selectedRow){background-color:#f4f4f4}.cc-grid .wj-flexgrid .wj-cell.wj-header.data-selectable.cc-grid-selectedRow,.cc-grid .wj-flexgrid .wj-topleft .wj-cell.wj-header{text-overflow:clip}.cc-grid .wj-flexgrid .wj-cell.wj-header.data-selectable.cc-grid-selectedRow:before,.cc-grid .wj-flexgrid .wj-topleft .wj-cell.wj-header:after{font-family:Dyn CRM Symbol Grid;content:"\\E10B";float:left}.cc-grid .wj-flexgrid .wj-cell:not(.cc-gridcell-required) .wj-cell[style*="padding-bottom: 0px;"]{padding-left:0!important;padding-right:0!important}.cc-grid .wj-flexgrid .wj-cell[style*="padding-bottom: 0px;"]>input{padding-left:10px!important}.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected[aria-selected=true]{background:#c0d4e8}.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected:focus{border:1px solid #8f8f8f}.cc-grid .wj-flexgrid .wj-cell[role=gridcell][aria-selected=true]{outline:2px dotted transparent!important}.cc-grid .wj-flexgrid .wj-cell.wj-state-active:focus{border:1px solid #8f8f8f;outline:2px solid transparent!important;outline-offset:-3px}.cc-grid .wj-flexgrid .wj-cell{height:52px;border-bottom:2px solid #f4f4f4;border-right:0;padding:12.5px 10px;vertical-align:middle;font:normal normal normal 15px/20px SegoeUI,Segoe UI;color:#666;white-space:pre}.cc-grid .wj-flexgrid .wj-cell a:link,.cc-grid .wj-flexgrid .wj-cell a:visited{text-decoration:none}.cc-grid .wj-flexgrid .wj-cell a:hover{text-decoration:underline;cursor:pointer}.cc-grid .wj-flexgrid .wj-cell a:active{text-decoration:underline}.cc-grid .wj-flexgrid .wj-cell.wj-header{white-space:nowrap}.cc-grid .wj-flexgrid .wj-cell.cc-grid-nested-cell{display:flex;align-items:baseline}.cc-grid .wj-flexgrid .wj-cell.cc-grid-nested-cell label{text-overflow:ellipsis;overflow:hidden}.cc-grid .wj-flexgrid .wj-cell.cc-grid-selectedRow,.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected,.cc-grid .wj-flexgrid .wj-cell.wj-state-selected{color:#000}.cc-grid .wj-flexgrid .wj-cell.cc-grid-selectedRow .cc-gridcell-rollup-icon:before,.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected .cc-gridcell-rollup-icon:before,.cc-grid .wj-flexgrid .wj-cell.wj-state-selected .cc-gridcell-rollup-icon:before{content:"\\E1D0";font-family:Dyn CRM Symbol Grid;padding-right:4px}.cc-grid .wj-flexgrid .wj-cell.cc-grid-selectedRow,.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected{background-color:#e2f4fd}.cc-grid .wj-flexgrid .wj-cell.cc-grid-selectedRow:first-child:before{content:"\\E10b";font-family:Dyn CRM Symbol Grid}.cc-grid .wj-flexgrid .wj-cell>div[wj-dropdown]{opacity:1!important;top:calc((80% - 20px)/2)!important;right:1px!important;background-color:inherit;line-height:19px;padding-bottom:2px!important;padding-right:5px!important}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-right{border-color:transparent;border-right:.65em solid transparent;width:10px;height:100%;text-align:center;border-left:0}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-right:before{font-family:Dyn CRM Symbol Grid;content:"\\E09F";display:flex;flex-direction:column;align-items:center}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-down-right{border-color:transparent;border-right:.65em solid transparent;width:10px;height:100%;text-align:center;border-left:0}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-down-right:before{font-family:Dyn CRM Symbol Grid;content:"\\E0A1";display:flex;flex-direction:column;align-items:center}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-minus,.cc-grid .wj-flexgrid .wj-cell .wj-glyph-plus{display:none}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander{border-color:transparent;margin-left:auto;width:2.25rem;height:2.25rem}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander:hover{cursor:pointer}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-rtl{border-color:transparent;margin-right:auto;width:2.25rem;height:2.25rem}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-rtl:hover{cursor:pointer}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-edit{margin-left:10px}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-edit-rtl{margin-right:10px}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-collapse:after{border-color:transparent;font-family:Dyn CRM Symbol Grid;content:"\\E0A1";display:flex;flex-direction:column;align-items:center}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-expand:after{top:-1em;border-color:transparent;font-family:Dyn CRM Symbol Grid;content:"\\E09F";display:flex;flex-direction:column;align-items:center}.cc-grid .wj-flexgrid .wj-cell input:not(.cc-grid-calendar-icon)+.wj-input-group-btn .wj-glyph-down:before{content:"\\E0A1"}.cc-grid .wj-flexgrid .wj-cell input{font-size:14px}.cc-grid .wj-flexgrid .wj-cell .image-container{display:inline-block;width:2rem;height:1rem}.cc-grid .wj-flexgrid .wj-cell .image-container>img{height:100%}.cc-grid .wj-flexgrid .wj-cell .wj-elem-dropdown{top:10px;right:10px}.cc-grid .wj-flexgrid .wj-cell.wj-state-selected,.cc-grid .wj-flexgrid .wj-control:not(.wj-flexgrid):not(.wj-pager):not(.wj-listbox):not(.wj-calendar),.cc-grid .wj-flexgrid .wj-grid-editor{-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #8f8f8f;height:calc(100% - 2px);width:100%}.cc-grid .wj-flexgrid .wj-cell.wj-state-selected.wj-autocomplete,.cc-grid .wj-flexgrid .wj-control:not(.wj-flexgrid):not(.wj-pager):not(.wj-listbox):not(.wj-calendar).wj-autocomplete,.cc-grid .wj-flexgrid .wj-grid-editor.wj-autocomplete{width:calc(100% - 30px)}.cc-grid .wj-flexgrid .cc-grid-errorIndicator+.wj-grid-editor{width:calc(100% - 36px)}.cc-grid.cc-grid-rtl .wj-flexgrid .wj-cell.wj-header.data-selectable.cc-grid-selectedRow:before,.cc-grid.cc-grid-rtl .wj-flexgrid .wj-topleft .wj-cell.wj-header:after{float:right}.cc-grid.cc-grid-rtl div[wj-part=ch]{margin-right:0}.cc-grid.cc-grid-rtl div[wj-part=ch] .cc-ds-header-buttons{right:auto;left:0}.cc-grid.cc-grid-rtl div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn{text-align:right}.cc-grid.cc-grid-rtl .cc-ds-rowbtn.cc-ds-rowbtn-nav:after{content:"\\E112"}.cc-grid.cc-grid-rtl .cc-lookup-nav-button.wj-input-group-btn{float:right}.cc-grid.cc-grid-rtl .cc-lookup-nav-button.wj-input-group-btn button:after{content:"\\E112"}.cc-grid .wj-cell .wj-glyph-down,.cc-grid .wj-input-group-btn .wj-glyph-down{border-color:transparent;border-top-width:0;border-left-width:0;border-right-width:0}.cc-grid .wj-cell .wj-glyph-down:before,.cc-grid .wj-input-group-btn .wj-glyph-down:before{font-family:Dyn CRM Symbol Grid;content:"\\E0A1"}.cc-grid .wj-cell .wj-glyph-up,.cc-grid .wj-input-group-btn .wj-glyph-up{border-color:transparent;border-top-width:0;border-left-width:0;border-right-width:0}.cc-grid .wj-cell .wj-glyph-up:before,.cc-grid .wj-input-group-btn .wj-glyph-up:before{font-family:Dyn CRM Symbol Grid;content:"\\E74A"}.cc-grid .duration-editor{display:flex;flex-direction:row;flex-wrap:nowrap;height:100%}.cc-grid .duration-editor .input-control{margin:1px;overflow:hidden;display:flex;flex-wrap:nowrap;height:100%;flex-direction:column}.cc-grid .duration-editor .input-control .label{font-size:75%;order:2;padding:0 3px}.cc-grid .columnSeparator{position:absolute;top:0;right:0}.cc-grid .columnSeparator:last-child,.cc-grid .wj-topleft .wj-cell.wj-header:last-child:after{border-right:2px solid #000!important;opacity:.2;height:30px;vertical-align:top;width:0}.cc-grid .columnSeparator:last-child{margin-top:10px}.cc-grid div.wj-colheaders .wj-glyph-down,.cc-grid div.wj-colheaders .wj-glyph-sortable,.cc-grid div.wj-colheaders .wj-glyph-up{color:#666;border-bottom:0 solid;border-left:0;border-right:0;width:14px;display:inline-block;font-size:16px}.cc-grid div.wj-colheaders .wj-glyph-down:before,.cc-grid div.wj-colheaders .wj-glyph-sortable:before,.cc-grid div.wj-colheaders .wj-glyph-up:before{overflow:hidden;content:"\\00a0";display:inline-block;width:14px}@media screen and (-ms-high-contrast:active){.cc-grid div.wj-colheaders .wj-glyph-down,.cc-grid div.wj-colheaders .wj-glyph-sortable,.cc-grid div.wj-colheaders .wj-glyph-up{opacity:1}}.cc-grid div.wj-colheaders div.wj-glyph-up:before{background:none;font-family:Dyn CRM Symbol;content:"\\EE68"}.cc-grid div.wj-colheaders div.wj-glyph-down:before{background:none;font-family:Dyn CRM Symbol;content:"\\EE69"}.cc-grid div.wj-colheaders div.wj-glyph-sortable:before{background:none;font-family:Dyn CRM Symbol;content:"\\E8CB"}.cc-grid div.wj-colheaders .wj-glyph-filter{border-color:transparent;opacity:1;border-top:0}.cc-grid div.wj-colheaders .wj-glyph-filter:after{font-family:Dyn CRM Symbol;content:"\\E71C";border-color:transparent;top:-.75em;width:2em;height:2em;text-align:center;border-left:0;border-right:0}.cc-grid div.wj-colheaders .wj-filter-on .wj-glyph-filter:after{top:-1.05em;content:"\\E16E";font-family:Dyn CRM Symbol Grid;opacity:.6}.cc-grid.cc-grid-rtl .wj-cell{border-left:none}.cc-grid.cc-grid-rtl .wj-btn-default{border-right:none}.cc-grid.cc-grid-rtl .cc-grid-pager{text-align:left}.cc-grid.cc-grid-rtl .BackButton-symbol:before,.cc-grid.cc-grid-rtl .cc-grid-paging-first:before,.cc-grid.cc-grid-rtl .cc-grid-paging-left:before{-moz-transform:scaleX(1);-o-transform:scaleX(1);-webkit-transform:scaleX(1);transform:scaleX(1);filter:FlipH;-ms-filter:"FlipH"}.cc-grid.cc-grid-rtl .cc-grid-paging-right:before,.cc-grid.cc-grid-rtl .FirstPageButton-symbol:before,.cc-grid.cc-grid-rtl .Forward-symbol:before{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;-ms-filter:"FlipH"}.cc-grid .cc-row-header-icon-container{margin-top:2px}.cc-grid button.cc-hierarchy-icon{border:none;background:none;padding:0;width:14px;height:14px;cursor:pointer}.cc-grid button.cc-hierarchy-icon:after{font-family:Dyn CRM Symbol;content:"\\ECA6";top:-.75em;width:14px;height:14px;text-align:center;border-left:0;border-right:0}.cc-grid .cc-hierarchy-icon-empty-div{display:inline-block;width:14px;height:14px}.cc-grid .cc-hierarchy-icon-empty-div:after{content:" "}.cc-grid .cc-conditional-image-empty-div{display:inline-block;width:16px;height:16px}.cc-grid .cc-conditional-image-empty-div:after{content:" "}.cc-grid div[wj-part=cells]{overflow:hidden}.cc-grid .cc-grid-detail{-webkit-overflow-scrolling:touch!important}.cc-grid .cc-grid-detail.hideNestedGridHeader div[wj-part=root]{overflow-x:visible!important}.cc-grid.cc-grid-desktop .symbolFont{font-family:Dyn CRM Symbol Grid}.cc-grid.cc-grid-desktop .BackButton-symbol:before,.cc-grid.cc-grid-desktop .Forward-symbol:before{content:"\\E09F";display:inline-block}.cc-grid.cc-grid-desktop .wj-control{font-size:14px}.cc-grid.cc-grid-desktop .wj-cell input:focus{border:2px dashed!important}.cc-grid.cc-grid-desktop .wj-cell .wj-elem-dropdown{margin-left:25px;margin-right:10px;width:20px}.cc-grid.cc-grid-desktop .wj-header .wj-elem-filter{width:24px;top:12px;right:5px}.cc-grid.cc-grid-desktop .cc-grid-groupby{padding-top:11px;padding-bottom:11px;padding-left:0}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-down,.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-up{vertical-align:middle;opacity:.5}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-down:before,.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-up:before{content:"\\00A0";width:12px;height:16px}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-up:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=-336961384) no-repeat scroll -142px -67px}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-down:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=-336961384) no-repeat scroll -138px -106px}@media screen and (-ms-high-contrast:active){.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-up:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=-336961384) no-repeat scroll -142px -67px}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-down:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=-336961384) no-repeat scroll -138px -106px}}.cc-grid.cc-grid-desktop .columnSeparator:last-child,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:last-child:after{height:18px}.cc-grid.cc-grid-desktop .cc-ds-header-buttons{width:60px;height:37px!important}.cc-grid.cc-grid-desktop div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn:after{content:"\\00A0";width:16px;height:16px;display:block}.cc-grid.cc-grid-desktop .wj-cell.cc-grid-selectedRow:first-child:before,.cc-grid.cc-grid-desktop .wj-cell.wj-state-multi-selected:first-child:before{content:"\\00A0"}.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:last-child:after{content:"\\00A0";position:absolute;right:0}.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:last-child:before{content:"\\00A0";background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -217px -90px;width:18px;height:20px;position:absolute;left:6px;top:10px}.cc-grid.cc-grid-desktop .wj-cell.wj-header.data-selectable:before,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:after{background:transparent;width:16px;height:16px;font-size:16px;overflow:hidden;display:block;margin-top:10px;content:"\\0020"!important}.cc-grid.cc-grid-desktop .wj-cell.data-selectable.cc-grid-selectedRow:before,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header.cc-grid-selectedRow:after{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -152px -151px;width:19px;display:block;margin-top:10px}.cc-grid.cc-grid-desktop .wj-cell.data-selectable.cc-grid-rowHover:not(.cc-grid-selectedRow):before,.cc-grid.cc-grid-desktop .wj-cell.wj-header .cc-ds-header-select-all-btn:after,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header.cc-grid-rowHover:not(.cc-grid-selectedRow):after,.cc-grid.cc-grid-desktop div.wj-cell.data-selectable:not(.cc-grid-selectedRow):hover:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -217px -90px}.cc-grid.cc-grid-desktop .wj-cell.data-group-selectable.cc-grid-rowHover:not(.cc-grid-selectedRow):before,.cc-grid.cc-grid-desktop .wj-cell.data-group-selectable.cc-grid-selectedRow:before{background:none}@media screen and (-ms-high-contrast:active){.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:last-child:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -217px -90px}.cc-grid.cc-grid-desktop .wj-cell.data-selectable.cc-grid-selectedRow:before,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header.cc-grid-selectedRow:after{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -152px -151px}.cc-grid.cc-grid-desktop .wj-cell.data-selectable.cc-grid-rowHover:not(.cc-grid-selectedRow):before,.cc-grid.cc-grid-desktop .wj-cell.wj-header .cc-ds-header-select-all-btn:after,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header.cc-grid-rowHover:not(.cc-grid-selectedRow):after,.cc-grid.cc-grid-desktop div.wj-cell.data-selectable:not(.cc-grid-selectedRow):hover:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -217px -90px}}.cc-grid.cc-grid-desktop span.wj-glyph-down{border-color:transparent;border-top-width:0}.cc-grid.cc-grid-desktop span.wj-glyph-down:before{font-family:Dyn CRM Symbol Grid;content:"\\E0A1"}.cc-grid.cc-grid-desktop input{width:inherit;height:36px}.cc-grid.cc-grid-desktop .cc-grid-noRecordslabel{top:0;margin-top:38px;padding-top:5px;padding-left:10px;padding-right:0;font-size:14px;height:38px}.cc-grid.cc-grid-desktop .wj-pager{height:40px}.cc-grid.cc-grid-desktop .cc-grid-paging-left,.cc-grid.cc-grid-desktop .cc-grid-paging-right{font-size:16px}.cc-grid.cc-grid-desktop .wj-flexgrid.wj-content{border-right-width:1px;border-right-style:solid;border-left-width:1px;border-left-style:solid;border-bottom-width:1px;border-bottom-style:solid}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-sort-asc.wj-filter-off .grid-header-text,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-sort-asc.wj-filter-on .grid-header-text,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-sort-desc.wj-filter-off .grid-header-text,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-sort-desc.wj-filter-on .grid-header-text{width:calc(100% - 45px)}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell{padding:2px 5px 2px 15px;font-size:14px;line-height:38px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell.wj-filter-off .wj-glyph-filter{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=2014956145) no-repeat scroll -138px -90px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell.wj-filter-on .wj-glyph-filter{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=2014956145) no-repeat scroll -37px -176px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell .wj-glyph-filter{line-height:20px;width:16px;height:16px;overflow:hidden;border:1px solid #fff;opacity:.7;vertical-align:middle}@media screen and (-ms-high-contrast:active){.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell.wj-filter-off .wj-glyph-filter{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=2014956145) no-repeat scroll -138px -90px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell.wj-filter-on .wj-glyph-filter{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=2014956145) no-repeat scroll -37px -176px}}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell .wj-glyph-filter:after{border:0;content:normal}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-rowheaders .wj-cell.wj-header,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-topleft .wj-cell.wj-header{padding:5px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell:not(.wj-state-selected):not(.wj-header),.cc-grid.cc-grid-desktop .wj-flexgrid [wj-part=rh] .wj-header{border-bottom-width:1px;border-bottom-color:#d6d6d6}.cc-grid.cc-grid-desktop .wj-flexgrid>div[wj-dropdown]{top:1px!important;right:11px!important}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-header:before{border:0;font-size:14px;height:17px;width:2px;background-color:#4a4a4a;cursor:col-resize;opacity:.5;margin-top:5px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-header:focus{border:1px solid #0070df!important;outline:none}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-row>.wj-header,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-topleft .wj-cell.wj-header{text-transform:none;white-space:nowrap;background:#f3f3f3;border-bottom:1px solid #d6d6d6;border-top:1px solid #d6d6d6;font-weight:600}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-row>.wj-header .cc-ds-headerbtn:active,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-row>.wj-header .cc-ds-headerbtn:hover:not(:disabled),.cc-grid.cc-grid-desktop .wj-flexgrid .wj-topleft .wj-cell.wj-header .cc-ds-headerbtn:active,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-topleft .wj-cell.wj-header .cc-ds-headerbtn:hover:not(:disabled){color:#00869c}.cc-grid.cc-grid-desktop .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn{width:50%}.cc-grid.cc-grid-desktop .input-control{height:inherit;flex-direction:row;align-items:center}.cc-grid.cc-grid-desktop .input-control input{width:25px;padding:4px;text-align:center!important}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-flexgrid div[wj-part=ch]{margin-right:0;margin-left:17px}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons{left:0;right:auto}.cc-grid.cc-grid-desktop.cc-grid-rtl .BackButton-symbol:before,.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-paging-left:before{content:"\\E09F"}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-pager{text-align:left}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-pager .wj-input-group-btn:first-child>.wj-btn{border-right-width:0;border-left-width:0}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-status-area{float:right}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-groupby .label{padding-right:0;padding-left:10px}.cc-grid.cc-grid-desktop.cc-grid-rtl .row-navigator.wj-input-group-btn.cc-lookup-nav-button{left:0!important;right:auto}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-lookup-nav-button button:after{content:"\\E112"}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-gridcell-required{padding-right:0!important;padding-left:14px!important}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-gridcell-required:after{left:1px;right:auto}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-gridcell-not-editable:before,.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-gridcell-secured:before{float:left}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-flexgrid .wj-cell{padding-right:15px;padding-left:5px}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-flexgrid .wj-cell>div[wj-dropdown]{right:auto!important}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-glyph-filter:after{left:0}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-noRecordslabel{padding-right:10px;padding-left:0}.cc-grid .cc-grid-footer{width:auto;min-height:40px;background-color:#f3f3f3;display:flex;flex-wrap:wrap;justify-content:space-between}@media only screen and (min-device-width:320px) and (max-device-width:480px){.cc-grid .cc-grid-footer{justify-content:center}}.cc-grid .cc-grid-status-area{vertical-align:middle;line-height:25px}.wj-rtl .wj-colheaders .wj-glyph-down,.wj-rtl .wj-colheaders .wj-glyph-sortable,.wj-rtl .wj-colheaders .wj-glyph-up{position:absolute;left:24px}.wj-dropdown-panel{border-radius:0;font-size:14px}.wj-dropdown-panel [wj-part=input]{font-size:14px}.wj-dropdown-panel [wj-part=cb-select-all]:focus{outline:2px dotted}.wj-dropdown-panel.wj-listbox{-webkit-overflow-scrolling:touch!important}.wj-dropdown-panel.wj-listbox .wj-listbox-item.wj-state-selected{outline:2px dotted transparent!important}.wj-columnfiltereditor{border-radius:0}.wj-columnfiltereditor input{width:inherit}.wj-columnfiltereditor input[type=radio]:checked{outline:1px dotted}.wj-columnfiltereditor .wj-control{border-radius:0}.wj-columnfiltereditor .wj-control:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.wj-columnfiltereditor .wj-btn-default{background-color:transparent;background-image:none;width:100%}.wj-columnfiltereditor .wj-glyph-down{border-color:transparent;border-top-width:0;border-left-width:0;border-right-width:0}.wj-columnfiltereditor .wj-glyph-down:before{font-family:Dyn CRM Symbol Grid;content:"\\E0A1"}.wj-columnfiltereditor .wj-control a[wj-part^=btn-]{background-color:none;text-transform:uppercase}.wj-columnfiltereditor button.wj-btn[wj-part^=btn-]:focus{outline:1px solid transparent}.duration-editor{display:flex;flex-direction:row;flex-wrap:nowrap}.wj-tooltip{background-color:#666!important;color:#fff!important;border-radius:0}.wj-tooltip p{margin:0}.wj-calendar-header .wj-btn-group .wj-btn{border-radius:0;background-color:#fff;background-image:none;width:auto}'),NF(".sol-selection-container.msos-grid-selection-container{outline:none;box-shadow:0 6px 13px rgba(0,0,0,.2);position:absolute}.sol-container.msos-grid-container{outline:none}.sol-moreless-container.msos-grid-moreless-link{line-height:normal}.sol-inner-container.msos-grid-inner-container{transform:scale(1)}.sol-selected-display-item.msos-grid-selected-display-item{line-height:normal}.sol-selected-display-item-text.msos-grid-selected-display-item-text{display:table-cell}.sol-current-selection-expanded.msos-grid-current-selection-expanded,.sol-current-selection-normal.msos-grid-current-selection-normal{padding:3px 0}.sol-current-selection-expanded.uci-msos-grid-current-selection-expanded,.sol-current-selection-normal.uci-msos-grid-current-selection-normal{padding:8.5px 0}.sol-container-Disabled.msos-sol-container-Disabled{background-color:#d8d8d8;color:#333}.sol-moreless-container-Disabled.msos-sol-moreless-container-Disabled{background-color:#d8d8d8}.custom-editor-div{position:absolute;z-index:1500;width:auto;min-width:252px;width:252px;color:#000;background-color:#fff;box-shadow:0 6px 13px rgba(0,0,0,.2)!important;margin:0!important}");var TF,OF,YF=window&&window.__extends||(TF=function(t,i){return(TF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}TF(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),UF="ToggleSelectionMode",HF="ToggleSelectAllMode",zF=(YF(GF,OF=MscrmCommon.CommonControl),GF.prototype.initCore=function(t,i){MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.client.trackContainerResize)||t.client.trackContainerResize(!0),bf.contextUtils=t.utils,bf.isUCIFeatureEnabled(bf.getGridThemingFCB())&&(Cf.SetDesignBag(t),this.resetStyleSheet()),this.initCoreInternal(t,i)},GF.prototype.resetStyleSheet=function(){this.styleSheet&&(this.styleSheet.remove(),this.styleSheet=null),this.styleSheet=document.createElement("style"),this.styleSheet.type="text/css",document.head.appendChild(this.styleSheet),Cf.applyCssStyles(this.styleSheet)},GF.prototype.initializeListView=function(t){this.currentList=new SA,this.listComponent=new $d(t,this.container,this.perfTool),this.addListCommandListeners(t),this.listComponent.setContext(t),this.initializeEnhancedPagination(t),this.listCoordinator=new NA(this.enhancedPagination?[this.enhancedPagination]:[],this.listComponent),this.listCoordinator.initialize(t),this.listComponent.initialize(),this.updateAndReportRenderedType(t)},GF.prototype.updateListView=function(t,i){var e;this.listCoordinator&&i?((e=this.currentList.getService(cA.enhancedPaginationService))||(e=this.initializeEnhancedPagination(t),this.listCoordinator=new NA(this.enhancedPagination?[this.enhancedPagination]:[],this.listComponent),this.listCoordinator.initialize(t)),this.listComponent.onRecordsDataInit||this.addListCommandListeners(t),this.isRendered=this.listCoordinator.handleDataSetUpdate(t,e)):this.listComponent.needsReRender()&&this.listComponent.render(),this.hostCommands.fireListEvents(t)},GF.prototype.initializeEnhancedPagination=function(t){var i=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.parameters.enhancedPagingDisabled);if(i&&!t.parameters.enhancedPagingDisabled.raw||!i||t.parameters.UseDefaultCardFormForList&&t.parameters.UseDefaultCardFormForList.raw){var e=null;bf.isUCIDisruptiveFeatureEnabled(bf.getGridPaginationStateFCB())&&(e=t&&t.parameters&&t.parameters.PageNumberToRestore&&t.parameters.PageNumberToRestore.raw?t.parameters.PageNumberToRestore.raw:1);var n=new OA(this.listComponent,t.parameters.Grid,t.utils,new Nl(this.listComponent),e,this.perfTool);this.currentList.add(cA.enhancedPaginationService,n);var r=new yA(n,new Nl(this.listComponent));return r.initialize(t),this.enhancedPagination=r,n}return null},GF.prototype.updateCore=function(i){try{this.perfTool.tryStop(bd.PagingLoad),this.perfTool.tryStop(bd.Sorting),this.perfTool.tryStop(bd.Filtering);var t=Mscrm.UpdateEvents.hasEvent(i.updatedProperties,Mscrm.UpdateEventType.Layout),e=!1,n=void 0,r=void 0;if(t){if(n=i.client.allocatedWidth,r=i.client.allocatedHeight,0===n&&0===r)return;this.getViewType(i,n)!=this.currentViewType&&(this.destroyCore(),this.initCoreInternal(i),e=!0)}this.currentViewType===Sl.List?this.updateCoreList(i,e):this.currentViewType==Sl.Grid&&this.updateCoreGrid(i,t,e,n,r)}catch(t){var s=new Array;throw s.push({name:"updatedProperties",value:i.updatedProperties.join(",")}),this.gridTelemetry.reportFailure("updateCore",t,null,s),t}},GF.prototype.onPreNavigation=function(t){void 0===t&&(t=!1),this.currentGrid.gridComponent.finishEdit();var i,e=this.currentGrid.getService(cA.dataSetService);MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.dataSet)||(i=e.dataSet.getSelectedRecord(),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&i.isRecordValid()&&e.beginRecordSave(t))},GF.prototype.onPreNavigationWithPromise=function(){return this.onPreNavigation.bind(this)(!0),Promise.resolve(!0)},GF.prototype.getOutputsCore=function(){return this.currentGrid.getAllCurrentRecords()},GF.prototype.destroyCore=function(){try{this.isControlInitialized&&(this.disposeHeader(!1),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridCoordinator)||(this.gridCoordinator.dispose(),this.gridCoordinator=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.currentGrid)||(this.currentGrid.dispose(),this.currentGrid=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.criticalRegionService)||(this.criticalRegionService.dispose(),this.criticalRegionService=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.listCoordinator)||(this.listCoordinator.dispose(),this.listCoordinator=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.currentList)||(this.currentList.dispose(),this.currentList=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.listComponent)||this.listComponent.destroy(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.perfTool)||(this.perfTool.dispose(),this.perfTool=null))}catch(t){throw this.gridTelemetry.reportFailure("destroyCore",t),t}finally{MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridTelemetry)||(this.gridTelemetry.dispose(),this.gridTelemetry=null)}},GF.prototype.initCoreInternal=function(i,e){var n=this;try{bf.contextUtils=i.utils,bf.userSettings=i.userSettings,bf.formatting=i.formatting,this.gridTelemetry=new Of(i.reporting),this.gridTelemetry.setDefaultEventParams(i.parameters),this.perfTool=new yd,this.perfTool.initialize(function(t){return i.performance.createPerformanceStopwatch(t)}),this.perfTool.tryStart(bd.InitToRendered);var t,r,s,o,a,h,c,u,l,f,d,A,g,w,m,p=(bf.metadataContext=i).client.allocatedWidth;this.currentViewType=this.getViewType(i,p),this.perfTool.tryStart(bd.InitGrid),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.hostCommands)&&(this.hostCommands=new Ul),$l.initialize(function(t){return i.resources.getString(t)}),this.currentViewType!=Sl.List?(UA.initialize(function(t){return i.resources.getString(t)}),MscrmCommon.ControlUtils.WijmoGlobalization.setCrmNumberFormatting(i.formatting),MscrmCommon.ControlUtils.WijmoGlobalization.setWijmoNumberFormatStructure(i.client.numberFormattingInfo,MscrmCommon.Globalization.CrmNumberType.CrmDecimalTypeName,!1,null),t=new SF(i,this.perfTool,this.gridTelemetry,i.client.userAgent),this.criticalRegionService=t.buildCriticalRegionService(),s=(r=i.parameters).Grid,o=r.useSkypeProtocol,a=i.mode.isOffline?Zd.No:bf.parsePropertyOrDefault(i.parameters.EnableEditing,nA.parseValue,Zd.Yes),c=(h=a==Zd.Yes)?bf.parsePropertyOrDefault(i.parameters.EnableGroupBy,dA.parseValue,sA.Yes):sA.No,u=bf.parsePropertyOrDefault(i.parameters.EnableFiltering,aA.parseValue,iA.Yes),h||i.utils.isFeatureEnabled(bf.getReadOnlyGridColumnFilteringFCB())||(u=iA.No),l=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.parameters.enhancedPagingDisabled)&&!i.parameters.enhancedPagingDisabled.raw,f=t.create(i,e,this.notifyOutputChanged).withPagination(l||h).withKeyboardNavigation().withAriaLiveRegion().withSorting().withEditing(a).withFiltering(u).withGrouping(c).withSubGrid(function(t){return t.create(i,e,n.notifyOutputChanged).withEditing(a).withFiltering(u).withSorting().withPagination(l||h).withKeyboardNavigation().withAriaLiveRegion()}),a!==Zd.Yes&&f.withFieldTypeColumns(o),d=f.build(this.container,s,!1,this.criticalRegionService,this.perfTool),A=(this.currentGrid=d).getService(cA.dataAdapter),g=d.getService(cA.stateService),w=d.getService(cA.dataSetService),m=d.getService(cA.errorHandlingService),this.gridCoordinator=new RA(d.gridFeatures,d.gridComponent,A,g,w,this.criticalRegionService,m,this.perfTool),this.gridCoordinator.initialize(i),this.updateAndReportRenderedType(i)):this.initializeListView(i),this.container.setAttribute(Pl.role,"presentation"),this.perfTool.tryStop(bd.InitGrid)}catch(t){throw this.gridTelemetry.reportFailure("initCoreInternal",t),t}},GF.prototype.updateCoreList=function(t,i){if(!t.parameters.Grid.working){this.currentList||this.initializeListView(t);var e=t.parameters.isNewPageRequested&&t.parameters.isNewPageRequested.raw,n=i||bf.shouldRender(t.updatedProperties)||e||t.parameters.Grid.hasError;if(bf.isPopUpRootNodeEvent(t.updatedProperties)||bf.isForcedUpdate)return bf.isForcedUpdate=!1,void this.listComponent.render();this.updateListView(t,n)}},GF.prototype.updateCoreGrid=function(t,i,e,n,r){this.currentGrid||this.initCore(t),this.hostCommands.fireGridEvents(t);var s=t.mode.isOffline,o=this.currentGrid.gridComponent;o.isEditable=o.isEditable&&!s,bf.isUci()&&o.isEditable&&t.utils.isFeatureEnabled(bf.getSaveEditableGridPreNavFCB())&&this.attachPreNavigateEvent(t),this.gridCoordinator.notifyAboutOfflineMode(s);var a=this.currentGrid.getService(cA.containerService),h=this.currentGrid&&this.currentGrid.getService(cA.enhancedPaginationService),c=i&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.activeEditor)&&a.resizeControl(r,n,bf.isEditableGridOnLegacyClient(o.isEditable)),u=!o.isEditable&&c,l=this.currentGrid.getService(cA.dataSetService);l&&bf.containsKey(t.updatedProperties,Pl.propertyKeyGrid)&&(l.dataSet=t.parameters.Grid);var f=t.parameters.isNewPageRequested&&t.parameters.isNewPageRequested.raw;(u||e||bf.shouldRender(t.updatedProperties)||f||!this.isRendered&&!t.parameters.Grid.working||l.dataSet.hasError)&&(this.disposeHeader(-1!==t.updatedProperties.indexOf(Pl.propertyKeySubGrid),t.parameters.SubGrid),this.isRendered=this.gridCoordinator.handleDataSetUpdate(t.mode.isVisible||t.mode.isActive,t.parameters,!1,h,t.updatedProperties)),h&&h.shouldRestoreScrollPosition&&(o.refresh(),h.restoreScrollPosition());var d=o.isEditable&&bf.isPhone(t.client.getFormFactor());(c||d)&&(o.isEditable&&(this.gridCoordinator.handleSizeChange(t.parameters),this.reflowEditableGridColumns(t,d)),o.refresh()),t.decorators&&t.decorators.ClassName&&(o.gridRoot.className&&-1!==o.gridRoot.className.indexOf(t.decorators.ClassName)||(o.gridRoot.className||(o.gridRoot.className=""),o.gridRoot.className+=" "+t.decorators.ClassName))},GF.prototype.getViewType=function(t,i){var e=t.mode.isOffline?Zd.No:bf.parsePropertyOrDefault(t.parameters.EnableEditing,nA.parseValue,Zd.Yes),n=bf.parsePropertyOrDefault(t.parameters.ReflowBehavior,Ol.parseValue,e===Zd.Yes?Rl.GridOnly:Rl.Reflow);return bf.determineViewType(e===Zd.Yes,n,i)},GF.prototype.reflowEditableGridColumns=function(t,i){var e;t.parameters.Grid.columns.length>Pl.maxNumberOfColumnsOnSmallScreen&&(e=t.parameters.Grid.columns.slice(Pl.maxNumberOfColumnsOnSmallScreen).map(function(t){return t.name}),this.currentGrid.gridComponent.hideColumns(e,i))},GF.prototype.attachPreNavigateEvent=function(t){t.utils.fireEvent("parentPagePreNavigation",[this.onPreNavigationWithPromise.bind(this)])},GF.prototype.updateAndReportRenderedType=function(t){this.container.setAttribute(Pl.dataType,Sl[this.currentViewType]);var i=t.mode.isOffline?Zd.No:bf.parsePropertyOrDefault(t.parameters.EnableEditing,nA.parseValue,Zd.Yes),e=[{name:Pl.gridDataType,value:Sl[this.currentViewType]},{name:Pl.eventDescription,value:Pl.gridRenderingMessage+Sl[this.currentViewType]},{name:Pl.gridViewId,value:t.parameters.Grid.getViewId()},{name:Pl.gridLoadType,value:i===Zd.Yes?Pl.editableGrid:Pl.readonlyGrid}];this.gridTelemetry.reportEvent(Pl.loadEvent,e)},GF.prototype.addListCommandListeners=function(i){var t,e,n=this,r=this.listComponent.getListSortingPopup(),s=!1===(null===(e=null===(t=i.parameters)||void 0===t?void 0:t.listSortHeaderEnabled)||void 0===e?void 0:e.raw);this.listComponent.onRecordsDataInit=function(t){n.hostCommands.disposeCommands(Sl.List),t.sortedRecordIds.length&&(n.hostCommands.addCommandListener(Sl.List,$l.commandBarSelectIconText,UF,n.listComponent.OnSelectionModeChanged.bind(n.listComponent),i.client.isRTL?"SelectButtonRTL":"SelectButton",$l.commandBarSelectToolTipText),bf.isUCIDisruptiveFeatureEnabled(bf.getListSelectAllFCB(),bf.getOctober2020UpdateFCB())&&bf.shouldRenderListHorizontally(i)&&n.hostCommands.addCommandListener(Sl.List,$l.commandBarSelectAllIconText,HF,n.listComponent.onSelectAllToggle.bind(n.listComponent),i.client.isRTL?"SelectButtonRTL":"SelectButton",$l.commandBarSelectAllToolTipText),s&&n.hostCommands.addCommandListener(Sl.List,$l.commandBarSortIconText,r.getSortButtonId(),r.renderSortingPopup.bind(r),"SortButton",$l.commandBarSortToolTipText))}},GF);function GF(){var e=OF.call(this)||this;return e.disposeHeader=function(o,t){var a,i;e.currentViewType===Sl.Grid&&bf.isUCIDisruptiveFeatureEnabled(bf.getGridNewFilterFCB())&&(a=e.currentGrid.getService(cA.containerService),i=void 0,(i=o?t:e.currentGrid.getService(cA.dataSetService))&&i.columns&&i&&a.getHostId()&&i.columns.forEach(function(t){var i,e,n,r,s;MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.name)||(i=document.getElementById(a.getHostId()))&&(s=o?i.querySelector(".HighDensityGrid"):i)&&(o?s&&s.id&&(n=s.id.split("_"))&&(e=n[0]):e=a.getContainerId(),(r=s.querySelector("#"+bf.getHeaderId(e,t.name)))&&C.unmountComponentAtNode(r))}))},e.updateEvents.shouldIgnoreEvent(Mscrm.UpdateEventType.Activation,!1),e.shouldPreventMultipleEventTypes=!1,e}t.SELECT_All_COMMAND_ID=HF,t.SELECT_COMMAND_ID=UF,t.SharedGrid=zF,t.__moduleExports=Cr}(this.MscrmControls.Grid=this.MscrmControls.Grid||{},React,Fabric,ReactDOM,Fabric,Fabric,Fabric,PropTypes,Fabric,Fabric,Fabric,Fabric,Fabric,Fabric,Fabric,Fabric,Fabric,Fabric,Fabric);
