/** @license Copyright (c) Microsoft Corporation. All rights reserved. */
this.MscrmControls=this.MscrmControls||{},this.MscrmControls.Grid=function(i){"use strict";
/*!
    ------------------------------------------- START OF THIRD PARTY NOTICE -----------------------------------------

    This file is based on or incorporates material from the projects listed below (Third Party IP). The original copyright notice and the license under which Microsoft received such Third Party IP, are set forth below. Such licenses and notices are provided for informational purposes only. Microsoft licenses the Third Party IP to you under the licensing terms for the Microsoft product. Microsoft reserves all other rights not expressly granted under this agreement, whether by implication, estoppel or otherwise. 

    Knockout JavaScript library v3.2.0
    (c) Steven Sanderson - http://knockoutjs.com/
    License: MIT (http://www.opensource.org/licenses/mit-license.php)
     Provided for Informational Purposes Only

    MIT License 

    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: 

    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 

    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 

    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 

    LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 

    OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION 

    WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

    ----------------------------------------------- END OF THIRD PARTY NOTICE ------------------------------------------
    */function e(F,y,t){var r=function(t,i){this.$originalElement=t,this.options=i,this.metadata=this.$originalElement.data("sol-options")};r.defaults=(r.prototype={SOL_OPTION_FORMAT:{type:"option",value:void 0,selected:!1,disabled:!1,label:void 0,tooltip:void 0},SOL_OPTIONGROUP_FORMAT:{type:"optiongroup",label:void 0,tooltip:void 0,disabled:!1,children:void 0},DATA_KEY:"sol-element",WINDOW_EVENTS_KEY:"sol-window-events",defaults:{data:void 0,name:void 0,defaultMaxRowsInCurrentSelections:void 0,isRTL:void 0,shouldDefaultFocusonInput:void 0,isControlDisabled:!1,key:void 0,texts:{noItemsAvailable:"No entries found",selectAll:"Select all",quickDelete:"x",searchplaceholder:"Click here to search",expand:"{0} more",collapse:"less",optionSetItemAriaLabel:"{0} {1} of {2}",typeSomethingInputAriaLabel:"Enter a value to filter on, or select enter to show available options.",selectedListNavigation:"In selected list, use left right arrow keys to navigate, press delete key to remove selection",displayItemsRemoved:"{0} Removed",moreLinkTitle:"{0} results. Select Enter to show all results in the list.",lessLinkTitle:"Show less. Select enter to include fewer results the list.",selectAllFocusTitle:"Select all. List includes {0} items. Use the arrow keys to move up or down in the list.",selectAllDeselect:"{0} items removed",selectAllSelect:"{0} items selected",totalItems:"{0} items",deleteItemTitle:"Remove the value"},events:{onInitialized:void 0,onRendered:void 0,onOpen:void 0,onClose:void 0,onChange:void 0,onScroll:function(){var t=Math.floor(this.$input.offset().top)-Math.floor(this.config.scrollTarget.scrollTop())+Math.floor(this.$input.outerHeight()),i=this.$innerContainer.outerWidth(!1);"block"!==this.$innerContainer.css("display")?i=Math.ceil(1.2*i):(this.$selectionContainer.css("border-top-right-radius","initial"),this.$actionButtons&&this.$actionButtons.css("border-top-right-radius","initial")),this.$selectionContainer.css("top",Math.floor(t)).css("left",Math.floor(this.$container.offset().left)).css("width",i)}},useBracketParameters:!1,multiple:void 0,showSelectAll:!1,showSelectionBelowList:!1,allowNullSelection:!1,scrollTarget:void 0,maxHeight:void 0,converter:void 0},init:function(){this.config=F.extend(!0,{},this.defaults,this.options,this.metadata);var t=this._getNameAttribute();if(t)return this.config.multiple=this.config.multiple||this.$originalElement.attr("multiple"),this.config.scrollTarget||(this.config.scrollTarget=F(y)),this._registerWindowEventsIfNeccessary(),this._attachWindowResizeHandler(),this._initializeUiElements(),this._initializeInputEvents(),this._initializeData(),this.$originalElement.data(this.DATA_KEY,this).removeAttr("name").data("sol-name",t).hide(),this.config.shouldDefaultFocusonInput&&this.$input&&this.$input.focus(),this;this._showErrorLabel("name attribute is required")},_getNameAttribute:function(){return this.config.name||this.$originalElement.data("sol-name")||this.$originalElement.attr("name")},_showErrorLabel:function(t){var i=F('<div style="color: red; font-weight: bold;" />').html(t);this.$container?this.$container.append(i):i.insertAfter(this.$originalElement)},_attachWindowResizeHandler:function(){F(y).resize(function(t){this.refreshControl(this.getValues())}.bind(this))},_registerWindowEventsIfNeccessary:function(){y[this.WINDOW_EVENTS_KEY]||(F(t).on("mousedown touchstart",function(t){var i=F(t.target).closest(".sol-inner-container").first().parent(".sol-container");F(".sol-container").not(i).each(function(t,i){F(i).data(r.prototype.DATA_KEY).close()})}),y[this.WINDOW_EVENTS_KEY]=!0)},_initializeUiElements:function(){var i=this;this.internalScrollWrapper=function(){F.isFunction(i.config.events.onScroll)&&i.config.events.onScroll.call(i)},this.$input=F('<input id={0}_ledit type="text"/>'.replace("{0}",this.config.key)).attr("placeholder",this.config.texts.searchplaceholder).attr("aria-label",this.config.texts.typeSomethingInputAriaLabel).attr("aria-haspopup",!0).attr("title","").click(function(){i.clearAllSelections(),this.focus()}),this.$noResultsItem=F('<div id={0} class="sol-no-results"/>'.replace("{0}",this.config.key+"_no-results")).html(this.config.texts.noItemsAvailable).hide(),this.$caret=F('<div class="sol-caret-container" title=""><b class="caret"/></div>').click(function(){i.clearAllSelections(),i.toggle()});var t=F('<div class="sol-input-container"/>').append(this.$input);this.$innerContainer=F('<div class="sol-inner-container"/>').append(t).append(this.$caret),this.$selection=F('<ul class="sol-selection" role="listbox"/>'),this.$selectionContainer=F('<div class="sol-selection-container" role="application" aria-multiselectable="true"/>').append(this.$noResultsItem).append(this.$selection).appendTo(this.$innerContainer),this.$container=F('<div id={0}_i class="sol-container" aria-haspopup="true"/>'.replace("{0}",this.config.key)).data(this.DATA_KEY,this).append(this.$innerContainer).insertBefore(this.$originalElement);var n=this.config.key+"_moreless-link",e='<div name={0} class="sol-moreless-link-normal" role="button" tabIndex="-1"/>'.replace("{0}",n);if(this.$moreLink=F(e).click(function(){i.clearAllSelections(),i.expandAndShowLessLink(!0)}).hide(),this.$lessLink=F(e).html(this.config.texts.collapse).click(function(){i.clearAllSelections(),i.$currentSelectionContainer.hasClass("sol-current-selection-expanded")&&(i.$currentSelectionContainer[0].scrollTop=0),i.collapseAndShowMoreLink()}).hide(),this.$moreLink.blur(function(t){F(this).removeClass("sol-moreless-link-focused"),F(this).addClass("sol-moreless-link-normal")}),this.$lessLink.blur(function(t){F(this).removeClass("sol-moreless-link-focused"),F(this).addClass("sol-moreless-link-normal")}),this.$lessLink.attr("aria-label",this.config.texts.lessLinkTitle),this.$lessLink.attr("title",""),this.overflowingCurrentSelectionCount=0,this.$moreLessContainer=F('<div class="sol-moreless-container"/>').append(this.$moreLink).append(this.$lessLink).hide(),this.$moreLessContainer.click(function(t){t.target.getAttribute("name")!=n&&i.$input.focus()}),this.$currentSelectionContainer=F('<div class="sol-current-selection-normal" role="listbox"/>'),this.config.showSelectionBelowList?(this.$moreLessContainer.insertAfter(this.$innerContainer),this.$currentSelectionContainer.insertAfter(this.$moreLessContainer)):(this.$moreLessContainer.insertBefore(this.$innerContainer),this.$currentSelectionContainer.insertBefore(this.$moreLessContainer)),this.$innerContainer.click(function(t){F(t.target.parentElement).attr("name")!=i.config.key+"sol-label"&&i.$input.focus()}),this.config.multiple&&this.config.showSelectAll){var r='<input type="checkbox" class="sol-checkbox" id={0} >'.replace("{0}",this.config.key+"_selectAll");this.$selectAllCheckbox=F(r).click(function(t){i.$alertContainer[0].innerHTML="",i.clearAllSelections(),i.toggleSelectAll(this)}).attr("aria-label",this.formatString(this.config.texts.selectAllFocusTitle,this.config.data.length));var s=F(this.formatString('<label name={0} class="sol-label" for={1}>',this.config.key+"sol-label",this.config.key+"_selectAll")),o='<div class="sol-optionitem-text">{0}</div>'.replace("{0}",this.config.texts.selectAll),h=this.formatString('<div id={0} class="sol-optionitem-text">{1}</div>',this.config.key+"sol-no-of-Items",this.formatString(this.config.texts.totalItems,this.config.data.length)),c=F('<div class="sol-label-text"></div></label>').append(o).append(h),a=F(s).append(this.$selectAllCheckbox).append(c);this.$actionButtons=F('<div class="sol-action-buttons"/>').append(a).append('<div class="sol-clearfix"/>'),this.$selectionContainer.prepend(this.$actionButtons)}this.config.maxHeight&&this.$selection.css("max-height",this.config.maxHeight),this.currentSelectionContainerNonExpandedMaxHeight=26*this.config.defaultMaxRowsInCurrentSelections+10,this.currentSelectionContainerExpandedMaxHeight=204,F.isFunction(this.config.events.onRendered)&&this.config.events.onRendered.call(this,this),this.$alertContainer=F('<div class="sol-alert-text" aria-live="assertive" aria-atomic="true" aria-relevant="additions"></div>'),this.$container.append(this.$alertContainer)},_initializeInputEvents:function(){var M=this,t=this.$input.parents("form").first();if(t&&1===t.length&&!t.data(this.WINDOW_EVENTS_KEY)){var i=function(){var r=[];t.find(".sol-option input").each(function(t,i){var n=F(i),e=n.data("sol-item").selected;n.prop("checked")!==e&&(n.prop("checked",e).trigger("change",e),r.push(n))}),0<r.length&&F.isFunction(M.config.events.onChange)&&M.config.events.onChange.call(M,M,r)};t.on("reset",function(t){i.call(M),setTimeout(function(){i.call(M)},100)}),t.data(this.WINDOW_EVENTS_KEY,!0)}this.$input.on("input",function(){M._applySearchTermFilter(),0<(M.$input.val()||"").length&&M.open(),M.repositionFlyOut()}),this.$container.on("keydown",function(t){y.isKeyPressed=!0;var i=t.keyCode,n=!1;i===y.KEY_CODE.ESC&&(M.$selectAllCheckbox.is(":visible")?(M._setKeyBoardNavigationMode(!1),M.$input.val("").trigger("input"),M.$caret.trigger("click"),M.$input.focus(),n=!0):M.close());var e,r,s,o,h,c,a=M.$selection.find(".sol-option:visible"),u=M.$currentSelectionContainer.find(".sol-selected-display-item"),l=a.length,A=u.length,f=u.not(".sol-visibility-hidden").length,d=0<A,g=!1,w=!1,m=!1,b=!1;M._setKeyBoardNavigationMode(!0),e=M.$selection.find(".sol-option.keyboard-selection"),c=a.index(e),s=M.$currentSelectionContainer.find(".sol-selected-display-item.keyboard-selection");var v=0<=(h=u.index(s))&&h<=A-1,p=M.$selectAllCheckbox.is(":focus")||0<=c&&c<=l-1,E=M.$moreLessContainer.is(":visible"),B=M.$moreLink.hasClass("sol-moreless-link-focused"),j=M.$lessLink.hasClass("sol-moreless-link-focused"),C=M.$input.is(":focus");if(i===y.KEY_CODE.TAB&&(t.shiftKey?(g=d&&!E&&C||d&&E&&(B||j),w=E&&C,m=p,b=M.$selectAllCheckbox.is(":visible")&&!M.$selectAllCheckbox.is(":focus")&&(v&&!C||!d&&C)):(g=!v&&d&&p,w=d&&v&&E,m=!d&&p||d&&v&&!E||E&&(B||j),b=M.$selectAllCheckbox.is(":visible")&&!M.$selectAllCheckbox.is(":focus")&&C),M.clearAllSelections(),n=!0,g?((o=F(u[0]).addClass("keyboard-selection")).focus(),o.attr("aria-label",o[0].firstChild.innerText+M.config.texts.selectedListNavigation)):w?M.$moreLink.is(":visible")?M.toggleMoreLessLinkFocus(M.$moreLink):M.$lessLink.is(":visible")&&M.toggleMoreLessLinkFocus(M.$lessLink):m?M.$input.focus():b?M.focusSelectAll():(M.close(),n=!1)),(i===y.KEY_CODE.LEFT||i===y.KEY_CODE.RIGHT)&&v){var I=h+(i===y.KEY_CODE.LEFT?-1:1);I<0?I=0:f<=I&&(I=f-1),s.removeClass("keyboard-selection"),(o=F(u[I]).addClass("keyboard-selection")).focus(),n=!0}if(i!==y.KEY_CODE.LEFT&&i!==y.KEY_CODE.RIGHT||!p||(M.close(),M.$input.focus()),(i===y.KEY_CODE.UP||i===y.KEY_CODE.DOWN)&&p){M.$actionButtons.removeClass("keyboard-selection");var Q=c+(i===y.KEY_CODE.UP?-1:1);Q<0?M.focusSelectAll():l<=Q&&(Q=l-1),e.removeClass("keyboard-selection"),0<=Q&&((r=F(a[Q]).addClass("keyboard-selection")).find("input").focus(),M.$selection.scrollTop(M.$selection.scrollTop()+r.position().top)),!t.shiftKey||i!==y.KEY_CODE.UP&&i!==y.KEY_CODE.DOWN||(e=M.$selection.find(".sol-option.keyboard-selection input")).prop("checked")||e.trigger("change",!0),n=!0}if(i===y.KEY_CODE.ENTER||i===y.KEY_CODE.SPACE){if(n=!0,-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&i===y.KEY_CODE.SPACE)return;M.$moreLink.hasClass("sol-moreless-link-focused")?(M.$moreLink.click(),M.$lessLink.addClass("sol-moreless-link-focused")):M.$lessLink.hasClass("sol-moreless-link-focused")?(M.$lessLink.click(),M.$moreLink.addClass("sol-moreless-link-focused")):i===y.KEY_CODE.ENTER&&M.$input.is(":focus")?M.toggle():M.$selectAllCheckbox.is(":focus")?(M.$selectAllCheckbox.click(),i===y.KEY_CODE.ENTER&&(M.close(),M.$input.focus())):p?((e=M.$selection.find(".sol-option.keyboard-selection input")).trigger("change",!e.prop("checked")),i===y.KEY_CODE.ENTER&&(M.close(),M.$input.focus())):i===y.KEY_CODE.SPACE&&(n=!1)}if(i===y.KEY_CODE.DELETE&&v&&!M.config.isControlDisabled&&(n=!0,M.$alertContainer[0].innerHTML="",M.$alertContainer[0].innerHTML=M.config.texts.displayItemsRemoved.replace("{0}",s[0].firstChild.innerText),s.find(".sol-quick-delete").click()),n)return t.preventDefault(),!1})},toggleMoreLessLinkFocus:function(t){t.hasClass("sol-moreless-link-normal")?(t.removeClass("sol-moreless-link-normal"),t.addClass("sol-moreless-link-focused"),t.focus()):(t.removeClass("sol-moreless-link-focused"),t.addClass("sol-moreless-link-normal"))},clearAllSelections:function(){this.$currentSelectionContainer.find(".sol-selected-display-item.keyboard-selection").removeClass("keyboard-selection"),this.$moreLink.removeClass("sol-moreless-link-focused"),this.$moreLink.addClass("sol-moreless-link-normal"),this.$lessLink.removeClass("sol-moreless-link-focused"),this.$lessLink.addClass("sol-moreless-link-normal"),this.$actionButtons.removeClass("keyboard-selection"),this.$selection.find(".sol-option.keyboard-selection").removeClass("keyboard-selection")},_setKeyBoardNavigationMode:function(t){t?(this.keyboardNavigationMode=!0,this.$selection.addClass("sol-keyboard-navigation")):(this.keyboardNavigationMode=!1,this.$selection.find(".sol-option.keyboard-selection"),this.$selection.removeClass("sol-keyboard-navigation"),this.$selectionContainer.find(".sol-option.keyboard-selection").removeClass("keyboard-selection"),this.$selection.scrollTop(0))},_applySearchTermFilter:function(){if(this.items&&0!==this.items.length){var t=(this.$input.val()||"").toLowerCase();this.$selectionContainer.find(".sol-filtered-search").removeClass("sol-filtered-search"),this._setNoResultsItemVisible(!1),0<t.trim().length&&this._findTerms(this.items,t);var i=this.getNonFilteredOptions().length;F("#"+this.config.key+"sol-no-of-Items").html(this.formatString(this.config.texts.totalItems,i)),this.$selectAllCheckbox.prop("checked",this.areAllOptionsChecked()),this.$selectAllCheckbox.attr("aria-label",this.formatString(this.config.texts.selectAllFocusTitle,i))}},_findTerms:function(t,e){if(t&&F.isArray(t)&&0!==t.length){var r=this;this._setKeyBoardNavigationMode(!1),F.each(t,function(t,i){if("option"===i.type){var n=i.displayElement;-1===(i.label+" "+i.tooltip).trim().toLowerCase().indexOf(e)&&n.addClass("sol-filtered-search")}else r._findTerms(i.children,e),0===i.displayElement.find(".sol-option:not(.sol-filtered-search)").length&&i.displayElement.addClass("sol-filtered-search")}),this._setNoResultsItemVisible(0===this.getNonFilteredOptions().length)}},_initializeData:function(){this.config.data?F.isFunction(this.config.data)?this.items=this._fetchDataFromFunction(this.config.data):F.isArray(this.config.data)?this.items=this._fetchDataFromArray(this.config.data):"string"==typeof this.config.data?this._loadItemsFromUrl(this.config.data):this._showErrorLabel("Unknown data type"):this.items=this._detectDataFromOriginalElement(),this.items&&this._processDataItems(this.items)},_detectDataFromOriginalElement:function(){if("select"===this.$originalElement.prop("tagName").toLowerCase()){var s=this,o=[];return F.each(this.$originalElement.children(),function(t,i){var n,e=F(i),r=e.prop("tagName").toLowerCase();"option"===r?(n=s._processSelectOption(e))&&o.push(n):"optgroup"===r?(n=s._processSelectOptgroup(e))&&o.push(n):s._showErrorLabel("Invalid element found in select: "+r+". Only option and optgroup are allowed")}),this._invokeConverterIfNeccessary(o)}if(this.$originalElement.data("sol-data")){var t=this.$originalElement.data("sol-data");return this._invokeConverterIfNeccessary(t)}this._showErrorLabel('Could not determine data from original element. Must be a select or data must be provided as data-sol-data="" attribute')},_processSelectOption:function(t){return F.extend({},this.SOL_OPTION_FORMAT,{value:t.val(),selected:t.prop("selected"),disabled:t.prop("disabled"),label:t.html(),tooltip:t.attr("title"),element:t})},_processSelectOptgroup:function(t){var r=this,s=F.extend({},this.SOL_OPTIONGROUP_FORMAT,{label:t.attr("label"),tooltip:t.attr("title"),disabled:t.prop("disabled"),children:[]}),i=t.children("option");return F.each(i,function(t,i){var n=F(i),e=r._processSelectOption(n);s.disabled&&(e.disabled=!0),s.children.push(e)}),s},_fetchDataFromFunction:function(t){return this._invokeConverterIfNeccessary(t(this))},_fetchDataFromArray:function(t){return this._invokeConverterIfNeccessary(t)},_loadItemsFromUrl:function(e){var r=this;F.ajax(e,{success:function(t){r.items=r._invokeConverterIfNeccessary(t),r.items&&r._processDataItems(r.items)},error:function(t,i,n){r._showErrorLabel("Error loading from url "+e+": "+n)}})},_invokeConverterIfNeccessary:function(t){return F.isFunction(this.config.converter)?this.config.converter.call(this,this,t):t},_processDataItems:function(t){if(t)if(0!==t.length){var n=this,e=t;F.each(t,function(t,i){if(i.type===r.prototype.SOL_OPTION_FORMAT.type)n._renderOption(i,t,e.length);else{if(i.type!==r.prototype.SOL_OPTIONGROUP_FORMAT.type)return void n._showErrorLabel("Invalid item type found "+i.type);n._renderOptiongroup(i)}}),this.$selectionContainer.find('input[type="checkbox"]:not([disabled]):checked').length===t.length&&this.$selectAllCheckbox.prop("checked",!0),F.isFunction(this.config.events.onInitialized)&&this.config.events.onInitialized.call(this,this,t)}else this._setNoResultsItemVisible(!0);else this._showErrorLabel("Data items not present. Maybe the converter did not return any values")},_renderOption:function(t,n,i,e){var r,s,o,h=this,c=e||this.$selection,a=F('<div class="sol-label-text sol-optionitem-text"/>').html(0===t.label.trim().length?"&nbsp;":t.label),u=this._getNameAttribute();if(this.config.multiple){var l='<input type="checkbox" id={0} class="sol-checkbox" name={0} >'.split("{0}").join(this.config.key+"_checkbox");r=F(l),this.config.useBracketParameters&&(u+="[]")}else r=F('<input type="radio" class="sol-radio"/>').on("change",function(){h.$selectionContainer.find('input[type="radio"][name="'+u+'"]').not(F(this)).trigger("sol-deselect")}).on("sol-deselect",function(){h._removeSelectionDisplayItem(F(this))});r.on("change",function(t,i){h.checkUncheckOption(F(this),i,n)}).data("sol-item",t).prop("checked",t.selected).prop("disabled",t.disabled).attr("name",u).attr("id",this.config.key+"_item"+(n+1)).val(t.value);var A=this.formatString(this.config.texts.optionSetItemAriaLabel,t.tooltip,n+1,i),f=this.formatString('<label name={0} class="sol-label">',this.config.key+"sol-label");s=F(f).attr("title",t.tooltip).attr("aria-label",A).append(r).append(a),o=F('<li class="sol-option" role="option"/>').append(s),t.displayElement=o,c.append(o),t.selected&&(o.addClass("sol-option-selected"),this._addSelectionDisplayItem(r,n))},_renderOptiongroup:function(t){var n=this,i=F('<div class="sol-optiongroup-label"/>').attr("title",t.tooltip).html(t.label),e=F('<div class="sol-optiongroup"/>').append(i);t.disabled&&e.addClass("disabled");var r=t;F.isArray(t.children)&&F.each(t.children,function(t,i){n._renderOption(i,t,r.children.length,e)}),t.displayElement=e,this.$selection.append(e)},_selectionChange:function(t,i,n){t.prop("checked")?(this._addSelectionDisplayItem(t,i),t.closest(".sol-option").addClass("sol-option-selected")):(this._removeSelectionDisplayItem(t),t.closest(".sol-option").removeClass("sol-option-selected")),t.closest(".sol-option").attr("aria-selected",t.prop("checked")),this.config.multiple?this.config.scrollTarget.trigger("scroll"):this.close(),!n&&F.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,t)},_addSelectionDisplayItem:function(n,t){var i,e=n.data("sol-item"),r=e.displaySelectionItem,s=this;if(!r){i=F('<span class="sol-selected-display-item-text" role="option"/>').html(e.label);var o='<div name={0} class="sol-selected-display-item" role="option" tabIndex="0"/>'.replace("{0}",this.config.key+"_selected-item");r=F(o).append(i).attr("title","").attr("data-value",e.value).attr("aria-label",e.label).appendTo(this.$currentSelectionContainer).click(function(){s.clearAllSelections(),F(this).addClass("keyboard-selection"),F(this).focus()}).blur(function(t){F(this).removeClass("keyboard-selection")}),!this.config.multiple&&!this.config.allowNullSelection||n.prop("disabled")||F('<span class="sol-quick-delete" role="button"/>').attr("title",this.config.texts.deleteItemTitle).attr("id",this.config.key+(t+1)+"-selected-item-delete").html(this.config.texts.quickDelete).click(function(){var t=n.data("sol-item").displaySelectionItem,i=s.getNextItemTobeHighlighted(t);s.clearAllSelections(),n.trigger("change",!1),null===i&&s.$input.focus(),F(i).addClass("keyboard-selection").focus()}).appendTo(r),e.displaySelectionItem=r}this.handleMoreLessLink(!0,r)},_removeSelectionDisplayItem:function(t){var i=t.data("sol-item"),n=i.displaySelectionItem;n&&(n.remove(),i.displaySelectionItem=void 0),this.$currentSelectionContainer.find(".sol-selected-display-item.sol-visibility-hidden").first().removeClass("sol-visibility-hidden"),this.handleMoreLessLink(!1,n)},handleMoreLessLink:function(t,i){this.$currentSelectionContainer.hasClass("sol-current-selection-normal")?this.$currentSelectionContainer.prop("scrollHeight")>this.currentSelectionContainerNonExpandedMaxHeight?(this.computeOverflowCount(t),this.showMoreLink(),i.addClass("sol-visibility-hidden")):this.hideMoreLessContainer():this.$currentSelectionContainer.prop("scrollHeight")>this.currentSelectionContainerNonExpandedMaxHeight?(this.computeOverflowCount(t),this.showLessLink()):(this.$currentSelectionContainer.removeClass("sol-current-selection-expanded"),this.$currentSelectionContainer.addClass("sol-current-selection-normal"),this.hideMoreLessContainer())},computeOverflowCount:function(t){t?this.overflowingCurrentSelectionCount+=1:this.overflowingCurrentSelectionCount-=1},showMoreLink:function(){this.$moreLessContainer.show();var t=this.formatString(this.config.texts.expand,this.overflowingCurrentSelectionCount);this.$moreLink.html(t);var i=this.config.texts.moreLinkTitle.replace("{0}",t);this.$moreLink.attr("aria-label",i),this.$moreLink.attr("title",""),this.$lessLink.hide(),this.$moreLink.show()},showLessLink:function(){this.$moreLessContainer.show(),this.$moreLink.hide(),this.$lessLink.show()},hideMoreLessContainer:function(){this.overflowingCurrentSelectionCount=0,this.$moreLessContainer.hide();var t=this.formatString(this.config.texts.expand,this.overflowingCurrentSelectionCount);this.$moreLink.html(t).hide(),this.$lessLink.hide()},expandAndShowLessLink:function(t){this.$currentSelectionContainer.removeClass("sol-current-selection-normal"),this.$currentSelectionContainer.addClass("sol-current-selection-expanded"),this.$moreLink.hide(),this.$lessLink.show(),t&&(this.$lessLink.focus(),this.$lessLink.removeClass("sol-moreless-link-normal"),this.$lessLink.addClass("sol-moreless-link-focused")),this.$currentSelectionContainer.find(".sol-selected-display-item.sol-visibility-hidden").each(function(){return F(this).removeClass("sol-visibility-hidden")})},collapseAndShowMoreLink:function(){this.$currentSelectionContainer.removeClass("sol-current-selection-expanded"),this.$currentSelectionContainer.addClass("sol-current-selection-normal"),this.$lessLink.hide(),this.showMoreLink(),this.$moreLink.removeClass("sol-moreless-link-normal"),this.$moreLink.addClass("sol-moreless-link-focused"),this.$moreLink.focus();var t=this.$currentSelectionContainer.find(".sol-selected-display-item"),i=t.length-this.overflowingCurrentSelectionCount;t.each(function(t){i<=t&&F(this).addClass("sol-visibility-hidden")})},_setNoResultsItemVisible:function(t){t?(this.$alertContainer[0].innerHTML="",this.$alertContainer[0].innerHTML=this.config.texts.noItemsAvailable,this.$noResultsItem.show(),this.$actionButtons&&this.$actionButtons.hide(),this.$selection.addClass("sol-selection-hidden")):(this.$noResultsItem.hide(),this.$actionButtons&&this.$actionButtons.show(),this.$selection.removeClass("sol-selection-hidden"))},isOpen:function(){return this.$container.hasClass("sol-active")},isClosed:function(){return!this.isOpen()},toggle:function(){this.isOpen()?this.close():this.open(),this.$input.focus()},open:function(){this.isClosed()&&(this.clearAllSelections(),this.$container.addClass("sol-active"),this.$container.attr("aria-expanded",!0),this.config.scrollTarget.bind("scroll",this.internalScrollWrapper).trigger("scroll"),F(y).on("resize",this.internalScrollWrapper),F.isFunction(this.config.events.onOpen)&&this.config.events.onOpen.call(this,this),this.$input.focus())},formatString:function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];for(var e=t,r=1;r<arguments.length;r++){var s=void 0===arguments[r]||null==arguments[r]?"":arguments[r].toString();e=e.replace(new RegExp("\\{"+(r-1)+"\\}","g"),s)}return e},close:function(){this.isOpen()&&(this._setKeyBoardNavigationMode(!1),this.$container.removeClass("sol-active"),this.$container.attr("aria-expanded",!1),this.$selectionContainer.removeClass("sol-selection-container-reduced-height"),this.$selection.removeClass("sol-selection-reduced-height"),this.config.scrollTarget.unbind("scroll",this.internalScrollWrapper),F(y).off("resize",this.internalScrollWrapper),this.$input.val(""),this._applySearchTermFilter(),F.isFunction(this.config.events.onClose)&&this.config.events.onClose.call(this,this))},toggleSelectAll:function(t){t.checked?this.selectAll():this.deselectAll(),this.focusSelectAll()},selectAll:function(){if(this.config.showSelectAll&&this.config.multiple){var t=this.getNonFilteredOptions().find('input[type="checkbox"]:not([disabled], :checked)').trigger("change",!0);F.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,t);var i=this.config.texts.selectAllSelect.replace("{0}",this.getNonFilteredOptions().length);this.$alertContainer[0].innerHTML=i}},focusSelectAll:function(){this.$selectAllCheckbox.focus(),this.$actionButtons.addClass("keyboard-selection")},deselectAll:function(t){if(this.config.showSelectAll&&this.config.multiple){var i=(t?this.$selectionContainer:this.getNonFilteredOptions()).find('input[type="checkbox"]:not([disabled]):checked').trigger("change",!1);F.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,i);var n=this.config.texts.selectAllDeselect.replace("{0}",this.getNonFilteredOptions().length);this.$alertContainer[0].innerHTML=n}},getValues:function(){var i=[];return this.$currentSelectionContainer.find(".sol-selected-display-item").each(function(t){i.push(F(this).data("value"))}),i},setValues:function(t){if(t&&t.length){var n=this;t.forEach(function(t){var i=t;n.$selectionContainer.find(".sol-checkbox").filter(function(){if(null!=F(this).data("sol-item"))return F(this).data("sol-item").value===i}).trigger("change",!0)})}},toggleControlState:function(t){this.config.isControlDisabled=t,this.config.isControlDisabled?(this.$innerContainer.hide(),this.$container.addClass("sol-container-Disabled"),this.$moreLessContainer.addClass("sol-moreless-container-Disabled"),this.$currentSelectionContainer.find(".sol-quick-delete").each(function(t){F(this).addClass("sol-visibility-hidden")})):(this.$innerContainer.show(),this.$container.removeClass("sol-container-Disabled"),this.$moreLessContainer.removeClass("sol-moreless-container-Disabled"),this.$currentSelectionContainer.find(".sol-quick-delete").each(function(t){F(this).removeClass("sol-visibility-hidden")}))},checkUncheckOption:function(t,i,n){void 0!==i&&t.prop("checked",i),this._selectionChange(t,n),this.$selectAllCheckbox.prop("checked",this.areAllOptionsChecked())},areAllOptionsChecked:function(){return 0===this.getNonFilteredOptions().find('input[type="checkbox"]:not([disabled], :checked)').length},getNonFilteredOptions:function(){return this.$selectionContainer.find(".sol-option:not(.sol-filtered-search)")},getSelection:function(){return this.$selection.find("input:checked")},storeControlState:function(){if(this.currentHighlightedSelectionIndex=-1,null!=this.$currentSelectionContainer){var t=this.$currentSelectionContainer.find(".sol-selected-display-item.keyboard-selection");if(0<t.length){var i=this.$currentSelectionContainer.find(".sol-selected-display-item");this.currentHighlightedSelectionIndex=i.index(t)}this.expanded=this.$lessLink.is(":visible")}},restoreControlState:function(){if(-1<this.currentHighlightedSelectionIndex){var t=this.$currentSelectionContainer.find(".sol-selected-display-item");F(t[this.currentHighlightedSelectionIndex]).addClass("keyboard-selection").focus()}this.expanded&&this.expandAndShowLessLink(!1),this.isOpen()&&this.repositionFlyOut()},refreshControl:function(t){0<t.length?(this.storeControlState(),this.deselectAll(!0),this.setValues(t),this.restoreControlState()):0<this.getValues().length&&this.deselectAll(!0)},repositionFlyOut:function(){this.config.scrollTarget.bind("scroll",this.internalScrollWrapper).trigger("scroll"),F(y).on("resize",this.internalScrollWrapper)},getNextItemTobeHighlighted:function(t){if(null===t)return null;var i=this.$currentSelectionContainer.find(".sol-selected-display-item"),n=i.index(t);return n<i.length-1?i[n+1]:null}}).defaults,y.SearchableOptionList=r,y.KEY_CODE={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.fn.searchableOptionList=function(n){var e=[];return this.each(function(){var t=F(this),i=t.data(r.prototype.DATA_KEY);i?e.push(i):e.push(new r(t,n).init())}),1===e.length?e[0]:e}}var f,u,A,r,t,n;!function(F){var t,g=this||(0,eval)("this"),w=g.document,m=g.navigator,v=g.jQuery,b=g.JSON;t=function(t,e){function n(t,i){return(null===t||typeof t in h)&&t===i}function s(t,i){var n;return function(){n||(n=setTimeout(function(){n=F,t()},i))}}function o(t,i){var n;return function(){clearTimeout(n),n=setTimeout(t,i)}}function i(t,c,a,u){M.d[t]={init:function(e,r,t,i,s){var o,h;return M.s(function(){var t=M.a.c(r()),i=!a!=!t,n=!h;(n||c||i!==o)&&(n&&M.Y.la()&&(h=M.a.ia(M.f.childNodes(e),!0)),i?(n||M.f.T(e,M.a.ia(h)),M.Ca(u?u(s,t):s,e)):M.f.ja(e),o=i)},null,{o:e}),{controlsDescendantBindings:!0}}},M.h.ha[t]=!1,M.f.Q[t]=!0}var r,M=void 0!==t?t:{};M.b=function(t,i){for(var n=t.split("."),e=M,r=0;r<n.length-1;r++)e=e[n[r]];e[n[n.length-1]]=i},M.A=function(t,i,n){t[i]=n},M.version="3.2.0",M.b("version",M.version),M.a=function(){function l(t,i){for(var n in t)t.hasOwnProperty(n)&&i(n,t[n])}function t(t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);return t}function i(t,i){return t.__proto__=i,t}var n={__proto__:[]}instanceof Array,e={},r={};e[m&&/Firefox\/2/i.test(m.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],e.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),l(e,function(t,i){if(i.length)for(var n=0,e=i.length;n<e;n++)r[i[n]]=t});var o={propertychange:!0},h=w&&function(){for(var t=3,i=w.createElement("div"),n=i.getElementsByTagName("i");i.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return 4<t?t:F}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(t,i){for(var n=0,e=t.length;n<e;n++)i(t[n],n)},m:function(t,i){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,i);for(var n=0,e=t.length;n<e;n++)if(t[n]===i)return n;return-1},qb:function(t,i,n){for(var e=0,r=t.length;e<r;e++)if(i.call(n,t[e],e))return t[e];return null},ua:function(t,i){var n=M.a.m(t,i);0<n?t.splice(n,1):0===n&&t.shift()},rb:function(t){for(var i=[],n=0,e=(t=t||[]).length;n<e;n++)M.a.m(i,t[n])<0&&i.push(t[n]);return i},Da:function(t,i){for(var n=[],e=0,r=(t=t||[]).length;e<r;e++)n.push(i(t[e],e));return n},ta:function(t,i){for(var n=[],e=0,r=(t=t||[]).length;e<r;e++)i(t[e],e)&&n.push(t[e]);return n},ga:function(t,i){if(i instanceof Array)t.push.apply(t,i);else for(var n=0,e=i.length;n<e;n++)t.push(i[n]);return t},ea:function(t,i,n){var e=M.a.m(M.a.Xa(t),i);e<0?n&&t.push(i):n||t.splice(e,1)},xa:n,extend:t,za:i,Aa:n?i:t,G:l,na:function(t,i){if(!t)return t;var n,e={};for(n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n],n,t));return e},Ka:function(t){for(;t.firstChild;)M.removeNode(t.firstChild)},oc:function(t){t=M.a.S(t);for(var i=w.createElement("div"),n=0,e=t.length;n<e;n++)i.appendChild(M.R(t[n]));return i},ia:function(t,i){for(var n=0,e=t.length,r=[];n<e;n++){var s=t[n].cloneNode(!0);r.push(i?M.R(s):s)}return r},T:function(t,i){if(M.a.Ka(t),i)for(var n=0,e=i.length;n<e;n++)t.appendChild(i[n])},Lb:function(t,i){var n=t.nodeType?[t]:t;if(0<n.length){for(var e=n[0],r=e.parentNode,s=0,o=i.length;s<o;s++)r.insertBefore(i[s],e);for(s=0,o=n.length;s<o;s++)M.removeNode(n[s])}},ka:function(t,i){if(t.length){for(i=8===i.nodeType&&i.parentNode||i;t.length&&t[0].parentNode!==i;)t.shift();if(1<t.length){var n=t[0],e=t[t.length-1];for(t.length=0;n!==e;)if(t.push(n),!(n=n.nextSibling))return;t.push(e)}}return t},Nb:function(t,i){h<7?t.setAttribute("selected",i):t.selected=i},cb:function(t){return null===t||t===F?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(t,i){return t=t||"",!(i.length>t.length)&&t.substring(0,i.length)===i},cc:function(t,i){if(t===i)return!0;if(11===t.nodeType)return!1;if(i.contains)return i.contains(3===t.nodeType?t.parentNode:t);if(i.compareDocumentPosition)return 16==(16&i.compareDocumentPosition(t));for(;t&&t!=i;)t=t.parentNode;return!!t},Ja:function(t){return M.a.cc(t,t.ownerDocument.documentElement)},ob:function(t){return!!M.a.qb(t,M.a.Ja)},t:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},n:function(i,t,n){var e=h&&o[t];if(!e&&v)v(i).bind(t,n);else if(e||"function"!=typeof i.addEventListener){if(void 0===i.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var r=function(t){n.call(i,t)},s="on"+t;i.attachEvent(s,r),M.a.w.da(i,function(){i.detachEvent(s,r)})}else i.addEventListener(t,n,!1)},oa:function(t,i){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==M.a.t(t)||!t.type||"click"!=i.toLowerCase()||"checkbox"!=(n=t.type)&&"radio"!=n),v&&!n)v(t).trigger(i);else if("function"==typeof w.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=w.createEvent(r[i]||"HTMLEvents")).initEvent(i,!0,!0,g,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(n)}else if(n&&t.click)t.click();else{if(void 0===t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+i)}},c:function(t){return M.C(t)?t():t},Xa:function(t){return M.C(t)?t.v():t},Ba:function(t,i,n){if(i){var e=/\S+/g,r=t.className.match(e)||[];M.a.u(i.match(e),function(t){M.a.ea(r,t,n)}),t.className=r.join(" ")}},bb:function(t,i){var n=M.a.c(i);null!==n&&n!==F||(n="");var e=M.f.firstChild(t);!e||3!=e.nodeType||M.f.nextSibling(e)?M.f.T(t,[t.ownerDocument.createTextNode(n)]):e.data=n,M.a.fc(t)},Mb:function(t,i){if(t.name=i,h<=7)try{t.mergeAttributes(w.createElement("<input name='"+t.name+"'/>"),!1)}catch(t){}},fc:function(t){9<=h&&(t=1==t.nodeType?t:t.parentNode).style&&(t.style.zoom=t.style.zoom)},dc:function(t){if(h){var i=t.style.width;t.style.width=0,t.style.width=i}},sc:function(t,i){t=M.a.c(t),i=M.a.c(i);for(var n=[],e=t;e<=i;e++)n.push(e);return n},S:function(t){for(var i=[],n=0,e=t.length;n<e;n++)i.push(t[n]);return i},yc:6===h,zc:7===h,L:h,xb:function(t,i){for(var n=M.a.S(t.getElementsByTagName("input")).concat(M.a.S(t.getElementsByTagName("textarea"))),e="string"==typeof i?function(t){return t.name===i}:function(t){return i.test(t.name)},r=[],s=n.length-1;0<=s;s--)e(n[s])&&r.push(n[s]);return r},pc:function(t){return"string"==typeof t&&(t=M.a.cb(t))?b&&b.parse?b.parse(t):new Function("return "+t)():null},eb:function(t,i,n){if(!b||!b.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return b.stringify(M.a.c(t),i,n)},qc:function(t,i,n){var e=(n=n||{}).params||{},r=n.includeFields||this.vb,s=t;if("object"==typeof t&&"form"===M.a.t(t)){s=t.action;for(var o=r.length-1;0<=o;o--)for(var h=M.a.xb(t,r[o]),c=h.length-1;0<=c;c--)e[h[c].name]=h[c].value}i=M.a.c(i);var a=w.createElement("form");for(var u in a.style.display="none",a.action=s,a.method="post",i)(t=w.createElement("input")).type="hidden",t.name=u,t.value=M.a.eb(M.a.c(i[u])),a.appendChild(t);l(e,function(t,i){var n=w.createElement("input");n.type="hidden",n.name=t,n.value=i,a.appendChild(n)}),w.body.appendChild(a),n.submitter?n.submitter(a):a.submit(),setTimeout(function(){a.parentNode.removeChild(a)},0)}}}(),M.b("utils",M.a),M.b("utils.arrayForEach",M.a.u),M.b("utils.arrayFirst",M.a.qb),M.b("utils.arrayFilter",M.a.ta),M.b("utils.arrayGetDistinctValues",M.a.rb),M.b("utils.arrayIndexOf",M.a.m),M.b("utils.arrayMap",M.a.Da),M.b("utils.arrayPushAll",M.a.ga),M.b("utils.arrayRemoveItem",M.a.ua),M.b("utils.extend",M.a.extend),M.b("utils.fieldsIncludedWithJsonPost",M.a.vb),M.b("utils.getFormFields",M.a.xb),M.b("utils.peekObservable",M.a.Xa),M.b("utils.postJson",M.a.qc),M.b("utils.parseJson",M.a.pc),M.b("utils.registerEventHandler",M.a.n),M.b("utils.stringifyJson",M.a.eb),M.b("utils.range",M.a.sc),M.b("utils.toggleDomNodeCssClass",M.a.Ba),M.b("utils.triggerEvent",M.a.oa),M.b("utils.unwrapObservable",M.a.c),M.b("utils.objectForEach",M.a.G),M.b("utils.addOrRemoveItem",M.a.ea),M.b("unwrap",M.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var i=this,n=Array.prototype.slice.call(arguments);return t=n.shift(),function(){return i.apply(t,n.concat(Array.prototype.slice.call(arguments)))}}),M.a.e=new function(){function e(t,i){var n=t[s];if(!n||"null"===n||!o[n]){if(!i)return F;n=t[s]="ko"+r++,o[n]={}}return o[n]}var r=0,s="__ko__"+(new Date).getTime(),o={};return{get:function(t,i){var n=e(t,!1);return n===F?F:n[i]},set:function(t,i,n){n===F&&e(t,!1)===F||(e(t,!0)[i]=n)},clear:function(t){var i=t[s];return!(!i||(delete o[i],t[s]=null))},F:function(){return r+++s}}},M.b("utils.domData",M.a.e),M.b("utils.domData.clear",M.a.e.clear),M.a.w=new function(){function e(t,i){var n=M.a.e.get(t,s);return n===F&&i&&(n=[],M.a.e.set(t,s,n)),n}function r(t){if(i=e(t,!1))for(var i=i.slice(0),n=0;n<i.length;n++)i[n](t);if(M.a.e.clear(t),M.a.w.cleanExternalData(t),h[t.nodeType])for(i=t.firstChild;t=i;)i=t.nextSibling,8===t.nodeType&&r(t)}var s=M.a.e.F(),o={1:!0,8:!0,9:!0},h={1:!0,9:!0};return{da:function(t,i){if("function"!=typeof i)throw Error("Callback must be a function");e(t,!0).push(i)},Kb:function(t,i){var n=e(t,!1);n&&(M.a.ua(n,i),0==n.length&&M.a.e.set(t,s,F))},R:function(t){if(o[t.nodeType]&&(r(t),h[t.nodeType])){var i=[];M.a.ga(i,t.getElementsByTagName("*"));for(var n=0,e=i.length;n<e;n++)r(i[n])}return t},removeNode:function(t){M.R(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){v&&"function"==typeof v.cleanData&&v.cleanData([t])}}},M.R=M.a.w.R,M.removeNode=M.a.w.removeNode,M.b("cleanNode",M.R),M.b("removeNode",M.removeNode),M.b("utils.domNodeDisposal",M.a.w),M.b("utils.domNodeDisposal.addDisposeCallback",M.a.w.da),M.b("utils.domNodeDisposal.removeDisposeCallback",M.a.w.Kb),M.a.ba=function(t){var i;if(v){if(v.parseHTML)i=v.parseHTML(t)||[];else if((i=v.clean([t]))&&i[0]){for(t=i[0];t.parentNode&&11!==t.parentNode.nodeType;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}}else{var n=M.a.cb(t).toLowerCase();for(i=w.createElement("div"),t="ignored<div>"+(n=n.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!n.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!n.indexOf("<td")||!n.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""])[1]+t+n[2]+"</div>","function"==typeof g.innerShiv?i.appendChild(g.innerShiv(t)):i.innerHTML=t;n[0]--;)i=i.lastChild;i=M.a.S(i.lastChild.childNodes)}return i},M.a.$a=function(t,i){if(M.a.Ka(t),null!==(i=M.a.c(i))&&i!==F)if("string"!=typeof i&&(i=i.toString()),v)v(t).html(i);else for(var n=M.a.ba(i),e=0;e<n.length;e++)t.appendChild(n[e])},M.b("utils.parseHtmlFragment",M.a.ba),M.b("utils.setHtml",M.a.$a),M.D=(r={},{Ua:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var i=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return r[i]=t,"\x3c!--[ko_memo:"+i+"]--\x3e"},Rb:function(t,i){var n=r[t];if(n===F)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return n.apply(null,i||[]),!0}finally{delete r[t]}},Sb:function(t,i){var n=[];!function t(i,n){if(i)if(8==i.nodeType)null!=(e=M.D.Gb(i.nodeValue))&&n.push({bc:i,mc:e});else if(1==i.nodeType)for(var e=0,r=i.childNodes,s=r.length;e<s;e++)t(r[e],n)}(t,n);for(var e=0,r=n.length;e<r;e++){var s=n[e].bc,o=[s];i&&M.a.ga(o,i),M.D.Rb(n[e].mc,o),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Gb:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}),M.b("memoization",M.D),M.b("memoization.memoize",M.D.Ua),M.b("memoization.unmemoize",M.D.Rb),M.b("memoization.parseMemoText",M.D.Gb),M.b("memoization.unmemoizeDomNodeAndDescendants",M.D.Sb),M.La={throttle:function(i,n){i.throttleEvaluation=n;var e=null;return M.j({read:i,write:function(t){clearTimeout(e),e=setTimeout(function(){i(t)},n)}})},rateLimit:function(t,i){var n,e,r;"number"==typeof i?n=i:(n=i.timeout,e=i.method),r="notifyWhenChangesStop"==e?o:s,t.Ta(function(t){return r(t,n)})},notify:function(t,i){t.equalityComparer="always"==i?null:n}};var h={undefined:1,boolean:1,number:1,string:1};M.b("extenders",M.La),M.Pb=function(t,i,n){this.target=t,this.wa=i,this.ac=n,this.Cb=!1,M.A(this,"dispose",this.K)},M.Pb.prototype.K=function(){this.Cb=!0,this.ac()},M.P=function(){M.a.Aa(this,M.P.fn),this.M={}};var c="change",a={U:function(t,i,n){var e=this;n=n||c;var r=new M.Pb(e,i?t.bind(i):t,function(){M.a.ua(e.M[n],r),e.nb&&e.nb()});return e.va&&e.va(n),e.M[n]||(e.M[n]=[]),e.M[n].push(r),r},notifySubscribers:function(t,i){if(i=i||c,this.Ab(i))try{M.k.Ea();for(var n,e=this.M[i].slice(0),r=0;n=e[r];++r)n.Cb||n.wa(t)}finally{M.k.end()}},Ta:function(t){var i,n,e,r=this,s=M.C(r);r.qa||(r.qa=r.notifySubscribers,r.notifySubscribers=function(t,i){i&&i!==c?"beforeChange"===i?r.kb(t):r.qa(t,i):r.lb(t)});var o=t(function(){s&&e===r&&(e=r()),i=!1,r.Pa(n,e)&&r.qa(n=e)});r.lb=function(t){i=!0,e=t,o()},r.kb=function(t){i||(n=t,r.qa(t,"beforeChange"))}},Ab:function(t){return this.M[t]&&this.M[t].length},yb:function(){var n=0;return M.a.G(this.M,function(t,i){n+=i.length}),n},Pa:function(t,i){return!this.equalityComparer||!this.equalityComparer(t,i)},extend:function(t){var e=this;return t&&M.a.G(t,function(t,i){var n=M.La[t];"function"==typeof n&&(e=n(e,i)||e)}),e}};M.A(a,"subscribe",a.U),M.A(a,"extend",a.extend),M.A(a,"getSubscriptionsCount",a.yb),M.a.xa&&M.a.za(a,Function.prototype),M.P.fn=a,M.Db=function(t){return null!=t&&"function"==typeof t.U&&"function"==typeof t.notifySubscribers},M.b("subscribable",M.P),M.b("isSubscribable",M.Db),M.Y=M.k=function(){function e(t){n.push(i),i=t}function r(){i=n.pop()}var i,n=[],s=0;return{Ea:e,end:r,Jb:function(t){if(i){if(!M.Db(t))throw Error("Only subscribable things can act as dependencies");i.wa(t,t.Vb||(t.Vb=++s))}},B:function(t,i,n){try{return e(),t.apply(i,n||[])}finally{r()}},la:function(){if(i)return i.s.la()},ma:function(){if(i)return i.ma}}}(),M.b("computedContext",M.Y),M.b("computedContext.getDependenciesCount",M.Y.la),M.b("computedContext.isInitial",M.Y.ma),M.b("computedContext.isSleeping",M.Y.Ac),M.p=function(t){function i(){return 0<arguments.length?(i.Pa(n,arguments[0])&&(i.X(),n=arguments[0],i.W()),this):(M.k.Jb(i),n)}var n=t;return M.P.call(i),M.a.Aa(i,M.p.fn),i.v=function(){return n},i.W=function(){i.notifySubscribers(n)},i.X=function(){i.notifySubscribers(n,"beforeChange")},M.A(i,"peek",i.v),M.A(i,"valueHasMutated",i.W),M.A(i,"valueWillMutate",i.X),i},M.p.fn={equalityComparer:n};var u=M.p.rc="__ko_proto__";M.p.fn[u]=M.p,M.a.xa&&M.a.za(M.p.fn,M.P.fn),M.Ma=function(t,i){return null!==t&&t!==F&&t[u]!==F&&(t[u]===i||M.Ma(t[u],i))},M.C=function(t){return M.Ma(t,M.p)},M.Ra=function(t){return!!("function"==typeof t&&t[u]===M.p||"function"==typeof t&&t[u]===M.j&&t.hc)},M.b("observable",M.p),M.b("isObservable",M.C),M.b("isWriteableObservable",M.Ra),M.b("isWritableObservable",M.Ra),M.aa=function(t){if("object"!=typeof(t=t||[])||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=M.p(t),M.a.Aa(t,M.aa.fn),t.extend({trackArrayChanges:!0})},M.aa.fn={remove:function(i){for(var t=this.v(),n=[],e="function"!=typeof i||M.C(i)?function(t){return t===i}:i,r=0;r<t.length;r++){var s=t[r];e(s)&&(0===n.length&&this.X(),n.push(s),t.splice(r,1),r--)}return n.length&&this.W(),n},removeAll:function(i){if(i===F){var t=this.v(),n=t.slice(0);return this.X(),t.splice(0,t.length),this.W(),n}return i?this.remove(function(t){return 0<=M.a.m(i,t)}):[]},destroy:function(i){var t=this.v(),n="function"!=typeof i||M.C(i)?function(t){return t===i}:i;this.X();for(var e=t.length-1;0<=e;e--)n(t[e])&&(t[e]._destroy=!0);this.W()},destroyAll:function(i){return i===F?this.destroy(function(){return!0}):i?this.destroy(function(t){return 0<=M.a.m(i,t)}):[]},indexOf:function(t){var i=this();return M.a.m(i,t)},replace:function(t,i){var n=this.indexOf(t);0<=n&&(this.X(),this.v()[n]=i,this.W())}},M.a.u("pop push reverse shift sort splice unshift".split(" "),function(i){M.aa.fn[i]=function(){var t=this.v();return this.X(),this.sb(t,i,arguments),t=t[i].apply(t,arguments),this.W(),t}}),M.a.u(["slice"],function(i){M.aa.fn[i]=function(){var t=this();return t[i].apply(t,arguments)}}),M.a.xa&&M.a.za(M.aa.fn,M.p.fn),M.b("observableArray",M.aa);var l,d="arrayChange";M.La.trackArrayChanges=function(r){if(!r.sb){var l=!1,A=null,f=0,e=r.U;r.U=r.subscribe=function(t,i,n){return n===d&&function(){if(!l){l=!0;var n=r.notifySubscribers;r.notifySubscribers=function(t,i){return i&&i!==c||++f,n.apply(this,arguments)};var e=[].concat(r.v()||[]);A=null,r.U(function(t){var i;t=[].concat(t||[]),r.Ab(d)&&((!A||1<f)&&(A=M.a.Fa(e,t,{sparse:!0})),(i=A).length&&r.notifySubscribers(i,d)),e=t,A=null,f=0})}}(),e.apply(this,arguments)},r.sb=function(t,i,n){function e(t,i,n){return r[r.length]={status:t,value:i,index:n}}if(l&&!f){var r=[],s=t.length,o=n.length,h=0;switch(i){case"push":h=s;case"unshift":for(i=0;i<o;i++)e("added",n[i],h+i);break;case"pop":h=s-1;case"shift":s&&e("deleted",t[h],h);break;case"splice":i=Math.min(Math.max(0,n[0]<0?s+n[0]:n[0]),s),s=1===o?s:Math.min(i+(n[1]||0),s),o=i+o-2,h=Math.max(s,o);for(var c=[],a=[],u=2;i<h;++i,++u)i<s&&a.push(e("deleted",t[i],i)),i<o&&c.push(e("added",n[u],i));M.a.wb(a,c);break;default:return}A=r}}}},M.s=M.j=function(t,s,i){function n(){M.a.G(j,function(t,i){i.K()}),j={}}function e(){n(),l=!(d=!(C=0))}function o(){var t=h.throttleEvaluation;t&&0<=t?(clearTimeout(I),I=setTimeout(r,t)):h.ib?h.ib():r()}function r(t){if(A){if(w)throw Error("A 'pure' computed must not be called recursively")}else if(!d){if(E&&E()){if(!f)return void B()}else f=!1;if(A=!0,m)try{var n={};M.k.Ea({wa:function(t,i){n[i]||(n[i]=1,++C)},s:h,ma:F}),C=0,u=g.call(s)}finally{M.k.end(),A=!1}else try{var e=j,r=C;M.k.Ea({wa:function(t,i){d||(r&&e[i]?(j[i]=e[i],++C,delete e[i],--r):j[i]||(j[i]=t.U(o),++C))},s:h,ma:w?F:!C}),j={},C=0;try{var i=s?g.call(s):g()}finally{M.k.end(),r&&M.a.G(e,function(t,i){i.K()}),l=!1}h.Pa(u,i)&&(h.notifySubscribers(u,"beforeChange"),u=i,!0!==t&&h.notifySubscribers(u))}finally{A=!1}C||B()}}function h(){if(0<arguments.length){if("function"!=typeof b)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return b.apply(s,arguments),this}return M.k.Jb(h),l&&r(!0),u}function c(){return l&&!C&&r(!0),u}function a(){return l||0<C}var u,l=!0,A=!1,f=!1,d=!1,g=t,w=!1,m=!1;if(g&&"object"==typeof g?g=(i=g).read:(i=i||{},g||(g=i.read)),"function"!=typeof g)throw Error("Pass a function that returns the value of the ko.computed");var b=i.write,v=i.disposeWhenNodeIsRemoved||i.o||null,p=i.disposeWhen||i.Ia,E=p,B=e,j={},C=0,I=null;s||(s=i.owner),M.P.call(h),M.a.Aa(h,M.j.fn),h.v=c,h.la=function(){return C},h.hc="function"==typeof i.write,h.K=function(){B()},h.Z=a;var Q=h.Ta;return h.Ta=function(t){Q.call(h,t),h.ib=function(){h.kb(u),l=!0,h.lb(h)}},i.pure?(m=w=!0,h.va=function(){m&&r(!(m=!1))},h.nb=function(){h.yb()||(n(),m=l=!0)}):i.deferEvaluation&&(h.va=function(){c(),delete h.va}),M.A(h,"peek",h.v),M.A(h,"dispose",h.K),M.A(h,"isActive",h.Z),M.A(h,"getDependenciesCount",h.la),v&&(f=!0,v.nodeType&&(E=function(){return!M.a.Ja(v)||p&&p()})),m||i.deferEvaluation||r(),v&&a()&&v.nodeType&&(B=function(){M.a.w.Kb(v,B),e()},M.a.w.da(v,B)),h},M.jc=function(t){return M.Ma(t,M.j)},a=M.p.rc,M.j[a]=M.p,M.j.fn={equalityComparer:n},M.j.fn[a]=M.j,M.a.xa&&M.a.za(M.j.fn,M.P.fn),M.b("dependentObservable",M.j),M.b("computed",M.j),M.b("isComputed",M.jc),M.Ib=function(t,i){return"function"==typeof t?M.s(t,i,{pure:!0}):((t=M.a.extend({},t)).pure=!0,M.s(t,i))},M.b("pureComputed",M.Ib),function(){function i(){this.keys=[],this.hb=[]}M.Qb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return function e(r,s,o){if(o=o||new i,"object"!=typeof(r=s(r))||null===r||r===F||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var h=r instanceof Array?[]:{};return o.save(r,h),function(t,i){if(t instanceof Array){for(var n=0;n<t.length;n++)i(n);"function"==typeof t.toJSON&&i("toJSON")}else for(n in t)i(n)}(r,function(t){var i=s(r[t]);switch(typeof i){case"boolean":case"number":case"string":case"function":h[t]=i;break;case"object":case"undefined":var n=o.get(i);h[t]=n!==F?n:e(i,s,o)}}),h}(t,function(t){for(var i=0;M.C(t)&&i<10;i++)t=t();return t})},M.toJSON=function(t,i,n){return t=M.Qb(t),M.a.eb(t,i,n)},i.prototype={save:function(t,i){var n=M.a.m(this.keys,t);0<=n?this.hb[n]=i:(this.keys.push(t),this.hb.push(i))},get:function(t){return 0<=(t=M.a.m(this.keys,t))?this.hb[t]:F}}}(),M.b("toJS",M.Qb),M.b("toJSON",M.toJSON),M.i={q:function(t){switch(M.a.t(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?M.a.e.get(t,M.d.options.Va):M.a.L<=7?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?M.i.q(t.options[t.selectedIndex]):F;default:return t.value}},ca:function(t,i,n){switch(M.a.t(t)){case"option":switch(typeof i){case"string":M.a.e.set(t,M.d.options.Va,F),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=i;break;default:M.a.e.set(t,M.d.options.Va,i),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof i?i:""}break;case"select":""!==i&&null!==i||(i=F);for(var e,r=-1,s=0,o=t.options.length;s<o;++s)if((e=M.i.q(t.options[s]))==i||""==e&&i===F){r=s;break}(n||0<=r||i===F&&1<t.size)&&(t.selectedIndex=r);break;default:null!==i&&i!==F||(i=""),t.value=i}}},M.b("selectExtensions",M.i),M.b("selectExtensions.readValue",M.i.q),M.b("selectExtensions.writeValue",M.i.ca),M.h=function(){function e(t){123===(t=M.a.cb(t)).charCodeAt(0)&&(t=t.slice(1,-1));var i,n,e=[],r=t.match(l),s=0;if(r){r.push(",");for(var o,h=0;o=r[h];++h){var c=o.charCodeAt(0);if(44===c){if(s<=0){i&&e.push(n?{key:i,value:n.join("")}:{unknown:i}),i=n=s=0;continue}}else if(58===c){if(!n)continue}else if(47===c&&h&&1<o.length)(c=r[h-1].match(A))&&!f[c[0]]&&((r=(t=t.substr(t.indexOf(o)+1)).match(l)).push(","),h=-1,o="/");else if(40===c||123===c||91===c)++s;else if(41===c||125===c||93===c)--s;else if(!i&&!n){i=34===c||39===c?o.slice(1,-1):o;continue}n?n.push(o):n=[o]}}return e}var a=["true","false","null","undefined"],u=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,l=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),A=/[\])"'A-Za-z0-9_$]+$/,f={in:1,return:1,typeof:1},d={};return{ha:[],V:d,Wa:e,ya:function(t,i){function r(t,i){var n;if(!c){var e=M.getBindingHandler(t);if(e&&e.preprocess&&!(i=e.preprocess(i,t,r)))return;(e=d[t])&&(n=i,e=n=!(0<=M.a.m(a,n))&&null!==(e=n.match(u))&&(e[1]?"Object("+e[1]+")"+e[2]:n)),e&&o.push("'"+t+"':function(_z){"+n+"=_z}")}h&&(i="function(){return "+i+" }"),s.push("'"+t+"':"+i)}var s=[],o=[],h=(i=i||{}).valueAccessors,c=i.bindingParams,n="string"==typeof t?e(t):t;return M.a.u(n,function(t){r(t.key||t.unknown,t.value)}),o.length&&r("_ko_property_writers","{"+o.join(",")+" }"),s.join(",")},lc:function(t,i){for(var n=0;n<t.length;n++)if(t[n].key==i)return!0;return!1},pa:function(t,i,n,e,r){t&&M.C(t)?!M.Ra(t)||r&&t.v()===e||t(e):(t=i.get("_ko_property_writers"))&&t[n]&&t[n](e)}}}(),M.b("expressionRewriting",M.h),M.b("expressionRewriting.bindingRewriteValidators",M.h.ha),M.b("expressionRewriting.parseObjectLiteral",M.h.Wa),M.b("expressionRewriting.preProcessBindings",M.h.ya),M.b("expressionRewriting._twoWayBindings",M.h.V),M.b("jsonExpressionRewriting",M.h),M.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",M.h.ya),function(){function s(t){return 8==t.nodeType&&n.test(i?t.text:t.nodeValue)}function o(t){return 8==t.nodeType&&r.test(i?t.text:t.nodeValue)}function e(t,i){for(var n=t,e=1,r=[];n=n.nextSibling;){if(o(n)&&0==--e)return r;r.push(n),s(n)&&e++}if(!i)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function h(t,i){var n=e(t,i);return n?0<n.length?n[n.length-1].nextSibling:t.nextSibling:null}var i=w&&"\x3c!--test--\x3e"===w.createComment("test").text,n=i?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,r=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};M.f={Q:{},childNodes:function(t){return s(t)?e(t):t.childNodes},ja:function(t){if(s(t))for(var i=0,n=(t=M.f.childNodes(t)).length;i<n;i++)M.removeNode(t[i]);else M.a.Ka(t)},T:function(t,i){if(s(t)){M.f.ja(t);for(var n=t.nextSibling,e=0,r=i.length;e<r;e++)n.parentNode.insertBefore(i[e],n)}else M.a.T(t,i)},Hb:function(t,i){s(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},Bb:function(t,i,n){n?s(t)?t.parentNode.insertBefore(i,n.nextSibling):n.nextSibling?t.insertBefore(i,n.nextSibling):t.appendChild(i):M.f.Hb(t,i)},firstChild:function(t){return s(t)?!t.nextSibling||o(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return s(t)&&(t=h(t)),t.nextSibling&&o(t.nextSibling)?null:t.nextSibling},gc:s,xc:function(t){return(t=(i?t.text:t.nodeValue).match(n))?t[1]:null},Fb:function(t){if(c[M.a.t(t)]){var i=t.firstChild;if(i)do{if(1===i.nodeType){var n,e=null;if(n=i.firstChild)do{if(e)e.push(n);else if(s(n)){var r=h(n,!0);r?n=r:e=[n]}else o(n)&&(e=[n])}while(n=n.nextSibling);if(n=e)for(e=i.nextSibling,r=0;r<n.length;r++)e?t.insertBefore(n[r],e):t.appendChild(n[r])}}while(i=i.nextSibling)}}}}(),M.b("virtualElements",M.f),M.b("virtualElements.allowedBindings",M.f.Q),M.b("virtualElements.emptyNode",M.f.ja),M.b("virtualElements.insertAfter",M.f.Bb),M.b("virtualElements.prepend",M.f.Hb),M.b("virtualElements.setDomNodeChildren",M.f.T),M.J=function(){this.Yb={}},M.a.extend(M.J.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||M.g.getComponentNameForNode(t);case 8:return M.f.gc(t);default:return!1}},getBindings:function(t,i){var n=(n=this.getBindingsString(t,i))?this.parseBindingsString(n,i,t):null;return M.g.mb(n,t,i,!1)},getBindingAccessors:function(t,i){var n=(n=this.getBindingsString(t,i))?this.parseBindingsString(n,i,t,{valueAccessors:!0}):null;return M.g.mb(n,t,i,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return M.f.xc(t);default:return null}},parseBindingsString:function(i,t,n,e){try{var r,s=this.Yb,o=i+(e&&e.valueAccessors||"");if(!(r=s[o])){var h,c="with($context){with($data||{}){return{"+M.h.ya(i,e)+"}}}";h=new Function("$context","$element",c),r=s[o]=h}return r(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+i+"\nMessage: "+t.message,t}}}),M.J.instance=new M.J,M.b("bindingProvider",M.J),function(){function e(t){return function(){return t}}function w(t){return t()}function r(n){return M.a.na(M.k.B(n),function(t,i){return function(){return n()[i]}})}function m(t,i){return r(this.getBindings.bind(this,t,i))}function s(t,i,n){var e,r=M.f.firstChild(i),s=M.J.instance,o=s.preprocessNode;if(o){for(;e=r;)r=M.f.nextSibling(e),o.call(s,e);r=M.f.firstChild(i)}for(;e=r;)r=M.f.nextSibling(e),h(t,e,n)}function h(t,i,n){var e=!0,r=1===i.nodeType;r&&M.f.Fb(i),(r&&n||M.J.instance.nodeHasBindings(i))&&(e=o(i,null,t,n).shouldBindDescendants),e&&!a[M.a.t(i)]&&s(t,i,!r)}function o(r,t,s,i){var o,h,e,c,a,u,n=M.a.e.get(r,b);if(!t){if(n)throw Error("You cannot apply bindings multiple times to the same element.");M.a.e.set(r,b,!0)}if(!n&&i&&M.Ob(r,s),t&&"function"!=typeof t)o=t;else{var l=M.J.instance,A=l.getBindingAccessors||m,f=M.j(function(){return(o=t?t(s,r):A.call(l,r,s))&&s.I&&s.I(),o},null,{o:r});o&&f.Z()||(f=null)}if(o){var d=f?function(t){return function(){return w(f()[t])}}:function(t){return o[t]},g=function(){return M.a.na(f?f():o,w)};g.get=function(t){return o[t]&&w(d(t))},g.has=function(t){return t in o},e=o,c=[],a={},u=[],M.a.G(e,function i(t){if(!a[t]){var n=M.getBindingHandler(t);n&&(n.after&&(u.push(t),M.a.u(n.after,function(t){if(e[t]){if(-1!==M.a.m(u,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+u.join(", "));i(t)}}),u.length--),c.push({key:t,zb:n})),a[t]=!0}}),i=c,M.a.u(i,function(t){var i=t.zb.init,n=t.zb.update,e=t.key;if(8===r.nodeType&&!M.f.Q[e])throw Error("The binding '"+e+"' cannot be used with virtual elements");try{"function"==typeof i&&M.k.B(function(){var t=i(r,d(e),g,s.$data,s);if(t&&t.controlsDescendantBindings){if(h!==F)throw Error("Multiple bindings ("+h+" and "+e+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=e}}),"function"==typeof n&&M.j(function(){n(r,d(e),g,s.$data,s)},null,{o:r})}catch(t){throw t.message='Unable to process binding "'+e+": "+o[e]+'"\nMessage: '+t.message,t}})}return{shouldBindDescendants:h===F}}function c(t){return t&&t instanceof M.N?t:new M.N(t)}M.d={};var a={script:!0};M.getBindingHandler=function(t){return M.d[t]},M.N=function(n,e,r,s){var i,o=this,h="function"==typeof n&&!M.C(n),c=M.j(function(){var t=h?n():n,i=M.a.c(t);return e?(e.I&&e.I(),M.a.extend(o,e),c&&(o.I=c)):(o.$parents=[],o.$root=i,o.ko=M),o.$rawData=t,o.$data=i,r&&(o[r]=i),s&&s(o,e,i),o.$data},null,{Ia:function(){return i&&!M.a.ob(i)},o:!0});c.Z()&&((o.I=c).equalityComparer=null,i=[],c.Tb=function(t){i.push(t),M.a.w.da(t,function(t){M.a.ua(i,t),i.length||(c.K(),o.I=c=F)})})},M.N.prototype.createChildContext=function(t,i,n){return new M.N(t,this,i,function(t,i){t.$parentContext=i,t.$parent=i.$data,t.$parents=(i.$parents||[]).slice(0),t.$parents.unshift(t.$parent),n&&n(t)})},M.N.prototype.extend=function(n){return new M.N(this.I||this.$data,this,null,function(t,i){t.$rawData=i.$rawData,M.a.extend(t,"function"==typeof n?n():n)})};var b=M.a.e.F(),n=M.a.e.F();M.Ob=function(t,i){if(2!=arguments.length)return M.a.e.get(t,n);M.a.e.set(t,n,i),i.I&&i.I.Tb(t)},M.ra=function(t,i,n){return 1===t.nodeType&&M.f.Fb(t),o(t,i,c(n),!0)},M.Wb=function(t,i,n){return n=c(n),M.ra(t,"function"==typeof i?r(i.bind(null,n,t)):M.a.na(i,e),n)},M.Ca=function(t,i){1!==i.nodeType&&8!==i.nodeType||s(c(t),i,!0)},M.pb=function(t,i){if(!v&&g.jQuery&&(v=g.jQuery),i&&1!==i.nodeType&&8!==i.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||g.document.body,h(c(t),i,!0)},M.Ha=function(t){switch(t.nodeType){case 1:case 8:var i=M.Ob(t);if(i)return i;if(t.parentNode)return M.Ha(t.parentNode)}return F},M.$b=function(t){return(t=M.Ha(t))?t.$data:F},M.b("bindingHandlers",M.d),M.b("applyBindings",M.pb),M.b("applyBindingsToDescendants",M.Ca),M.b("applyBindingAccessorsToNode",M.ra),M.b("applyBindingsToNode",M.Wb),M.b("contextFor",M.Ha),M.b("dataFor",M.$b)}(),function(a){function u(i,n,e,r){r||(r=M.g.loaders.slice(0));var t=r.shift();if(t){var s=t[i];if(s){var o=!1;if(s.apply(t,n.concat(function(t){o?e(null):null!==t?e(t):u(i,n,e,r)}))!==a&&(o=!0,!t.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else u(i,n,e,r)}else e(null)}var l={},A={};M.g={get:function(t,i){var n,e,r,s,o,h,c=A.hasOwnProperty(t)?A[t]:a;c?setTimeout(function(){i(c)},0):(n=t,e=i,(h=l.hasOwnProperty(n)?l[n]:a)||(h=l[n]=new M.P,o=function(t){A[n]=t,delete l[n],r?h.notifySubscribers(t):setTimeout(function(){h.notifySubscribers(t)},0)},u("getConfig",[s=n],function(t){t?u("loadComponent",[s,t],function(t){o(t)}):o(null)}),r=!0),h.U(e))},tb:function(t){delete A[t]},jb:u},M.g.loaders=[],M.b("components",M.g),M.b("components.get",M.g.get),M.b("components.clearCachedDefinition",M.g.tb)}(),function(){function r(t){switch(M.a.t(t)){case"script":return M.a.ba(t.text);case"textarea":return M.a.ba(t.value);case"template":if(s(t.content))return M.a.ia(t.content.childNodes)}return M.a.ia(t.childNodes)}function s(t){return g.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function c(t,i,n){"string"==typeof i.require?e||g.require?(e||g.require)([i.require],n):t("Uses require, but no AMD loader is present"):n(i)}function o(i){return function(t){throw Error("Component '"+i+"': "+t)}}var n={};M.g.tc=function(t,i){if(!i)throw Error("Invalid configuration for "+t);if(M.g.Qa(t))throw Error("Component "+t+" is already registered");n[t]=i},M.g.Qa=function(t){return t in n},M.g.wc=function(t){delete n[t],M.g.tb(t)},M.g.ub={getConfig:function(t,i){i(n.hasOwnProperty(t)?n[t]:null)},loadComponent:function(i,t,n){var e=o(i);c(e,t,function(t){!function(i,t,n,e){function r(){0==--o&&e(s)}var s={},o=2,h=n.template;n=n.viewModel,h?c(t,h,function(t){M.g.jb("loadTemplate",[i,t],function(t){s.template=t,r()})}):r(),n?c(t,n,function(t){M.g.jb("loadViewModel",[i,t],function(t){s[a]=t,r()})}):r()}(i,e,t,n)})},loadTemplate:function(t,i,n){if(t=o(t),"string"==typeof i)n(M.a.ba(i));else if(i instanceof Array)n(i);else if(s(i))n(M.a.S(i.childNodes));else if(i.element)if(i=i.element,g.HTMLElement?i instanceof HTMLElement:i&&i.tagName&&1===i.nodeType)n(r(i));else if("string"==typeof i){var e=w.getElementById(i);e?n(r(e)):t("Cannot find element with ID "+i)}else t("Unknown element type: "+i);else t("Unknown template value: "+i)},loadViewModel:function(t,i,n){!function t(i,n,e){if("function"==typeof n)e(function(t){return new n(t)});else if("function"==typeof n[a])e(n[a]);else if("instance"in n){var r=n.instance;e(function(){return r})}else"viewModel"in n?t(i,n.viewModel,e):i("Unknown viewModel value: "+n)}(o(t),i,n)}};var a="createViewModel";M.b("components.register",M.g.tc),M.b("components.isRegistered",M.g.Qa),M.b("components.unregister",M.g.wc),M.b("components.defaultLoader",M.g.ub),M.g.loaders.push(M.g.ub),M.g.Ub=n}(),function(){M.g.getComponentNameForNode=function(t){return t=M.a.t(t),M.g.Qa(t)&&t},M.g.mb=function(t,i,n,e){if(1===i.nodeType){var r=M.g.getComponentNameForNode(i);if(r){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var s={name:r,params:function(i,t){if(n=i.getAttribute("params")){var n=o.parseBindingsString(n,t,i,{valueAccessors:!0,bindingParams:!0}),e=(n=M.a.na(n,function(t){return M.s(t,null,{o:i})}),M.a.na(n,function(t){return t.Z()?M.s(function(){return M.a.c(t())},null,{o:i}):t.v()}));return e.hasOwnProperty("$raw")||(e.$raw=n),e}return{$raw:{}}}(i,n)};t.component=e?function(){return s}:s}}return t};var e,i,o=new M.J;M.a.L<9&&(M.g.register=(i=M.g.register,function(t){return w.createElement(t),i.apply(this,arguments)}),w.createDocumentFragment=(e=w.createDocumentFragment,function(){var t,i=e(),n=M.g.Ub;for(t in n)n.hasOwnProperty(t)&&i.createElement(t);return i}))}(),l=0,M.d.component={init:function(o,i,t,n,h){function c(){var t=a&&a.dispose;"function"==typeof t&&t.call(a),u=null}var a,u;return M.a.w.da(o,c),M.s(function(){var e,r,t=M.a.c(i());if("string"==typeof t?e=t:(e=M.a.c(t.name),r=M.a.c(t.params)),!e)throw Error("No component name specified");var s=u=++l;M.g.get(e,function(t){if(u===s){if(c(),!t)throw Error("Unknown component '"+e+"'");if(!(i=t.template))throw Error("Component '"+e+"' has no template");i=M.a.ia(i),M.f.T(o,i);var i=r,n=t.createViewModel;t=n?n.call(t,i,{element:o}):i,i=h.createChildContext(t),a=t,M.Ca(i,o)}})},null,{o:o}),{controlsDescendantBindings:!0}}},M.f.Q.component=!0;var A={class:"className",for:"htmlFor"};M.d.attr={update:function(e,t){var i=M.a.c(t())||{};M.a.G(i,function(t,i){var n=!1===(i=M.a.c(i))||null===i||i===F;n&&e.removeAttribute(t),M.a.L<=8&&t in A?(t=A[t],n?e.removeAttribute(t):e[t]=i):n||e.setAttribute(t,i.toString()),"name"===t&&M.a.Mb(e,n?"":i.toString())})}},M.d.checked={after:["value","attr"],init:function(e,r,s){function t(){var t=e.checked,i=u?o():t;if(!M.Y.ma()&&(!h||t)){var n=M.k.B(r);c?a!==i?(t&&(M.a.ea(n,i,!0),M.a.ea(n,a,!1)),a=i):M.a.ea(n,i,t):M.h.pa(n,s,"checked",i,!0)}}var o=M.Ib(function(){return s.has("checkedValue")?M.a.c(s.get("checkedValue")):s.has("value")?M.a.c(s.get("value")):e.value}),i="checkbox"==e.type,h="radio"==e.type;if(i||h){var c=i&&M.a.c(r())instanceof Array,a=c?o():F,u=h||c;h&&!e.name&&M.d.uniqueName.init(e,function(){return!0}),M.s(t,null,{o:e}),M.a.n(e,"click",t),M.s(function(){var t=M.a.c(r());e.checked=c?0<=M.a.m(t,o()):i?t:o()===t},null,{o:e})}}},M.h.V.checked=!0,M.d.checkedValue={update:function(t,i){t.value=M.a.c(i())}},M.d.css={update:function(n,t){var i=M.a.c(t());"object"==typeof i?M.a.G(i,function(t,i){i=M.a.c(i),M.a.Ba(n,t,i)}):(i=String(i||""),M.a.Ba(n,n.__ko__cssValue,!1),n.__ko__cssValue=i,M.a.Ba(n,i,!0))}},M.d.enable={update:function(t,i){var n=M.a.c(i());n&&t.disabled?t.removeAttribute("disabled"):n||t.disabled||(t.disabled=!0)}},M.d.disable={update:function(t,i){M.d.enable.update(t,function(){return!M.a.c(i())})}},M.d.event={init:function(t,s,o,h,c){var i=s()||{};M.a.G(i,function(r){"string"==typeof r&&M.a.n(t,r,function(t){var i,n=s()[r];if(n){try{var e=M.a.S(arguments);h=c.$data,e.unshift(h),i=n.apply(h,e)}finally{!0!==i&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===o.get(r+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},M.d.foreach={Eb:function(n){return function(){var t=n(),i=M.a.Xa(t);return i&&"number"!=typeof i.length?(M.a.c(t),{foreach:i.data,as:i.as,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,beforeMove:i.beforeMove,afterMove:i.afterMove,templateEngine:M.O.Oa}):{foreach:t,templateEngine:M.O.Oa}}},init:function(t,i){return M.d.template.init(t,M.d.foreach.Eb(i))},update:function(t,i,n,e,r){return M.d.template.update(t,M.d.foreach.Eb(i),n,e,r)}},M.h.ha.foreach=!1,M.f.Q.foreach=!0,M.d.hasfocus={init:function(e,r,s){function t(t){e.__ko_hasfocusUpdating=!0;var i=e.ownerDocument;if("activeElement"in i){var n;try{n=i.activeElement}catch(t){n=i.body}t=n===e}i=r(),M.h.pa(i,s,"hasfocus",t,!0),e.__ko_hasfocusLastValue=t,e.__ko_hasfocusUpdating=!1}var i=t.bind(null,!0),n=t.bind(null,!1);M.a.n(e,"focus",i),M.a.n(e,"focusin",i),M.a.n(e,"blur",n),M.a.n(e,"focusout",n)},update:function(t,i){var n=!!M.a.c(i());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===n||(n?t.focus():t.blur(),M.k.B(M.a.oa,null,[t,n?"focusin":"focusout"]))}},M.h.V.hasfocus=!0,M.d.hasFocus=M.d.hasfocus,M.h.V.hasFocus=!0,M.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i){M.a.$a(t,i())}},i("if"),i("ifnot",!1,!0),i("with",!0,!1,function(t,i){return t.createChildContext(i)});var f={};M.d.options={init:function(t){if("select"!==M.a.t(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,r){function i(){return M.a.ta(e.options,function(t){return t.selected})}function s(t,i,n){var e=typeof i;return"function"==e?i(t):"string"==e?t[i]:n}function n(t,i){if(h.length){var n=0<=M.a.m(h,M.i.q(i[0]));M.a.Nb(i[0],n),l&&!n&&M.k.B(M.a.oa,null,[e,"change"])}}var o,h,c=0!=e.length&&e.multiple?e.scrollTop:null,a=M.a.c(t()),u=r.get("optionsIncludeDestroyed");t={},h=e.multiple?M.a.Da(i(),M.i.q):0<=e.selectedIndex?[M.i.q(e.options[e.selectedIndex])]:[],a&&(void 0===a.length&&(a=[a]),o=M.a.ta(a,function(t){return u||t===F||null===t||!M.a.c(t._destroy)}),r.has("optionsCaption")&&null!==(a=M.a.c(r.get("optionsCaption")))&&a!==F&&o.unshift(f));var l=!1;t.beforeRemove=function(t){e.removeChild(t)},a=n,r.has("optionsAfterRender")&&(a=function(t,i){n(0,i),M.k.B(r.get("optionsAfterRender"),null,[i[0],t!==f?t:F])}),M.a.Za(e,o,function(t,i,n){return n.length&&(h=n[0].selected?[M.i.q(n[0])]:[],l=!0),i=e.ownerDocument.createElement("option"),t===f?(M.a.bb(i,r.get("optionsCaption")),M.i.ca(i,F)):(n=s(t,r.get("optionsValue"),t),M.i.ca(i,M.a.c(n)),t=s(t,r.get("optionsText"),n),M.a.bb(i,t)),[i]},t,a),M.k.B(function(){r.get("valueAllowUnset")&&r.has("value")?M.i.ca(e,M.a.c(r.get("value")),!0):(e.multiple?h.length&&i().length<h.length:h.length&&0<=e.selectedIndex?M.i.q(e.options[e.selectedIndex])!==h[0]:h.length||0<=e.selectedIndex)&&M.a.oa(e,"change")}),M.a.dc(e),c&&20<Math.abs(c-e.scrollTop)&&(e.scrollTop=c)}},M.d.options.Va=M.a.e.F(),M.d.selectedOptions={after:["options","foreach"],init:function(n,e,r){M.a.n(n,"change",function(){var t=e(),i=[];M.a.u(n.getElementsByTagName("option"),function(t){t.selected&&i.push(M.i.q(t))}),M.h.pa(t,r,"selectedOptions",i)})},update:function(t,i){if("select"!=M.a.t(t))throw Error("values binding applies only to SELECT elements");var n=M.a.c(i());n&&"number"==typeof n.length&&M.a.u(t.getElementsByTagName("option"),function(t){var i=0<=M.a.m(n,M.i.q(t));M.a.Nb(t,i)})}},M.h.V.selectedOptions=!0,M.d.style={update:function(n,t){var i=M.a.c(t()||{});M.a.G(i,function(t,i){null!==(i=M.a.c(i))&&i!==F&&!1!==i||(i=""),n.style[t]=i})}},M.d.submit={init:function(e,r,t,i,s){if("function"!=typeof r())throw Error("The value for a submit binding must be a function");M.a.n(e,"submit",function(t){var i,n=r();try{i=n.call(s.$data,e)}finally{!0!==i&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},M.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i){M.a.bb(t,i())}},M.f.Q.text=!0,function(){if(g&&g.navigator)var t=function(t){if(t)return parseFloat(t[1])},a=g.opera&&g.opera.version&&parseInt(g.opera.version()),i=g.navigator.userAgent,u=t(i.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),l=t(i.match(/Firefox\/([^ ]*)/));if(M.a.L<10)var e=M.a.e.F(),r=M.a.e.F(),s=function(t){var i=this.activeElement;(i=i&&M.a.e.get(i,r))&&i(t)},A=function(t,i){var n=t.ownerDocument;M.a.e.get(n,e)||(M.a.e.set(n,e,!0),M.a.n(n,"selectionchange",s)),M.a.e.set(t,r,i)};M.d.textInput={init:function(n,e,i){function t(t,i){M.a.n(n,t,i)}function r(){o||(h=n.value,o=setTimeout(s,4))}function s(){clearTimeout(o),h=o=F;var t=n.value;c!==t&&(c=t,M.h.pa(e(),i,"textInput",t))}var o,h,c=n.value;M.a.L<10?(t("propertychange",function(t){"value"===t.propertyName&&s()}),8==M.a.L&&(t("keyup",s),t("keydown",s)),8<=M.a.L&&(A(n,s),t("dragend",r))):(t("input",s),u<5&&"textarea"===M.a.t(n)?(t("keydown",r),t("paste",r),t("cut",r)):a<11?t("keydown",r):l<4&&(t("DOMAutoComplete",s),t("dragdrop",s),t("drop",s))),t("change",s),M.s(function t(){var i=M.a.c(e());null!==i&&i!==F||(i=""),h!==F&&i===h?setTimeout(t,4):n.value!==i&&(c=i,n.value=i)},null,{o:n})}},M.h.V.textInput=!0,M.d.textinput={preprocess:function(t,i,n){n("textInput",t)}}}(),M.d.uniqueName={init:function(t,i){if(i()){var n="ko_unique_"+ ++M.d.uniqueName.Zb;M.a.Mb(t,n)}}},M.d.uniqueName.Zb=0,M.d.value={after:["options","foreach"],init:function(e,r,s){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var t=["change"],i=s.get("valueUpdate"),n=!1,o=null;i&&("string"==typeof i&&(i=[i]),M.a.ga(t,i),t=M.a.rb(t));var h=function(){o=null,n=!1;var t=r(),i=M.i.q(e);M.h.pa(t,s,"value",i)};!M.a.L||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=M.a.m(t,"propertychange")||(M.a.n(e,"propertychange",function(){n=!0}),M.a.n(e,"focus",function(){n=!1}),M.a.n(e,"blur",function(){n&&h()})),M.a.u(t,function(t){var i=h;M.a.vc(t,"after")&&(i=function(){o=M.i.q(e),setTimeout(h,0)},t=t.substring(5)),M.a.n(e,t,i)});var c=function(){var t=M.a.c(r()),i=M.i.q(e);if(null!==o&&t===o)setTimeout(c,0);else if(t!==i)if("select"===M.a.t(e)){var n=s.get("valueAllowUnset");(i=function(){M.i.ca(e,t,n)})(),n||t===M.i.q(e)?setTimeout(i,0):M.k.B(M.a.oa,null,[e,"change"])}else M.i.ca(e,t)};M.s(c,null,{o:e})}else M.ra(e,{checkedValue:r})},update:function(){}},M.h.V.value=!0,M.d.visible={update:function(t,i){var n=M.a.c(i()),e="none"!=t.style.display;n&&!e?t.style.display="":!n&&e&&(t.style.display="none")}},M.d.click={init:function(t,i,n,e,r){return M.d.event.init.call(this,t,function(){var t={};return t.click=i(),t},n,e,r)}},M.H=function(){},M.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},M.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},M.H.prototype.makeTemplateSource=function(t,i){if("string"==typeof t){var n=(i=i||w).getElementById(t);if(!n)throw Error("Cannot find template with ID "+t);return new M.r.l(n)}if(1==t.nodeType||8==t.nodeType)return new M.r.fa(t);throw Error("Unknown template type: "+t)},M.H.prototype.renderTemplate=function(t,i,n,e){return t=this.makeTemplateSource(t,e),this.renderTemplateSource(t,i,n)},M.H.prototype.isTemplateRewritten=function(t,i){return!1===this.allowTemplateRewriting||this.makeTemplateSource(t,i).data("isRewritten")},M.H.prototype.rewriteTemplate=function(t,i,n){i=i((t=this.makeTemplateSource(t,n)).text()),t.text(i),t.data("isRewritten",!0)},M.b("templateEngine",M.H),M.fb=function(){function o(t,i,n,e){t=M.h.Wa(t);for(var r=M.h.ha,s=0;s<t.length;s++){var o=t[s].key;if(r.hasOwnProperty(o)){var h=r[o];if("function"==typeof h){if(o=h(t[s].value))throw Error(o)}else if(!h)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+M.h.ya(t,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",e.createJavaScriptEvaluatorBlock(n)+i}var i=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(t,i,n){i.isTemplateRewritten(t,n)||i.rewriteTemplate(t,function(t){return M.fb.nc(t,i)},n)},nc:function(t,s){return t.replace(i,function(t,i,n,e,r){return o(r,i,n,s)}).replace(n,function(t,i){return o(i,"\x3c!-- ko --\x3e","#comment",s)})},Xb:function(e,r){return M.D.Ua(function(t,i){var n=t.nextSibling;n&&n.nodeName.toLowerCase()===r&&M.ra(n,e,i)})}}}(),M.b("__tr_ambtns",M.fb.Xb),function(){M.r={},M.r.l=function(t){this.l=t},M.r.l.prototype.text=function(){var t="script"===(t=M.a.t(this.l))?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.l[t];var i=arguments[0];"innerHTML"===t?M.a.$a(this.l,i):this.l[t]=i};var i=M.a.e.F()+"_";M.r.l.prototype.data=function(t){if(1===arguments.length)return M.a.e.get(this.l,i+t);M.a.e.set(this.l,i+t,arguments[1])};var n=M.a.e.F();M.r.fa=function(t){this.l=t},M.r.fa.prototype=new M.r.l,M.r.fa.prototype.text=function(){if(0==arguments.length){var t=M.a.e.get(this.l,n)||{};return t.gb===F&&t.Ga&&(t.gb=t.Ga.innerHTML),t.gb}M.a.e.set(this.l,n,{gb:arguments[0]})},M.r.l.prototype.nodes=function(){if(0==arguments.length)return(M.a.e.get(this.l,n)||{}).Ga;M.a.e.set(this.l,n,{Ga:arguments[0]})},M.b("templateSources",M.r),M.b("templateSources.domElement",M.r.l),M.b("templateSources.anonymousTemplate",M.r.fa)}(),function(){function e(t,i,n){var e;for(i=M.f.nextSibling(i);t&&(e=t)!==i;)n(e,t=M.f.nextSibling(e))}function a(t,i){if(t.length){var r=t[0],s=t[t.length-1],n=r.parentNode,o=M.J.instance,h=o.preprocessNode;if(h){if(e(r,s,function(t,i){var n=t.previousSibling,e=h.call(o,t);e&&(t===r&&(r=e[0]||i),t===s&&(s=e[e.length-1]||n))}),t.length=0,!r)return;r===s?t.push(r):(t.push(r,s),M.a.ka(t,n))}e(r,s,function(t){1!==t.nodeType&&8!==t.nodeType||M.pb(i,t)}),e(r,s,function(t){1!==t.nodeType&&8!==t.nodeType||M.D.Sb(t,[i])}),M.a.ka(t,n)}}function c(t){return t.nodeType?t:0<t.length?t[0]:null}function u(t,i,n,e,r){r=r||{};var s=(s=t&&c(t))&&s.ownerDocument,o=r.templateEngine||l;if(M.fb.ec(n,o,s),"number"!=typeof(n=o.renderTemplate(n,e,r,s)).length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(s=!1,i){case"replaceChildren":M.f.T(t,n),s=!0;break;case"replaceNode":M.a.Lb(t,n),s=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+i)}return s&&(a(n,e),r.afterRender&&M.k.B(r.afterRender,null,[n,e.$data])),n}var l;M.ab=function(t){if(t!=F&&!(t instanceof M.H))throw Error("templateEngine must inherit from ko.templateEngine");l=t},M.Ya=function(n,e,r,s,o){if(((r=r||{}).templateEngine||l)==F)throw Error("Set a template engine before calling renderTemplate");if(o=o||"replaceChildren",s){var h=c(s);return M.j(function(){var t=e&&e instanceof M.N?e:new M.N(M.a.c(e)),i=M.C(n)?n():"function"==typeof n?n(t.$data,t):n;t=u(s,o,i,t,r),"replaceNode"==o&&(h=c(s=t))},null,{Ia:function(){return!h||!M.a.Ja(h)},o:h&&"replaceNode"==o?h.parentNode:h})}return M.D.Ua(function(t){M.Ya(n,e,r,t,"replaceNode")})},M.uc=function(n,i,e,r,s){function o(t,i){a(i,c),e.afterRender&&e.afterRender(i,t)}function h(t,i){return c=s.createChildContext(t,e.as,function(t){t.$index=i}),u(null,"ignoreTargetNode",M.C(n)?n():"function"==typeof n?n(t,c):n,c,e)}var c;return M.j(function(){var t=M.a.c(i)||[];void 0===t.length&&(t=[t]),t=M.a.ta(t,function(t){return e.includeDestroyed||t===F||null===t||!M.a.c(t._destroy)}),M.k.B(M.a.Za,null,[r,t,h,e,o])},null,{o:r})};var h=M.a.e.F();M.d.template={init:function(t,i){var n=M.a.c(i());return"string"==typeof n||n.name?M.f.ja(t):(n=M.f.childNodes(t),n=M.a.oc(n),new M.r.fa(t).nodes(n)),{controlsDescendantBindings:!0}},update:function(t,i,n,e,r){var s,o=i();n=!0,e=null,"string"==typeof(i=M.a.c(o))?i={}:(o=i.name,"if"in i&&(n=M.a.c(i.if)),n&&"ifnot"in i&&(n=!M.a.c(i.ifnot)),s=M.a.c(i.data)),"foreach"in i?e=M.uc(o||t,n&&i.foreach||[],i,t,r):n?(r="data"in i?r.createChildContext(s,i.as):r,e=M.Ya(o||t,r,i,t)):M.f.ja(t),r=e,(s=M.a.e.get(t,h))&&"function"==typeof s.K&&s.K(),M.a.e.set(t,h,r&&r.Z()?r:F)}},M.h.ha.template=function(t){return 1==(t=M.h.Wa(t)).length&&t[0].unknown||M.h.lc(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},M.f.Q.template=!0}(),M.b("setTemplateEngine",M.ab),M.b("renderTemplate",M.Ya),M.a.wb=function(t,i,n){var e,r,s,o,h;if(t.length&&i.length)for(e=r=0;(!n||e<n)&&(o=t[r]);++r){for(s=0;h=i[s];++s)if(o.value===h.value){o.moved=h.index,h.moved=o.index,i.splice(s,1),e=s=0;break}e+=s}},M.a.Fa=function(){function e(t,i,n,e,r){var s,o,h,c,a,u=Math.min,l=Math.max,A=[],f=t.length,d=i.length,g=d-f||1,w=f+d+1;for(s=0;s<=f;s++)for(c=h,A.push(h=[]),a=u(d,s+g),o=l(0,s-1);o<=a;o++)h[o]=o?s?t[s-1]===i[o-1]?c[o-1]:u(c[o]||w,h[o-1]||w)+1:o+1:s+1;for(u=[],l=[],g=[],s=f,o=d;s||o;)d=A[s][o]-1,o&&d===A[s][o-1]?l.push(u[u.length]={status:n,value:i[--o],index:o}):s&&d===A[s-1][o]?g.push(u[u.length]={status:e,value:t[--s],index:s}):(--o,--s,r.sparse||u.push({status:"retained",value:i[o]}));return M.a.wb(l,g,10*f),u.reverse()}return function(t,i,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},i=i||[],(t=t||[]).length<=i.length?e(t,i,"added","deleted",n):e(i,t,"deleted","added",n)}}(),M.b("utils.compareArrays",M.a.Fa),function(){function B(i,n,e,r,s){var o=[],t=M.j(function(){var t=n(e,s,M.a.ka(o,i))||[];0<o.length&&(M.a.Lb(o,t),r&&M.k.B(r,null,[e,t,s])),o.length=0,M.a.ga(o,t)},null,{o:i,Ia:function(){return!M.a.ob(o)}});return{$:o,j:t.Z()?t:F}}var j=M.a.e.F();M.a.Za=function(n,t,i,e,r){function s(t,i){m=a[i],d!==i&&(p[t]=m),m.Na(d++),M.a.ka(m.$,n),A.push(m),w.push(m)}function o(i,n){if(i)for(var e=0,t=n.length;e<t;e++)n[e]&&M.a.u(n[e].$,function(t){i(t,e,n[e].sa)})}t=t||[],e=e||{};var h,c=M.a.e.get(n,j)===F,a=M.a.e.get(n,j)||[],u=M.a.Da(a,function(t){return t.sa}),l=M.a.Fa(u,t,e.dontLimitMoves),A=[],f=0,d=0,g=[],w=[];t=[];for(var m,b,v,p=[],E=(u=[],0);b=l[E];E++)switch(v=b.moved,b.status){case"deleted":v===F&&((m=a[f]).j&&m.j.K(),g.push.apply(g,M.a.ka(m.$,n)),e.beforeRemove&&(t[E]=m,w.push(m))),f++;break;case"retained":s(E,f++);break;case"added":v!==F?s(E,v):(m={sa:b.value,Na:M.p(d++)},A.push(m),w.push(m),c||(u[E]=m))}for(o(e.beforeMove,p),M.a.u(g,e.beforeRemove?M.R:M.removeNode),E=0,c=M.f.firstChild(n);m=w[E];E++){for(m.$||M.a.extend(m,B(n,i,m.sa,r,m.Na)),f=0;l=m.$[f];c=l.nextSibling,h=l,f++)l!==c&&M.f.Bb(n,l,h);!m.ic&&r&&(r(m.sa,m.$,m.Na),m.ic=!0)}o(e.beforeRemove,t),o(e.afterMove,p),o(e.afterAdd,u),M.a.e.set(n,j,A)}}(),M.b("utils.setDomNodeChildrenFromArrayMapping",M.a.Za),M.O=function(){this.allowTemplateRewriting=!1},M.O.prototype=new M.H,M.O.prototype.renderTemplateSource=function(t){var i=M.a.L<9||!t.nodes?null:t.nodes();return i?M.a.S(i.cloneNode(!0).childNodes):(t=t.text(),M.a.ba(t))},M.O.Oa=new M.O,M.ab(M.O.Oa),M.b("nativeTemplateEngine",M.O),function(){M.Sa=function(){var r=this.kc=function(){if(!v||!v.tmpl)return 0;try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(t,i,n){if(n=n||{},r<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var e=t.data("precompiled");return e||(e=t.text()||"",e=v.template(null,"{{ko_with $item.koBindingContext}}"+e+"{{/ko_with}}"),t.data("precompiled",e)),t=[i.$data],i=v.extend({koBindingContext:i},n.templateOptions),(i=v.tmpl(e,t,i)).appendTo(w.createElement("div")),v.fragments={},i},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,i){w.write("<script type='text/html' id='"+t+"'>"+i+"<\/script>")},0<r&&(v.tmpl.tag.ko_code={open:"__.push($1 || '');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},M.Sa.prototype=new M.H;var t=new M.Sa;0<t.kc&&M.ab(t),M.b("jqueryTmplTemplateEngine",M.Sa)}()},"function"==typeof require&&"object"==typeof i&&"object"==typeof module?t(module.exports||i,require):"function"==typeof define&&define.amd?define(["exports","require"],t):t(g.ko={})}(),e(jQuery,window,document),f=jQuery,u=window,A=document,(r=function(t,i){this.$originalElement=t,this.options=i,this.metadata=this.$originalElement.data("msos-options"),this.debounceId=null,this.debounceTimeout=5,this.blurTimerId=null,this.blurTimerTimeout=5,this.isIE11=!!u.MSInputMethodContext&&!!A.documentMode,this.isSelectionChanging=!1}).prototype={SOL_OPTION_FORMAT:{type:"option",value:void 0,selected:!1,disabled:!1,label:void 0,tooltip:void 0},SOL_OPTIONGROUP_FORMAT:{type:"optiongroup",label:void 0,tooltip:void 0,disabled:!1,children:void 0},DATA_KEY:"msos-element",WINDOW_EVENTS_KEY:"msos-window-events",defaults:{data:void 0,name:void 0,defaultMaxRowsInCurrentSelections:void 0,accessibilityLabel:void 0,isRTL:void 0,shouldDefaultFocusonInput:void 0,isControlDisabled:!1,key:void 0,texts:{noItemsAvailable:"No entries found",selectAll:"Select all",selectAllDeselect:"{0} items removed",selectAllSelect:"{0} items selected",totalItems:"{0} items",searchPlaceholder:"Select or search options",expand:"+{0}",collapse:"less",viewmodeExpandLabel:"Expand",viewmodeCollapseLabel:"Collapse",resultsFound:"Number of results: {0}",deleteItemLabel:"Remove {0}",expandLabel:"Show {0} more selected items",collapseLabel:"Show fewer selected items",dropdownToggleLabel:"Toggle menu",noItemsSelected:"---",viewmodeItemsSeparator:", ",selectedItemAdded:"{0} added",selectedItemRemoved:"{0} removed",selectedItemsInstructions:"Use the arrow keys to navigate through the list of currently selected items. Press delete or backspace to deselect an item. For touch devices, use swipe and touch gestures to explore the list.",comboboxInstructions:"Use the arrow keys to navigate through the list of items. Press space to select or deselect an item. For touch devices, use swipe and touch gestures to explore this list."},events:{onInitialized:void 0,onRendered:void 0,onOpen:void 0,onClose:void 0,onChange:void 0,onPointerEnter:void 0,onPointerLeave:void 0,onPointerDown:void 0,onPointerUp:void 0,onScroll:void 0},useBracketParameters:!1,multiple:!0,showSelectAll:!0,showSelectionBelowList:!1,allowNullSelection:!1,scrollTarget:f(u),maxHeight:void 0,converter:void 0,labelledBy:void 0,alwaysActive:!1,autoExpandDropdown:!1,fullscreenCombobox:!1},init:function(){this.config=f.extend(!0,{},this.defaults,this.options,this.metadata);var t=this._getNameAttribute();if(t)return this.config.multiple=this.config.multiple||this.$originalElement.attr("multiple"),this._registerWindowEventsIfNeccessary(),this._attachWindowResizeHandler(),this._initializeUiElements(),this._initializeInputEvents(),this._initializeData(),this._populateViewmodeContainer(),this._updateExpandSelectedItemsButtonText(),this.$originalElement.data(this.DATA_KEY,this).removeAttr("name").data("sol-name",t).hide(),this.config.shouldDefaultFocusonInput&&this.$input&&this.$input.focus(),this;this._showErrorLabel("name attribute is required")},_onPointerEnter:function(){if(this.$container.addClass("msos-active"),!this.isSelectionChanging){this.debounceId&&clearTimeout(this.debounceId);var t=this;this.debounceId=setTimeout(function(){t._updateExpandSelectedItemsButtonText()},this.debounceTimeout)}},_onPointerLeave:function(){this.config.alwaysActive||this.$container.hasClass("msos-focused")||(this.$container.removeClass("msos-active"),this._collapseSelectedItemsContainer(),this.debounceId&&clearTimeout(this.debounceId))},_onPointerDown:function(){this._activateControl()},_getNameAttribute:function(){return this.config.name||this.$originalElement.data("sol-name")||this.$originalElement.attr("name")},_showErrorLabel:function(t){var i=f('<div style="color: red; font-weight: bold;" />').html(t);this.$container?this.$container.append(i):i.insertAfter(this.$originalElement)},_attachWindowResizeHandler:function(){f(u).resize(function(t){this._collapseViewmodeContainer(),this.refreshControl(this.getValues())}.bind(this))},_activateControl:function(){this.config.alwaysActive||this.$container.addClass("msos-active msos-focused")},_deactivateControl:function(t){this.isOpen()&&this.close(),this._collapseSelectedItemsContainer(),0<this._getSelectedItemsCount()&&this._updateCurrentlySelectedItem(this._getVisibleSelectedItems().first()),this.config.alwaysActive||this.$container.removeClass("msos-active msos-focused")},_collapseSelectedItemsContainer:function(){this.$currentSelectionContainer.scrollTop(0),this.$selectedItemsContainer.removeClass("msos-selecteditems-expanded"),this._updateExpandSelectedItemsButtonText()},_expandSelectedItemsContainer:function(){this.$selectedItemsContainer.addClass("msos-selecteditems-expanded"),this.$selectedItemsToggleButton.text(this.config.texts.collapse).attr("aria-label",this.config.texts.collapseLabel)},deactivate:function(){this._deactivateControl()},_deactivateOtherControls:function(t){var i=f(t.target),n=i.closest(".msos-inner-container"),e=i.closest(".msos-container");n.length&&e.hasClass("msos-open")||(f(".msos-container.msos-open").each(function(t,i){f(i).data(r.prototype.DATA_KEY).close()}),f(".msos-container.msos-active.msos-focused").not(e).each(function(t,i){f(i).data(r.prototype.DATA_KEY).deactivate()}))},_registerWindowEventsIfNeccessary:function(){u[this.WINDOW_EVENTS_KEY]||(f(A).on("mousedown touchstart",this._deactivateOtherControls),u[this.WINDOW_EVENTS_KEY]=!0)},_initializeUiElements:function(){var s=this;this.internalScrollWrapper=function(){f.isFunction(s.config.events.onScroll)&&s.config.events.onScroll.call(s)},this.$selectedItemsInstructions=f("<div class='msos-a11y' aria-hidden='true' />").attr("id","{0}_selecteditems_instructions".replace("{0}",this.config.key)).text(this.config.texts.selectedItemsInstructions),this.$comboboxInstructions=f("<div class='msos-a11y' aria-hidden='true' />").attr("id","{0}_combobox_instructions".replace("{0}",this.config.key)).text(this.config.texts.comboboxInstructions),this.$alertContainer=f('<div class="msos-alert-text" aria-live="assertive" aria-atomic="true" aria-relevant="additions" />'),this.$input=f('<input id={0}_ledit type="text" class="msos-input" />'.replace("{0}",this.config.key)).attr("placeholder",this.config.texts.searchPlaceholder).attr("aria-label",this.config.accessibilityLabel).attr("aria-autocomplete","list").attr("aria-describedby",this.$comboboxInstructions.attr("id")).on("focus",function(t){s.isClosed()&&s.config.autoExpandDropdown&&s.open()}).click(function(){this.focus()}),this.$noResultsItem=f('<div id={0} class="msos-no-results"/>'.replace("{0}",this.config.key+"_no-results")).text(this.config.texts.noItemsAvailable).addClass("msos-hidden");var t=f("<div class='msos-caret-container' />");this.$caret=f('<button class="msos-caret-button" tabindex="-1"><span class="msos-glyph" /></button>').attr("aria-label",this.config.texts.dropdownToggleLabel).click(function(){s.toggle(!0)}),t.append(this.$caret);var i=f("<div class='msos-filter-container' />"),n=f('<div class="msos-input-container"/>').append(this.$input);if(i.append(n).append(t),this.$innerContainer=f("<div class='msos-inner-container' />").attr("role","combobox").attr("aria-haspopup","true").attr("aria-expanded","false").attr("aria-activedescendant",null).on("mousedown",function(t){if(s.config.fullscreenCombobox&&t.target&&t.target===this)return!1}).append(i),this.$selection=f('<ul class="msos-selected-items msos-selection" role="listbox" tabindex="-1" />').attr("aria-multiselectable",this.config.showSelectAll).attr("aria-labelledby",this.config.labelledBy),this.$selectionContainer=f('<div class="msos-selection-container" />').append(this.$noResultsItem).append(this.$selection).appendTo(this.$innerContainer),this.$container=f('<div id={0}_i class="msos-container" />'.replace("{0}",this.config.key)).data(this.DATA_KEY,this).toggleClass("msos-active msos-focused",this.config.alwaysActive),this.config.isControlDisabled||this.$container.append(this.$alertContainer).append(this.$selectedItemsInstructions).append(this.$comboboxInstructions),this.$container.append(this.$innerContainer).insertBefore(this.$originalElement),this.$selectedItemsContainer=f("<div class='msos-selecteditems-container' />"),this.$selectedItemsToggleContainer=f("<div class='msos-selecteditems-toggle-container' />"),this.$selectedItemsToggleButton=f("<button class='msos-selecteditems-toggle msos-invisible' tabindex='-1' aria-hidden='true' />").text(this.config.texts.expand).on("click",function(){s._toggleSelectedItemsContainerHeight(),s.$currentSelectionContainer.focus()}),this.$selectedItemsToggleContainer.append(this.$selectedItemsToggleButton),this.$currentSelectionContainer=f("<ul class='msos-selecteditems msos-current-selection-normal' />").attr("tabindex",this.config.alwaysActive?"0":"-1").attr("aria-describedby",this.$selectedItemsInstructions.attr("id")).attr("aria-labelledby",this.config.labelledBy).on("focus",function(t){var i=f(this);i.children().removeClass("msos-selecteditem-active");var n=i.attr("aria-activedescendant")||s._getSelectedItems().first().attr("id");if(n){var e=s.formatString("#{0}",n),r=i.find(e).first();r.length&&(r.hasClass("msos-visible")||s.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")||(n=(r=s._getVisibleSelectedItems().first()).attr("id")),r.addClass("msos-selecteditem-active"),i.attr("aria-activedescendant",n))}}).on("blur",function(){f(this).removeClass("msos-selecteditems-focused")}),this.config.showSelectionBelowList?(this.$selectedItemsContainer.append(this.$selectedItemsToggleContainer),this.$selectedItemsContainer.append(this.$currentSelectionContainer)):(this.$selectedItemsContainer.append(this.$currentSelectionContainer),this.$selectedItemsContainer.append(this.$selectedItemsToggleContainer)),this.$selectedItemsContainer.insertBefore(this.$innerContainer),this.$viewmodeContainer=f("<div class='msos-viewmode-container' />"),this.$viewmodeContent=f("<div class='msos-viewmode-content' />"),this.$viewmodeText=f("<div class='msos-viewmode-text' />"),this.$viewmodeContent.append(this.$viewmodeText),this.$viewmodeContainer.append(this.$viewmodeContent),this.$viewmodeButtonContainer=f("<div class='msos-viewmode-button-container' />"),this.$viewmodeExpansionToggle=f("<button class='msos-viewmode-button' aria-hidden='true'><span class='msos-glyph' /></button>").attr("aria-label",this.config.texts.viewmodeExpandLabel).on("click",function(t){s.$viewmodeContainer.toggleClass("msos-viewmode-expanded");var i=f(this);s.$viewmodeContainer.hasClass("msos-viewmode-expanded")?i.attr("aria-label",s.config.texts.viewmodeCollapseLabel):i.attr("aria-label",s.config.texts.viewmodeExpandLabel)}),this.$viewmodeButtonContainer.append(this.$viewmodeExpansionToggle),this.$viewmodeContainer.append(this.$viewmodeButtonContainer),this.$viewmodeContainer.insertBefore(this.$selectedItemsContainer),this.config.multiple&&this.config.showSelectAll){var e='<input type="checkbox" class="msos-checkbox" id={0} tabindex="-1">'.replace("{0}",this.config.key+"_selectAll");this.$selectAllCheckbox=f(e).click(function(t){s._announce(""),s.toggleSelectAll(this)}).on("focus",function(){var t=f(this);t.parent().addClass("msos-option-focused");var i=t.attr("id");s.$innerContainer.attr("aria-activedescendant",i)}).on("blur",function(){var t=f(this);t.parent().removeClass("msos-option-focused");var i=t.attr("id");s.$innerContainer.attr("aria-activedescendant")===i&&s.$innerContainer.attr("aria-activedescendant",null)}).attr("aria-label",this.config.texts.selectAll+" "+this.formatString(this.config.texts.totalItems,this.config.data.length));var r=f(this.formatString('<label name={0} class="msos-label msos-selectall msos-option">',this.config.key+"msos-label")),o='<div class="msos-optionitem-text">{0}</div>'.replace("{0}",this.config.texts.selectAll),h=this.formatString('<div id={0} class="msos-itemcount-text">{1}</div>',this.config.key+"msos-no-of-Items",this.formatString(this.config.texts.totalItems,this.config.data.length));this.$numberOfItemsDiv=f(h);var c=f('<div class="msos-label-text" aria-hidden="true"></div></label>').append(o).append(this.$numberOfItemsDiv),a=f(r).append(this.$selectAllCheckbox).append(c);this.$actionButtons=f('<div class="msos-action-buttons"/>').append(a),this.$selectionContainer.prepend(this.$actionButtons)}this.config.isControlDisabled&&this.toggleControlState(this.config.isControlDisabled),f.isFunction(this.config.events.onRendered)&&this.config.events.onRendered.call(this,this)},_scrollSelectedItemIntoView:function(t){if(t&&t.length&&this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")){var i=t.get(0);if(Element.prototype.scrollIntoViewIfNeeded)i.scrollIntoViewIfNeeded();else{var n=this.$currentSelectionContainer.scrollTop(),e=this.$currentSelectionContainer.outerHeight(!0),r=n,s=n+e,o=i.offsetTop,h=o-parseInt(u.getComputedStyle(i).getPropertyValue("margin-top"),10),c=o+i.offsetHeight;if(r<=h&&c<=s)return;var a=Math.max(h-Math.floor(.5*e),0);this.$currentSelectionContainer.scrollTop(a)}}},_initializeInputEvents:function(){var i=this,t=this.$input.parents("form").first();if(t&&1===t.length&&!t.data(this.WINDOW_EVENTS_KEY)){var n=function(){var r=[];t.find(".msos-option input").each(function(t,i){var n=f(i),e=n.data("msos-item").selected;n.prop("checked")!==e&&(n.prop("checked",e).trigger("change",e),r.push(n))}),0<r.length&&f.isFunction(i.config.events.onChange)&&i.config.events.onChange.call(i,i,r)};t.on("reset",function(t){n.call(i),setTimeout(function(){n.call(i)},100)}),t.data(this.WINDOW_EVENTS_KEY,!0)}this.$input.on("input",function(){i._applySearchTermFilter(),0<(i.$input.val()||"").length&&i.open(),i.repositionFlyOut()}),this.$container.on("focusin",function(t){i.blurTimerId&&clearTimeout(i.blurTimerId),i._onPointerDown()}).on("keydown",function(t){switch(t.keyCode.toString()||t.key||t.code){case"Escape":case"27":i._handleEscape(t);break;case"Tab":case"9":i._handleTab(t);break;case"Enter":case"13":i._handleEnter(t);break;case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":case"Numpad2":case"Numpad4":case"Numpad6":case"Numpad8":case"37":case"38":case"39":case"40":case"98":case"100":case"102":case"104":i._handleArrows(t);break;case"Backspace":case"Delete":case"8":case"46":i._handleDelete(t)}}),this.$container.bind({mouseenter:function(){i._onPointerEnter.call(i),f.isFunction(i.config.events.onPointerEnter)&&i.config.events.onPointerEnter.call(i)},mouseleave:function(){i._onPointerLeave.call(i),f.isFunction(i.config.events.onPointerLeave)&&i.config.events.onPointerLeave.call(i)},mousedown:function(){i._onPointerDown.call(i),f.isFunction(i.config.events.onPointerDown)&&i.config.events.onPointerDown.call(i)},mouseup:function(){f.isFunction(i.config.events.onPointerUp)&&i.config.events.onPointerUp.call(i)}})},_handleTab:function(t){if(!this.config.isControlDisabled){for(var i=this._getFocusableElements(),n=f(A.activeElement),e=0;e<i.length;e++){var r=i[e];if(n.is(r)){var s=t.shiftKey?e-1:e+1;if(i[s])return i[s].focus(),t.preventDefault(),void t.stopPropagation();break}}this.blurTimerId&&clearTimeout(this.blurTimerId);var o=this;this.blurTimerId=setTimeout(function(){o._deactivateControl()},this.blurTimerTimeout)}},_handleEscape:function(t){if(f(A.activeElement).is(this.$currentSelectionContainer)){if(this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")){var i=this.$currentSelectionContainer.attr("aria-activedescendant");f(i).hasClass("msos-visible")||this._updateCurrentlySelectedItem(this._getVisibleSelectedItems().first()),this._collapseSelectedItemsContainer()}t.preventDefault()}else this.isOpen()&&(this.$input.val("").trigger("input").focus(),this.close(),t.preventDefault())},_handleEnter:function(t){var i=f(A.activeElement);return i.is(this.$input)?(this.open(),void t.preventDefault()):i.is(this.$currentSelectionContainer)?(this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")||this._toggleSelectedItemsContainerHeight(),void t.preventDefault()):void 0},_handleArrows:function(t){var i=f(A.activeElement),n=i.is(this.$currentSelectionContainer),e=i.is(this.$input),r=i.hasClass("msos-checkbox");if(n||e||r){var s=this._getArrowKey(t);if(s){var o="left"===s||"up"===s?-1:1,h=null,c=null,a=null;if(e){if("up"!==s&&"down"!==s)return;if(this.$noResultsItem.hasClass("msos-hidden")&&1===o){this.isClosed()&&this.open();var u=this._getFilteredDropdownItemCheckboxes();return u.length&&u.first().focus(),void t.preventDefault()}this.isOpen()&&-1===o&&(this.close(!0),t.preventDefault())}else{if(n){h=this._getSelectedItems();var l=f("#"+i.attr("aria-activedescendant"));a=h.index(l)}else a=(h=this._getFilteredDropdownItemCheckboxes()).index(i);if(-1!==a)return-1===o&&0===a?r&&this.$input.focus():(1!==o||a!==h.length-1)&&(c=h.eq(a+o),n?(c.hasClass("msos-visible")||this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")||this._toggleSelectedItemsContainerHeight(),this._updateCurrentlySelectedItem(c)):c.focus()),void t.preventDefault();t.preventDefault()}}}},_handleDelete:function(t){var i=f(A.activeElement);if(i.eq(this.$currentSelectionContainer)){var n=f("#"+i.attr("aria-activedescendant"));n.length&&(n.find(".msos-quick-delete").trigger("mouseup"),t.preventDefault())}},_getArrowKey:function(t){switch(t.keyCode.toString()||t.key||t.code){case"ArrowLeft":case"37":case"Numpad4":case"100":return"left";case"ArrowUp":case"38":case"Numpad8":case"104":return"up";case"ArrowRight":case"39":case"Numpad6":case"102":return"right";case"ArrowDown":case"40":case"Numpad2":case"98":return"down";default:return""}},_getArrowKeyDirection:function(t){var i=0,n=null;switch(t.keyCode.toString()||t.key||t.code){case"ArrowLeft":case"37":case"Numpad4":case"100":i=-1,n="left";break;case"ArrowUp":case"38":case"Numpad8":case"104":i=-1,n="up";break;case"ArrowRight":case"39":case"Numpad6":case"102":i=1,n="right";break;case"ArrowDown":case"40":case"Numpad2":case"98":i=1,n="down"}return{direction:i,arrow:n}},_updateCurrentlySelectedItem:function(t){t&&(this.$currentSelectionContainer.children().removeClass("msos-selecteditem-active"),this._updateSelectedItemsActiveDescendant(t),t.addClass("msos-selecteditem-active"),this._scrollSelectedItemIntoView(t))},_updateSelectedItemsActiveDescendant:function(t){t&&this.$currentSelectionContainer.attr("aria-activedescendant",t.attr("id"))},_collapseSelectedItemsContainerIfNeeded:function(){var t=this._getSelectedItems();(t.length<2||t.last().offset().top===t.first().offset().top)&&this._collapseSelectedItemsContainer()},_toggleSelectedItemsContainerHeight:function(){this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")?this._collapseSelectedItemsContainer():this._expandSelectedItemsContainer()},_applySearchTermFilter:function(){if(this.items&&0!==this.items.length){var t=(this.$input.val()||"").toLowerCase();this.$selectionContainer.find(".msos-filtered-search").removeClass("msos-filtered-search"),this._setNoResultsItemVisible(!1),0<t.trim().length&&this._findTerms(this.items,t);var i=this.getNonFilteredOptions().length;if(this.$selectAllCheckbox&&(this.$numberOfItemsDiv.text(this.formatString(this.config.texts.totalItems,i)),this.$selectAllCheckbox.prop("checked",this.areAllOptionsChecked())),0<i){var n=this.config.texts.resultsFound.replace("{0}",i);this._announce(n)}}},_findTerms:function(t,e){if(t&&f.isArray(t)&&0!==t.length){var r=this;f.each(t,function(t,i){if("option"===i.type){var n=i.displayElement;-1===(i.label+" "+i.tooltip).trim().toLowerCase().indexOf(e)&&n.addClass("msos-filtered-search")}else r._findTerms(i.children,e),0===i.displayElement.find(".msos-option:not(.msos-filtered-search)").length&&i.displayElement.addClass("msos-filtered-search")}),this._setNoResultsItemVisible(0===this.getNonFilteredOptions().length)}},_initializeData:function(){this.config.data?f.isFunction(this.config.data)?this.items=this._fetchDataFromFunction(this.config.data):f.isArray(this.config.data)?this.items=this._fetchDataFromArray(this.config.data):"string"==typeof this.config.data?this._loadItemsFromUrl(this.config.data):this._showErrorLabel("Unknown data type"):this.items=this._detectDataFromOriginalElement(),this.items&&this._processDataItems(this.items)},_detectDataFromOriginalElement:function(){if("select"===this.$originalElement.prop("tagName").toLowerCase()){var s=this,o=[];return f.each(this.$originalElement.children(),function(t,i){var n,e=f(i),r=e.prop("tagName").toLowerCase();"option"===r?(n=s._processSelectOption(e))&&o.push(n):"optgroup"===r?(n=s._processSelectOptgroup(e))&&o.push(n):s._showErrorLabel("Invalid element found in select: "+r+". Only option and optgroup are allowed")}),this._invokeConverterIfNeccessary(o)}if(this.$originalElement.data("sol-data")){var t=this.$originalElement.data("sol-data");return this._invokeConverterIfNeccessary(t)}this._showErrorLabel('Could not determine data from original element. Must be a select or data must be provided as data-sol-data="" attribute')},_processSelectOption:function(t){return f.extend({},this.SOL_OPTION_FORMAT,{value:t.val(),selected:t.prop("selected"),disabled:t.prop("disabled"),label:t.html(),tooltip:t.attr("title"),element:t})},_processSelectOptgroup:function(t){var r=this,s=f.extend({},this.SOL_OPTIONGROUP_FORMAT,{label:t.attr("label"),tooltip:t.attr("title"),disabled:t.prop("disabled"),children:[]}),i=t.children("option");return f.each(i,function(t,i){var n=f(i),e=r._processSelectOption(n);s.disabled&&(e.disabled=!0),s.children.push(e)}),s},_fetchDataFromFunction:function(t){return this._invokeConverterIfNeccessary(t(this))},_fetchDataFromArray:function(t){return this._invokeConverterIfNeccessary(t)},_loadItemsFromUrl:function(e){var r=this;f.ajax(e,{success:function(t){r.items=r._invokeConverterIfNeccessary(t),r.items&&r._processDataItems(r.items)},error:function(t,i,n){r._showErrorLabel("Error loading from url "+e+": "+n)}})},_invokeConverterIfNeccessary:function(t){return f.isFunction(this.config.converter)?this.config.converter.call(this,this,t):t},_processDataItems:function(t){if(t)if(0!==t.length){var n=this,e=t;f.each(t,function(t,i){if(i.type===r.prototype.SOL_OPTION_FORMAT.type)n._renderOption(i,t,e.length);else{if(i.type!==r.prototype.SOL_OPTIONGROUP_FORMAT.type)return void n._showErrorLabel("Invalid item type found "+i.type);n._renderOptiongroup(i)}}),this.config.showSelectAll&&this.$selectionContainer.find('input[type="checkbox"]:not([disabled]):checked').length===t.length&&this.$selectAllCheckbox.prop("checked",!0),f.isFunction(this.config.events.onInitialized)&&this.config.events.onInitialized.call(this,this,t)}else this._setNoResultsItemVisible(!0);else this._showErrorLabel("Data items not present. Maybe the converter did not return any values")},_renderOption:function(t,n,i,e){var r,s,o,h=this,c=e||this.$selection,a=f('<div class="msos-label-text msos-optionitem-text" aria-hidden="true"/>').html(0===t.label.trim().length?"&nbsp;":t.label),u=this._getNameAttribute();if(this.config.multiple){var l='<input type="checkbox" id={0} class="msos-checkbox" name={0} tabindex="-1">'.split("{0}").join(this.config.key+"_checkbox");r=f(l).attr("aria-label",t.tooltip),this.config.useBracketParameters&&(u+="[]")}else r=f('<input type="radio" class="msos-radio"/>').on("change",function(){h.$selectionContainer.find('input[type="radio"][name="'+u+'"]').not(f(this)).trigger("msos-deselect")}).on("msos-deselect",function(){h._removeSelectionDisplayItem(f(this))});r.attr("id",this.config.key+"_item"+(n+1)).on("change",function(t,i){h.checkUncheckOption(f(this),i,n),h.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")&&h._collapseSelectedItemsContainerIfNeeded()}).on("focus",function(){var t=f(this);t.parent().addClass("msos-option-focused");var i=t.attr("id");h.$innerContainer.attr("aria-activedescendant",i)}).on("blur",function(){var t=f(this);t.parent().removeClass("msos-option-focused");var i=t.attr("id");h.$innerContainer.attr("aria-activedescendant")===i&&h.$innerContainer.attr("aria-activedescendant",null)}).data("msos-item",t).prop("checked",t.selected).prop("disabled",t.disabled).attr("name",u).val(t.value);var A=this.formatString('<label name={0} class="msos-label" />',this.config.key+"msos-label");s=f(A).attr("title",t.tooltip).append(r).append(a),o=f('<li class="msos-option" role="option" />').append(s),t.displayElement=o,c.append(o),t.selected&&(o.addClass("msos-option-selected").attr("aria-selected","true"),this._addSelectionDisplayItem(r,n))},_renderOptiongroup:function(t){var n=this,i=f('<div class="msos-optiongroup-label"/>').attr("title",t.tooltip).html(t.label),e=f('<div class="msos-optiongroup"/>').append(i);t.disabled&&e.addClass("disabled");var r=t;f.isArray(t.children)&&f.each(t.children,function(t,i){n._renderOption(i,t,r.children.length,e)}),t.displayElement=e,this.$selection.append(e)},_updateSelectedItemsVisibility:function(){var t=this._getSelectedItems();if(t.length){var e=null;t.each(function(t,i){var n=i.offsetTop;null===e&&(e=n),e===n?i.classList.add("msos-visible"):i.classList.remove("msos-visible")})}},_getSelectedItems:function(){return this.$currentSelectionContainer.children()},_getSelectedItemsCount:function(){return this._getSelectedItems().length},_getVisibleSelectedItems:function(){return this.$currentSelectionContainer.children(".msos-selected-display-item.msos-visible")},_getVisibleSelectedItemsCount:function(){return this._getVisibleSelectedItems().length},_getHiddenSelectedItems:function(){return this.$currentSelectionContainer.children(".msos-selected-display-item:not(.msos-visible)")},_getHiddenSelectedItemsCount:function(){return this._getHiddenSelectedItems().length},_getFocusableElements:function(){return[this._getSelectedItemsCount()?this.$currentSelectionContainer:null,this.$input].filter(function(t){return null!==t})},_getDropdownItems:function(){var t=this.$selectionContainer.find(".msos-option");return t.length?t:null},_getFilteredDropdownItems:function(){var t=this._getDropdownItems();if(t.length){var i=t.filter(".msos-option:not(.msos-filtered-search)");return i.length?i:null}},_getFilteredDropdownItemCheckboxes:function(){var t=this._getFilteredDropdownItems();if(!t.length)return null;var i=t.find(".msos-checkbox:not(.msos-filtered-search)");return i.length?i:null},_getDeselectButtons:function(){if(this._getSelectedItemsCount()){var t=this._getSelectedItems().find(".msos-quick-delete");return t&&t.length?t:null}return null},_getFirstDeselectButton:function(){if(this._getSelectedItemsCount()){var t=this._getDeselectButtons().first();return t&&t.length?t:null}return null},_getLastDeselectButton:function(){if(this._getSelectedItemsCount()){var t,i=this._getDeselectButtons();return(t=this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")?i.last():this._getVisibleSelectedItems().last().find(".msos-quick-delete"))&&t.length?t:null}return null},_getNextSelectedItem:function(){if(this._getSelectedItemsCount()<2)return null;var t=this.$currentSelectionContainer.attr("aria-activedescendant"),i=f("#"+t),n=this._getSelectedItems(),e=n.index(i);return-1===e?n.first():e===n.length-1?n.eq(e-1):n.eq(e+1)},_getNextDeselectButton:function(t){var i=f(t),n=this._getDeselectButtons();if(!n.length)return null;var e=n.index(i);return e<0?null:e<n.length-1?n.eq(e+1):e===n.length-1?n.eq(e-1):null},_getViewmodeText:function(){var t=this.$currentSelectionContainer.children(".msos-selected-display-item"),i=t.length,n=this.config.texts.noItemsSelected,e=this.config.texts.viewmodeItemsSeparator;return 0<i&&(n=f(t,".msos-selected-display-item-text").map(function(){return f(this).text()}).get().join(e)),n},_collapseViewmodeContainer:function(){this.$viewmodeContainer.removeClass("msos-viewmode-expanded")},_checkViewmodeOverflow:function(){var t=this.$viewmodeText.get(0);t.scrollWidth<=t.offsetWidth+1?this.$viewmodeButtonContainer.addClass("msos-hidden"):this.$viewmodeButtonContainer.removeClass("msos-hidden")},_updateSelectedItemsContainerClass:function(){var t="msos-none-selected";0===this._getSelectedItemsCount()?this.$container.addClass(t):this.$container.removeClass(t)},_populateViewmodeContainer:function(){this.$viewmodeText.text(this._getViewmodeText()),this._checkViewmodeOverflow(),this._updateSelectedItemsContainerClass()},_updateExpandSelectedItemsButtonText:function(t){if((t||this.$container.hasClass("msos-active"))&&!this.$selectedItemsContainer.hasClass("msos-selecteditems-expanded")){this._updateSelectedItemsVisibility();var i=this._getHiddenSelectedItemsCount();0<i?this.$selectedItemsToggleButton.text(this.config.texts.expand.replace("{0}",i)).attr("aria-label",this.config.texts.expandLabel.replace("{0}",this._getHiddenSelectedItemsCount())).removeClass("msos-invisible"):this.$selectedItemsToggleButton.addClass("msos-invisible")}},_announce:function(t){null!=t&&this.$alertContainer.text(t)},_selectionChange:function(t,i,n){var e=t.siblings(".msos-optionitem-text").text(),r="";t.prop("checked")?(this._addSelectionDisplayItem(t,i),t.closest(".msos-option").addClass("msos-option-selected"),e&&(r=this.config.texts.selectedItemAdded.replace("{0}",e))):(this._removeSelectionDisplayItem(t),t.closest(".msos-option").removeClass("msos-option-selected"),e&&(r=this.config.texts.selectedItemRemoved.replace("{0}",e))),this._announce(r),t.closest(".msos-option").attr("aria-selected",t.prop("checked")),this.config.multiple?this.config.scrollTarget.trigger("scroll"):this.close(),!n&&f.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,t),this.debounceId&&clearTimeout(this.debounceId);var s=this;this.isSelectionChanging=!0,this.debounceId=setTimeout(function(){s._populateViewmodeContainer(),s._updateExpandSelectedItemsButtonText(),s.isSelectionChanging=!1},this.debounceTimeout)},_addSelectionDisplayItem:function(i,t){var n,e=i.data("msos-item"),r=e.displaySelectionItem,s=this;r||(n=f('<span class="msos-selected-display-item-text" />').html(e.label),r=f('<li class="msos-selected-display-item msos-visible" />').append(n).attr("name",this.config.key+"-selected-item-"+(t+1)).attr("id",this.config.key+"-selected-item-"+(t+1)).attr("title","").attr("data-value",e.value).attr("aria-label",e.label+" for "+this.config.accessibilityLabel).appendTo(this.$currentSelectionContainer).on("mousedown",function(){var t=f(this);s._updateCurrentlySelectedItem(t),s.$currentSelectionContainer.focus()}),this.$currentSelectionContainer.attr("aria-activedescendant")===r.attr("id")&&r.addClass("msos-selecteditem-active"),(this.config.multiple||this.config.allowNullSelection)&&f('<button class="msos-quick-delete" tabindex="-1"><span class="msos-glyph" /></button>').attr("name",this.config.key+"-selected-item-delete-"+(t+1)).attr("aria-label",this.config.texts.deleteItemLabel.replace("{0}",e.label)).on("mouseup touchend",function(){var t=s._getNextSelectedItem();i.trigger("change",!1),t?(s._updateCurrentlySelectedItem(t),s.$currentSelectionContainer.focus()):s.$input.focus()}).appendTo(r),e.displaySelectionItem=r)},_removeSelectionDisplayItem:function(t){var i=t.data("msos-item"),n=i.displaySelectionItem;n&&(n.remove(),i.displaySelectionItem=void 0)},_setNoResultsItemVisible:function(t){t?(this._announce(this.config.texts.noItemsAvailable),this.$noResultsItem.removeClass("msos-hidden"),this.$actionButtons&&this.$actionButtons.addClass("msos-hidden"),this.$selection.addClass("msos-selection-hidden")):(this.$noResultsItem.addClass("msos-hidden"),this.$actionButtons&&this.$actionButtons.removeClass("msos-hidden"),this.$selection.removeClass("msos-selection-hidden"))},_positionFlyOut:function(t){this._updateSelectedItemsContainerClass();var i=this.$innerContainer.outerHeight(!1);t?this.$selectionContainer.css({bottom:i,top:"inherit"}):this.$selectionContainer.css({bottom:"inherit",top:i})},positionFlyOut:function(t){this._positionFlyOut(t)},isOpen:function(){return this.$container.hasClass("msos-open")},isClosed:function(){return!this.isOpen()},toggle:function(t){this.isOpen()?(t&&!this.isIE11&&this.$input.focus(),this.close()):(this.open(),this.$input.focus())},open:function(){this.isClosed()&&(this.$innerContainer.toggleClass("msos-fullscreen",this.config.fullscreenCombobox),f("body").toggleClass("msos-fullscreen",this.config.fullscreenCombobox),this.$container.addClass("msos-open"),this.$innerContainer.attr("aria-expanded","true"),this.$innerContainer.attr("aria-activedescendant",null),this.config.scrollTarget.bind("scroll",this.internalScrollWrapper).trigger("scroll"),f(u).on("resize",this.internalScrollWrapper),f.isFunction(this.config.events.onOpen)&&this.config.events.onOpen.call(this,this),this.$input.focus())},close:function(t){this.isOpen()&&(this.$innerContainer.removeClass("msos-fullscreen"),f("body").removeClass("msos-fullscreen"),this.$selection.scrollTop(0),this.$container.removeClass("msos-open msos-compact"),this.$innerContainer.attr("aria-expanded","false"),this.$innerContainer.attr("aria-activedescendant",null),this.config.scrollTarget.unbind("scroll",this.internalScrollWrapper),f(u).off("resize",this.internalScrollWrapper),t||(this.$input.val(""),this._applySearchTermFilter()),f.isFunction(this.config.events.onClose)&&this.config.events.onClose.call(this,this))},formatString:function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];for(var e=t,r=1;r<arguments.length;r++){var s=void 0===arguments[r]||null==arguments[r]?"":arguments[r].toString();e=e.replace(new RegExp("\\{"+(r-1)+"\\}","g"),s)}return e},toggleSelectAll:function(t){t.checked?this.selectAll():this.deselectAll(),this._updateExpandSelectedItemsButtonText(),this.$selectAllCheckbox.focus()},selectAll:function(){if(this.config.showSelectAll&&this.config.multiple){var t=this.getNonFilteredOptions().find('input[type="checkbox"]:not([disabled], :checked):not(.msos-selectall)').trigger("change",!0);f.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,t);var i=this.config.texts.selectAllSelect.replace("{0}",this.getNonFilteredOptions().length),n=this;setTimeout(function(){n._announce(i)},1e3)}},deselectAll:function(t){if(this.config.showSelectAll&&this.config.multiple){var i=(t?this.$selectionContainer:this.getNonFilteredOptions()).find('input[type="checkbox"]:not([disabled]):checked').trigger("change",!1);f.isFunction(this.config.events.onChange)&&this.config.events.onChange.call(this,this,i);var n=this.config.texts.selectAllDeselect.replace("{0}",this.getNonFilteredOptions().length);this._announce(n)}},getValues:function(){var t=[];return this.$currentSelectionContainer.find(".msos-selected-display-item").each(function(){t.push(f(this).data("value"))}),t},setValues:function(t){if(t&&t.length){var n=this;t.forEach(function(t){var i=t;n.$selectionContainer.find(".msos-checkbox").filter(function(){if(null!=f(this).data("msos-item"))return f(this).data("msos-item").value===i}).trigger("change",!0)})}},toggleControlState:function(t){this.config.isControlDisabled=t,this.config.isControlDisabled?(this.$container.addClass("msos-disabled"),this._populateViewmodeContainer()):(this.$container.removeClass("msos-disabled"),this._updateExpandSelectedItemsButtonText())},checkUncheckOption:function(t,i,n){void 0!==i&&t.prop("checked",i),this._selectionChange(t,n),this._updateExpandSelectedItemsButtonText(),this.$selectAllCheckbox&&this.$selectAllCheckbox.prop("checked",this.areAllOptionsChecked())},areAllOptionsChecked:function(){return 0===this.getNonFilteredOptions().find('input[type="checkbox"]:not([disabled], :checked)').length},getNonFilteredOptions:function(){return this.$selectionContainer.find(".msos-option:not(.msos-filtered-search):not(.msos-selectall)")},getSelection:function(){return this.$selection.find("input:checked")},storeControlState:function(){if(this.currentHighlightedSelectionIndex=-1,null!=this.$currentSelectionContainer){var t=this.$currentSelectionContainer.find(".msos-selected-display-item.keyboard-selection");if(0<t.length){var i=this.$currentSelectionContainer.find(".msos-selected-display-item");this.currentHighlightedSelectionIndex=i.index(t)}}},restoreControlState:function(){if(-1<this.currentHighlightedSelectionIndex){var t=this.$currentSelectionContainer.find(".msos-selected-display-item");f(t[this.currentHighlightedSelectionIndex]).addClass("keyboard-selection").focus()}this.isOpen()&&this.repositionFlyOut()},refreshControl:function(t){0<t.length?(this.storeControlState(),this.deselectAll(!0),this.setValues(t),this.restoreControlState()):0<this.getValues().length&&this.deselectAll(!0)},repositionFlyOut:function(){this.config.scrollTarget.bind("scroll",this.internalScrollWrapper).trigger("scroll"),f(u).on("resize",this.internalScrollWrapper)}},r.defaults=r.prototype.defaults,u.MultiSelectOptionSet=r,f.fn.multiSelectOptionSet=function(n){var e=[];return this.each(function(){var t=f(this),i=t.data(r.prototype.DATA_KEY);i?e.push(i):e.push(new r(t,n).init())}),1===e.length?e[0]:e},function(h){var s,t,i;function e(t,i){return null==t?null:A(i)?d(t.implementsInterface)&&t.implementsInterface(i)?t:null:t instanceof i?t:null}function A(t){return"string"==typeof t}function f(t){return"number"==typeof t}function r(t){return f(t)&&t==Math.round(t)}function n(t){return"boolean"==typeof t}function d(t){return"function"==typeof t}function g(t){return(t instanceof Date||"[object Date]"===Object.prototype.toString.call(t))&&!isNaN(t.getTime())}function o(t){return t instanceof Array||Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function w(t){return null!=t&&"object"==typeof t&&!g(t)&&!o(t)}function c(t,i,n){if(null!=t){if(A(t))switch(i){case s.Number:var e=h.Globalize.parseFloat(t,n);return isNaN(e)?t:e;case s.Date:var r=h.Globalize.parseDate(t,n);return r||n||!t||(r=new Date(t)),r&&isFinite(r.getTime())?r:t;case s.Boolean:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t}if(i==s.String)return h.Globalize.format(t,n)}return t}function a(t,i){if(!t)throw"** Assertion failed in Wijmo: "+i}function m(t,i){return void 0===i&&(i=!0),a(i&&null==t||A(t),"String expected."),t}function u(t,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=!1),a(i&&null==t||f(t),"Number expected."),n&&t&&t<0)throw"Positive number expected.";return t}function b(t,i){return void 0===i&&(i=!1),a(i&&null==t||n(t),"Boolean expected."),t}function v(t,i){return void 0===i&&(i=!0),a(i&&null==t||d(t),"Function expected."),t}h.getVersion=function(){return"5.20181.501"},h.setLicenseKey=function(t){h.Control._licKey=t},(i=h.Key||(h.Key={}))[i.Back=8]="Back",i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.Left=37]="Left",i[i.Up=38]="Up",i[i.Right=39]="Right",i[i.Down=40]="Down",i[i.Delete=46]="Delete",i[i.F1=112]="F1",i[i.F2=113]="F2",i[i.F3=114]="F3",i[i.F4=115]="F4",i[i.F5=116]="F5",i[i.F6=117]="F6",i[i.F7=118]="F7",i[i.F8=119]="F8",i[i.F9=120]="F9",i[i.F10=121]="F10",i[i.F11=122]="F11",i[i.F12=123]="F12",(t=s=h.DataType||(h.DataType={}))[t.Object=0]="Object",t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=3]="Boolean",t[t.Date=4]="Date",t[t.Array=5]="Array",h.tryCast=e,h.isPrimitive=function(t){return A(t)||f(t)||n(t)||g(t)},h.isString=A,h.isNullOrWhiteSpace=function(t){return null==t||t.replace(/\s/g,"").length<1},h.isNumber=f,h.isInt=r,h.isBoolean=n,h.isFunction=d,h.isUndefined=function(t){return void 0===t},h.isDate=g,h.isArray=o,h.isObject=w,h.isEmpty=function(t){for(var i in t)return!1;return!0},h.getUniqueId=function(t){for(var i=t,n=0;null!=document.getElementById(i);n++)i=t+n;return i},h.mouseToPage=function(t){if(t instanceof y)return t;if(t.touches&&0<t.touches.length&&(t=t.touches[0]),f(t.clientX)&&f(t.clientY))return new y(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."},h.getType=function(t){return f(t)?s.Number:n(t)?s.Boolean:g(t)?s.Date:A(t)?s.String:o(t)?s.Array:s.Object},h.changeType=c,h.toFixed=function(t,i,n){if(n){var e=(r=t.toString()).indexOf(".");r.indexOf("e")<0&&-1<e&&(r=r.substr(0,e+1+i),t=parseFloat(r))}else{var r=t.toFixed(i);t=parseFloat(r)}return t},h.format=function(t,s,o){if((t=m(t)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var i=JSON.parse(t);if(A(i.count)){var n=s[i.count],e=i.when;if(f(n)&&w(e)){var r=e[n]||e.other;A(r)&&(t=r)}}}catch(t){}return t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,i,n,e){var r=t;return i&&"{"!=i[0]&&s&&(r=s[i],e&&(r=h.Globalize.format(r,e)),o&&(r=o(s,i,e,r))),null==r?"":r})},h.clamp=function(t,i,n){return null!=t&&(null!=n&&n<t&&(t=n),null!=i&&t<i&&(t=i)),t},h.copy=function t(i,n){if(n)for(var e in n)if("_"!=e[0]){a(e in i,'Unknown property "'+e+'".');var r=n[e];i._copy&&i._copy(e,r)||(i[e]instanceof h.Event?d(r)&&i[e].addHandler(r):!w(r)||r instanceof Element||!i[e]||"itemsSource"==e?i[e]=r:t(i[e],r))}},h.assert=a,h._deprecated=function(t,i){},h.asString=m,h.asNumber=u,h.asInt=function(t,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=!1),a(i&&null==t||r(t),"Integer expected."),n&&t&&t<0)throw"Positive integer expected.";return t},h.asBoolean=b,h.asDate=function(t,i){if(void 0===i&&(i=!1),A(t)){var n=c(t,s.Date,"r");g(n)&&(t=n)}return a(i&&null==t||g(t),"Date expected."),t},h.asFunction=v,h.asArray=function(t,i){return void 0===i&&(i=!0),a(i&&null==t||o(t),"Array expected."),t},h.asType=function(t,i,n){return void 0===n&&(n=!1),t=e(t,i),a(n||null!=t,i+" expected."),t},h.asEnum=function(t,i,n){if(void 0===n&&(n=!1),null==t&&n)return null;var e=i[t];return a(null!=e,"Invalid enum value."),f(e)?e:t},h.asCollectionView=function(t,i){if(void 0===i&&(i=!0),null==t&&i)return null;var n=e(t,"ICollectionView");return null!=n?n:(o(t)||a(!1,"Array or ICollectionView expected."),new h.collections.CollectionView(t))},h.hasItems=function(t){return null!=t&&null!=t.items&&0<t.items.length},h.toHeaderCase=function(t){return t&&t.length?t[0].toUpperCase()+t.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""},h.escapeHtml=function(t){return A(t)&&(t=t.replace(/[&<>"'\/]/g,function(t){return l[t]})),t};var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function p(t,i){if(t&&i){if(t instanceof HTMLElement&&t.classList&&!h.isIE9())return t.classList.contains(i);if(t.getAttribute){var n=new RegExp("(\\s|^)"+i+"(\\s|$)");return t&&n.test(t.getAttribute("class"))}}return!1}function E(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!h.isIE9())return void(t.indexOf(" ")<0?n.classList.add(t):t.split(" ").forEach(function(t){n.classList.add(t)}));n.setAttribute&&t.split(" ").forEach(function(t){if(!p(n,t)){var i=n.getAttribute("class");n.setAttribute("class",i?i+" "+t:t)}})}}function B(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!h.isIE9())return void(t.indexOf(" ")<0?e.classList.remove(t):t.split(" ").forEach(function(t){e.classList.remove(t)}));e.setAttribute&&t.split(" ").forEach(function(t){if(p(e,t)){var i=new RegExp("((\\s|^)"+t+"(\\s|$))","g"),n=e.getAttribute("class");(n=n.replace(i," ").replace(/ +/g," ").trim())?e.setAttribute("class",n):e.removeAttribute("class")}})}}function j(t,i,n){null==n&&(n=!p(t,i)),n?E(t,i):B(t,i)}function C(t,i,n,e){t&&(null!=n?e&&t.getAttribute(i)||t.setAttribute(i,n.toString()):t.removeAttribute(i))}function I(){var t=document.activeElement;if(t){var i=t.shadowRoot;i&&i.activeElement&&(t=i.activeElement)}return t}function Q(t){return t instanceof Element?t:A(t)?document.querySelector(t):t&&t.jquery?t[0]:null}function M(t,i){for(var n=i;n&&t;){if(n===t)return!0;n=n.parentNode||n.host}return!1}function F(t,i){var n=t?t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector:null;if(n)for(;t;t=t.parentNode)if(t instanceof Element&&n.call(t,i))return t;return null}h.hasClass=p,h.addClass=E,h.removeClass=B,h.toggleClass=j,h.setAttribute=C,h.setAriaLabel=function(t,i){C(t,"aria-label",i)},h.setSelectionRange=function(t,i,n){if(void 0===n&&(n=i),a(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),M(document.body,t)&&!t.disabled&&"none"!=t.style.display)try{return t.setSelectionRange(u(i),u(n),h.isIE()?null:"backward"),t.focus(),!0}catch(t){}return!1},h.disableAutoComplete=function(i){"autocomplete,autocorrect,autocapitalize,spellcheck".split(",").forEach(function(t){i.setAttribute(t,"spellcheck"==t?"false":"off")})},h.removeChild=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},h.getActiveElement=I,h.moveFocus=function(t,i){var n=function t(i){for(var n=[],e=i.querySelectorAll("input,select,textarea,button,a,div"),r=0;r<e.length;r++){var s=e[r];if(0<s.offsetHeight&&-1<s.tabIndex&&!s.disabled&&!F(s,"[disabled],.wj-state-disabled")){if(s instanceof HTMLAnchorElement&&!s.hasAttribute("href"))continue;if(h.isIE()&&!s.hasAttribute("tabindex")){if(s instanceof HTMLDivElement)continue;var o=h.Control.getControl(F(s,".wj-flexgrid"));if(o&&0==o.keyActionTab)continue}!h.Control.getControl(s)&&t(s).length||n.push(s)}}return n}(t),e=0;if(i){var r=n.indexOf(I());-1<r&&(e=(r+i+n.length)%n.length)}if(e<n.length){var s=n[e];s.focus(),s instanceof HTMLInputElement&&s.select()}},h.getElement=Q,h.createElement=function(t,i){var n=document.createElement("div");return n.innerHTML=t,1==n.children.length&&(n=n.children[0]),i&&(i=Q(i)).appendChild(n),n},h.setText=function(t,i){t.textContent=i||""},h.contains=M,h.closest=F,h.closestClass=function(t,i){return F(t,"."+i)},h.enable=function(t,i){var n=!i;j(t,"wj-state-disabled",n),C(t,"disabled",n?"true":null);for(var e=t.querySelectorAll("input"),r=0;r<e.length;r++){var s=e[r];i?s.removeAttribute("disabled"):s.setAttribute("disabled","true")}},h.getElementRect=function(t){var i=t.getBoundingClientRect();return new x(i.left+pageXOffset,i.top+pageYOffset,i.width,i.height)},h.setCss=function t(i,n){if(a(w(n),"css parameter should be an object"),i instanceof Array)for(var e=0;e<i.length;e++)t(i[e],n);else if(i&&i.style){var r=i.style;for(var s in n){var o=n[s];"number"==typeof o&&s.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),r[s]!==o&&(r[s]=o.toString())}}},h.animate=function(i,n,t){void 0===n&&(n=h.Control._ANIM_DEF_DURATION),void 0===t&&(t=h.Control._ANIM_DEF_STEP),i=v(i),n=u(n,!1,!0),t=u(t,!1,!0);var e=Date.now(),r=setInterval(function(){var t=Math.min(1,(Date.now()-e)/n);t=Math.sin(t*Math.PI/2),t*=t,requestAnimationFrame(function(){i(t)}),1<=t&&clearInterval(r)},t);return r};var y=function(){function i(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=u(t),this.y=u(i)}return i.prototype.equals=function(t){return t instanceof i&&this.x==t.x&&this.y==t.y},i.prototype.clone=function(){return new i(this.x,this.y)},i}();h.Point=y;var R=function(){function i(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.width=u(t),this.height=u(i)}return i.prototype.equals=function(t){return t instanceof i&&this.width==t.width&&this.height==t.height},i.prototype.clone=function(){return new i(this.width,this.height)},i}();h.Size=R;var x=function(){function r(t,i,n,e){this.left=u(t),this.top=u(i),this.width=u(n),this.height=u(e)}return Object.defineProperty(r.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),r.prototype.equals=function(t){return t instanceof r&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},r.prototype.clone=function(){return new r(this.left,this.top,this.width,this.height)},r.fromBoundingRect=function(t){return null!=t.left?new r(t.left,t.top,t.width,t.height):null!=t.x?new r(t.x,t.y,t.width,t.height):void a(!1,"Invalid source rectangle.")},r.union=function(t,i){var n=Math.min(t.left,i.left),e=Math.min(t.top,i.top);return new r(n,e,Math.max(t.right,i.right)-n,Math.max(t.bottom,i.bottom)-e)},r.intersection=function(t,i){var n=Math.max(t.left,i.left),e=Math.max(t.top,i.top);return new r(n,e,Math.min(t.right,i.right)-n,Math.min(t.bottom,i.bottom)-e)},r.prototype.contains=function(t){if(t instanceof y)return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom;if(t instanceof r){var i=t;return i.left>=this.left&&i.right<=this.right&&i.top>=this.top&&i.bottom<=this.bottom}a(!1,"Point or Rect expected.")},r.prototype.inflate=function(t,i){return new r(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},r}();h.Rect=x;var k=function(){function e(){}return e.addDays=function(t,i){return e.newDate(t.getFullYear(),t.getMonth(),t.getDate()+i)},e.addMonths=function(t,i){return e.newDate(t.getFullYear(),t.getMonth()+i,t.getDate())},e.addYears=function(t,i){return e.newDate(t.getFullYear()+i,t.getMonth(),t.getDate())},e.addHours=function(t,i){return e.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+i)},e.addMinutes=function(t,i){return e.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+i)},e.addSeconds=function(t,i){return e.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()+i)},e.sameDate=function(t,i){return g(t)&&g(i)&&t.getFullYear()==i.getFullYear()&&t.getMonth()==i.getMonth()&&t.getDate()==i.getDate()},e.sameTime=function(t,i){return g(t)&&g(i)&&t.getHours()==i.getHours()&&t.getMinutes()==i.getMinutes()&&t.getSeconds()==i.getSeconds()},e.equals=function(t,i){return g(t)&&g(i)&&t.getTime()==i.getTime()},e.fromDateTime=function(t,i){return t||i?(t||(t=i),i||(i=t),e.newDate(t.getFullYear(),t.getMonth(),t.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):null},e.toFiscal=function(t,i){var n=h.culture.Globalize.calendar;return o(n.fiscalYearOffsets)?e.addMonths(t,-n.fiscalYearOffsets[i?0:1]):t},e.fromFiscal=function(t,i){var n=h.culture.Globalize.calendar;return o(n.fiscalYearOffsets)?e.addMonths(t,+n.fiscalYearOffsets[i?0:1]):t},e.newDate=function(t,i,n,e,r,s,o){if(null==t||null==i||null==n){var h=new Date;null==t&&(t=h.getFullYear()),null==i&&(i=h.getMonth()),null==n&&(n=h.getDate())}null==e&&(e=0),null==r&&(r=0),null==s&&(s=0),null==o&&(o=0);var c=new Date(t,i,n,e,r,s,o),a=c.getFullYear();return t<100&&1900<=a&&c.setFullYear(c.getFullYear()-1900),c},e.clone=function(t){return e.fromDateTime(t,t)},e}();h.DateTime=k,h.httpRequest=function(t,i){i||(i={});var n=i.method?m(i.method).toUpperCase():"GET",e=null==i.async||b(i.async),r=i.data;if(null!=r&&"GET"==n){var s=[];for(var o in r){var h=r[o];g(h)&&(h=h.toJSON()),s.push(o+"="+h)}if(s.length){var c=t.indexOf("?")<0?"?":"&";t+=c+s.join("&")}r=null}var a=new XMLHttpRequest;a.URL_DEBUG=t;var u=!1;if(null==r||A(r)||(u=w(r),r=JSON.stringify(r)),a.onload=function(){4==a.readyState&&(a.status<300?i.success&&v(i.success)(a):i.error&&v(i.error)(a),i.complete&&v(i.complete)(a))},a.onerror=function(){if(!d(i.error))throw"HttpRequest Error: "+a.status+" "+a.statusText;i.error(a)},a.open(n,t,e,i.user,i.password),i.user&&i.password&&a.setRequestHeader("Authorization","Basic "+btoa(i.user+":"+i.password)),u&&a.setRequestHeader("Content-Type","application/json"),i.requestHeaders)for(var l in i.requestHeaders)a.setRequestHeader(l,i.requestHeaders[l]);return f(i.timeout)&&(a.timeout=i.timeout),d(i.beforeSend)&&i.beforeSend(a),a.send(r),a}}(vn||(window.wijmo=vn={})),function(D){D.culture=window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}};var t=function(){function Y(){}return Y.format=function(t,i,n,e){return D.isString(t)?t:D.isNumber(t)?(i=i||(t==Math.round(t)?"n0":"n2"),Y.formatNumber(t,i,n,e)):D.isDate(t)?Y.formatDate(t,i=i||"d"):null!=t?t.toString():""},Y.formatNumber=function(t,i,n,e){t=D.asNumber(t),i=D.asString(i);var r,s=D.culture.Globalize.numberFormat,o=i?i.match(/([a-z])(\d*)(,*)(.*)/i):null,h=o?o[1].toLowerCase():"n",c=o&&o[2]?parseInt(o[2]):"c"==h?s.currency.decimals:t==Math.round(t)?0:2,a=o&&o[3]?3*o[3].length:0,u=s["."]||".",l=s[","]||",",A=s["-"]||"-";if(a&&(t/=Math.pow(10,a)),"d"==h||"x"==h){for(r=Math.round(Math.abs(t)).toString("d"==h?10:16);r.length<c;)r="0"+r;return t<0&&(r=A+r),i&&"X"==i[0]&&(r=r.toUpperCase()),r}if("p"==h&&(t=Y._mul100(t),t=D.toFixed(t,c,e)),e&&"p"!=h&&(t=D.toFixed(t,c,!0)),r=Y._toFixedStr("c"==h||"p"==h?Math.abs(t):t,c),(n||"g"==h)&&-1<r.indexOf(".")&&(r=(r=r.replace(/(\.[0-9]*?)0+$/g,"$1")).replace(/\.$/,"")),"."!=u&&(r=r.replace(".",u)),"-"!=A&&(r=r.replace("-",A)),l&&("n"==h||"c"==h||"p"==h)){var f=r.indexOf(u),d=/\B(?=(\d\d\d)+(?!\d))/g;r=-1<f?r.substr(0,f).replace(d,l)+r.substr(f):r.replace(d,l)}if("c"==h){var g=s.currency.pattern[t<0?0:1],w=o&&o[4]?o[4]:s.currency.symbol;""==w&&(w=""),r=g.replace("n",r).replace("$",w)}if("p"==h){g=s.percent.pattern[t<0?0:1];var m=s["%"]||"%";r=g.replace("n",r),"%"!=m&&(r=r.replace("%",m)),"-"!=A&&t<0&&(r=r.replace("-",A))}return r},Y.formatDate=function(t,i){switch(t=D.asDate(t),i){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}i=Y._expandFormat(i);for(var n=Y._parseDateFormat(i),e="",r=0;r<n.length;r++)e+=Y._formatDatePart(t,i,n[r]);return e},Y.parseInt=function(t,i){return Math.round(Y.parseFloat(t,i))},Y.parseFloat=function(t,i){var n=D.culture.Globalize.numberFormat,e=n["-"]||"-",r=n["%"]||"%",s=-1<t.indexOf(e)||-1<t.indexOf("(")&&-1<t.indexOf(")")?-1:1,o=-1<t.indexOf(r)?.01:1,h=i?i.match(/,+/):null,c=h?3*h[0].length:0,a=0;if(!i||"x"!=i[0]&&"X"!=i[0]){var u=n["."]||".",l=new RegExp("[^\\d\\"+u+"]","g");t=t.replace(l,"").replace(u,"."),a=parseFloat(t)}else t=t.replace(/[^0-9a-f]+.*$/gi,""),a=parseInt(t,16);return a*s*o*Math.pow(10,c)},Y.parseDate=function(t,i,n){if(!(t=D.asString(t)))return null;if("u"==i)return new Date(t);var e;if("R"==i||"r"==i){var r=t.match(/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/);return r[1]||r[5]?(e=r[1]?new Date(parseInt(r[2]),parseInt(r[3])-1,parseInt(r[4])):new Date,r[5]&&(e.setHours(parseInt(r[6])),e.setMinutes(parseInt(r[7])),e.setSeconds(r[8]?parseInt(r[9]):0))):e=new Date(t),isNaN(e.getTime())?null:e}i=Y._expandFormat(i||"d");var s,o,h,c,a,u,l=D.culture.Globalize.calendar,A=Y._CJK,f=new RegExp("(\\"+l["/"]+")|(\\"+l[":"]+")|(\\d+)|(["+A+"\\.]{2,})|(["+A+"]+)","gi"),d=t.match(f),g=Y._parseDateFormat(i),w=0,m=-1,b=0,v=1,p=0,E=0,B=0,j=0,C=-1;if(!(d&&d.length&&g&&g.length))return null;for(var I=0;I<g.length&&d;I++){var Q=I-w,M=-1<Q&&Q<d.length?d[Q]:"",F=g[I].length;switch(g[I]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":u=g[I];case"yyyy":case"yyy":case"yy":case"y":1<F&&M.length>F&&(d[Q]=M.substr(F),M=M.substr(0,F),w++),m=parseInt(M),a=4==M.length;break;case"MMMM":case"MMM":c=!0;var y=M.toLowerCase();b=-1;for(var R=0;R<12;R++)if(0==l.months[R].toLowerCase().indexOf(y)){b=R;break}if(-1<b)break;case"MM":case"M":c=!0,1<F&&M.length>F&&(d[Q]=M.substr(F),M=M.substr(0,F),w++),b=parseInt(M)-1;break;case"dddd":case"ddd":s=!0;break;case"dd":case"d":1<F&&M.length>F&&(d[Q]=M.substr(F),M=M.substr(0,F),w++),v=parseInt(M),o=!0;break;case"hh":case"h":1<F&&M.length>F&&(d[Q]=M.substr(F),M=M.substr(0,F),w++),p=12==(p=parseInt(M))?0:p;break;case"HH":1<F&&M.length>F&&(d[Q]=M.substr(F),M=M.substr(0,F),w++),p=parseInt(M);break;case"H":p=parseInt(M);break;case"mm":case"m":1<F&&M.length>F&&(d[Q]=M.substr(F),M=M.substr(0,F),w++),E=parseInt(M);break;case"ss":case"s":1<F&&M.length>F&&(d[Q]=M.substr(F),M=M.substr(0,F),w++),B=parseInt(M);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":j=parseInt(M)/Math.pow(10,F-3);break;case"tt":case"t":M=M.toUpperCase(),p<12&&-1<l.pm.indexOf(M)&&(p+=12);break;case"q":case"Q":case"u":case"U":h=!0;break;case"ggg":case"gg":case"g":C=1<l.eras.length?Y._getEra(M,l):-1;break;case l["/"]:case l[":"]:if(M&&M!=g[I])return null;break;case"K":break;default:Y._unquote(g[I]).trim()!=M.trim()&&w++}}if(c&&o&&(isNaN(p)&&(p=0),isNaN(E)&&(E=0),isNaN(B)&&(B=0)),b<0||11<b||isNaN(b)||v<1||31<v||isNaN(v)||p<0||24<p||isNaN(p)||E<0||60<E||isNaN(E)||B<0||60<B||isNaN(B))return null;if(u){if(!c)return null;var x=D.culture.Globalize.calendar;if(D.isArray(x.fiscalYearOffsets)){var k="E"==u[0],S=b-x.fiscalYearOffsets[k?0:1];m+=11<S?-1:S<0?1:0}}return s&&!o?null:h&&!c?null:(m<0&&(m=D.isDate(n)?n.getFullYear():(new Date).getFullYear()),-1<C?m=m+l.eras[C].start.getFullYear()-1:m<100&&!a&&(m+=m+2e3<(D.isNumber(l.twoDigitYearMax)?l.twoDigitYearMax:2029)?2e3:1900),v>new Date(m,b+1,0).getDate()?null:(e=D.DateTime.newDate(m,b,v,p,E+0,B,j),isNaN(e.getTime())?null:e))},Y.getFirstDayOfWeek=function(){return D.culture.Globalize.calendar.firstDay||0},Y.getNumberDecimalSeparator=function(){return D.culture.Globalize.numberFormat["."]||"."},Y._toFixedStr=function(t,i){var n=t.toString(),e=n.indexOf("."),r=i-(n.length-e)+1;return n.indexOf("e")<0&&-1<e&&0<=r?n+Array(r+1).join("0"):t.toFixed(i)},Y._unquote=function(t){return 1<t.length&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},Y._parseDateFormat=function(t){if(t in Y._dateFormatParts)return Y._dateFormatParts[t];var i,n,e=[];if(t)for(i=0;-1<i&&i<t.length;i++){var r=t[i];if(("'"==r||'"'==r)&&-1<(n=t.indexOf(r,i+1)))e.push(t.substring(i,n+1)),i=n;else if("\\"==r&&i<t.length-1)i++,e.push('"'+t[i]+'"');else{for(n=i+1;n<t.length&&t[n]==r;n++);e.push(t.substring(i,n)),i=n-1}}return Y._dateFormatParts[t]=e},Y._formatDatePart=function(t,i,n){var e,r=D.culture.Globalize.calendar,s=0,o=0,h=0,c=n.length;switch(n){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":o=(e="E"==n[0]?D.DateTime.toFiscal(t,!0):"e"==n[0]?D.DateTime.toFiscal(t,!1):t).getFullYear(),1<r.eras.length&&-1<i.indexOf("g")&&-1<(s=Y._getEra(t,r))&&(o=o-r.eras[s].start.getFullYear()+1);var a=n.length<3?o%100:3==n.length?o%1e3:o;return Y._zeroPad(a,n.length);case"MMMMM":return r.monthsAbbr[t.getMonth()][0];case"MMMM":return r.months[t.getMonth()];case"MMM":return r.monthsAbbr[t.getMonth()];case"MM":case"M":return Y._zeroPad(t.getMonth()+1,c);case"dddd":return r.days[t.getDay()];case"ddd":return r.daysAbbr[t.getDay()];case"dd":return Y._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return Y._zeroPad(Y._h12(t),c);case"HH":case"H":return Y._zeroPad(t.getHours(),c);case"mm":case"m":return Y._zeroPad(t.getMinutes(),c);case"ss":case"s":return Y._zeroPad(t.getSeconds(),c);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return h=t.getMilliseconds()*Math.pow(10,c-3),"f"==n[0]?Y._zeroPad(h,c):h.toFixed(0);case"tt":return t.getHours()<12?r.am[0]:r.pm[0];case"t":return t.getHours()<12?r.am[1]:r.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return e=D.DateTime.toFiscal(t,"U"==n),(Math.floor(e.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":return 1<r.eras.length&&-1<(s=Y._getEra(t,r))?"ggg"==n?r.eras[s].name:"gg"==n?r.eras[s].name[0]:r.eras[s].symbol:r.eras[0];case":":case"/":return r[n];case"K":var u=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return u?u[1]+u[2]+u[3]:"";case"zzz":case"zz":case"z":var l=-t.getTimezoneOffset(),A=void 0;switch(n){case"zzz":A=Y.format(l/60,"d2",!1,!0)+r[":"]+Y.format(l%60,"d2",!1,!0);break;case"zz":A=Y.format(l/60,"d2",!1,!0);break;case"z":A=Y.format(l/60,"d",!1,!0)}return 0<=l?"+"+A:A}return 1<c&&n[0]==n[c-1]&&('"'==n[0]||"'"==n[0])?n.substr(1,c-2):n},Y._getEra=function(t,i){if(D.isDate(t)){for(var n=0;n<i.eras.length;n++)if(t>=i.eras[n].start)return n}else if(D.isString(t))for(n=0;n<i.eras.length;n++)if(i.eras[n].name&&(0==i.eras[n].name.indexOf(t)||0==i.eras[n].symbol.indexOf(t)))return n;return-1},Y._expandFormat=function(t){return D.culture.Globalize.calendar.patterns[t]||t},Y._zeroPad=function(t,i){var n=t.toFixed(0),e=i-n.length+1;return 0<e?Array(e).join("0")+n:n},Y._h12=function(t){var i=D.culture.Globalize.calendar,n=t.getHours();return i.am&&i.am[0]&&0==(n%=12)&&(n=12),n},Y._mul100=function(t){var i=t.toString(),n=i.indexOf(".");return-1<i.indexOf("e")?100*t:(n<0?i+="00":(n+=2,i=(i=i.replace(".","")+"00").substr(0,n)+"."+i.substr(n)),parseFloat(i))},Y._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),Y._dateFormatParts={},Y}();D.Globalize=t,D._updateCulture=function(){D.culture=window.wijmo.culture}}(vn||(window.wijmo=vn={})),t=vn||(window.wijmo=vn={}),n=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var i=0;i<this._parts.length;i++){var n=this._parts[i],e=n.indexOf("[");-1<e&&(this._parts[i]=n.substr(0,e),this._parts.splice(++i,0,parseInt(n.substr(e+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var i=0;i<this._parts.length&&t;i++)t=t[this._parts[i]]}return t},t.prototype.setValue=function(t,i){if(t){if(this._path in t)return void(t[this._path]=i);for(var n=0;n<this._parts.length-1;n++)if(null==(t=t[this._parts[n]]))return;t[this._parts[this._parts.length-1]]=i}},t}(),t.Binding=n;var s,o,d,g,h,c,a,l,w,m,b,v,p,E,B,j,C,I,Q,M,F,y,R,x,k,S,Y,D,U,N,T,O,H,z,J,G,V,P,W,L,X,K,Z,_,q,tt,it,nt,et,rt,st,ot,ht,ct,at,ut,lt,At,ft,dt,gt,wt,mt,bt,vt,pt,Et,Bt,jt,Ct,It,Qt,Mt,Ft,yt,Rt,xt,kt,St,Yt,Dt,Ut,Nt,Tt,Ot,Ht,zt,Jt,Gt,Vt,Pt,Wt,Lt,Xt,Kt,Zt,_t,qt,$t,ti,ii,ni,ei,ri,si,oi,hi,ci,ai,ui,li,Ai,fi,di,gi,wi,mi,bi,vi,pi,Ei,Bi,ji,Ci,Ii,Qi,Mi,Fi,yi,Ri,xi,ki,Si,Yi,Di,Ui,Ni,Ti,Oi,Hi,zi,Ji,Gi,Vi,Pi,Wi,Li,Xi,Ki,Zi,_i,qi,$i,tn,nn,en,rn,sn,on,hn,cn,an,un,ln,An,fn,dn,gn,wn,mn,bn,vn,pn,En,Bn,jn,Cn=window&&window.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});!function(r){var n=function(t,i){this.handler=t,this.self=i},t=function(){function t(){this._handlers=[]}return t.prototype.addHandler=function(t,i){t=r.asFunction(t),this._handlers.push(new n(t,i))},t.prototype.removeHandler=function(t,i){t=r.asFunction(t);for(var n=0;n<this._handlers.length;n++){var e=this._handlers[n];if((e.handler==t||null==t)&&(e.self==i||null==i)&&(this._handlers.splice(n,1),t&&i))break}},t.prototype.removeAllHandlers=function(){this._handlers.length=0},t.prototype.raise=function(t,i){void 0===i&&(i=s.empty);for(var n=0;n<this._handlers.length;n++){var e=this._handlers[n];e.handler.call(e.self,t,i)}},Object.defineProperty(t.prototype,"hasHandlers",{get:function(){return 0<this._handlers.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),t}();r.Event=t;var s=function(){function t(){}return t.empty=new t,t}(),i=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t.cancel=!1,t}return Cn(t,i),t}(r.EventArgs=s);r.CancelEventArgs=i;var e=function(r){function t(t,i,n){var e=r.call(this)||this;return e._name=t,e._oldVal=i,e._newVal=n,e}return Cn(t,r),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(s);r.PropertyChangedEventArgs=e;var o=function(e){function t(t,i){var n=e.call(this)||this;return n._xhr=t,n._msg=i,n}return Cn(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(t){this._msg=t},enumerable:!0,configurable:!0}),t}(i);r.RequestErrorEventArgs=o}(vn||(window.wijmo=vn={})),Cn=window&&window.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(C){C.controlBaseClass=window["wj-control-is-element"]?HTMLElement:Object;var t=!1;try{t=Array.prototype!==Array.prototype}catch(C){t=!0}var n=t||C.controlBaseClass!==Object,i=function(i){function t(){var t=this;return n&&(t=i.call(this)||this),t}return Cn(t,i),t}(C.controlBaseClass),e=function(d){function j(t,i,n){void 0===i&&(i=null),void 0===n&&(n=!1);var e=d.call(this)||this;e._pristine=!0,e._focus=!1,e._updating=0,e._fullUpdate=!1,e.gotFocus=new C.Event,e.lostFocus=new C.Event,e.refreshing=new C.Event,e.refreshed=new C.Event,e._updateWme(),C.assert(null==j.getControl(t),"Element is already hosting a control.");var r,s=C.getElement(t);if(C.assert(null!=s,"Cannot find the host element."),e._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,e._orgOuter=s.outerHTML,e._orgTag=s.tagName,e._orgAtts=s.attributes,"INPUT"!=s.tagName&&"SELECT"!=s.tagName||(s=e._replaceWithDiv(s)),(e._e=s)[j._CTRL_KEY]=e,1==n){e._szCtl=new C.Size(s.offsetWidth,s.offsetHeight);var o=e._handleResize.bind(e);e.addEventListener(window,"resize",o)}e.addEventListener(s,"focus",function(t){r&&clearTimeout(r),r=setTimeout(function(){r=null,e._updateFocusState()},j._FOCUS_INTERVAL)},!0),e.addEventListener(s,"blur",function(t){r&&clearTimeout(r),r=setTimeout(function(){r=null,e._updateFocusState()},j._FOCUS_INTERVAL)},!0);var h=e._handleDisabled.bind(e),c=e.addEventListener.bind(e);if(c(s,"mousedown",h,!0),c(s,"mouseup",h,!0),c(s,"click",h,!0),c(s,"dblclick",h,!0),c(s,"keydown",h,!0),c(s,"wheel",h,C.getEventOptions(!0,!0)),null==j._touching&&(j._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var a=document.body,u=a.addEventListener.bind(a),l=e._handleTouchStart,A=e._handleTouchEnd,f=C.getEventOptions(!0,!0);"ontouchstart"in window?(u("touchstart",l,f),u("touchend",A,f),u("touchcancel",A,f),u("touchleave",A,f)):"onpointerdown"in window&&(u("pointerdown",l,f),u("pointerup",A,f),u("pointerout",A,f),u("pointercancel",A,f),u("pointerleave",A,f))}return e}return Cn(j,d),j.prototype.getTemplate=function(){for(var t=Object.getPrototypeOf(this);t;t=Object.getPrototypeOf(t)){var i=t.constructor.controlTemplate;if(i)return i}return null},j.prototype.applyTemplate=function(t,i,n,e){var r=this,s=this._e;t&&C.addClass(s,t);var o=null;i&&(o=C.createElement(i,s));for(var h=s.querySelectorAll("a.wj-btn"),c=0;c<h.length;c++){var a=h[c];C.setAttribute(a,"role","button",!0),C.setAttribute(a,"href","",!0),C.setAttribute(a,"draggable",!1,!0)}var u=s.querySelectorAll("button");for(c=0;c<u.length;c++)C.setAttribute(u[c],"type","button",!0);var l=s.querySelectorAll("input"),A=1==l.length?l[0]:null;if(A){var f=j._rxInputAtts;this._copyAttributes(A,s.attributes,f),this._copyAttributes(A,this._orgAtts,f)}if(A&&s.id){for(var d=s;d.parentElement;)d=d.parentElement;var g=d.querySelector('label[for="'+s.id+'"]');if(g instanceof HTMLLabelElement){var w=C.getUniqueId(s.id+"_input");A.id=w,g.htmlFor=w}}if(A){var m=document.createEvent("HTMLEvents"),b=A.value;m.initEvent("change",!0,!1),this.addEventListener(A,"input",function(){r._pristine=!1,b=A.value},!0),this.gotFocus.addHandler(function(){b=A.value}),this.lostFocus.addHandler(function(){r._pristine&&(r._pristine=!1,r._updateState()),b!=A.value&&A.dispatchEvent(m)})}if(A?s.tabIndex=-1:s.getAttribute("tabindex")||(s.tabIndex=0),this._updateState(),n)for(var v in n){var p=n[v];if(this[v]=o.querySelector('[wj-part="'+p+'"]'),null==this[v]&&o.getAttribute("wj-part")==p&&(this[v]=o),null==this[v])throw'Missing template part: "'+p+'"';if(p==e){var E="name",B=s.attributes[E];B&&B.value&&this[v].setAttribute(E,B.value),E="accesskey",(B=s.attributes[E])&&B.value&&(this[v].setAttribute(E,B.value),s.removeAttribute(E))}}return o},j.prototype.dispose=function(){for(var t=this._e.querySelectorAll(".wj-control"),i=0;i<t.length;i++){var n=j.getControl(t[i]);n&&n.dispose()}for(var e in this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.removeEventListener(),this)2<e.length&&0==e.indexOf("on")&&(s=this[e[2].toLowerCase()+e.substr(3)])instanceof C.Event&&s.removeAllHandlers();var r=this.collectionView;if(r instanceof C.collections.CollectionView)for(var e in r){var s;(s=r[e])instanceof C.Event&&s.removeHandler(null,this)}this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[j._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=null},j.getControl=function(t){var i=C.getElement(t);return i?C.asType(i[j._CTRL_KEY],j,!0):null},Object.defineProperty(j.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),j.prototype.focus=function(){var t=this._e;t&&(t.tabIndex<0?C.moveFocus(t,0):t.focus())},j.prototype.containsFocus=function(){var t=this._e,i=C.getActiveElement();if(!t)return!1;for(var n=i;n;){if(n==t)return!0;n=n[j._OWNR_KEY]||n.parentElement}return!1},j.prototype.invalidate=function(t){var i=this;void 0===t&&(t=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||t,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate),i._toInv=null},j._REFRESH_INTERVAL))},j.prototype.refresh=function(t){var i=this;void 0===t&&(t=!0);var n=this.hostElement;n&&(this._rtlDir="rtl"==getComputedStyle(n).direction,C.toggleClass(n,"wj-rtl",this._rtlDir)),this.isUpdating||(this.onRefreshing(),setTimeout(function(){i.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1,this._updateWme())},j.invalidateAll=function(t){if(t||(t=document.body),t.children)for(var i=0;i<t.children.length;i++)j.invalidateAll(t.children[i]);var n=j.getControl(t);n&&n.invalidate()},j.refreshAll=function(t){if(t||(t=document.body),t.children)for(var i=0;i<t.children.length;i++)j.refreshAll(t.children[i]);var n=j.getControl(t);n&&n.refresh()},j.disposeAll=function(t){var i=j.getControl(t);if(i)i.dispose();else if(t.children)for(var n=0;n<t.children.length;n++)j.disposeAll(t.children[n])},j.prototype.beginUpdate=function(){this._updating++},j.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(j.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),j.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(j.prototype,"isTouching",{get:function(){return j._touching},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){(t=C.asBoolean(t,!0))!=this.isDisabled&&C.enable(this._e,!t)},enumerable:!0,configurable:!0}),j.prototype.initialize=function(t){t&&C.copy(this,t)},j.prototype.addEventListener=function(t,i,n,e){void 0===e&&(e=!1),t&&(t.addEventListener(i,n,e),null==this._listeners&&(this._listeners=[]),this._listeners.push({target:t,type:i,fn:n,capture:e}))},j.prototype.removeEventListener=function(t,i,n,e){var r=0;if(this._listeners)for(var s=0;s<this._listeners.length;s++){var o=this._listeners[s];null!=t&&t!=o.target||null!=i&&i!=o.type||(null==n||n==o.fn||n&&o.fn&&n.toString()==o.fn.toString())&&(null!=e&&e!=o.capture||(o.target.removeEventListener(o.type,o.fn,o.capture),this._listeners.splice(s,1),s--,r++))}return r},j.prototype.onGotFocus=function(t){this.gotFocus.raise(this,t)},j.prototype.onLostFocus=function(t){this.lostFocus.raise(this,t)},j.prototype.onRefreshing=function(t){this.refreshing.raise(this,t)},j.prototype.onRefreshed=function(t){this.refreshed.raise(this,t)},j.prototype._getProductInfo=function(){return"B0C3,Control"},j.prototype._updateWme=function(){var t=window.wijmo._updateWme;C.isFunction(t)&&t(this,j._licKey)},j.prototype._hasPendingUpdates=function(){return null!=this._toInv},j.prototype._handleResize=function(){if(this._e.parentElement){var t=new C.Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},j.prototype._updateFocusState=function(){setTimeout(function(){for(var t=C.EventArgs.empty,i=document.body.querySelectorAll(".wj-state-focused"),n=0;n<i.length;n++)(o=j.getControl(i[n]))&&o._focus&&!o.containsFocus()&&(C.removeClass(o._e,"wj-state-focus"),o._focus=!1,o._updateState(),o.onLostFocus(t));var e=C.getActiveElement();if(e)for(var r=!0,s=e;s;){var o;(o=j.getControl(s))&&!o._focus&&o.containsFocus()&&(r&&(C.addClass(s,"wj-state-focus"),r=!1),o._focus=!0,o._updateState(),o.onGotFocus(t)),s=s[j._OWNR_KEY]||s.parentElement}})},j.prototype._updateState=function(){var t=this.hostElement;if(t){C.toggleClass(t,"wj-state-focused",this._focus);var i=t.querySelector("input");if(i instanceof HTMLInputElement){C.toggleClass(t,"wj-state-empty",0==i.value.length),C.toggleClass(t,"wj-state-readonly",i.readOnly);var n=i.validationMessage;C.toggleClass(t,"wj-state-invalid",!this._pristine&&null!=n&&0<n.length)}}},j.prototype._handleTouchStart=function(t){null!=t.pointerType&&"touch"!=t.pointerType||(j._touching=!0)},j.prototype._handleTouchEnd=function(t){null!=t.pointerType&&"touch"!=t.pointerType||setTimeout(function(){j._touching=!1},800)},j.prototype._handleDisabled=function(t){this.isDisabled&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},j.prototype._replaceWithDiv=function(t){var i=document.createElement("div");return t.parentElement.replaceChild(i,t),i.innerHTML=t.innerHTML,this._copyAttributes(i,t.attributes,/id|style|class/i),i},j.prototype._copyAttributes=function(t,i,n){if(t)for(var e=0;e<i.length;e++){var r=i[e].name;r.match(n)&&t.setAttribute(r,i[e].value)}},j._REFRESH_INTERVAL=10,j._FOCUS_INTERVAL=0,j._ANIM_DEF_DURATION=400,j._ANIM_DEF_STEP=35,j._CLICK_DELAY=800,j._CLICK_REPEAT=75,j._CLIPBOARD_DELAY=100,j._DRAG_SCROLL_EDGE=15,j._DRAG_SCROLL_STEP=10,j._CTRL_KEY="$WJ-CTRL",j._OWNR_KEY="$WJ-OWNR",j._SCRL_KEY="$WJ-SCRL",j._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type/i,j}(C.ControlBase=i);C.Control=e}(vn||(window.wijmo=vn={})),d=vn||(window.wijmo=vn={}),(h=g=d.Aggregate||(d.Aggregate={}))[h.None=0]="None",h[h.Sum=1]="Sum",h[h.Cnt=2]="Cnt",h[h.Avg=3]="Avg",h[h.Max=4]="Max",h[h.Min=5]="Min",h[h.Rng=6]="Rng",h[h.Std=7]="Std",h[h.Var=8]="Var",h[h.StdPop=9]="StdPop",h[h.VarPop=10]="VarPop",h[h.CntAll=11]="CntAll",h[h.First=12]="First",h[h.Last=13]="Last",d.getAggregate=function(t,i,n){var e=0,r=0,s=0,o=0,h=null,c=null,a=null,u=n?new d.Binding(n):null;if((t=d.asEnum(t,g))==g.CntAll)return i.length;for(var l=0;l<i.length;l++){var A=i[l];if(u&&(A=u.getValue(A)),t==g.First)return A;null!=A&&(e++,(null==h||A<h)&&(h=A),(null==c||c<A)&&(c=A),a=A,d.isNumber(A)&&!isNaN(A)?(r++,s+=A,o+=A*A):d.isBoolean(A)&&(r++,1==A&&(s++,o++)))}var f=0==r?0:s/r;switch(t){case g.Avg:return f;case g.Cnt:return e;case g.Max:return c;case g.Min:return h;case g.Rng:return c-h;case g.Sum:return s;case g.VarPop:return r<=1?0:o/r-f*f;case g.StdPop:return r<=1?0:Math.sqrt(o/r-f*f);case g.Var:return r<=1?0:(o/r-f*f)*r/(r-1);case g.Std:return r<=1?0:Math.sqrt((o/r-f*f)*r/(r-1));case g.Last:return a}throw"Invalid aggregate type."},Cn=window&&window.__extends||(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}c(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){var s,i;(i=s=t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={}))[i.Add=0]="Add",i[i.Remove=1]="Remove",i[i.Change=2]="Change",i[i.Reset=3]="Reset";var n=function(r){function t(t,i,n){void 0===t&&(t=s.Reset),void 0===i&&(i=null),void 0===n&&(n=-1);var e=r.call(this)||this;return e.action=t,e.item=i,e.index=n,e}return Cn(t,r),t.reset=new t(s.Reset),t}(a.EventArgs);t.NotifyCollectionChangedEventArgs=n;var e=function(){function t(t,i){this._bnd=new a.Binding(t),this._asc=i}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();t.SortDescription=e;var r=function(n){function t(t){var i=n.call(this)||this;return i.newPageIndex=t,i}return Cn(t,n),t}(a.CancelEventArgs);t.PageChangingEventArgs=r;var o=function(){function t(){}return t.prototype.groupNameFromItem=function(t,i){return""},t.prototype.namesMatch=function(t,i){return t===i},t}(),h=function(e){function t(t,i){var n=e.call(this)||this;return n._bnd=new a.Binding(t),n._converter=i,n}return Cn(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(t,i){return this._converter?this._converter(t,this.propertyName):this._bnd.getValue(t)},t.prototype.namesMatch=function(t,i){return t===i},t}(t.GroupDescription=o);t.PropertyGroupDescription=h}((a=vn||(window.wijmo=vn={})).collections||(a.collections={})),Cn=window&&window.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}l(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(o){var t=function(i){function t(){var t=this;return n?t.length=0:t=i.call(this)||this,t}return Cn(t,i),t}(Array);o.ArrayBase=t;var n=!0;try{t.prototype=Array.prototype,n=t.prototype===Array.prototype}catch(t){n=!1}var i=window.Symbol;!n&&i&&i.species&&Object.defineProperty(t,i.species,{get:function(){return Array},enumerable:!1,configurable:!1});var e=function(s){function t(t){var i=s.call(this)||this;if(i._updating=0,i.collectionChanged=new m.Event,t){t=m.asArray(t),i._updating++;for(var n=0;n<t.length;n++)i.push(t[n]);i._updating--}return i}return Cn(t,s),t.prototype.push=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=this.length,e=0;t&&e<t.length;e++)n=s.prototype.push.call(this,t[e]),this._updating||this._raiseCollectionChanged(o.NotifyCollectionChangedAction.Add,t[e],n-1);return n},t.prototype.pop=function(){var t=s.prototype.pop.call(this);return this._raiseCollectionChanged(o.NotifyCollectionChangedAction.Remove,t,this.length),t},t.prototype.splice=function(t,i,n){var e,r=o.NotifyCollectionChangedAction;return i&&n?(e=s.prototype.splice.call(this,t,i,n),1==i?this._raiseCollectionChanged(r.Change,n,t):this._raiseCollectionChanged()):n?(e=s.prototype.splice.call(this,t,0,n),this._raiseCollectionChanged(r.Add,n,t)):(e=s.prototype.splice.call(this,t,i),1==i?this._raiseCollectionChanged(r.Remove,e[0],t):this._raiseCollectionChanged()),e},t.prototype.slice=function(t,i){return s.prototype.slice.call(this,t,i)},t.prototype.indexOf=function(t,i){return s.prototype.indexOf.call(this,t,i)},t.prototype.sort=function(t){var i=s.prototype.sort.call(this,t);return this._raiseCollectionChanged(),i},t.prototype.insert=function(t,i){this.splice(t,0,i)},t.prototype.remove=function(t){var i=this.indexOf(t);return-1<i&&(this.removeAt(i),!0)},t.prototype.removeAt=function(t){this.splice(t,1)},t.prototype.setAt=function(t,i){t>this.length&&(this.length=t),this.splice(t,1,i)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){0<this._updating&&(this._updating--,0==this._updating&&this._raiseCollectionChanged())},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(t){return"INotifyCollectionChanged"==t},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=o.NotifyCollectionChangedEventArgs.reset),this.isUpdating||this.collectionChanged.raise(this,t)},t.prototype._raiseCollectionChanged=function(t,i,n){if(void 0===t&&(t=o.NotifyCollectionChangedAction.Reset),!this.isUpdating){var e=new o.NotifyCollectionChangedEventArgs(t,i,n);this.onCollectionChanged(e)}},t}(t);o.ObservableArray=e}((m=vn||(window.wijmo=vn={})).collections||(m.collections={})),function(a){var s=function(){function d(t,i){var n=this;this._idx=-1,this._srtDsc=new a.ObservableArray,this._grpDesc=new a.ObservableArray,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._trackChanges=!1,this._chgAdded=new a.ObservableArray,this._chgRemoved=new a.ObservableArray,this._chgEdited=new a.ObservableArray,this.collectionChanged=new w.Event,this.sourceCollectionChanging=new w.Event,this.sourceCollectionChanged=new w.Event,this.currentChanged=new w.Event,this.currentChanging=new w.Event,this.pageChanged=new w.Event,this.pageChanging=new w.Event,this._srtDsc.collectionChanged.addHandler(function(){n._srtDsc.forEach(function(t){w.assert(t instanceof a.SortDescription,"sortDescriptions array must contain SortDescription objects.")}),n.canSort&&n.refresh()}),this._grpDesc.collectionChanged.addHandler(function(){n._grpDesc.forEach(function(t){w.assert(t instanceof a.GroupDescription,"groupDescriptions array must contain GroupDescription objects.")}),n.canGroup&&(n.currentEditItem||n.currentAddItem?n.commitEdit():n.refresh())}),this.sourceCollection=t||new a.ObservableArray,i&&(this.beginUpdate(),w.copy(this,i),this.endUpdate())}return d.prototype._copy=function(t,i){switch(t){case"sortDescriptions":this.sortDescriptions.clear();for(var n=w.asArray(i),e=0;e<n.length;e++){var r=n[e];w.isString(r)&&(r=new a.SortDescription(r,!0)),this.sortDescriptions.push(r)}return!0;case"groupDescriptions":this.groupDescriptions.clear();var s=w.asArray(i);for(e=0;e<s.length;e++)r=s[e],w.isString(r)&&(r=new a.PropertyGroupDescription(r)),this.groupDescriptions.push(r);return!0;case"currentItem":return this.currentItem=i,!0}return!1},Object.defineProperty(d.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=w.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=w.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=w.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=w.asBoolean(t)},enumerable:!0,configurable:!0}),d.prototype.getAggregate=function(t,i,n){var e=n?this._pgView:this._view;return w.getAggregate(t,e,i)},Object.defineProperty(d.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),d.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},d.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(d.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError=w.asFunction(t)},enumerable:!0,configurable:!0}),d.prototype.onCollectionChanged=function(t){void 0===t&&(t=a.NotifyCollectionChangedEventArgs.reset),t.action!=a.NotifyCollectionChangedAction.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this.collectionChanged.raise(this,t)},d.prototype._raiseCollectionChanged=function(t,i,n){void 0===t&&(t=a.NotifyCollectionChangedAction.Reset);var e=new a.NotifyCollectionChangedEventArgs(t,i,n);this.onCollectionChanged(e)},d.prototype._notifyItemChanged=function(t){var i=new a.NotifyCollectionChangedEventArgs(a.NotifyCollectionChangedAction.Change,t,this.items.indexOf(t));this.onCollectionChanged(i)},d.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},d.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(d.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"currentItem",{get:function(){return this._pgView&&-1<this._idx&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(w.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=w.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new w.CancelEventArgs))return;var i=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=w.asArray(t,!1),this._ncc=w.tryCast(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&-1<i&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),d.prototype._sourceChanged=function(t,i){this._updating<=0&&this.refresh()},d.prototype.contains=function(t){return-1<this._pgView.indexOf(t)},d.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},d.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},d.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},d.prototype.moveCurrentToPrevious=function(){return 0<this._idx&&this.moveCurrentToPosition(this._idx-1)},d.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},d.prototype.moveCurrentToPosition=function(t){if(-1<=t&&t<this._pgView.length&&t!=this._idx){var i=new w.CancelEventArgs;if(this.onCurrentChanging(i)){var n=this._pgView[t];this._edtItem&&n!=this._edtItem?this.commitEdit():this._newItem&&n!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},d.prototype.refresh=function(){this._newItem||this._edtItem?this._pendingRefresh=!0:this._updating<=0&&(this._performRefresh(),this.onCollectionChanged())},d.prototype._performRefresh=function(){if(!(0<this._updating)){this._pendingRefresh=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&0<this._srtDsc.length&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=w.clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&1<this.pageCount&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var i=this._pgView.indexOf(t);i<0&&(i=Math.min(this._idx,this._pgView.length-1)),this._idx=i,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==t&&this.onCurrentChanged()}},d.prototype._performSort=function(t){if(this._stableSort){var i=t.map(function(t,i){return{item:t,index:i}}),e=this._compareItems();i.sort(function(t,i){var n=e(t.item,i.item);return 0==n?t.index-i.index:n});for(var n=0;n<t.length;n++)t[n]=i[n].item}else t.sort(this._compareItems())},d.prototype._compareItems=function(){var a=this._srtDsc,u=this._srtCvt,l=this._srtCmp,A=!0,f=0;return function(t,i){for(var n=0;n<a.length;n++){var e=a[n],r=e._bnd.getValue(t),s=e._bnd.getValue(i);if(u&&(r=u(e,t,r,A),s=u(e,i,s,!1),A=!1),l&&null!=(f=l(r,s)))return e.ascending?+f:-f;if(r!=r&&(r=null),s!=s&&(s=null),null!=r&&null==s)return-1;if(null==r&&null!=s)return 1;if("string"==typeof r&&"string"==typeof s){var o=d._collator;if(o){if(0!=(f=o.compare(r,s)))return e.ascending?+f:-f;continue}var h=r.toLowerCase(),c=s.toLowerCase();h!=c&&(r=h,s=c)}if(0!=(f=r<s?-1:s<r?1:0))return e.ascending?+f:-f}return 0}},d.prototype._performFilter=function(t){return this.canFilter&&this._filter?t.filter(this._filter,this):t},d.prototype.onCurrentChanged=function(t){void 0===t&&(t=w.EventArgs.empty),this.currentChanged.raise(this,t)},d.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(d.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),d.prototype.beginUpdate=function(){this._updating++},d.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.refresh()},Object.defineProperty(d.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),d.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(d.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),d.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone={},this._extend(this._edtClone,this._edtItem))},d.prototype.commitEdit=function(){var t=this._edtItem,i=this._edtClone;if(null!=t){this._committing=!0;var n=this._sameContent(t,i),e=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var r=this._pgView.indexOf(t),s=this._digest;this._performRefresh(),n||this._trackItemChanged(t),this._pgView.indexOf(t)!=r||s!=this._digest||e?this._raiseCollectionChanged():this._raiseCollectionChanged(a.NotifyCollectionChangedAction.Change,t,r),this.commitNew(),this._committing=!1}},d.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return void w.assert(!1,"cannot cancel edits (canCancelEdit == false).");var i=this._src.indexOf(t);0<=i&&this._edtClone&&(this._extend(this._src[i],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(a.NotifyCollectionChangedAction.Change,t,i),this._canceling=!1,this._pendingRefresh&&(this._performRefresh(),this._raiseCollectionChanged()))}},d.prototype.addNew=function(){if(0<arguments.length&&w.assert(!1,"addNew does not take any parameters, it creates the new items."),this.commitEdit(),!this.canAddNew)return w.assert(!1,"cannot add items (canAddNew == false)."),null;var t,i=this.sourceCollection;if(null!=(t=this.newItemCreator?this.newItemCreator():i&&i.length?new i[0].constructor:{})){if(this._newItem=t,this._updating++,this._src.push(t),this._updating--,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var n=this.groups[this.groups.length-1];for(n.items.push(t);n.groups&&n.groups.length;)(n=n.groups[n.groups.length-1]).items.push(t)}this._raiseCollectionChanged(a.NotifyCollectionChangedAction.Add,t,this._pgView.length-1),this.moveCurrentTo(t)}return this._newItem},d.prototype.commitNew=function(){var t=this._newItem;if(null!=t){this._newItem=null;var i=this._pgView.indexOf(t),n=this._digest;if(this._performRefresh(),this._trackChanges){var e=this._chgEdited.indexOf(t);-1<e&&this._chgEdited.removeAt(e),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)==i&&n==this._digest?this._raiseCollectionChanged(a.NotifyCollectionChangedAction.Change,t,i):this._raiseCollectionChanged()}},d.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},d.prototype.remove=function(t){var i=t==this._newItem;if(i&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var n=this._src.indexOf(t);if(-1<n){var e=this.currentItem;this._updating++,this._src.splice(n,1),this._updating--;var r=this._digest;if(this._performRefresh(),this._trackChanges){var s=this._chgAdded.indexOf(t);-1<s&&this._chgAdded.removeAt(s);var o=this._chgEdited.indexOf(t);-1<o&&this._chgEdited.removeAt(o),this._chgRemoved.indexOf(t)<0&&!i&&s<0&&this._chgRemoved.push(t)}var h=0<this.sortDescriptions.length,c=0<this.pageSize&&-1<this._pgIdx;h||c||r!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(a.NotifyCollectionChangedAction.Remove,t,n),this.currentItem!==e&&this.onCurrentChanged()}}else w.assert(!1,"cannot remove items (canRemove == false).")},d.prototype.removeAt=function(t){t=w.asInt(t),this.remove(this._pgView[t])},d.prototype._trackItemChanged=function(t){if(this._trackChanges){var i=this.sourceCollection;if(i&&-1<i.indexOf(t)){var n=this._chgEdited.indexOf(t),e=a.NotifyCollectionChangedAction.Change;if(n<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(-1<n){var r=new a.NotifyCollectionChangedEventArgs(e,t,n);this._chgEdited.onCollectionChanged(r)}else-1<(n=this._chgAdded.indexOf(t))&&(r=new a.NotifyCollectionChangedEventArgs(e,t,n),this._chgAdded.onCollectionChanged(r))}}},d.prototype._extend=function(t,i){for(var n in i)t[n]=i[n]},d.prototype._sameContent=function(t,i){for(var n in w.assert(null!=i&&null!=t,"Two objects expected"),i)if(!this._sameValue(t[n],i[n]))return!1;for(var n in t)if(!this._sameValue(t[n],i[n]))return!1;return!0},d.prototype._sameValue=function(t,i){return t===i||w.DateTime.equals(t,i)},Object.defineProperty(d.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=w.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),d.prototype.moveToFirstPage=function(){return this.moveToPage(0)},d.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},d.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},d.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},d.prototype.moveToPage=function(t){var i=w.clamp(t,0,this.pageCount-1);if(i!=this._pgIdx){this.canChangePage||w.assert(!1,"cannot change pages (canChangePage == false).");var n=new a.PageChangingEventArgs(i);this.onPageChanging(n)&&(this._pgIdx=i,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():this.onCollectionChanged(),this.onPageChanged())}return this._pgIdx==t},d.prototype.onPageChanged=function(t){void 0===t&&(t=w.EventArgs.empty),this.pageChanged.raise(this,t)},d.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},d.prototype._getFullGroup=function(t){var i=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=i&&(t=i),t},d.prototype._getGroupByPath=function(t,i,n){for(var e=0;e<t.length;e++){var r=t[e];if(r.level==i&&r._path==n)return r;if(r.level<i&&0==n.indexOf(r._path)&&null!=(r=this._getGroupByPath(r.groups,i,n)))return r}return null},d.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,i=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,i)},d.prototype._createGroups=function(t){if(!this._grpDesc||!this._grpDesc.length)return null;for(var i=[],n={},e=null,r=0;r<t.length;r++)for(var s=t[r],o=i,h=this._grpDesc.length,c="",a=0;a<h;a++){var u=this._grpDesc[a],l=u.groupNameFromItem(s,a),A=a==h-1;!(e=n[c])&&w.isPrimitive(l)&&(e={},n[c]=e);var f=this._getGroup(u,o,e,l,a,A);c+="/"+l,f._path=c,A&&f.items.push(s),o=f.groups}return i},d.prototype._getGroupsDigest=function(t){for(var i="",n=0;null!=t&&n<t.length;n++){var e=t[n];i+="{"+e.name+":"+(e.items?e.items.length:"*"),0<e.groups.length&&(i+=",",i+=this._getGroupsDigest(e.groups)),i+="}"}return i},d.prototype._mergeGroupItems=function(t){for(var i=[],n=0;n<t.length;n++){var e=t[n];if(!e._isBottomLevel)for(var r=this._mergeGroupItems(e.groups),s=0,o=r.length;s<o;s++)e._items.push(r[s]);for(s=0,o=e._items.length;s<o;s++)i.push(e._items[s])}return i},d.prototype._getGroup=function(t,i,n,e,r,s){var o;if(n&&w.isPrimitive(e)){if(o=n[e])return o}else for(var h=0;h<i.length;h++)if(t.namesMatch(i[h].name,e))return i[h];var c=new u(t,e,r,s);return i.push(c),n&&(n[e]=c),c},d._collator="undefined"!=typeof window&&window.Intl?new Intl.Collator:null,d}();a.CollectionView=s;var u=function(){function t(t,i,n,e){this._gd=t,this._name=i,this._level=n,this._isBottomLevel=e,this._groups=[],this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,i,n){var e=w.tryCast(n,s),r=e?e._getFullGroup(this):this;return w.getAggregate(t,r.items,i)},t}();a.CollectionViewGroup=u}((w=vn||(window.wijmo=vn={})).collections||(w.collections={})),Cn=window&&window.__extends||(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}b(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(o){var t=function(){function s(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new o.Event,o.copy(this,t)}return s.prototype.setTooltip=function(t,i){t=o.getElement(t),i=this._getContent(i);var n=this._indexOf(t);-1<n&&(this._detach(t),this._tips.splice(n,1)),i&&(this._attach(t),this._tips.push({element:t,content:i}))},s.prototype.getTooltip=function(t){t=o.getElement(t);for(var i=this._tips,n=0;n<i.length;n++)if(i[n].element==t)return i[n].content;return null},s.prototype.show=function(t,i,n){t=o.getElement(t),i=this._getContent(i),n||(n=o.Rect.fromBoundingRect(t.getBoundingClientRect()));var e=s._eTip;e||(e=s._eTip=document.createElement("div"),o.addClass(e,"wj-tooltip"),e.style.visibility="none"),this._setContent(i);var r=new h(i);this.onPopup(r),r.content&&!r.cancel&&(document.body.appendChild(e),this._setContent(r.content),e.style.minWidth="",n=new o.Rect(n.left-(e.offsetWidth-n.width)/2,n.top-this.gap,e.offsetWidth,n.height+2*this.gap),o.showPopup(e,n,!0),document.addEventListener("mousedown",this._hideAutoTipBnd))},s.prototype.hide=function(){var t=s._eTip;t&&(o.removeChild(t),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},s.prototype.dispose=function(){var i=this;this._tips.forEach(function(t){i._detach(t.element)}),this._tips.splice(0,this._tips.length)},Object.defineProperty(s.prototype,"isVisible",{get:function(){var t=s._eTip;return null!=t&&null!=t.parentElement&&0<t.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=o.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=o.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=o.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=o.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=o.asInt(t)},enumerable:!0,configurable:!0}),s.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},s.prototype._indexOf=function(t){for(var i=0;i<this._tips.length;i++)if(this._tips[i].element==t)return i;return-1},s.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd)},s.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd)},s.prototype._showAutoTip=function(e){var r=this;if(!e.defaultPrevented)if("click"!=e.type||o.Control._touching){var t="mouseenter"==e.type?this._showDelay:0;this._clearTimeouts(),this._toShow=setTimeout(function(){var t=r._indexOf(e.target);if(-1<t){var i=r._tips[t],n=r._showAtMouse?new o.Rect(e.clientX,e.clientY,0,0):null;r.show(i.element,i.content,n),0<r._hideDelay&&(r._toHide=setTimeout(function(){r.hide()},r._hideDelay))}},t)}else this._hideAutoTip()},s.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},s.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},s.prototype._getContent=function(t){if((t=o.asString(t))&&"#"==t[0]){var i=o.getElement(t);i&&(t=i.innerHTML)}return t},s.prototype._setContent=function(t){var i=s._eTip;i&&(this.isContentHtml?i.innerHTML=t:i.textContent=t)},s}();o.Tooltip=t;var h=function(n){function t(t){var i=n.call(this)||this;return i._content=o.asString(t),i}return Cn(t,n),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){this._content=o.asString(t)},enumerable:!0,configurable:!0}),t}(o.CancelEventArgs);o.TooltipEventArgs=h}(vn||(window.wijmo=vn={})),I=vn||(window.wijmo=vn={}),Q=function(){function u(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(u.prototype,"r",{get:function(){return this._r},set:function(t){this._r=I.clamp(I.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"g",{get:function(){return this._g},set:function(t){this._g=I.clamp(I.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"b",{get:function(){return this._b},set:function(t){this._b=I.clamp(I.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"a",{get:function(){return this._a},set:function(t){this._a=I.clamp(I.asNumber(t),0,1)},enumerable:!0,configurable:!0}),u.prototype.equals=function(t){return t instanceof u&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},u.prototype.toString=function(){var t=Math.round(100*this.a);return 99<t?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},u.fromRgba=function(t,i,n,e){void 0===e&&(e=1);var r=new u(null);return r.r=Math.round(I.clamp(I.asNumber(t),0,255)),r.g=Math.round(I.clamp(I.asNumber(i),0,255)),r.b=Math.round(I.clamp(I.asNumber(n),0,255)),r.a=I.clamp(I.asNumber(e),0,1),r},u.fromHsb=function(t,i,n,e){void 0===e&&(e=1);var r=u._hsbToRgb(I.clamp(I.asNumber(t),0,1),I.clamp(I.asNumber(i),0,1),I.clamp(I.asNumber(n),0,1));return u.fromRgba(r[0],r[1],r[2],e)},u.fromHsl=function(t,i,n,e){void 0===e&&(e=1);var r=u._hslToRgb(I.clamp(I.asNumber(t),0,1),I.clamp(I.asNumber(i),0,1),I.clamp(I.asNumber(n),0,1));return u.fromRgba(r[0],r[1],r[2],e)},u.fromString=function(t){var i=new u(null);return i._parse(I.asString(t))?i:null},u.prototype.getHsb=function(){return u._rgbToHsb(this.r,this.g,this.b)},u.prototype.getHsl=function(){return u._rgbToHsl(this.r,this.g,this.b)},u.interpolate=function(t,i,n){n=I.clamp(I.asNumber(n),0,1);var e=u._rgbToHsl(t.r,t.g,t.b),r=u._rgbToHsl(i.r,i.g,i.b),s=1-n,o=t.a*s+i.a*n,h=[e[0]*s+r[0]*n,e[1]*s+r[1]*n,e[2]*s+r[2]*n],c=u._hslToRgb(h[0],h[1],h[2]);return u.fromRgba(c[0],c[1],c[2],o)},u.toOpaque=function(t,i){if(1==(t=I.isString(t)?u.fromString(t):I.asType(t,u)).a)return t;i=null==i?u.fromRgba(255,255,255,1):I.isString(i)?u.fromString(i):I.asType(i,u);var n=t.a,e=1-n;return u.fromRgba(t.r*n+i.r*e,t.g*n+i.g*e,t.b*n+i.b*e)},u.prototype._parse=function(t){if("transparent"==(t=t.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")){var i=document.createElement("div");i.style.color=t;var n=i.style.color;n==t&&((n=window.getComputedStyle(i).color)||(document.body.appendChild(i),n=window.getComputedStyle(i).color,I.removeChild(i))),t=n.toLowerCase()}if(0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length&&(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0);if(0==t.indexOf("rgb")){var e=t.indexOf("("),r=t.indexOf(")");if(-1<e&&-1<r&&2<(s=t.substr(e+1,r-(e+1)).split(",")).length)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=3<s.length?parseFloat(s[3]):1,!0}var s;if(0==t.indexOf("hsl")&&(e=t.indexOf("("),r=t.indexOf(")"),-1<e&&-1<r&&2<(s=t.substr(e+1,r-(e+1)).split(",")).length)){var o=parseInt(s[0])/360,h=parseInt(s[1]),c=parseInt(s[2]);-1<s[1].indexOf("%")&&(h/=100),-1<s[2].indexOf("%")&&(c/=100);var a=u._hslToRgb(o,h,c);return this.r=a[0],this.g=a[1],this.b=a[2],this.a=3<s.length?parseFloat(s[3]):1,!0}return!1},u._hslToRgb=function(t,i,n){var e,r,s;if(I.assert(0<=t&&t<=1&&0<=i&&i<=1&&0<=n&&n<=1,"bad HSL values"),0==i)e=r=s=n;else{var o=n<.5?n*(1+i):n+i-n*i,h=2*n-o;e=u._hue2rgb(h,o,t+1/3),r=u._hue2rgb(h,o,t),s=u._hue2rgb(h,o,t-1/3)}return[Math.round(255*e),Math.round(255*r),Math.round(255*s)]},u._hue2rgb=function(t,i,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(i-t)*n:n<.5?i:n<2/3?t+(i-t)*(2/3-n)*6:t},u._rgbToHsl=function(t,i,n){I.assert(0<=t&&t<=255&&0<=i&&i<=255&&0<=n&&n<=255,"bad RGB values"),t/=255,i/=255,n/=255;var e,r,s=Math.max(t,i,n),o=Math.min(t,i,n),h=(s+o)/2;if(s==o)e=r=0;else{var c=s-o;switch(r=.5<h?c/(2-s-o):c/(s+o),s){case t:e=(i-n)/c+(i<n?6:0);break;case i:e=(n-t)/c+2;break;case n:e=(t-i)/c+4}e/=6}return[e,r,h]},u._rgbToHsb=function(t,i,n){I.assert(0<=t&&t<=255&&0<=i&&i<=255&&0<=n&&n<=255,"bad RGB values");var e=u._rgbToHsl(t,i,n);return u._hslToHsb(e[0],e[1],e[2])},u._hsbToRgb=function(t,i,n){var e=u._hsbToHsl(t,i,n);return u._hslToRgb(e[0],e[1],e[2])},u._hsbToHsl=function(t,i,n){I.assert(0<=t&&t<=1&&0<=i&&i<=1&&0<=n&&n<=1,"bad HSB values");var e=I.clamp(n*(2-i)/2,0,1),r=1-Math.abs(2*e-1),s=I.clamp(0<r?n*i/r:i,0,1);return I.assert(!isNaN(e)&&!isNaN(s),"bad conversion to HSL"),[t,s,e]},u._hslToHsb=function(t,i,n){I.assert(0<=t&&t<=1&&0<=i&&i<=1&&0<=n&&n<=1,"bad HSL values");var e=I.clamp(1==n?1:(2*n+i*(1-Math.abs(2*n-1)))/2,0,1),r=I.clamp(0<e?2*(e-n)/e:i,0,1);return I.assert(!isNaN(e)&&!isNaN(r),"bad conversion to HSB"),[t,r,e]},u}(),I.Color=Q,j=vn||(window.wijmo=vn={}),C=function(){function i(){}return i.copy=function(t){i._copyPaste(j.asString(t),null)},i.paste=function(t){i._copyPaste(null,j.asFunction(t))},i._copyPaste=function(t,i){for(var n=j.getActiveElement(),e=j.closest(n,".wj-control");e&&j.Control.getControl(e);)e=e.parentElement;if(e=e||document.body){var r=j.createElement('<textarea class="wj-clipboard" style="position:fixed;opacity:0"/>',e);j.isString(t)&&(r.value=t),r.select(),r.onkeydown=function(t){t.preventDefault()},setTimeout(function(){n.focus(),j.removeChild(r),j.isFunction(i)&&i(r.value)},j.Control._CLIPBOARD_DELAY)}},i}(),j.Clipboard=C,function(x){function k(t,i){t.style.display="none",i&&t.parentElement&&setTimeout(function(){"none"==t.style.display&&(x.removeChild(t),x.isFunction(i)&&i())},x.Control._FOCUS_INTERVAL+1);var n=t[x.Control._SCRL_KEY];n instanceof x.Control&&n.dispose(),delete t[x.Control._SCRL_KEY],delete t[x.Control._OWNR_KEY]}function S(t){var i=window.jQuery,n=x.isFunction(i)?i(t):null;return n&&x.isFunction(n.dialog)&&x.hasClass(t,"ui-dialog")}x.showPopup=function(r,s,t,i,n){void 0===n&&(n=!0);var e=document.body;if(s instanceof HTMLElement){if(!x.contains(document.body,s))return;for(var o=s;o;o=o.parentElement)if(S(o)||"fixed"==getComputedStyle(o).position){e=o;break}}x.setCss(r,{display:"none",left:"",top:""}),r.offsetHeight&&r.offsetWidth&&x.contains(e,r)||e.lastChild!=r&&e.appendChild(r);var h=document.body,c=new x.Point(h.scrollLeft||pageXOffset,h.scrollTop||pageYOffset),a=document.documentElement,u=a.clientWidth/window.innerWidth;if(e!=h||1.005<u){var l=e==h?a:r.offsetParent||e;if(S(e)&&e.offsetParent&&(l=e.offsetParent),l){var A=l.getBoundingClientRect();c=new x.Point(l.scrollLeft-A.left,l.scrollTop-A.top)}}x.setCss(r,{position:"fixed",display:"",left:0,top:0}),r.offsetHeight&&r.offsetWidth&&x.contains(e,r)||e.lastChild!=r&&e.appendChild(r);var f=null;s instanceof HTMLElement&&(f=getComputedStyle(s),n&&new x.Color(f.backgroundColor).a&&x.setCss(r,{color:f.color,backgroundColor:f.backgroundColor,fontFamily:f.fontFamily,fontSize:f.fontSize,fontWeight:f.fontWeight,fontStyle:f.fontStyle})),x.setCss(r,{position:"fixed",display:""}),x.Control.refreshAll(r);var d=getComputedStyle(r),g=parseFloat(d.marginTop)+parseFloat(d.marginBottom),w=parseFloat(d.marginLeft)+parseFloat(d.marginRight),m=new x.Size(r.offsetWidth+w,r.offsetHeight+g),b=new x.Point,v=null,p=a.clientWidth,E=a.clientHeight;if(s&&null!=s.clientX&&null!=s.clientY&&null!=s.pageX&&null!=s.pageY)s.clientX<=0&&s.clientY<=0&&s.target?v=s.target.getBoundingClientRect():(b.x=Math.max(0,s.pageX-pageXOffset),b.y=Math.max(0,s.pageY-pageYOffset));else if(s instanceof x.Point)b=s;else if(s instanceof HTMLElement)v=s.getBoundingClientRect();else if(s&&null!=s.top&&null!=s.left)v=s;else{if(null!=s)throw"Invalid ref parameter.";b.x=Math.max(0,(p-m.width)/2),b.y=Math.max(0,Math.round((E-m.height)/2*.7))}var B=parseFloat(d.minWidth);if(v){B=Math.max(B,v.width),x.isIE()&&(B-=r.offsetWidth-(r.clientWidth+parseInt(d.borderLeftWidth)+parseInt(d.borderRightWidth)));var j=v.top,C=E-v.bottom;b.x=Math.max(0,Math.min(v.left,p-m.width)),b.y=t?j>m.height||C<j?Math.max(0,v.top-m.height):v.bottom:C>m.height||j<C?v.bottom:Math.max(0,v.top-m.height)}else b.y+m.height>E-20&&(b.y=Math.max(0,E-20-m.height)),b.x+m.width>p-20&&(b.x=Math.max(0,p-20-m.width));var I={position:"absolute",left:b.x+c.x,top:b.y+c.y,minWidth:B,zIndex:1500,pointerEvents:"auto"},Q=null;i&&(r.style.opacity="0",Q=x.animate(function(t){r.style.opacity=t<1?t.toString():""})),s instanceof HTMLElement&&(r[x.Control._OWNR_KEY]=s),x.setCss(r,I);var M=s instanceof MouseEvent?s.target:s;if(M instanceof HTMLElement&&M.parentElement!=document.body){var F=Date.now(),y=M.getBoundingClientRect(),R=new x.Control(document.createElement("div"));(r[x.Control._SCRL_KEY]=R).addEventListener(document,"scroll",function(t){if(100<Date.now()-F&&x.contains(document,M)&&!x.contains(r,t.target)&&(t.target!=document||null!=s&&"fixed"==r.style.position)){var i=M.getBoundingClientRect(),n=Math.abs(i.left-y.left),e=Math.abs(i.top-y.top);(1<n||1<e)&&k(r,!0)}},!0)}return Q},x.hidePopup=function(i,n,t){void 0===n&&(n=!0),void 0===t&&(t=!1);var e=null;return t?e=x.animate(function(t){i.style.opacity=(1-t).toString(),1==t&&(k(i,n),i.style.opacity="")}):k(i,n),e}}(vn||(window.wijmo=vn={})),E=vn||(window.wijmo=vn={}),B=function(){function t(t){this._copyCss=!0,null!=t&&E.copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=E.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=E.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},t.prototype.append=function(t){var i=this._getDocument(),n=i.body,e=!1;if(n)if(E.isString(t))n.appendChild(E.createElement(t));else if(t instanceof Node){var r=this._cloneNode(t);n.appendChild(r)}else e=!0;else E.isString(t)?i.write(t):t instanceof HTMLElement?(r=this._cloneNode(t),i.write(r.outerHTML)):e=!0;e&&E.assert(!1,"child parameter should be an HTML node or an HTML string.")},t.prototype.print=function(){var n=this;this._iframe&&(this._close(),setTimeout(function(){var t=n._iframe.contentWindow,i="onafterprint"in t&&!E.isFirefox();i&&(t.onafterprint=function(){E.removeChild(n._iframe),n._iframe=null}),document.queryCommandSupported("print")?t.document.execCommand("print",!1,null):(t.focus(),t.print()),i||(E.removeChild(n._iframe),n._iframe=null)},100))},t.prototype._cloneNode=function(r){var s=r.cloneNode(!0);return r instanceof HTMLElement&&s instanceof HTMLElement&&["select","textarea"].forEach(function(t){for(var i=r.querySelectorAll(t),n=s.querySelectorAll(t),e=0;e<i.length;e++)n[e].value=i[e].value}),s},t.prototype._getDocument=function(){return this._iframe||(this._iframe=document.createElement("iframe"),E.addClass(this._iframe,"wj-printdocument"),E.setCss(this._iframe,{position:"fixed",left:1e4,top:1e4}),document.body.appendChild(this._iframe),this._iframe.contentDocument.write('<body style="position:static"/>')),this._iframe.contentDocument},t.prototype._close=function(){var t=this._getDocument();if(t.close(),t.title=null!=this.title?this.title:document.title,t.title&&t.title.trim()||(t.title=""),this._copyCss){for(var i=document.head.querySelectorAll("link"),n=0;n<i.length;n++){var e=i[n];if(e.href.match(/\.css$/i)&&e.rel.match(/stylesheet/i)){var r=E.httpRequest(e.href,{async:!1});this._addStyle(r.responseText)}}var s=document.head.querySelectorAll("STYLE");for(n=0;n<s.length;n++)this._addStyle(s[n].textContent)}if(this._css)for(n=0;n<this._css.length;n++){var o=t.createElement("style");r=E.httpRequest(this._css[n],{async:!1}),o.textContent=r.responseText,t.head.appendChild(o)}},t.prototype._addStyle=function(t){var i=this._getDocument(),n=i.createElement("style");n.textContent=t,i.head.appendChild(n)},t}(),E.PrintDocument=B,function(c){var t=function(){function e(t,i,n){void 0===i&&(i=null),void 0===n&&(n="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._hbInput=this._input.bind(this),this._hbKeyDown=this._keydown.bind(this),this._hbKeyPress=this._keypress.bind(this),this._hbCompositionStart=this._compositionstart.bind(this),this._hbCompositionEnd=this._compositionend.bind(this),this.mask=c.asString(i),this.input=t,this.promptChar=c.asString(n,!1),this._connect(!0),this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1)}return Object.defineProperty(e.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=c.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=c.asString(t,!1),c.assert(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),e.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},e.prototype.getRawValue=function(){var t=this._tbx.value,i="";if(!this.mask)return t;for(var n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(i+=t[n]);return i},e.prototype.refresh=function(){this._parseMask(),this._valueChanged()},e.prototype._input=function(t){var i=this;this._composing?t.stopImmediatePropagation():setTimeout(function(){i._valueChanged()})},e.prototype._keydown=function(t){if(t.keyCode==c.Key.Back){var i=this._tbx.selectionStart,n=this._tbx.selectionEnd;if(i<=this._firstPos&&n==i)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==c.Key.Back},e.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},e.prototype._compositionstart=function(t){this._composing=!0},e.prototype._compositionend=function(t){var i=this;this._composing&&(this._composing=!1,setTimeout(function(){i._tbx&&(i._valueChanged()||c.setSelectionRange(i._tbx,i._tbx.value.length),i._tbx.dispatchEvent(i._evtInput))}))},e.prototype._preventKey=function(t){if(t&&this._mskArr.length){var i=this._tbx,n=i.selectionStart,e=String.fromCharCode(t);if(n<this._firstPos&&(n=this._firstPos,c.setSelectionRange(i,n)),n>=this._mskArr.length)return!0;var r=this._mskArr[n];if(r.literal)this._validatePosition(n);else if(r.wildCard!=e&&!this._isCharValid(r.wildCard,e))return!0}return!1},e.prototype._connect=function(t){var i=this._tbx;i&&(c.assert(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=i.autocomplete,this._spellCheck=i.spellcheck,i.autocomplete="off",i.spellcheck=!1,i.addEventListener("input",this._hbInput),i.addEventListener("keydown",this._hbKeyDown,!0),i.addEventListener("keypress",this._hbKeyPress,!0),i.addEventListener("compositionstart",this._hbCompositionStart,!0),i.addEventListener("compositionend",this._hbCompositionEnd,!0),i.addEventListener("blur",this._hbCompositionEnd,!0),this._valueChanged()):(i.autocomplete=this._autoComplete,i.spellcheck=this._spellCheck,i.removeEventListener("input",this._hbInput),i.removeEventListener("keydown",this._hbKeyDown,!0),i.removeEventListener("keypress",this._hbKeyPress,!0),i.removeEventListener("compositionstart",this._hbCompositionStart,!0),i.removeEventListener("compositionend",this._hbCompositionEnd,!0),i.removeEventListener("blur",this._hbCompositionEnd,!0)))},e.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,i=t.value.length<2,n=t.selectionStart,e=0<n?t.value[n-1]:"",r=t.value;t.value=this._applyMask(),i&&(n=this._firstPos+1);var s=0<n?t.value[n-1]:"";return 0<n&&s==this._promptChar&&e!=this.promptChar&&n--,n==r.length&&(n=this._matchEnd),this._validatePosition(n),r!=t.value},e.prototype._applyMask=function(){this._full=!0,this._matchEnd=0;var t=this._tbx.value;if(!this._msk)return t;if(!t&&!this._tbx.required)return t;var i="",n=0,e=this._promptChar;t=this._handleVagueLiterals(t);for(var r=0;r<this._mskArr.length;r++){var s=this._mskArr[r],o=s.literal;if(o&&o==t[n]&&n++,s.wildCard){if(o=e,t){for(var h=n;h<t.length;h++)if(this._isCharValid(s.wildCard,t[h])){switch(o=t[h],s.charCase){case">":o=o.toUpperCase();break;case"<":o=o.toLowerCase()}o!=e&&(this._matchEnd=i.length+1);break}n=h+1}o==e&&(this._full=!1)}i+=o}return i},e.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var i=t.length-this._mskArr.length;if(0!=i&&1<t.length){for(var n=-1,e=this._tbx,r=e==c.getActiveElement()?e.selectionStart:e.value.length,s=Math.max(0,r-i);s<this._mskArr.length;s++)if(this._mskArr[s].vague){n=s;break}if(-1<n)if(i<0){var o=Array(1-i).join(this._promptChar),h=n+i;-1<h&&(t=t.substr(0,h)+o+t.substr(h))}else{for(;0<n&&this._mskArr[n-1].literal;)n--;t=t.substr(0,n)+t.substr(n+i)}}return t},e.prototype._isCharValid=function(t,i){var n=this._promptChar;switch(t){case"0":return"0"<=i&&i<="9"||i==n;case"9":return"0"<=i&&i<="9"||" "==i||i==n;case"#":return"0"<=i&&i<="9"||" "==i||"+"==i||"-"==i||i==n;case"L":return"a"<=i&&i<="z"||"A"<=i&&i<="Z"||i==n;case"l":return"a"<=i&&i<="z"||"A"<=i&&i<="Z"||" "==i||i==n;case"A":return"0"<=i&&i<="9"||"a"<=i&&i<="z"||"A"<=i&&i<="Z"||i==n;case"a":return"0"<=i&&i<="9"||"a"<=i&&i<="z"||"A"<=i&&i<="Z"||" "==i||i==n;case"":return""<=i&&i<=""||i==n;case"":case"":return!(""==t&&-1<e._X_DBCS_BIG_HIRA.indexOf(i))&&(""<=i&&i<=""||i==n);case"":case"":return!(""==t&&-1<e._X_DBCS_BIG_KATA.indexOf(i))&&(""<=i&&i<=""||i==n);case"":return i<="!"||""<=i||i==n;case"H":return"!"<=i&&i<=""||i==n;case"K":case"N":return!("N"==t&&-1<e._X_SBCS_BIG_KATA.indexOf(i))&&(""<=i&&i<=""||i==n)}return!1},e.prototype._validatePosition=function(t){var i=this._mskArr;if(this._backSpace)for(;0<t&&t<i.length&&i[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<i.length&&i[t].literal;)t++;c.getActiveElement()==this._tbx&&c.setSelectionRange(this._tbx,t),this._backSpace=!1},e.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,i=this._msk,n="|",e=0;i&&e<i.length;e++)switch(i[e]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"":case"":case"":case"":case"":case"":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new h(i[e],n));break;case".":case",":case":":case"/":case"$":switch(i[e]){case".":case",":t=c.culture.Globalize.numberFormat[i[e]];break;case":":case"/":t=c.culture.Globalize.calendar[i[e]];break;case"$":t=c.culture.Globalize.numberFormat.currency.symbol}for(var r=0;r<t.length;r++)this._mskArr.push(new h(t[r]));break;case"<":case">":case"|":n=i[e];break;case"\\":e<i.length-1&&e++,this._mskArr.push(new h(i[e]));break;default:this._mskArr.push(new h(i[e]))}for(e=0;e<this._mskArr.length;e++){var s=this._mskArr[e];if(s.literal)for(r=0;r<e;r++){var o=this._mskArr[r];if(o.wildCard&&this._isCharValid(o.wildCard,s.literal)){s.vague=!0;break}}}},e._X_DBCS_BIG_HIRA="",e._X_DBCS_BIG_KATA="",e._X_SBCS_BIG_KATA="",e}();c._MaskProvider=t;var h=function(t,i){i?(this.wildCard=t,this.charCase=i):this.literal=t};c._MaskElement=h}(vn||(window.wijmo=vn={})),v=vn||(window.wijmo=vn={}),p=function(){function n(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._onClickBnd=this._onClick.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(n.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=v.asType(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=v.asBoolean(t)},enumerable:!0,configurable:!0}),n.prototype._connect=function(t){this._e&&(t?this._e.addEventListener("mousedown",this._mousedownBnd):this._e.removeEventListener("mousedown",this._mousedownBnd))},n.prototype._clearTimeouts=function(){this._toRepeat&&(clearInterval(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearInterval(this._toDelay),this._toDelay=null)},n.prototype._mousedown=function(t){var i=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,n._stopEvents.forEach(function(t){document.addEventListener(t,i._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){i._isDown&&(i._onClick(),i._toRepeat=setTimeout(i._onClickBnd,v.Control._CLICK_REPEAT))},v.Control._CLICK_DELAY))},n.prototype._mouseup=function(t){var i=this;this._isDown&&t&&"mouseup"==t.type&&t.preventDefault(),n._stopEvents.forEach(function(t){document.removeEventListener(t,i._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1},n.prototype._onClick=function(){this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._onClickBnd,v.Control._CLICK_REPEAT)))},n._stopEvents=["mouseup","mouseout","keydown"],n}(),v._ClickRepeater=p,function(e){var t=null!=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i);e.isMobile=function(){return t};var i=null!=navigator.userAgent.match(/Firefox\//);function n(){return i}e.isFirefox=n;var r=null!=navigator.userAgent.match(/^((?!chrome|android).)*safari/i);e.isSafari=function(){return r};var s=null!=navigator.userAgent.match(/Edge\//);e.isEdge=function(){return s};var o=null!=navigator.userAgent.match(/MSIE |Trident\/|Edge\//),h=!(e.isIE=function(){return o}),c=!(e.isIE9=function(){return h});document.addEventListener("test",function(t){},{get passive(){return c=!0}});var a=!(e.getEventOptions=function(t,i){return c?{capture:t,passive:i}:t});document.createElement("div").focus({get preventScroll(){return a=!0}}),e.supportsFocusOptions=function(){return a},e._startDrag=function(t,i){t.effectAllowed=i,n()&&t.setData("text","")},document.doctype&&-1<navigator.appVersion.indexOf("MSIE 9")&&(h=!0,document.addEventListener("mousemove",function(t){if(1==t.which){var i=e.closest(t.target,".wj-control");if(i&&!i.style.cursor)for(var n=t.target;n;n=n.parentElement)if(n.attributes&&n.attributes.draggable)return n.dragDrop(),!1}}));var u="requestAnimationFrame";if(!window[u]){var l=0;window[u]=function(t){var i=Date.now(),n=16-(i-l),e=0<n?n:0;return l=i+e,setTimeout(function(){t(l)},e)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=new RegExp("[^"+A+"]");window.atob=function(t){var i,n,e,r,s=[],o=0,h=t.length;if(f.test(t)||/=/.test(t)&&(/=[^=]/.test(t)||/={3}/.test(t)))throw new Error("Invalid base64 data");for(0<h%4&&(h=(t+=Array(4-h%4+1).join("=")).length);o<h;){for(n=[],r=o;o<r+4;)n.push(A.indexOf(t.charAt(o++)));for(e=[((i=(n[0]<<18)+(n[1]<<12)+((63&n[2])<<6)+(63&n[3]))&255<<16)>>16,64===n[2]?-1:(65280&i)>>8,64===n[3]?-1:255&i],r=0;r<3;++r)(0<=e[r]||0===r)&&s.push(String.fromCharCode(e[r]))}return s.join("")},window.btoa=function(t){for(var i,n,e=[],r=0,s=t.length;r<s;)i=((n=[t.charCodeAt(r++),t.charCodeAt(r++),t.charCodeAt(r++)])[0]<<16)+((n[1]||0)<<8)+(n[2]||0),e.push(A.charAt((i&63<<18)>>18),A.charAt((258048&i)>>12),A.charAt(isNaN(n[1])?64:(4032&i)>>6),A.charAt(isNaN(n[2])?64:63&i));return e.join("")}}}(vn||(window.wijmo=vn={})),Cn=window&&window.__extends||(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}M(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){F.culture.DropDown=window.wijmo.culture.DropDown||{ariaLabels:{tgl:"Toggle Dropdown"}};var i=function(c){function t(t,i){var n=c.call(this,t,null,!0)||this;n._showBtn=!0,n._autoExpand=!0,n._animate=!1,n.textChanged=new F.Event,n.isDroppedDownChanging=new F.Event,n.isDroppedDownChanged=new F.Event;var e=n.getTemplate();n.applyTemplate("wj-control wj-content wj-dropdown",e,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input");var r=F.culture.DropDown.ariaLabels;F.setAriaLabel(n._btn.querySelector("button"),r.tgl);var s=n._tbx;n._elRef=s,F.disableAutoComplete(s),n._createDropDown(),n._updateBtn(),F.removeChild(n._dropDown),F.addClass(n.hostElement,"wj-state-collapsed");var o=n._updateFocusState.bind(n);n.addEventListener(n.dropDown,"blur",o,!0),n.addEventListener(n.dropDown,"focus",o);var h=n._keydown.bind(n);return n.addEventListener(n.hostElement,"keydown",h),n.addEventListener(n.dropDown,"keydown",h),n.addEventListener(s,"keypress",function(t){9787==t.keyCode&&n._altDown&&t.preventDefault()}),n.addEventListener(s,"input",function(){n._setText(n.text,!1)}),n.addEventListener(s,"click",function(){n._autoExpand&&n._expandSelection()}),F.isIE9()&&n.addEventListener(s,"keyup",function(){n._setText(n.text,!1)}),n.addEventListener(n._btn,"mousedown",function(t){t.defaultPrevented||0!=t.button||setTimeout(function(){n._btnclick(t)})}),n.addEventListener(n._dropDown,"click",function(t){t.stopPropagation()}),n}return Cn(t,c),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=F.asBoolean(t),F.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=F.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var t=this._dropDown;return t&&"none"!=t.style.display},set:function(t){var i=this;if((t=F.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new F.CancelEventArgs)){var n=this.hostElement,e=this._dropDown,r=e.style;if(t)r.minWidth||(r.minWidth=n.getBoundingClientRect().width+"px"),r.display="block",this._updateDropDown(),this.addEventListener(document.body,"touchstart",function(t){F.contains(n,t.target)||F.contains(e,t.target)||(i.isDroppedDown=!1)});else{this.removeEventListener(document.body,"touchstart");var s=this.containsFocus();F.hidePopup(e),s&&(this.isTouching&&this.showDropDownButton?this.hostElement.focus():this.selectAll())}this._updateFocusState(),F.toggleClass(n,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(F.removeClass(this._dropDown,this._cssClass),this._cssClass=F.asString(t),F.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=F.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=F.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=F.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){this._elRef==this._tbx&&F.setSelectionRange(this._tbx,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},t.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDownChanging.raise(this,t),!t.cancel},t.prototype.onIsDroppedDownChanged=function(t){this.isDroppedDownChanged.raise(this,t)},t.prototype.onGotFocus=function(t){this.isTouching||F.contains(this._dropDown,F.getActiveElement())||this.selectAll(),c.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){this._commitText(),this.containsFocus()||(this.isDroppedDown=!1),c.prototype.onLostFocus.call(this,t)},t.prototype.containsFocus=function(){return c.prototype.containsFocus.call(this)||this.isDroppedDown&&F.contains(this._dropDown,F.getActiveElement())},t.prototype.dispose=function(){this.isDroppedDown=!1;var t=this.dropDown;if(t){var i=F.Control.getControl(t);i&&i.dispose(),F.removeChild(t)}c.prototype.dispose.call(this)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),c.prototype.refresh.call(this,t),this.isDroppedDown&&"none"!=getComputedStyle(this.hostElement).display){var i=F.getActiveElement();F.showPopup(this._dropDown,this.hostElement,!1,!1,null==this.dropDownCssClass),i instanceof HTMLElement&&i!=F.getActiveElement()&&i.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._expandSelection=function(){var t=this._tbx,i=t.value,n=t.selectionStart,e=t.selectionEnd;if(i&&n==e){var r=this._getCharType(i,n);if(-1<r){for(;e<i.length&&this._getCharType(i,e)==r;e++);for(;0<n&&this._getCharType(i,n-1)==r;n--);n!=e&&F.setSelectionRange(t,n,e)}}},t.prototype._getCharType=function(t,i){var n=t[i];return"0"<=n&&n<="9"?0:"a"<=n&&n<="z"||"A"<=n&&n<="Z"?1:-1},t.prototype._keydown=function(t){if(this._altDown=t.altKey,!t.defaultPrevented)switch(t.keyCode){case F.Key.Tab:case F.Key.Escape:case F.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==F.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case F.Key.F4:case F.Key.Up:case F.Key.Down:if((t.keyCode==F.Key.F4||t.altKey)&&F.contains(document.body,this.hostElement)){var i=this.isDroppedDown;this.isDroppedDown=!i,this.isDroppedDown==!i&&t.preventDefault()}}},t.prototype._btnclick=function(t){t.defaultPrevented||0!=t.button||(this.isDroppedDown=!this.isDroppedDown)},t.prototype._setText=function(t,i){null==t&&(t=""),(t=t.toString())!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t,this.onTextChanged())},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(){},t.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),F.showPopup(this._dropDown,this.hostElement,!1,this._animate,null==this.dropDownCssClass))},t.controlTemplate='<div class="wj-template" style="position:relative"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none"></div></div>',t}(F.Control);t.DropDown=i}((F=vn||(window.wijmo=vn={})).input||(F.input={})),Cn=window&&window.__extends||(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}y(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(m){var r,t;R.culture.Calendar=window.wijmo.culture.Calendar||{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}},(t=r=m.DateSelectionMode||(m.DateSelectionMode={}))[t.None=0]="None",t[t.Day=1]="Day",t[t.Month=2]="Month";var i=function(w){function t(t,i){var n=w.call(this,t)||this;n._readOnly=!1,n._selMode=r.Day,n._fmtYrMo="y",n._fmtYr="yyyy",n._fmtDayHdr="ddd",n._fmtDay="d ",n._fmtMonths="MMM",n.valueChanged=new R.Event,n.displayMonthChanged=new R.Event,n.formatItem=new R.Event;var e=n.hostElement;return e.tabIndex=-1,n._value=R.DateTime.newDate(),n._currMonth=n._getMonth(n._value),n._createChildren(),n.addEventListener(e,"mouseup",n._click.bind(n)),n.addEventListener(e,"keydown",n._keydown.bind(n)),n.initialize(i),n.refresh(!0),n}return Cn(t,w),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){t=R.asDate(t,!0),t=this._clamp(t),(this._valid(t)||null==t)&&(this.displayMonth=this._getMonth(t),R.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=R.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=R.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){if((t=R.asEnum(t,r))!=this._selMode){this._selMode=t;var i=this._monthMode();i&&(this.monthView=!1);var n=this._btnMth.querySelector(".wj-glyph-down");n&&(n.style.display=i?"none":""),this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=R.asBoolean(t),R.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if((t=R.asNumber(t,!0))&&(6<t||t<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=t,this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){R.DateTime.equals(this.displayMonth,t)||(t=R.asDate(t),(this.monthView?this._monthInValidRange(t):this._yearInValidRange(t))&&(this._currMonth=this._getMonth(this._clamp(t)),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(t){t!=this._fmtYrMo&&(this._fmtYrMo=R.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(t){t!=this._fmtDayHdr&&(this._fmtDayHdr=R.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(t){t!=this._fmtDay&&(this._fmtDay=R.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(t){t!=this._fmtYr&&(this._fmtYr=R.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(t){t!=this._fmtMonths&&(this._fmtMonths=R.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(t){this._tbHdr.style.display=R.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(t){if(t!=this.monthView){this._tbMth.style.display=t?"":"none",this._tbYr.style.display=t?"none":"",this.refresh();var i=R.culture.Calendar.ariaLabels;R.setAriaLabel(this._btnPrv,t?i.prvMo:i.prvYr),R.setAriaLabel(this._btnTdy,t?i.today:i.currMo),R.setAriaLabel(this._btnNxt,t?i.nxtMo:i.nxtYr),R.setAriaLabel(this._btnMth,t?i.monthView:i.yearView)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=R.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=R.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},t.prototype.onDisplayMonthChanged=function(t){this.displayMonthChanged.raise(this,t)},t.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0);var i,n,e,r=this.displayMonth,s=null!=this.firstDayOfWeek?this.firstDayOfWeek:R.Globalize.getFirstDayOfWeek(),o=this.hostElement,h=R.getActiveElement(),c=R.contains(o,h)?h:null;w.prototype.refresh.call(this,t),this._firstDay=R.DateTime.addDays(r,-(r.getDay()-s+7)%7),R.setText(this._spMth,R.Globalize.format(r,this._fmtYrMo)),i=this._tbMth.querySelectorAll("td");for(var a=0;a<7&&a<i.length;a++)e=R.DateTime.addDays(this._firstDay,a),R.setText(i[a],R.Globalize.format(e,this._fmtDayHdr));for(a=7;a<i.length;a++){n=i[a],e=R.DateTime.addDays(this._firstDay,a-7),R.setText(n,R.Globalize.format(e,this._fmtDay));var u=!this._valid(e),l=this._selMode&&R.DateTime.sameDate(e,this.value),A=e.getDay();if(R.toggleClass(n,"wj-state-invalid",u),R.toggleClass(n,"wj-state-selected",l),R.toggleClass(n,"wj-day-weekend",0==A||6==A),R.toggleClass(n,"wj-day-today",R.DateTime.sameDate(e,R.DateTime.newDate())),R.toggleClass(n,"wj-day-othermonth",u||e.getMonth()!=r.getMonth()||!this._inValidRange(e)),R.setAttribute(n,"aria-selected",l),n.tabIndex=-1,this.itemFormatter&&this.itemFormatter(e,n),this.formatItem.hasHandlers){var f=new m.FormatItemEventArgs(a,e,n);this.onFormatItem(f)}}var d=this._tbMth.querySelectorAll("tr");for(d.length&&(e=R.DateTime.addDays(this._firstDay,28),d[d.length-2].style.display=e.getMonth()==r.getMonth()?"":"none",e=R.DateTime.addDays(this._firstDay,35),d[d.length-1].style.display=e.getMonth()==r.getMonth()?"":"none"),(i=this._tbYr.querySelectorAll("td")).length&&R.setText(i[0],R.Globalize.format(r,this._fmtYr)),a=1;a<i.length;a++)e=R.DateTime.newDate(r.getFullYear(),a-1,1),u=!this._monthInValidRange(e),l=this._sameMonth(e,this.value),n=i[a],R.setText(n,R.Globalize.format(e,this._fmtMonths)),R.toggleClass(n,"wj-state-disabled",u),R.toggleClass(n,"wj-state-selected",l),R.setAttribute(n,"aria-selected",l),n.tabIndex=-1;var g=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||o;g.tabIndex=this._orgTabIndex,c&&c!=g&&(g.focus(),c.tabIndex=-1)},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=r.None},t.prototype._valid=function(t){return!!R.isDate(t)&&!!R.DateTime.sameDate(t,this._clamp(t))&&(!R.isFunction(this.itemValidator)||this.itemValidator(t))},t.prototype._inValidRange=function(t){return!(this.min&&t<R.DateTime.fromDateTime(this.min,t)||this.max&&t>R.DateTime.fromDateTime(this.max,t))},t.prototype._monthInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),n=t.getMonth(),e=R.DateTime.newDate(i,n,1),r=R.DateTime.newDate(i,n+1,0);if(this.min&&this.min>r)return!1;if(this.max&&this.max<e)return!1}return!0},t.prototype._yearInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),n=R.DateTime.newDate(i,0),e=R.DateTime.newDate(i,11,31);if(this.min&&this.min>e)return!1;if(this.max&&this.max<n)return!1}return!0},t.prototype._sameMonth=function(t,i){return R.isDate(t)&&R.isDate(i)&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()},t.prototype._getValidDate=function(t,i){if(R.isDate(t))for(var n=t.getFullYear(),e=t.getMonth()+(i?0:1),r=i?1:0,s=R.DateTime.newDate(n,e,r),o=i?1:-1,h=0;h<31;h++){if(this._valid(s))return s;s=R.DateTime.addDays(s,o)}return null},t.prototype._clamp=function(t){if(t){if(this.min){var i=R.DateTime.fromDateTime(this.min,t);t<i&&(t=i)}if(this.max){var n=R.DateTime.fromDateTime(this.max,t);n<t&&(t=n)}}return t},t.prototype._createChildren=function(){var t=this.getTemplate();this.applyTemplate("wj-control wj-calendar",t,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"});var i=R.culture.Calendar.ariaLabels;R.setAriaLabel(this._tbMth,i.calendar),R.setAriaLabel(this._tbYr,i.calendar),R.setAriaLabel(this._btnPrv,i.calendar),R.setAriaLabel(this._btnMth,i.monthView),R.setAriaLabel(this._btnPrv,i.prvMo),R.setAriaLabel(this._btnTdy,i.today),R.setAriaLabel(this._btnNxt,i.nxtMo);for(var n=this._createElement("tr",this._tbMth,"wj-header"),e=0;e<7;e++)this._createElement("td",n);for(var r=0;r<6;r++)for(n=this._createElement("tr",this._tbMth),e=0;e<7;e++)this._createElement("td",n);n=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",n).setAttribute("colspan","4");for(var s=0;s<3;s++){n=this._createElement("tr",this._tbYr);for(var o=0;o<4;o++)this._createElement("td",n)}},t.prototype._createElement=function(t,i,n){var e=document.createElement(t);if(i&&i.appendChild(e),n&&R.addClass(e,n),"TD"==e.tagName){var r=R.closest(e,".wj-header")?"columnheader":"gridcell";R.setAttribute(e,"role",r),R.setAttribute(e,"aria-selected",!1)}return e},t.prototype._click=function(t){if(!t.defaultPrevented&&0==t.button){var i,n=!1,e=t.target;if(R.contains(this._btnMth,e)&&!this._monthMode()?(this.monthView=!this.monthView,n=!0):R.contains(this._btnPrv,e)?(this._navigate(-1),n=!0):R.contains(this._btnNxt,e)?(this._navigate(1),n=!0):R.contains(this._btnTdy,e)&&(this._navigate(0),n=!0),e&&!n&&(e=R.closest(e,"TD")))if(this.monthView){if(6<(i=this._getCellIndex(this._tbMth,e))&&this._canChangeValue()){var r=R.DateTime.fromDateTime(R.DateTime.addDays(this._firstDay,i-7),this.value);this._inValidRange(r)&&this._valid(r)&&(this.value=r),n=!0}}else 0<(i=this._getCellIndex(this._tbYr,e))&&(this.displayMonth=R.DateTime.newDate(this.displayMonth.getFullYear(),i-1,1),this._monthMode()?this._canChangeValue()&&(r=R.DateTime.fromDateTime(this.displayMonth,this.value),this._inValidRange(r)&&(this.value=r)):this.monthView=!0,n=!0);n&&(t.preventDefault(),this.focus())}},t.prototype._getCellIndex=function(t,i){for(var n=t.querySelectorAll("TD"),e=0;e<n.length;e++)if(n[e]==i)return e;return-1},t.prototype._keydown=function(t){if(!t.defaultPrevented){if(t.altKey)switch(t.keyCode){case R.Key.Up:case R.Key.Down:return;case R.Key.End:return this._navigate(0),void t.preventDefault()}if(!(t.ctrlKey||t.metaKey||t.shiftKey)){var i=0,n=0,e=!0;if(this.monthView)switch(t.keyCode){case R.Key.Left:i=-1;break;case R.Key.Right:i=1;break;case R.Key.Up:i=-7;break;case R.Key.Down:i=7;break;case R.Key.PageDown:n=t.altKey?12:1;break;case R.Key.PageUp:n=t.altKey?-12:-1;break;case R.Key.Home:this._canChangeValue()&&(r=this._getValidDate(this.value,!0))&&(this.value=R.DateTime.fromDateTime(r,this.value));break;case R.Key.End:this._canChangeValue()&&(r=this._getValidDate(this.value,!1))&&(this.value=R.DateTime.fromDateTime(r,this.value));break;default:e=!1}else switch(t.keyCode){case R.Key.Left:n=-1;break;case R.Key.Right:n=1;break;case R.Key.Up:n=-4;break;case R.Key.Down:n=4;break;case R.Key.PageDown:n=t.altKey?120:12;break;case R.Key.PageUp:n=t.altKey?-120:-12;break;case R.Key.Home:n=this.value?-this.value.getMonth():0;break;case R.Key.End:n=this.value?11-this.value.getMonth():0;break;case R.Key.Enter:this._monthMode()?e=!1:this.monthView=!0;break;default:e=!1}if(this._canChangeValue()&&(i||n)){var r;if((r=this.value)?(r=R.DateTime.addDays(r,i),r=R.DateTime.addMonths(r,n)):r=this._getValidDate(new Date,!0),n&&!this._valid(r))for(var s=r.getMonth(),o=1;o<31&&!this._valid(r);o++){var h=R.DateTime.addDays(r,+o),c=R.DateTime.addDays(r,-o);this._valid(h)&&h.getMonth()==s?r=h:this._valid(c)&&c.getMonth()==s&&(r=c)}for(o=0;o<31&&!this._valid(r);o++)r=R.DateTime.addDays(r,0<i||0<n?1:-1);this.value=r}e&&t.preventDefault()}}},t.prototype._getMonth=function(t){return t||(t=R.DateTime.newDate()),R.DateTime.newDate(t.getFullYear(),t.getMonth(),1)},t.prototype._monthMode=function(){return this.selectionMode==r.Month},t.prototype._navigate=function(t){var i=this.monthView,n=this.displayMonth;switch(t){case 0:var e=R.DateTime.newDate();this._canChangeValue()&&(this.value=i?R.DateTime.fromDateTime(e,this.value):this._getMonth(e)),n=this._getMonth(e);break;case 1:n=R.DateTime.addMonths(n,i?1:12);break;case-1:n=R.DateTime.addMonths(n,i?-1:-12)}this.displayMonth=n},t.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid" style="display:none"></table></div>',t}(R.Control);m.Calendar=i}((R=vn||(window.wijmo=vn={})).input||(R.input={})),Cn=window&&window.__extends||(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}x(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),S=(k=vn||(window.wijmo=vn={})).input||(k.input={}),Y=function(o){function h(t,i){var e=o.call(this,t)||this;e._hsb=[.5,1,1],e._alpha=1,e.valueChanged=new k.Event;var n=e.getTemplate();e.applyTemplate("wj-control wj-content wj-colorpicker",n,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),e._palette="#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),e._updatePalette(),e._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",e._eHue.style.backgroundSize="contain",-1<navigator.appVersion.indexOf("MSIE 9")&&(e._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",e._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),n=h._tplCursor,e._cSB=k.createElement(n),e._cHue=k.createElement(n),e._cHue.style.width="100%",e._cAlpha=k.createElement(n),e._cAlpha.style.height="100%",e._eSB.appendChild(e._cSB),e._eHue.appendChild(e._cHue),e._eAlpha.appendChild(e._cAlpha),e.addEventListener(e.hostElement,"mousedown",function(t){document.addEventListener("mousemove",r),document.addEventListener("mouseup",s),e._mouseDown(t)});var r=function(t){e._mouseMove(t)},s=function(t){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s),e._mouseUp(t)};return e.addEventListener(e.hostElement,"click",function(t){var i=t.target;if(i&&"DIV"==i.tagName&&k.contains(e._ePal,i)){var n=i.style.backgroundColor;n&&(e.value=new k.Color(n).toString())}}),e.value="#ffffff",e.initialize(i),e._updatePanels(),e}return Cn(h,o),Object.defineProperty(h.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(t){this._eAlpha.parentElement.style.display=k.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(t){this._eText.style.display=k.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){this._value=k.asString(t),this._eText.innerText=this._value;var i=new k.Color(this._value),n=i.getHsb();this._hsb[0]==n[0]&&this._hsb[1]==n[1]&&this._hsb[2]==n[2]&&this._alpha==i.a||(0==n[2]?(n[0]=this._hsb[0],n[1]=this._hsb[1]):0==n[1]&&(n[0]=this._hsb[0]),this._hsb=n,this._alpha=i.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"palette",{get:function(){return this._palette},set:function(t){t=k.asArray(t);for(var i=0;i<t.length&&i<this._palette.length;i++){var n=k.asString(t[i]);this._palette[i]=n}this._updatePalette()},enumerable:!0,configurable:!0}),h.prototype.onValueChanged=function(t){this._updatePanels(),this.valueChanged.raise(this,t)},h.prototype._mouseDown=function(t){this._htDown=this._getTargetPanel(t),this._htDown&&(t.preventDefault(),this.focus(),this._mouseMove(t))},h.prototype._mouseMove=function(t){if(this._htDown){var i=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=k.clamp((t.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=k.clamp((t.clientX-i.left)/i.width,0,1),this._hsb[2]=k.clamp(1-(t.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=k.clamp((t.clientX-i.left)/i.width,0,1),this._updateColor())}},h.prototype._mouseUp=function(t){this._htDown=null},h.prototype._updateColor=function(){var t=k.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString(),this._updatePanels()},h.prototype._updatePalette=function(){var t=new k.Color("#fff"),i=new k.Color("#000");this._ePal.innerHTML="";for(var n=0;n<this._palette.length;n++){var e=k.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),r=new k.Color(this._palette[n]),s=r.getHsb();e.appendChild(this._makePalEntry(r,4));for(var o=0;o<5;o++){if(0==s[1]){var h=.1*o+(.5<s[2]?.05:.55);r=k.Color.interpolate(t,i,h)}else r=k.Color.fromHsb(s[0],.1+.2*o,1-.1*o);e.appendChild(this._makePalEntry(r,0))}this._ePal.appendChild(e)}},h.prototype._makePalEntry=function(t,i){var n=document.createElement("div");return k.setCss(n,{cursor:"pointer",backgroundColor:t.toString(),marginBottom:i||""}),n.innerHTML="&nbsp",n},h.prototype._updatePanels=function(){var t=k.Color.fromHsb(this._hsb[0],1,1,1),i=k.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=t.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+i.toString()+" 100%)",-1<navigator.appVersion.indexOf("MSIE 9")&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+i.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},h.prototype._getTargetPanel=function(t){var i=t.target;return k.contains(this._eSB,i)?this._eSB:k.contains(this._eHue,i)?this._eHue:k.contains(this._eAlpha,i)?this._eAlpha:null},h.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',h._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',h}(k.Control),S.ColorPicker=Y,Cn=window&&window.__extends||(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}D(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){var i=function(r){function e(t,i){var n=r.call(this,t)||this;n._pathDisplay=new U.Binding(null),n._pathValue=new U.Binding(null),n._pathChecked=new U.Binding(null),n._html=!1,n._checkedItems=[],n._itemRole="option",n._search="",n.selectedIndexChanged=new U.Event,n.itemsChanged=new U.Event,n.loadingItems=new U.Event,n.loadedItems=new U.Event,n.itemChecked=new U.Event,n.checkedItemsChanged=new U.Event,n.formatItem=new U.Event,n.applyTemplate("wj-control wj-content wj-listbox",null,null);var e=n.hostElement;return U.setAttribute(e,"role","listbox",!0),"SELECT"==n._orgTag&&n._initFromSelect(n.hostElement),n.addEventListener(e,"click",n._click.bind(n)),n.addEventListener(e,"keydown",n._keydown.bind(n)),n.addEventListener(e,"keypress",n._keypress.bind(n)),n.addEventListener(e,"wheel",function(t){e.scrollHeight>e.offsetHeight&&(t.deltaY<0&&0==e.scrollTop||0<t.deltaY&&e.scrollTop+e.offsetHeight>=e.scrollHeight)&&(t.preventDefault(),t.stopPropagation())}),n.initialize(i),n}return Cn(e,r),e.prototype.refresh=function(t){void 0===t&&(t=!0),r.prototype.refresh.call(this,t),!this.displayMemberPath&&this.checkedMemberPath||this._populateList()},Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=U.asCollectionView(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=U.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=U.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=U.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=U.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=U.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemRole",{get:function(){return this._itemRole},set:function(t){t!=this.itemRole&&(this._itemRole=U.asString(t),this._populateList())},enumerable:!0,configurable:!0}),e.prototype.getDisplayValue=function(t){var i=null;-1<t&&U.hasItems(this._cv)&&(i=this._cv.items[t],this.displayMemberPath&&(i=this._pathDisplay.getValue(i)));var n=null!=i?i.toString():"";return this.itemFormatter&&(n=this.itemFormatter(t,n)),n},e.prototype.getDisplayText=function(t){var i=this.hostElement.children,n=-1<t&&t<i.length?i[t]:null;return null!=n?n.textContent:""},e.prototype.isItemEnabled=function(t){if(!this.getDisplayText(t))return!1;var i=this.hostElement.children[t];return!(!i||i.hasAttribute("disabled")||U.hasClass(i,"wj-state-disabled"))},Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(U.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(t){this._cv&&this._cv.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){var t=this.selectedItem;return t&&this.selectedValuePath&&(t=this._pathValue.getValue(t)),t},set:function(t){var i=this.selectedValuePath,n=-1;if(this._cv){for(var e=0;e<this._cv.items.length;e++){var r=this._cv.items[e],s=i?this._pathValue.getValue(r):r;if(s===t||U.DateTime.equals(s,t)){n=e;break}}this.selectedIndex=n}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){var t=this.hostElement;return t?parseFloat(t.style.maxHeight):null},set:function(t){var i=this.hostElement;i&&(i.style.maxHeight=U.asNumber(t)+"px")},enumerable:!0,configurable:!0}),e.prototype.showSelection=function(){for(var t,i=this.selectedIndex,n=this.hostElement,e=n.children,r=0;r<e.length;r++){var s=r==i;t=e[r],U.toggleClass(t,"wj-state-selected",s),t.tabIndex=s?this._orgTabIndex:-1,U.setAttribute(t,"aria-selected",s)}if(-1<i&&i<e.length){var o=(t=e[i]).getBoundingClientRect(),h=n.getBoundingClientRect();o.bottom>h.bottom?n.scrollTop+=o.bottom-h.bottom:o.top<h.top&&(n.scrollTop-=h.top-o.top)}-1<i&&this.containsFocus()&&(t=e[i])instanceof HTMLElement&&!U.contains(t,U.getActiveElement())&&t.focus(),n.tabIndex=i<0?this._orgTabIndex:-1},e.prototype.getItemChecked=function(t){var i=this._cv.items[t];if(U.isObject(i)&&this.checkedMemberPath)return this._pathChecked.getValue(i);var n=this._getCheckbox(t);return!!n&&n.checked},e.prototype.setItemChecked=function(t,i){this._setItemChecked(t,i,!0)},e.prototype.toggleItemChecked=function(t){this.setItemChecked(t,!this.getItemChecked(t))},Object.defineProperty(e.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var t=0;t<this._cv.items.length;t++)this.getItemChecked(t)&&this._checkedItems.push(this._cv.items[t]);return this._checkedItems},set:function(t){var i=this._cv,n=this.hostElement,e=U.asArray(t,!1);if(i&&e){for(var r=i.currentPosition,s=n.scrollTop,o=0;o<i.items.length;o++){var h=i.items[o];this._setItemChecked(o,-1<e.indexOf(h),!1)}i.moveCurrentToPosition(r),n.scrollTop=s,this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),e.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},e.prototype.onItemsChanged=function(t){this.itemsChanged.raise(this,t)},e.prototype.onLoadingItems=function(t){this.loadingItems.raise(this,t)},e.prototype.onLoadedItems=function(t){this.loadedItems.raise(this,t)},e.prototype.onItemChecked=function(t){this.itemChecked.raise(this,t)},e.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype._setItemChecked=function(t,i,n){void 0===n&&(n=!0);var e=this._cv.items[t];if(U.isObject(e)){var r=U.tryCast(this._cv,"IEditableCollectionView");this._pathChecked.getValue(e)!=i&&(this._checking=!0,r?(r.editItem(e),this._pathChecked.setValue(e,i),r.commitEdit()):(this._pathChecked.setValue(e,i),this._cv.refresh()),this._checking=!1)}var s=this._getCheckbox(t);if(s){s.checked=i;var o=U.closest(s,".wj-listbox-item");o&&U.toggleClass(o,"wj-state-checked",i)}n&&(this.onItemChecked(),this.onCheckedItemsChanged())},e.prototype._cvCollectionChanged=function(t,i){this._checking||(this._populateList(),this.onItemsChanged())},e.prototype._cvCurrentChanged=function(t,i){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},e.prototype._populateList=function(){var t=this.hostElement;if(t){var i=this.containsFocus();if(this.onLoadingItems(),t.innerHTML="",this._cv){for(var n=document.createDocumentFragment(),e=0;e<this._cv.items.length;e++){var r=this.getDisplayValue(e);1!=this._html&&(r=U.escapeHtml(r));var s=!1;this.checkedMemberPath&&(r='<label><input tabindex="-1" type="checkbox"'+((s=this._pathChecked.getValue(this._cv.items[e]))?" checked":"")+"> "+r+"</label>");var o=document.createElement("div"),h="wj-listbox-item";if(o.innerHTML=r,U.hasClass(o.firstChild,"wj-separator")&&(h+=" wj-separator"),s&&(h+=" wj-state-checked"),o.className=h,U.setAttribute(o,"role",this.itemRole?this.itemRole:null),U.setAttribute(o,"aria-selected",!1),this.formatItem.hasHandlers){var c=new a(e,this._cv.items[e],o);this.onFormatItem(c)}n.appendChild(o)}t.appendChild(n)}0==t.children.length&&t.appendChild(document.createElement("div")),i&&!this.containsFocus()&&this.focus(),this.showSelection(),this.onLoadedItems()}},e.prototype._click=function(t){if(!t.defaultPrevented){for(var i=this.hostElement.children,n=0;n<i.length;n++)if(U.contains(i[n],t.target)){this.selectedIndex=n;break}var e=this.selectedIndex;if(this.checkedMemberPath&&-1<e){var r=this._getCheckbox(e);r==t.target&&(i[e].focus(),this.setItemChecked(e,r.checked))}}},e.prototype._keydown=function(t){var i=this.selectedIndex;if(this.hostElement.children,!t.defaultPrevented){if(65==t.keyCode&&(t.ctrlKey||t.metaKey)&&this.checkedMemberPath&&U.hasItems(this.collectionView))return this.checkedItems=this.getItemChecked(0)?[]:this.collectionView.items,void t.preventDefault();if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case U.Key.Down:t.preventDefault(),this._selectNext();break;case U.Key.Up:t.preventDefault(),this._selectPrev();break;case U.Key.Home:t.preventDefault(),this._selectFirst();break;case U.Key.End:t.preventDefault(),this._selectLast();break;case U.Key.PageDown:t.preventDefault(),this._selectNextPage();break;case U.Key.PageUp:t.preventDefault(),this._selectPrevPage();break;case U.Key.Space:if(this.checkedMemberPath&&-1<i){var n=this._getCheckbox(i);n&&this.isItemEnabled(i)&&(this.setItemChecked(i,!n.checked),t.preventDefault())}}}},e.prototype._keypress=function(t){var i=this;if(!t.defaultPrevented&&!(t.target instanceof HTMLInputElement)&&(32<t.charCode||32==t.charCode&&this._search)){t.preventDefault(),this._search+=String.fromCharCode(t.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){i._toSearch=null,i._search=""},e._AUTOSEARCH_DELAY);var n=this._findNext();n<0&&1<this._search.length&&(this._search=this._search[this._search.length-1],n=this._findNext()),-1<n&&(this.selectedIndex=n)}},e.prototype._selectNext=function(){for(var t=this.hostElement.children.length,i=this.selectedIndex+1;i<t;i++)if(this.isItemEnabled(i))return this.selectedIndex=i,!0;return!1},e.prototype._selectPrev=function(){for(var t=this.selectedIndex-1;0<=t;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectFirst=function(){for(var t=this.hostElement.children.length,i=0;i<t;i++)if(this.isItemEnabled(i))return this.selectedIndex=i,!0;return!1},e.prototype._selectLast=function(){for(var t=this.hostElement.children.length-1;0<=t;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectNextPage=function(){for(var t=this.hostElement,i=t.offsetHeight,n=t.children,e=0,r=this.selectedIndex+1;r<this._cv.items.length;r++){var s=n[r].scrollHeight;if(i<e+s&&this.isItemEnabled(r))return this.selectedIndex=r,!0;e+=s}return this._selectLast()},e.prototype._selectPrevPage=function(){for(var t=this.hostElement,i=t.offsetHeight,n=t.children,e=0,r=this.selectedIndex-1;0<r;r--){var s=n[r].scrollHeight;if(i<e+s&&this.isItemEnabled(r))return this.selectedIndex=r,!0;e+=s}return this._selectFirst()},e.prototype._findNext=function(){if(this.hostElement){var t=this.hostElement.childElementCount,i=this.selectedIndex;(i<0||1==this._search.length)&&i++;for(var n=0;n<t;n++){var e=(i+n)%t;if(0==this.getDisplayText(e).trim().toLowerCase().indexOf(this._search)&&this.isItemEnabled(e))return e}}return-1},e.prototype._getCheckbox=function(t){var i=this.hostElement;return i&&-1<t&&t<i.children.length?i.children[t].querySelector("input[type=checkbox]"):null},e.prototype._initFromSelect=function(t){for(var i=t.children,n=[],e=-1,r=0;r<i.length;r++){var s=i[r];"OPTION"==s.tagName&&(s.hasAttribute("selected")&&(e=n.length),s.innerHTML?n.push({hdr:s.innerHTML,val:s.getAttribute("value"),cmdParam:s.getAttribute("cmd-param")}):n.push({hdr:'<div class="wj-separator"/>'}),t.removeChild(s),r--)}n&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=n,this.selectedIndex=e)},e._AUTOSEARCH_DELAY=600,e}(U.Control);t.ListBox=i;var a=function(r){function t(t,i,n){var e=r.call(this)||this;return e._index=U.asNumber(t),e._data=i,e._item=U.asType(n,HTMLElement),e}return Cn(t,r),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(U.EventArgs);t.FormatItemEventArgs=a}((U=vn||(window.wijmo=vn={})).input||(U.input={})),Cn=window&&window.__extends||(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}N(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),T=vn||(window.wijmo=vn={}),H=function(a){function t(t,i){var n=a.call(this,t)||this;n._editable=!1,n._delKey=0,n._composing=!1,n._pathHdr=new T.Binding(null),n._bsCollapse=!0,n.itemsSourceChanged=new T.Event,n.selectedIndexChanged=new T.Event;var e=n.hostElement;return T.addClass(e,"wj-combobox"),n.dropDown.id=T.getUniqueId(e.id+"_dropdown"),n.autoExpandSelection=!1,n.addEventListener(n._tbx,"compositionstart",function(){n._composing=!0}),n.addEventListener(n._tbx,"compositionend",function(){n._composing=!1,setTimeout(function(){n._setText(n.text,!0)})}),n.addEventListener(e,"wheel",function(t){if(!t.defaultPrevented&&!n.isDroppedDown&&!n.isReadOnly&&n.containsFocus()&&-1<n.selectedIndex){var i=T.clamp(-t.deltaY,-1,1);n.selectedIndex=T.clamp(n.selectedIndex-i,0,n.collectionView.items.length-1),t.preventDefault()}}),"SELECT"==n._orgTag&&n._lbx._initFromSelect(e),n._lbx.loadedItems.addHandler(function(t){-1<n.selectedIndex&&(n.selectedIndex=n._lbx.selectedIndex)}),n.isRequired=!0,n.initialize(i),n}return Cn(t,a),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource!=t&&(this._lbx.itemsSource=t,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t;var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=T.asString(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(t){this._lbx.selectedValuePath=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=T.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=T.asFunction(t),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&(this._lbx.selectedIndex=t),t=this.selectedIndex;var i=this.getDisplayText(t);this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(t){this._lbx.selectedItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(t){this._lbx.selectedValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=T.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=T.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var t=this._dropDown;return parseInt(t.style.maxWidth)},set:function(t){this._dropDown.style.maxWidth=T.asNumber(t)+"px"},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(t){if(void 0===t&&(t=this.selectedIndex),this.headerPath&&-1<t&&T.hasItems(this.collectionView)){var i=this.collectionView.items[t],n=i?this._pathHdr.getValue(i):null;return n=null!=n?n.toString():"",this.isContentHtml&&(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=n,n=this._cvt.textContent),n.trim()}return this._lbx.getDisplayText(t).trim()},t.prototype.indexOf=function(t,i){var n=this.collectionView;if(T.hasItems(n)&&null!=t){var e=this.selectedIndex;if(i&&t==this.getDisplayText(e))return e;t=t.toString().toLowerCase();for(var r=0;r<n.items.length;r++)if(this.listBox.isItemEnabled(r)){var s=this.getDisplayText(r).toLowerCase();if(i){if(s==t)return r}else if(t&&0==s.indexOf(t))return r}}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},t.prototype.onSelectedIndexChanged=function(t){this._updateBtn(),this.selectedIndexChanged.raise(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),a.prototype.refresh.call(this,t),T.hasItems(this.collectionView)&&(this._lbx.refresh(),-1<this.selectedIndex&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&T.hasItems(this.collectionView)&&(this.selectedIndex=0),a.prototype.onLostFocus.call(this,t)},t.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDown||T.hasItems(this.collectionView)?a.prototype.onIsDroppedDownChanging.call(this,t):!(t.cancel=!0)},t.prototype.onIsDroppedDownChanged=function(t){a.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll()),T.setAttribute(this.dropDown,"aria-expanded",this.isDroppedDown)},t.prototype._updateBtn=function(){var t=this.collectionView,i=this._tbx,n=this.dropDown.id,e=T.hasItems(t);a.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=t?"":"none",T.enable(this._btn,e),T.setAttribute(i,"role",e?"combobox":null),T.setAttribute(i,"aria-autocomplete",e?"both":null),T.setAttribute(i,"aria-owns",e&&this.dropDown.parentElement?n:null),T.setAttribute(this.dropDown,"aria-expanded",!e&&null)},t.prototype._btnclick=function(t){a.prototype._btnclick.call(this,t),this.isTouching||this._elRef!=this._tbx||this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new O.ListBox(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){e._updateBtn();var t=e._lbx.selectedIndex,i=e._lbx.hostElement.children,n=-1<t&&t<i.length?i[t].id:null;T.setAttribute(e._tbx,"aria-activedescendant",n&&n.length?n:null),e.selectedIndex=t,e.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){e._updateBtn()}),this.addEventListener(this._dropDown,"click",this._dropDownClick.bind(this))},t.prototype._dropDownClick=function(t){t.defaultPrevented||t.target!=this._dropDown&&(this.isDroppedDown=!1)},t.prototype._setText=function(t,i){if(!this._composing&&!this._settingText){this._settingText=!0,null==t&&(t=""),t=t.toString();var n=this.selectedIndex,e=this.collectionView,r=this._getSelStart(),s=-1,o=!0;if(this.isEditable&&(!this._delKey&&this.containsFocus()||(o=!(i=!0))),n=this.indexOf(t,i),o&&(n<0&&i&&(n=this.indexOf(t,!1)),n<0&&0<r&&(n=this.indexOf(t.substr(0,r),!1))),n<0&&!this.isEditable&&T.hasItems(e)&&(this.isRequired||t)){var h=this._oldText||"";n=Math.max(0,this.indexOf(h,!1));for(var c=0;c<t.length&&c<h.length;c++)if(t[c]!=h[c]){r=c;break}}-1<n&&(s=r,t=this.getDisplayText(n)),t!=this._tbx.value&&(this._tbx.value=t),-1<s&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(s),e&&e.moveCurrentToPosition(n),this._delKey=0,this._settingText=!1,a.prototype._setText.call(this,t,i)}},t.prototype._findNext=function(t,i){var n=this.selectedIndex,e=this.collectionView,r=e?e.items.length:0,s=this.listBox;if(e&&r&&i){t=t.toLowerCase();for(var o=n+i;-1<o&&o<r;o+=i){var h=this.getDisplayText(o).toLowerCase();if(h&&0==h.indexOf(t)&&(!this.dropDown.children[o]||s.isItemEnabled(o)))return o}}return n},t.prototype._keydown=function(t){if(a.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&T.hasItems(this.collectionView)&&this._elRef==this._tbx){this._delKey=0;var i=this._getSelStart();switch(t.keyCode){case T.Key.Back:if(this._bsCollapse&&!this.isEditable){var n=this._getSelEnd();0<i&&n==this._tbx.value.length&&T.hasItems(this.collectionView)&&this._setSelRange(i-1,n)}this._delKey=t.keyCode;break;case T.Key.Delete:this._delKey=t.keyCode;break;case T.Key.Up:case T.Key.Down:i==this.text.length&&(i=0),this.selectedIndex=this._findNext(this.text.substr(0,i),t.keyCode==T.Key.Up?-1:1),this._setSelRange(i,this.text.length),t.preventDefault();break;case T.Key.PageUp:this._lbx._selectPrevPage(),t.preventDefault();break;case T.Key.PageDown:this._lbx._selectNextPage(),t.preventDefault()}}},t.prototype._updateInputSelection=function(t){this._elRef==this._tbx&&this._setSelRange(t,this._tbx.value.length)},t.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},t.prototype._getSelEnd=function(){return this._tbx&&this._tbx.value?this._tbx.selectionEnd:0},t.prototype._setSelRange=function(t,i){var n=this._tbx;this._elRef==n&&T.setSelectionRange(n,t,i)},t}((O=T.input||(T.input={})).DropDown),O.ComboBox=H,Cn=window&&window.__extends||(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}z(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),V=function(e){function t(t,i){var n=e.call(this,t)||this;return n._cssMatch="wj-autocomplete-match",n._minLength=2,n._maxItems=6,n._itemCount=0,n._delay=500,n._query="",n._inCallback=!1,n._srchProps=[],J.addClass(n.hostElement,"wj-autocomplete"),n._bsCollapse=!1,n.isEditable=!0,n.isRequired=!1,n.listBox.formatItem.addHandler(n._formatListItem,n),n._itemsSourceFnCallBackBnd=n._itemSourceFunctionCallback.bind(n),n.initialize(i),n}return Cn(t,e),Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=J.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=J.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=J.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=J.asString(t),this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=J.asFunction(t),J.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallBackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=J.asString(t)},enumerable:!0,configurable:!0}),t.prototype._keydown=function(t){if(!t.defaultPrevented&&this.isDroppedDown)switch(t.keyCode){case J.Key.Up:case J.Key.Down:this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._setText=function(t){var n=this;if(!this._inCallback){if(!t&&-1<this.selectedIndex&&(this.selectedIndex=-1),t!=this._oldText&&(this._tbx.value!=t&&(this._tbx.value=t),this._oldText=t,this.onTextChanged(),!t&&this.collectionView))return this._rxHighlight=null,this.collectionView.filter=this._query=null,void(this.isDroppedDown=!1);this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){n._toSearch=null;var t=n.text.trim().toLowerCase();if(t.length>=n._minLength&&t!=n._query){t=(n._query=t).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var i=J.escapeHtml(t);n._rxMatch=new RegExp("(?=.*"+t.replace(/ /g,")(?=.*")+")","ig"),n._rxHighlight=n.isContentHtml?new RegExp("("+i.replace(/ /g,"|")+")(?![^<]*>|[^<>]* </)","ig"):new RegExp("("+i.replace(/ /g,"|")+")","ig"),n.itemsSourceFunction?n.itemsSourceFunction(t,n.maxItems,n._itemsSourceFnCallBackBnd):n._updateItems()}},this._delay))}},t.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var i=J.asCollectionView(t);i&&i.moveCurrentToPosition(-1),this.itemsSource=i,this._inCallback=!1,this.containsFocus()&&(this.isDroppedDown=!0,this.refresh())},t.prototype.onIsDroppedDownChanged=function(t){if(this.isDroppedDownChanged.raise(this,t),this.containsFocus()&&!this.isDroppedDown&&!this.isTouching&&null==this.selectedItem){var i=this.text.length;J.setSelectionRange(this._tbx,i)}this._query=""},t.prototype._updateItems=function(){var t=this.collectionView;if(t){this._inCallback=!0,t.beginUpdate(),this._itemCount=0,t.filter=this._filter.bind(this),t.moveCurrentToPosition(-1),t.endUpdate(),this._inCallback=!1;var i=t.items.length;this.isDroppedDown=0<i&&this.containsFocus(),0!=i||this.isEditable||(this.selectedIndex=-1),this.refresh()}},t.prototype._filter=function(t){if(this._itemCount>=this._maxItems)return!1;var i=this._getItemText(t,!1);if(this._srchProps)for(var n=0;n<this._srchProps.length;n++)i+="\0"+t[this._srchProps[n]];return this.isContentHtml&&(i=i.replace(/<[^>]*>/g,"")),!!i.match(this._rxMatch)&&(this._itemCount++,!0)},t.prototype._getItemText=function(t,i){var n=t?t.toString():"",e=i&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return e&&(n=null!=(n=e.getValue(t))?n.toString():""),n},t.prototype._formatListItem=function(t,i){if(this._cssMatch&&this._rxHighlight){var n='<span class="'+this._cssMatch+'">$1</span>';i.item.innerHTML=i.item.innerHTML.replace(this._rxHighlight,n)}},t}((G=(J=vn||(window.wijmo=vn={})).input||(J.input={})).ComboBox),G.AutoComplete=V,Cn=window&&window.__extends||(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}P(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),X=function(o){function t(t,i){var n=o.call(this,t)||this;n.itemClicked=new W.Event;var e=n.hostElement,r=n._tbx;W.addClass(e,"wj-menu"),r.style.display="none",n._hdr=n._elRef=W.createElement('<div wj-part="header" class="wj-form-control" style="cursor:default"/>'),r.parentElement.insertBefore(n._hdr,n._tbx);var s=n._orgOuter.match(/tabindex="?(-?\d+)"?/i);return s&&(e.tabIndex=parseInt(s[1])),n.isRequired=!1,W.setAttribute(e,"role","menubar",!0),W.setAttribute(r,"role",null),W.setAttribute(r,"aria-autocomplete",null),W.setAttribute(r,"aria-owns",null),W.setAttribute(n.dropDown,"role","menu"),n.listBox.itemRole="menuitem","SELECT"==n._orgTag&&(n.header=e.getAttribute("header"),n._lbx.itemsSource&&(n.commandParameterPath="cmdParam")),n.isContentHtml=!0,n.maxDropDownHeight=500,n.addEventListener(n._hdr,"click",function(t){t.defaultPrevented||(n._isButton?(n.isDroppedDown=!1,n._raiseCommand()):n.isDroppedDown=!n.isDroppedDown)}),n.listBox.lostFocus.addHandler(function(){n.containsFocus()||(n.isDroppedDown=!1)}),n.initialize(i),n}return Cn(t,o),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=W.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._command},set:function(t){this._command=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=W.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=W.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=W.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=W.asType(t,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(t){if(!this.isDroppedDown){var i=this.dropDown;this.selectedIndex=-1,this.onIsDroppedDownChanging(new W.CancelEventArgs)&&(this.owner&&(i[W.Control._OWNR_KEY]=this.owner),W.showPopup(i,t),this.onIsDroppedDownChanged(),i.focus())}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new W.CancelEventArgs)&&(W.hidePopup(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(t){this.itemClicked.raise(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),o.prototype.refresh.call(this,t),this._enableDisableItems()},t.prototype.onIsDroppedDownChanged=function(t){o.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus()):this.selectedItem||(this.selectedItem=this._defaultItem)},t.prototype._keydown=function(t){t.defaultPrevented||t.keyCode==W.Key.Enter&&(this.isDroppedDown?this.getDisplayText(this.selectedIndex)&&this._raiseCommand():(this.isDroppedDown=!0,t.preventDefault())),o.prototype._keydown.call(this,t)},t.prototype._dropDownClick=function(t){t.defaultPrevented||t.target==this.dropDown||this.getDisplayText(this.selectedIndex)&&this._raiseCommand(),o.prototype._dropDownClick.call(this,t)},t.prototype._raiseCommand=function(t){var i=this.selectedItem,n=this._getCommand(i);if(n){var e=this._cmdParamPath?i[this._cmdParamPath]:null;if(!this._canExecuteCommand(n,e))return;this._executeCommand(n,e)}this.onItemClicked(t)},t.prototype._getCommand=function(t){return(t&&this.commandPath?t[this.commandPath]:null)||this.command},t.prototype._executeCommand=function(t,i){t&&!W.isFunction(t)&&(t=t.executeCommand),W.isFunction(t)&&t(i)},t.prototype._canExecuteCommand=function(t,i){if(t){var n=t.canExecuteCommand;if(W.isFunction(n))return n(i)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this.command||this.commandPath))for(var t=this.collectionView.items,i=0;i<t.length;i++){var n=this._getCommand(t[i]),e=this.commandParameterPath?t[i][this.commandParameterPath]:null;if(n){var r=this._lbx.hostElement.children[i];W.toggleClass(r,"wj-state-disabled",!this._canExecuteCommand(n,e))}}},t}((L=(W=vn||(window.wijmo=vn={})).input||(W.input={})).ComboBox),L.Menu=X,Cn=window&&window.__extends||(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}K(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){Z.culture.MultiSelect=window.wijmo.culture.MultiSelect||{itemsSelected:"{count:n0} items selected",selectAll:"Select All"};var i=function(e){function i(t,i){var n=e.call(this,t)||this;return n._maxHdrItems=2,n._readOnly=!1,n._hdrFmt=Z.culture.MultiSelect.itemsSelected,n.checkedItemsChanged=new Z.Event,Z.addClass(n.hostElement,"wj-multiselect"),n._tbx.readOnly=!0,n.checkedMemberPath=null,n.addEventListener(n.inputElement,"click",function(){n.isDroppedDown=!n.isDroppedDown}),n.addEventListener(n._selectAll,"click",function(t){Z.hasItems(n.collectionView)&&t.target==n._selectAllCheckbox&&(n.checkedItems=t.target.checked?n.collectionView.items:[])}),n.removeEventListener(n.dropDown,"click"),n._updateHeader(),n.listBox.itemsChanged.addHandler(function(){n._updateHeader()}),n.listBox.checkedItemsChanged.addHandler(function(){n._updateHeader(),n.onCheckedItemsChanged()}),n.initialize(i),n}return Cn(i,e),Object.defineProperty(i.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(t){this._selectAll.style.display=Z.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(t){t!=this._selectAllLabel&&(this._selectAllLabel=Z.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedMemberPath",{get:function(){var t=this.listBox.checkedMemberPath;return t!=i._DEF_CHECKED_PATH?t:null},set:function(t){t=Z.asString(t),this.listBox.checkedMemberPath=t||i._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=Z.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=Z.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=Z.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=Z.asArray(t)},enumerable:!0,configurable:!0}),i.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},i.prototype._createDropDown=function(){this._selectAll=Z.createElement('<div class="wj-listbox-item wj-header wj-select-all" tabindex="0" style="display:none"><label><input type="checkbox"> <span></span></label></div>',this._dropDown),this._selectAllCheckbox=this._selectAll.querySelector("input[type=checkbox]"),this._selectAllSpan=this._selectAll.querySelector("label>span"),Z.setText(this._selectAllSpan,Z.culture.MultiSelect.selectAll);var t=Z.createElement('<div style="width:100%;border:none"></div>',this._dropDown);this._lbx=new Z.input.ListBox(t),e.prototype._createDropDown.call(this),Z.addClass(this.dropDown,"wj-control wj-listbox")},Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=Z.asBoolean(t),Z.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),i.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._updateHeader(),this._selectAllSpan&&Z.setText(this._selectAllSpan,this._selectAllLabel||Z.culture.MultiSelect.selectAll)},i.prototype.onIsDroppedDownChanged=function(t){var i=this;e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&this.containsFocus()&&setTimeout(function(){i.listBox.focus()},200)},i.prototype._setText=function(t,i){},i.prototype._keydown=function(t){e.prototype._keydown.call(this,t),!t.defaultPrevented&&Z.hasItems(this.collectionView)&&32<t.keyCode&&(this.isDroppedDown=!0)},i.prototype._updateHeader=function(){var t=this.checkedItems;if(Z.isFunction(this._hdrFormatter))this.inputElement.value=this._hdrFormatter();else{var i="";if(0<t.length)if(t.length<=this._maxHdrItems){if(this.displayMemberPath){var n=new Z.Binding(this.displayMemberPath);t=t.map(function(t){return n.getValue(t)})}i=t.join(", ")}else i=Z.format(this.headerFormat,{count:t.length});this.inputElement.value=i}var e=null,r=this.collectionView;Z.hasItems(r)&&(0==t.length?e=!1:t.length==r.items.length&&(e=!0)),this._selectAllCheckbox.indeterminate=null==e,null!=e&&(this._selectAllCheckbox.checked=e),this._updateState()},i._DEF_CHECKED_PATH="$checked",i}(t.ComboBox);t.MultiSelect=i}((Z=vn||(window.wijmo=vn={})).input||(Z.input={})),Cn=window&&window.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}_(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),it=function(e){function s(t,i){var n=e.call(this,t)||this;return n._selItems=[],n._lastInputValue="",n._selPath=new q.Binding(null),n._notAddItm=!1,n.selectedItemsChanged=new q.Event,q.addClass(n.hostElement,"wj-multi-autocomplete"),n.showDropDownButton=!1,n.initialize(i),n._wjTpl=n.hostElement.querySelector(".wj-template"),n._wjInput=n.hostElement.querySelector(".wj-input"),n.addEventListener(n.hostElement,"keyup",n._keyup.bind(n),!0),n.addEventListener(window,"resize",n._adjustInputWidth.bind(n)),n.addEventListener(n._tbx,"focus",function(){n._itemOff()}),n._addHelperInput(),n._initSeltems(),n.listBox.itemsChanged.addHandler(function(){return n.selectedIndex=-1}),n._refreshHeader(),n}return Cn(s,e),Object.defineProperty(s.prototype,"showDropDownButton",{set:function(t){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxSelectedItems",{get:function(){return this._maxtems},set:function(t){this._maxtems!=t&&(this._maxtems=q.asNumber(t,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){(t=q.asString(t))!==this.selectedMemberPath&&(this._selPath.path=t,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){if(this._selItems=q.asArray(t),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var i=0;i<this._selItems.length;i++){var n=this._selItems[i];this._setSelItem(n,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),s.prototype.onSelectedItemsChanged=function(t){this.selectedItemsChanged.raise(this,t)},s.prototype.onIsDroppedDownChanged=function(t){!this.isDroppedDown&&-1<this.selectedIndex&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,e.prototype.onIsDroppedDownChanged.call(this,t)},s.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._initSeltems(),this.isDroppedDown||this._refreshHeader()},s.prototype._keydown=function(t){if(!this.isReadOnly){if(!t.defaultPrevented)switch(t.keyCode){case q.Key.Back:this._lastInputValue=this._tbx.value;break;case q.Key.Enter:this._itemOff(),this._addItem(!0),q.isIE&&q.setSelectionRange(this._tbx,0,0);break;case q.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,t.preventDefault()):this._updateFocus();break;case q.Key.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case q.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case q.Key.Left:this._itemOn(!this.rightToLeft);break;case q.Key.Right:this._itemOn(!!this.rightToLeft);break;case q.Key.Up:case q.Key.Down:var i=q.getActiveElement();if(t.altKey){if(this._tbx==i)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void t.preventDefault()}else if(this._tbx!==i)return;default:if(t.keyCode===q.Key.Back||t.keyCode===q.Key.Delete)return;this._itemOff(),null!=this._maxtems&&this._selItems.length>=this._maxtems&&t.preventDefault()}this._tbx.disabled||e.prototype._keydown.call(this,t)}},s.prototype._updateState=function(){e.prototype._updateState.call(this),this._wjTpl&&(q.hasClass(this.hostElement,"wj-state-focused")||this._itemOff())},s.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case q.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case q.Key.Delete:this._delItem(!0)}},s.prototype._addHelperInput=function(){var t=document.createElement("input");t.type="text",t.tabIndex=-1,t.className="wj-token-helper",t.readOnly=!0,this._wjTpl.insertBefore(t,this._wjInput),this._helperInput=t},s.prototype._refreshHeader=function(){for(var t=this.hostElement.querySelectorAll(".wj-token"),i=0;i<t.length;i++)this._wjTpl.removeChild(t[i]);var n=this.selectedItems;if(n&&0!==n.length){for(i=0;i<n.length;i++)this._insertToken(n[i]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}},s.prototype._insertToken=function(t){var i=this._getItemText(t,!0);this.isContentHtml?(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=i,i=this._cvt.textContent.trim()):i=q.escapeHtml(i),this._wjTpl.insertBefore(this._createItem(i),this._wjInput)},s.prototype._updateMaxItems=function(){null!=this._maxtems&&this._selItems&&this._selItems.length>this._maxtems&&(this._selItems=this._selItems.slice(0,this._maxtems))},s.prototype._updateFocus=function(){var t=this,i=this._wjTpl.querySelector("."+s._clsActive);i?(q.removeClass(i,s._clsActive),setTimeout(function(){t._tbx.focus()})):(this._clearSelIndex(),q.removeClass(this.hostElement,"wj-state-focused"))},s.prototype._addItem=function(t){-1<this.selectedItems.indexOf(this.selectedItem)?this._clearSelIndex():-1<this.selectedIndex&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),t&&this._clearSelIndex(),this._disableInput(!0))},s.prototype._delItem=function(t){var i,n,e=this._wjTpl.querySelector("."+s._clsActive),r=!1;t&&!e||(e?-1<(n=this._getItemIndex(e))&&(i=this._selItems[n],r=!0):0<this._selItems.length&&(i=this._selItems[this._selItems.length-1],r=!0),r&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},s.prototype._updateSelItems=function(t,i){if(i){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxtems&&this._selItems.length>=this._maxtems)return;this._selItems.push(t)}else{var n=this._selItems.indexOf(t);this._selItems.splice(n,1)}this._hasSelectedMemeberPath()&&this._setSelItem(t,i),this.onSelectedItemsChanged()},s.prototype._createItem=function(t){var e=this,r=document.createElement("div"),i=document.createElement("span"),n=document.createElement("a");return r.appendChild(i),r.appendChild(n),r.className="wj-token",i.className="wj-token-label",i.innerHTML=t,n.className="wj-token-close",n.href="#",n.tabIndex=-1,n.text="",r.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(r,"click",function(t){e._helperInput.focus();var i=e._wjTpl.querySelector("."+s._clsActive);i&&q.removeClass(i,s._clsActive),q.addClass(r,s._clsActive),t.stopPropagation(),t.preventDefault()}),this.addEventListener(n,"click",function(t){if(!e.isReadOnly){var i=e._getItemIndex(r);if(-1<i){var n=e._selItems[i];e._updateSelItems(n,!1)}e._wjTpl.removeChild(r),e._adjustInputWidth(),e._disableInput(!1),e._tbx.focus(),t.stopPropagation(),t.preventDefault()}}),r},s.prototype._itemOn=function(t){var i,n,e,r=q.getActiveElement();if((this._tbx!=r||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length)if(n=this._wjTpl.querySelector("."+s._clsActive),e=this._getItemIndex(n),t){if(0===e)return;-1===e?q.addClass(i[i.length-1],s._clsActive):(q.removeClass(n,s._clsActive),q.addClass(i[e-1],s._clsActive)),this._helperInput.focus()}else if(!t){if(-1===e)return;e!==i.length-1?(q.removeClass(n,s._clsActive),q.addClass(i[e+1],s._clsActive),this._helperInput.focus()):(q.removeClass(n,s._clsActive),this._tbx.focus())}},s.prototype._itemOff=function(){var t=this._wjTpl.querySelector("."+s._clsActive);t&&q.removeClass(t,s._clsActive)},s.prototype._initSeltems=function(){if(this.selectedMemberPath&&""!==this.selectedMemberPath){var t=this.itemsSource;if(this._selItems.splice(0,this._selItems.length),t)for(var i=0;i<t.sourceCollection.length;i++)this._getSelItem(i)&&this._selItems.push(t.sourceCollection[i])}},s.prototype._getSelItem=function(t){var i=this.itemsSource.sourceCollection[t];return!(!q.isObject(i)||!this.selectedMemberPath)&&this._selPath.getValue(i)},s.prototype._setSelItem=function(t,i){this.itemsSource,q.isObject(t)&&this._selPath.getValue(t)!=i&&this._selPath.setValue(t,i)},s.prototype._clearSelIndex=function(){this.selectedIndex=-1},s.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},s.prototype._disableInput=function(t){null!=this._maxtems&&(this._selItems.length<this._maxtems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},s.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var t,i=q.getElementRect(this.hostElement),n=q.getElementRect(this._tbx),e=getComputedStyle(this._tbx),r=parseInt(e.paddingLeft,10),s=parseInt(e.paddingRight,10);t=this.rightToLeft?n.left+n.width-i.left-r-s-8:i.left+i.width-n.left-r-s-8,this._tbx.style.width=t+"px"},s.prototype._getItemIndex=function(t){for(var i=this.hostElement.querySelectorAll(".wj-token"),n=0;n<i.length;n++)if(t===i[n])return n;return-1},s._clsActive="wj-token-active",s}((tt=(q=vn||(window.wijmo=vn={})).input||(q.input={})).AutoComplete),tt.MultiAutoComplete=it,Cn=window&&window.__extends||(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}nt(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(o){var s,t;(t=s=o.PopupTrigger||(o.PopupTrigger={}))[t.None=0]="None",t[t.Click=1]="Click",t[t.Blur=2]="Blur",t[t.ClickOrBlur=3]="ClickOrBlur";var i=function(r){function t(t,i){var n=r.call(this,t,null,!0)||this;n._showTrigger=s.Click,n._hideTrigger=s.Blur,n._fadeIn=!0,n._fadeOut=!0,n._removeOnHide=!0,n._visible=!1,n._ownerClickBnd=n._ownerClick.bind(n),n._ownerMousedownBnd=n._ownerMouseDown.bind(n),n.showing=new et.Event,n.shown=new et.Event,n.hiding=new et.Event,n.hidden=new et.Event;var e=n.hostElement;return et.addClass(e,"wj-control wj-content wj-popup"),e.getAttribute("tabindex")||(e.tabIndex=0),et.hidePopup(e,!1),n.addEventListener(e,"compositionstart",function(t){n._composing=!0}),n.addEventListener(e,"compositionend",function(t){n._composing=!1}),n.addEventListener(e,"keydown",function(t){if(!t.defaultPrevented){if(t.keyCode!=et.Key.Escape||n._composing||(t.preventDefault(),n.hide()),t.keyCode==et.Key.Enter){var i=n.dialogResultEnter;i&&(t.preventDefault(),n._validateAndHide(i))}t.keyCode==et.Key.Tab&&n.modal&&(t.preventDefault(),et.moveFocus(e,t.shiftKey?-1:1))}}),n.addEventListener(e,"click",function(t){if(t.target instanceof HTMLElement){var i=t.target.className.match(/\bwj-hide[\S]*\b/);i&&0<i.length&&(t.preventDefault(),t.stopPropagation(),n.hide(i[0]))}}),n.addEventListener(document,"wheel",function(t){if(n.isVisible&&n._modal){for(var i=t.target;i&&i!=document.body;i=i.parentElement)if(i.scrollHeight>i.clientHeight)return;t.preventDefault(),t.stopPropagation()}}),n.initialize(i),n}return Cn(t,r),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(t){var i=this._owner;i&&(this.removeEventListener(i,"mousedown"),this.removeEventListener(i,"click")),(i=this._owner=null!=t?et.getElement(t):null)&&(this.addEventListener(i,"mousedown",this._ownerMousedownBnd,!0),this.addEventListener(i,"click",this._ownerClickBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(t){t!=this.content&&(this.hostElement.innerHTML="",t instanceof HTMLElement&&this.hostElement.appendChild(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=et.asEnum(t,s)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=et.asEnum(t,s)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=et.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=et.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(t){this._removeOnHide=et.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=et.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this._draggable},set:function(t){this._draggable=et.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(t){this._result=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(t){this._resultEnter=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var t=this.hostElement;return this._visible&&null!=t&&0<t.offsetHeight},enumerable:!0,configurable:!0}),t.prototype.show=function(t,i){var n=this;if(!this.isVisible){var e=this.hostElement;this.dialogResult=null,this._callback=null,this._hideAnim&&(clearInterval(this._hideAnim),this._hideAnim=null);var r=new et.CancelEventArgs;this.onShowing(r)&&(null!=t&&(this.modal=et.asBoolean(t)),null!=i&&(this._callback=et.asFunction(i)),et.showPopup(e,this._owner,!1,this._fadeIn,!1),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(r),this.modal&&this.addEventListener(window,"focus",function(){n.containsFocus()||et.moveFocus(e,0)}),this._makeDraggable(this._draggable),setTimeout(function(){if(!n.isTouching){var t=e.querySelector("input[autofocus]");t&&0<t.clientHeight&&!t.disabled&&-1<t.tabIndex&&!et.closest(t,"[disabled],.wj-state-disabled")?(t.focus(),t.select()):et.moveFocus(e,0)}n.containsFocus()||(e.tabIndex=0,e.focus())},200))}},t.prototype.hide=function(t){var i=this;if(this._makeDraggable(!1),this.isVisible){et.isUndefined(t)||(this.dialogResult=t);var n=new et.CancelEventArgs;if(this.onHiding(n)){for(var e=this.hostElement.querySelectorAll(".wj-control.wj-dropdown"),r=0;r<e.length;r++){var s=et.Control.getControl(e[r]);s instanceof o.DropDown&&(s.isDroppedDown=!1)}this._bkdrop&&et.hidePopup(this._bkdrop,this.removeOnHide,this.fadeOut),this._hideAnim=et.hidePopup(this.hostElement,this.removeOnHide,this.fadeOut),this._visible=!1,this.removeEventListener(window,"focus"),this.containsFocus()&&et.getActiveElement().blur(),setTimeout(function(){i._updateState(),i.onHidden(n),i._callback&&i._callback(i)})}}},t.prototype.onShowing=function(t){return this.showing.raise(this,t),!t.cancel},t.prototype.onShown=function(t){this.shown.raise(this,t)},t.prototype.onHiding=function(t){return this.hiding.raise(this,t),!t.cancel},t.prototype.onHidden=function(t){this.hidden.raise(this,t)},t.prototype.dispose=function(){this.owner=null,r.prototype.dispose.call(this)},t.prototype.onLostFocus=function(t){this.isVisible&&this._hideTrigger&s.Blur&&(this.containsFocus()||this.hide()),r.prototype.onLostFocus.call(this,t)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),r.prototype.refresh.call(this,t),this.isVisible&&!this._refreshing){this._refreshing=!0;var i=et.getActiveElement(),n=this._owner?this._owner.getBoundingClientRect():null;et.showPopup(this.hostElement,n),this._modal&&i instanceof HTMLElement&&i!=et.getActiveElement()&&i.focus(),this._refreshing=!1}},t.prototype._makeDraggable=function(t){var n,e,r=this,s=this.hostElement,i=s?s.querySelector(".wj-dialog-header"):null,o=document,h="mousedown",c="mousemove",a="mouseup",u="touchstart",l="touchmove",A="touchend",f=function(t){s&&et.contains(i,t.target)&&(n=new et.Point(s.offsetLeft,s.offsetTop),e=et.mouseToPage(t),[c,a,l,A].forEach(function(t){r.removeEventListener(o,t)}),[c,l].forEach(function(t){r.addEventListener(o,t,d)}),[a,A].forEach(function(t){r.addEventListener(o,t,g)}))},d=function(t){var i=et.mouseToPage(t);et.setCss(s,{left:Math.max(n.x+(i.x-e.x),50-s.offsetWidth),top:Math.max(n.y+(i.y-e.y),0)}),r._dragged=!0},g=function(t){[c,a,l,A].forEach(function(t){r.removeEventListener(o,t)})};[h,u].forEach(function(t){r.removeEventListener(o,t)}),this._dragged=!1,i&&(et.setCss(i,{touchAction:t?"none":""}),t&&[h,u].forEach(function(t){r.addEventListener(o,t,f)}))},t.prototype._handleResize=function(){this.isVisible&&!this._dragged&&this.refresh()},t.prototype._ownerClick=function(t){this.isVisible?this._hideTrigger&s.Click&&this.hide():this._showTrigger&s.Click&&(this._wasVisible||this.show())},t.prototype._ownerMouseDown=function(t){this._wasVisible=this.isVisible},t.prototype._showBackdrop=function(){var i=this;this._bkdrop||(this._bkdrop=document.createElement("div"),this._bkdrop.tabIndex=-1,et.addClass(this._bkdrop,"wj-popup-backdrop"),this.addEventListener(this._bkdrop,"mousedown",function(t){t.preventDefault(),t.stopPropagation(),i.hostElement.focus(),i.hideTrigger&s.Blur&&i.hide()})),this._bkdrop.style.display="";var t=this.hostElement;t.parentElement.insertBefore(this._bkdrop,t)},t.prototype._validateAndHide=function(t){var i=this.hostElement.querySelector(":invalid");i?i.focus():this.hide(t)},t}(et.Control);o.Popup=i}((et=vn||(window.wijmo=vn={})).input||(et.input={})),Cn=window&&window.__extends||(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}rt(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),st=vn||(window.wijmo=vn={}),ht=function(r){function t(t,i){var n=r.call(this,t)||this;if(n._format="d",n.valueChanged=new st.Event,st.addClass(n.hostElement,"wj-inputdate"),n._msk=new st._MaskProvider(n._tbx),st.isIE9()||(n.inputType="tel"),n._tbx.type.match(/date/i)&&(n.inputType=""),n.addEventListener(n.hostElement,"wheel",function(t){if(!t.defaultPrevented&&!n.isDroppedDown&&n.containsFocus()&&null!=n.value&&n._canChangeValue()){var i=st.clamp(-t.deltaY,-1,1);n.value=n.selectionMode==ot.DateSelectionMode.Month?st.DateTime.addMonths(n.value,i):st.DateTime.addDays(n.value,i),n.selectAll(),t.preventDefault()}}),n.value=st.DateTime.newDate(),"INPUT"==n._orgTag){var e=n._tbx.getAttribute("value");e&&(n.value=st.Globalize.parseDate(e,"yyyy-MM-dd"))}return n.isRequired=!0,n.initialize(i),n}return Cn(t,r),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){if(st.DateTime.equals(this._value,t))this._tbx.value=st.Globalize.format(t,this.format);else{var i=!this.isRequired||null==t&&null==this.value;t=st.asDate(t,i),t=this._clamp(t),this._isValidDate(t)?(this._tbx.value=t?st.Globalize.format(t,this.format):"",t==this._value||st.DateTime.equals(this._value,t)||(this._value=t,this.onValueChanged())):this._tbx.value=t?st.Globalize.format(this.value,this.format):"",this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(t){this.calendar.selectionMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._calendar.min},set:function(t){this._calendar.min=st.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._calendar.max},set:function(t){this._calendar.max=st.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=st.asString(t),this._tbx.value=st.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=st.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=st.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(t){t!=this.itemValidator&&(this._calendar.itemValidator=st.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(t){t!=this.itemFormatter&&(this.calendar.itemFormatter=st.asFunction(t))},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),r.prototype.refresh.call(this,t),this.isDroppedDown=!1,this._msk&&this._msk.refresh(),this._calendar&&this._calendar.refresh(),this._tbx.value=st.Globalize.format(this.value,this.format)},t.prototype.onIsDroppedDownChanged=function(t){r.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._calChanged=!1,this.dropDown.focus(),this._calendar.refresh())},t.prototype._createDropDown=function(){var i=this;this._calendar=new ot.Calendar(this._dropDown),this._calendar.valueChanged.addHandler(function(){i.value=st.DateTime.fromDateTime(i._calendar.value,i.value),i._calChanged=!0}),this.addEventListener(this._dropDown,"click",function(t){i._calChanged&&!st.closest(t.target,".wj-calendar-header")?i.isDroppedDown=!1:"btn-today"==t.target.getAttribute("wj-part")&&(i.isDroppedDown=!1)})},t.prototype._updateDropDown=function(){this._commitText();var t=this._calendar;t.value=this.value,t.min=this.min,t.max=this.max,this.selectionMode!=ot.DateSelectionMode.Month&&(t.monthView=!0);var i=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(i.fontSize)+"px",this._calendar.refresh(),r.prototype._updateDropDown.call(this)},t.prototype._keydown=function(t){if(!(t.defaultPrevented||t.altKey||t.ctrlKey||t.metaKey))switch(t.keyCode){case st.Key.Enter:this._commitText(),this.selectAll();break;case st.Key.Escape:this.text=st.Globalize.format(this.value,this.format),this.selectAll();break;case st.Key.Up:case st.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var i=t.keyCode==st.Key.Up?1:-1,n=this.selectionMode==ot.DateSelectionMode.Month?st.DateTime.addMonths(this.value,i):st.DateTime.addDays(this.value,i);this.value=st.DateTime.fromDateTime(n,this.value),this.selectAll(),t.preventDefault()}}r.prototype._keydown.call(this,t)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=ot.DateSelectionMode.None},t.prototype._clamp=function(t){return this.calendar._clamp(t)},t.prototype._commitText=function(){var t=this._tbx.value;if(t||this.isRequired){var i=st.Globalize.parseDate(t,this.format,this.value);i?this.value=st.DateTime.fromDateTime(i,this.value):this._tbx.value=st.Globalize.format(this.value,this.format)}else this.value=null},t.prototype._isValidDate=function(t){if(t){if(this._clamp(t)!=t)return!1;if(this.itemValidator&&!this.itemValidator(t))return!1}return!0},t}((ot=st.input||(st.input={})).DropDown),ot.InputDate=ht,Cn=window&&window.__extends||(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}ct(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),lt=function(r){function t(t,i){var n=r.call(this,t)||this;if(n._format="t",n.valueChanged=new at.Event,at.addClass(n.hostElement,"wj-inputtime"),n._value=at.DateTime.newDate(),n._msk=new at._MaskProvider(n._tbx),at.isIE9()||(n._tbx.type="tel"),"INPUT"==n._orgTag){var e=n._tbx.getAttribute("value");e&&(n.value=at.Globalize.parseDate(e,"HH:mm:ss"))}return n.step=15,n.autoExpandSelection=!0,n.initialize(i),n}return Cn(t,r),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=at.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){(t=at.asDate(t,!this.isRequired))&&(null!=this._min&&this._getTime(t)<this._getTime(this._min)&&(t=at.DateTime.fromDateTime(t,this._min)),null!=this._max&&this._getTime(t)>this._getTime(this._max)&&(t=at.DateTime.fromDateTime(t,this._max))),this._setText(t?at.Globalize.format(t,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(t=at.DateTime.fromDateTime(t,this.selectedItem.value)),t==this._value||at.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._min=at.asDate(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){this._max=at.asDate(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){this._step=at.asNumber(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=at.asString(t),this._tbx.value=at.Globalize.format(this.value,this.format),at.hasItems(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=at.asString(t)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},t.prototype.onItemsSourceChanged=function(t){r.prototype.onItemsSourceChanged.call(this,t),this._hasCustomItems=null!=this.itemsSource},t.prototype._updateInputSelection=function(t){if(this._delKey)r.prototype._updateInputSelection.call(this,t);else{for(var i=this._tbx.value;t<i.length&&!i[t].match(/[a-z0-9]/i);)t++;at.setSelectionRange(this._tbx,t,this._tbx.value.length)}},t.prototype.refresh=function(t){void 0===t&&(t=!0),r.prototype.refresh.call(this,t),this.isDroppedDown=!1,this._msk.refresh(),this._tbx.value=at.Globalize.format(this.value,this.format),this._updateItems()},t.prototype.onSelectedIndexChanged=function(t){if(-1<this.selectedIndex&&!this._settingText){var i=this.value?this.value:at.DateTime.newDate(),n=null!=this.selectedItem.value?this.selectedItem.value:at.Globalize.parseDate(this.text,this.format,this.value);this.value=at.DateTime.fromDateTime(i,n)}r.prototype.onSelectedIndexChanged.call(this,t)},t.prototype._updateItems=function(){if(!this._hasCustomItems){var t=[],i=at.DateTime.newDate(0,0,0,0,0),n=at.DateTime.newDate(0,0,0,23,59,59);if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&n.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),at.isNumber(this.step)&&0<this.step)for(var e=i;e<=n;e=at.DateTime.addMinutes(e,this.step))t.push({value:e,text:at.Globalize.format(e,this.format)});var r=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=t,this._hasCustomItems=!1,this._settingText=!1,this.value=r}},t.prototype._getTime=function(t){return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds()},t.prototype._keydown=function(t){if(r.prototype._keydown.call(this,t),!t.defaultPrevented)switch(t.keyCode){case at.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case at.Key.Escape:this.text=at.Globalize.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var t=this.value?at.Globalize.format(this.value,this.format):null;if(this.text!=t){var i=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:at.Globalize.parseDate(this.text,this.format,this.value);i?this.value=at.DateTime.fromDateTime(this.value,i):this.text=t}}else this.value=null},t}((ut=(at=vn||(window.wijmo=vn={})).input||(at.input={})).ComboBox),ut.InputTime=lt,Cn=window&&window.__extends||(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}At(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(h){ft.culture.InputDateTime=window.wijmo.culture.InputDateTime||{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}};var t=function(o){function t(t,i){var n=o.call(this,t)||this;ft.addClass(n.hostElement,"wj-inputdatetime"),n._btnTm=n.hostElement.querySelector('[wj-part="btn-tm"]');var e=ft.culture.InputDateTime.ariaLabels;ft.setAriaLabel(n._btn,e.tglDate),ft.setAriaLabel(n._btnTm,e.tglTime),n._format="g",n._inputTime=new h.InputTime(document.createElement("div"),{isDroppedDownChanging:function(t,i){n._hadFocus=n.containsFocus()},isDroppedDownChanged:function(t,i){!t.isDroppedDown&&n._hadFocus&&n._tbx.focus()},valueChanged:function(t,i){n.value=ft.DateTime.fromDateTime(n.value,t.value)}});var r=n._inputTime.dropDown,s=n._keydown.bind(n);return n.addEventListener(r,"keydown",s,!0),n.addEventListener(r,"blur",function(){n._updateFocusState()},!0),n.addEventListener(n._btn,"mousedown",function(t){n._setDropdown(n.calendar.hostElement)}),n.addEventListener(n._btnTm,"mousedown",function(t){n._inputTime.dropDownCssClass=n.dropDownCssClass,n._setDropdown(r),setTimeout(function(){n._btnclick(t)})}),n.initialize(i),n}return Cn(t,o),Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(t){this._inputTime.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(t){this._inputTime.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(t){this._inputTime.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(t){this._inputTime.step=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._setDropdown(this.calendar.hostElement),o.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(t){void 0===t&&(t=!0),this._setDropdown(this.calendar.hostElement),this._inputTime.refresh(),o.prototype.refresh.call(this,t)},t.prototype._updateBtn=function(){o.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._clamp=function(t){return t&&(this.min&&t<this.min&&(t=this.min),this.max&&t>this.max&&(t=this.max)),t},t.prototype._commitText=function(){var t=this._tbx.value;if(t||this.isRequired){var i=ft.Globalize.parseDate(t,this.format,this.value);i?this.value=i:this._tbx.value=ft.Globalize.format(this.value,this.format)}else this.value=null},t.prototype._setDropdown=function(t){this._dropDown!=t&&(this.isDroppedDown&&(this.isDroppedDown=!1),this._dropDown=t)},t.prototype._updateDropDown=function(){var t=this._inputTime;this._dropDown==t.dropDown?(this._commitText(),o.prototype._updateDropDown.call(this),t.isRequired=this.isRequired,t.value=this.value,this.isDroppedDown&&t.listBox.showSelection()):o.prototype._updateDropDown.call(this)},t.controlTemplate='<div class="wj-template" style="position:relative"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none"></div></div>',t}(h.InputDate);h.InputDateTime=t}((ft=vn||(window.wijmo=vn={})).input||(ft.input={})),Cn=window&&window.__extends||(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}dt(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){gt.culture.InputNumber=window.wijmo.culture.InputNumber||{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}};var i=function(c){function t(t,i){var n=c.call(this,t)||this;n._showBtn=!0,n._readOnly=!1,n.textChanged=new gt.Event,n.valueChanged=new gt.Event;var e=n.hostElement;gt.setAttribute(e,"role","spinbutton",!0);var r=n.getTemplate();n.applyTemplate("wj-control wj-content wj-inputnumber",r,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var s=gt.culture.InputNumber.ariaLabels;gt.setAriaLabel(n._btnUp.querySelector("button"),s.incVal),gt.setAriaLabel(n._btnDn.querySelector("button"),s.decVal),n._tbx.type.match(/number/i)&&(n.inputType="");var o=n._tbx;o.autocomplete="off",o.spellcheck=!1,n._updateSymbols(),n.addEventListener(n._tbx,"compositionstart",function(){n._composing=!0}),n.addEventListener(n._tbx,"compositionend",function(){n._composing=!1,setTimeout(function(){var t=n.text;-1<n._oldText.indexOf(n._chrPct)&&t.indexOf(n._chrPct)<0&&(t+=n._chrPct),n._setText(t)})}),n.addEventListener(o,"keypress",n._keypress.bind(n)),n.addEventListener(o,"keydown",n._keydown.bind(n)),n.addEventListener(o,"input",n._input.bind(n));var h=n._clickSpinner.bind(n);return n.addEventListener(n._btnUp,"click",h),n.addEventListener(n._btnDn,"click",h),n._rptUp=new gt._ClickRepeater(n._btnUp.querySelector("button")),n._rptDn=new gt._ClickRepeater(n._btnDn.querySelector("button")),n.value=0,n.isRequired=!0,n.initialize(i),n}return Cn(t,c),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=gt.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(null==(t=gt.asNumber(t,!this.isRequired||null==t&&null==this._value)))this._setText("");else if(!isNaN(t)){var i=gt.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=gt.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=gt.asBoolean(t),this.inputElement.readOnly=this._readOnly,gt.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=gt.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=gt.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){this._step=gt.asNumber(t,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=gt.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._oldText=null,this._setText(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=gt.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!gt.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var t=this._tbx;gt.setSelectionRange(t,0,t.value.length)},t.prototype.clamp=function(t){return gt.clamp(t,this.min,this.max)},t.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},t.prototype.onValueChanged=function(t){this._updateAria(),this.valueChanged.raise(this,t)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,c.prototype.dispose.call(this)},t.prototype.onGotFocus=function(t){this.isTouching||(this._tbx.focus(),this.selectAll()),c.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text));var i=this.clamp(this.value),n=gt.Globalize.format(i,this.format);this._setText(n),c.prototype.onLostFocus.call(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),c.prototype.refresh.call(this,t),this._updateSymbols();var i=gt.Globalize.format(this.value,this.format);this._setText(i)},t.prototype._updateSymbols=function(){var t=gt.culture.Globalize.numberFormat,i=this.format?this.format.match(/([a-z])(\d*)(,*)(.*)/i):null;this._chrDec=t["."]||".",this._chrNeg=t["-"]||"-",this._chrPls=t["+"]||"+",this._chrPct=t["%"]||"%",this._chrCur=i&&i[4]?i[4]:t.currency.symbol||"$",this._fmtSpc=i&&i[1]?i[1].toLowerCase():"n",this._fmtPrc=i&&i[2]?parseInt(i[2]):null,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")},t.prototype._isNumeric=function(t,i){var n=t==this._chrDec||"0"<=t&&t<="9",e="x"==this._fmtSpc;return!n&&e&&(n="a"<=t&&t<="f"||"A"<=t&&t<="F"),n||i||e||(n=t==this._chrPls||t==this._chrNeg||"("==t||")"==t),n},t.prototype._getInputRange=function(t){for(var i=[0,0],n=this.text,e=!1,r=0;r<n.length;r++)this._isNumeric(n[r],t)&&(e||(i[0]=r,e=!0),i[1]=r+1);return i},t.prototype._flipSign=function(){var t=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(t)},t.prototype._getSelStartDigits=function(){for(var t=0,i=this._tbx.selectionStart,n=this._tbx.value,e=0;e<n.length&&e<i;e++)this._isNumeric(n[e],!0)&&t++;return t},t.prototype._setSelStartDigits=function(t){for(var i=this._tbx.value,n=0;n<i.length&&0<=t;n++)if(this._isNumeric(i[n],!0)){if(!t){gt.setSelectionRange(this._tbx,n);break}t--}else if(!t){gt.setSelectionRange(this._tbx,n);break}},t.prototype._increment=function(t){if(t){var i=this.clamp(gt.isNumber(this.value)?this.value+t:0),n=gt.Globalize.format(i,this.format,!1,!1);this._setText(n)}},t.prototype._updateBtn=function(){var t=this.showSpinner&&!!this.step,i=t;gt.setCss([this._btnUp,this._btnDn],{display:t?"":"none"}),gt.toggleClass(this.hostElement,"wj-input-show-spinner",t),gt.enable(this._btnUp,i),gt.enable(this._btnDn,i),this._updateAria()},t.prototype._setText=function(t){if(!this._composing){var i=this._tbx,n=this._rxNeg.test(t),e=this._delKey;if(t&&this._rxSym.test(t)&&(t=this.isRequired||!e?"0":""),this._delKey=!1,e&&0==this.value&&!this.isRequired&&(t=""),!t){if(!this.isRequired)return i.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=t,this.onTextChanged()),void this._updateBtn();t="0"}var r=this._format||(-1<t.indexOf(this._chrDec)?"n2":"n0"),s=gt.Globalize.parseFloat(t,r);if(isNaN(s))i.value=this._oldText;else{var o=gt.Globalize.format(s,r,!1);n&&0<=s&&!e&&(o=this._chrNeg+o),null!=this._fmtPrc&&"g"!=this._fmtSpc||!e&&i.value.match(/\.0?$/)&&(o=t+("0"==t?this._chrDec:"")),i.value!=o&&("g"==this._fmtSpc&&i.value.match(o+"0*")&&this.containsFocus()&&i.selectionStart==i.value.length&&(o=i.value),i.value=o,s=gt.Globalize.parseFloat(o,this.format)),s!=this._value&&(this._value=s,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn()}}},t.prototype._keypress=function(t){if(!(t.defaultPrevented||this._composing||this.isReadOnly)&&t.charCode&&!t.ctrlKey&&!t.metaKey){var i=this._tbx,n=String.fromCharCode(t.charCode);if(this._isNumeric(n,!1)){var e=this._getInputRange(!0),r=i.selectionStart,s=i.selectionEnd;if(r<e[0]&&s<i.value.length&&(s=Math.max(s,e[0]),gt.setSelectionRange(i,e[0],s)),r>=e[1]){var o=null!=this._fmtPrc?this._fmtPrc:2,h=i.value.indexOf(this._chrDec);-1<h&&o<r-h&&t.preventDefault()}}else t.preventDefault();switch(n){case"-":case this._chrNeg:0<=this.min?this.value<0&&this._flipSign():this.value&&i.selectionStart==i.selectionEnd?this._flipSign():this.clamp(-1)<0&&(i.value=this._chrNeg,gt.setSelectionRange(i,1)),t.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),t.preventDefault();break;case this._chrDec:if(0==this._fmtPrc)t.preventDefault();else{var c=i.value.indexOf(n);-1<c&&(i.selectionStart<=c&&c++,gt.setSelectionRange(i,c),t.preventDefault())}}}},t.prototype._keydown=function(t){var i=this;if(this._delKey=!1,!t.defaultPrevented&&!this._composing){var n=this._tbx,e=n.value,r=n.selectionStart,s=n.selectionEnd;switch(t.keyCode){case 65:t.ctrlKey&&(setTimeout(function(){i.selectAll()}),t.preventDefault());break;case gt.Key.Up:case gt.Key.Down:this.step&&!this.isReadOnly&&(this._increment(this.step*(t.keyCode==gt.Key.Up?1:-1)),setTimeout(function(){i.selectAll()}),t.preventDefault());break;case gt.Key.Back:if(this._delKey=!0,s-r<2&&!this.isReadOnly){var o=e[s-1];o!=this._chrDec&&o!=this._chrPct&&")"!=o||(setTimeout(function(){s=o==i._chrPct?i._getInputRange(!0)[1]:s-1,gt.setSelectionRange(n,s)}),t.preventDefault())}break;case gt.Key.Delete:if(this._delKey=!0,s-r<2&&!this.isReadOnly)if("0"==e&&1==r)gt.setSelectionRange(n,0);else{var h=e[r];h!=this._chrDec&&h!=this._chrPct||(setTimeout(function(){gt.setSelectionRange(n,r+1)}),t.preventDefault())}}}},t.prototype._input=function(t){var c=this;this._composing||setTimeout(function(){var t=c._tbx,i=t.value,n=i.indexOf(c._chrDec),e=t.selectionStart,r=c._getSelStartDigits();if("p"==c._fmtSpc&&i.length&&i.indexOf(c._chrPct)<0&&(i+=c._chrPct),c._setText(i),c.containsFocus()){var s=t.value,o=s.indexOf(c._chrDec),h=c._getInputRange(!0);if(i==c._chrNeg+c._chrDec&&-1<o)return void gt.setSelectionRange(t,o+1);if(i[0]==c._chrNeg&&s[0]!=c._chrNeg)return void(1==s.length?gt.setSelectionRange(t,1):c._setSelStartDigits(r));i?i==c._chrDec&&-1<o?e=o+1:e<=n&&-1<o||n<0&&o<0?e+=s.length-i.length:n<0&&-1<o&&(e=o):e=-1<o?o:h[1],e=gt.clamp(e,h[0],h[1]),gt.setSelectionRange(t,e)}})},t.prototype._clickSpinner=function(t){var i=this;t.defaultPrevented||this.isReadOnly||!this.step||(this._increment(this.step*(gt.contains(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},t.prototype._updateAria=function(){var t=this.hostElement;t&&(gt.setAttribute(t,"aria-valuemin",this.min),gt.setAttribute(t,"aria-valuemax",this.max),gt.setAttribute(t,"aria-valuenow",this.value))},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div>',t}(gt.Control);t.InputNumber=i}((gt=vn||(window.wijmo=vn={})).input||(gt.input={})),Cn=window&&window.__extends||(wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}wt(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),bt=(mt=vn||(window.wijmo=vn={})).input||(mt.input={}),vt=function(s){function t(t,i){var n=s.call(this,t)||this;n.valueChanged=new mt.Event;var e=n.getTemplate();if(n.applyTemplate("wj-control wj-content wj-inputmask",e,{_tbx:"input"},"input"),"INPUT"==n._orgTag){var r=n._tbx.getAttribute("value");r&&(n.value=r)}return n._msk=new mt._MaskProvider(n._tbx),n.isRequired=!0,n.initialize(i),n.addEventListener(n._tbx,"input",function(){setTimeout(function(){n.onValueChanged()})}),n}return Cn(t,s),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(t){t!=this.value&&(this._tbx.value=mt.asString(t),t=this._msk._applyMask(),this._tbx.value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){t!=this.rawValue&&(this.value=mt.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){var i=this.value;this._msk.mask=mt.asString(t),this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(t){var i=this.value;this._msk.promptChar=t,this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=mt.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=mt.asBoolean(t),mt.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var t=this._msk.getMaskRange();mt.setSelectionRange(this._tbx,t[0],t[1]+1)},t.prototype.onValueChanged=function(t){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,t)),this._updateState()},t.prototype._updateState=function(){s.prototype._updateState.call(this);var t=!this._pristine&&this._tbx.value&&!this.maskFull;mt.toggleClass(this.hostElement,"wj-state-invalid",t)},t.prototype.dispose=function(){this._msk.input=null,s.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),s.prototype.refresh.call(this,t),this._msk.refresh()},t.prototype.onGotFocus=function(t){s.prototype.onGotFocus.call(this,t),this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(mt.Control),bt.InputMask=vt,Cn=window&&window.__extends||(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}pt(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Et=vn||(window.wijmo=vn={}),jt=function(e){function t(t,i){var n=e.call(this,t)||this;return n.valueChanged=new Et.Event,Et.addClass(n.hostElement,"wj-inputcolor"),n._tbx.style.paddingLeft="24px",n._ePreview=Et.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>',n.hostElement.firstElementChild),"INPUT"==n._orgTag&&(n._tbx.type="",n._commitText()),n.value="#ffffff",n.isRequired=!0,n.initialize(i),n.addEventListener(n._colorPicker.hostElement,"click",function(t){var i=t.target;i&&"DIV"==i.tagName&&(Et.closest(i,'[wj-part="div-pal"]')||Et.closest(i,'[wj-part="div-pv"]'))&&i.style.backgroundColor&&(n.isDroppedDown=!1)}),n}return Cn(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){t!=this.value&&(!t&&this.isRequired||(this.text=Et.asString(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(Et.asString(t),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(t){this._colorPicker.showAlphaChannel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(t){this._colorPicker.palette=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},t.prototype._createDropDown=function(){var t=this;this._colorPicker=new Bt.ColorPicker(this._dropDown),Et.setCss(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){t.value=t._colorPicker.value})},t.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case Et.Key.Enter:this._commitText(),this.selectAll();break;case Et.Key.Escape:this.text=this.value,this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,void(this._ePreview.style.backgroundColor="");Et.Color.fromString(this.text)?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:""}},t}((Bt=Et.input||(Et.input={})).DropDown),Bt.InputColor=jt,Cn=window&&window.__extends||(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}Ct(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),vn.culture.FlexGrid=window.wijmo.culture.FlexGrid||{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}},function(w){var p,t;(t=p=w.HeadersVisibility||(w.HeadersVisibility={}))[t.None=0]="None",t[t.Column=1]="Column",t[t.Row=2]="Row",t[t.All=3]="All";var i=function(s){function g(t,i){var n=s.call(this,t,null,!0)||this;n._szClient=new It.Size(0,0),n._ptScrl=new It.Point(0,0),n._cellPadding=3,n._clipToScreen=!1,n._autoGenCols=!0,n._autoClipboard=!0,n._autoScroll=!0,n._readOnly=!1,n._indent=14,n._autoSizeMode=w.AutoSizeMode.Both,n._hdrVis=p.All,n._alSorting=!0,n._alAddNew=!1,n._alDelete=!1,n._alResizing=w.AllowResizing.Columns,n._alDragging=w.AllowDragging.Columns,n._alMerging=w.AllowMerging.None,n._ssHdr=p.None,n._shSort=!0,n._shGroups=!0,n._shAlt=!0,n._shErr=!0,n._shDropDown=!0,n._valEdt=!0,n._deferResizing=!1,n._pSel=!0,n._pOutline=!0,n._vt=0,n._vtRows=0,n._vtCols=0,n.itemsSourceChanging=new It.Event,n.itemsSourceChanged=new It.Event,n.scrollPositionChanged=new It.Event,n.selectionChanging=new It.Event,n.selectionChanged=new It.Event,n.loadingRows=new It.Event,n.loadedRows=new It.Event,n.updatingLayout=new It.Event,n.updatedLayout=new It.Event,n.resizingColumn=new It.Event,n.resizedColumn=new It.Event,n.autoSizingColumn=new It.Event,n.autoSizedColumn=new It.Event,n.draggingColumn=new It.Event,n.draggingColumnOver=new It.Event,n.draggedColumn=new It.Event,n.resizingRow=new It.Event,n.resizedRow=new It.Event,n.autoSizingRow=new It.Event,n.autoSizedRow=new It.Event,n.draggingRow=new It.Event,n.draggingRowOver=new It.Event,n.draggedRow=new It.Event,n.groupCollapsedChanging=new It.Event,n.groupCollapsedChanged=new It.Event,n.sortingColumn=new It.Event,n.sortedColumn=new It.Event,n.beginningEdit=new It.Event,n.prepareCellForEdit=new It.Event,n.cellEditEnding=new It.Event,n.cellEditEnded=new It.Event,n.rowEditStarting=new It.Event,n.rowEditStarted=new It.Event,n.rowEditEnding=new It.Event,n.rowEditEnded=new It.Event,n.rowAdded=new It.Event,n.deletingRow=new It.Event,n.deletedRow=new It.Event,n.copying=new It.Event,n.copied=new It.Event,n.pasting=new It.Event,n.pasted=new It.Event,n.pastingCell=new It.Event,n.pastedCell=new It.Event,n.formatItem=new It.Event,n.updatingView=new It.Event,n.updatedView=new It.Event,n._mappedColumns=null;var e=n.hostElement;It.isIE()&&(e.style.borderRadius="0");var r=n.getTemplate();return n.applyTemplate("wj-control wj-content wj-flexgrid",r,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),[n._eRHdr,n._eCFtr,n._eCHdr,n._eBL,n._eTL].forEach(function(t){It.setAttribute(t,"aria-hidden",!0),It.setCss(t,{position:"absolute",overflow:"hidden",outline:"none"}),It.setCss(t.firstElementChild,{position:"relative"})}),[n._eFocus,n._eMarquee,n._fCt,n._eSz].forEach(function(t){It.setAttribute(t,"aria-hidden",!0)}),e.tabIndex=-1,n.deferUpdate(function(){var t=n._getDefaultRowHeight();n._rows=new w.RowCollection(n,t),n._cols=new w.ColumnCollection(n,4*t),n._hdrRows=new w.RowCollection(n,t),n._hdrCols=new w.ColumnCollection(n,Math.round(1.25*t)),n._ftrRows=new w.RowCollection(n,t),n._gpTL=new w.GridPanel(n,w.CellType.TopLeft,n._hdrRows,n._hdrCols,n._eTLCt),n._gpCHdr=new w.GridPanel(n,w.CellType.ColumnHeader,n._hdrRows,n._cols,n._eCHdrCt),n._gpRHdr=new w.GridPanel(n,w.CellType.RowHeader,n._rows,n._hdrCols,n._eRHdrCt),n._gpCells=new w.GridPanel(n,w.CellType.Cell,n._rows,n._cols,n._eCt),n._gpBL=new w.GridPanel(n,w.CellType.BottomLeft,n._ftrRows,n._hdrCols,n._eBLCt),n._gpCFtr=new w.GridPanel(n,w.CellType.ColumnFooter,n._ftrRows,n._cols,n._eCFtrCt),n._hdrRows.push(new w.Row),n._hdrCols.push(new w.Column({align:"center"})),n._cf=new w.CellFactory,n._keyHdl=new w._KeyboardHandler(n),n._mouseHdl=new w._MouseHandler(n),n._edtHdl=new w._EditHandler(n),n._selHdl=new w._SelectionHandler(n),n._addHdl=new w._AddNewHandler(n),n._mrgMgr=new w.MergeManager(n),n._bndSortConverter=n._sortConverter.bind(n),It.setAttribute(n.cells.hostElement,"role","grid"),n.selectionMode=w.SelectionMode.CellRange,n.initialize(i)}),n.addEventListener(n._root,"scroll",function(t){n._updateScrollPosition()&&(n.finishEditing(),n._updateContent(!0))}),n.addEventListener(e,"focus",function(t){if(-1<e.tabIndex){var i=t.target;if(i instanceof HTMLElement&&i.tabIndex<0)return void n._setFocus(!0)}},!0),n}return Cn(g,s),g.prototype._handleResize=function(){this._rcBounds=null,s.prototype._handleResize.call(this)},Object.defineProperty(g.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(t){(t=It.asEnum(t,p))!=this._hdrVis&&(this._hdrVis=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(t){t!=this._stickyHdr&&(this._stickyHdr=It.asBoolean(t),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(t){this._pSel=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(t){this._pOutline=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(t){this._vt=t,It.isNumber(t)?this._vtRows=this._vtCols=It.asNumber(t):t?It.isArray(t)&&2==t.length?(this._vtRows=It.asNumber(t[0]),this._vtCols=It.asNumber(t[1])):It.assert(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(t){this._autoGenCols=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(t){this._autoClipboard=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(t){this._autoScroll=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"columnLayout",{get:function(){for(var t=g._getSerializableProperties(w.Column),i=new w.Column,n=[],e=0;e<this.columns.length;e++){for(var r=this.columns[e],s={},o=0;o<t.length;o++){var h=t[o],c=r[h];c!=i[h]&&It.isPrimitive(c)&&"size"!=h&&(s[h]=c)}n.push(s)}return JSON.stringify({columns:n})},set:function(t){var i=JSON.parse(It.asString(t));if(!i||null==i.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(i)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=It.asBoolean(t),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),It.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(t){It.asBoolean(t)!=this.imeEnabled&&this.finishEditing()&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),t&&(this._imeHdl=new w._ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(t){this._alResizing=It.asEnum(t,w.AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(t){this._deferResizing=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(t){this._autoSizeMode=It.asEnum(t,w.AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(t){this._quickSize=It.asBoolean(t,!0)},enumerable:!0,configurable:!0}),g.prototype._getQuickAutoSize=function(){return It.isBoolean(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(g.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(t){this._alSorting=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(t){t!=this._alAddNew&&(this._alAddNew=It.asBoolean(t),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(t){this._addHdl.newRowAtTop=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(t){t!=this._alDelete&&(this._alDelete=It.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(t){(t=It.asEnum(t,w.AllowMerging))!=this._alMerging&&(this._alMerging=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(t){(t=It.asEnum(t,p))!=this._ssHdr&&(this._ssHdr=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(t){if(t!=this.showMarquee){var i=this._eMarquee.style;i.visibility="collapse",i.display=It.asBoolean(t)?"":"none",this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showSort",{get:function(){return this._shSort},set:function(t){t!=this._shSort&&(this._shSort=It.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=It.asBoolean(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(t){t!=this._shAlt&&(this._shAlt=It.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showErrors",{get:function(){return this._shErr},set:function(t){t!=this._shErr&&(this._clearCells(),this._shErr=It.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this.itemValidator&&(this._itemValidator=It.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(t){this._valEdt=It.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(t){t!=this._gHdrFmt&&(this._gHdrFmt=It.asString(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(t){(t=It.asEnum(t,w.AllowDragging))!=this._alDragging&&(this._alDragging=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"itemsSource",{get:function(){return this._items},set:function(t){if(t!=this._items){var i=new It.CancelEventArgs;if(this.onItemsSourceChanging(i)){var n;this._cv&&((n=It.tryCast(this._cv,It.collections.CollectionView))&&n.sortConverter==this._bndSortConverter&&(n.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=this._getCollectionView(t),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),(n=It.tryCast(this._cv,It.collections.CollectionView))&&!n.sortConverter&&(n.sortConverter=this._bndSortConverter)),this._bindGrid(!0);var e=w.SelectionMode;this.selectionMode==e.ListBox&&(this.selectionMode=e.CellRange,this.selectionMode=e.ListBox),this.onItemsSourceChanged(i)}}},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"editableCollectionView",{get:function(){return It.tryCast(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(It.assert(null==t||It.isArray(t)||It.isString(t),"childItemsPath should be an array or a string."),this._childItemsPath=t,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(t){t!=this.rowHeaderPath&&(t=It.asString(t),this._rowHdrPath=t?new It.Binding(t):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),g.prototype.getColumn=function(t){return this.columns.getColumn(t)},Object.defineProperty(g.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(t){this.rows.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(t){this.columns.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(t){t!=this.cloneFrozenCells&&(this._fzClone=It.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(t){t!=this._sortRowIndex&&(this._sortRowIndex=It.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(t){var i=this._root,n=-t.x;if(this.rightToLeft)switch(g._getRtlMode()){case"rev":n=i.scrollWidth-i.clientWidth+t.x;break;case"neg":n=t.x;break;default:n=-t.x}i.scrollLeft=n,i.scrollTop=-t.y},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=It.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"scrollSize",{get:function(){return new It.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"cellFactory",{get:function(){return this._cf},set:function(t){t!=this._cf&&(this._clearCells(),this._cf=It.asType(t,w.CellFactory,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=It.asFunction(t))},enumerable:!0,configurable:!0}),g.prototype.canEditCell=function(t,i){return this._edtHdl._allowEditing(t,i)},g.prototype.getCellData=function(t,i,n){return this.cells.getCellData(t,i,n)},g.prototype.getCellBoundingRect=function(t,i,n){return this.cells.getCellBoundingRect(t,i,n)},g.prototype.setCellData=function(t,i,n,e,r){return void 0===e&&(e=!0),void 0===r&&(r=!0),this.cells.setCellData(t,i,n,e,r)},g.prototype.hitTest=function(t,i){return It.isNumber(t)&&It.isNumber(i)&&(t=new It.Point(t,i)),It.isBoolean(i)&&i&&(this._rcBounds=null),new w.HitTestInfo(this,t)},g.prototype.getClipString=function(t){return this._edtHdl.getClipString(t)},g.prototype.setClipString=function(t,i){this._edtHdl.setClipString(t,i)},g.prototype.focus=function(){this._setFocus(!1)},g.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,s.prototype.dispose.call(this)},g.prototype.refresh=function(t){void 0===t&&(t=!0),s.prototype.refresh.call(this,t),this.finishEditing(),t&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl),this.refreshCells(t)},g.prototype.refreshCells=function(t,i,n){this.isUpdating||(t?this._updateLayout():this._updateContent(i,n))},g.prototype.autoSizeColumn=function(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=4),this.autoSizeColumns(t,t,i,n)},g.prototype.autoSizeColumns=function(o,h,t,c){var a=this;void 0===t&&(t=!1),void 0===c&&(c=4);var u=0,l=t?this.topLeftCells:this.columnHeaders,A=t?this.bottomLeftCells:this.columnFooters,f=t?this.rowHeaders:this.cells,d=this.viewRange;o=null==o?0:It.asInt(o),h=null==h?f.columns.length-1:It.asInt(h),d.row=Math.max(0,d.row-1e3),d.row2=Math.min(d.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){It.setCss(a._eCt,{width:a._gpCells.width});var t=document.createElement("div");t.setAttribute(g._WJS_MEASURE,"true"),t.style.visibility="hidden",f.hostElement.parentElement.appendChild(t);for(var i=a._getCanvasContext(),n=o;n<=h&&-1<n&&n<f.columns.length;n++){var e=f.columns[n];if(e.isVisible){if(u=0,a.autoSizeMode&w.AutoSizeMode.Headers){for(var r=0;r<l.rows.length;r++)if(l.rows[r].isVisible){var s=a._getDesiredWidth(l,r,n,t);u=Math.max(u,s)}for(r=0;r<A.rows.length;r++)A.rows[r].isVisible&&(s=a._getDesiredWidth(A,r,n,t),u=Math.max(u,s))}if(a.autoSizeMode&w.AutoSizeMode.Cells&&d.isValid)if(e._getQuickAutoSize())r=a._getWidestRow(f,d,n,i),s=a._getDesiredWidth(f,r,n,t),u=Math.max(u,s);else for(r=d.row;r<=d.row2&&r<f.rows.length;r++)f.rows[r].isVisible&&(s=a._getDesiredWidth(f,r,n,t),u=Math.max(u,s));0<u&&(e.width=u+c+2)}}a.cellFactory.disposeCell(t),It.removeChild(t)})},g.prototype.autoSizeRow=function(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=0),this.autoSizeRows(t,t,i,n)},g.prototype.autoSizeRows=function(e,r,t,s){var o=this;void 0===t&&(t=!1),void 0===s&&(s=0);var h=0,c=t?this.topLeftCells:this.rowHeaders,a=t?this.columnHeaders:this.cells;t=It.asBoolean(t),s=It.asNumber(s),e=null==e?0:It.asInt(e),r=null==r?a.rows.length-1:It.asInt(r),this.finishEditing()&&this.rows.deferUpdate(function(){It.setCss(o._eCt,{width:o._gpCells.width});var t=document.createElement("div");t.setAttribute(g._WJS_MEASURE,"true"),t.style.visibility="hidden",a.hostElement.appendChild(t);for(var i={},n=e;n<=r&&-1<n&&n<a.rows.length;n++)a.rows[n].isVisible&&(h=0,o.autoSizeMode&w.AutoSizeMode.Headers&&(h=o._getDesiredRowHeight(c,n,t,i)),o.autoSizeMode&w.AutoSizeMode.Cells&&(h=Math.max(h,o._getDesiredRowHeight(a,n,t,i))),h+=s,a.rows[n].height=h>a.rows.defaultSize?h:null);o.cellFactory.disposeCell(t),It.removeChild(t)})},Object.defineProperty(g.prototype,"treeIndent",{get:function(){return this._indent},set:function(t){t!=this._indent&&(this._indent=It.asNumber(t,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),g.prototype.collapseGroupsToLevel=function(e){var t=this;this.finishEditing()&&this.deferUpdate(function(){var n=t.rows;n.deferUpdate(function(){for(var t=0;t<n.length;t++){var i=n[t];i instanceof w.GroupRow&&(i.isCollapsed=i.level>=e)}})})},Object.defineProperty(g.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(t){(t=It.asEnum(t,w.SelectionMode))!=this.selectionMode&&(this._clearCells(),this._selHdl.selectionMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(t){this._selHdl.selection=t},enumerable:!0,configurable:!0}),g.prototype.select=function(t,i){void 0===i&&(i=!0),this._selHdl.select(t,i)},g.prototype.getSelectedState=function(t,i){return this.cells.getSelectedState(t,i,null)},Object.defineProperty(g.prototype,"selectedRows",{get:function(){var t=[];if(this.selectionMode==w.SelectionMode.ListBox)for(var i=0;i<this.rows.length;i++)this.rows[i].isSelected&&t.push(this.rows[i]);else if(this.rows.length){var n=this.selection;for(i=n.topRow;-1<i&&i<=n.bottomRow;i++)t.push(this.rows[i])}return t},set:function(r){var s=this;It.assert(this.selectionMode==w.SelectionMode.ListBox,"This property can be set only in ListBox mode."),r=It.asArray(r),this.deferUpdate(function(){for(var t=0,i=!0;t<s.rows.length;t++){var n=s.rows[t],e=r&&-1<r.indexOf(n);e&&i&&(i=!1,s.select(t,s.selection.col)),n.isSelected=e}})},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"selectedItems",{get:function(){for(var t=this.selectedRows,i=0;i<t.length;i++)t[i]=t[i].dataItem;return t},set:function(r){var s=this;It.assert(this.selectionMode==w.SelectionMode.ListBox,"This property can be set only in ListBox mode."),r=It.asArray(r),this.deferUpdate(function(){for(var t=0,i=!0;t<s.rows.length;t++){var n=s.rows[t],e=r&&-1<r.indexOf(n.dataItem);e&&i&&(i=!1,s.select(t,s.selection.col)),n.isSelected=e}})},enumerable:!0,configurable:!0}),g.prototype.scrollIntoView=function(t,i,n){null==this._maxOffsetY&&this._updateLayout();var e=this.scrollPosition,r=this._szClient.width,s=this._szClient.height-this._gpCFtr.rows.getTotalSize(),o=this.cells._getFrozenPos();if(-1<(t=It.asInt(t))&&t<this._rows.length&&t>=this._rows.frozen){var h=this._rows[t],c=this.cells.height>s?Math.round(h.pos/(this.cells.height-s)*100)/100:0,a=Math.round(this._maxOffsetY*c),u=h.pos-a,l=u+h.renderSize-1;l>s-e.y&&(e.y=Math.max(-u,s-l)),u-o.y<-e.y&&(e.y=-(u-o.y))}if(-1<(i=It.asInt(i))&&i<this._cols.length&&i>=this._cols.frozen){var A=this._cols[i],f=A.pos+A.renderSize-1;f>-e.x+r&&(e.x=Math.max(-A.pos,r-f)),A.pos-o.x<-e.x&&(e.x=-(A.pos-o.x))}return!e.equals(this._ptScrl)&&(this.scrollPosition=e,n&&(this._updateScrollPosition(),this.refresh()),!0)},g.prototype.isRangeValid=function(t){return t.isValid&&t.bottomRow<this.rows.length&&t.rightCol<this.columns.length},g.prototype.startEditing=function(t,i,n,e){return void 0===t&&(t=!0),this._edtHdl.startEditing(t,i,n,e)},g.prototype.finishEditing=function(t){return this._edtHdl.finishEditing(t)},Object.defineProperty(g.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(t){t!=this._mrgMgr&&(this._mrgMgr=It.asType(t,w.MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),g.prototype.getMergedRange=function(t,i,n,e){return void 0===e&&(e=!0),this._mrgMgr?this._mrgMgr.getMergedRange(t,i,n,e):null},Object.defineProperty(g.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(t){this._keyHdl._kaTab=It.asEnum(t,w.KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(t){this._keyHdl._kaEnter=It.asEnum(t,w.KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(t){t!=this._shDropDown&&(this._shDropDown=It.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),g.prototype.toggleDropDownList=function(){this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1)},g.prototype.onItemsSourceChanging=function(t){return this.itemsSourceChanging.raise(this,t),!t.cancel},g.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},g.prototype.onScrollPositionChanged=function(t){this.scrollPositionChanged.raise(this,t)},g.prototype.onSelectionChanging=function(t){return this.selectionChanging.raise(this,t),!t.cancel},g.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)},g.prototype.onLoadingRows=function(t){return this.loadingRows.raise(this,t),!t.cancel},g.prototype.onLoadedRows=function(t){this.loadedRows.raise(this,t)},g.prototype.onUpdatingLayout=function(t){return this.updatingLayout.raise(this,t),!t.cancel},g.prototype.onUpdatedLayout=function(t){this.updatedLayout.raise(this,t)},g.prototype.onResizingColumn=function(t){return this.resizingColumn.raise(this,t),!t.cancel},g.prototype.onResizedColumn=function(t){this.resizedColumn.raise(this,t)},g.prototype.onAutoSizingColumn=function(t){return this.autoSizingColumn.raise(this,t),!t.cancel},g.prototype.onAutoSizedColumn=function(t){this.autoSizedColumn.raise(this,t)},g.prototype.onDraggingColumn=function(t){return this.draggingColumn.raise(this,t),!t.cancel},g.prototype.onDraggingColumnOver=function(t){return this.draggingColumnOver.raise(this,t),!t.cancel},g.prototype.onDraggedColumn=function(t){this.draggedColumn.raise(this,t)},g.prototype.onResizingRow=function(t){return this.resizingRow.raise(this,t),!t.cancel},g.prototype.onResizedRow=function(t){this.resizedRow.raise(this,t)},g.prototype.onAutoSizingRow=function(t){return this.autoSizingRow.raise(this,t),!t.cancel},g.prototype.onAutoSizedRow=function(t){this.autoSizedRow.raise(this,t)},g.prototype.onDraggingRow=function(t){return this.draggingRow.raise(this,t),!t.cancel},g.prototype.onDraggingRowOver=function(t){return this.draggingRowOver.raise(this,t),!t.cancel},g.prototype.onDraggedRow=function(t){this.draggedRow.raise(this,t)},g.prototype.onGroupCollapsedChanging=function(t){return this.groupCollapsedChanging.raise(this,t),!t.cancel},g.prototype.onGroupCollapsedChanged=function(t){this.groupCollapsedChanged.raise(this,t)},g.prototype.onSortingColumn=function(t){return this.sortingColumn.raise(this,t),!t.cancel},g.prototype.onSortedColumn=function(t){this.sortedColumn.raise(this,t)},g.prototype.onBeginningEdit=function(t){return this.beginningEdit.raise(this,t),!t.cancel},g.prototype.onPrepareCellForEdit=function(t){this.prepareCellForEdit.raise(this,t)},g.prototype.onCellEditEnding=function(t){return this.cellEditEnding.raise(this,t),!t.cancel&&!t.stayInEditMode},g.prototype.onCellEditEnded=function(t){this.cellEditEnded.raise(this,t)},g.prototype.onRowEditStarting=function(t){this.rowEditStarting.raise(this,t)},g.prototype.onRowEditStarted=function(t){this.rowEditStarted.raise(this,t)},g.prototype.onRowEditEnding=function(t){this.rowEditEnding.raise(this,t)},g.prototype.onRowEditEnded=function(t){this.rowEditEnded.raise(this,t)},g.prototype.onRowAdded=function(t){return this.rowAdded.raise(this,t),!t.cancel},g.prototype.onDeletingRow=function(t){return this.deletingRow.raise(this,t),!t.cancel},g.prototype.onDeletedRow=function(t){this.deletedRow.raise(this,t)},g.prototype.onCopying=function(t){return this.copying.raise(this,t),!t.cancel},g.prototype.onCopied=function(t){this.copied.raise(this,t)},g.prototype.onPasting=function(t){return this.pasting.raise(this,t),!t.cancel},g.prototype.onPasted=function(t){this.pasted.raise(this,t)},g.prototype.onPastingCell=function(t){return this.pastingCell.raise(this,t),!t.cancel},g.prototype.onPastedCell=function(t){this.pastedCell.raise(this,t)},g.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},g.prototype.onUpdatingView=function(t){return this.updatingView.raise(this,t),!t.cancel},g.prototype.onUpdatedView=function(t){this.updatedView.raise(this,t)},g.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},g.prototype._getHasValidation=function(){return this._hasValidation},g.prototype._getError=function(t,i,n){if(It.isFunction(this.itemValidator)){if(t==this.cells)return this.itemValidator(i,n);if(t==this.rowHeaders)for(n=0;n<this.columns.length;n++)if(c=this.itemValidator(i,n))return c}var e=this._cv,r=e?e.getError:null;if(It.isFunction(r)){var s=t.rows,o=this.columns,h=s[i].dataItem;if(h)for(;i<s.length&&s[i].dataItem==h;i++){if(t==this.cells)return r(h,this._getBindingColumn(this.cells,i,o[n]).binding);if(t==this.rowHeaders)for(n=0;n<o.length;n++){var c;if(c=r(h,this._getBindingColumn(this.cells,i,o[n]).binding))return c}}}return null},g.prototype._setAria=function(t,i){It.setAttribute(this.cells.hostElement,"aria-"+t,i)},g.prototype._setFocus=function(t){if(this.hostElement&&(t||!this.containsFocus())){var i=It.getActiveElement(),n=this.activeEditor,e=this._activeCell,r=this._eFocus;if(n)It.contains(n,i)||(n.focus(),r.tabIndex=-1);else if(e){if(!It.contains(e,i)&&i!=this._root){var s=!1;It.isIE()&&(this._setFocusNoScroll(e),s=!0),s||(e.tabIndex=this._orgTabIndex,e.focus()),r.tabIndex=-1}}else It.contains(r,i)||i==this._root||(r.tabIndex=this._orgTabIndex,r.focus());this.containsFocus()||(r.tabIndex=this._orgTabIndex,r.focus())}},g.prototype._setFocusNoScroll=function(t){if(t.tabIndex=this._orgTabIndex,It.supportsFocusOptions())t.focus({preventScroll:!0});else{var i=this.scrollPosition,n=t.style,e=n.position;n.position="fixed",t.focus(),n.position=e,this.scrollPosition=i}this._fixScroll()},g.prototype._getDefaultRowHeight=function(){var t=this._eFocus,i=null;t.scrollHeight||(t=(i=It.createElement('<div class="wj-flexgrid"><div class="wj-cell">0</div></div>',document.body)).children[0]);var n=t.scrollHeight+2;return(isNaN(n)||n<=6)&&(n=28),It.removeChild(i),n},g.prototype._getDefaultCellPadding=function(){var t=getComputedStyle(this._eFocus);return parseInt(this.rightToLeft?t.paddingRight:t.paddingLeft)},g.prototype._getCollectionView=function(t){return It.asCollectionView(t)},g.prototype._getCanvasContext=function(){var t=document.createElement("canvas").getContext("2d"),i=getComputedStyle(this.hostElement);return t.font=i.fontSize+" "+i.fontFamily.split(",")[0],t},g.prototype._getWidestRow=function(t,i,n,e){for(var r=0,s=0,o=t.columns[n].dataType==It.DataType.Boolean,h=i.row;h<=i.row2;h++)if(t.rows[h].isVisible){var c=t.getCellData(h,n,!0),a=e.measureText(c).width;if(s<a&&(s=a,r=h),o)break}return r},g.prototype._getDesiredWidth=function(t,i,n,e){var r=this.getMergedRange(t,i,n,!1),s=e.style;return this.cellFactory.updateCell(t,i,n,e,r),s.width=s.top=s.left="",e.offsetWidth/(r&&1<r.columnSpan?r.columnSpan:1)},g.prototype._getDesiredHeight=function(t,i,n,e){var r=this.getMergedRange(t,i,n,!1),s=e.style;return this.cellFactory.updateCell(t,i,n,e,r),s.height=s.top=s.left="",e.offsetHeight/(r&&1<r.rowSpan?r.rowSpan:1)},g.prototype._getDesiredRowHeight=function(t,i,n,e){for(var r=0,s=0;s<t.columns.length;s++){var o=t.columns[s];if(o.isVisible){var h=void 0,c=this.getMergedRange(t,i,s,!1),a={ct:t.cellType,col:s,rng:c&&1<c.rowSpan?c.rowSpan:1,content:o.dataType==It.DataType.Number?"1":t.getCellData(i,s,!0)},u=JSON.stringify(a);null==(h=e[u])&&(h=this._getDesiredHeight(t,i,s,n),e[u]=h),r=Math.max(r,h)}}return r},g.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},g.prototype._sortConverter=function(t,i,n,e){var r;if(e){if(this._mappedColumns=null,this._cv)for(var s=this._cv.sortDescriptions,o=0;o<s.length;o++)(r=this.getColumn(s[o].property))&&r.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[r.binding]=r.dataMap);this._mouseHdl._htDown&&-1<this._mouseHdl._htDown.col&&(r=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&r.dataMap&&(this._mappedColumns[r.binding]=r.dataMap))}if(this._mappedColumns){var h=this._mappedColumns[t.property];h&&h.sortByDisplayValues&&(n=h.getDisplayValue(n))}return n},g.prototype._bindGrid=function(a){var u=this;if(this.finishEditing(),this.deferUpdate(function(){0==u._lastCount&&It.hasItems(u._cv)&&(a=!0);var t,e,i=u.selectionMode==w.SelectionMode.ListBox;if(u.preserveSelectedState&&i&&!u.childItemsPath&&(t=u.selectedItems),u.preserveOutlineState&&It.isFunction(window.Map)&&-1<u.rows.maxGroupLevel){e=new Map;for(var n=0;n<u.rows.length;n++){var r=u.rows[n];if(r instanceof w.GroupRow&&r.isCollapsed&&r.dataItem){var s=r.dataItem;s instanceof It.collections.CollectionViewGroup&&(s=s._path),e.set(s,!0)}}}a&&u.columns.deferUpdate(function(){u._bindColumns()});var o=new It.CancelEventArgs;u.onLoadingRows(o)&&(u.rows.deferUpdate(function(){u._bindRows()}),u.onLoadedRows(o));var h=0;if(t&&t.length)for(n=0;n<u.rows.length&&h<t.length;n++)-1<t.indexOf(u.rows[n].dataItem)&&(u.rows[n].isSelected=!0,h++);if(i&&0==h&&0<u._lastCount){var c=u.selection;for(n=c.topRow;n<=c.bottomRow&&-1<n&&n<u.rows.length;n++)u.rows[n].isSelected=!0}e&&u.rows.deferUpdate(function(){for(var t=0;t<u.rows.length;t++){var i=u.rows[t];if(i instanceof w.GroupRow){var n=i.dataItem;n instanceof It.collections.CollectionViewGroup&&(n=n._path),e.get(n)&&(i.isCollapsed=!0)}}}),!u._lastCount&&u._cv&&u._cv.items&&(u._lastCount=u._cv.items.length)}),!this.rows.length){var t=this._selHdl.selection;t.row=t.row2=-1}this._cv&&this._syncSelection(a)},g.prototype._cvCollectionChanged=function(t,i){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else if(this.childItemsPath&&i.action!=It.collections.NotifyCollectionChangedAction.Change)this._bindGrid(!1);else{switch(i.action){case It.collections.NotifyCollectionChangedAction.Change:return void this.invalidate();case It.collections.NotifyCollectionChangedAction.Add:if(i.index==this._cv.items.length-1){var n=this.rows.length;return this.rows[n-1]instanceof w._NewRowTemplate&&n--,void this.rows.insert(n,new w.Row(i.item))}It.assert(!1,"added item should be the last one.");break;case It.collections.NotifyCollectionChangedAction.Remove:var e=this._findRow(i.item);if(-1<e)return this.rows.removeAt(e),void this._syncSelection(!1);It.assert(!1,"removed item not found on grid.")}this._bindGrid(!1)}},g.prototype._cvCurrentChanged=function(t,i){this._syncSelection(!1)},g.prototype._syncSelection=function(t){if(this._cv&&this.selectionMode!=w.SelectionMode.None){var i=this.selection,n=-1<i.row&&i.row<this.rows.length?this.rows[i.row].dataItem:null;if(n instanceof It.collections.CollectionViewGroup&&(n=null),(n!=this._cv.currentItem||t)&&(!this.childItemsPath||!this.editableCollectionView||!this.editableCollectionView.currentAddItem)){var e=this._getRowIndex(this._cv.currentPosition);e==i.row&&this.childItemsPath||(i.row=i.row2=e,this.select(i,!1),this.selectionMode&&this.scrollIntoView(i.row,-1))}}},g.prototype._getRowIndex=function(t){if(this._cv){if(-1<t){for(var i=this._cv.items[t];t<this.rows.length;t++)if(this.rows[t].dataItem===i)return t;return-1}if(1==this.rows.length&&this.rows[0]instanceof w._NewRowTemplate)return 0;var n=this.selection.row,e=-1<n?this.rows[n]:null;return e&&(e instanceof w.GroupRow||null==e.dataItem)?n:-1}return this.selection.row},g.prototype._getCvIndex=function(t){if(this._cv&&-1<t&&t<this.rows.length){var i=this._cv.items,n=this.rows[t].dataItem;for(t=Math.min(t,i.length-1);-1<t;t--)if(i[t]===n)return t}return-1},g.prototype._findRow=function(t){for(var i=0;i<this.rows.length;i++)if(this.rows[i].dataItem==t)return i;return-1},g.prototype._updateLayout=function(){var t=new It.CancelEventArgs;if(this.onUpdatingLayout(t)){this._hasValidation=It.isFunction(this._itemValidator)||this._cv&&It.isFunction(this._cv.getError);var i=this._hdrVis&p.Row?this._hdrCols.getTotalSize():0,n=this._hdrVis&p.Column?this._hdrRows.getTotalSize():0,e=this._ftrRows.getTotalSize(),r=this._rows.getTotalSize()+e;r<1&&(r=1),this._heightBrowser=Math.min(r,g._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,r-this._heightBrowser),this._cellPadding=this._getDefaultCellPadding();var s=this._heightBrowser+n-e,o=this._gpCells.width,h=this._heightBrowser;!o&&this.rows.length&&(o=.1),!h&&this.columns.length&&(h=.1),this.rightToLeft?(It.setCss(this._eTL,{right:0,top:0,width:i,height:n}),It.setCss(this._eCHdr,{right:i,top:0,height:n}),It.setCss(this._eRHdr,{right:0,top:n,width:i}),It.setCss(this._eCt,{right:i,top:n,width:o,height:h}),It.setCss(this._fCt,{right:i,top:n}),It.setCss(this._eBL,{right:0,top:s,width:i,height:e}),It.setCss(this._eCFtr,{right:i,top:s,height:e})):(It.setCss(this._eTL,{left:0,top:0,width:i,height:n}),It.setCss(this._eCHdr,{left:i,top:0,height:n}),It.setCss(this._eRHdr,{left:0,top:n,width:i}),It.setCss(this._eCt,{left:i,top:n,width:o,height:h}),It.setCss(this._fCt,{left:i,top:n}),It.setCss(this._eBL,{left:0,top:s,width:i,height:e}),It.setCss(this._eCFtr,{left:i,top:s,height:e})),this._stickyHdr&&this._updateStickyHeaders();var c=this.frozenRows||this.frozenColumns?"3":"";It.setCss([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:c});var a=this._root,u=a.offsetWidth-a.clientWidth,l=a.offsetHeight-a.clientHeight;It.setCss(this._eSz,{width:i+u+this._gpCells.width,height:n+l+this._heightBrowser});var A=null;this.columns._updateStarSizes(a.clientWidth-i)&&(A=a.clientWidth,It.setCss(this._eCt,{width:this._gpCells.width})),this._szClient=new It.Size(a.clientWidth-i,a.clientHeight-n),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),u=a.offsetWidth-a.clientWidth,l=a.offsetHeight-a.clientHeight,It.setCss(this._eSz,{width:i+u+this._gpCells.width,height:n+l+this._heightBrowser}),this._szClient=new It.Size(a.clientWidth-i,a.clientHeight-n),A&&A!=a.clientWidth&&this.columns._updateStarSizes(a.clientWidth-i)&&(It.setCss(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),It.setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),It.setCss([this._eRHdr,this._fCt],{height:this._szClient.height}),e&&(s=Math.min(s,this._szClient.height+n-e),It.setCss([this._eBL,this._eCFtr],{top:s})),this.onUpdatedLayout(t)}},g.prototype._updateStickyHeaders=function(){var t=!1,i=0;if(this._stickyHdr){for(var n=0,e=null,r=this.hostElement;r;r=r.parentElement){var s=r.getBoundingClientRect();null==e&&(e=s.top),n=Math.max(n,s.top)}i=-(e=Math.max(0,n-e-1)),t=0<e,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=t?-i+"px":"",It.toggleClass(this._eTL,g._WJS_STICKY,t),It.toggleClass(this._eCHdr,g._WJS_STICKY,t)},g.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var t=this._stickyHdr||this._clipToScreen;t!=this._scrollHandlerAttached&&((this._scrollHandlerAttached=t)?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},g.prototype._getClipToScreen=function(){if(this.rows.length<=g._MIN_VIRT_ROWS)return!1;if(this._root.clientHeight!=this._root.scrollHeight)return!1;for(var t=this.hostElement;t&&t!=document.documentElement;t=t.parentElement)if("auto"==getComputedStyle(t).overflow)return!1;return!0},g.prototype._scroll=function(t){var i=this;It.contains(t.target,this.hostElement)&&(this._clipToScreen&&(this._afScrl&&cancelAnimationFrame(this._afScrl),this._afScrl=requestAnimationFrame(function(){i._afScrl=null,i.finishEditing(),i._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){i._afSticky=null;var t=new It.CancelEventArgs;i.onUpdatingLayout(t)&&(i._updateStickyHeaders(),i.onUpdatedLayout(t))})))},g.prototype._updateScrollPosition=function(){var t=this._root,i=t.scrollTop,n=t.scrollLeft;this.rightToLeft&&"rev"==g._getRtlMode()&&(n=t.scrollWidth-t.clientWidth-n);var e=new It.Point(-Math.abs(n),-i);return!this._ptScrl.equals(e)&&(this._ptScrl=e,this.onScrollPositionChanged(),!0)},g.prototype._updateContent=function(t,i){var n=this._root,e=this.hostElement,r=this.cells.hostElement,s=It.getActiveElement(),o=It.contains(e,s)?s:null,h=this._activeCell,c=new It.CancelEventArgs;if(this.onUpdatingView(c)){if(It.setAttribute(r,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._offsetY=0,this._heightBrowser>this._szClient.height){var a=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100;this._offsetY=Math.round(this._maxOffsetY*a)}this._updateScrollPosition();var u=this._gpCells._updateContent(t,i,this._offsetY);if(this._hdrVis&p.Column&&(!i||this._ssHdr&p.Column)&&this._gpCHdr._updateContent(t,i,0),this._hdrVis&p.Row&&(!i||this._ssHdr&p.Row)&&this._gpRHdr._updateContent(t,i,this._offsetY),this._hdrVis&&!i&&this._gpTL._updateContent(t,i,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(t,i,0),this._gpCFtr._updateContent(t,i,0)),this.showMarquee){var l=this._selHdl.selection,A=this._eMarquee;if(this.isRangeValid(l)){var f=this._getMarqueeRect(l),d=A.firstChild,g=A.offsetWidth-d.offsetWidth,w=A.offsetHeight-d.offsetHeight;It.setCss(A,{left:f.left+r.offsetLeft-g/2,top:f.top+r.offsetTop-w/2,width:f.width+g,height:f.height+w,visibility:0<f.width&&0<f.height?"":"collapse"})}else It.setCss(A,{left:0,top:0,width:0,height:0,visibility:"collapse"})}if(this._useFrozenDiv()&&(this._updateFrozenCells(i),u&&It.hasClass(u,"wj-frozen")&&(u=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=u,o)if(o!=n&&o!=this._eFocus&&It.contains(e,o)&&!It.contains(r,o)){if(It.getActiveElement()!=o&&o.focus(),It.isIE()&&o instanceof HTMLInputElement&&!o.type.match(/checkbox|radio|range/i)){var m=o.selectionStart,b=o.selectionEnd;o.setSelectionRange(m,b)}}else{var v=u!=h;this._setFocus(v)}!o&&u&&(u.tabIndex=this._orgTabIndex),h&&h!=u&&(h.tabIndex=-1),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(c)}},g.prototype._fixScroll=function(){[this.hostElement,this._root?this._root.parentElement:null].forEach(function(t){t&&t.scrollTop&&(t.scrollTop=0)})},g.prototype._clearCells=function(){for(var t in this)if("_"==t[0]){var i=this[t];i instanceof w.GridPanel&&i._clearCells()}this.invalidate()},g.prototype._useFrozenDiv=function(){return It.isBoolean(this._fzClone)?this._fzClone:It.isIE()||It.isFirefox()||It.isSafari()||It.isMobile()},g.prototype._updateFrozenCells=function(t){if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(".wj-frozen");if(t&&this._fCt.children.length==i.length){for(var n=0;n<i.length;n++)this._fCt.children[n].className=i[n].className;return}if(It.setText(this._fCt,null),!this.activeEditor)for(n=0;n<i.length;n++){var e=i[n].cloneNode(!0);this._fCt.appendChild(e)}}else It.setText(this._fCt,null)},g.prototype._getMarqueeRect=function(t){var i=this.getMergedRange(this.cells,t.topRow,t.leftCol)||new w.CellRange(t.topRow,t.leftCol),n=this.getMergedRange(this.cells,t.bottomRow,t.rightCol)||new w.CellRange(t.bottomRow,t.rightCol),e=this.cells.getCellBoundingRect(i.topRow,i.leftCol,!0),r=this.cells.getCellBoundingRect(n.bottomRow,n.rightCol,!0);if(this.rows.frozen){var s=Math.min(this.rows.length,this.rows.frozen),o=this.cells.getCellBoundingRect(s-1,0,!0);t.topRow>=s&&e.top<o.bottom&&(e.top=o.bottom),t.bottomRow>=s&&r.bottom<o.bottom&&(r.height=o.bottom-r.top)}if(this.columns.frozen){var h=Math.min(this.columns.length,this.columns.frozen);o=this.cells.getCellBoundingRect(0,h-1,!0),this.rightToLeft?(t.leftCol>=h&&e.right>o.left&&(e.left=o.left-e.width),t.rightCol>=h&&r.left>o.left&&(r.left=o.left)):(t.leftCol>=h&&e.left<o.right&&(e.left=o.right),t.rightCol>=h&&r.right<o.right&&(r.width=o.right-r.left))}return this.rightToLeft?new It.Rect(r.left,e.top,e.right-r.left,r.bottom-e.top):new It.Rect(e.left,e.top,r.right-e.left,r.bottom-e.top)},g.prototype._bindColumns=function(){for(var t=0;t<this.columns.length;t++)(h=this.columns[t])._getFlag(w.RowColFlags.AutoGenerated)&&(this.columns.removeAt(t),t--);var i=this._cv,n=i?i.sourceCollection:null,e=n&&n.length?n[0]:null;if(e&&this.autoGenerateColumns)for(var r in e)for(var s=null,o=0;o<n.length&&o<1e3&&null==s;o++)if(s=n[o][r],It.isPrimitive(s)){var h;(h=new w.Column)._setFlag(w.RowColFlags.AutoGenerated,!0),h.binding=h.name=r,h.header=It.toHeaderCase(r),h.dataType=It.getType(s),h.dataType==It.DataType.Number&&(h.width=80);var c=Object.getOwnPropertyDescriptor(e,r);!c||c.writable||It.isFunction(c.set)||h._setFlag(w.RowColFlags.ReadOnly,!0),this.columns.push(h)}this._updateColumnTypes()},g.prototype._updateColumnTypes=function(){var t=this._cv;if(It.hasItems(t))for(var i=t.items[0],n=this.columns,e=0;e<n.length;e++){var r=n[e];null==r.dataType&&r._binding&&(r.dataType=It.getType(r._binding.getValue(i)))}},g.prototype._getBindingColumn=function(t,i,n){return n},g.prototype._getRowHeaderPath=function(){return this._rowHdrPath},g.prototype._bindRows=function(){this.rows.clear();var t=this._cv;if(t&&t.items){var i=t.items,n=t.groups;if(this.childItemsPath)for(var e=0;e<i.length;e++)this._addNode(i,e,0);else if(null!=n&&0<n.length&&this.showGroups)for(e=0;e<n.length;e++)this._addGroup(n[e]);else for(e=0;e<i.length;e++)this._addBoundRow(i,e)}},g.prototype._addBoundRow=function(t,i){this.rows.push(new w.Row(t[i]))},g.prototype._addNode=function(t,i,n){var e=new w.GroupRow,r=this.childItemsPath,s=It.isArray(r)?r[n]:r,o=t[i],h=o[s];if(e.dataItem=o,e.level=n,this.rows.push(e),It.isArray(h))for(var c=0;c<h.length;c++)this._addNode(h,c,n+1)},g.prototype._addGroup=function(t){var i=new w.GroupRow;if(i.level=t.level,i.dataItem=t,this.rows.push(i),t.isBottomLevel)for(var n=t.items,e=0;e<n.length;e++)this._addBoundRow(n,e);else for(e=0;e<t.groups.length;e++)this._addGroup(t.groups[e])},g._getSerializableProperties=function(t){var i=[];for(t=t.prototype;t!=Object.prototype;t=Object.getPrototypeOf(t))for(var n=Object.getOwnPropertyNames(t),e=0;e<n.length;e++){var r=n[e],s=Object.getOwnPropertyDescriptor(t,r);s&&s.set&&s.get&&"_"!=r[0]&&!r.match(/disabled|required/)&&i.push(r)}return i},g.prototype._copy=function(t,i){if("columns"==t){this.columns.clear();for(var n=It.asArray(i),e=0;e<n.length;e++){var r=new w.Column;It.copy(r,n[e]),this.columns.push(r)}return!0}return!1},g.prototype._isInputElement=function(t){if(t instanceof HTMLElement&&!It.hasClass(t,"wj-btn-glyph")){if("true"==t.contentEditable)return!0;var i=t.tagName.match(/^(BUTTON|A|INPUT|TEXTAREA|SELECT|OPTION)$/i);return i&&0<i.length}return!1},g.prototype._wantsInput=function(t){return this._isInputElement(t)&&!this.activeEditor&&!this._edtHdl._isNativeCheckbox(t)&&!It.hasClass(t,"wj-grid-ime")&&It.contains(document.body,t)},g._getMaxSupportedCssHeight=function(){if(!g._maxCssHeight){var t=335e5;It.isIE()?t=15e5:It.isFirefox()&&(t=175e5),g._maxCssHeight=t}return g._maxCssHeight},g._getRtlMode=function(){if(!g._rtlMode){var t=It.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"></div></div>');document.body.appendChild(t);var i=t.scrollLeft;t.scrollLeft=-1e3;var n=t.scrollLeft;It.removeChild(t),g._rtlMode=n<0?"neg":0<i?"rev":"std"}return g._rtlMode},g._WJS_STICKY="wj-state-sticky",g._WJS_MEASURE="wj-state-measuring",g._WJS_UPDATING="wj-state-updating",g._MIN_VIRT_ROWS=200,g.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;max-width:inherit;max-height:inherit;-webkit-overflow-scrolling:touch;"><div wj-part="cells" class="wj-cells" style="position:absolute"></div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none;"><div style="width:100%;height:100%"></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone" style="position:absolute;pointer-events:none;overflow:hidden"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell" style="position:fixed;left:-32000px">0</div><div wj-part="sz" style="position:relative;visibility:hidden"></div></div>',g}(It.Control);w.FlexGrid=i}((It=vn||(window.wijmo=vn={})).grid||(It.grid={})),Cn=window&&window.__extends||(Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}Qt(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(s){var t=function(r){function t(t,i,n){var e=r.call(this)||this;return e._p=Yt.asType(t,s.GridPanel,!0),e._rng=Yt.asType(i,s.CellRange,!0),e._data=n,e}return Cn(t,r),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),t}(Yt.CancelEventArgs),i=function(r){function t(t,i,n){var e=r.call(this,t,i)||this;return e._cell=Yt.asType(n,HTMLElement),e}return Cn(t,r),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),t}(s.CellRangeEventArgs=t);s.FormatItemEventArgs=i;var n=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t._stayInEditMode=!1,t._refresh=!0,t}return Cn(t,i),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(t){this._stayInEditMode=Yt.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(t){this._refresh=Yt.asBoolean(t)},enumerable:!0,configurable:!0}),t}(t);s.CellEditEndingEventArgs=n}((Yt=vn||(window.wijmo=vn={})).grid||(Yt.grid={})),function(b){var v,t;(t=v=b.CellType||(b.CellType={}))[t.None=0]="None",t[t.Cell=1]="Cell",t[t.ColumnHeader=2]="ColumnHeader",t[t.RowHeader=3]="RowHeader",t[t.TopLeft=4]="TopLeft",t[t.ColumnFooter=5]="ColumnFooter",t[t.BottomLeft=6]="BottomLeft";var i=function(){function d(t,i,n,e,r){this._offsetY=0,this._g=St.asType(t,b.FlexGrid),this._ct=St.asInt(i),this._rows=St.asType(n,b.RowCollection),this._cols=St.asType(e,b.ColumnCollection),this._e=St.asType(r,HTMLElement),this._vrb=new b.CellRange}return Object.defineProperty(d.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),d.prototype.getCellData=function(t,i,n){var e,r=this._rows[St.asNumber(t,!1,!0)],s=null;if(St.isString(i)&&(i=this._cols.indexOf(i))<0)throw"Invalid column name or binding.";e=this._cols[St.asNumber(i,!1,!0)];var o=this._g?this._g._getBindingColumn(this,t,e):e;if(!o.binding||!r.dataItem||r.dataItem instanceof St.collections.CollectionViewGroup?r._ubv&&(s=r._ubv[e._hash]):s=o._binding.getValue(r.dataItem),null==s)switch(this._ct){case v.ColumnHeader:t!=this._rows.length-1&&o==e||(s=o.header);break;case v.ColumnFooter:if(o.aggregate!=St.Aggregate.None&&r instanceof b.GroupRow){var h=this._g.collectionView;if(h){var c=St.tryCast(h,St.collections.CollectionView);s=c?c.getAggregate(o.aggregate,o.binding):St.getAggregate(o.aggregate,h.items,o.binding)}}break;case v.Cell:if(o.aggregate!=St.Aggregate.None&&r instanceof b.GroupRow){var a=St.tryCast(r.dataItem,St.collections.CollectionViewGroup);a&&(s=a.getAggregate(o.aggregate,o.binding,this._g.collectionView))}}return n&&(this.cellType==v.Cell&&o.dataMap&&(s=o.dataMap.getDisplayValue(s)),s=null!=s?St.Globalize.format(s,o.format):""),s},d.prototype.setCellData=function(t,i,n,e,r){void 0===e&&(e=!0),void 0===r&&(r=!0);var s,o=this._rows[St.asNumber(t,!1,!0)];if(St.isString(i)&&(i=this._cols.indexOf(i))<0)throw"Invalid column name or binding.";s=this._cols[St.asNumber(i,!1,!0)];var h=this._g?this._g._getBindingColumn(this,t,s):s;if(this._ct==v.Cell){if(h.dataMap&&null!=n&&(h.isRequired||""!=n)){var c=h.dataMap,a=c.getKeyValue(n);if(null==a&&null==c.getDisplayValue(null)){if(c.getDisplayValue(n)!=n);else if(!c.isEditable||c.displayMemberPath!=c.selectedValuePath)return!1}else n=a}var u=St.DataType.Object;if(h.dataType)u=h.dataType;else{var l=this.getCellData(t,i,!1);u=St.getType(l)}if(St.isBoolean(h.isRequired))if(h.isRequired||""!==n&&null!==n){if(h.isRequired&&(""===n||null===n))return!1}else n=null,e=!1;if(e&&(n=St.changeType(n,u,h.format),u!=St.DataType.Object&&St.getType(n)!=u))return!1}if(o.dataItem&&h.binding){var A=h._binding,f=o.dataItem,d=A.getValue(f);if(n!==d&&!St.DateTime.equals(n,d)){A.setValue(f,n);var g=this._g.collectionView;if(g instanceof St.collections.CollectionView&&f!=g.currentEditItem){var w=new St.collections.NotifyCollectionChangedEventArgs(St.collections.NotifyCollectionChangedAction.Change,f,g.items.indexOf(f));g.onCollectionChanged(w)}}}else o._ubv||(o._ubv={}),o._ubv[s._hash]=n;return r&&this._g&&this._g.invalidate(),!0},d.prototype.getCellBoundingRect=function(t,i,n){var e=this.rows[t],r=this.columns[i],s=new St.Rect(r.pos,e.pos,r.renderSize,e.renderSize);if(this._g.rightToLeft&&(s.left=this.hostElement.clientWidth-s.right,!St.isIE()&&!St.isFirefox())){var o=this.hostElement.parentElement;s.left-=o.offsetWidth-o.clientWidth}if(!n){var h=this.hostElement.getBoundingClientRect();s.left+=h.left,s.top+=h.top-this._offsetY}return t<this.rows.frozen&&(s.top-=this._g.scrollPosition.y),i<this.columns.frozen&&(s.left-=this._g.scrollPosition.x*(this._g.rightToLeft?-1:1)),s},d.prototype.getCellElement=function(t,i){for(var n=this.hostElement.children,e=Math.min(t+2,n.length),r=0;r<e;r++)for(var s=n[r].children,o=Math.min(i+2,s.length),h=0;h<o;h++){var c=s[h],a=c[d._INDEX_KEY];if(a&&(a.row==t&&a.col==i||a.rng&&a.rng.contains(t,i)))return c}return null},d.prototype.getSelectedState=function(t,i,n){var e=this._g,r=e.selectionMode,s=e._selHdl.selection,o=b.SelectionMode,h=b.SelectedState;if(r!=o.None)switch(this._ct){case v.Cell:if(n||(n=e.getMergedRange(this,t,i)),n){if(n.contains(s.row,s.col))return e.showMarquee?h.None:h.Cursor;if(n.intersects(s))return h.Selected}if(s.row==t&&s.col==i)return e.showMarquee?h.Active:h.Cursor;if(e.rows[t].isSelected||e.columns[i].isSelected)return h.Selected;if(n)switch(r){case o.Row:case o.RowRange:case o.ListBox:if(n.containsRow(s.row))return h.Selected}return s=e._selHdl._adjustSelection(s),r==b.SelectionMode.ListBox?h.None:s.containsRow(t)&&s.containsColumn(i)?h.Selected:h.None;case v.ColumnHeader:if(e.showSelectedHeaders&b.HeadersVisibility.Column&&(e.columns[i].isSelected||s.containsColumn(i)||s.intersectsColumn(n))&&(n&&(t=n.bottomRow),t==this.rows.length-1))return h.Selected;break;case v.RowHeader:if(e.showSelectedHeaders&b.HeadersVisibility.Row&&(e.rows[t].isSelected||s.containsRow(t)||s.intersectsRow(n))&&(n&&(i=n.rightCol),i==this.columns.length-1))return h.Selected}return h.None},Object.defineProperty(d.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),d.prototype._getOffsetY=function(){return this._offsetY},d.prototype._updateContent=function(t,i,n){var e=this._g,r=this._e,s=this._rows,o=this._cols,h=this._ct;if(h==v.ColumnHeader||h==v.ColumnFooter||h==v.RowHeader){var c=e._ptScrl,a=r.style;h==v.RowHeader?a.top=c.y+"px":e.rightToLeft?a.right=c.x+"px":a.left=c.x+"px"}this._offsetY!=n&&(t=!1,this._offsetY=n);var u=this._getViewRange(),l=u;if(l.isValid){var A=e.isTouching,f=s.length<=e._vtRows?1e7:A?6:0,d=o.length<=e._vtCols?1e7:A?1:0;l=new b.CellRange(Math.max(u.row-f,s.frozen),Math.max(u.col-d,o.frozen),Math.min(u.row2+f,s.length-1),Math.min(u.col2+d,o.length-1))}if(t&&!i&&this._vrb.contains(u)&&!s.frozen&&!o.frozen)return this._activeCell;t&&l.equals(this._vrb)||(i=!1),t&&!i&&this._ct!=v.TopLeft&&this._reorderCells(l,this._vrb),this._activeCell=null,this._vru=u,this._vrb=l,this._cf=e.cellFactory;var g=0;this._ct==v.Cell&&(g=this._renderColHdrRow(l,i));for(var w=0;w<s.frozen&&w<s.length;w++)g=this._renderRow(w,l,i,g);for(w=l.topRow;w<=l.bottomRow&&-1<w;w++)g=this._renderRow(w,l,i,g);for(;r.childElementCount>g;){var m=r.lastElementChild;r.removeChild(m),this._removeExtraCells(m,0)}return this._activeCell},d.prototype._updateScrollPosition=function(){var t=this._g,i=t._ptScrl,n=this.hostElement.style;this.cellType==v.RowHeader?n.top=i.y+"px":t.rightToLeft?n.right=i.x+"px":n.left=i.x+"px"},d.prototype._clearCells=function(){for(var t=this.hostElement,i=t.childElementCount-1;0<=i;i--){var n=t.children[i];t.removeChild(n);for(var e=n.childElementCount-1;0<=e;e--)this._cf.disposeCell(n.children[e])}},d.prototype._reorderCells=function(t,i){if(!(0<this._rows.frozen||0<this._cols.frozen||t.columnSpan!=i.columnSpan||t.rowSpan!=i.rowSpan)&&i.isValid&&t.isValid&&t.intersects(i)&&t.row!=i.row){var n=t.row-i.row,e=Math.max(1,t.rowSpan-1),r=this._e;if(0!=n&&Math.abs(n)<e){var s,o=this._ct==v.Cell?1:0,h=r.childElementCount;if(0<n){var c=o,a=Math.min(o+n,h-1);(s=this._createRange(c,a))&&a<h-1&&r.appendChild(s.extractContents())}if(n<0&&(a=h,c=Math.max(o,a+n),(s=this._createRange(c,a))&&o<c)){var u=r.children[o];r.insertBefore(s.extractContents(),u)}}}},d.prototype._createRange=function(t,i){var n,e=this._e.childElementCount;return t<i&&i<=e&&-1<t&&((n=document.createRange()).setStart(this._e,t),n.setEnd(this._e,i)),n},d.prototype._renderColHdrRow=function(t,i){var n=this._e.children[0];n||(n=St.createElement('<div class="wj-row" role="row"></div>',this._e));var e=this._g,r=e?e.columnHeaders.rows.ariaLabel:null;St.setAttribute(n,"aria-label",r),St.setAttribute(n,"aria-selected",null);var s=0,o=this._g._getRowHeaderPath();o&&(s=this._renderRowHdrCell(n,-1,o.path));for(var h=0;h<this.columns.frozen&&h<this.columns.length;h++)s=this._renderColHdrCell(n,h,t,i,s);for(h=t.leftCol;h<=t.rightCol&&-1<h;h++)s=this._renderColHdrCell(n,h,t,i,s);return this._removeExtraCells(n,s),1},d.prototype._renderColHdrCell=function(t,i,n,e,r){var s=this.columns[i];if(s.renderSize<=0)return r;if(e)return r+1;var o=t.children[r];o||(o=St.createElement('<div class="wj-cell" tabindex="-1"></div>',t)),St.setAttribute(o,"role","columnheader"),o.textContent=this.columns[i].header,St.setCss(o,{position:"fixed",top:-32e3,height:.1,left:s.pos,width:s.renderWidth,overflow:"hidden",opacity:"0",pointerEvents:"none"});var h=[s.describedById,this.columns.describedById].join(" ").trim();St.setAttribute(o,"aria-describedby",h||null);var c=this.grid;if(c.allowSorting){var a="none";switch(c._getBindingColumn(this,0,s).currentSort){case"+":a="ascending";break;case"-":a="descending"}St.setAttribute(o,"aria-sort",a)}return c.isReadOnly||(St.setAttribute(o,"aria-readonly",s.isReadOnly),St.setAttribute(o,"aria-required",s.getIsRequired())),o[d._INDEX_KEY]={row:-1,col:i,panel:this},r+1},d.prototype._renderRowHdrCell=function(t,i,n){var e=t.children[0];return e||(e=St.createElement('<div class="wj-cell" tabindex="-1"></div>',t)),e.setAttribute("role",i<0?"columnheader":"rowheader"),e.textContent=n?n.toString():"",St.setCss(e,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),e[d._INDEX_KEY]={row:i,col:-1,panel:this},1},d.prototype._renderRow=function(t,i,n,e){var r=this._g,s=this.rows[t];if(s.renderSize<=0)return e;var o=this._e.children[e];if(o||(o=St.createElement('<div class="wj-row"></div>',this._e)),this._ct==v.Cell){o.setAttribute("role","row");var h=b.SelectionMode;switch(r.selectionMode){case h.Row:case h.RowRange:case h.ListBox:var c=s.isSelected||this._g._selHdl.selection.containsRow(t);St.setAttribute(o,"aria-selected",!!c)}St.setAttribute(o,"aria-level",s instanceof b.GroupRow?s.level+1:null),St.setAttribute(o,"aria-expanded",s instanceof b.GroupRow?!s.isCollapsed:null),this.rows.ariaLabel&&St.setAttribute(o,"aria-label",this.rows.ariaLabel)}var a=0;if(this._ct==v.Cell){var u=this._g._getRowHeaderPath();u&&(a=this._renderRowHdrCell(o,t,u.getValue(s.dataItem)))}for(var l=0;l<this.columns.frozen&&l<this.columns.length;l++)a=this._renderCell(o,t,l,i,n,a);for(l=i.leftCol;l<=i.rightCol&&-1<l;l++)a=this._renderCell(o,t,l,i,n,a);return this._removeExtraCells(o,a),e+1},d.prototype._renderCell=function(t,i,n,e,r,s){var o=this._g,h=o.getMergedRange(this,i,n);if(h){for(var c=Math.max(e.row,h.row);c<i;c++)if(this.rows[c].isVisible)return s;for(c=Math.max(e.col,h.col);c<n;c++)if(this.columns[c].isVisible)return s}var a=this.columns[n];if(a.renderSize<=0&&(!h||h.getRenderSize(this).width<=0))return s;var u=t.children[s],l=b.SelectedState,A=this.getSelectedState(i,n,h),f=A==l.Cursor||A==l.Active;return u&&r?(St.toggleClass(u,"wj-state-active",f),St.toggleClass(u,"wj-state-selected",A==l.Cursor),St.toggleClass(u,"wj-state-multi-selected",A==l.Selected),St.setAttribute(u,"aria-selected",A!=l.None||f),f&&(this._activeCell=u)):(u||((u=document.createElement("div")).tabIndex=-1,t.appendChild(u)),f&&(this._activeCell=u),this._ct==v.Cell&&(St.setAttribute(u,"role","gridcell"),St.setAttribute(u,"aria-selected",A!=l.None||f),St.setAttribute(u,"aria-readonly",!o.canEditCell(i,n)||null),St.setAttribute(u,"aria-required",a.getIsRequired())),o.cellFactory.updateCell(this,i,n,u,h),u[d._INDEX_KEY]={row:i,col:n,rng:h,panel:this}),s+1},d.prototype._removeExtraCells=function(t,i){for(;t.childElementCount>i;){var n=t.lastElementChild;t.removeChild(n),this._cf.disposeCell(n)}},d.prototype._getViewRange=function(){var t=this._g,i=t._ptScrl,n=this._rows,e=this._cols,r=new b.CellRange(0,0,n.length-1,e.length-1);if(this._ct==v.Cell||this._ct==v.RowHeader){var s=-i.y+this._offsetY,o=t._szClient.height;if(0<(c=Math.min(n.frozen,n.length-1))&&(s+=a=n[c-1].pos,o-=a),r.row=Math.min(n.length-1,Math.max(n.frozen,n.getItemAt(s+1))),r.row2=n.getItemAt(s+o),t._clipToScreen){var h=t.hostElement.getBoundingClientRect();h.top<0&&(r.row=Math.max(r.row,n.getItemAt(-h.top-t._ptScrl.y)-1)),h.bottom>innerHeight&&(r.row2=Math.min(r.row2,n.getItemAt(-h.top-t._ptScrl.y+innerHeight)+1))}}if(this._ct==v.Cell||this._ct==v.ColumnHeader){var c,a,u=-i.x,l=t._szClient.width;0<(c=Math.min(e.frozen,e.length-1))&&(u+=a=e[c-1].pos,l-=a),r.col=Math.min(e.length-1,Math.max(e.frozen,e.getItemAt(u+1))),r.col2=e.getItemAt(u+l)}return n.length<=n.frozen&&(r.row=r.row2=-1),e.length<=e.frozen&&(r.col=r.col2=-1),r},d.prototype._getFrozenPos=function(){var t=this._rows.frozen,i=this._cols.frozen,n=0<t?this._rows[t-1]:null,e=0<i?this._cols[i-1]:null,r=n?n.pos+n.renderSize:0,s=e?e.pos+e.renderSize:0;return new St.Point(s,r)},d._INDEX_KEY="wj-cell-index",d}();b.GridPanel=i}((St=vn||(window.wijmo=vn={})).grid||(St.grid={})),Rt=vn||(window.wijmo=vn={}),xt=Rt.grid||(Rt.grid={}),kt=function(){function nt(){}return nt.prototype.updateCell=function(t,i,n,e,r,s){var o=t.grid,h=o.rightToLeft,c=xt.CellType,a=t.rows,u=t.columns,l=a[i],A=u[n],f=i,d=n,g=l instanceof xt.GroupRow?l:null,w=l instanceof xt._NewRowTemplate?l:null,m=A.renderWidth,b=l.renderHeight,v=t.cellType,p="wj-cell",E={display:""};if(0!=s&&e.firstElementChild&&(1==e.childNodes.length&&"checkbox"==e.firstElementChild.type||(e.textContent="")),r&&!r.isSingleCell){i=r.row,n=r.col,f=r.row2,d=r.col2,l=a[i],A=u[n],g=l instanceof xt.GroupRow?l:null;var B=r.getRenderSize(t);b=B.height,m=B.width}var j=o._getBindingColumn(t,i,A),C=j.dataType==Rt.DataType.Boolean&&!j.dataMap,I=A.pos,Q=l.pos;if(o._useFrozenDiv()&&v==c.Cell&&!o.editRange?(i<a.frozen&&n>=u.frozen&&(I+=o._ptScrl.x),n<u.frozen&&i>=a.frozen&&(Q+=o._ptScrl.y)):(i<a.frozen&&(Q-=o._ptScrl.y),n<u.frozen&&(I-=o._ptScrl.x)),h?E.right=I+"px":E.left=I+"px",E.top=Q-t._getOffsetY()+"px",E.width=m+"px",E.height=b+"px",E.zIndex="",(i<a.frozen||n<u.frozen)&&(E.zIndex=i<a.frozen&&n<u.frozen?2:1),v==c.Cell?(g&&(p+=" wj-group"),o.showAlternatingRows&&l.visibleIndex%2!=0&&(r&&r.row!=r.row2||(p+=" wj-alt")),(i<a.frozen||n<u.frozen)&&(p+=" wj-frozen"),w&&(p+=" wj-new"),l.cssClass&&(p+=" "+l.cssClass),j.cssClass&&(p+=" "+j.cssClass)):(p+=" wj-header",o.showAlternatingRows&&i%2!=0&&(p+=" wj-header-alt")),(v==c.Cell||v==c.RowHeader)&&o._getShowErrors()){var M=o._getError(t,i,n);Rt.setAttribute(e,"title",M),M&&(p+=" wj-state-invalid")}var F=xt.SelectedState,y=t.getSelectedState(i,n,r);switch(y!=F.None&&v==c.Cell&&!C&&o.editRange&&o.editRange.contains(i,n)&&(y=F.None),y){case F.Active:p+=" wj-state-active";break;case F.Cursor:p+=" wj-state-selected wj-state-active";break;case F.Selected:p+=" wj-state-multi-selected"}if(f==a.frozen-1&&(p+=" wj-frozen-row"),d==u.frozen-1&&(p+=" wj-frozen-col"),(j.wordWrap||l.wordWrap)&&(p+=" wj-wrap"),(j.multiLine||l.multiLine)&&(p+=" wj-multiline"),E.textAlign=j.getAlignment(),E.textAlignLast=E.textJustify="","justify-all"==E.textAlign&&(E.textAlign=E.textAlignLast="justify",E.textJustify="distribute"),E.paddingLeft=E.paddingRight=E.paddingTop=E.paddingBottom="",v==c.Cell&&-1<o.rows.maxGroupLevel&&n==o.columns.firstVisibleIndex&&o.treeIndent){var R=g?Math.max(0,g.level):o.rows.maxGroupLevel+1,x=o.treeIndent*R+o._cellPadding;h?E.paddingRight=x+"px":E.paddingLeft=x+"px"}if(0!=s){var k=t.getCellData(i,n,!1),S=t.getCellData(i,n,!0);if(v==c.Cell&&n==o.columns.firstVisibleIndex&&g&&g.hasChildren&&!this._isEditingCell(o,i,n)){var Y=this._getTreeBtn(g);S=Rt.escapeHtml(S)||g.getGroupHeader(),e.innerHTML=Y.outerHTML+" "+S,E.textAlign=""}else if(v==c.ColumnHeader&&j.currentSort&&o.showSort&&(f==o._getSortRowIndex()||j!=A))p+=" wj-sort-"+("+"==j.currentSort?"asc":"desc"),e.innerHTML=Rt.escapeHtml(S)+"&nbsp;"+this._getSortIcon(j);else if(v!=c.RowHeader||n!=o.rowHeaders.columns.length-1||S)if(v!=c.Cell||j.dataType!=Rt.DataType.Boolean||j.dataMap||g&&!Rt.isBoolean(k))if(v==c.Cell&&this._isEditingCell(o,i,n)){var D=j.inputType;if(j.inputType||(D=j.dataType!=Rt.DataType.Number||j.dataMap?"text":"tel"),!j.dataMap&&!j.mask){var U=t.getCellData(i,n,!1);if(Rt.isNumber(U)){var N=U.toString(),T=j.format;if(T&&U!=Math.round(U)){var O=N.match(/\.(\d+)/)[1].length;T=T.replace(/([a-z])(\d*)(.*)/gi,"$01"+O+"$3")}S=Rt.Globalize.formatNumber(U,T,!0)}}e.innerHTML=(j.multiLine||l.multiLine)&&"checkbox"!=D?'<textarea wrap="soft"></textarea>':'<input type="'+D+'"/>';var H=e.children[0];Rt.addClass(H,"wj-grid-editor wj-form-control"),Rt.disableAutoComplete(H),H.value=S,H.required=j.getIsRequired(),Rt.setAttribute(H,"aria-required",H.required),j.maxLength&&(H.maxLength=j.maxLength),H.style.textAlign=j.getAlignment(),j.mask&&new Rt._MaskProvider(H,j.mask),o._edtHdl._edt=H}else v==c.Cell&&(l.isContentHtml||j.isContentHtml)?e.innerHTML=S:e.textContent=S||"";else{var z=e.firstChild;z instanceof HTMLInputElement&&"checkbox"==z.type||(e.innerHTML='<input type="checkbox" class="wj-cell-check" tabindex="-1"/>',z=e.firstChild),z.checked=1==k,z.indeterminate=null==k,z.disabled=!o.canEditCell(i,n),z.disabled&&(z.style.cursor="default"),o.editRange&&o.editRange.contains(i,n)&&(o._edtHdl._edt=z)}else{var J=o.editableCollectionView,G=J?J.currentEditItem:null;G&&l.dataItem==G?e.innerHTML='<span class="wj-glyph-pencil"></span>':l instanceof xt._NewRowTemplate&&(e.innerHTML='<span class="wj-glyph-asterisk"></span>')}if(v==c.Cell&&Rt.input&&j.dataMap&&o.showDropDown&&0!=j.showDropDown&&o.canEditCell(i,n)){if(!nt._ddBtn){var V=nt._WJC_DROPDOWN;Y=Rt.createElement('<button class="wj-btn wj-btn-glyph wj-right '+V+'" type="button" tabindex="-1"><span class="wj-glyph-down"></span></button>'),Rt.setAriaLabel(Y,Rt.culture.FlexGrid.ariaLabels.toggleDropDown),Rt.setAttribute(Y,"aria-expanded",!1),nt._ddBtn=Y}var P=nt._ddBtn.cloneNode(!0);e.appendChild(P)}}var W=!1;switch(v){case c.RowHeader:W=!g&&!w&&l.allowDragging&&0!=(o.allowDragging&xt.AllowDragging.Rows),Rt.setAttribute(e,"draggable",W?"true":null);break;case c.ColumnHeader:W=A.allowDragging&&0!=(o.allowDragging&xt.AllowDragging.Columns),Rt.setAttribute(e,"draggable",W?"true":null)}e.className!=p&&(e.className=p);var L=e.style;for(var X in E)L[X]!==E[X]&&(L[X]=E[X]);if(o._edtHdl._edt&&o._edtHdl._edt.parentElement==e){var K=o._root,Z=K.getBoundingClientRect(),_=e.getBoundingClientRect(),q=Z.top+K.clientHeight-_.top,$=Z.left+K.clientWidth-_.left;_.height>q&&(e.style.height=q+"px"),_.width>$&&(e.style.width=$+"px")}if(o.itemFormatter&&o.itemFormatter(t,i,n,e),o.formatItem.hasHandlers){var tt=nt._fmtRng;tt?tt.setRange(i,n,f,d):tt=nt._fmtRng=new xt.CellRange(i,n,f,d);var it=new xt.FormatItemEventArgs(t,tt,e);o.onFormatItem(it)}},nt.prototype.disposeCell=function(t){},nt.prototype.getEditorValue=function(t){var i=t._edtHdl._edt;if(i instanceof HTMLInputElement&&"checkbox"==i.type)return i.checked;if(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement){var n=i.maxLength;return Rt.isNumber(n)&&-1<n&&i.value.length>n?i.value.substr(0,n):i.value}return null},nt.prototype._isEditingCell=function(t,i,n){return t.editRange&&t.editRange.contains(i,n)},nt.prototype._getTreeBtn=function(t){var i=nt._WJC_COLLAPSE,n=(t.isCollapsed?"":"down-")+(t.grid.rightToLeft?"left":"right"),e=Rt.createElement('<button class="wj-btn wj-btn-glyph '+i+'" type="button" tabindex="-1"><span class="wj-glyph-'+n+'"></span></button>');return Rt.setAriaLabel(e,Rt.culture.FlexGrid.ariaLabels.toggleGroup),Rt.setAttribute(e,"aria-expanded",!t.isCollapsed),e},nt.prototype._getSortIcon=function(t){return'<span class="wj-glyph-'+("+"==t.currentSort?"up":"down")+'"></span>'},nt._WJC_COLLAPSE="wj-elem-collapse",nt._WJC_DROPDOWN="wj-elem-dropdown",nt}(),xt.CellFactory=kt,Ft=(Mt=vn||(window.wijmo=vn={})).grid||(Mt.grid={}),yt=function(){function e(t,i,n,e){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===n&&(n=t),void 0===e&&(e=i),this.setRange(t,i,n,e)}return e.prototype.setRange=function(t,i,n,e){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===n&&(n=t),void 0===e&&(e=i),this._row=Mt.asInt(t),this._col=Mt.asInt(i),this._row2=Mt.asInt(n),this._col2=Mt.asInt(e)},Object.defineProperty(e.prototype,"row",{get:function(){return this._row},set:function(t){this._row=Mt.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},set:function(t){this._col=Mt.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=Mt.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=Mt.asInt(t)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._row,this._col,this._row2,this._col2)},Object.defineProperty(e.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return-1<this._row&&-1<this._col&&-1<this._row2&&-1<this._col2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,i){var n=Mt.tryCast(t,e);if(n)return n.topRow>=this.topRow&&n.bottomRow<=this.bottomRow&&n.leftCol>=this.leftCol&&n.rightCol<=this.rightCol;if(Mt.isInt(t)&&Mt.isInt(i))return t>=this.topRow&&t<=this.bottomRow&&i>=this.leftCol&&i<=this.rightCol;throw"contains expects a CellRange or row/column indices."},e.prototype.containsRow=function(t){return Mt.asInt(t)>=this.topRow&&t<=this.bottomRow},e.prototype.containsColumn=function(t){return Mt.asInt(t)>=this.leftCol&&t<=this.rightCol},e.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},e.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},e.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},e.prototype.getRenderSize=function(t){var i=new Mt.Size(0,0);if(this.isValid){for(var n=this.topRow;n<=this.bottomRow;n++)i.height+=t.rows[n].renderSize;for(var e=this.leftCol;e<=this.rightCol;e++)i.width+=t.columns[e].renderSize}return i},e.prototype.equals=function(t){return t instanceof e&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},e}(),Ft.CellRange=yt,Cn=window&&window.__extends||(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}Dt(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(h){var c,t;(t=c=h.RowColFlags||(h.RowColFlags={}))[t.Visible=1]="Visible",t[t.AllowResizing=2]="AllowResizing",t[t.AllowDragging=4]="AllowDragging",t[t.AllowMerging=8]="AllowMerging",t[t.AllowSorting=16]="AllowSorting",t[t.AutoGenerated=32]="AutoGenerated",t[t.Collapsed=64]="Collapsed",t[t.ParentCollapsed=128]="ParentCollapsed",t[t.Selected=256]="Selected",t[t.ReadOnly=512]="ReadOnly",t[t.HtmlContent=1024]="HtmlContent",t[t.WordWrap=2048]="WordWrap",t[t.MultiLine=4096]="MultiLine",t[t.HasTemplate=8192]="HasTemplate",t[t.RowDefault=3]="RowDefault",t[t.ColumnDefault=23]="ColumnDefault";var i=function(){function t(){this._list=null,this._pos=0,this._idx=-1,this._vidx=-1}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._getFlag(c.Visible)},set:function(t){this._setFlag(c.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!!this._getFlag(c.Visible)&&(!this._getFlag(c.ParentCollapsed)||this instanceof h._NewRowTemplate)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._vidx:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=Zt.asNumber(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var t=this._sz,i=this._list;return i&&((null==t||t<0)&&(t=Math.round(i.defaultSize)),null!=i.minSize&&t<i.minSize&&(t=i.minSize),null!=i.maxSize&&t>i.maxSize&&(t=i.maxSize)),null!=this._szMin&&t<this._szMin&&(t=this._szMin),null!=this._szMax&&t>this._szMax&&(t=this._szMax),Math.round(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._getFlag(c.AllowResizing)},set:function(t){this._setFlag(c.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._getFlag(c.AllowDragging)},set:function(t){this._setFlag(c.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._getFlag(c.AllowMerging)},set:function(t){this._setFlag(c.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this._getFlag(c.Selected)},set:function(t){if(this._setFlag(c.Selected,t,!0)){var i=this.grid;i&&i.refreshCells(!1,!0,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._getFlag(c.ReadOnly)},set:function(t){this._setFlag(c.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._getFlag(c.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag(c.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._getFlag(c.WordWrap)},set:function(t){this._setFlag(c.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiLine",{get:function(){return this._getFlag(c.MultiLine)},set:function(t){this._setFlag(c.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=Zt.asString(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),t.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},t.prototype._getFlag=function(t){return 0!=(this._f&t)},t.prototype._setFlag=function(t,i,n){return i!=this._getFlag(t)&&(this._f=i?this._f|t:this._f&~t,n||this.onPropertyChanged(),!0)},t}(),o=function(n){function e(t){var i=n.call(this)||this;return i._f=c.ColumnDefault,i._hash=e._ctr.toString(36),e._ctr++,t&&Zt.copy(i,t),i}return Cn(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this._type},set:function(t){t=Zt.asEnum(t,Zt.DataType),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=Zt.asBoolean(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(t){t!=this._showDropDown&&(this._showDropDown=Zt.asBoolean(t,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=Zt.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=Zt.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=Zt.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=Zt.asNumber(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var i=Zt.asString(t);if(this._binding=i?new Zt.Binding(i):null,!this._type&&this.grid&&this._binding){var n=this.grid.collectionView;if(n&&n.sourceCollection&&n.sourceCollection.length){var e=n.sourceCollection[0];this._type=Zt.getType(this._binding.getValue(e))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var i=Zt.asString(t);this._bindingSort=i?new Zt.Binding(i):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(t){null!=e._parseStarSize(t)?(this._szStar=t,this.onPropertyChanged()):(this._szStar=null,this.size=Zt.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=Zt.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=Zt.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(t){this._quickSize=Zt.asBoolean(t,!0)},enumerable:!0,configurable:!0}),e.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(Zt.isBoolean(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(c.HasTemplate)))},Object.defineProperty(e.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),e.prototype.getAlignment=function(){var t=this._align;if(null==t&&(t="",!this._map))switch(this._type){case Zt.DataType.Boolean:t="center";break;case Zt.DataType.Number:t="right"}return t},e.prototype.getIsRequired=function(){return null!=this._required?this._required:this.dataType!=Zt.DataType.String||null!=this.dataMap||null!=this._mask&&0<this._mask.length},Object.defineProperty(e.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(t){this._hdr!=t&&(this._hdr=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),Zt.isArray(t)&&(t=new h.DataMap(t,null,null)),this._map=Zt.asType(t,h.DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSorting",{get:function(){return this._getFlag(c.AllowSorting)},set:function(t){this._setFlag(c.AllowSorting,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSort",{get:function(){var t=this.grid?this.grid.collectionView:null,i=t?t.sortDescriptions:null,n=i&&i.length?this._getBindingSort():null;if(n)for(var e=0;e<i.length;e++)if(i[e].property==n)return i[e].ascending?"+":"-";return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:Zt.Aggregate.None},set:function(t){(t=Zt.asEnum(t,Zt.Aggregate))!=this._agg&&(this._agg=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describedById",{get:function(){return this._descById},set:function(t){t!=this._descById&&(this._descById=Zt.asString(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),e.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},e._parseStarSize=function(t){if(Zt.isString(t)&&0<t.length&&"*"==t[t.length-1]){var i=1==t.length?1:1*t.substr(0,t.length-1);if(0<i&&!isNaN(i))return i}return null},e._ctr=0,e}(h.RowCol=i);h.Column=o;var n=function(n){function t(t){var i=n.call(this)||this;return i._f=c.ColumnDefault,i._data=t,i}return Cn(t,n),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(t){this.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(i),e=function(i){function o(){var t=i.call(this)||this;return t._level=-1,t.isReadOnly=!0,t}return Cn(o,i),Object.defineProperty(o.prototype,"level",{get:function(){return this._level},set:function(t){Zt.asInt(t),t!=this._level&&(this._level=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var t=this.index<this._list.length-1?this._list[this.index+1]:null,i=Zt.tryCast(t,o),n=Zt.tryCast(t,h._NewRowTemplate);return null!=t&&null==n&&(null==i||i.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isCollapsed",{get:function(){return this._getFlag(c.Collapsed)},set:function(t){Zt.asBoolean(t),t!=this.isCollapsed&&null!=this._list&&this._setCollapsed(t)},enumerable:!0,configurable:!0}),o.prototype.getGroupHeader=function(){var t=this.grid,i=t.groupHeaderFormat||Zt.culture.FlexGrid.groupHeaderFormat,n=Zt.tryCast(this.dataItem,Zt.collections.CollectionViewGroup);if(n&&i){var e=n.groupDescription.propertyName,r=n.name,s=t.getColumn(e),o=this.isContentHtml;s&&(o=o||s.isContentHtml,s.header&&(e=s.header),s.dataMap?r=s.dataMap.getDisplayValue(r):s.format&&(r=Zt.Globalize.format(r,s.format)));var h=n.getAggregate(Zt.Aggregate.CntAll,null,t.collectionView);return Zt.format(i,{name:Zt.escapeHtml(e),value:o?r:Zt.escapeHtml(r),level:n.level,count:h})}return""},o.prototype._setCollapsed=function(n){var e=this,t=this.grid,r=t.rows,s=this.getCellRange(),i=new h.CellRangeEventArgs(t.cells,new h.CellRange(this.index,-1));t.onGroupCollapsedChanging(i)&&(t.deferUpdate(function(){r.deferUpdate(function(){e._setFlag(c.Collapsed,n,!0);for(var t=s.topRow+1;t<=s.bottomRow&&-1<t&&t<r.length;t++){r[t]._setFlag(c.ParentCollapsed,n,!0);var i=r[t];i instanceof o&&i.isCollapsed&&(t=i.getCellRange().bottomRow)}})}),t.onGroupCollapsedChanged(i))},o.prototype.getCellRange=function(){for(var t=this._list,i=this.index,n=t.length-1,e=i+1;e<=n;e++){var r=Zt.tryCast(t[e],o);if(null!=r&&r.level<=this.level){n=e-1;break}}return new h.CellRange(i,0,n,this.grid.columns.length-1)},o}(h.Row=n);h.GroupRow=e;var r=function(e){function t(t,i){var n=e.call(this)||this;return n._frozen=0,n._vlen=0,n._szDef=28,n._szTot=0,n._dirty=!1,n._g=Zt.asType(t,h.FlexGrid),n._szDef=Zt.asNumber(i,!1,!0),n}return Cn(t,e),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(t){this._szDef!=t&&(this._szDef=Zt.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(t){t!=this._frozen&&(this._frozen=Zt.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(t){return t<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=Zt.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=Zt.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(t){if(this._dirty&&this._update(),t<=0&&0<this.length&&this[0].renderSize)return 0;t=Math.round(t);for(var i,n,e=this.length,r=0,s=e-1;r<=s;)if((n=this[i=r+s>>>1])._pos>t&&0<i)s=i-1;else{if(!(n._pos+n.renderSize<=t&&i<e-1)){for(;0<i&&!this[i].renderSize;)i--;for(;i<e-1&&!this[i].renderSize;)i++;return i}r=i+1}return s},t.prototype.getNextCell=function(t,i,n){var e,r=h.SelMove;switch(i){case r.Next:for(e=t+1;e<this.length;e++)if(0<this[e].renderSize)return e;break;case r.Prev:for(e=t-1;0<=e;e--)if(0<this[e].renderSize)return e;break;case r.End:for(e=this.length-1;0<=e;e--)if(0<this[e].renderSize)return e;break;case r.Home:for(e=0;e<this.length;e++)if(0<this[e].renderSize)return e;break;case r.NextPage:return(e=this.getItemAt(this[t].pos+n))<0?this.getNextCell(t,h.SelMove.End,n):e==t&&e<this.length-1&&this[e+1].renderSize?e+1:e;case r.PrevPage:return(e=this.getItemAt(this[t].pos-n))<0?this.getNextCell(t,h.SelMove.Home,n):e==t&&0<e&&this[e-1].renderSize?e-1:e}return t},t.prototype.canMoveElement=function(t,i){if(i==t)return!1;if(t<0||t>=this.length||i>=this.length)return!1;i<0&&(i=this.length-1);for(var n=Math.min(t,i),e=Math.max(t,i),r=n;r<=e;r++)if(!this[r].allowDragging)return!1;return!(this[i]instanceof h._NewRowTemplate)},t.prototype.moveElement=function(t,i){if(this.canMoveElement(t,i)){var n=this[t];this.removeAt(t),i<0&&(i=this.length),this.insert(i,n)}},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=Zt.collections.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),e.prototype.onCollectionChanged.call(this,t)},t.prototype.push=function(t){return t._list=this,e.prototype.push.call(this,t)},t.prototype.splice=function(t,i,n){return n&&(n._list=this),e.prototype.splice.call(this,t,i,n)},t.prototype.beginUpdate=function(){this._update(),e.prototype.beginUpdate.call(this)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1;for(var t=0,i=0,n=void 0,e=void 0,r=0;r<this.length;r++)(e=this[r])._idx=r,e._vidx=t,e._list=this,e._pos=i,0<(n=e.renderSize)&&(i+=n,t++);return this._vlen=t,this._szTot=i,!0}return!1},t}(Zt.collections.ObservableArray),s=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t._firstVisible=-1,t}return Cn(t,n),t.prototype.getColumn=function(t){var i=Zt.isNumber(t)?t:this.indexOf(t);return-1<i?this[i]:null},t.prototype.indexOf=function(t){if(t instanceof o)return n.prototype.indexOf.call(this,t);for(var i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(t){t!=this._descById&&(this._descById=Zt.asString(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(n.prototype._update.call(this)){this._firstVisible=-1;for(var t=0;t<this.length;t++)if(this[t].visible){this._firstVisible=t;break}return!0}return!1},t.prototype._updateStarSizes=function(t){for(var i,n=0,e=0;e<this.length;e++)(s=this[e]).isVisible&&(s._szStar?(n+=o._parseStarSize(s._szStar),i=s):t-=s.renderWidth);if(i){var r=t;for(e=0;e<this.length;e++){var s;(s=this[e]).isVisible&&s._szStar&&(s==i&&0<r?s._sz=r:(s._sz=Math.max(0,Math.round(o._parseStarSize(s._szStar)/n*t)),r-=s.renderWidth))}return this._dirty=!0,this._update(),!0}return!1},t}(h.RowColCollection=r);h.ColumnCollection=s;var a=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t._maxLevel=-1,t}return Cn(t,n),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(t){t!=this.ariaLabel&&(this._ariaLabel=Zt.asString(t),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(n.prototype._update.call(this)){this._maxLevel=-1;for(var t=0;t<this.length;t++){var i=Zt.tryCast(this[t],e);i&&i.level>this._maxLevel&&(this._maxLevel=i.level)}return!0}return!1},t}(r);h.RowCollection=a}((Zt=vn||(window.wijmo=vn={})).grid||(Zt.grid={})),Wt=vn||(window.wijmo=vn={}),Xt=Lt=Wt.grid||(Wt.grid={}),Kt=function(){function M(t,i){var n;if(this._row=-1,this._col=-1,this._edge=0,i instanceof Element){if(Wt.closest(i,".wj-flexgrid")!=t.hostElement)return;t=i}if(!(t instanceof Element)||t instanceof Xt.FlexGrid){if(t instanceof Xt.FlexGrid)n=this._g=t;else{if(!(t instanceof Xt.GridPanel))throw"First parameter should be a FlexGrid or GridPanel.";this._p=t,n=this._g=this._p.grid}var e;i instanceof MouseEvent&&"mousedown"==(e=i).type&&(n._rcBounds=null),i=Wt.mouseToPage(i),this._pt=i.clone();var r=n.controlRect,s=n._szClient,o=n.topLeftCells,h=n._eTL,c=n.headersVisibility,a=Xt.HeadersVisibility,u=c&a.Row?o.columns.getTotalSize():0,l=c&a.Column?o.rows.getTotalSize():0,A=c&a.Column?l+h.offsetTop:0,f=n._eBL,d=f.offsetHeight;if(i.x-=r.left,i.y-=r.top,this._g.rightToLeft&&(i.x=r.width-i.x),!this._p&&0<=i.x&&i.y>=h.offsetTop&&s&&i.x<=s.width+u&&i.y<=s.height+A&&(i.y<A?this._p=i.x<u?n.topLeftCells:n.columnHeaders:i.y<f.offsetTop?this._p=i.x<u?n.rowHeaders:n.cells:this._p=i.x<u?n.bottomLeftCells:n.columnFooters),null!=this._p){var g=this._p.rows,w=this._p.columns,m=this._p.cellType,b=Xt.CellType,v=this._p._getFrozenPos(),p=m==b.TopLeft||m==b.ColumnHeader?l:m==b.BottomLeft||m==b.ColumnFooter?d:g.getTotalSize(),E=m==b.TopLeft||m==b.BottomLeft||m==b.RowHeader?u:w.getTotalSize();m==b.RowHeader||m==b.Cell?(i.y-=l,(i.y>v.y||v.y<=0)&&(i.y-=n._ptScrl.y,i.y+=this._p._getOffsetY())):m!=b.BottomLeft&&m!=b.ColumnFooter||(i.y-=f.offsetTop),m!=b.ColumnHeader&&m!=b.Cell&&m!=b.ColumnFooter||(i.x-=u,(i.x>v.x||v.x<=0)&&(i.x-=n._ptScrl.x)),m!=b.ColumnHeader&&m!=b.TopLeft||(i.y-=A-l),this._edge=0;var B=M._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(B=M._SZEDGE[1],i.x-=B/2),this._row=i.y>p?-1:g.getItemAt(i.y),this._col=i.x>E?-1:w.getItemAt(i.x),this._row<0||this._col<0)return void(this._p=null);if(-1<this._col){var j=w[this._col];i.x-j.pos<=B&&(this._edge|=1),j.pos+j.renderSize-i.x<=B&&(this._edge|=4)}if(-1<this._row){var C=g[this._row];i.y-C.pos<=B&&(this._edge|=2),C.pos+C.renderSize-i.y<=B&&(this._edge|=8)}}!(8&this._edge)&&e instanceof MouseEvent&&(Q=(I=Wt.closest(e.target,".wj-cell"))?I[Xt.GridPanel._INDEX_KEY]:null)&&!Q.rng&&Q.panel==this._p&&this._row!=Q.row&&(this._row=Q.row)}else{var I,Q;(Q=(I=Wt.closest(t,".wj-cell"))?I[Xt.GridPanel._INDEX_KEY]:null)&&(this._row=Q.row,this._col=Q.col,this._rng=Q.rng,this._p=Q.panel,this._g=Q.panel.grid)}}return Object.defineProperty(M.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"cellType",{get:function(){return this._p?this._p.cellType:Lt.CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"range",{get:function(){return this._rng||(this._rng=new Xt.CellRange(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),M._SZEDGE=[5,30],M}(),Xt.HitTestInfo=Kt,function(p){var E,t;(t=E=p.AllowMerging||(p.AllowMerging={}))[t.None=0]="None",t[t.Cells=1]="Cells",t[t.ColumnHeaders=2]="ColumnHeaders",t[t.RowHeaders=4]="RowHeaders",t[t.AllHeaders=6]="AllHeaders",t[t.All=7]="All";var i=function(){function t(t){this._g=t}return t.prototype.getMergedRange=function(t,i,n,e){void 0===e&&(e=!0);var r,s,o=t.cellType,h=t.columns,c=t.rows,a=c[i],u=h[n];if(a instanceof p._NewRowTemplate)return null;if(a instanceof p.GroupRow&&a.dataItem instanceof Pt.collections.CollectionViewGroup){if(r=new p.CellRange(i,n),u.aggregate==Pt.Aggregate.None){for(;0<r.col&&h[r.col-1].aggregate==Pt.Aggregate.None&&r.col!=h.frozen;)r.col--;for(;r.col2<h.length-1&&h[r.col2+1].aggregate==Pt.Aggregate.None&&r.col2+1!=h.frozen;)r.col2++}for(;r.col<n&&!h[r.col].visible;)r.col++;return r.isSingleCell?null:r}var l=!1;switch(this._g.allowMerging){case E.None:l=!0;break;case E.Cells:l=o!=p.CellType.Cell;break;case E.ColumnHeaders:l=o!=p.CellType.ColumnHeader&&o!=p.CellType.TopLeft;break;case E.RowHeaders:l=o!=p.CellType.RowHeader&&o!=p.CellType.TopLeft;break;case E.AllHeaders:l=o==p.CellType.Cell}if(l)return null;if(h[n].allowMerging){r=new p.CellRange(i,n);var A=0,f=c.length-1;i>=c.frozen?!e||o!=p.CellType.Cell&&o!=p.CellType.RowHeader||(A=(s=t._getViewRange()).topRow,f=s.bottomRow):f=c.frozen-1;for(var d=i-1;A<=d&&this._mergeCell(t,d,n,i,n);d--)r.row=d;for(var g=i+1;g<=f&&this._mergeCell(t,i,n,g,n);g++)r.row2=g;for(;r.row<i&&!c[r.row].visible;)r.row++;if(!r.isSingleCell)return r}if(c[i].allowMerging){r=new p.CellRange(i,n);var w=0,m=h.length-1;n>=h.frozen?!e||o!=p.CellType.Cell&&o!=p.CellType.ColumnHeader||(w=(s=t._getViewRange()).leftCol,m=s.rightCol):m=h.frozen-1;for(var b=n-1;w<=b&&this._mergeCell(t,i,b,i,n);b--)r.col=b;for(var v=n+1;v<=m&&this._mergeCell(t,i,n,i,v);v++)r.col2=v;for(;r.col<n&&!h[r.col].visible;)r.col++;if(!r.isSingleCell)return r}return null},t.prototype._mergeCell=function(t,i,n,e,r){var s=t.rows[i],o=t.rows[e];if(s instanceof p.GroupRow||s instanceof p._NewRowTemplate||o instanceof p.GroupRow||o instanceof p._NewRowTemplate)return!1;if(i!=e&&t.rows.isFrozen(i)!=t.rows.isFrozen(e))return!1;if(n!=r&&t.columns.isFrozen(n)!=t.columns.isFrozen(r))return!1;if(i!=e){if(0<n&&(s.allowMerging&&this._mergeCell(t,i,n-1,i,n)||o.allowMerging&&this._mergeCell(t,e,n-1,e,n)))return!1;if(r<t.columns.length-1&&(s.allowMerging&&this._mergeCell(t,i,r,i,r+1)||o.allowMerging&&this._mergeCell(t,e,r,e,r+1)))return!1}return t.getCellData(i,n,!0)==t.getCellData(e,r,!0)},t}();p.MergeManager=i}((Pt=vn||(window.wijmo=vn={})).grid||(Pt.grid={})),Gt=(Jt=vn||(window.wijmo=vn={})).grid||(Jt.grid={}),Vt=function(){function t(t,i,n){if(this.mapChanged=new Jt.Event,Jt.isArray(t)&&!i&&!n){for(var e=[],r=0;r<t.length;r++)e.push({value:t[r]});t=e,i=n="value"}this._cv=Jt.asCollectionView(t),this._keyPath=Jt.asString(i,!1),this._displayPath=Jt.asString(n,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(t.prototype,"sortByDisplayValues",{get:function(){return 1!=this._sortByKey},set:function(t){this._sortByKey=!Jt.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),t.prototype.getKeyValue=function(t){var i=this._displayPath,n=this._indexOf(t,i,!0);return n<0&&(n=this._indexOf(t,i,!1)),-1<n?this._cv.sourceCollection[n][this._keyPath]:null},t.prototype.getDisplayValue=function(t){if(!this._hash){this._hash={};var i=this._cv.sourceCollection;if(i&&this._keyPath&&this._displayPath)for(var n=i.length-1;0<=n;n--){var e=i[n],r=e[this._keyPath],s=e[this._displayPath];this._hash[r]=s}}var o=this._hash[t];return null!=o?o:t},t.prototype.getDisplayValues=function(t){var i=[];if(this._cv&&this._displayPath)for(var n=this._cv.items,e=0;e<n.length;e++)i.push(n[e][this._displayPath]);return i},t.prototype.getKeyValues=function(){var t=[];if(this._cv&&this._keyPath)for(var i=this._cv.items,n=0;n<i.length;n++)t.push(i[n][this._keyPath]);return t},Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=Jt.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.onMapChanged=function(t){this._hash=null,this.mapChanged.raise(this,t)},t.prototype._indexOf=function(t,i,n){var e=-1,r=-1;if(this._cv&&i)for(var s=null!=t?t.toString():"",o=n?s:s.toLowerCase(),h=this._cv.sourceCollection,c=0;c<h.length;c++){var a=h[c],u=a[i];if(u==t?e=c:n||u.length!=o.length||u.toLowerCase()!=o?null!=u&&u.toString()==s&&(e=c):e=c,e==c){if(!this._cv.filter||this._cv.filter(a))return e;r<0&&(r=e)}}return r},t}(),Gt.DataMap=Vt,function(l){var A,f,t,i,n;(n=A=l.SelectionMode||(l.SelectionMode={}))[n.None=0]="None",n[n.Cell=1]="Cell",n[n.CellRange=2]="CellRange",n[n.Row=3]="Row",n[n.RowRange=4]="RowRange",n[n.ListBox=5]="ListBox",(i=l.SelectedState||(l.SelectedState={}))[i.None=0]="None",i[i.Selected=1]="Selected",i[i.Cursor=2]="Cursor",i[i.Active=3]="Active",(t=f=l.SelMove||(l.SelMove={}))[t.None=0]="None",t[t.Next=1]="Next",t[t.Prev=2]="Prev",t[t.NextPage=3]="NextPage",t[t.PrevPage=4]="PrevPage",t[t.Home=5]="Home",t[t.End=6]="End",t[t.NextCell=7]="NextCell",t[t.PrevCell=8]="PrevCell";var e=function(){function t(t){this._sel=new l.CellRange(0,0),this._mode=A.CellRange,this._g=t}return Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){if(t!=this._mode){var i=A;if(t==i.ListBox||this._mode==i.ListBox)for(var n=this._g.rows,e=0;e<n.length;e++){var r=n[e],s=t==A.ListBox&&this._sel.containsRow(e);r._setFlag(l.RowColFlags.Selected,s,!0)}switch(t){case i.None:this._sel.setRange(-1,-1);break;case i.Cell:this._sel.row2=this._sel.row,this._sel.col2=this._sel.col;break;case i.Row:this._sel.row2=this._sel.row}this._mode=t,this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),t.prototype.select=function(t,i){void 0===i&&(i=!0),zt.isNumber(t)&&zt.isNumber(i)&&(t=new l.CellRange(t,i),i=!0),t=zt.asType(t,l.CellRange);var n=this._g,e=this._sel,r=t,s=!1,o=A;switch(n.selectionMode){case o.Cell:t.row2=t.row,t.col2=t.col;break;case o.Row:t.row2=t.row;break;case o.ListBox:s=!0}var h=r.equals(e);if(s&&-1<r.row&&!n.rows[r.row].isSelected&&(h=!1),h)i&&n.scrollIntoView(r.row,r.col);else{var c=new l.CellRangeEventArgs(n.cells,r);if(n.onSelectionChanging(c)){if(s&&(r.row!=e.row||1<r.rowSpan||1<e.rowSpan)){for(var a=0;a<n.rows.length;a++)n.rows[a]._setFlag(l.RowColFlags.Selected,r.containsRow(a),!0);n.refreshCells(!1,!0,!0)}if(r.row=Math.min(r.row,n.rows.length-1),r.row2=Math.min(r.row2,n.rows.length-1),this._sel=r,n.refreshCells(!1,!0,!0),i&&n.scrollIntoView(r.row,r.col),n.collectionView){var u=n._getCvIndex(r.row);n.collectionView.moveCurrentToPosition(u)}n.onSelectionChanged(c)}}},t.prototype.moveSelection=function(t,i,n){var e,r,s=this._g,o=s.rows,h=s.columns,c=this._getReferenceCell(t,i,n),a=Math.max(0,s._szClient.height-s.columnHeaders.height);if(i==f.NextCell)r=h.getNextCell(c.col,f.Next,a),e=c.row,r==c.col&&(e=o.getNextCell(e,f.Next,a))>c.row&&(r=h.getNextCell(0,f.Next,a),r=h.getNextCell(r,f.Prev,a)),s.select(e,r);else if(i==f.PrevCell)r=h.getNextCell(c.col,f.Prev,a),e=c.row,r==c.col&&(e=o.getNextCell(e,f.Prev,a))<c.row&&(r=h.getNextCell(h.length-1,f.Prev,a),r=h.getNextCell(r,f.Next,a)),s.select(e,r);else if(e=o.getNextCell(c.row,t,a),r=h.getNextCell(c.col,i,a),n){var u=s._selHdl._sel;s.select(new l.CellRange(e,r,u.row2,u.col2))}else s.select(e,r)},t.prototype._getReferenceCell=function(t,i,n){var e=this._g,r=e._selHdl._sel,s=e.getMergedRange(e.cells,r.row,r.col);if(!s||s.isSingleCell)return r;switch(s=s.clone(),t){case f.Next:case f.NextCell:s.row=s.bottomRow;break;case f.None:s.row=r.row}switch(i){case f.Next:case f.NextCell:s.col=s.rightCol;break;case f.None:s.col=r.col}return s},t.prototype._adjustSelection=function(t){switch(this._mode){case A.Cell:return new l.CellRange(t.row,t.col,t.row,t.col);case A.Row:return new l.CellRange(t.row,0,t.row,this._g.columns.length-1);case A.RowRange:case A.ListBox:return new l.CellRange(t.row,0,t.row2,this._g.columns.length-1)}return t},t}();l._SelectionHandler=e}((zt=vn||(window.wijmo=vn={})).grid||(zt.grid={})),function(w){var s,t;(t=s=w.KeyAction||(w.KeyAction={}))[t.None=0]="None",t[t.MoveDown=1]="MoveDown",t[t.MoveAcross=2]="MoveAcross",t[t.Cycle=3]="Cycle",t[t.CycleOut=4]="CycleOut";var i=function(){function t(t){this._kaTab=s.None,this._kaEnter=s.MoveDown;var i=(this._g=t).hostElement;t.addEventListener(i,"keypress",this._keypress.bind(this)),t.addEventListener(i,"keydown",this._keydown.bind(this))}return t.prototype._keydown=function(t){var i=this._g,n=i.selection,e=t.ctrlKey||t.metaKey,r=t.shiftKey,s=(t.target,!0);if(this._altDown=!1,!i._wantsInput(t.target)){var o=t.defaultPrevented&&!(t.target instanceof HTMLInputElement);if(i.isRangeValid(n)&&!o&&(!i.activeEditor||!i._edtHdl._keydown(t))){var h=Ht.tryCast(i.rows[n.row],w.GroupRow),c=i.editableCollectionView,a=t.keyCode;if(i.autoClipboard){if(e&&(67==a||45==a)){var u=new w.CellRangeEventArgs(i.cells,n);if(i.onCopying(u)){var l=i.getClipString()+"\r\n";Ht.Clipboard.copy(l),i.onCopied(u)}return void t.stopPropagation()}if(e&&86==a||r&&45==a)return i.isReadOnly||Ht.Clipboard.paste(function(t){i.setClipString(t)}),void t.stopPropagation()}if(i.rightToLeft)switch(a){case Ht.Key.Left:a=Ht.Key.Right;break;case Ht.Key.Right:a=Ht.Key.Left}var A=w.SelMove,f=w.SelectionMode;switch(a){case Ht.Key.Space:if(r&&n.isValid)switch(i.selectionMode){case f.CellRange:case f.Row:case f.RowRange:case f.ListBox:i.select(new w.CellRange(n.row,0,n.row,i.columns.length-1))}else if(e&&n.isValid)switch(i.selectionMode){case f.CellRange:i.select(new w.CellRange(0,n.col,i.rows.length-1,n.col))}else(s=this._startEditing(!0,t))&&setTimeout(function(){var t=i.activeEditor;t&&(t.disabled||t.readOnly?i.finishEditing():"checkbox"==t.type?(t.checked=!t.checked,i.finishEditing()):Ht.setSelectionRange(t,t.value.length))});break;case 65:if(e)switch(i.selectionMode){case f.CellRange:case f.Row:case f.RowRange:case f.ListBox:i.select(new w.CellRange(0,0,i.rows.length-1,i.columns.length-1))}else s=!1;break;case Ht.Key.Left:e||t.altKey?s=!1:n.isValid&&0==n.col&&null!=h&&!h.isCollapsed&&h.hasChildren?h.isCollapsed=!0:this._moveSel(A.None,e?A.Home:A.Prev,r);break;case Ht.Key.Right:e||t.altKey?s=!1:n.isValid&&0==n.col&&null!=h&&h.isCollapsed?h.isCollapsed=!1:this._moveSel(A.None,e?A.End:A.Next,r);break;case Ht.Key.Up:e?s=!1:(this._altDown=t.altKey,t.altKey?s=i._edtHdl._toggleListBox(t):this._moveSel(A.Prev,A.None,r));break;case Ht.Key.Down:e?s=!1:(this._altDown=t.altKey,t.altKey?s=i._edtHdl._toggleListBox(t):this._moveSel(A.Next,A.None,r));break;case Ht.Key.PageUp:if(this._altDown=t.altKey,this._moveSel(t.altKey?A.Home:A.PrevPage,A.None,r),i.rows.frozen&&i.selection.row<i.rows.frozen){var d=i.scrollPosition;d.y&&(i.scrollPosition=new Ht.Point(d.x,0))}break;case Ht.Key.PageDown:this._altDown=t.altKey,this._moveSel(t.altKey?A.End:A.NextPage,A.None,r);break;case Ht.Key.Home:this._moveSel(e?A.Home:A.None,A.Home,r);break;case Ht.Key.End:this._moveSel(e?A.End:A.None,A.End,r);break;case Ht.Key.Tab:s=this._performKeyAction(i.keyActionTab,r);break;case Ht.Key.Enter:s=this._performKeyAction(i.keyActionEnter,r),!r&&c&&null!=c.currentEditItem&&i._edtHdl._commitRowEdits();break;case Ht.Key.Escape:if(s=!1,c&&(c.currentAddItem||c.currentEditItem)){var g=new w.CellRangeEventArgs(i.cells,i.selection);g.cancel=!0,i.onRowEditEnding(g),c.currentAddItem&&c.cancelNew(),c.currentEditItem&&c.cancelEdit(),i.onRowEditEnded(g),s=!0}i._mouseHdl.resetMouseState();break;case Ht.Key.Delete:case Ht.Key.Back:s=this._deleteSel(t);break;case Ht.Key.F2:s=this._startEditing(!0,t);break;case Ht.Key.F4:s=i._edtHdl._toggleListBox(t);break;default:s=!1}s&&(i.containsFocus()||i.focus(),t.preventDefault(),t.stopPropagation())}}},t.prototype._performKeyAction=function(t,i){var n=s,e=w.SelMove;switch(t){case n.MoveDown:return this._moveSel(i?e.Prev:e.Next,e.None,!1),!0;case n.MoveAcross:return this._moveSel(e.None,i?e.Prev:e.Next,!1),!0;case n.Cycle:return this._moveSel(e.None,i?e.PrevCell:e.NextCell,!1),!0;case n.CycleOut:var r=this._g.selection;return this._moveSel(e.None,i?e.PrevCell:e.NextCell,!1),!r.equals(this._g.selection)}return!1},t.prototype._keypress=function(t){var i=this._g;if(!i._wantsInput(t.target)&&!t.defaultPrevented)if(this._altDown)t.preventDefault();else if(i.activeEditor)i._edtHdl._keypress(t);else if(t.charCode>Ht.Key.Space&&this._startEditing(!1,t)&&i.activeEditor){var n=Ht.getActiveElement();if(n instanceof HTMLInputElement&&"checkbox"!=n.type||n instanceof HTMLTextAreaElement){var e=i._selHdl.selection,r=i.getCellData(e.row,e.col,!0),s=i.getCellData(e.row,e.col,!1);n.value=String.fromCharCode(t.charCode),Ht.isNumber(s)&&-1<r.indexOf("%")&&(n.value+="%"),Ht.setSelectionRange(n,1),n.dispatchEvent(i._edtHdl._evtInput),i._edtHdl._keypress(t),t.preventDefault()}}},t.prototype._moveSel=function(t,i,n){this._g.selectionMode!=w.SelectionMode.None&&this._g._selHdl.moveSelection(t,i,n)},t.prototype._deleteSel=function(t){var s=this._g,o=s.editableCollectionView,h=s.selection,i=s.rows,n=[],c=new w.CellRange,a=new w.CellEditEndingEventArgs(s.cells,c,t),e=w.SelectionMode;if(s.allowDelete&&!s.isReadOnly&&(null==o||o.canRemove&&!o.isAddingNew&&!o.isEditingItem))switch(s.selectionMode){case e.CellRange:if(0==h.leftCol&&h.rightCol==s.columns.length-1)for(var r=h.topRow;-1<r&&r<=h.bottomRow;r++)n.push(i[r]);break;case e.ListBox:for(r=0;r<i.length;r++)i[r].isSelected&&n.push(i[r]);break;case e.Row:-1<h.topRow&&n.push(i[h.topRow]);break;case e.RowRange:for(r=h.topRow;-1<r&&r<=h.bottomRow;r++)n.push(i[r])}if(0<n.length){if(s.deferUpdate(function(){o&&o.beginUpdate();for(var t=n.length-1;0<=t;t--){var i=n[t];c.setRange(i.index,-1),s.onDeletingRow(a)&&(o&&i.dataItem?o.remove(i.dataItem):s.rows.removeAt(i.index),s.onDeletedRow(a))}o&&o.endUpdate()}),s.selectionMode==e.ListBox){var u=s.selection.row;-1<u&&u<s.rows.length&&(s.rows[u].isSelected=!0)}return s.childItemsPath&&s.collectionView&&s.collectionView.refresh(),!0}if(!s.isReadOnly&&0==n.length){var l=!1,A=s.scrollPosition;return s.deferUpdate(function(){for(var t=h.topRow;t<=h.bottomRow;t++){var i=s.rows[t];if(!i.isReadOnly)for(var n=h.leftCol;n<=h.rightCol;n++){var e=s._getBindingColumn(s.cells,t,s.columns[n]);if(!e.getIsRequired()&&!e.isReadOnly&&s.getCellData(t,n,!0)&&(c.setRange(t,n),a.cancel=!1,s.onBeginningEdit(a))){if(o){var r=o.currentEditItem;!l&&r&&r!=i.dataItem&&(l=!0,o.beginUpdate()),r=i.dataItem,o.editItem(r),s._edtHdl._edItem=r}s.setCellData(t,n,"",!0,!1),s.onCellEditEnding(a),s.onCellEditEnded(a)}}}s.selection=h,s.scrollPosition=A,l&&o.endUpdate()}),!0}return!1},t.prototype._startEditing=function(t,i,n,e){return this._g._edtHdl.startEditing(t,n,e,!0,i)},t}();w._KeyboardHandler=i}((Ht=vn||(window.wijmo=vn={})).grid||(Ht.grid={})),function(f){var a,c,t,i,n;(n=a=f.AllowResizing||(f.AllowResizing={}))[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both",n[n.ColumnsAllCells=4|n.Columns]="ColumnsAllCells",n[n.RowsAllCells=4|n.Rows]="RowsAllCells",n[n.BothAllCells=4|n.Both]="BothAllCells",(i=f.AutoSizeMode||(f.AutoSizeMode={}))[i.None=0]="None",i[i.Headers=1]="Headers",i[i.Cells=2]="Cells",i[i.Both=3]="Both",(t=c=f.AllowDragging||(f.AllowDragging={}))[t.None=0]="None",t[t.Columns=1]="Columns",t[t.Rows=2]="Rows",t[t.Both=3]="Both";var e=function(){function A(s){var o=this;this._tsLast=0;var t=s.hostElement;this._g=s,this._dvMarker=Ot.createElement('<div class="wj-marker">&nbsp;</div>'),s.addEventListener(t,"mousedown",function(t){if(s._rcBounds=null,!t.defaultPrevented&&0==t.button){var i=t.target;if(!s.containsFocus()){var n=i instanceof HTMLElement&&-1<i.tabIndex?i:s._eFocus;s._setFocusNoScroll(n)}if(setTimeout(function(){t.defaultPrevented||s.focus()}),Ot.closest(t.target,".wj-flexgrid")!=s.hostElement||!s.activeEditor&&s._isInputElement(i)){var e=s.hitTest(t);switch(e.cellType){case f.CellType.Cell:s.select(e.range,!1),i.focus();break;case f.CellType.ColumnHeader:case f.CellType.ColumnFooter:s.scrollIntoView(-1,e.col);break;case f.CellType.RowHeader:s.scrollIntoView(e.row,-1)}return}var r=document;s.removeEventListener(r,"mousemove"),s.removeEventListener(r,"mouseup"),s.addEventListener(r,"mousemove",h),s.addEventListener(r,"mouseup",c),o._isDown=!0,o._mousedown(t)}});var h=function(t){o._mousemove(t)},c=function(t){o._isDown=!1,s.removeEventListener(document,"mousemove"),s.removeEventListener(document,"mouseup"),o._mouseup(t)};s.addEventListener(t,"mouseup",function(t){o._tsLast=Date.now()}),s.addEventListener(t,"mouseenter",function(t){s._rcBounds=null}),s.addEventListener(t,"mousemove",this._hover.bind(this)),s.addEventListener(t,"dblclick",this._dblclick.bind(this)),s.addEventListener(t,"click",this._click.bind(this)),s.addEventListener(t,"selectstart",function(t){s._isInputElement(t.target)||t.preventDefault()}),s.addEventListener(t,"wheel",function(t){var i=s.cells.hostElement.parentElement,n=t.deltaY;if(n&&!t.ctrlKey&&!t.metaKey&&i.scrollHeight>i.offsetHeight&&Ot.closest(t.target,".wj-flexgrid")==s.hostElement){switch(t.deltaMode){case 1:i.scrollTop+=s.rows.defaultSize*(n<0?-1:1);break;case 2:i.scrollTop+=i.clientHeight*(n<0?-1:1);break;case 0:default:Ot.isSafari()&&(n=Ot.clamp(n,-150,150)),i.scrollTop+=n}t.preventDefault(),t.stopImmediatePropagation()}}),s.addEventListener(t,"dragstart",this._dragstart.bind(this)),s.addEventListener(t,"dragover",this._dragover.bind(this)),s.addEventListener(t,"dragleave",this._dragover.bind(this)),s.addEventListener(t,"drop",this._drop.bind(this)),s.addEventListener(t,"dragend",this._dragend.bind(this)),this._enableTouchResizing()}return A.prototype.resetMouseState=function(){this._dragSource&&Ot.removeClass(this._dragSource,"wj-state-dragsrc"),this._showDragMarker(null);var t=this._g.hostElement;t&&(t.style.cursor="");var i=this._g;i.removeEventListener(document,"mousemove"),i.removeEventListener(document,"mouseup"),this._tsLast=Date.now(),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null,this._dragSource=null},A.prototype._enableTouchResizing=function(){var n=this,e=this._g,r=e.hostElement,t="ontouchstart"in window?["touchstart","touchmove","touchend"]:"onpointerdown"in window?["pointerdown","pointermove","pointerup"]:null;t&&(e.addEventListener(r,t[0],function(t){if((null==t.pointerType||"touch"==t.pointerType)&&!Ot.closest(t.target,".wj-elem-filter")){var i=Ot.closest(t.target,".wj-cell");i instanceof HTMLElement&&(e._rcBounds=null,n._htDown=null,n._hover(t),n._szRowCol&&(i.removeAttribute("draggable"),r.style.touchAction="none",n._mousedown(t),t.preventDefault()))}}),e.addEventListener(r,t[1],function(t){null!=t.pointerType&&"touch"!=t.pointerType||n._szRowCol&&(n._mousemove(t),t.preventDefault())}),e.addEventListener(r,t[2],function(t){if(Ot.Control._touching=!1,(null==t.pointerType||"touch"==t.pointerType)&&n._szRowCol){if(n._szArgs)n._finishResizing(n._eMouse);else{var i=Ot.closest(t.target,".wj-cell");i instanceof HTMLElement&&i.click()}n.resetMouseState(),r.style.touchAction=""}}))},A.prototype._mousedown=function(t){var i=this._g,n=i.hitTest(t),e=n.cellType,r=t.ctrlKey||t.metaKey,s=t.target;if(this._selDown=i.selection,n.panel==i.cells){if(Ot.closestClass(s,f.CellFactory._WJC_DROPDOWN))return i._edtHdl._toggleListBox(t,n.range),void t.preventDefault();if(i.editRange&&i.editRange.contains(n.range))return}var o=Ot.getActiveElement();if(s!=o||!i._isInputElement(s)){if(e==f.CellType.None)return i.finishEditing(),void(s!=i._root&&s!=i._fCt&&i._edtHdl._commitRowEdits());if(this._htDown=n,this._eMouse=t,null!=this._szRowCol)return o!=i._eFocus&&(i._eFocus.tabIndex=0,i._eFocus.focus()),void this._handleResizing(t);switch(e){case f.CellType.Cell:r&&i.selectionMode==f.SelectionMode.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(t,t.shiftKey);break;case f.CellType.RowHeader:0==(this._g.allowDragging&c.Rows)&&(r&&i.selectionMode==f.SelectionMode.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(t,t.shiftKey),t.preventDefault(),i.focus())}if(e==f.CellType.Cell&&-1<i.rows.maxGroupLevel&&Ot.closestClass(s,f.CellFactory._WJC_COLLAPSE)){var h=Ot.tryCast(i.rows[n.row],f.GroupRow);if(h)return r?i.collapseGroupsToLevel(h.isCollapsed?h.level+1:h.level):h.isCollapsed=!h.isCollapsed,void this.resetMouseState()}}},A.prototype._mousemove=function(t){if(null!=this._htDown){if(0==t.buttons&&this._eMouse&&600<t.timeStamp-this._eMouse.timeStamp)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else switch(this._htDown.cellType){case f.CellType.Cell:this._mouseSelect(t,!0);break;case f.CellType.RowHeader:0==(this._g.allowDragging&c.Rows)&&this._mouseSelect(t,!0)}}},A.prototype._mouseup=function(t){if(!this._g.isTouching||!(this._dragSource||t.target instanceof HTMLHtmlElement)){var i=this._g,n=i.hitTest(t),e=this._htDown,r=f.SelectionMode;if(e&&!t.defaultPrevented)if(this._szArgs)this._finishResizing(t);else if(e.panel!=i.topLeftCells||this._szArgs)e.panel!=i.columnHeaders||t.dataTransfer?e.panel==i.cells&&(t.ctrlKey||t.metaKey||t.shiftKey||n.panel==e.panel&&n.range.equals(e.range)&&i.selection.equals(this._selDown)&&i._edtHdl.startEditing(!0,n.row,n.col,!0,t)):n.panel==e.panel&&n.col==e.col&&!n.edgeRight&&-1<n.col&&this._clickSort(t,n);else if(n.panel==e.panel&&n.row==e.row&&n.col==e.col&&i.rows.length&&i.columns.length)switch(i.selectionMode){case r.CellRange:case r.RowRange:case r.ListBox:i.select(new f.CellRange(0,0,i.rows.length-1,i.columns.length-1))}this.resetMouseState()}},A.prototype._click=function(t){50<Date.now()-this._tsLast&&!t.pointerType&&this._handleClick(t)},A.prototype._handleClick=function(t){var i=this._g,n=t.target,e=new f.HitTestInfo(n,null),r=e.panel;if(!t.defaultPrevented&&e.grid==i&&!i._isInputElement(n))if(r==i.topLeftCells)i.select(new f.CellRange(0,0,i.rows.length-1,i.columns.length-1));else if(r==i.columnHeaders)this._clickSort(t,e);else if(r==i.rowHeaders)i.select(new f.CellRange(e.row,0,e.row,i.columns.length-1));else if(r==i.cells)if(e.row<0)this._clickSort(t,e);else if(Ot.closestClass(n,f.CellFactory._WJC_COLLAPSE)){var s=i.rows[e.row];s instanceof f.GroupRow&&(t.ctrlKey?i.collapseGroupsToLevel(s.isCollapsed?s.level+1:s.level):s.isCollapsed=!s.isCollapsed)}else Ot.closestClass(n,f.CellFactory._WJC_DROPDOWN)?i._edtHdl._toggleListBox(t,e.range):i.select(e.range)},A.prototype._clickSort=function(t,i){var n=this._g,e=n.collectionView,r=t.ctrlKey||t.metaKey;if(e&&e.canSort&&n.allowSorting){i.range.bottomRow;var s=i.panel.columns[i.col],o=n._getBindingColumn(i.panel,i.row,s),h=o?o._getBindingSort():null;if(o.allowSorting&&h){for(var c=i.grid.collectionView.sortDescriptions,a=null,u=0;u<c.length;u++)if(c[u].property==h){a=!c[u].ascending;break}if(null==a){if(r)return;a=!0}var l=new f.CellRangeEventArgs(i.panel,i.range,t);n.onSortingColumn(l)&&(n._edtHdl._commitRowEdits(),r?c.clear():c.splice(0,c.length,new Ot.collections.SortDescription(h,a)),n.onSortedColumn(l))}}},A.prototype._dblclick=function(t){var i,n=this._g,e=n.hitTest(t),r=e.cellType,s=n.selection,o=e.range;if(!t.defaultPrevented)if(e.edgeRight&&n.allowResizing&a.Columns){if(r==f.CellType.ColumnHeader||r==f.CellType.Cell&&4&n.allowResizing){t.preventDefault(),t.ctrlKey&&s.containsColumn(e.col)&&(o=s);for(var h=o.leftCol;h<=o.rightCol;h++)n.columns[h].allowResizing&&(i=new f.CellRangeEventArgs(n.cells,new f.CellRange(-1,h)),n.onAutoSizingColumn(i)&&n.onResizingColumn(i)&&(n.autoSizeColumn(h),n.onResizedColumn(i),n.onAutoSizedColumn(i)))}else r==f.CellType.TopLeft&&e.panel.columns[e.col].allowResizing&&(t.preventDefault(),i=new f.CellRangeEventArgs(e.panel,new f.CellRange(-1,e.col)),n.onAutoSizingColumn(i)&&n.onResizingColumn(i)&&(n.autoSizeColumn(e.col,!0),n.onAutoSizedColumn(i),n.onResizedColumn(i)));this.resetMouseState()}else if(e.edgeBottom&&n.allowResizing&a.Rows){if(r==f.CellType.RowHeader||r==f.CellType.Cell&&4&n.allowResizing){t.ctrlKey&&s.containsRow(e.row)&&(o=s);for(var c=o.topRow;c<=o.bottomRow;c++)n.rows[c].allowResizing&&(i=new f.CellRangeEventArgs(n.cells,new f.CellRange(c,-1)),n.onAutoSizingRow(i)&&n.onResizingRow(i)&&(n.autoSizeRow(c),n.onResizedRow(i),n.onAutoSizedRow(i)))}else r==f.CellType.TopLeft&&e.panel.rows[e.row].allowResizing&&(i=new f.CellRangeEventArgs(e.panel,new f.CellRange(e.row,-1)),n.onAutoSizingRow(i)&&n.onResizingRow(i)&&(n.autoSizeRow(e.row,!0),n.onResizedRow(i),n.onAutoSizedRow(i)));this.resetMouseState()}},A.prototype._hover=function(t){if(!this._isDown){var i=this._g,n=i.hitTest(t),e=(n.panel,n.cellType),r="";return this._szRowCol=null,(e==f.CellType.ColumnHeader||e==f.CellType.TopLeft||e==f.CellType.Cell&&4&i.allowResizing)&&n.edgeRight&&0!=(i.allowResizing&a.Columns)&&(this._szRowCol=this._getResizeCol(n)),(e==f.CellType.RowHeader||e==f.CellType.TopLeft||e==f.CellType.Cell&&4&i.allowResizing)&&n.edgeBottom&&0!=(i.allowResizing&a.Rows)&&(this._szRowCol=this._getResizeRow(n)),this._szRowCol instanceof f.Column?r="col-resize":this._szRowCol instanceof f.Row&&(r="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,i.hostElement.style.cursor=r,n}return null},A.prototype._getResizeCol=function(t){for(var i=t.panel.columns,n=i[t.col],e=t.col+1;e<i.length;e++)if((r=i[e]).visible){r.renderSize<1&&(n=r);break}if(t.col==i.length-1&&(t.cellType==f.CellType.TopLeft||t.cellType==f.CellType.RowHeader))for(i=this._g.columns,e=0;e<i.length;e++){var r;if((r=i[e]).visible){r.renderSize<1&&(n=r);break}}return n.allowResizing?n:null},A.prototype._getResizeRow=function(t){for(var i=t.panel.rows,n=i[t.row],e=t.row+1;e<i.length;e++)if((r=i[e]).visible){r.renderSize<1&&(n=r);break}if(t.row==i.length-1&&(t.cellType==f.CellType.TopLeft||t.cellType==f.CellType.ColumnHeader))for(i=this._g.rows,e=0;e<i.length;e++){var r;if((r=i[e]).visible){r.renderSize<1&&(n=r);break}}return n.allowResizing?n:null},A.prototype._mouseSelect=function(t,i){var n=this,e=this._g;if(t&&this._htDown&&this._htDown.panel&&e.selectionMode!=f.SelectionMode.None){var r=new f.HitTestInfo(this._htDown.panel,t);this._handleSelection(r,i),!Ot.isIE9()&&0<=t.button&&t.target!=e._root&&(r=new f.HitTestInfo(e,t)).cellType!=f.CellType.Cell&&r.cellType!=f.CellType.RowHeader&&this._eMouse&&setTimeout(function(){n._eMouse&&n._mouseSelect(n._eMouse,i)},100)}},A.prototype._handleResizing=function(t){if(t.preventDefault(),this._szRowCol instanceof f.Column){var i=this._g,n=Ot.mouseToPage(t).x,e=Math.round(Math.max(A._SZ_MIN,this._szStart+(n-this._htDown.point.x)*(i.rightToLeft?-1:1)));if(this._szRowCol.renderSize!=e){if(null==this._szArgs){var r=-1<i.rowHeaders.columns.indexOf(this._szRowCol)?i.rowHeaders:i.cells;this._szArgs=new f.CellRangeEventArgs(r,new f.CellRange(-1,this._szRowCol.index))}this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(e):this._szRowCol.width=e)}}if(this._szRowCol instanceof f.Row){i=this._g;var s=Ot.mouseToPage(t).y;e=Math.round(Math.max(A._SZ_MIN,this._szStart+(s-this._htDown.point.y))),this._szRowCol.renderSize!=e&&(null==this._szArgs&&(r=-1<i.columnHeaders.rows.indexOf(this._szRowCol)?i.columnHeaders:i.cells,this._szArgs=new f.CellRangeEventArgs(r,new f.CellRange(this._szRowCol.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(e):this._szRowCol.height=e))}},A.prototype._dragstart=function(t){var i=this._g,n=this._htDown,e=c;if(n){if(this._dragSource=null,this._htDownDrag=null,!this._szRowCol){var r=new f.CellRangeEventArgs(n.panel,n.range);if(n.cellType==f.CellType.ColumnHeader&&i.allowDragging&e.Columns&&-1<n.col&&i.columns[n.col].allowDragging)i.onDraggingColumn(r)?this._dragSource=t.target:t.preventDefault();else if(n.cellType==f.CellType.RowHeader&&i.allowDragging&e.Rows&&-1<n.row&&i.rows[n.row].allowDragging){var s=i.rows[n.row];s instanceof f.GroupRow||s instanceof f._NewRowTemplate||(i.onDraggingRow(r)?this._dragSource=t.target:t.preventDefault())}else n.cellType==f.CellType.TopLeft&&i.allowDragging&e.Columns&&-1<n.col&&i.topLeftCells.columns[n.col].allowDragging&&(i.onDraggingColumn(r)?this._dragSource=t.target:t.preventDefault())}this._dragSource&&t.dataTransfer&&!t.defaultPrevented&&(this._htDownDrag=n,Ot._startDrag(t.dataTransfer,"move"),t.stopPropagation(),Ot.addClass(this._dragSource,"wj-state-dragsrc"),i.beginUpdate(),this._updating=!0)}},A.prototype._dragend=function(t){this._updating&&(this._g.endUpdate(),this._updating=!1),this.resetMouseState()},A.prototype._dragover=function(t){var i=this._g,n=i.hitTest(t),e=this._htDownDrag,r=!1,s=f.CellType,o=new f.CellRangeEventArgs(n.panel,n.range,e);if(e&&n.cellType==e.cellType&&(n.cellType==s.ColumnHeader?(o.cancel=!i.columns.canMoveElement(e.col,n.col),r=i.onDraggingColumnOver(o)):n.cellType==s.RowHeader?(o.cancel=!i.rows.canMoveElement(e.row,n.row),r=i.onDraggingRowOver(o)):n.cellType==s.TopLeft&&(o.cancel=!i.topLeftCells.columns.canMoveElement(e.col,n.col),r=i.onDraggingColumnOver(o))),r?(t.dataTransfer.dropEffect="move",this._showDragMarker(n),t.preventDefault(),t.stopPropagation()):this._showDragMarker(null),e&&i.autoScroll){var h=i._rcBounds,c=i.scrollPosition,a=Ot.Control._DRAG_SCROLL_EDGE,u=Ot.Control._DRAG_SCROLL_STEP;e.panel==i.columnHeaders?(t.pageX-h.left<a&&(c.x+=u),h.right-t.pageX<a&&(c.x-=u)):e.panel==i.rowHeaders&&(t.pageY-h.top<a&&(c.y+=u),h.bottom-t.pageY<a&&(c.y-=u)),c.equals(i._ptScrl)||(i.scrollPosition=c)}},A.prototype._drop=function(t){var i=this._g,n=i.hitTest(t),e=this._htDownDrag,r=f.CellType;if(e&&n.cellType==e.cellType){var s=i.selection,o=new f.CellRangeEventArgs(n.panel,n.range,e);n.cellType==r.ColumnHeader?(i.columns.moveElement(e.col,n.col),i.select(s.row,n.col),i.onDraggedColumn(o)):n.cellType==r.RowHeader?(i.rows.moveElement(e.row,n.row),i.select(n.row,s.col),i.onDraggedRow(o)):n.cellType==r.TopLeft&&(i.topLeftCells.columns.moveElement(e.col,n.col),i.onDraggedColumn(o))}this.resetMouseState()},A.prototype._showResizeMarker=function(t){var i=this._g,n=this._dvMarker,e=i.cells.hostElement;n.parentElement!=e&&e.appendChild(n);var r,s=this._szArgs.panel.cellType,o=f.CellType;this._szRowCol instanceof f.Column?(r={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},i.rightToLeft&&(r.left=e.clientWidth-r.left-r.width),s!=o.TopLeft&&s!=o.RowHeader||(r.left-=i.topLeftCells.hostElement.offsetWidth)):(r={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},s!=o.TopLeft&&s!=o.ColumnHeader||(r.top-=i.topLeftCells.hostElement.offsetHeight)),Ot.setCss(n,r)},A.prototype._showDragMarker=function(t){var i=this._g,n=this._dvMarker;if(!t||!t.panel)return Ot.removeChild(n),void(this._rngTarget=null);if(!t.range.equals(this._rngTarget)){this._rngTarget=t.range;var e=t.panel.hostElement;n.parentElement!=e&&e.appendChild(n);var r=f.CellType,s={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(t.cellType){case r.TopLeft:case r.ColumnHeader:s.height=t.panel.height;var o=t.panel.columns[t.col];s.left=o.pos-s.width/2,t.col>this._htDown.col&&(s.left+=o.renderWidth),i.rightToLeft&&(s.left=n.parentElement.clientWidth-s.left-s.width);break;case r.RowHeader:s.width=t.panel.width;var h=t.panel.rows[t.row];s.top=h.pos-s.height/2,t.row>this._htDown.row&&(s.top+=h.renderHeight)}Ot.setCss(n,s)}},A.prototype._finishResizing=function(t){var i=this._g,n=i.selection,e=this._szArgs,r=this._eMouse&&this._eMouse.ctrlKey,s=f.CellType;if(e&&!e.cancel){if(-1<e.col){var o=e.col,h=Ot.mouseToPage(t).x,c=Math.round(Math.max(A._SZ_MIN,this._szStart+(h-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(e.panel.columns[o].width=Math.round(c),i.onResizedColumn(e),r&&this._htDown.cellType==s.ColumnHeader&&n.containsColumn(o))for(var a=n.leftCol;a<=n.rightCol;a++)i.columns[a].allowResizing&&a!=o&&(e=new f.CellRangeEventArgs(i.cells,new f.CellRange(-1,a)),i.onResizingColumn(e)&&(i.columns[a].size=i.columns[o].size,i.onResizedColumn(e)))}if(-1<e.row){o=e.row;var u=Ot.mouseToPage(t).y;if(c=Math.round(Math.max(A._SZ_MIN,this._szStart+(u-this._htDown.point.y))),e.panel.rows[o].height=Math.round(c),i.onResizedRow(e),r&&this._htDown.cellType==s.RowHeader&&n.containsRow(o))for(var l=n.topRow;l<=n.bottomRow;l++)i.rows[l].allowResizing&&l!=o&&(e=new f.CellRangeEventArgs(i.cells,new f.CellRange(l,-1)),i.onResizingRow(e)&&(i.rows[l].size=i.rows[o].size,i.onResizedRow(e)))}}},A.prototype._startListBoxSelection=function(t){var i=this._g.rows;this._lbSelState=!i[t].isSelected,this._lbSelRows={};for(var n=0;n<i.length;n++)i[n].isSelected&&(this._lbSelRows[n]=!0)},A.prototype._handleSelection=function(t,i){var n=this._g,e=n.rows,r=n._selHdl.selection,s=new f.CellRange(t.row,t.col);if(-1<t.row&&-1<t.col)if(null!=this._lbSelRows){var o=!1;s=new f.CellRange(t.row,t.col,this._htDown.row,this._htDown.col);for(var h=0;h<e.length;h++){var c=s.containsRow(h)?this._lbSelState:null!=this._lbSelRows[h];if(c!=e[h].isSelected){var a=new f.CellRangeEventArgs(n.cells,new f.CellRange(h,r.col,h,r.col2));n.onSelectionChanging(a)&&(e[h]._setFlag(f.RowColFlags.Selected,c,!0),o=!0,n.onSelectionChanged(a))}}o&&n.refreshCells(!1,!0,!0),n.scrollIntoView(t.row,t.col)}else t.cellType==f.CellType.RowHeader&&(s.col=0,s.col2=n.columns.length-1),i&&(s.row2=r.row2,s.col2=r.col2),n.select(s)},A._SZ_MIN=0,A}();f._MouseHandler=e}((Ot=vn||(window.wijmo=vn={})).grid||(Ot.grid={})),Ut=vn||(window.wijmo=vn={}),Nt=Ut.grid||(Ut.grid={}),Tt=function(){function t(r){var s=this;this._fullEdit=!1,this._list=null,this._g=r,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),r.selectionChanging.addHandler(function(t,i){if(s.finishEditing()){var n=r._selHdl.selection.row;if(n!=i.row){var e=r.rows.length;(-1<n&&n<e?r.rows[n].dataItem:null)!=(-1<i.row&&i.row<e?r.rows[i.row].dataItem:null)&&s._commitRowEdits()}}else i.cancel=!0}),r.lostFocus.addHandler(function(){if(!r.containsFocus()){var t=Ut.getActiveElement();t&&"fixed"==getComputedStyle(t).position||s._commitRowEdits()}}),r.addEventListener(r.hostElement,"mousedown",function(t){if(!t.defaultPrevented&&0==t.button&&!r._mouseHdl._szRowCol){r.selection;var i=r.hitTest(t);if(i.cellType!=Nt.CellType.Cell&&i.cellType!=Nt.CellType.None)s.finishEditing();else if(i.cellType!=Nt.CellType.None){var n=Ut.tryCast(t.target,HTMLInputElement);s._isNativeCheckbox(n)&&(n!=s.activeEditor&&(t.preventDefault(),s.startEditing(!1,i.row,i.col,!0,t)&&(n=s.activeEditor)),!n||"checkbox"!=n.type||n.disabled||n.readOnly||(n.checked=!n.checked,n.focus(),s.finishEditing()))}}},!0),r.addEventListener(r.hostElement,"click",function(t){s._isNativeCheckbox(t.target)&&t.preventDefault()})}return t.prototype.startEditing=function(t,i,n,e,r){void 0===t&&(t=!0);var s=this._g;if(i=Ut.asNumber(i,!0,!0),n=Ut.asNumber(n,!0,!0),null==i&&(i=s.selection.row),null==n&&(n=s.selection.col),null==e&&(e=!0),!this._allowEditing(i,n))return!1;var o=s.getMergedRange(s.cells,i,n,!1);o||(o=new Nt.CellRange(i,n));var h=s.rows[i].dataItem;if(s.select(o,!0),!s.rows[i]||h!=s.rows[i].dataItem)return!1;if(o.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing())return!1;var c=new Nt.CellRangeEventArgs(s.cells,o,r);if(!s.onBeginningEdit(c))return!1;var a=s.editableCollectionView,u=!1;a&&((u=(h=s.rows[i].dataItem)!=a.currentEditItem)&&s.onRowEditStarting(c),a.editItem(h),u&&(s.onRowEditStarted(c),this._edItem=h)),this._fullEdit=Ut.asBoolean(t),this._rng=o,this._list=null;var l=s.columns[n].dataMap;l&&(this._list=l.getDisplayValues(h)),o.isSingleCell?this._updateEditorCell(i,n,u):s.refresh(!1);var A=this._edt;if(A){if("checkbox"==A.type)this._fullEdit=!1;else if(e){var f=Ut.culture.Globalize.numberFormat["%"]||"%";if(Ut.isNumber(s.getCellData(i,n,!1))&&-1<A.value.indexOf(f)){for(var d=A.value,g=0,w=d.length;0<w&&d[w-1]==f;)w--;for(;g<w&&d[g]==f;)g++;Ut.setSelectionRange(A,g,w)}else Ut.setSelectionRange(A,0,A.value.length);s._setFocusNoScroll(A)}if(s.onPrepareCellForEdit(c),A.disabled||A.readOnly)return!1}return null!=A&&!A.disabled&&!A.readOnly},t.prototype.finishEditing=function(t){var i=this._edt;if(!i)return this._removeListBox(),!0;var n=this._g,e=this._rng,r=new Nt.CellEditEndingEventArgs(n.cells,e),s=n.containsFocus(),o=n.hostElement.querySelector(".wj-control.wj-state-focused");if(o){var h=Ut.Control.getControl(o);h&&h.onLostFocus(r)}if(!(r.cancel=t)&&n.validateEdits){var c=this._getValidationError();if(c){r.cancel=!0;var a=i.parentElement;a&&(Ut.toggleClass(a,"wj-state-invalid",!0),a.title=c,r.stayInEditMode=!0)}}if(!n.onCellEditEnding(r)&&r.stayInEditMode)return s?setTimeout(function(){i.select()}):i.select(),!1;if(!r.cancel){r.data=n.cells.getCellData(e.topRow,e.leftCol,!1);for(var u=n.cellFactory.getEditorValue(n),l=e.topRow;l<=e.bottomRow&&l<n.rows.length;l++)for(var A=e.leftCol;A<=e.rightCol&&A<n.columns.length;A++)n.cells.setCellData(l,A,u,!0,!1)}this._edt=null,this._rng=null,this._list=null,this._removeListBox();var f=Ut.closest(i,".wj-cell");return Ut.contains(f,Ut.getActiveElement())&&f.focus(),r.cancel||!r.refresh?this._updateEditorCell(e.row,e.col,!1):n.refresh(!1),s&&n.focus(),n.onCellEditEnded(r),!0},Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),t.prototype.getClipString=function(t){var i=this._g,n="",e=!0,r=Nt.SelectionMode;if(!t)switch(t=i.selection,i.selectionMode){case r.Row:case r.RowRange:t.col=0,t.col2=i.columns.length-1;break;case r.ListBox:t.col=0,t.col2=i.columns.length-1;for(var s=0;s<i.rows.length;s++)i.rows[s].isSelected&&i.rows[s].isVisible&&(t.row=t.row2=s,n&&(n+="\n"),n+=this.getClipString(t));return n}for(var o=(t=Ut.asType(t,Nt.CellRange)).topRow;o<=t.bottomRow;o++)if(i.rows[o].isVisible){e||(n+="\n"),e=!1;for(var h=t.leftCol,c=!0;h<=t.rightCol;h++)if(i.columns[h].isVisible){c||(n+="\t"),c=!1;var a=i.cells.getCellData(o,h,!0).toString();-1<(a=a.replace(/\t/g," ")).indexOf("\n")&&(a='"'+a.replace(/"/g,'""')+'"'),n+=a}}return n},t.prototype.setClipString=function(t,h){var c=this,a=this._g,i=null==h,n=Nt.SelectionMode;if(!h)switch(h=a.selection,a.selectionMode){case n.Row:case n.RowRange:case n.ListBox:h.col=0,h.col2=a.columns.length-1}h=Ut.asType(h,Nt.CellRange);var u=this._parseClipString(Ut.asString(t));i&&!h.isSingleCell&&u.length&&this._expandClipRows(u,h);var l=new Nt.CellRange(h.topRow,h.leftCol,h.topRow+u.length-1,h.leftCol+u[0].length-1),A=new Nt.CellRangeEventArgs(a.cells,l);if(!a.onPasting(A))return!1;l=new Nt.CellRange(h.topRow,h.leftCol);var f=a.editableCollectionView,d=h.topRow;a.deferUpdate(function(){f&&f.beginUpdate();for(var t=0;t<u.length&&d<a.rows.length;t++,d++)if(a.rows[d].isVisible)for(var i=u[t],n=h.leftCol,e=0;e<i.length&&n<a.columns.length;e++,n++){var r=a.columns[n];if(r.isVisible){if(c._allowEditing(d,n)){var s=i[e];r.maxLength&&(s=s.substr(0,r.maxLength));var o=new Nt.CellRangeEventArgs(a.cells,new Nt.CellRange(d,n),s);a.onPastingCell(o)&&(f&&(f.editItem(a.rows[d].dataItem),c._edItem=f.currentEditItem),a.cells.setCellData(d,n,o.data)&&a.onPastedCell(o)),l.row2=Math.max(l.row2,d),l.col2=Math.max(l.col2,n)}}else e--}else t--;f&&f.endUpdate(),a.select(l),a.onPasted(A)})},t.prototype._isNativeCheckbox=function(t){return t instanceof HTMLInputElement&&"checkbox"==t.type&&!t.disabled&&!t.readOnly&&Ut.hasClass(t,"wj-cell-check")&&Ut.closest(t,".wj-flexgrid")==this._g.hostElement},t.prototype._parseClipString=function(t){var i=[];t=(t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n+$/g,"");var n=0,e=0;for(n=0;n<t.length;n++){var r='"'==t[n]&&" "<=t[n+1],s=!1,o=!1;for(e=n;e<t.length&&!o;e++){var h=t[e];switch(h){case'"':r&&(s=!s);break;case"\t":case"\n":s||(this._parseClipCell(i,t,n,e,"\n"==h),n=e,o=!0)}}if(e==t.length){this._parseClipCell(i,t,n,t.length,!1);break}}return 0==i.length&&i.push([""]),i},t.prototype._parseClipCell=function(t,i,n,e,r){t.length||t.push([]);var s=i.substr(n,e-n),o=s.length;1<o&&'"'==s[0]&&'"'==s[o-1]&&(s=(s=s.substr(1,o-2)).replace(/""/g,'"')),t[t.length-1].push(s),r&&t.push([])},t.prototype._expandClipRows=function(t,i){for(var n=t.length,e=0,r=0;r<n;r++)e=Math.max(e,t[r].length);for(var s=this._g,o=0,h=0,c=i.topRow;c<=i.bottomRow;c++)s.rows[c].isVisible&&o++;for(var a=i.leftCol;a<=i.rightCol;a++)s.columns[a].isVisible&&h++;if((1<o||1<h)&&(1==o&&(o=n),1==h&&(h=e),h%e==0&&o%n==0)){for(a=e;a<h;a++)for(c=0;c<n;c++)t[c].push(t[c%n][a%e]);for(c=n;c<o;c++)t.push(t[c%n])}},t.prototype._updateEditorCell=function(t,i,n){var e=this._g,r=e.cells.getCellElement(t,i),s=e._useFrozenDiv()&&(t<e.frozenRows||i<e.frozenColumns);if(!r||s||e._hasPendingUpdates())e.refresh(!1);else if(this._updateCell(r),(n=n||e._getHasValidation())&&e.headersVisibility&Nt.HeadersVisibility.Row){var o=e.rowHeaders,h=o.columns.length-1,c=o.getCellElement(t,h);c&&this._updateCell(c)}},t.prototype._updateCell=function(t){var i=new Nt.HitTestInfo(t,null),n=Nt.FlexGrid._WJS_UPDATING;i.panel&&(Ut.addClass(t,n),i.grid.cellFactory.updateCell(i.panel,i.row,i.col,t,i.range),Ut.removeClass(t,n))},t.prototype._getValidationError=function(){var t=this._g;if(t._getHasValidation()){var i=this._rng.row,n=this._rng.col,e=t.cellFactory.getEditorValue(t),r=t.getCellData(i,n,!1);if(t.setCellData(i,n,e,!0,!1)){var s=t._getError(t.cells,i,n);return t.setCellData(i,n,r,!0,!1),s}}return null},t.prototype._allowEditing=function(t,i){var n=this._g;if(n.isReadOnly||n.selectionMode==Nt.SelectionMode.None)return!1;if(t<0||t>=n.rows.length||n.rows[t].isReadOnly||!n.rows[t].isVisible)return!1;if(i<0||i>=n.columns.length)return!1;var e=n._getBindingColumn(n.cells,t,n.columns[i]);return!(!e||e.isReadOnly||!e.isVisible)},t.prototype._commitRowEdits=function(){var t=this._g;if(this.finishEditing()&&this._edItem){var i=t.editableCollectionView;if(i&&(i.currentEditItem||i.currentAddItem)){var n=new Nt.CellRangeEventArgs(t.cells,t.selection);t.onRowEditEnding(n),i.commitEdit(),t.onRowEditEnded(n)}this._edItem=null}},t.prototype._keydown=function(t){var i=this._edt;switch(t.keyCode){case Ut.Key.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case Ut.Key.F4:return this._toggleListBox(t),t.preventDefault(),!0;case Ut.Key.Space:return!i||"checkbox"!=i.type||i.disabled||i.readOnly||(i.checked=!i.checked,this.finishEditing(),t.preventDefault()),!0;case Ut.Key.Enter:if(t.preventDefault(),i&&t.altKey){var n=t.target;if(n instanceof HTMLTextAreaElement&&"soft"==n.wrap){var e=n.value,r=n.selectionStart,s=n.selectionEnd;n.value=e.substr(0,r)+"\n"+e.substr(s),Ut.setSelectionRange(n,r+1)}return!0}return!this.finishEditing();case Ut.Key.Tab:return t.preventDefault(),!this.finishEditing();case Ut.Key.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case Ut.Key.Up:case Ut.Key.Down:case Ut.Key.Left:case Ut.Key.Right:case Ut.Key.PageUp:case Ut.Key.PageDown:case Ut.Key.Home:case Ut.Key.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case Ut.Key.Up:case Ut.Key.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},t.prototype._keydownListBox=function(t){var i=!0;if(this._lbx)switch(t.keyCode){case Ut.Key.Up:t.altKey?this._toggleListBox(t):0<this._lbx.selectedIndex&&this._lbx.selectedIndex--;break;case Ut.Key.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case Ut.Key.Home:case Ut.Key.PageUp:this._lbx.selectedIndex=0;break;case Ut.Key.End:case Ut.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:i=!1}return!!i&&(t.preventDefault(),!0)},t.prototype._keypress=function(t){var i=this._edt;if(i&&"checkbox"!=i.type&&this._list&&0<this._list.length&&32<=t.charCode&&Ut.getActiveElement()==i){var n=i.selectionStart,e=i.value.substr(0,n);t.target==i&&(e+=String.fromCharCode(t.charCode),n++);var r=this._findString(this._list,e,!0);r<0&&(r=this._findString(this._list,e,!1)),-1<r&&(i.value=this._list[r],Ut.setSelectionRange(i,n,i.value.length),i.dispatchEvent(this._evtInput),t.preventDefault())}},t.prototype._findString=function(t,i,n){n||(i=i.toLowerCase());for(var e=0;e<t.length;e++){var r=t[e];if(n||(r=r.toLowerCase()),0==r.indexOf(i))return e}return-1},t.prototype._toggleListBox=function(t,i){var n=this._g,e=n._selHdl.selection;if(i||(i=e),this._lbx&&(this._removeListBox(),e.contains(i)))return n.activeEditor?n.activeEditor.focus():n.containsFocus()||n.focus(),!0;var r=n.isTouching,s=n._getBindingColumn(n.cells,i.row,n.columns[i.col]);return!(!Ut.input||!s.dataMap||!1===s.showDropDown||!Ut.input||!this.startEditing(!0,i.row,i.col,!r,t)||(this._lbx=this._createListBox(),this._lbx.showSelection(),r&&this._lbx.focus(),0))},t.prototype._createListBox=function(){var i=this,n=this._g,t=this._rng,e=n.rows[t.row],r=n._getBindingColumn(n.cells,t.row,n.columns[t.col]),s=document.createElement("div"),o=new Ut.input.ListBox(s);this._removeListBox(),Ut.addClass(s,"wj-dropdown-panel wj-grid-listbox"),o.maxHeight=4*e.renderHeight,o.isContentHtml=r.isContentHtml,o.itemsSource=r.dataMap.getDisplayValues(e.dataItem),o.selectedValue=n.activeEditor?n.activeEditor.value:n.getCellData(t.row,t.col,!0),Ut.addClass(s,r.dropDownCssClass),o.addEventListener(o.hostElement,"click",function(){i._removeListBox(),n.focus(),i.finishEditing()}),o.lostFocus.addHandler(function(){i._removeListBox()}),o.selectedIndexChanged.addHandler(function(){var t=n.activeEditor;t&&(t.value=i._lbx.selectedValue,t.dispatchEvent(i._evtInput),Ut.setSelectionRange(t,0,t.value.length))});var h=n.cells.getCellElement(t.row,t.col);if(h){Ut.showPopup(s,h,!1,!1,!1);var c=h.querySelector("."+Nt.CellFactory._WJC_DROPDOWN);Ut.setAttribute(c,"aria-expanded",!0)}else Ut.showPopup(s,n.getCellBoundingRect(t.row,t.col)),s[Ut.Control._OWNR_KEY]=n.hostElement;return o},t.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,Ut.hidePopup(t.hostElement,function(){t.dispose()}))},t}(),Nt._EditHandler=Tt,Cn=window&&window.__extends||(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}_t(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(c){var t=function(){function t(t){this._nrt=new h,this._g=t,this._keydownBnd=this._keydown.bind(this),this._attach()}return Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){t!=this.newRowAtTop&&(this._top=ii.asBoolean(t),this.updateNewRowTemplate())},enumerable:!0,configurable:!0}),t.prototype.updateNewRowTemplate=function(){var t=this._g,i=t.editableCollectionView,n=t.rows,e=i&&i.canAddNew&&t.allowAddNew&&!t.isReadOnly,r=n.indexOf(this._nrt),s=this._top?0:n.length-1,o=!1;if(!e&&-1<r){var h=t.selection;h.row==r&&t.select(h.row-1,h.col),n.removeAt(r)}else e&&(r<0?o=!0:r!=s&&(n.removeAt(r),o=!0),o&&(this._top?n.insert(0,this._nrt):n.push(this._nrt)),this._nrt&&this._nrt._setFlag(c.RowColFlags.ParentCollapsed,!1))},t.prototype._attach=function(){var t=this._g;t&&(t.beginningEdit.addHandler(this._beginningEdit,this),t.pastingCell.addHandler(this._beginningEdit,this),t.rowEditEnded.addHandler(this._rowEditEnded,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},t.prototype._detach=function(){var t=this._g;t&&(t.beginningEdit.removeHandler(this._beginningEdit),t.pastingCell.removeHandler(this._beginningEdit),t.rowEditEnded.removeHandler(this._rowEditEnded),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},t.prototype._keydown=function(t){t.defaultPrevented||t.keyCode!=ii.Key.Escape||null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},t.prototype._beginningEdit=function(t,i){if(!i.cancel){var n=this._g.rows[i.row];if(ii.tryCast(n,h)){var e=this._g.editableCollectionView;if(e&&e.canAddNew)if(this._top){if(null==this._nrt.dataItem){var r=null,s=e.sourceCollection,o=e.newItemCreator;r=ii.isFunction(o)?o():s&&s.length?new s[0].constructor:{},this._nrt.dataItem=r}}else r=e.currentAddItem&&e.currentAddItem==n.dataItem?e.currentAddItem:e.addNew(),e.moveCurrentTo(r),this.updateNewRowTemplate(),this._g.refresh(!0),this._g.onRowAdded(i),i.cancel&&e.cancelNew()}}},t.prototype._rowEditEnded=function(t,i){var n=this,e=this._g.editableCollectionView,r=this._nrt.dataItem;if(e)if(e.isAddingNew)e.commitNew();else if(r&&!i.cancel){this._nrt.dataItem=null;var s=e.addNew();for(var o in r)s[o]=r[o];this._g.onRowAdded(i),i.cancel?e.cancelNew():e.commitNew(),setTimeout(function(){n._g.select(0,n._g.columns.firstVisibleIndex),n.updateNewRowTemplate()},20)}},t}();c._AddNewHandler=t;var h=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i}(c.Row);c._NewRowTemplate=h}((ii=vn||(window.wijmo=vn={})).grid||(ii.grid={})),$t=(qt=vn||(window.wijmo=vn={})).grid||(qt.grid={}),ti=function(){function e(t){this._compStartBnd=this._compositionstart.bind(this),this._updateImeFocusBnd=this._updateImeFocus.bind(this),this._mouseDownBnd=this._mousedown.bind(this),this._mouseUpBnd=this._mouseup.bind(this),this._g=t,this._tbx=qt.createElement('<textarea class="wj-grid-editor wj-form-control wj-grid-ime"/>'),qt.disableAutoComplete(this._tbx),qt.setCss(this._tbx,e._cssHidden),t.cells.hostElement.parentElement.appendChild(this._tbx),this._updateImeFocus();var i=t.hostElement,n=t.addEventListener.bind(this);n(this._tbx,"compositionstart",this._compStartBnd),n(i,"blur",this._updateImeFocusBnd),n(i,"focus",this._updateImeFocusBnd),n(i,"mousedown",this._mouseDownBnd,!0),n(i,"mouseup",this._mouseUpBnd,!0),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.selectionChanged.addHandler(this._updateImeFocus,this)}return e.prototype.dispose=function(){var t=this._g,i=t.hostElement,n=t.removeEventListener.bind(this);n(this._tbx,"compositionstart",this._compStartBnd),n(i,"blur",this._updateImeFocusBnd),n(i,"focus",this._updateImeFocusBnd),n(i,"mousedown",this._mouseDownBnd),n(i,"mouseup",this._mouseUpBnd),t.cellEditEnded.removeHandler(this._cellEditEnded),t.selectionChanged.removeHandler(this._updateImeFocus),qt.removeChild(this._tbx)},e.prototype._cellEditEnded=function(){qt.setCss(this._tbx,e._cssHidden),this._tbx.value=""},e.prototype._compositionstart=function(){var i=this,t=this._g;if(null==t.activeEditor){var n=t._selHdl.selection;if(t.startEditing(!1,n.row,n.col,!1)){n=t.editRange;var e=t.cells.hostElement,r=t.columns[n.col].pos+e.offsetLeft,s=t.rows[n.row].pos+e.offsetTop,o=t.getCellBoundingRect(n.row,n.col),h=t.cells.getCellElement(n.row,n.col),c=getComputedStyle(h);n.isSingleCell||(o.width=h.offsetWidth,o.height=h.offsetHeight),n.row<t.frozenRows&&(s+=e.parentElement.scrollTop),n.col<t.frozenColumns&&(r+=e.parentElement.scrollLeft);var a=t.activeEditor,u=a&&a.parentElement?a.parentElement.style.zIndex:"";qt.setCss(this._tbx,{position:"absolute",pointerEvents:"",opacity:"",left:r,top:s,paddingLeft:c.paddingLeft,paddingTop:c.paddingTop,width:o.width-1,height:o.height-1,zIndex:u}),a instanceof HTMLInputElement&&"minLength,maxLength,pattern".split(",").forEach(function(t){qt.setAttribute(i._tbx,t,a.getAttribute(t))}),qt.setAttribute(this._tbx,"wrap",a instanceof HTMLTextAreaElement?"soft":"off"),t._edtHdl._edt=this._tbx}}},e.prototype._mousedown=function(t){this._isMouseDown=!0,this._updateImeFocus()},e.prototype._mouseup=function(t){this._isMouseDown=!1,this._updateImeFocus()},e.prototype._updateImeFocus=function(){var t=this._g,i=qt.getActiveElement();if(!t.activeEditor&&!t.isTouching&&!this._isMouseDown&&qt.closest(i,".wj-flexgrid")==t.hostElement){var n=this._tbx;this._enableIme()?i!=n&&(n.disabled=!1,n.select(),n.focus()):n.disabled=!0}},e.prototype._enableIme=function(){var t=this._g,i=t.selection,n=i.isValid?t._getBindingColumn(t.cells,i.row,t.columns[i.col]):null;return!!t.canEditCell(i.row,i.col)&&!(!n||n.dataType==qt.DataType.Boolean)},e._cssHidden={position:"fixed",pointerEvents:"none",opacity:0,left:-10,top:-10,width:0},e}(),$t._ImeHandler=ti,(hi=(oi=vn||(window.wijmo=vn={})).grid||(oi.grid={})).filter||(hi.filter={}),ni=vn||(window.wijmo=vn={}),ri=(ei=ni.grid||(ni.grid={})).filter||(ei.filter={}),si=function(){function t(t){this._maxValues=250,this._sortValues=!0,this._col=t,this._bnd=t.binding?new ni.Binding(t.binding):null}return Object.defineProperty(t.prototype,"showValues",{get:function(){return this._values},set:function(t){this._values=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterText",{get:function(){return this._filterText},set:function(t){this._filterText=ni.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValues",{get:function(){return this._maxValues},set:function(t){this._maxValues=ni.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(t){this._uniqueValues=ni.asArray(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortValues",{get:function(){return this._sortValues},set:function(t){this._sortValues=ni.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=ni.asType(t,ei.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return null!=this._values&&0<Object.keys(this._values).length},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){var i=this.column;return!(this._bnd&&this._values&&Object.keys(this._values).length)||(t=this._bnd.getValue(t),t=this.dataMap?this.dataMap.getDisplayValue(t):i.dataMap?i.dataMap.getDisplayValue(t):ni.Globalize.format(t,i.format),null!=this._values[t])},t.prototype.clear=function(){this.showValues=null,this.filterText=null},t.prototype.implementsInterface=function(t){return"IColumnFilter"==t},t.prototype._getUniqueValues=function(t,i){var n=[];if(this.uniqueValues){for(var e=this.uniqueValues,r=0;r<e.length;r++){var s=e[r];n.push({value:s,text:s.toString()})}return n}var o={},h=t.collectionView,c=h?h.sourceCollection:[];if(i&&h&&h.sourceCollection&&h.filter){var a=this.showValues;this.showValues=null;var u=[];for(r=0;r<c.length;r++)h.filter(c[r])&&u.push(c[r]);c=u,this.showValues=a}for(r=0;r<c.length;r++){s=t._binding.getValue(c[r]);var l=this.dataMap?this.dataMap.getDisplayValue(s):t.dataMap?t.dataMap.getDisplayValue(s):ni.Globalize.format(s,t.format);o[l]||(o[l]=!0,n.push({value:s,text:l}))}return n},t}(),ri.ValueFilter=si,Cn=window&&window.__extends||(ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}ci(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),di=(fi=vn||(window.wijmo=vn={})).grid||(fi.grid={}),gi=di.filter||(di.filter={}),wi=function(h){function t(t,i){var n=h.call(this,t)||this;n._filter=fi.asType(i,gi.ValueFilter,!1);var e=n.getTemplate();n.applyTemplate("wj-control",e,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),n._cbSelectAll.tabIndex=0;var r=fi.culture.FlexGridFilter;if(fi.setText(n._spSelectAll,r.selectAll),n._view=new fi.collections.CollectionView,i.sortValues){var s=i.column.dataMap||i.dataMap?"text":"value",o=i.column.dataType!=fi.DataType.Boolean;n._view.sortDescriptions.push(new fi.collections.SortDescription(s,o))}return n._view.filter=n._filterValues.bind(n),n._view.collectionChanged.addHandler(n._updateSelectAllCheck,n),n._filterText="",n._cmbFilter=new fi.input.ComboBox(n._divFilter,{placeholder:r.search}),n._lbValues=new fi.input.ListBox(n._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:n._view,itemFormatter:function(t,i){return i||r.null},gotFocus:function(t,i){t.selectedIndex<0&&(t.selectedIndex=0)}}),fi.setAriaLabel(n._cmbFilter.inputElement,r.ariaLabels.search),n._cmbFilter.textChanged.addHandler(n._filterTextChanged,n),n._cbSelectAll.addEventListener("click",n._cbSelectAllClicked.bind(n)),n.updateEditor(),n}return Cn(t,h),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var t=this,i=this._filter.column,n=this._filter._getUniqueValues(i,!0);this._lbValues.isContentHtml=i.isContentHtml;var e=this._filter.showValues;if(e&&0!=Object.keys(e).length){for(var r in e)for(s=0;s<n.length;s++)if(n[s].text==r){n[s].show=!0;break}}else for(var s=0;s<n.length;s++)n[s].show=!0;this._view.pageSize=20,this._view.sourceCollection=n,this._view.moveCurrentTo(null),setTimeout(function(){t._view.pageSize=t._filter.maxValues,t._cmbFilter.text=t._filter.filterText,t._filterText=t._cmbFilter.text.toLowerCase()})},t.prototype.clearEditor=function(){this._cmbFilter.text="",this._filterText="",this._view.pageSize=0,this._view.refresh();for(var t=this._view.items,i=0;i<t.length;i++)t[i].show=!1;this._view.pageSize=this._filter.maxValues},t.prototype.updateFilter=function(){var t=null,i=this._view.items;if(this._filterText||this._cbSelectAll.indeterminate){t={};for(var n=0;n<i.length;n++){var e=i[n];e.show&&(t[e.text]=!0)}}this._filter.showValues=t,this._filter.filterText=""},t.prototype._filterTextChanged=function(){var n=this;this._toText&&clearTimeout(this._toText),this._toText=setTimeout(function(){var t=n._cmbFilter.text.toLowerCase(),i=t!=n._filterText;n._filterText=t,n._view.refresh(),i&&(n._cbSelectAll.checked=!0,n._cbSelectAllClicked())},300)},t.prototype._filterValues=function(t){return!this._filterText||!(!t||!t.text)&&-1<t.text.toLowerCase().indexOf(this._filterText)},t.prototype._cbSelectAllClicked=function(){for(var t=this._cbSelectAll.checked,i=this._view.items,n=0;n<i.length;n++)i[n].show=t;this._view.refresh()},t.prototype._updateSelectAllCheck=function(){for(var t=0,i=this._view.items,n=0;n<i.length;n++)i[n].show&&t++;0==t?(this._cbSelectAll.checked=!1,this._cbSelectAll.indeterminate=!1):t==i.length?(this._cbSelectAll.checked=!0,this._cbSelectAll.indeterminate=!1):this._cbSelectAll.indeterminate=!0},t.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',t}(fi.Control),gi.ValueFilterEditor=wi,ai=vn||(window.wijmo=vn={}),ui=ai.grid||(ai.grid={}),li=ui.filter||(ui.filter={}),Ai=function(){function t(t){this._c1=new li.FilterCondition(this),this._c2=new li.FilterCondition(this),this._and=!0,this._col=t,this._bnd=t.binding?new ai.Binding(t.binding):null}return Object.defineProperty(t.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"and",{get:function(){return this._and},set:function(t){this._and=ai.asBoolean(t),this._bnd=this._col&&this._col.binding?new ai.Binding(this._col.binding):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=ai.asType(t,ui.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){var i=this._col,n=this._c1,e=this._c2;if(!this._bnd||!this.isActive)return!0;t=this._bnd.getValue(t),i.dataMap?t=i.dataMap.getDisplayValue(t):ai.isDate(t)?(ai.isString(n.value)||ai.isString(e.value))&&(t=ai.Globalize.format(t,i.format)):ai.isNumber(t)&&(t=ai.Globalize.parseFloat(ai.Globalize.format(t,i.format)));var r=n.apply(t),s=e.apply(t);return n.isActive&&e.isActive?this._and?r&&s:r||s:n.isActive?r:!e.isActive||s},t.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},t.prototype.implementsInterface=function(t){return"IColumnFilter"==t},t}(),li.ConditionFilter=Ai,Cn=window&&window.__extends||(mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}mi(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),yi=(Fi=vn||(window.wijmo=vn={})).grid||(Fi.grid={}),Ri=yi.filter||(yi.filter={}),xi=function(h){function t(t,i){var n=h.call(this,t)||this;n._filter=Fi.asType(i,Ri.ConditionFilter,!1);var e=n.getTemplate();n.applyTemplate("wj-control",e,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var r=Fi.culture.FlexGridFilter,s=r.ariaLabels;Fi.setAriaLabel(n._btnAnd,s.and),Fi.setAriaLabel(n._btnOr,s.or),Fi.setText(n._divHdr,r.header),Fi.setText(n._spAnd,r.and),Fi.setText(n._spOr,r.or),n._cmb1=n._createOperatorCombo(n._divCmb1,s.op1),n._cmb2=n._createOperatorCombo(n._divCmb2,s.op2),n._val1=n._createValueInput(n._divVal1,s.val1),n._val2=n._createValueInput(n._divVal2,s.val2);var o=n.hostElement;return n.addEventListener(o,"change",n._btnAndOrChanged.bind(n)),n.addEventListener(o,"keydown",n._keydown.bind(n)),n.updateEditor(),n}return Cn(t,h),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var t=this._filter.condition1,i=this._filter.condition2;this._cmb1.selectedValue=t.operator,this._cmb2.selectedValue=i.operator,this._val1 instanceof Fi.input.ComboBox?(this._val1.text=Fi.changeType(t.value,Fi.DataType.String,null),this._val2.text=Fi.changeType(i.value,Fi.DataType.String,null)):(this._val1.value=t.value,this._val2.value=i.value);var n=this._filter.and;this._checkRadio(this._btnAnd,n),this._checkRadio(this._btnOr,!n)},t.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},t.prototype.updateFilter=function(){var t=this._filter.column,i=this._filter.condition1,n=this._filter.condition2;if(i.operator=this._cmb1.selectedValue,n.operator=this._cmb2.selectedValue,this._val1 instanceof Fi.input.ComboBox){var e=t.dataType==Fi.DataType.Date?Fi.DataType.String:t.dataType;i.value=Fi.changeType(this._val1.text,e,t.format),n.value=Fi.changeType(this._val2.text,e,t.format)}else i.value=this._val1.value,n.value=this._val2.value;this._filter.and=this._btnAnd.checked},t.prototype._createOperatorCombo=function(t,i){var n=this._filter.column,e=Fi.culture.FlexGridFilter,r=e.stringOperators,s=this._filter.dataMap||n.dataMap,o=Fi.DataType;n.dataType==o.Date&&this._hasDatePart(n.format)?r=e.dateOperators:n.dataType!=o.Number||s?n.dataType!=o.Boolean||s||(r=e.booleanOperators):r=e.numberOperators;var h=new Fi.input.ComboBox(t,{itemsSource:r,displayMemberPath:"name",selectedValuePath:"op"});return Fi.setAriaLabel(h.inputElement,i),h},t.prototype._createValueInput=function(t,i){var n=this._filter.column,e=this._filter.dataMap||n.dataMap,r=null,s=Fi.DataType;return n.dataType==s.Date&&this._hasDatePart(n.format)?(r=this._hasTimePart(n.format)?new Fi.input.InputDateTime(t):new Fi.input.InputDate(t)).format=n.format:n.dataType!=s.Number||e?(r=new Fi.input.ComboBox(t),e?(r.itemsSource=e.getDisplayValues(),r.isEditable=!0):n.dataType==s.Boolean&&(r.itemsSource=[!0,!1])):(r=new Fi.input.InputNumber(t)).format=n.format,r.isRequired=!1,Fi.setAriaLabel(r.inputElement,i),r},t.prototype._hasDatePart=function(t){return!t||(t=Fi.culture.Globalize.calendar.patterns[t]||t,/[yMd]+/.test(t))},t.prototype._hasTimePart=function(t){return!!t&&(t=Fi.culture.Globalize.calendar.patterns[t]||t,/[Hmst]+/.test(t))},t.prototype._btnAndOrChanged=function(t){var i=t.target==this._btnAnd,n=t.target==this._btnOr;(i||n)&&(this._checkRadio(this._btnAnd,i),this._checkRadio(this._btnOr,n))},t.prototype._checkRadio=function(t,i){t.checked=i,t.setAttribute("aria-checked",i.toString()),t.setAttribute("tabindex",i?"1":"-1")},t.prototype._keydown=function(t){var i=t.target==this._btnAnd,n=t.target==this._btnOr;if(i||n)switch(t.keyCode){case Fi.Key.Left:case Fi.Key.Right:case Fi.Key.Up:case Fi.Key.Down:var e=i?this._btnOr:this._btnAnd;e.click(),e.focus(),t.preventDefault()}},t.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',t}(Fi.Control),Ri.ConditionFilterEditor=xi,Ci=(ji=(Bi=vn||(window.wijmo=vn={})).grid||(Bi.grid={})).filter||(ji.filter={}),Mi=function(){function t(t){this._op=null,this._filter=t}return Object.defineProperty(t.prototype,"operator",{get:function(){return this._op},set:function(t){this._op=Bi.asEnum(t,Ii,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._val},set:function(t){if(this._val=t,this._strVal=Bi.isString(t)?t.toString().toLowerCase():null,this._mapVal=null,this._filter){var i=this._filter.dataMap||this._filter.column.dataMap;i&&(this._mapVal=i.getDisplayValue(t),Bi.isString(this._mapVal)&&(this._strVal=this._mapVal=this._mapVal.toLowerCase()))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case Ii.EQ:case Ii.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.operator=null,this.value=null},t.prototype.apply=function(t){var i=this._mapVal||this._strVal||this._val;switch(Bi.isString(t)&&(t=t.toLowerCase()),Bi.isString(i)&&null==t&&(t=""),this._op){case null:return!0;case Ii.EQ:return Bi.isDate(t)&&Bi.isDate(i)?Bi.DateTime.sameDate(t,i):t==i;case Ii.NE:return t!=i;case Ii.GT:return i<t;case Ii.GE:return i<=t;case Ii.LT:return t<i;case Ii.LE:return t<=i;case Ii.BW:return!(!this._strVal||!Bi.isString(t))&&0==t.indexOf(this._strVal);case Ii.EW:return!!(this._strVal&&Bi.isString(t)&&t.length>=this._strVal.length)&&t.substr(t.length-this._strVal.length)==i;case Ii.CT:return!(!this._strVal||!Bi.isString(t))&&-1<t.indexOf(this._strVal);case Ii.NC:return!(!this._strVal||!Bi.isString(t))&&t.indexOf(this._strVal)<0}throw"Unknown operator"},t}(),Ci.FilterCondition=Mi,(Qi=Ii=Ci.Operator||(Ci.Operator={}))[Qi.EQ=0]="EQ",Qi[Qi.NE=1]="NE",Qi[Qi.GT=2]="GT",Qi[Qi.GE=3]="GE",Qi[Qi.LT=4]="LT",Qi[Qi.LE=5]="LE",Qi[Qi.BW=6]="BW",Qi[Qi.EW=7]="EW",Qi[Qi.CT=8]="CT",Qi[Qi.NC=9]="NC",vi=(bi=vn||(window.wijmo=vn={})).grid||(bi.grid={}),pi=vi.filter||(vi.filter={}),Ei=function(){function t(t,i){this._owner=t,this._col=i,this._valueFilter=new pi.ValueFilter(i),this._conditionFilter=new pi.ConditionFilter(i)}return Object.defineProperty(t.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(t){if((t=bi.asEnum(t,pi.FilterType,!0))!=this._filterType){var i=this.isActive;this.clear(),this._filterType=t,i?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(t){this.conditionFilter.dataMap=t,this.valueFilter.dataMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){return this._conditionFilter.apply(t)&&this._valueFilter.apply(t)},t.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},t.prototype.implementsInterface=function(t){return"IColumnFilter"==t},t}(),pi.ColumnFilter=Ei,Cn=window&&window.__extends||(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}ki(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Di=vn||(window.wijmo=vn={}),function(f){Di.culture.FlexGridFilter=window.wijmo.culture.FlexGridFilter||{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:" Ascending",descending:" Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:f.Operator.EQ},{name:"Does not equal",op:f.Operator.NE},{name:"Begins with",op:f.Operator.BW},{name:"Ends with",op:f.Operator.EW},{name:"Contains",op:f.Operator.CT},{name:"Does not contain",op:f.Operator.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:f.Operator.EQ},{name:"Does not equal",op:f.Operator.NE},{name:"Is Greater than",op:f.Operator.GT},{name:"Is Greater than or equal to",op:f.Operator.GE},{name:"Is Less than",op:f.Operator.LT},{name:"Is Less than or equal to",op:f.Operator.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:f.Operator.EQ},{name:"Is Before",op:f.Operator.LT},{name:"Is After",op:f.Operator.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:f.Operator.EQ},{name:"Does not equal",op:f.Operator.NE}]};var t=function(A){function t(t,i,n){void 0===n&&(n=!0);var e=A.call(this,t,null,!0)||this;e.filterChanged=new Di.Event,e.buttonClicked=new Di.Event,e._filter=Di.asType(i,f.ColumnFilter);var r=e.getTemplate();e.applyTemplate("wj-control wj-content wj-columnfiltereditor",r,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var s=Di.culture.FlexGridFilter,o=s.ariaLabels,h=e.hostElement,c=e.filter.column,a=c.grid.collectionView;Di.setAttribute(h,"role","dialog"),Di.setAriaLabel(h,o.dialog+" "+c.header),Di.setAriaLabel(e._btnAsc,o.asc),Di.setAriaLabel(e._btnDsc,o.dsc),Di.setText(e._btnAsc,s.ascending),Di.setText(e._btnDsc,s.descending),Di.setText(e._aVal,s.values),Di.setText(e._aCnd,s.conditions),Di.setText(e._btnApply,s.apply),Di.setText(e._btnCancel,s.cancel),Di.setText(e._btnClear,s.clear);var u=e.filter.conditionFilter.isActive||0==(i.filterType&f.FilterType.Value)?f.FilterType.Condition:f.FilterType.Value;e._showFilter(u),n&&a&&a.canSort||(e._divSort.style.display="none");var l=e._btnClicked.bind(e);return e._btnApply.addEventListener("click",l),e._btnCancel.addEventListener("click",l),e._btnClear.addEventListener("click",l),e._btnAsc.addEventListener("click",l),e._btnDsc.addEventListener("click",l),e._aVal.addEventListener("click",l),e._aCnd.addEventListener("click",l),h.addEventListener("keydown",function(t){if(!t.defaultPrevented){var i=t.target.tagName.match(/^(a|button)$/i);switch(t.keyCode){case Di.Key.Space:i&&(e._btnClicked(t),t.preventDefault());break;case Di.Key.Enter:i?e._btnClicked(t):(e.updateFilter(),e.onFilterChanged(),e.onButtonClicked()),t.preventDefault();break;case Di.Key.Escape:e.onButtonClicked(),t.preventDefault();break;case Di.Key.Tab:Di.moveFocus(e.hostElement,t.shiftKey?-1:1),t.preventDefault()}}}),e}return Cn(t,A),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},t.prototype.updateFilter=function(){switch(this._getFilterType()){case f.FilterType.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case f.FilterType.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},t.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},t.prototype.onButtonClicked=function(t){this.buttonClicked.raise(this,t)},t.prototype._handleResize=function(){this.isTouching||this._wasTouching||this.onButtonClicked()},t.prototype._showFilter=function(t){switch(this._wasTouching=this.isTouching,t==f.FilterType.Value&&null==this._edtVal&&(this._edtVal=new f.ValueFilterEditor(this._divEdtVal,this.filter.valueFilter)),t==f.FilterType.Condition&&null==this._edtCnd&&(this._edtCnd=new f.ConditionFilterEditor(this._divEdtCnd,this.filter.conditionFilter)),0!=(t&this.filter.filterType)&&(t==f.FilterType.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus()):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus())),this.filter.filterType){case f.FilterType.None:case f.FilterType.Condition:case f.FilterType.Value:this._divType.style.display="none";break;default:this._divType.style.display=""}},t.prototype._enableLink=function(t,i){Di.toggleClass(t,"wj-state-disabled",!i),Di.setAttribute(t,"href",i?"":null),Di.setAttribute(t,"disabled",i?null:"disabled")},t.prototype._getFilterType=function(){var t=Ui.filter.FilterType;return"none"!=this._divEdtVal.style.display?t.Value:t.Condition},t.prototype._btnClicked=function(t){if(t.preventDefault(),t.stopPropagation(),!Di.hasClass(t.target,"wj-state-disabled")){if(t.target==this._aVal)return this._showFilter(f.FilterType.Value),void Di.moveFocus(this._edtVal.hostElement,0);if(t.target==this._aCnd)return this._showFilter(f.FilterType.Condition),void Di.moveFocus(this._edtCnd.hostElement,0);if(t.target==this._btnAsc||t.target==this._btnDsc){var i=this.filter.column,n=i.sortMemberPath?i.sortMemberPath:i.binding,e=i.grid.collectionView,r=new Di.collections.SortDescription(n,t.target==this._btnAsc);e.sortDescriptions.deferUpdate(function(){e.sortDescriptions.clear(),e.sortDescriptions.push(r)})}t.target==this._btnApply?(this.updateFilter(),this.onFilterChanged()):t.target==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}},t.controlTemplate='<div><div wj-part="div-sort"><button wj-part="btn-asc" class="wj-btn" style="min-width:95px"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn" style="min-width:95px"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div>',t}(Di.Control);f.ColumnFilterEditor=t}((Ui=Di.grid||(Di.grid={})).filter||(Ui.filter={})),Si=vn||(window.wijmo=vn={}),function(w){var c,t;(t=c=w.FilterType||(w.FilterType={}))[t.None=0]="None",t[t.Condition=1]="Condition",t[t.Value=2]="Value",t[t.Both=3]="Both";var i=function(){function o(t,i){this._showIcons=!0,this._showSort=!0,this._defFilterType=c.Both,this.filterApplied=new Si.Event,this.filterChanging=new Si.Event,this.filterChanged=new Si.Event;var n="Missing dependency: FlexGridFilter requires ";Si.assert(null!=Si.grid,n+"wijmo.grid."),Si.assert(null!=Si.input,n+"wijmo.input."),this._filters=[],this._g=Si.asType(t,Yi.FlexGrid,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var e=this._g.hostElement;t.addEventListener(e,"mousedown",this._mousedown.bind(this),!0),t.addEventListener(e,"click",this._click.bind(this),!0),t.addEventListener(e,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),i&&Si.copy(this,i)}return Object.defineProperty(o.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(t){this._filterColumns=Si.asArray(t),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(t){t!=this.showFilterIcons&&(this._showIcons=Si.asBoolean(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(t){this._showSort=Si.asBoolean(t)},enumerable:!0,configurable:!0}),o.prototype.getColumnFilter=function(t,i){void 0===i&&(i=!0),t=this._asColumn(t);for(var n=0;n<this._filters.length;n++)if(this._filters[n].column==t)return this._filters[n];if(i&&t.binding){var e=new w.ColumnFilter(this,t);return this._filters.push(e),e}return null},Object.defineProperty(o.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(t){(t=Si.asEnum(t,c,!1))!=this.defaultFilterType&&(this._defFilterType=t,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filterDefinition",{get:function(){for(var t={defaultFilterType:this.defaultFilterType,filters:[]},i=0;i<this._filters.length;i++){var n=this._filters[i];if(n&&n.column&&n.column.binding)if(n.conditionFilter.isActive){var e=n.conditionFilter;t.filters.push({binding:n.column.binding,type:"condition",condition1:{operator:e.condition1.operator,value:e.condition1.value},and:e.and,condition2:{operator:e.condition2.operator,value:e.condition2.value}})}else if(n.valueFilter.isActive){var r=n.valueFilter;t.filters.push({binding:n.column.binding,type:"value",filterText:r.filterText,showValues:r.showValues})}}return JSON.stringify(t)},set:function(t){if(t=Si.asString(t),this.clear(),t){var i=JSON.parse(t);this.defaultFilterType=i.defaultFilterType;for(var n=0;n<i.filters.length;n++){var e=i.filters[n],r=this._g.getColumn(e.binding),s=this.getColumnFilter(r,!0);if(s)switch(e.type){case"condition":var o=s.conditionFilter;o.condition1.value=r.dataType==Si.DataType.Date?Si.changeType(e.condition1.value,r.dataType,null):e.condition1.value,o.condition1.operator=e.condition1.operator,o.and=e.and,o.condition2.value=r.dataType==Si.DataType.Date?Si.changeType(e.condition2.value,r.dataType,null):e.condition2.value,o.condition2.operator=e.condition2.operator;break;case"value":var h=s.valueFilter;h.filterText=e.filterText,h.showValues=e.showValues}}}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"activeEditor",{get:function(){return Si.Control.getControl(this._divEdt)},enumerable:!0,configurable:!0}),o.prototype.editColumnFilter=function(t,i){var n=this;this.closeEditor(),t=this._asColumn(t);var e=document.createElement("div"),r=this.getColumnFilter(t),s=new w.ColumnFilterEditor(e,r,this.showSortButtons);Si.addClass(e,"wj-dropdown-panel"),this._divEdt=e,this._edtCol=t;var o=new Yi.CellRangeEventArgs(this._g.cells,new Yi.CellRange(-1,t.index));if(this.onFilterChanging(o)){o.cancel=!0,this._g.rightToLeft&&(e.dir="rtl"),s.filterChanged.addHandler(function(){o.cancel=!1,setTimeout(function(){o.cancel||n.apply()})}),s.buttonClicked.addHandler(function(){n.closeEditor(),n._g.focus(),n.onFilterChanged(o)}),s.lostFocus.addHandler(function(){setTimeout(function(){var t=Si.Control.getControl(n._divEdt);t&&!t.containsFocus()&&n.closeEditor()},10)});var h=this._g;h._edtHdl._commitRowEdits(),h.scrollIntoView(-1,t.index,!0);var c=this._g.columnHeaders,a=i&&i.panel==c?i.row:c.rows.length-1,u=i?i.col:t.index,l=c.getCellBoundingRect(a,u),A=c.getCellElement(a,u);A?Si.showPopup(e,A,!1,!1,!1):Si.showPopup(e,l),this._setAriaExpanded(A,!0),this._setAriaExpanded(h.cells.getCellElement(-1,u),!0);for(var f=s.hostElement.querySelectorAll("input"),d=0;d<f.length;d++){var g=f[d];if(0<g.offsetHeight&&-1<g.tabIndex&&!g.disabled){g.focus();break}}s.containsFocus()||s.focus()}else this._divEdt=this._edtCol=null},o.prototype._setAriaExpanded=function(t,i){if(t){var n=t.querySelector("."+o._WJC_FILTER);Si.setAttribute(n,"aria-expanded",i)}},o.prototype.closeEditor=function(){var t=this._g,i=Si.Control.getControl(this._divEdt),n=this._edtCol;if(i&&Si.hidePopup(i.hostElement,function(){i.dispose()}),n){var e=t.columnHeaders,r=e.rows.length?e.getCellElement(e.rows.length-1,n.index):null;this._setAriaExpanded(r,!1),r=t.cells.getCellElement(-1,n.index),this._setAriaExpanded(r,!1)}this._divEdt=null,this._edtCol=null},o.prototype.apply=function(){var t=this._g.collectionView;if(t){var i=this._g.editableCollectionView;i&&(i.commitEdit(),i.commitNew()),t.filter=this._filter.bind(this)}var n=t?t.updateFilterDefinition:null;Si.isFunction(n)&&n.call(t,this),this.onFilterApplied()},o.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},o.prototype.onFilterApplied=function(t){this.filterApplied.raise(this,t)},o.prototype.onFilterChanging=function(t){return this.filterChanging.raise(this,t),!t.cancel},o.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},o.prototype._asColumn=function(t){return Si.isString(t)?this._g.getColumn(t):Si.isNumber(t)?this._g.columns[t]:Si.asType(t,Yi.Column,!1)},o.prototype._filter=function(t){for(var i=0;i<this._filters.length;i++)if(!this._filters[i].apply(t))return!1;return!0},o.prototype._formatItem=function(t,i){if(i.panel==t.columnHeaders){var n=this._g,e=n.getMergedRange(i.panel,i.row,i.col)||new Yi.CellRange(i.row,i.col),r=n.columns[e.col],s=n._getBindingColumn(i.panel,i.row,r),o=i.cell;if(e.row2==i.panel.rows.length-1||r!=s){var h=this.getColumnFilter(s,this.defaultFilterType!=c.None);this._filterColumns&&this._filterColumns.indexOf(s.binding)<0&&(h=null),h?(Si.toggleClass(o,"wj-filter-on",h.isActive),Si.toggleClass(o,"wj-filter-off",!h.isActive)):(Si.removeClass(o,"wj-filter-on"),Si.removeClass(o,"wj-filter-off")),h&&h.filterType!=c.None&&(this._showIcons&&this._addFilterButton(s,h,o),0==i.row&&(o=n.cells.getCellElement(-1,i.col))&&this._addFilterButton(r,h,o))}}},o.prototype._addFilterButton=function(t,i,n){var e=o._WJC_FILTER,r=Si.createElement('<button class="wj-btn wj-btn-glyph wj-right '+e+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');Si.setAriaLabel(r,Si.culture.FlexGridFilter.ariaLabels.edit+" "+t.header),Si.setAttribute(r,"aria-haspopup","dialog"),Si.setAttribute(r,"aria-expanded",!1),Si.setAttribute(r,"aria-describedby",t.describedById),Si.setAttribute(r,"aria-pressed",i.isActive),(n=n.querySelector("div")||n).querySelector("."+e)||n.appendChild(r)},o.prototype._mousedown=function(t){this._toggleEditor(t)&&(this._tmd=!0,t.stopPropagation(),t.preventDefault())},o.prototype._click=function(t){(this._tmd||this._toggleEditor(t))&&(t.stopPropagation(),t.preventDefault()),this._tmd=!1},o.prototype._toggleEditor=function(t){var i=this;if(this._tmd=!1,!t.defaultPrevented&&0==t.button)if(Si.closestClass(t.target,o._WJC_FILTER)){var n=this._g,e=n.hitTest(t.target);if(e.panel||(e=n.hitTest(t)),e.panel==n.columnHeaders||e.panel==n.cells&&-1==e.row){var r=n.columns[e.col],s=n._getBindingColumn(e.panel,e.row,r);return this._divEdt&&this._edtCol==s?(this.closeEditor(),n.focus()):setTimeout(function(){i.editColumnFilter(s,e)},this._divEdt?100:0),!0}}else this.closeEditor();return!1},o.prototype._keydown=function(t){if(!t.defaultPrevented&&!t.ctrlKey&&t.altKey&&(t.keyCode==Si.Key.Down||t.keyCode==Si.Key.Up)){var i=this.grid.selection,n=-1<i.col?this.grid.columns[i.col]:null;n&&!n.dataMap&&this.getColumnFilter(n,!0)&&(this.editColumnFilter(n),t.preventDefault(),t.stopPropagation())}},o._WJC_FILTER="wj-elem-filter",o}();w.FlexGridFilter=i}((Yi=Si.grid||(Si.grid={})).filter||(Yi.filter={})),function(t){var i=function(){function t(){}return t.CreateProp=function(t,i,n,e,r,s){return new o(t,i,n,e,r,s)},t.CreateEvent=function(t,i){return new h(t,i)},t.CreateComplexProp=function(t,i,n){return new c(t,i,n)},t.findProp=function(t,i){return this.findInArr(i,"propertyName",t)},t.findEvent=function(t,i){return this.findInArr(i,"eventName",t)},t.findComplexProp=function(t,i){return this.findInArr(i,"propertyName",t)},t.getMetaData=function(t){switch(t){case Ni.Control:return new a([this.CreateProp("isDisabled",r.Boolean)],[this.CreateEvent("gotFocus"),this.CreateEvent("lostFocus")]);case Ni.input&&Ni.input.DropDown:return this.getMetaData(Ni.Control).add([this.CreateProp("isDroppedDown",r.Boolean,"isDroppedDownChanged"),this.CreateProp("showDropDownButton",r.Boolean),this.CreateProp("autoExpandSelection",r.Boolean),this.CreateProp("placeholder",r.String),this.CreateProp("dropDownCssClass",r.String),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("isRequired",r.Boolean),this.CreateProp("text",r.String,"textChanged",null,!0,1e3)],[this.CreateEvent("isDroppedDownChanging"),this.CreateEvent("isDroppedDownChanged",!0),this.CreateEvent("textChanged",!0)]);case Ni.input&&Ni.input.ComboBox:return this.getMetaData(Ni.input.DropDown).add([this.CreateProp("displayMemberPath",r.String),this.CreateProp("selectedValuePath",r.String),this.CreateProp("headerPath",r.String),this.CreateProp("isContentHtml",r.Boolean),this.CreateProp("isEditable",r.Boolean),this.CreateProp("maxDropDownHeight",r.Number),this.CreateProp("maxDropDownWidth",r.Number),this.CreateProp("itemFormatter",r.Function),this.CreateProp("itemsSource",r.Any,"",null,!0,900),this.CreateProp("selectedIndex",r.Number,"selectedIndexChanged",null,!0,1e3),this.CreateProp("selectedItem",r.Any,"selectedIndexChanged",null,!0,1e3),this.CreateProp("selectedValue",r.Any,"selectedIndexChanged",null,!0,1e3)],[this.CreateEvent("formatItem"),this.CreateEvent("selectedIndexChanged",!0)]).addOptions({ngModelProperty:"selectedValue"});case Ni.input&&Ni.input.AutoComplete:return this.getMetaData(Ni.input.ComboBox).add([this.CreateProp("delay",r.Number),this.CreateProp("maxItems",r.Number),this.CreateProp("minLength",r.Number),this.CreateProp("cssMatch",r.String),this.CreateProp("itemsSourceFunction",r.Function),this.CreateProp("searchMemberPath",r.String)]);case Ni.input&&Ni.input.Calendar:return this.getMetaData(Ni.Control).add([this.CreateProp("monthView",r.Boolean),this.CreateProp("showHeader",r.Boolean),this.CreateProp("itemFormatter",r.Function),this.CreateProp("itemValidator",r.Function),this.CreateProp("firstDayOfWeek",r.Number),this.CreateProp("max",r.Date),this.CreateProp("min",r.Date),this.CreateProp("formatYearMonth",r.String),this.CreateProp("formatDayHeaders",r.String),this.CreateProp("formatDays",r.String),this.CreateProp("formatYear",r.String),this.CreateProp("formatMonths",r.String),this.CreateProp("selectionMode",r.Enum,"",Ni.input.DateSelectionMode),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("value",r.Date,"valueChanged"),this.CreateProp("displayMonth",r.Date,"displayMonthChanged")],[this.CreateEvent("valueChanged",!0),this.CreateEvent("displayMonthChanged",!0),this.CreateEvent("formatItem",!1)]).addOptions({ngModelProperty:"value"});case Ni.input&&Ni.input.ColorPicker:return this.getMetaData(Ni.Control).add([this.CreateProp("showAlphaChannel",r.Boolean),this.CreateProp("showColorString",r.Boolean),this.CreateProp("palette",r.Any),this.CreateProp("value",r.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case Ni.input&&Ni.input.ListBox:return this.getMetaData(Ni.Control).add([this.CreateProp("isContentHtml",r.Boolean),this.CreateProp("maxHeight",r.Number),this.CreateProp("selectedValuePath",r.String),this.CreateProp("itemFormatter",r.Function),this.CreateProp("displayMemberPath",r.String),this.CreateProp("checkedMemberPath",r.String),this.CreateProp("itemsSource",r.Any),this.CreateProp("selectedIndex",r.Number,"selectedIndexChanged"),this.CreateProp("selectedItem",r.Any,"selectedIndexChanged"),this.CreateProp("selectedValue",r.Any,"selectedIndexChanged"),this.CreateProp("checkedItems",r.Any,"checkedItemsChanged")],[this.CreateEvent("formatItem",!1),this.CreateEvent("itemsChanged",!0),this.CreateEvent("itemChecked",!0),this.CreateEvent("selectedIndexChanged",!0),this.CreateEvent("checkedItemsChanged",!0)]).addOptions({ngModelProperty:"selectedValue"});case"ItemTemplate":return new a([],[],[],void 0,void 0,void 0,"owner");case Ni.input&&Ni.input.Menu:return this.getMetaData(Ni.input.ComboBox).add([this.CreateProp("header",r.String),this.CreateProp("commandParameterPath",r.String),this.CreateProp("commandPath",r.String),this.CreateProp("isButton",r.Boolean),this.CreateProp("value",r.Any,"itemClicked",null,!1,1e3)],[this.CreateEvent("itemClicked")]);case"MenuItem":return new a([this.CreateProp("value",r.Any,""),this.CreateProp("cmd",r.Any,""),this.CreateProp("cmdParam",r.Any,"")],[],[],"itemsSource",!0);case"MenuSeparator":return new a([],[],[],"itemsSource",!0);case Ni.input&&Ni.input.InputDate:return this.getMetaData(Ni.input.DropDown).add([this.CreateProp("selectionMode",r.Enum,"",Ni.input.DateSelectionMode),this.CreateProp("format",r.String),this.CreateProp("mask",r.String),this.CreateProp("max",r.Date),this.CreateProp("min",r.Date),this.CreateProp("inputType",r.String),this.CreateProp("value",r.Date,"valueChanged",null,!0,1e3),this.CreateProp("itemValidator",r.Function),this.CreateProp("itemFormatter",r.Function)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case Ni.input&&Ni.input.InputDateTime:return this.getMetaData(Ni.input.InputDate).add([this.CreateProp("timeMax",r.Date),this.CreateProp("timeMin",r.Date),this.CreateProp("timeStep",r.Number),this.CreateProp("timeFormat",r.String)]).addOptions({ngModelProperty:"value"});case Ni.input&&Ni.input.InputNumber:return this.getMetaData(Ni.Control).add([this.CreateProp("showSpinner",r.Boolean),this.CreateProp("repeatButtons",r.Boolean),this.CreateProp("max",r.Number),this.CreateProp("min",r.Number),this.CreateProp("step",r.Number),this.CreateProp("isRequired",r.Boolean),this.CreateProp("placeholder",r.String),this.CreateProp("inputType",r.String),this.CreateProp("format",r.String),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("value",r.Number,"valueChanged"),this.CreateProp("text",r.String,"textChanged")],[this.CreateEvent("valueChanged",!0),this.CreateEvent("textChanged",!0)]).addOptions({ngModelProperty:"value"});case Ni.input&&Ni.input.InputMask:return this.getMetaData(Ni.Control).add([this.CreateProp("mask",r.String),this.CreateProp("isRequired",r.Boolean),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("promptChar",r.String),this.CreateProp("placeholder",r.String),this.CreateProp("rawValue",r.String,"valueChanged"),this.CreateProp("value",r.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case Ni.input&&Ni.input.InputTime:return this.getMetaData(Ni.input.ComboBox).add([this.CreateProp("max",r.Date),this.CreateProp("min",r.Date),this.CreateProp("step",r.Number),this.CreateProp("format",r.String),this.CreateProp("mask",r.String),this.CreateProp("inputType",r.String),this.CreateProp("value",r.Date,"valueChanged",null,!0,1e3)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case Ni.input&&Ni.input.InputColor:return this.getMetaData(Ni.input.DropDown).add([this.CreateProp("showAlphaChannel",r.Boolean),this.CreateProp("value",r.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case Ni.input&&Ni.input.Popup:return this.getMetaData(Ni.Control).add([this.CreateProp("owner",r.String),this.CreateProp("showTrigger",r.Enum,"",Ni.input.PopupTrigger),this.CreateProp("hideTrigger",r.Enum,"",Ni.input.PopupTrigger),this.CreateProp("fadeIn",r.Boolean),this.CreateProp("fadeOut",r.Boolean),this.CreateProp("isDraggable",r.Boolean),this.CreateProp("dialogResultEnter",r.String),this.CreateProp("modal",r.Boolean),this.CreateProp("removeOnHide",r.Boolean)],[this.CreateEvent("showing"),this.CreateEvent("shown"),this.CreateEvent("hiding"),this.CreateEvent("hidden")]);case Ni.input&&Ni.input.MultiSelect:return this.getMetaData(Ni.input.ComboBox).add([this.CreateProp("checkedMemberPath",r.String),this.CreateProp("maxHeaderItems",r.Number),this.CreateProp("headerFormat",r.String),this.CreateProp("headerFormatter",r.Function),this.CreateProp("showSelectAllCheckbox",r.Boolean),this.CreateProp("selectAllLabel",r.String),this.CreateProp("checkedItems",r.Any,"checkedItemsChanged",n.TwoWay,!0,950)],[this.CreateEvent("checkedItemsChanged",!0)]).addOptions({ngModelProperty:"checkedItems"});case"CollectionViewNavigator":case"CollectionViewPager":return new a([this.CreateProp("cv",r.Any)]);case Ni.input&&Ni.input.MultiAutoComplete:return this.getMetaData(Ni.input.AutoComplete).add([this.CreateProp("maxSelectedItems",r.Number),this.CreateProp("selectedMemberPath",r.String,"",null,!0,950),this.CreateProp("selectedItems",r.Any,"selectedItemsChanged")],[this.CreateEvent("selectedItemsChanged",!0)]).addOptions({ngModelProperty:"selectedItems"});case Ni.grid&&Ni.grid.FlexGrid:return this.getMetaData(Ni.Control).add([this.CreateProp("newRowAtTop",r.Boolean),this.CreateProp("allowAddNew",r.Boolean),this.CreateProp("allowDelete",r.Boolean),this.CreateProp("allowDragging",r.Enum,"",Ni.grid.AllowDragging),this.CreateProp("allowMerging",r.Enum,"",Ni.grid.AllowMerging),this.CreateProp("allowResizing",r.Enum,"",Ni.grid.AllowResizing),this.CreateProp("allowSorting",r.Boolean),this.CreateProp("quickAutoSize",r.Boolean),this.CreateProp("autoScroll",r.Boolean),this.CreateProp("autoSizeMode",r.Enum,"",Ni.grid.AutoSizeMode),this.CreateProp("autoGenerateColumns",r.Boolean),this.CreateProp("childItemsPath",r.Any),this.CreateProp("groupHeaderFormat",r.String),this.CreateProp("headersVisibility",r.Enum,"",Ni.grid.HeadersVisibility),this.CreateProp("showSelectedHeaders",r.Enum,"",Ni.grid.HeadersVisibility),this.CreateProp("showMarquee",r.Boolean),this.CreateProp("itemFormatter",r.Function),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("imeEnabled",r.Boolean),this.CreateProp("mergeManager",r.Any),this.CreateProp("selectionMode",r.Enum,"",Ni.grid.SelectionMode),this.CreateProp("showGroups",r.Boolean),this.CreateProp("showSort",r.Boolean),this.CreateProp("showDropDown",r.Boolean),this.CreateProp("showAlternatingRows",r.Boolean),this.CreateProp("showErrors",r.Boolean),this.CreateProp("validateEdits",r.Boolean),this.CreateProp("treeIndent",r.Number),this.CreateProp("itemsSource",r.Any),this.CreateProp("autoClipboard",r.Boolean),this.CreateProp("frozenRows",r.Number),this.CreateProp("frozenColumns",r.Number),this.CreateProp("cloneFrozenCells",r.Boolean),this.CreateProp("deferResizing",r.Boolean),this.CreateProp("sortRowIndex",r.Number),this.CreateProp("stickyHeaders",r.Boolean),this.CreateProp("preserveSelectedState",r.Boolean),this.CreateProp("preserveOutlineState",r.Boolean),this.CreateProp("keyActionTab",r.Enum,"",Ni.grid.KeyAction),this.CreateProp("keyActionEnter",r.Enum,"",Ni.grid.KeyAction),this.CreateProp("rowHeaderPath",r.String),this.CreateProp("virtualizationThreshold",r.Number)],[this.CreateEvent("beginningEdit"),this.CreateEvent("cellEditEnded"),this.CreateEvent("cellEditEnding"),this.CreateEvent("prepareCellForEdit"),this.CreateEvent("formatItem"),this.CreateEvent("resizingColumn"),this.CreateEvent("resizedColumn"),this.CreateEvent("autoSizingColumn"),this.CreateEvent("autoSizedColumn"),this.CreateEvent("draggingColumn"),this.CreateEvent("draggingColumnOver"),this.CreateEvent("draggedColumn"),this.CreateEvent("sortingColumn"),this.CreateEvent("sortedColumn"),this.CreateEvent("resizingRow"),this.CreateEvent("resizedRow"),this.CreateEvent("autoSizingRow"),this.CreateEvent("autoSizedRow"),this.CreateEvent("draggingRow"),this.CreateEvent("draggingRowOver"),this.CreateEvent("draggedRow"),this.CreateEvent("deletingRow"),this.CreateEvent("deletedRow"),this.CreateEvent("loadingRows"),this.CreateEvent("loadedRows"),this.CreateEvent("rowEditStarting"),this.CreateEvent("rowEditStarted"),this.CreateEvent("rowEditEnding"),this.CreateEvent("rowEditEnded"),this.CreateEvent("rowAdded"),this.CreateEvent("groupCollapsedChanged"),this.CreateEvent("groupCollapsedChanging"),this.CreateEvent("itemsSourceChanged",!0),this.CreateEvent("selectionChanging"),this.CreateEvent("selectionChanged",!0),this.CreateEvent("scrollPositionChanged",!1),this.CreateEvent("updatingView"),this.CreateEvent("updatedView"),this.CreateEvent("updatingLayout"),this.CreateEvent("updatedLayout"),this.CreateEvent("pasting"),this.CreateEvent("pasted"),this.CreateEvent("pastingCell"),this.CreateEvent("pastedCell"),this.CreateEvent("copying"),this.CreateEvent("copied")]);case Ni.grid&&Ni.grid.Column:return new a([this.CreateProp("name",r.String),this.CreateProp("dataMap",r.Any),this.CreateProp("dataType",r.Enum,"",Ni.DataType),this.CreateProp("binding",r.String),this.CreateProp("sortMemberPath",r.String),this.CreateProp("format",r.String),this.CreateProp("header",r.String),this.CreateProp("width",r.Number),this.CreateProp("maxLength",r.Number),this.CreateProp("minWidth",r.Number),this.CreateProp("maxWidth",r.Number),this.CreateProp("align",r.String),this.CreateProp("allowDragging",r.Boolean),this.CreateProp("allowSorting",r.Boolean),this.CreateProp("allowResizing",r.Boolean),this.CreateProp("allowMerging",r.Boolean),this.CreateProp("aggregate",r.Enum,"",Ni.Aggregate),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("cssClass",r.String),this.CreateProp("isContentHtml",r.Boolean),this.CreateProp("isSelected",r.Boolean,"grid.selectionChanged"),this.CreateProp("visible",r.Boolean),this.CreateProp("wordWrap",r.Boolean),this.CreateProp("multiLine",r.Boolean),this.CreateProp("mask",r.String),this.CreateProp("inputType",r.String),this.CreateProp("isRequired",r.Boolean),this.CreateProp("showDropDown",r.Boolean),this.CreateProp("dropDownCssClass",r.String),this.CreateProp("quickAutoSize",r.Boolean)],[],[],"columns",!0);case"FlexGridCellTemplate":return new a([this.CreateProp("cellType",r.String,"",null,!1),this.CreateProp("cellOverflow",r.String,""),this.CreateProp("forceFullEdit",r.Boolean)],[],[],void 0,void 0,void 0,"owner");case Ni.grid&&Ni.grid.filter&&Ni.grid.filter.FlexGridFilter:return new a([this.CreateProp("showFilterIcons",r.Boolean),this.CreateProp("showSortButtons",r.Boolean),this.CreateProp("defaultFilterType",r.Enum,"",Ni.grid.filter.FilterType),this.CreateProp("filterColumns",r.Any)],[this.CreateEvent("filterChanging"),this.CreateEvent("filterChanged"),this.CreateEvent("filterApplied")],[],void 0,void 0,void 0,"");case Ni.grid&&Ni.grid.grouppanel&&Ni.grid.grouppanel.GroupPanel:return this.getMetaData(Ni.Control).add([this.CreateProp("hideGroupedColumns",r.Boolean),this.CreateProp("maxGroups",r.Number),this.CreateProp("placeholder",r.String),this.CreateProp("grid",r.Any)]);case Ni.grid&&Ni.grid.detail&&Ni.grid.detail.FlexGridDetailProvider:return new a([this.CreateProp("maxHeight",r.Number),this.CreateProp("detailVisibilityMode",r.Enum,"",Ni.grid.detail.DetailVisibilityMode),this.CreateProp("rowHasDetail",r.Function),this.CreateProp("isAnimated",r.Boolean)],[],[],void 0,void 0,void 0,"");case Ni.grid&&Ni.grid.sheet&&Ni.grid.sheet.FlexSheet:return this.getMetaData(Ni.grid.FlexGrid).add([this.CreateProp("isTabHolderVisible",r.Boolean),this.CreateProp("selectedSheetIndex",r.Number,"selectedSheetChanged")],[this.CreateEvent("selectedSheetChanged",!0),this.CreateEvent("draggingRowColumn"),this.CreateEvent("droppingRowColumn"),this.CreateEvent("loaded"),this.CreateEvent("unknownFunction"),this.CreateEvent("sheetCleared")]);case Ni.grid&&Ni.grid.sheet&&Ni.grid.sheet.Sheet:return new a([this.CreateProp("name",r.String),this.CreateProp("itemsSource",r.Any),this.CreateProp("visible",r.Boolean),this.CreateProp("rowCount",r.Number,"",null,!1),this.CreateProp("columnCount",r.Number,"",null,!1)],[this.CreateEvent("nameChanged")]).addOptions({parentReferenceProperty:""});case Ni.grid&&Ni.grid.multirow&&Ni.grid.multirow.MultiRow:return this.getMetaData(Ni.grid.FlexGrid).add([this.CreateProp("layoutDefinition",r.Any),this.CreateProp("centerHeadersVertically",r.Boolean),this.CreateProp("collapsedHeaders",r.Boolean),this.CreateProp("showHeaderCollapseButton",r.Boolean)]);case Ni.chart&&Ni.chart.FlexChartBase:return this.getMetaData(Ni.Control).add([this.CreateProp("binding",r.String),this.CreateProp("footer",r.String),this.CreateProp("header",r.String),this.CreateProp("selectionMode",r.Enum,"",Ni.chart.SelectionMode),this.CreateProp("palette",r.Any),this.CreateProp("plotMargin",r.Any),this.CreateProp("footerStyle",r.Any),this.CreateProp("headerStyle",r.Any),this.CreateProp("tooltipContent",r.String,"",null,!1),this.CreateProp("itemsSource",r.Any)],[this.CreateEvent("rendering"),this.CreateEvent("rendered"),this.CreateEvent("selectionChanged",!0)]);case Ni.chart&&Ni.chart.FlexChartCore:return this.getMetaData(Ni.chart.FlexChartBase).add([this.CreateProp("bindingX",r.String),this.CreateProp("interpolateNulls",r.Boolean),this.CreateProp("legendToggle",r.Boolean),this.CreateProp("symbolSize",r.Number),this.CreateProp("options",r.Any),this.CreateProp("selection",r.Any,"selectionChanged"),this.CreateProp("itemFormatter",r.Function),this.CreateProp("labelContent",r.String,"",null,!1)],[this.CreateEvent("seriesVisibilityChanged")],[this.CreateComplexProp("axisX",!1,!1),this.CreateComplexProp("axisY",!1,!1),this.CreateComplexProp("axes",!0),this.CreateComplexProp("plotAreas",!0)]);case Ni.chart&&Ni.chart.FlexChart:return this.getMetaData(Ni.chart.FlexChartCore).add([this.CreateProp("chartType",r.Enum,"",Ni.chart.ChartType),this.CreateProp("rotated",r.Boolean),this.CreateProp("stacking",r.Enum,"",Ni.chart.Stacking)]);case Ni.chart&&Ni.chart.FlexPie:return this.getMetaData(Ni.chart.FlexChartBase).add([this.CreateProp("bindingName",r.String),this.CreateProp("innerRadius",r.Number),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("offset",r.Number),this.CreateProp("reversed",r.Boolean),this.CreateProp("startAngle",r.Number),this.CreateProp("selectedIndex",r.Number),this.CreateProp("selectedItemPosition",r.Enum,"",Ni.chart.Position),this.CreateProp("selectedItemOffset",r.Number),this.CreateProp("itemFormatter",r.Function),this.CreateProp("labelContent",r.String,"",null,!1)]);case Ni.chart&&Ni.chart.FlexPie&&Ni.chart.hierarchical&&Ni.chart.hierarchical.Sunburst:return this.getMetaData(Ni.chart.FlexChartBase).add([this.CreateProp("bindingName",r.Any),this.CreateProp("innerRadius",r.Number),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("offset",r.Number),this.CreateProp("reversed",r.Boolean),this.CreateProp("startAngle",r.Number),this.CreateProp("selectedIndex",r.Number),this.CreateProp("selectedItemPosition",r.Enum,"",Ni.chart.Position),this.CreateProp("selectedItemOffset",r.Number),this.CreateProp("itemFormatter",r.Function),this.CreateProp("labelContent",r.String,"",null,!1),this.CreateProp("childItemsPath",r.Any)]);case Ni.chart&&Ni.chart.hierarchical&&Ni.chart.hierarchical.TreeMap:return this.getMetaData(Ni.chart.FlexChartBase).add([this.CreateProp("bindingName",r.Any),this.CreateProp("maxDepth",r.Number),this.CreateProp("type",r.Enum,"",Ni.chart.hierarchical.TreeMapType),this.CreateProp("labelContent",r.String,"",null,!1),this.CreateProp("childItemsPath",r.Any)]);case Ni.chart&&Ni.chart.Axis:return new a([this.CreateProp("axisLine",r.Boolean),this.CreateProp("format",r.String),this.CreateProp("labels",r.Boolean),this.CreateProp("majorGrid",r.Boolean),this.CreateProp("majorTickMarks",r.Enum,"",Ni.chart.TickMark),this.CreateProp("majorUnit",r.Number),this.CreateProp("max",r.Number),this.CreateProp("min",r.Number),this.CreateProp("position",r.Enum,"",Ni.chart.Position),this.CreateProp("reversed",r.Boolean),this.CreateProp("title",r.String),this.CreateProp("labelAngle",r.Number),this.CreateProp("minorGrid",r.Boolean),this.CreateProp("minorTickMarks",r.Enum,"",Ni.chart.TickMark),this.CreateProp("minorUnit",r.Number),this.CreateProp("origin",r.Number),this.CreateProp("logBase",r.Number),this.CreateProp("plotArea",r.Any),this.CreateProp("labelAlign",r.String),this.CreateProp("name",r.String),this.CreateProp("overlappingLabels",r.Enum,"",Ni.chart.OverlappingLabels),this.CreateProp("labelPadding",r.Number),this.CreateProp("itemFormatter",r.Function),this.CreateProp("itemsSource",r.Any),this.CreateProp("binding",r.String)],[this.CreateEvent("rangeChanged")],[],"axes",!0);case Ni.chart&&Ni.chart.Legend:return new a([this.CreateProp("position",r.Enum,"",Ni.chart.Position),this.CreateProp("title",r.String),this.CreateProp("titleAlign",r.String)],[],[],"legend",!1,!1,"");case Ni.chart&&Ni.chart.DataLabelBase:return new a([this.CreateProp("content",r.Any,""),this.CreateProp("border",r.Boolean),this.CreateProp("offset",r.Number),this.CreateProp("connectingLine",r.Boolean)],[this.CreateEvent("rendering")],[],"dataLabel",!1,!1);case Ni.chart&&Ni.chart.DataLabel:return this.getMetaData(Ni.chart.DataLabelBase).add([this.CreateProp("position",r.Enum,"",Ni.chart.LabelPosition)]);case Ni.chart&&Ni.chart.PieDataLabel:return this.getMetaData(Ni.chart.DataLabelBase).add([this.CreateProp("position",r.Enum,"",Ni.chart.PieLabelPosition)]);case Ni.chart&&Ni.chart.SeriesBase:return new a([this.CreateProp("axisX",r.Any),this.CreateProp("axisY",r.Any),this.CreateProp("binding",r.String),this.CreateProp("bindingX",r.String),this.CreateProp("cssClass",r.String),this.CreateProp("name",r.String),this.CreateProp("style",r.Any),this.CreateProp("altStyle",r.Any),this.CreateProp("symbolMarker",r.Enum,"",Ni.chart.Marker),this.CreateProp("symbolSize",r.Number),this.CreateProp("symbolStyle",r.Any),this.CreateProp("visibility",r.Enum,"chart.seriesVisibilityChanged",Ni.chart.SeriesVisibility),this.CreateProp("itemsSource",r.Any)],[this.CreateEvent("rendering"),this.CreateEvent("rendered")],[this.CreateComplexProp("axisX",!1,!0),this.CreateComplexProp("axisY",!1,!0)],"series",!0);case Ni.chart&&Ni.chart.Series:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("chartType",r.Enum,"",Ni.chart.ChartType)]);case Ni.chart&&Ni.chart.LineMarker:return new a([this.CreateProp("isVisible",r.Boolean),this.CreateProp("seriesIndex",r.Number),this.CreateProp("horizontalPosition",r.Number),this.CreateProp("content",r.Function),this.CreateProp("verticalPosition",r.Number),this.CreateProp("alignment",r.Enum,"",Ni.chart.LineMarkerAlignment),this.CreateProp("lines",r.Enum,"",Ni.chart.LineMarkerLines),this.CreateProp("interaction",r.Enum,"",Ni.chart.LineMarkerInteraction),this.CreateProp("dragLines",r.Boolean),this.CreateProp("dragThreshold",r.Number),this.CreateProp("dragContent",r.Boolean)],[this.CreateEvent("positionChanged")],[],void 0,void 0,void 0,"");case Ni.chart&&Ni.chart.DataPoint:return new a([this.CreateProp("x",r.AnyPrimitive),this.CreateProp("y",r.AnyPrimitive)],[],[],"");case Ni.chart&&Ni.chart.annotation&&Ni.chart.annotation.AnnotationLayer:return new a([],[],[],void 0,void 0,void 0,"");case"FlexChartAnnotation":return new a([this.CreateProp("type",r.String,"",null,!1),this.CreateProp("attachment",r.Enum,"",Ni.chart.annotation.AnnotationAttachment),this.CreateProp("position",r.Enum,"",Ni.chart.annotation.AnnotationPosition),this.CreateProp("point",r.Any),this.CreateProp("seriesIndex",r.Number),this.CreateProp("pointIndex",r.Number),this.CreateProp("offset",r.Any),this.CreateProp("style",r.Any),this.CreateProp("isVisible",r.Boolean),this.CreateProp("tooltip",r.String),this.CreateProp("text",r.String),this.CreateProp("content",r.String),this.CreateProp("name",r.String),this.CreateProp("width",r.Number),this.CreateProp("height",r.Number),this.CreateProp("start",r.Any),this.CreateProp("end",r.Any),this.CreateProp("radius",r.Number),this.CreateProp("length",r.Number),this.CreateProp("href",r.String)],[],[this.CreateComplexProp("point",!1,!0),this.CreateComplexProp("start",!1,!0),this.CreateComplexProp("end",!1,!0),this.CreateComplexProp("points",!0)],"items",!0);case Ni.chart&&Ni.chart.interaction&&Ni.chart.interaction.RangeSelector:return new a([this.CreateProp("isVisible",r.Boolean),this.CreateProp("min",r.Number),this.CreateProp("max",r.Number),this.CreateProp("orientation",r.Enum,"",Ni.chart.interaction.Orientation),this.CreateProp("seamless",r.Boolean),this.CreateProp("minScale",r.Number),this.CreateProp("maxScale",r.Number)],[this.CreateEvent("rangeChanged")],[],void 0,void 0,void 0,"");case Ni.chart&&Ni.chart.interaction&&Ni.chart.interaction.ChartGestures:return new a([this.CreateProp("mouseAction",r.Enum,"",Ni.chart.interaction.MouseAction),this.CreateProp("interactiveAxes",r.Enum,"",Ni.chart.interaction.InteractiveAxes),this.CreateProp("enable",r.Boolean),this.CreateProp("scaleX",r.Number),this.CreateProp("scaleY",r.Number),this.CreateProp("posX",r.Number),this.CreateProp("posY",r.Number)],[],[],void 0,void 0,void 0,"");case Ni.chart&&Ni.chart.animation&&Ni.chart.animation.ChartAnimation:return new a([this.CreateProp("animationMode",r.Enum,"",Ni.chart.animation.AnimationMode),this.CreateProp("easing",r.Enum,"",Ni.chart.animation.Easing),this.CreateProp("duration",r.Number),this.CreateProp("axisAnimation",r.Boolean)],[],[],void 0,void 0,void 0,"");case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.FinancialChart:return this.getMetaData(Ni.chart.FlexChartCore).add([this.CreateProp("chartType",r.Enum,"",Ni.chart.finance.FinancialChartType)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.FinancialSeries:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("chartType",r.Enum,"",Ni.chart.finance.FinancialChartType)]);case Ni.chart&&Ni.chart.radar&&Ni.chart.radar.FlexRadar:return this.getMetaData(Ni.chart.FlexChartCore).add([this.CreateProp("chartType",r.Enum,"",Ni.chart.radar.RadarChartType),this.CreateProp("startAngle",r.Number),this.CreateProp("totalAngle",r.Number),this.CreateProp("reversed",r.Boolean),this.CreateProp("stacking",r.Enum,"",Ni.chart.Stacking)]);case Ni.chart&&Ni.chart.radar&&Ni.chart.radar.FlexRadarSeries:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("chartType",r.Enum,"",Ni.chart.radar.RadarChartType)]);case Ni.chart&&Ni.chart.radar&&Ni.chart.radar.FlexRadarAxis:return this.getMetaData(Ni.chart.Axis);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.TrendLineBase:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("sampleCount",r.Number)]);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.TrendLine:return this.getMetaData(Ni.chart.analytics.TrendLineBase).add([this.CreateProp("order",r.Number),this.CreateProp("fitType",r.Enum,"",Ni.chart.analytics.TrendLineFitType)]);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.MovingAverage:return this.getMetaData(Ni.chart.analytics.TrendLineBase).add([this.CreateProp("period",r.Number),this.CreateProp("type",r.Enum,"",Ni.chart.analytics.MovingAverageType)]);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.FunctionSeries:return this.getMetaData(Ni.chart.analytics.TrendLineBase).add([this.CreateProp("min",r.Number),this.CreateProp("max",r.Number)]);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.YFunctionSeries:return this.getMetaData(Ni.chart.analytics.FunctionSeries).add([this.CreateProp("func",r.Function)]);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.ParametricFunctionSeries:return this.getMetaData(Ni.chart.analytics.FunctionSeries).add([this.CreateProp("func",r.Function),this.CreateProp("xFunc",r.Function),this.CreateProp("yFunc",r.Function)]);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.Waterfall:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("relativeData",r.Boolean),this.CreateProp("start",r.Number),this.CreateProp("startLabel",r.String),this.CreateProp("showTotal",r.Boolean),this.CreateProp("totalLabel",r.String),this.CreateProp("showIntermediateTotal",r.Boolean),this.CreateProp("intermediateTotalPositions",r.Any),this.CreateProp("intermediateTotalLabels",r.Any),this.CreateProp("connectorLines",r.Boolean),this.CreateProp("styles",r.Any)]);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.BoxWhisker:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("quartileCalculation",r.Enum,"",Ni.chart.analytics.QuartileCalculation),this.CreateProp("groupWidth",r.Number),this.CreateProp("gapWidth",r.Number),this.CreateProp("showMeanLine",r.Boolean),this.CreateProp("meanLineStyle",r.Any),this.CreateProp("showMeanMarker",r.Boolean),this.CreateProp("meanMarkerStyle",r.Any),this.CreateProp("showInnerPoints",r.Boolean),this.CreateProp("showOutliers",r.Boolean)]);case Ni.chart&&Ni.chart.analytics&&Ni.chart.analytics.ErrorBar:return this.getMetaData(Ni.chart.Series).add([this.CreateProp("errorBarStyle",r.Any),this.CreateProp("value",r.Any),this.CreateProp("errorAmount",r.Enum,"",Ni.chart.analytics.ErrorAmount),this.CreateProp("endStyle",r.Enum,"",Ni.chart.analytics.ErrorBarEndStyle),this.CreateProp("direction",r.Enum,"",Ni.chart.analytics.ErrorBarDirection)]);case Ni.chart&&Ni.chart.PlotArea:return new a([this.CreateProp("column",r.Number),this.CreateProp("height",r.String),this.CreateProp("name",r.String),this.CreateProp("row",r.Number),this.CreateProp("style",r.Any),this.CreateProp("width",r.String)],[],[],"plotAreas",!0);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.Fibonacci:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("high",r.Number),this.CreateProp("low",r.Number),this.CreateProp("labelPosition",r.Enum,"",Ni.chart.LabelPosition),this.CreateProp("levels",r.Any),this.CreateProp("minX",r.AnyPrimitive),this.CreateProp("maxX",r.AnyPrimitive),this.CreateProp("uptrend",r.Boolean)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.FibonacciTimeZones:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("startX",r.Any),this.CreateProp("endX",r.Any),this.CreateProp("labelPosition",r.Enum,"",Ni.chart.LabelPosition),this.CreateProp("levels",r.Any)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.FibonacciArcs:case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.FibonacciFans:return this.getMetaData(Ni.chart.SeriesBase).add([this.CreateProp("start",r.Any),this.CreateProp("end",r.Any),this.CreateProp("labelPosition",r.Enum,"",Ni.chart.LabelPosition),this.CreateProp("levels",r.Any)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.OverlayIndicatorBase:return this.getMetaData(Ni.chart.SeriesBase);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.SingleOverlayIndicatorBase:return this.getMetaData(Ni.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",r.Number)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.MacdBase:return this.getMetaData(Ni.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("fastPeriod",r.Number),this.CreateProp("slowPeriod",r.Number),this.CreateProp("smoothingPeriod",r.Number)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.Macd:return this.getMetaData(Ni.chart.finance.analytics.MacdBase).add([this.CreateProp("styles",r.Any)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.MacdHistogram:return this.getMetaData(Ni.chart.finance.analytics.MacdBase);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.ATR:case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.RSI:case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.WilliamsR:return this.getMetaData(Ni.chart.finance.analytics.SingleOverlayIndicatorBase);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.CCI:return this.getMetaData(Ni.chart.finance.analytics.SingleOverlayIndicatorBase).add([this.CreateProp("constant",r.Number)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.Stochastic:return this.getMetaData(Ni.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("dPeriod",r.Number),this.CreateProp("kPeriod",r.Number),this.CreateProp("smoothingPeriod",r.Number),this.CreateProp("styles",r.Any)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.Envelopes:return this.getMetaData(Ni.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",r.Number),this.CreateProp("size",r.Number),this.CreateProp("type",r.Enum,"",Ni.chart.finance.analytics.MovingAverageType)]);case Ni.chart&&Ni.chart.finance&&Ni.chart.finance.analytics&&Ni.chart.finance.analytics.BollingerBands:return this.getMetaData(Ni.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",r.Number),this.CreateProp("multiplier",r.Number)]);case Ni.gauge&&Ni.gauge.Gauge:return this.getMetaData(Ni.Control).add([this.CreateProp("value",r.Number,"valueChanged"),this.CreateProp("min",r.Number),this.CreateProp("max",r.Number),this.CreateProp("origin",r.Number),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("step",r.Number),this.CreateProp("format",r.String),this.CreateProp("thickness",r.Number),this.CreateProp("hasShadow",r.Boolean),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("showText",r.Enum,"",Ni.gauge.ShowText),this.CreateProp("showTicks",r.Boolean),this.CreateProp("showRanges",r.Boolean),this.CreateProp("thumbSize",r.Number),this.CreateProp("tickSpacing",r.Number),this.CreateProp("getText",r.Function)],[this.CreateEvent("valueChanged",!0)],[this.CreateComplexProp("ranges",!0),this.CreateComplexProp("pointer",!1,!1),this.CreateComplexProp("face",!1,!1)]).addOptions({ngModelProperty:"value"});case Ni.gauge&&Ni.gauge.LinearGauge:return this.getMetaData(Ni.gauge.Gauge).add([this.CreateProp("direction",r.Enum,"",Ni.gauge.GaugeDirection)]);case Ni.gauge&&Ni.gauge.BulletGraph:return this.getMetaData(Ni.gauge.LinearGauge).add([this.CreateProp("target",r.Number),this.CreateProp("good",r.Number),this.CreateProp("bad",r.Number)]);case Ni.gauge&&Ni.gauge.RadialGauge:return this.getMetaData(Ni.gauge.Gauge).add([this.CreateProp("autoScale",r.Boolean),this.CreateProp("startAngle",r.Number),this.CreateProp("sweepAngle",r.Number)]);case Ni.gauge&&Ni.gauge.Range:return new a([this.CreateProp("color",r.String),this.CreateProp("min",r.Number),this.CreateProp("max",r.Number),this.CreateProp("name",r.String),this.CreateProp("thickness",r.Number)],[],[],"ranges",!0);case Ni.olap&&Ni.olap.PivotGrid:return this.getMetaData(Ni.grid.FlexGrid).add([this.CreateProp("showDetailOnDoubleClick",r.Boolean),this.CreateProp("customContextMenu",r.Boolean),this.CreateProp("collapsibleSubtotals",r.Boolean),this.CreateProp("centerHeadersVertically",r.Boolean),this.CreateProp("showColumnFieldHeaders",r.Boolean),this.CreateProp("showRowFieldHeaders",r.Boolean)]);case Ni.olap&&Ni.olap.PivotChart:return this.getMetaData(Ni.Control).add([this.CreateProp("chartType",r.Enum,"",Ni.olap.PivotChartType),this.CreateProp("showHierarchicalAxes",r.Boolean),this.CreateProp("showTotals",r.Boolean),this.CreateProp("showTitle",r.Boolean),this.CreateProp("showLegend",r.Enum,"",Ni.olap.LegendVisibility),this.CreateProp("legendPosition",r.Enum,"",Ni.chart.Position),this.CreateProp("stacking",r.Enum,"",Ni.chart.Stacking),this.CreateProp("maxSeries",r.Number),this.CreateProp("maxPoints",r.Number),this.CreateProp("itemsSource",r.Any),this.CreateProp("header",r.String),this.CreateProp("footer",r.String),this.CreateProp("headerStyle",r.Any),this.CreateProp("footerStyle",r.Any)]);case Ni.olap&&Ni.olap.PivotPanel:return this.getMetaData(Ni.Control).add([this.CreateProp("autoGenerateFields",r.Boolean),this.CreateProp("viewDefinition",r.String),this.CreateProp("engine",r.Any),this.CreateProp("itemsSource",r.Any),this.CreateProp("showFieldIcons",r.Boolean),this.CreateProp("restrictDragging",r.Boolean)],[this.CreateEvent("itemsSourceChanged"),this.CreateEvent("viewDefinitionChanged"),this.CreateEvent("updatingView"),this.CreateEvent("updatedView")]);case Ni.olap&&Ni.olap.PivotField:return new a([this.CreateProp("binding",r.String),this.CreateProp("header",r.String),this.CreateProp("dataType",r.Enum,"",Ni.DataType)],[],[],"",!0,!0,"");case Ni.viewer&&Ni.viewer.ViewerBase:return new a([this.CreateProp("serviceUrl",r.String),this.CreateProp("filePath",r.String),this.CreateProp("fullScreen",r.Boolean,"fullScreenChanged"),this.CreateProp("zoomFactor",r.Number,"zoomFactorChanged"),this.CreateProp("mouseMode",r.Enum,"mouseModeChanged",Ni.viewer.MouseMode),this.CreateProp("selectMouseMode",r.Boolean,"selectMouseModeChanged"),this.CreateProp("viewMode",r.Enum,"viewModeChanged",Ni.viewer.ViewMode),this.CreateProp("requestHeaders",r.Any)],[this.CreateEvent("pageIndexChanged"),this.CreateEvent("viewModeChanged"),this.CreateEvent("mouseModeChanged"),this.CreateEvent("selectMouseModeChanged"),this.CreateEvent("fullScreenChanged"),this.CreateEvent("zoomFactorChanged",!0),this.CreateEvent("queryLoadingData"),this.CreateEvent("beforeSendRequest")]);case Ni.viewer&&Ni.viewer.ReportViewer:return this.getMetaData(Ni.viewer.ViewerBase).add([this.CreateProp("parameters",r.Any),this.CreateProp("paginated",r.Boolean),this.CreateProp("reportName",r.String)]);case Ni.viewer&&Ni.viewer.PdfViewer:return this.getMetaData(Ni.viewer.ViewerBase);case Ni.nav&&Ni.nav.TreeView:return this.getMetaData(Ni.Control).add([this.CreateProp("childItemsPath",r.Any),this.CreateProp("displayMemberPath",r.Any),this.CreateProp("imageMemberPath",r.Any),this.CreateProp("isContentHtml",r.Boolean),this.CreateProp("showCheckboxes",r.Boolean),this.CreateProp("autoCollapse",r.Boolean),this.CreateProp("isAnimated",r.Boolean),this.CreateProp("isReadOnly",r.Boolean),this.CreateProp("allowDragging",r.Boolean),this.CreateProp("expandOnClick",r.Boolean),this.CreateProp("lazyLoadFunction",r.Function),this.CreateProp("itemsSource",r.Any),this.CreateProp("selectedItem",r.Any,"selectedItemChanged"),this.CreateProp("selectedNode",r.Any,"selectedItemChanged"),this.CreateProp("checkedItems",r.Any,"checkedItemsChanged")],[this.CreateEvent("itemsSourceChanged",!0),this.CreateEvent("loadingItems"),this.CreateEvent("loadedItems"),this.CreateEvent("itemClicked"),this.CreateEvent("selectedItemChanged"),this.CreateEvent("checkedItemsChanged",!0),this.CreateEvent("isCollapsedChanging"),this.CreateEvent("isCollapsedChanged"),this.CreateEvent("isCheckedChanging"),this.CreateEvent("isCheckedChanged"),this.CreateEvent("formatItem"),this.CreateEvent("dragStart"),this.CreateEvent("dragOver"),this.CreateEvent("drop"),this.CreateEvent("dragEnd"),this.CreateEvent("nodeEditStarting"),this.CreateEvent("nodeEditStarted"),this.CreateEvent("nodeEditEnding"),this.CreateEvent("nodeEditEnded")]);case Ni.nav&&Ni.nav.TabPanel:return this.getMetaData(Ni.Control).add([this.CreateProp("isAnimated",r.Boolean),this.CreateProp("autoSwitch",r.Boolean),this.CreateProp("selectedIndex",r.Number,"selectedIndexChanged"),this.CreateProp("selectedTab",r.Any,"selectedIndexChanged")],[this.CreateEvent("selectedIndexChanged",!0)]);case Ni.nav&&Ni.nav.Tab:return new a([this.CreateProp("isDisabled",r.Boolean),this.CreateProp("isVisible",r.Boolean)],[],[],"tabs",!0)}return new a([])},t.getClassName=function(t){return(t.toString().match(/function (.+?)\(/)||[,""])[1]},t.toCamelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()})},t.findInArr=function(t,i,n){for(var e in t)if(t[e][i]===n)return t[e];return null},t}();t.ControlMetaFactory=i;var r,n,e,s,o=function(){function t(t,i,n,e,r,s){void 0===r&&(r=!0),void 0===s&&(s=0),this._priority=0,this._propertyName=t,this._propertyType=i,this._changeEvent=n,this._enumType=e,this._isNativeControlProperty=r,this._priority=s}return Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyType",{get:function(){return this._propertyType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeEvent",{get:function(){return this._changeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enumType",{get:function(){return this._enumType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingMode",{get:function(){return this.changeEvent?n.TwoWay:n.OneWay},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNativeControlProperty",{get:function(){return this._isNativeControlProperty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldUpdateSource",{get:function(){return this.bindingMode===n.TwoWay&&this.propertyType!=r.EventHandler},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){Ni.copy(this,t)},t.prototype.castValueToType=function(t){if(null==t)return t;var i=this.propertyType,n=r;if(i===n.AnyPrimitive){if(!Ni.isString(t))return t;if("true"!==t&&"false"!==t){if(e=+t,!isNaN(e))return e;var e=this._parseDate(t);return Ni.isString(e)?t:e}i=n.Boolean}switch(i){case n.Number:if("string"==typeof t){if(0<=t.indexOf("*"))return t;if(""===t.trim())return null}return+t;case n.Boolean:return"true"===t||"false"!==t&&!!t;case n.String:return t+"";case n.Date:return this._parseDate(t);case n.Enum:return"number"==typeof t?t:this.enumType[t];default:return t}},t.prototype._parseDate=function(t){if(t&&Ni.isString(t)){t=t.replace(/["']/g,"");var i=Ni.changeType(t,Ni.DataType.Date,"r");if(Ni.isDate(i))return i}return t},t}();t.PropDescBase=o,(s=r=t.PropertyType||(t.PropertyType={}))[s.Boolean=0]="Boolean",s[s.Number=1]="Number",s[s.Date=2]="Date",s[s.String=3]="String",s[s.AnyPrimitive=4]="AnyPrimitive",s[s.Enum=5]="Enum",s[s.Function=6]="Function",s[s.EventHandler=7]="EventHandler",s[s.Any=8]="Any",t.isSimpleType=function(t){return t<=r.Enum},(e=n=t.BindingMode||(t.BindingMode={}))[e.OneWay=0]="OneWay",e[e.TwoWay=1]="TwoWay";var h=function(){function t(t,i){this._eventName=t,this._isPropChanged=i}return Object.defineProperty(t.prototype,"eventName",{get:function(){return this._eventName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPropChanged",{get:function(){return!0===this._isPropChanged},enumerable:!0,configurable:!0}),t}();t.EventDescBase=h;var c=function(){function t(t,i,n){void 0===n&&(n=!1),this.isArray=!1,this._ownsObject=!1,this.propertyName=t,this.isArray=i,this._ownsObject=n}return Object.defineProperty(t.prototype,"ownsObject",{get:function(){return this.isArray||this._ownsObject},enumerable:!0,configurable:!0}),t}();t.ComplexPropDescBase=c;var a=function(){function t(t,i,n,e,r,s,o,h){this._props=[],this._events=[],this._complexProps=[],this.props=t,this.events=i,this.complexProps=n,this.parentProperty=e,this.isParentPropertyArray=r,this.ownsObject=s,this.parentReferenceProperty=o,this.ngModelProperty=h}return Object.defineProperty(t.prototype,"props",{get:function(){return this._props},set:function(t){this._props=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this._events},set:function(t){this._events=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexProps",{get:function(){return this._complexProps},set:function(t){this._complexProps=t||[]},enumerable:!0,configurable:!0}),t.prototype.add=function(t,i,n,e,r,s,o,h){return this.addOptions({props:t,events:i,complexProps:n,parentProperty:e,isParentPropertyArray:r,ownsObject:s,parentReferenceProperty:o,ngModelProperty:h})},t.prototype.addOptions=function(t){for(var i in t){var n=this[i],e=t[i];n instanceof Array?this[i]=n.concat(e||[]):void 0!==e&&(this[i]=e)}return this},t.prototype.prepare=function(){var e=[].concat(this._props);this._props.sort(function(t,i){var n=t.priority-i.priority;return n||(n=e.indexOf(t)-e.indexOf(i)),n})},t}();t.MetaDataBase=a}((Ni=vn||(window.wijmo=vn={})).meta||(Ni.meta={})),Cn=window&&window.__extends||(Ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}Ti(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.CreateProp=function(t,i,n,e,r,s){return new o(t,i,n,e,r,s)},i.CreateEvent=function(t,i){return new n(t,i)},i.CreateComplexProp=function(t,i,n){return new e(t,i,n)},i.findProp=function(t,i){return Hi.meta.ControlMetaFactory.findProp(t,i)},i.findEvent=function(t,i){return Hi.meta.ControlMetaFactory.findEvent(t,i)},i.findComplexProp=function(t,i){return Hi.meta.ControlMetaFactory.findComplexProp(t,i)},i}(Hi.meta.ControlMetaFactory);t.MetaFactory=i;var o=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i}(Hi.meta.PropDescBase);t.PropDesc=o;var n=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i}(Hi.meta.EventDescBase);t.EventDesc=n;var e=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i}(Hi.meta.ComplexPropDescBase);t.ComplexPropDesc=e}((Hi=vn||(window.wijmo=vn={})).knockout||(Hi.knockout={})),function(A){var f=function(){function o(){this.init=function(t,i,n,e,r){return this.ensureMetaData(),this._initImpl(t,i,n,e,r)}.bind(this),this.update=function(t,i,n,e,r){this._updateImpl(t,i,n,e,r)}.bind(this),this._updateImpl=function(t,i,n,e,r){t[o._wjContextProp].update(t,i,n,e,r)}}return o.prototype.ensureMetaData=function(){this._metaData||(this._metaData=A.MetaFactory.getMetaData(this._getMetaDataId()),this._initialize(),this._metaData.prepare())},o.prototype._initialize=function(){},o.prototype._getControlConstructor=function(){return null},o.prototype._getMetaDataId=function(){return this._getControlConstructor()},o.prototype._createControl=function(t){return new(this._getControlConstructor())(t)},o.prototype._createWijmoContext=function(){return new t(this)},o.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},o.prototype._isParentInitializer=function(){return null!=this._metaData.parentProperty},o.prototype._isParentReferencer=function(){return null!=this._metaData.parentReferenceProperty},o.prototype._initImpl=function(t,i,n,e,r){var s=this._createWijmoContext();return(t[o._wjContextProp]=s).element=t,this._isChild()&&(s.parentWjContext=t.parentElement[o._wjContextProp]),s.valueAccessor=i,s.allBindings=n,s.viewModel=e,s.bindingContext=r,s.init(t,i,n,e,r)},o._wjContextProp="__wjKoContext",o._parPropAttr="wjProperty",o._controlPropAttr="control",o._initPropAttr="isInitialized",o._initEventAttr="initialized",o}();A.WjBinding=f;var t=function(){function l(t){this._isInitialized=!1,this._isUpdatingControl=!1,this._isSourceDirty=!1,this._oldSourceValues={},this.wjBinding=t}return l.prototype.init=function(t,i,n,e,r){var s=i(),o=(this.wjBinding._metaData.props,this.wjBinding._metaData.events);if(this._isChild()){var h=s[f._parPropAttr],c=this.wjBinding._metaData,a=h&&ko.unwrap(h)||c.parentProperty;this._parentPropDesc=A.MetaFactory.findComplexProp(a,this.parentWjContext.wjBinding._metaData.complexProps)||new A.ComplexPropDesc(a,c.isParentPropertyArray,c.ownsObject)}for(var u in this._initControl(),this._safeUpdateSrcAttr(f._controlPropAttr,this.control),ko.applyBindingsToDescendants(r,t),this._childrenInitialized(),o)this._addEventHandler(o[u]);this._updateControl(i),this._safeNotifySrcAttr(f._controlPropAttr),this._updateSource(),this._isInitialized=!0,this._safeUpdateSrcAttr(f._initPropAttr,!0);var l=s[f._initEventAttr];return l&&ko.unwrap(l)(this.bindingContext.$data,this.control,void 0),{controlsDescendantBindings:!0}},l.prototype.update=function(t,i,n,e,r){this.valueAccessor=i,this._updateControl(i)},l.prototype._createControl=function(){return this.wjBinding._createControl(this._parentInCtor()?this.parentWjContext.control:this.element)},l.prototype._initControl=function(){if(this._isChild()){this.element.style.display="none";var t=this._getParentProp(),i=this.parentWjContext.control;if(this._useParentObj())this.control=i[t];else{var n=this.control=this._createControl();this._isParentInitializer()&&(this._isParentArray()?i[t].push(n):i[t]=n),this._isParentReferencer()&&!this._parentInCtor()&&(n[this._getParentReferenceProperty()]=i)}}else this.control=this._createControl()},l.prototype._childrenInitialized=function(){},l.prototype._addEventHandler=function(e){var r=this;this.control[e.eventName].addHandler(function(t,i){r._isInitialized&&r._updateSource();var n=r.valueAccessor()[e.eventName];n&&ko.unwrap(n)(r.bindingContext.$data,t,i)},this)},l.prototype._updateSource=function(){l._isUpdatingSource=!0;try{var t=this.wjBinding._metaData.props;for(var i in t){var n=t[i],e=n.propertyName;n.shouldUpdateSource&&n.isNativeControlProperty&&this._safeUpdateSrcAttr(e,this.control[e])}}finally{for(l._isUpdatingSource=!1;0<l._pendingSourceUpdates.length;)l._pendingSourceUpdates.shift()._updateControl()}},l.prototype._updateControl=function(t){void 0===t&&(t=this.valueAccessor);var i=t(),n=this.wjBinding._metaData.props;if(l._isUpdatingSource)for(var e in l._pendingSourceUpdates.indexOf(this)<0&&l._pendingSourceUpdates.push(this),n)ko.unwrap(i[n[e].propertyName]);else try{var r=[],s=[];for(var e in n){var o=i[a=(h=n[e]).propertyName];void 0!==o&&((c=ko.unwrap(o))!==this._oldSourceValues[a]||h.changeEvent&&c!==this.control[a])&&(this._oldSourceValues[a]=c,r.push(c),s.push(h))}for(var e in r){var h=s[e],c=ko.unwrap(i[h.propertyName]),a=h.propertyName;if(void 0!==c||this._isInitialized){var u=this._castValueToType(c,h);h.updateControl&&h.updateControl(this,h,this.control,c,u)||!h.isNativeControlProperty||this.control[a]!=u&&(this.control[a]=u)}}}finally{}},l.prototype._castValueToType=function(t,i){return i.castValueToType(t)},l.prototype._safeUpdateSrcAttr=function(t,i){var n=this.valueAccessor()[t];ko.isWritableObservable(n)&&i!=ko.unwrap(n)&&n(i)},l.prototype._safeNotifySrcAttr=function(t){var i=this.valueAccessor()[t];ko.isWritableObservable(i)&&i.valueHasMutated&&i.valueHasMutated()},l.prototype._isChild=function(){return this.wjBinding._isChild()},l.prototype._isParentInitializer=function(){return this.wjBinding._isParentInitializer()},l.prototype._isParentReferencer=function(){return this.wjBinding._isParentReferencer()},l.prototype._getParentProp=function(){return this._isParentInitializer()?this._parentPropDesc.propertyName:void 0},l.prototype._getParentReferenceProperty=function(){return this.wjBinding._metaData.parentReferenceProperty},l.prototype._useParentObj=function(){return!this._isParentReferencer()&&this._isParentInitializer()&&!this._parentPropDesc.isArray&&!this._parentPropDesc.ownsObject},l.prototype._isParentArray=function(){return this._parentPropDesc.isArray},l.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},l._debugId=0,l._isUpdatingSource=!1,l._pendingSourceUpdates=[],l}();A.WjContext=t}((Oi=vn||(window.wijmo=vn={})).knockout||(Oi.knockout={})),Cn=window&&window.__extends||(zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}zi(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){var i=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Cn(t,i),t.prototype._getControlConstructor=function(){return Ji.Tooltip},t.prototype._createControl=function(t){return i.prototype._createControl.call(this,null)},t.prototype._createWijmoContext=function(){return new n(this)},t}(t.WjBinding);t.wjTooltip=i;var n=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return Cn(t,s),t.prototype.update=function(t,i,n,e,r){s.prototype.update.call(this,t,i,n,e,r),this._updateTooltip()},t.prototype._updateTooltip=function(){this.control.setTooltip(this.element,ko.unwrap(this.valueAccessor()))},t}(t.WjContext);t.WjTooltipContext=n}((Ji=vn||(window.wijmo=vn={})).knockout||(Ji.knockout={})),ko.bindingHandlers.wjTooltip=new vn.knockout.wjTooltip,Cn=window&&window.__extends||(Gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}Gi(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(n){var t=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.DropDown},i}(n.WjBinding),i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.ComboBox},i}(n.WjDropDownBinding=t),e=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.AutoComplete},i}(n.wjComboBox=i);n.wjAutoComplete=e;var r=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.Calendar},i}(n.WjBinding);n.wjCalendar=r;var s=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.ColorPicker},i}(n.WjBinding);n.wjColorPicker=s;var o=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.ListBox},i}(n.WjBinding);n.wjListBox=o;var h=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.Menu},i.prototype._createWijmoContext=function(){return new c(this)},i.prototype._initialize=function(){t.prototype._initialize.call(this),n.MetaFactory.findProp("value",this._metaData.props).updateControl=this._updateControlValue},i.prototype._updateControlValue=function(t,i,n,e,r){return null!=r&&(n.selectedValue=r,t._updateHeader()),!0},i}(i);n.wjMenu=h;var c=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Cn(t,n),t.prototype._initControl=function(){var t=this;n.prototype._initControl.call(this);var i=this.control;i.displayMemberPath="header",i.commandPath="cmd",i.commandParameterPath="cmdParam",i.selectedValuePath="value",i.itemsSource=new Vi.collections.ObservableArray,i.itemClicked.addHandler(function(){t._safeUpdateSrcAttr("value",i.selectedValue),t._updateHeader()})},t.prototype._childrenInitialized=function(){n.prototype._childrenInitialized.call(this),this.control.selectedIndex=0,this._updateHeader()},t.prototype._updateHeader=function(){var t=this.control,i=this.valueAccessor(),n=ko.unwrap(i.header);if(void 0!==ko.unwrap(i.value)&&t.selectedItem&&t.displayMemberPath){var e=t.selectedItem[t.displayMemberPath];null!=e&&(n+=": <b>"+e+"</b>")}t.header=n},t}(n.WjContext);n.WjMenuContext=c;var a=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Cn(t,i),t.prototype._getMetaDataId=function(){return"MenuItem"},t.prototype._createWijmoContext=function(){return new u(this)},t.prototype._initialize=function(){i.prototype._initialize.call(this);var t=this._metaData;t.parentProperty="itemsSource",t.isParentPropertyArray=!0},t}(n.WjBinding);n.wjMenuItem=a;var u=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._createControl=function(){return{header:this.element.innerHTML,cmd:null,cmdParam:null,value:null}},i}(n.WjContext);n.WjMenuItemContext=u;var l=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Cn(t,i),t.prototype._getMetaDataId=function(){return"MenuSeparator"},t.prototype._initialize=function(){i.prototype._initialize.call(this);var t=this._metaData;t.parentProperty="itemsSource",t.isParentPropertyArray=!0},t.prototype._createControl=function(t){return{header:'<div class="wj-state-disabled" style="width:100%;height:1px;background-color:lightgray"/>'}},t}(n.WjBinding);n.wjMenuSeparator=l;var A=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getMetaDataId=function(){return"ContextMenu"},i.prototype._createControl=function(t){return null},i.prototype._createWijmoContext=function(){return new f(this)},i}(n.WjBinding);n.wjContextMenu=A;var f=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Cn(t,i),t.prototype._initControl=function(){i.prototype._initControl.call(this);var t=this.valueAccessor(),e=Vi.getElement(t.id);this.element.addEventListener("contextmenu",function(t){var i=Vi.Control.getControl(e),n=i.dropDown;i&&n&&!Vi.closest(t.target,"[disabled]")&&(t.preventDefault(),i.owner=this.element,i.selectedIndex=-1,i.onIsDroppedDownChanging(new Vi.CancelEventArgs)&&(Vi.showPopup(n,t),i.onIsDroppedDownChanged(),n.focus()))})},t}(n.WjContext);n.WjContextMenuContext=f;var d=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.InputDate},i}(t);n.wjInputDate=d;var g=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.InputDateTime},i}(n.WjBinding);n.wjInputDateTime=g;var w=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.InputNumber},i}(n.WjBinding);n.wjInputNumber=w;var m=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.InputMask},i}(n.WjBinding);n.wjInputMask=m;var b=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.InputTime},i}(i);n.wjInputTime=b;var v=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.InputColor},i}(t);n.wjInputColor=v;var p=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._createControl=function(t){return null},i.prototype._createWijmoContext=function(){return new E(this)},i.prototype._getTemplate=function(){return""},i}(n.WjBinding);n.WjCollectionViewBaseBinding=p;var E=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t._emptyCV=new Vi.collections.CollectionView([]),t}return Cn(t,i),t.prototype.init=function(t,i,n,e,r){t.innerHTML=this.wjBinding._getTemplate();var s=ko.unwrap(i().cv)||this._emptyCV;this._subscribeToCV(s),this._localVM={cv:ko.observable(s)};var o=r.createChildContext(this._localVM);return ko.applyBindingsToDescendants(o,t),{controlsDescendantBindings:!0}},t.prototype.update=function(t,i,n,e,r){var s=ko.unwrap(i().cv)||this._emptyCV,o=ko.unwrap(this._localVM.cv);s!==o&&(this._unsubscribeFromCV(o),this._subscribeToCV(s),this._localVM.cv(s))},t.prototype._subscribeToCV=function(t){t&&(t.collectionChanged.addHandler(this._forceBindingsUpdate,this),t.currentChanged.addHandler(this._forceBindingsUpdate,this),t.pageChanged.addHandler(this._forceBindingsUpdate,this))},t.prototype._unsubscribeFromCV=function(t){t&&(t.collectionChanged.removeHandler(this._forceBindingsUpdate,this),t.currentChanged.removeHandler(this._forceBindingsUpdate,this),t.pageChanged.removeHandler(this._forceBindingsUpdate,this))},t.prototype._forceBindingsUpdate=function(t,i){this._localVM.cv.valueHasMutated()},t}(n.WjContext);n.WjCollectionViewContext=E;var B=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getMetaDataId=function(){return"CollectionViewPager"},i.prototype._getTemplate=function(){return'<div class="wj-control wj-content wj-pager">    <div class="wj-input-group">        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveToFirstPage() },               disable: cv().pageIndex <= 0">                <span class="wj-glyph-left" style="margin-right: -4px;"></span>                <span class="wj-glyph-left"></span>            </button>        </span>        <span class="wj-input-group-btn" >           <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveToPreviousPage() },               disable: cv().pageIndex <= 0">                <span class="wj-glyph-left"></span>            </button>        </span>        <input type="text" class="wj-form-control" data-bind="            value: cv().pageIndex + 1 + \' / \' + cv().pageCount        " disabled />        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveToNextPage() },               disable: cv().pageIndex >= cv().pageCount - 1">                <span class="wj-glyph-right"></span>            </button>        </span>        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveToLastPage() },               disable: cv().pageIndex >= cv().pageCount - 1">                <span class="wj-glyph-right"></span>                <span class="wj-glyph-right" style="margin-left: -4px;"></span>            </button>        </span>    </div></div>'},i}(p);n.wjCollectionViewPager=B;var j=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getMetaDataId=function(){return"CollectionViewNavigator"},i.prototype._getTemplate=function(){return'<div class="wj-control wj-content wj-pager">    <div class="wj-input-group">        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveCurrentToFirst() },               disable: cv().currentPosition <= 0">                <span class="wj-glyph-left" style="margin-right: -4px;"></span>                <span class="wj-glyph-left"></span>            </button>        </span>        <span class="wj-input-group-btn" >           <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveCurrentToPrevious() },               disable: cv().currentPosition <= 0">                <span class="wj-glyph-left"></span>            </button>        </span>        <input type="text" class="wj-form-control" data-bind="            value: cv().currentPosition + 1 + \' / \' + cv().itemCount        " disabled />        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveCurrentToNext() },               disable: cv().currentPosition >= cv().itemCount - 1">                <span class="wj-glyph-right"></span>            </button>        </span>        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               data-bind="click: function () { cv().moveCurrentToLast() },               disable: cv().currentPosition >= cv().itemCount - 1">                <span class="wj-glyph-right"></span>                <span class="wj-glyph-right" style="margin-left: -4px;"></span>            </button>        </span>    </div></div>'},i}(p);n.wjCollectionViewNavigator=j;var C=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.MultiSelect},i}(i);n.wjMultiSelect=C;var I=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.MultiAutoComplete},i}(e);n.wjMultiAutoComplete=I;var Q=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Vi.input.Popup},i.prototype._createWijmoContext=function(){return new M(this)},i.prototype._initialize=function(){t.prototype._initialize.call(this),n.MetaFactory.findProp("owner",this._metaData.props).updateControl=function(t,i,n,e,r){return n.owner=r,t._updateModal(r),!0}},i}(n.WjBinding);n.wjPopup=Q;var M=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._initControl=function(){t.prototype._initControl.call(this),this.control.removeOnHide=!1},i.prototype._updateModal=function(t){var i=this.valueAccessor(),n=this.control;null==ko.unwrap(i.modal)&&(n.modal=!t)},i}(n.WjContext);n.WjPopupContext=M}((Vi=vn||(window.wijmo=vn={})).knockout||(Vi.knockout={})),ko.bindingHandlers.wjComboBox=new vn.knockout.wjComboBox,ko.bindingHandlers.wjAutoComplete=new vn.knockout.wjAutoComplete,ko.bindingHandlers.wjCalendar=new vn.knockout.wjCalendar,ko.bindingHandlers.wjColorPicker=new vn.knockout.wjColorPicker,ko.bindingHandlers.wjListBox=new vn.knockout.wjListBox,ko.bindingHandlers.wjMenu=new vn.knockout.wjMenu,ko.bindingHandlers.wjMenuItem=new vn.knockout.wjMenuItem,ko.bindingHandlers.wjMenuSeparator=new vn.knockout.wjMenuSeparator,ko.bindingHandlers.wjContextMenu=new vn.knockout.wjContextMenu,ko.bindingHandlers.wjInputDate=new vn.knockout.wjInputDate,ko.bindingHandlers.wjInputDateTime=new vn.knockout.wjInputDateTime,ko.bindingHandlers.wjInputNumber=new vn.knockout.wjInputNumber,ko.bindingHandlers.wjInputMask=new vn.knockout.wjInputMask,ko.bindingHandlers.wjInputTime=new vn.knockout.wjInputTime,ko.bindingHandlers.wjInputColor=new vn.knockout.wjInputColor,ko.bindingHandlers.wjCollectionViewNavigator=new vn.knockout.wjCollectionViewNavigator,ko.bindingHandlers.wjCollectionViewPager=new vn.knockout.wjCollectionViewPager,ko.bindingHandlers.wjMultiSelect=new vn.knockout.wjMultiSelect,ko.bindingHandlers.wjMultiAutoComplete=new vn.knockout.wjMultiAutoComplete,ko.bindingHandlers.wjPopup=new vn.knockout.wjPopup,Cn=window&&window.__extends||(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}Pi(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(n){var d=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Wi.grid.FlexGrid},i.prototype._createWijmoContext=function(){return new e(this)},i.prototype._initialize=function(){t.prototype._initialize.call(this),n.MetaFactory.findProp("itemFormatter",this._metaData.props).updateControl=this._formatterPropHandler},i.prototype._formatterPropHandler=function(t,i,n,e,r){return e!==t._userFormatter&&(t._userFormatter=e,n.invalidate()),!0},i._columnTemplateProp="_wjkoColumnTemplate",i._cellClonedTemplateProp="__wjkoClonedTempl",i._cellVMProp="__wjkoCellVM",i._templColIdx="_wjkoTemplColIdx",i._columnStyleBinding="wjStyle",i._columnStyleProp="__wjkoStyle",i}(n.WjBinding);n.wjFlexGrid=d;var e=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t._wrapperFormatter=t._itemFormatter.bind(t),t}return Cn(t,i),t.prototype._initControl=function(){i.prototype._initControl.call(this),this.control.itemFormatter=this._wrapperFormatter},t.prototype._itemFormatter=function(t,i,n,e){var r=t.columns[n],s=r[d._columnTemplateProp],o=r[d._columnStyleProp];if((s||o)&&t.cellType==Wi.grid.CellType.Cell){var h=t.grid.editRange;if(h&&h.row===i&&h.col===n)return;if(t.rows[i]instanceof Wi.grid.GroupRow)return;var c=e[d._cellVMProp],a=e[d._cellClonedTemplateProp],u=t.rows[i].dataItem;if(c&&e[d._templColIdx]!=n&&(e[d._cellVMProp]=e[d._cellClonedTemplateProp]=e[d._templColIdx]=c=a=null,ko.cleanNode(e)),c)a&&(e.innerHTML="",e.appendChild(a)),c.$row(i),c.$col(n),c.$item()!=u?c.$item(u):c.$item.valueHasMutated();else{c={$row:ko.observable(i),$col:ko.observable(n),$item:ko.observable(u)};var l=this.bindingContext.extend(c);if(s){e.innerHTML="<div>"+s+"</div>";var A=e.childNodes[0];e[d._cellClonedTemplateProp]=A}else e.setAttribute("data-bind","style:"+o);e[d._cellVMProp]=c,e[d._templColIdx]=n,ko.applyBindings(l,e)}var f=e.scrollHeight;t.rows[i].renderHeight<f&&(t.rows.defaultSize=f)}else this._userFormatter&&this._userFormatter(t,i,n,e)},t}(n.WjContext);n.WjFlexGridContext=e;var t=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Wi.grid.Column},i.prototype._createControl=function(t){return new Wi.grid.Column},i.prototype._createWijmoContext=function(){return new r(this)},i}(n.WjBinding);n.wjFlexGridColumn=t;var r=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Cn(t,r),t.prototype._initControl=function(){var t=this.parentWjContext;if(t){var i=t.control;i.autoGenerateColumns&&(i.autoGenerateColumns=!1,i.columns.clear())}r.prototype._initControl.call(this);var n=this.element.innerHTML.trim();this.control[d._columnTemplateProp]=n;var e=this.allBindings.get(d._columnStyleBinding);e&&(this.control[d._columnStyleProp]=e.trim()),(n||e)&&this.control._setFlag(Wi.grid.RowColFlags.HasTemplate,!0),this.element.innerHTML=""},t}(n.WjContext);n.WjFlexGridColumnContext=r;var i=function(){function e(){this.preprocess=function(t,i,n){return e.quoteString(t)},this.init=function(){}}return e.quoteString=function(t){return null==t?t:"'"+t.replace(/'/g,"\\'")+"'"},e.unquoteString=function(t){return!t||t.length<2?t:("'"===t.charAt(0)&&(t=t.substr(1,t.length-1)),t.replace(/\\\'/g,"'"))},e}();n.wjStyle=i;var s=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Wi.grid.filter.FlexGridFilter},i}(n.WjBinding);n.wjFlexGridFilter=s;var o=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Wi.grid.grouppanel.GroupPanel},i}(n.WjBinding);n.wjGroupPanel=o;var h=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Wi.grid.sheet.FlexSheet},i}(d);n.wjFlexSheet=h;var c=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Wi.grid.sheet.Sheet},i.prototype._createWijmoContext=function(){return new a(this)},i}(n.WjBinding);n.wjSheet=c;var a=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Cn(t,r),t.prototype._initControl=function(){r.prototype._initControl.call(this);var t=this.valueAccessor(),i=this.parentWjContext.control,n=ko.unwrap(t.itemsSource),e=ko.unwrap(t.name);return n?i.addBoundSheet(e,n):i.addUnboundSheet(e,+ko.unwrap(t.rowCount),+ko.unwrap(t.columnCount))},t}(n.WjContext);n.WjSheetContext=a;var u=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Wi.grid.multirow.MultiRow},i}(d);n.wjMultiRow=u}((Wi=vn||(window.wijmo=vn={})).knockout||(Wi.knockout={})),ko.bindingHandlers[vn.knockout.wjFlexGrid._columnStyleBinding]=new vn.knockout.wjStyle,ko.bindingHandlers.wjFlexGrid=new vn.knockout.wjFlexGrid,ko.bindingHandlers.wjFlexGridColumn=new vn.knockout.wjFlexGridColumn,ko.bindingHandlers.wjFlexGridFilter=new vn.knockout.wjFlexGridFilter,ko.bindingHandlers.wjGroupPanel=new vn.knockout.wjGroupPanel,ko.bindingHandlers.wjFlexSheet=new vn.knockout.wjFlexSheet,ko.bindingHandlers.wjSheet=new vn.knockout.wjSheet,ko.bindingHandlers.wjMultiRow=new vn.knockout.wjMultiRow,Cn=window&&window.__extends||(Li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}Li(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(n){var t=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.FlexChartBase},i.prototype._initialize=function(){t.prototype._initialize.call(this),n.MetaFactory.findProp("tooltipContent",this._metaData.props).updateControl=function(t,i,n,e,r){return null!=r&&(n.tooltip.content=r),!0}},i}(n.WjBinding),i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.FlexChart},i.prototype._initialize=function(){t.prototype._initialize.call(this),n.MetaFactory.findProp("labelContent",this._metaData.props).updateControl=function(t,i,n,e,r){return null!=r&&(n.dataLabel.content=r),!0}},i}(n.WjFlexChartBaseBinding=t);n.wjFlexChart=i;var e=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.FlexPie},i.prototype._initialize=function(){t.prototype._initialize.call(this),n.MetaFactory.findProp("labelContent",this._metaData.props).updateControl=function(t,i,n,e,r){return null!=r&&(n.dataLabel.content=r),!0}},i}(t);n.wjFlexPie=e;var r=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.Axis},i}(n.WjBinding);n.wjFlexChartAxis=r;var s=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.Legend},i}(n.WjBinding);n.wjFlexChartLegend=s;var o=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Cn(t,i),t.prototype._getControlConstructor=function(){return Xi.chart.SeriesBase},t.prototype._createControl=function(t){return i.prototype._createControl.call(this,null)},t}(n.WjBinding),h=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.Series},i.prototype._createWijmoContext=function(){return new c(this)},i}(n.WjSeriesBase=o);n.wjFlexChartSeries=h;var c=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Cn(t,i),t.prototype._initControl=function(){var n=this;i.prototype._initControl.call(this);var t=this.parentWjContext.control;t instanceof Xi.chart.FlexChart&&t.seriesVisibilityChanged.addHandler(function(t,i){n._updateSource()})},t}(n.WjContext);n.WjFlexChartSeriesContext=c;var a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.FinancialChart},i.prototype._initialize=function(){t.prototype._initialize.call(this),n.MetaFactory.findProp("labelContent",this._metaData.props).updateControl=function(t,i,n,e,r){return null!=r&&(n.dataLabel.content=r),!0}},i}(t);n.wjFinancialChart=a;var u=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.FinancialSeries},i.prototype._createWijmoContext=function(){return new l(this)},i}(n.WjBinding);n.wjFinancialChartSeries=u;var l=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Cn(t,i),t.prototype._initControl=function(){var n=this;i.prototype._initControl.call(this);var t=this.parentWjContext.control;t instanceof Xi.chart.finance.FinancialChart&&t.seriesVisibilityChanged.addHandler(function(t,i){n._updateSource()})},t}(n.WjContext);n.WjFinancialChartSeriesContext=l;var A=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.LineMarker},i}(n.WjBinding);n.wjFlexChartLineMarker=A;var f=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.interaction.RangeSelector},i}(n.WjBinding);n.wjFlexChartRangeSelector=f;var d=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.interaction.ChartGestures},i}(n.WjBinding);n.wjFlexChartGestures=d;var g=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.PlotArea},i}(n.WjBinding);n.wjFlexChartPlotArea=g;var w=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.DataPoint},i}(n.WjBinding);n.wjFlexChartDataPoint=w;var m=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.annotation.AnnotationLayer},i}(n.WjBinding);n.wjFlexChartAnnotationLayer=m;var b=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._createControl=function(t){return this._context._createAnnotation()},i.prototype._getMetaDataId=function(){return"FlexChartAnnotation"},i.prototype._createWijmoContext=function(){return this._context=new v(this),this._context},i}(n.WjBinding);n.wjFlexChartAnnotation=b;var v=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._createAnnotation=function(){var t=this.valueAccessor(),i=ko.unwrap(t.type);return new Xi.chart.annotation[i]},i}(n.WjContext);n.wjFlexChartAnnotationContext=v;var p=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.animation.ChartAnimation},i}(n.WjBinding);n.wjFlexChartAnimation=p;var E=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.analytics.TrendLineBase},i}(o),B=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.analytics.TrendLine},i}(n.WjTrendLineBase=E);n.wjFlexChartTrendLine=B;var j=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.analytics.MovingAverage},i}(E);n.wjFlexChartMovingAverage=j;var C=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.analytics.YFunctionSeries},i}(E);n.wjFlexChartYFunctionSeries=C;var I=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.analytics.ParametricFunctionSeries},i.prototype._initialize=function(){t.prototype._initialize.call(this),n.MetaFactory.findProp("func",this._metaData.props).updateControl=function(t,i,n,e,r){return null!=r&&(n.xFunc=r),!0}},i}(E);n.wjFlexChartParametricFunctionSeries=I;var Q=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.analytics.Waterfall},i}(o);n.wjFlexChartWaterfall=Q;var M=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.Fibonacci},i.prototype._createControl=function(t){return new Xi.chart.finance.analytics.Fibonacci},i}(o);n.wjFlexChartFibonacci=M;var F=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.FibonacciArcs},i.prototype._createControl=function(t){return new Xi.chart.finance.analytics.FibonacciArcs},i}(o);n.wjFlexChartFibonacciArcs=F;var y=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.FibonacciFans},i.prototype._createControl=function(t){return new Xi.chart.finance.analytics.FibonacciFans},i}(o);n.wjFlexChartFibonacciFans=y;var R=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.FibonacciTimeZones},i.prototype._createControl=function(t){return new Xi.chart.finance.analytics.FibonacciTimeZones},i}(o);n.wjFlexChartFibonacciTimeZones=R;var x=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.OverlayIndicatorBase},i}(o),k=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.SingleOverlayIndicatorBase},i}(n.WjBaseOverlayIndicator=x),S=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.ATR},i}(n.WjBaseSingleOverlayIndicator=k);n.wjFlexChartAtr=S;var Y=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.CCI},i}(k);n.wjFlexChartCci=Y;var D=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.RSI},i}(k);n.wjFlexChartRsi=D;var U=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.WilliamsR},i}(k);n.wjFlexChartWilliamsR=U;var N=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.MacdBase},i}(x),T=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.Macd},i}(n.WjFlexChartMacdBase=N);n.wjFlexChartMacd=T;var O=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.MacdHistogram},i}(N);n.wjFlexChartMacdHistogram=O;var H=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.Stochastic},i}(x);n.wjFlexChartStochastic=H;var z=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.BollingerBands},i}(x);n.wjFlexChartBollingerBands=z;var J=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Xi.chart.finance.analytics.Envelopes},i}(x);n.wjFlexChartEnvelopes=J}((Xi=vn||(window.wijmo=vn={})).knockout||(Xi.knockout={})),ko.bindingHandlers.wjFlexChart=new vn.knockout.wjFlexChart,ko.bindingHandlers.wjFlexPie=new vn.knockout.wjFlexPie,ko.bindingHandlers.wjFlexChartAxis=new vn.knockout.wjFlexChartAxis,ko.bindingHandlers.wjFlexChartLegend=new vn.knockout.wjFlexChartLegend,ko.bindingHandlers.wjFlexChartSeries=new vn.knockout.wjFlexChartSeries,ko.bindingHandlers.wjFinancialChart=new vn.knockout.wjFinancialChart,ko.bindingHandlers.wjFinancialChartSeries=new vn.knockout.wjFinancialChartSeries,ko.bindingHandlers.wjFlexChartLineMarker=new vn.knockout.wjFlexChartLineMarker,ko.bindingHandlers.wjFlexChartRangeSelector=new vn.knockout.wjFlexChartRangeSelector,ko.bindingHandlers.wjFlexChartGestures=new vn.knockout.wjFlexChartGestures,ko.bindingHandlers.wjFlexChartPlotArea=new vn.knockout.wjFlexChartPlotArea,ko.bindingHandlers.wjFlexChartDataPoint=new vn.knockout.wjFlexChartDataPoint,ko.bindingHandlers.wjFlexChartAnnotationLayer=new vn.knockout.wjFlexChartAnnotationLayer,ko.bindingHandlers.wjFlexChartAnnotation=new vn.knockout.wjFlexChartAnnotation,ko.bindingHandlers.wjFlexChartAnimation=new vn.knockout.wjFlexChartAnimation,ko.bindingHandlers.wjFlexChartTrendLine=new vn.knockout.wjFlexChartTrendLine,ko.bindingHandlers.wjFlexChartMovingAverage=new vn.knockout.wjFlexChartMovingAverage,ko.bindingHandlers.wjFlexChartYFunctionSeries=new vn.knockout.wjFlexChartYFunctionSeries,ko.bindingHandlers.wjFlexChartParametricFunctionSeries=new vn.knockout.wjFlexChartParametricFunctionSeries,ko.bindingHandlers.wjFlexChartWaterfall=new vn.knockout.wjFlexChartWaterfall,ko.bindingHandlers.wjFlexChartFibonacci=new vn.knockout.wjFlexChartFibonacci,ko.bindingHandlers.wjFlexChartFibonacciArcs=new vn.knockout.wjFlexChartFibonacciArcs,ko.bindingHandlers.wjFlexChartFibonacciFans=new vn.knockout.wjFlexChartFibonacciFans,ko.bindingHandlers.wjFlexChartFibonacciTimeZones=new vn.knockout.wjFlexChartFibonacciTimeZones,ko.bindingHandlers.wjFlexChartAtr=new vn.knockout.wjFlexChartAtr,ko.bindingHandlers.wjFlexChartCci=new vn.knockout.wjFlexChartCci,ko.bindingHandlers.wjFlexChartRsi=new vn.knockout.wjFlexChartRsi,ko.bindingHandlers.wjFlexChartWilliamsR=new vn.knockout.wjFlexChartWilliamsR,ko.bindingHandlers.wjFlexChartMacd=new vn.knockout.wjFlexChartMacd,ko.bindingHandlers.wjFlexChartMacdHistogram=new vn.knockout.wjFlexChartMacdHistogram,ko.bindingHandlers.wjFlexChartStochastic=new vn.knockout.wjFlexChartStochastic,ko.bindingHandlers.wjFlexChartBollingerBands=new vn.knockout.wjFlexChartBollingerBands,ko.bindingHandlers.wjFlexChartEnvelopes=new vn.knockout.wjFlexChartEnvelopes,Cn=window&&window.__extends||(Ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}Ki(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Zi.gauge.Gauge},i}(t.WjBinding),n=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Zi.gauge.LinearGauge},i}(t.WjGaugeBinding=i),e=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Zi.gauge.BulletGraph},i}(t.wjLinearGauge=n);t.wjBulletGraph=e;var r=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Zi.gauge.RadialGauge},i}(i);t.wjRadialGauge=r;var s=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return Zi.gauge.Range},i.prototype._createControl=function(t){return new Zi.gauge.Range},i}(t.WjBinding);t.wjRange=s}((Zi=vn||(window.wijmo=vn={})).knockout||(Zi.knockout={})),ko.bindingHandlers.wjLinearGauge=new vn.knockout.wjLinearGauge,ko.bindingHandlers.wjBulletGraph=new vn.knockout.wjBulletGraph,ko.bindingHandlers.wjRadialGauge=new vn.knockout.wjRadialGauge,ko.bindingHandlers.wjRange=new vn.knockout.wjRange,Cn=window&&window.__extends||(_i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}_i(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(t){var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return qi.olap.PivotGrid},i}(t.wjFlexGrid);t.wjPivotGrid=i;var n=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return qi.olap.PivotChart},i}(t.WjBinding);t.wjPivotChart=n;var e=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return qi.olap.PivotPanel},i}(t.WjBinding);t.wjPivotPanel=e}((qi=vn||(window.wijmo=vn={})).knockout||(qi.knockout={})),ko.bindingHandlers.wjPivotGrid=new vn.knockout.wjPivotGrid,ko.bindingHandlers.wjPivotChart=new vn.knockout.wjPivotChart,ko.bindingHandlers.wjPivotPanel=new vn.knockout.wjPivotPanel,Cn=window&&window.__extends||($i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}$i(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),on=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Cn(i,t),i.prototype._getControlConstructor=function(){return rn.nav.TreeView},i}((sn=(rn=vn||(window.wijmo=vn={})).knockout||(rn.knockout={})).WjBinding),sn.wjTreeView=on,ko.bindingHandlers.wjTreeView=new vn.knockout.wjTreeView,tn=vn||(window.wijmo=vn={}),nn=tn.knockout||(tn.knockout={}),en=function(){function l(){}return l._getSpecialProps=function(){var t={},i=tn.knockout.WjBinding;return t[i._controlPropAttr]=!0,t[i._parPropAttr]=!0,t},l.prototype.register=function(){this._foreignProc=ko.bindingProvider.instance.preprocessNode,ko.bindingProvider.instance.preprocessNode=this.preprocessNode.bind(this)},l.prototype.preprocessNode=function(t){var i=l._dataBindAttr;if(1!=t.nodeType||!this._isWjTag(t.tagName))return this._delegate(t);var n=nn.MetaFactory.toCamelCase(t.tagName),e=ko.bindingHandlers[n];if(!e)return this._delegate(t);e.ensureMetaData();for(var r,s="",o=t.attributes,h=document.createElement("div"),c=0;c<o.length;c++){var a=o[c];if(a.name.toLowerCase()!=i){var u=nn.MetaFactory.toCamelCase(a.name);this._isWjProp(u,e._metaData)?(s&&(s+=","),s+=u+":"+a.value):h.setAttribute(a.name,a.value)}else r=a}for(s=n+":{"+s+"}",r&&r.value&&r.value.trim()&&(s+=","+r.value),h.setAttribute(i,s);t.firstChild;)h.appendChild(t.firstChild);return t.parentNode.replaceChild(h,t),[h]},l.prototype._delegate=function(t){return this._foreignProc?this._foreignProc(t):void 0},l.prototype._isWjTag=function(t){var i=l._wjTagPrefix;return t&&t.length>i.length&&t.substr(0,i.length).toLowerCase()===i},l.prototype._isWjProp=function(t,i){return l._specialProps[t]||tn.knockout.MetaFactory.findProp(t,i.props)||tn.knockout.MetaFactory.findEvent(t,i.events)},l._specialProps=l._getSpecialProps(),l._dataBindAttr="data-bind",l._wjTagPrefix="wj-",l}(),nn.WjTagsPreprocessor=en,vn.disableKnockoutTags||(new vn.knockout.WjTagsPreprocessor).register(),hn=vn||(window.wijmo=vn={}),function(g){var r,w,t,i;hn.culture.FlexGridDetailProvider=window.wijmo.culture.FlexGridDetailProvider||{ariaLabels:{toggleDetail:"Toggle Row Detail"}},(i=r=g.KeyAction||(g.KeyAction={}))[i.None=0]="None",i[i.ToggleDetail=1]="ToggleDetail",(t=w=g.DetailVisibilityMode||(g.DetailVisibilityMode={}))[t.Code=0]="Code",t[t.Selection=1]="Selection",t[t.ExpandSingle=2]="ExpandSingle",t[t.ExpandMulti=3]="ExpandMulti";var n=function(){function d(n,t){var e=this;this._mode=w.ExpandSingle,this._animated=!1,this._keyActionEnter=r.None,(this._g=n).mergeManager=new g.DetailMergeManager(n),n.rowHeaders.hostElement.addEventListener("click",this._hdrClick.bind(this)),n.rowHeaders.hostElement.addEventListener("mousedown",function(t){var i=n.editableCollectionView;(n.activeEditor||i&&i.currentEditItem)&&(e._hdrClick(t),t.preventDefault())}),n.formatItem.addHandler(this._formatItem,this),n.selectionChanged.addHandler(this._selectionChanged,this),n.resizedRow.addHandler(this._resizedRow,this),n.loadingRows.addHandler(function(){e.hideDetail()}),n.draggingRow.addHandler(function(t,i){i.row<t.rows.length-1&&t.rows[i.row+1]instanceof g.DetailRow&&(i.cancel=!0,e.hideDetail(i.row))}),n.hostElement.addEventListener("keydown",function(t){if(t.keyCode==hn.Key.Enter&&e._keyActionEnter==r.ToggleDetail){var i=e._g.selection.row;e._toggleRowDetail(i)&&t.preventDefault()}},!0),t&&hn.copy(this,t)}return Object.defineProperty(d.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"detailVisibilityMode",{get:function(){return this._mode},set:function(t){(t=hn.asEnum(t,w))!=this._mode&&(this._mode=t,this.hideDetail(),this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(t){this._maxHeight=hn.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isAnimated",{get:function(){return this._animated},set:function(t){t!=this._animated&&(this._animated=hn.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"keyActionEnter",{get:function(){return this._keyActionEnter},set:function(t){this._keyActionEnter=hn.asEnum(t,r)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"createDetailCell",{get:function(){return this._createDetailCellFn},set:function(t){this._createDetailCellFn=hn.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"disposeDetailCell",{get:function(){return this._disposeDetailCellFn},set:function(t){this._disposeDetailCellFn=hn.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"rowHasDetail",{get:function(){return this._rowHasDetailFn},set:function(t){this._rowHasDetailFn=hn.asFunction(t,!0)},enumerable:!0,configurable:!0}),d.prototype.getDetailRow=function(t){t=this._toIndex(t);var i=this._g.rows;return i[t]instanceof g.DetailRow?i[t]:t<i.length-1&&i[t+1]instanceof g.DetailRow?i[t+1]:null},d.prototype.isDetailVisible=function(t){return null!=this.getDetailRow(t)},d.prototype.isDetailAvailable=function(t){return t=this._toIndex(t),this._hasDetail(t)},d.prototype.hideDetail=function(t){var i=this._g.rows;if(null!=t){!(i[t=this._toIndex(t)]instanceof g.DetailRow)&&t<i.length-1&&i[t+1]instanceof g.DetailRow&&t++;var n=i[t];n instanceof g.DetailRow&&(this.disposeDetailCell&&this.disposeDetailCell(n),hn.Control.disposeAll(n.detail),i.removeAt(t))}else for(var e=0;e<i.length;e++)i[e]instanceof g.DetailRow&&this.hideDetail(e)},d.prototype.showDetail=function(i,t){void 0===t&&(t=!1);var n=this._g,e=n.rows;if(0<(i=this._toIndex(i))&&e[i]instanceof g.DetailRow&&i--,t){for(var r=n.selection,s=!1,o=0;o<e.length-1;o++)o!=i&&e[o+1]instanceof g.DetailRow&&(this.hideDetail(o),o<i&&i--,o<r.row&&(r.row--,r.row2--,s=!0));s&&n.select(r,!1)}if(!this.isDetailVisible(i)&&this._hasDetail(i)){var h=new g.DetailRow(e[i]);if(h.detail=this._createDetailCell(e[i]),h.detail)if(e.insert(i+1,h),this._animated){var c=h.detail.style;c.transform="translateY(-100%)",c.opacity="0",hn.animate(function(t){t<1?(c.transform="translateY("+(100*-(1-t)).toFixed(0)+"%)",c.opacity=(t*t).toString()):(c.transform="",c.opacity="",hn.Control.invalidateAll(h.detail),n.scrollIntoView(i+1,-1))})}else n.scrollIntoView(i+1,-1)}},d.prototype._toIndex=function(t){return t instanceof cn.Row&&(t=t.index),hn.asNumber(t,!1,!0)},d.prototype._hdrClick=function(t){if(!t.defaultPrevented&&0==t.button&&hn.closestClass(t.target,d._WJC_DETAIL))switch(this._mode){case w.ExpandMulti:case w.ExpandSingle:var i=this._g,n=i.hitTest(t.target);n.panel||(n=i.hitTest(t)),n.panel&&this._toggleRowDetail(n.row)&&t.preventDefault()}},d.prototype._toggleRowDetail=function(t){if(-1<t&&this._hasDetail(t)){if(this.isDetailVisible(t))this.hideDetail(t);else{var i=this._g;i.select(new cn.CellRange(t,0,t,i.columns.length-1)),this.showDetail(t,this._mode==w.ExpandSingle)}return!0}return!1},d.prototype._selectionChanged=function(t,i){var n=this;this._mode==w.Selection&&(this._toSel&&clearTimeout(this._toSel),this._toSel=setTimeout(function(){-1<t.selection.row?n.showDetail(t.selection.row,!0):n.hideDetail()},300))},d.prototype._formatItem=function(t,i){var n=this._g,e=i.panel.rows[i.row];if(i.panel==n.cells&&e instanceof g.DetailRow&&null!=e.detail&&i.col==n.cells.columns.frozen)if(hn.addClass(i.cell,"wj-detail"),i.cell.textContent="",i.cell.style.textAlign="",i.cell.appendChild(e.detail),null==e.height){hn.Control.refreshAll(i.cell);var r=getComputedStyle(i.cell),s=parseInt(r.paddingTop)+parseInt(r.paddingBottom),o=e.detail.scrollHeight+s;0<this._maxHeight&&o>this._maxHeight&&(o=this._maxHeight),e.height=o,e.detail.style.height||(e.detail.style.height="100%");var h=e.detail.querySelector(".wj-flexgrid");h&&!h.style.height&&(h.style.height="100%")}else setTimeout(function(){hn.Control.refreshAll(e.detail)});if(i.panel==n.rowHeaders&&0==i.col&&this._hasDetail(i.row))switch(i.cell.style.cursor="",this._mode){case w.ExpandMulti:case w.ExpandSingle:var c=i.cell,a=n.rows[i.row+1]instanceof g.DetailRow,u=a?"minus":"plus",l=d._WJC_DETAIL;c.innerHTML='<button class="wj-btn wj-btn-glyph '+l+'" type="button" tabindex="-1"><span class="wj-glyph-'+u+'"></span></button>';var A=c.children[0],f=hn.culture.FlexGridDetailProvider.ariaLabels.toggleDetail;hn.setAriaLabel(A,f),hn.setAttribute(A,"aria-expanded",a)}},d.prototype._resizedRow=function(t,i){var n=i.panel.rows[i.row];n instanceof g.DetailRow&&n.detail&&hn.Control.refreshAll(n.detail)},d.prototype._hasDetail=function(t){var i=this._g.rows[t];return hn.isFunction(this._rowHasDetailFn)?this._rowHasDetailFn(i):this._isRegularRow(i)},d.prototype._isRegularRow=function(t){return!(t instanceof cn.GroupRow||t instanceof cn._NewRowTemplate)},d.prototype._createDetailCell=function(t,i){return this.createDetailCell?this.createDetailCell(t,i):null},d._WJC_DETAIL="wj-elem-detail",d}();g.FlexGridDetailProvider=n}((cn=hn.grid||(hn.grid={})).detail||(cn.detail={})),Cn=window&&window.__extends||(an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}an(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),un=vn||(window.wijmo=vn={}),An=(ln=un.grid||(un.grid={})).detail||(ln.detail={}),fn=function(o){function t(t){return o.call(this,t)||this}return Cn(t,o),t.prototype.getMergedRange=function(t,i,n,e){switch(void 0===e&&(e=!0),t.cellType){case ln.CellType.Cell:if(t.rows[i]instanceof An.DetailRow){var r=t.columns,s=Math.min(r.length,r.frozen);return n<s?new ln.CellRange(i,0,i,s-1):new ln.CellRange(i,s,i,r.length-1)}break;case ln.CellType.RowHeader:if(t.rows[i]instanceof An.DetailRow)return new ln.CellRange(i-1,n,i,n);if(i<t.rows.length-1&&t.rows[i+1]instanceof An.DetailRow)return new ln.CellRange(i,n,i+1,n)}return o.prototype.getMergedRange.call(this,t,i,n,e)},t}(ln.MergeManager),An.DetailMergeManager=fn,Cn=window&&window.__extends||(dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}dn(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),mn=(wn=(gn=vn||(window.wijmo=vn={})).grid||(gn.grid={})).detail||(wn.detail={}),bn=function(n){function t(t){var i=n.call(this)||this;return i.isReadOnly=!0,i}return Cn(t,n),Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},set:function(t){this._detail=t},enumerable:!0,configurable:!0}),t}(wn.Row),mn.DetailRow=bn,pn=vn||(window.wijmo=vn={}),En=(jn=pn.grid||(pn.grid={})).accessibility||(jn.accessibility={}),Bn=function(){function t(t){this._step=5;var i=(this._g=t).hostElement;t.addEventListener(i,"keydown",this._keydown.bind(this),!0),t.addEventListener(i,"keypress",this._keypress.bind(this),!0),this._alert=document.createElement("div"),this._alert.setAttribute("role","alert"),this._alert.setAttribute("aria-live","assertive"),pn.setCss(this._alert,{position:"fixed",top:-1e3,left:-1e3}),i.appendChild(this._alert)}return Object.defineProperty(t.prototype,"polite",{get:function(){return"polite"==this._alert.getAttribute("aria-live")},set:function(t){this._alert.setAttribute("aria-live",t?"polite":"assertive")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeStep",{get:function(){return this._step},set:function(t){this._step=t},enumerable:!0,configurable:!0}),t.prototype.alert=function(t){this._alert.textContent=t},t.prototype._keydown=function(t){var i=this._g;if(this._ignoreKeyPress=!1,t.altKey&&i.allowResizing&jn.AllowResizing.Columns)switch(t.keyCode){case pn.Key.End:case pn.Key.Left:case pn.Key.Right:var n=i.selection;if(-1<n.col){var e=i.columns,r=e[n.col].renderWidth,s=this._step*(t.shiftKey?2:1);if(t.keyCode==pn.Key.End)i.autoSizeColumns(n.leftCol,n.rightCol);else{t.keyCode==pn.Key.Left?r=Math.round(Math.max(s,r-s)):t.keyCode==pn.Key.Right&&(r=Math.round(r+s));for(var o=n.leftCol;o<=n.rightCol;o++)e[o].allowResizing&&(e[o].width=r)}}this._ignoreKeyPress=!0,t.preventDefault()}},t.prototype._keypress=function(t){this._ignoreKeyPress&&(t.preventDefault(),this._ignoreKeyPress=!1)},t}(),En.AccessibilityExtender=Bn;var In,Qn,Mn,Fn,yn=function(){function t(t){var i=this;this.addGridScrolledListener=function(t){i.component.attachScrollHandler(t)},this.component=t}return Object.defineProperty(t.prototype,"itemHeightEstimate",{get:function(){return this.component.itemHeightEstimate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wasItemHeightEstimateAccurate",{get:function(){return this.component.wasItemHeightEstimateAccurate},enumerable:!0,configurable:!0}),t.prototype.removeGridScrolledListener=function(t){var i=this.component.getScrollableElement();i&&i.removeEventListener("scroll",t)},t.prototype.getRowHeight=function(){return this.component.getRenderedCellHeight()},t.prototype.getScrollHeight=function(){return $(this.component.getScrollableElement()).prop("scrollHeight")},t.prototype.getClientHeight=function(){return $(this.component.getScrollableElement()).prop("clientHeight")},t.prototype.getOffsetHeight=function(){return $(this.component.getScrollableElement()).prop("offsetHeight")},t.prototype.getScrollTop=function(){return $(this.component.getScrollableElement()).scrollTop()},t.prototype.scrollTop=function(t){$(this.component).scrollTop(t)},t.prototype.setItemsToRender=function(t){this.itemHeightEstimate&&this.component.setItemsToRender(t)},t.prototype.dispose=function(){this.component=null},t}();(Qn=In||(In={}))[Qn.Reflow=0]="Reflow",Qn[Qn.GridOnly=1]="GridOnly",Qn[Qn.ListOnly=2]="ListOnly",(Fn=Mn||(Mn={}))[Fn.Grid=0]="Grid",Fn[Fn.List=1]="List";var Rn,xn,kn=function(){function i(){}return Object.defineProperty(i,"ReflowString",{get:function(){return"reflow"},enumerable:!0,configurable:!0}),Object.defineProperty(i,"GridOnlyString",{get:function(){return"gridonly"},enumerable:!0,configurable:!0}),Object.defineProperty(i,"ListOnlyString",{get:function(){return"listonly"},enumerable:!0,configurable:!0}),i.parseValue=function(t){switch(t.toLowerCase()){case i.ReflowString:return In.Reflow;case i.GridOnlyString:return In.GridOnly;case i.ListOnlyString:return In.ListOnly;default:return null}},i}(),Sn=function(){function i(){this.listCommands=[],this.gridCommands=[]}return i.prototype.addCommandListener=function(t,i,n,e,r,s){void 0===r&&(r=""),void 0===s&&(s="");var o={Tooltip:{title:s},Icon:r,DisplayText:i,Id:n,execute:e};t===Mn.List?this.listCommands.push(o):this.gridCommands.push(o)},i.prototype.fireListEvents=function(t){!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.utils.eventListenerExists)&&t.utils.eventListenerExists(i.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR)&&t.utils.fireEvent(i.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR,this.listCommands)},i.prototype.fireGridEvents=function(t){!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.utils.eventListenerExists)&&t.utils.eventListenerExists(i.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR)&&t.utils.fireEvent(i.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR,this.gridCommands)},i.prototype.disposeCommands=function(t){t===Mn.List?this.listCommands=[]:this.gridCommands=[]},i.SEND_CONTROL_COMMANDS_TO_HOST_COMMANDBAR="sendgridcontrolcommandstohostcommandbar",i}(),Yn=function(){function n(){}return n.generateFormDescriptorInfoForActivityPointer=function(t,i){t&&t.attributeDescriptors&&(i[De.CardHeader]=[],t.attributeDescriptors[n.ActivityTypeCode]&&i[De.CardHeader].push({DataFieldName:t.attributeDescriptors[n.ActivityTypeCode].LogicalName,Label:t.attributeDescriptors[n.ActivityTypeCode].DisplayName,ClassId:t.attributeDescriptors[n.ActivityTypeCode].Id}),t.attributeDescriptors[n.PriorityCode]&&i[De.CardHeader].push({DataFieldName:t.attributeDescriptors[n.PriorityCode].LogicalName,Label:t.attributeDescriptors[n.PriorityCode].DisplayName,ClassId:t.attributeDescriptors[n.PriorityCode].Id}),t.attributeDescriptors[n.ScheduledEnd]&&i[De.CardHeader].push({DataFieldName:t.attributeDescriptors[n.ScheduledEnd].LogicalName,Label:t.attributeDescriptors[n.ScheduledEnd].DisplayName,ClassId:t.attributeDescriptors[n.ScheduledEnd].Id}),i[De.CardDetails]=[],t.attributeDescriptors[n.Subject]&&i[De.CardDetails].push({DataFieldName:t.attributeDescriptors[n.Subject].LogicalName,Label:t.attributeDescriptors[n.Subject].DisplayName,ClassId:t.attributeDescriptors[n.Subject].Id}),t.attributeDescriptors[n.RegardingObjectId]&&i[De.CardDetails].push({DataFieldName:t.attributeDescriptors[n.RegardingObjectId].LogicalName,Label:t.attributeDescriptors[n.RegardingObjectId].DisplayName,ClassId:t.attributeDescriptors[n.RegardingObjectId].Id}),i[De.CardFooter]=[],t.attributeDescriptors[n.OwnerId]&&i[De.CardFooter].push({DataFieldName:t.attributeDescriptors[n.OwnerId].LogicalName,Label:t.attributeDescriptors[n.OwnerId].DisplayName,ClassId:t.attributeDescriptors[n.OwnerId].Id}),t.attributeDescriptors[n.CreatedOn]&&i[De.CardFooter].push({DataFieldName:t.attributeDescriptors[n.CreatedOn].LogicalName,Label:t.attributeDescriptors[n.CreatedOn].DisplayName,ClassId:t.attributeDescriptors[n.CreatedOn].Id}),i[De.ColorStrip]=[],t.attributeDescriptors[n.StateCode]&&i[De.ColorStrip].push({DataFieldName:t.attributeDescriptors[n.StateCode].LogicalName,Label:t.attributeDescriptors[n.StateCode].DisplayName,ClassId:t.attributeDescriptors[n.StateCode].Id}))},n.ActivityTypeCode="activitytypecode",n.PriorityCode="prioritycode",n.ScheduledEnd="scheduledend",n.Subject="subject",n.Description="description",n.RegardingObjectId="regardingobjectid",n.OwnerId="ownerid",n.CreatedOn="createdon",n.StateCode="statecode",n}(),Dn=function(){function u(){}return u.keyboardNavigation=function(t,i){if(-1!==u.supportedKeys.indexOf(t.keyCode)){var n=t.target,e=t.currentTarget,r=e===n.parentElement,s=r?n:u.findListItem(n,e);switch(t.keyCode){case 38:var o=s.previousElementSibling;o&&o.focus(),t.preventDefault();break;case 40:var h=s.nextElementSibling;h&&h.focus(),t.preventDefault();break;case 36:if(r){var c=s.parentElement.firstElementChild;c&&c.focus()}break;case 35:if(r){var a=s.parentElement.lastElementChild;a&&a.focus()}break;case 13:(i||s).click()}}},u.findListItem=function(t,i){for(;t.parentElement!==i&&(t=t.parentElement););return t},u.supportedKeys=[38,40,13,36,35],u}();(xn=Rn||(Rn={}))[xn.Entity=0]="Entity",xn[xn.List=1]="List",xn[xn.Account=2]="Account",xn[xn.Opportunity=3]="Opportunity",xn[xn.Sharepointdocument=4]="Sharepointdocument",xn[xn.Dashboard=5]="Dashboard",xn[xn.WORKSPACE=6]="WORKSPACE",xn[xn.Lead=7]="Lead",xn[xn.Contact=8]="Contact",xn[xn.Activitypointer=9]="Activitypointer",xn[xn.Drafts=10]="Drafts",xn[xn.Systemuser=11]="Systemuser",xn[xn.Letter=12]="Letter",xn[xn.Salesorder=13]="Salesorder",xn[xn.Competitor=14]="Competitor",xn[xn.Task=15]="Task",xn[xn.Fax=16]="Fax",xn[xn.Email=17]="Email",xn[xn.Phonecall=18]="Phonecall",xn[xn.Contract=19]="Contract",xn[xn.Quote=20]="Quote",xn[xn.Incident=21]="Incident",xn[xn.Campaign=22]="Campaign",xn[xn.Appointment=23]="Appointment",xn[xn.Invoice=24]="Invoice",xn[xn.Knowledgearticle=25]="Knowledgearticle",xn[xn.Product=26]="Product",xn[xn.Opportunityproduct=27]="Opportunityproduct",xn[xn.Queueitem=28]="Queueitem",xn[xn.Socialprofile=29]="Socialprofile",xn[xn.ChevronRight=30]="ChevronRight",xn[xn.Globe=31]="Globe",xn[xn.Ticker=32]="Ticker",xn[xn.Duration=33]="Duration",xn[xn.Timezone=34]="Timezone",xn[xn.Language=35]="Language",xn[xn.MultipleUsers=36]="MultipleUsers",xn[xn.Regarding=37]="Regarding",xn[xn.Checklist=38]="Checklist",xn[xn.TwoOptions=39]="TwoOptions",xn[xn.Currency=40]="Currency",xn[xn.DateTime=41]="DateTime",xn[xn.OfficeIcon=42]="OfficeIcon",xn[xn.OfficeIconWordFileSharedWithMe=43]="OfficeIconWordFileSharedWithMe",xn[xn.OfficeIconWordFileCheckedOut=44]="OfficeIconWordFileCheckedOut",xn[xn.OfficeIconExcelFile=45]="OfficeIconExcelFile",xn[xn.OfficeIconExcelFileSharedWithMe=46]="OfficeIconExcelFileSharedWithMe",xn[xn.OfficeIconExcelFileCheckedOut=47]="OfficeIconExcelFileCheckedOut",xn[xn.OfficeIconPowerPointFile=48]="OfficeIconPowerPointFile",xn[xn.OfficeIconPowerPointFileSharedWithMe=49]="OfficeIconPowerPointFileSharedWithMe",xn[xn.OfficeIconPowerPointFileCheckedOut=50]="OfficeIconPowerPointFileCheckedOut",xn[xn.OfficeIconOneNoteFile=51]="OfficeIconOneNoteFile",xn[xn.OfficeIconOneNoteFileSharedWithMe=52]="OfficeIconOneNoteFileSharedWithMe",xn[xn.OfficeIconOneNoteFileCheckedOut=53]="OfficeIconOneNoteFileCheckedOut",xn[xn.OfficeIconAccessFile=54]="OfficeIconAccessFile",xn[xn.OfficeIconAccessFileSharedWithMe=55]="OfficeIconAccessFileSharedWithMe",xn[xn.OfficeIconAccessFileCheckedOut=56]="OfficeIconAccessFileCheckedOut",xn[xn.OfficeIconProjectFile=57]="OfficeIconProjectFile",xn[xn.OfficeIconProjectFileSharedWithMe=58]="OfficeIconProjectFileSharedWithMe",xn[xn.OfficeIconProjectFileCheckedOut=59]="OfficeIconProjectFileCheckedOut",xn[xn.OfficeIconVisioFile=60]="OfficeIconVisioFile",xn[xn.OfficeIconVisioFileSharedWithMe=61]="OfficeIconVisioFileSharedWithMe",xn[xn.OfficeIconVisioFileCheckedOut=62]="OfficeIconVisioFileCheckedOut",xn[xn.OfficeIconHelpFile=63]="OfficeIconHelpFile",xn[xn.OfficeIconHelpFileSharedWithMe=64]="OfficeIconHelpFileSharedWithMe",xn[xn.OfficeIconHelpFileCheckedOut=65]="OfficeIconHelpFileCheckedOut",xn[xn.OfficeIconZipFile=66]="OfficeIconZipFile",xn[xn.OfficeIconZipFileSharedWithMe=67]="OfficeIconZipFileSharedWithMe",xn[xn.OfficeIconZipFileCheckedOut=68]="OfficeIconZipFileCheckedOut",xn[xn.OfficeIconSetupFile=69]="OfficeIconSetupFile",xn[xn.OfficeIconSetupFileSharedWithMe=70]="OfficeIconSetupFileSharedWithMe",xn[xn.OfficeIconSetupFileCheckedOut=71]="OfficeIconSetupFileCheckedOut",xn[xn.OfficeIconVideoFile=72]="OfficeIconVideoFile",xn[xn.OfficeIconVideoFileSharedWithMe=73]="OfficeIconVideoFileSharedWithMe",xn[xn.OfficeIconVideoFileCheckedOut=74]="OfficeIconVideoFileCheckedOut",xn[xn.OfficeIconImageFile=75]="OfficeIconImageFile",xn[xn.OfficeIconImageFileSharedWithMe=76]="OfficeIconImageFileSharedWithMe",xn[xn.OfficeIconImageFileCheckedOut=77]="OfficeIconImageFileCheckedOut",xn[xn.OfficeIconAudioFile=78]="OfficeIconAudioFile",xn[xn.OfficeIconAudioFileSharedWithMe=79]="OfficeIconAudioFileSharedWithMe",xn[xn.OfficeIconAudioFileCheckedOut=80]="OfficeIconAudioFileCheckedOut",xn[xn.OfficeIconExecutableFile=81]="OfficeIconExecutableFile",xn[xn.OfficeIconExecutableFileSharedWithMe=82]="OfficeIconExecutableFileSharedWithMe",xn[xn.OfficeIconExecutableFileCheckedOut=83]="OfficeIconExecutableFileCheckedOut",xn[xn.OfficeIconPdfFile=84]="OfficeIconPdfFile",xn[xn.OfficeIconPdfFileSharedWithMe=85]="OfficeIconPdfFileSharedWithMe",xn[xn.OfficeIconPdfFileCheckedOut=86]="OfficeIconPdfFileCheckedOut",xn[xn.OfficeIconWebFile=87]="OfficeIconWebFile",xn[xn.OfficeIconWebFileSharedWithMe=88]="OfficeIconWebFileSharedWithMe",xn[xn.OfficeIconWebFileCheckedOut=89]="OfficeIconWebFileCheckedOut",xn[xn.OfficeIconTextFile=90]="OfficeIconTextFile",xn[xn.OfficeIconTextFileSharedWithMe=91]="OfficeIconTextFileSharedWithMe",xn[xn.OfficeIconTextFileCheckedOut=92]="OfficeIconTextFileCheckedOut",xn[xn.OfficeIconFolder=93]="OfficeIconFolder",xn[xn.OfficeIconFolderSharedWithMe=94]="OfficeIconFolderSharedWithMe",xn[xn.OfficeIconFolderCheckedOut=95]="OfficeIconFolderCheckedOut",xn[xn.OfficeIconGenericFile=96]="OfficeIconGenericFile",xn[xn.OfficeIconGenericFileSharedWithMe=97]="OfficeIconGenericFileSharedWithMe",xn[xn.OfficeIconGenericFileCheckedOut=98]="OfficeIconGenericFileCheckedOut",xn[xn.Timer=99]="Timer";var Un,Nn,Tn=function(){function t(){}return t.editableGridAria="CC_Grid_Name",t.commandBarFlyoutOpenButton="Command_Bar_Flyout_Open_Button",t.commandBarSortIconText="Command_Bar_Sort_Icon_Text",t.commandBarSortToolTipText="Command_Bar_Sort_Tool_Tip_Text",t.commandBarSelectIconText="Command_Bar_Select_Icon_Text",t.commandBarSelectToolTipText="Command_Bar_Select_Tool_Tip_Text",t.emptyCellAria="CustomControl_Grid_Aria_Empty_Cell",t.cellTemplateAria="CustomControl_Grid_Aria_Cell_Template",t.groupByMenuHeader="CustomControl_Grid_GroupBy_MenuHeader",t.chooseColumnsMenuHeader="CustomControl_Grid_ChooseColumns_MenuHeader",t.groupByItemsCount="CustomControl_Grid_GroupBy_Items",t.noGroupingOption="CustomControl_Grid_NoGrouping",t.firstPageTooltip="CustomControl_Grid_Paging_First",t.nextPageTooltip="CustomControl_Grid_Paging_Next",t.currentPageTooltip="CustomControl_Grid_Paging_Current",t.currentPagingMask="Grid_Paging_Mask",t.previousPageTooltip="CustomControl_Grid_Paging_Previous",t.accessibilityStartEditingInstruction="CustomControl_Grid_Accessibility_StartEditingInstruction",t.rollupFieldLastUpdatedLabel="RollupFieldLastUpdatedLabel",t.durationHoursText="L_DurationScrollerItem.Hours_Text",t.durationMinutesText="L_DurationScrollerItem.Minutes_Text",t.durationDaysText="L_DurationScrollerItem.Days_Text",t.durationHourText="L_DurationScrollerItem.Hour_Text",t.durationMinuteText="L_DurationScrollerItem.Minute_Text",t.durationDayText="L_DurationScrollerItem.Day_Text",t.noRecordsText="L_List_No_Records_Text",t.jumpBarButtonText="JumpBar_Button_Text",t.enableLookupFilter="CustomControl_Grid_Lookup_Enable_Filter",t.disableLookupFilter="CustomControl_Grid_Lookup_Disable_Filter",t.gridFilteringAscending="CustomControl_Grid_Filtering_Ascending",t.gridFilteringDescending="CustomControl_Grid_Filtering_Descending",t.gridFilteringApply="CustomControl_Grid_Filtering_Apply",t.gridFilteringCancel="CustomControl_Grid_Filtering_Cancel",t.gridFilteringClear="CustomControl_Grid_Filtering_Clear",t.gridFilteringCondition="CustomControl_Grid_Filtering_Condition",t.gridFilteringValue="CustomControl_Grid_Filtering_Value",t.gridFilteringValueFilterSearch="CustomControl_Grid_Filtering_ValueFilter_Search",t.gridFilteringValueFilterSelectAll="CustomControl_Grid_Filtering_ValueFilter_SelectAll",t.gridFilteringValueFilterNull="CustomControl_Grid_Filtering_ValueFilter_Null",t.gridFilteringConditionFilterHeader="CustomControl_Grid_Filtering_ConditionFilter_Header",t.gridFilteringConditionFilterAnd="CustomControl_Grid_Filtering_ConditionFilter_And",t.gridFilteringConditionFilterOr="CustomControl_Grid_Filtering_ConditionFilter_Or",t.gridFilteringConditionFilterOperatorNotSet="CustomControl_Grid_Filtering_ConditionOperator_NotSet",t.gridFilteringConditionFilterOperatorEquals="CustomControl_Grid_Filtering_ConditionOperator_Equals",t.gridFilteringConditionFilterOperatorDoesNotEqual="CustomControl_Grid_Filtering_ConditionOperator_DoesNotEqual",t.gridFilteringConditionFilterOperatorBeginsWith="CustomControl_Grid_Filtering_ConditionOperator_BeginsWith",t.gridFilteringConditionFilterOperatorEndsWith="CustomControl_Grid_Filtering_ConditionOperator_EndsWith",t.gridFilteringConditionFilterOperatorContains="CustomControl_Grid_Filtering_ConditionOperator_Contains",t.gridFilteringConditionFilterOperatorDoesNotContain="CustomControl_Grid_Filtering_ConditionOperator_DoesNotContain",t.gridFilteringConditionFilterOperatorGreater="CustomControl_Grid_Filtering_ConditionOperator_Greater",t.gridFilteringConditionFilterOperatorGreaterOrEqual="CustomControl_Grid_Filtering_ConditionOperator_GreaterOrEqual",t.gridFilteringConditionFilterOperatorLess="CustomControl_Grid_Filtering_ConditionOperator_Less",t.gridFilteringConditionFilterOperatorLessOrEqual="CustomControl_Grid_Filtering_ConditionOperator_LessOrEqual",t.gridFilteringConditionFilterOperatorIsBefore="CustomControl_Grid_Filtering_ConditionOperator_IsBefore",t.gridFilteringConditionFilterOperatorIsAfter="CustomControl_Grid_Filtering_ConditionOperator_IsAfter",t.gridFilteringConditionFilterOperatorOn="CustomControl_Grid_Filtering_ConditionOperator_On",t.gridFilteringConditionFilterOperatorOnOrBefore="CustomControl_Grid_Filtering_ConditionOperator_OnOrBefore",t.gridFilteringConditionFilterOperatorOnOrAfter="CustomControl_Grid_Filtering_ConditionOperator_OnOrAfter",t.saveButtonLabel="L_Save_Text",t.selectAllButtonLabel="GridControl_SelectAll",t.selectAllButtonAccessibilityLabel="GridControl_SelectAllRows",t.refreshButtonLabel="MenuItem_Label_Refresh",t.unsavedStatusLabel="UnSavedChangesWarning",t.savingStatusLabel="SavingInformation",t.refreshStatusLabel="Grid.Loading.Data.Refresh",t.genericUpdateErrorLabel="Form_Component_Error",t.rowNavigationButtonTooltip="CustomControl_Grid_RowNavigation_Button_Tooltip",t.rowNavigationButtonTooltipSpecific="CustomControl_Grid_RowNavigation_Button_Tooltip_Specific",t.rowDeleteButtonTooltip="CustomControl_Grid_RowDelete_Button_Tooltip",t.multiPicklistNoItemsLabel="MultiSelectPicklistControl_NotItemsAvailable",t.multiPicklistSelectAllLabel="MultiSelectPicklistControl_SelectAll",t.multiPicklistTypeAheadLabel="MultiSelectPicklistControl_TypeAheadSearchText",t.multiPicklistMoreLabel="MultiSelectPicklistControl_More",t.multiPicklistLessLabel="MultiSelectPicklistControl_Less",t.multiPicklistItemsLabel="MultiSelectPicklistControl_Screenreader_OptionSetItem_AriaLabel",t.multiPicklistInputLabel="MultiSelectPicklistControl_Screenreader_TypeSomethingInput_AriaLabel",t.multiPicklistListNavigationLabel="MultiSelectPicklistControl_Screenreader_SelectedItemsList_Navigation",t.multiPicklistItemsRemovedLabel="MultiSelectPicklistControl_Screenreader_DisplayItems_Removed",t.multiPicklistMoreLinkTitle="MultiSelectPicklistControl_Screenreader_More_Title",t.multiPicklistLessLinkTitle="MultiSelectPicklistControl_Screenreader_Less_Title",t.multiPicklistSelectAllFocusTitle="MultiSelectPicklistControl_Screenreader_SelectAll_Title",t.multiPicklistSelectAllDeselect="MultiSelectPicklistControl_Screenreader_SelectAll_Deselect",t.multiPicklistSelectAllSelect="MultiSelectPicklistControl_Screenreader_SelectAll_Select",t.multiPicklistTotalItems="MultiSelectPicklistControl_Screenreader_TotalItems",t.multiPicklistDeleteTitle="MultiSelectPicklistControl_DeleteItem_Title",t.sortByColumnName="Grid_ToolTip_SortBy",t.sortedByColumnName="Grid_ToolTip_SortedBy",t.streamFiltered="Stream_Filtered",t.streamUnfiltered="Stream_Unfiltered",t.columnFiltered="AppliedFilters_ScreenReader_Label",t.columnUnfiltered="GridFilters_NoFilterAppliedTextForTooltip",t.streamBulkOperations="Stream_HeaderCommandBarMultiSelectIcon_Label",t.closeButton="closeButton",t.streamSortAscending="Stream_HeaderSortButton_Label_Ascending",t.streamSortDescending="Stream_HeaderSortButton_Label_Descending",t.gridRowText="Grid_Row_Text",t.gridHeaderRowText="Grid_Header_Row_Text",t.gridDataRowText="Grid_Data_Row_Text",t.listCardExpandText="ListCard_Expand_Text",t.listCardCollapseText="ListCard_Collapse_Text",t.closeSortPopupButtonText="Close_Sort_Popup_Button_Text",t.gridGroupRowText="Grid_GroupRow_Text",t.sortRecordsBy="Sort_Records_By",t.gridTotalCountApproximate="Grid_TotalCount_Approximate",t.dependentOptionSetSelectParent="Field.Information.SelectParent",t.dependentOptionSetIncompleteChain="Field.Information.IncompleteChain",t.hierarchyButtonLabel="Grid_Label_View_Hierarchy",t}(),On=function(){function i(){}return i.initialize=function(t){i.editableGridAriaLabel=t(Tn.editableGridAria),i.emptyCellAriaLabel=t(Tn.emptyCellAria),i.commandBarFlyoutOpenButton=t(Tn.commandBarFlyoutOpenButton),i.commandBarSortIconText=t(Tn.commandBarSortIconText),i.commandBarSortToolTipText=t(Tn.commandBarSortToolTipText),i.commandBarSelectIconText=t(Tn.commandBarSelectIconText),i.commandBarSelectToolTipText=t(Tn.commandBarSelectToolTipText),i.cellTemplateAriaLabel=t(Tn.cellTemplateAria),i.groupByMenuHeaderLabel=t(Tn.groupByMenuHeader),i.chooseColumnsMenuHeaderLabel=t(Tn.chooseColumnsMenuHeader),i.groupByItemsCountLabel=t(Tn.groupByItemsCount),i.noGroupingOptionLabel=t(Tn.noGroupingOption),i.firstPageTooltipLabel=t(Tn.firstPageTooltip),i.nextPageTooltipLabel=t(Tn.nextPageTooltip),i.currentPageTooltipLabel=t(Tn.currentPageTooltip),i.currentPagingMask=t(Tn.currentPagingMask),i.previousPageTooltipLabel=t(Tn.previousPageTooltip),i.accessibilityStartEditingInstruction=t(Tn.accessibilityStartEditingInstruction),i.rollupLastUpdatedLabel=t(Tn.rollupFieldLastUpdatedLabel),i.durationHoursLabel=t(Tn.durationHoursText),i.durationMinutesLabel=t(Tn.durationMinutesText),i.durationDaysLabel=t(Tn.durationDaysText),i.durationHourLabel=t(Tn.durationHourText),i.durationMinuteLabel=t(Tn.durationMinuteText),i.durationDayLabel=t(Tn.durationDayText),i.noRecordsText=t(Tn.noRecordsText),i.jumpBarButtonText=t(Tn.jumpBarButtonText),i.enableLookupFilter=t(Tn.enableLookupFilter),i.disableLookupFilter=t(Tn.disableLookupFilter),i.saveButtonLabel=t(Tn.saveButtonLabel),i.selectAllButtonLabel=t(Tn.selectAllButtonLabel),i.selectAllButtonAccessibilityLabel=t(Tn.selectAllButtonAccessibilityLabel),i.refreshButtonLabel=t(Tn.refreshButtonLabel),i.unsavedStatusLabel=t(Tn.unsavedStatusLabel),i.savingStatusLabel=t(Tn.savingStatusLabel),i.refreshStatusLabel=t(Tn.refreshStatusLabel),i.genericUpdateError=t(Tn.genericUpdateErrorLabel),i.rowNavigationButtonTooltip=t(Tn.rowNavigationButtonTooltip),i.rowNavigationButtonTooltipSpecific=t(Tn.rowNavigationButtonTooltipSpecific),i.rowDeleteButtonTooltip=t(Tn.rowDeleteButtonTooltip),i.multiPicklistNoItemsLabel=t(Tn.multiPicklistNoItemsLabel),i.multiPicklistSelectAllLabel=t(Tn.multiPicklistSelectAllLabel),i.multiPicklistTypeAheadLabel=t(Tn.multiPicklistTypeAheadLabel),i.multiPicklistMoreLabel=t(Tn.multiPicklistMoreLabel),i.multiPicklistLessLabel=t(Tn.multiPicklistLessLabel),i.multiPicklistItemsLabel=t(Tn.multiPicklistItemsLabel),i.multiPicklistInputLabel=t(Tn.multiPicklistInputLabel),i.multiPicklistListNavigationLabel=t(Tn.multiPicklistListNavigationLabel),i.multiPicklistItemsRemovedLabel=t(Tn.multiPicklistItemsRemovedLabel),i.multiPicklistMoreLinkTitle=t(Tn.multiPicklistMoreLinkTitle),i.multiPicklistLessLinkTitle=t(Tn.multiPicklistLessLinkTitle),i.multiPicklistSelectAllFocusTitle=t(Tn.multiPicklistSelectAllFocusTitle),i.multiPicklistSelectAllDeselect=t(Tn.multiPicklistSelectAllDeselect),i.multiPicklistSelectAllSelect=t(Tn.multiPicklistSelectAllSelect),i.multiPicklistTotalItems=t(Tn.multiPicklistTotalItems),i.multiPicklistDeleteTitle=t(Tn.multiPicklistDeleteTitle),i.sortByColumnName=t(Tn.sortByColumnName),i.sortedByColumnName=t(Tn.sortedByColumnName),i.streamFiltered=t(Tn.streamFiltered),i.streamUnfiltered=t(Tn.streamUnfiltered),i.columnFiltered=t(Tn.columnFiltered),i.columnUnfiltered=t(Tn.columnUnfiltered),i.sortedByNone=t(Tn.gridFilteringValueFilterNull),i.sortedByAscending=t(Tn.gridFilteringAscending),i.sortedByDescending=t(Tn.gridFilteringDescending),i.streamBulkOperations=t(Tn.streamBulkOperations),i.closeButton=t(Tn.closeButton),i.streamSortAscending=t(Tn.streamSortAscending),i.streamSortDescending=t(Tn.streamSortDescending),i.gridRowText=t(Tn.gridRowText),i.gridHeaderRowText=t(Tn.gridHeaderRowText),i.gridDataRowText=t(Tn.gridDataRowText),i.listCardExpandText=t(Tn.listCardExpandText),i.listCardCollapseText=t(Tn.listCardCollapseText),i.closeSortPopupButtonText=t(Tn.closeSortPopupButtonText),i.gridGroupRowText=t(Tn.gridGroupRowText),i.sortRecordsBy=t(Tn.sortRecordsBy),i.gridTotalCountApproximate=t(Tn.gridTotalCountApproximate),i.dependentOptionSetIncompleteChain=t(Tn.dependentOptionSetIncompleteChain),i.dependentOptionSetSelectParent=t(Tn.dependentOptionSetSelectParent),i.hierarchyButtonLabel=t(Tn.hierarchyButtonLabel)},i}(),Hn="ListHeader",zn="HeaderCommandBarCloseButton",Jn=function(){function t(t,i){this._context=t}return t.prototype.render=function(t){var i=!(this._context.parameters.EnableItemContextualActions&&!1===this._context.parameters.EnableItemContextualActions.raw),n=this._getTitle(),e=null;if(!t.IsSelectionMode){var r=this._getIcon(),s=this._getRecordCount(t),o=this._getSortDropdown(t);e=this._context.factory.createElement("CONTAINER",{key:"ListHeaderLeft",id:"ListHeaderLeft",style:{display:"flex",flexDirection:"row",alignItems:"center",minWidth:0}},[r,s,o])}var h=this._getCommandBar(t),c=t.IsSelectionMode?this._getCloseCommandBarIcon(t):null,a=this._context.factory.createElement("CONTAINER",{key:"ListHeaderRight",id:"ListHeaderRight",style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",backgroundColor:t.IsSelectionMode?this._context.theming.colors.grays.gray07:void 0,width:t.IsSelectionMode?"100%":void 0}},t.IsSelectionMode?i?h.concat([c]):c:h),u=this._context.factory.createElement("CONTAINER",{key:"ListHeaderRow",id:"ListHeaderRow",style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:this._context.theming.measures.measure050,height:this._context.theming.measures.measure225}},t.IsSelectionMode?a:[e,a]);return this._context.factory.createElement("CONTAINER",{key:Hn,id:Hn,style:{display:"flex",flexDirection:"column",flex:"0 0 auto",borderBottom:"1px "+this._context.theming.solidborderstyle+" "+this._context.theming.colors.grays.gray03,marginBottom:this._context.theming.measures.measure100}},[n,u])},t.prototype._getTitle=function(){var t=this._context.factory.createElement("TEXT",{key:"HeaderTitleText",id:"HeaderTitleText",semanticTag:"h2",style:{fontSize:this._context.theming.fontsizes.font115,fontWeight:"normal",color:this._context.theming.colors.basecolor.blue.blue4,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},this._context.parameters.Grid.getTitle?this._context.parameters.Grid.getTitle():""),i=!1;if("queueitem"===this._context.parameters.Grid.getTargetEntityType())for(var n=0,e=this._context.parameters.Grid.filtering&&this._context.parameters.Grid.filtering.getFilter()&&this._context.parameters.Grid.filtering.getFilter().conditions;n<e.length;n++){var r=e[n];("objecttypecode"!==r.attributeName&&"queueid"!==r.attributeName||r.hasOwnProperty("entityName"))&&(i=!0)}else i=this._context.parameters.Grid.filtering&&this._context.parameters.Grid.filtering.getFilter()&&this._context.parameters.Grid.filtering.getFilter().conditions&&0<this._context.parameters.Grid.filtering.getFilter().conditions.length;var s=this._context.factory.createElement("CONTAINER",{key:"HeaderTitleTextContainer",id:"HeaderTitleTextContainer",title:this._context.parameters.Grid.getTitle?this._context.parameters.Grid.getTitle():"",style:{minWidth:"0"}},t),o=this._context.factory.createElement("TEXT",{key:"HeaderTitleFiltered",id:"HeaderTitleFiltered",style:{fontSize:this._context.theming.fontsizes.font085,color:this._context.theming.colors.basecolor.grey.grey5,paddingLeft:this._context.client.isRTL?void 0:this._context.theming.measures.measure100,paddingRight:this._context.client.isRTL?this._context.theming.measures.measure100:void 0},title:i?On.streamFiltered:On.streamUnfiltered},i?On.streamFiltered:On.streamUnfiltered),h=this._context.factory.createElement("CONTAINER",{key:"HeaderTitleFilteredContainer",id:"HeaderTitleFilteredContainer"},o);return this._context.factory.createElement("CONTAINER",{key:"HeaderTitle",id:"HeaderTitle",style:{marginTop:this._context.theming.measures.measure025,height:this._context.theming.measures.measure225,marginBottom:this._context.theming.measures.measure025,alignItems:"center",justifyContent:"space-between",display:"flex"}},[s,h])},t.prototype._getIcon=function(){var t=this._context.parameters.Grid.getTargetEntityType();if(t){var i=t.charAt(0).toUpperCase()+t.substring(1),n="incident"===t?84:Rn[i]||Rn[0],e="incident"===t?"MICROSOFTICON":"CRMICON",r=this._context.factory.createElement(e,{key:"HeaderIcon",id:"HeaderIcon",type:n,title:this._context.parameters.Grid.getTitle?this._context.parameters.Grid.getTitle():""});return this._context.factory.createElement("CONTAINER",{key:"HeaderIconContainer",id:"HeaderIconContainer",style:{fontSize:"16px",color:this._context.theming.colors.grays.gray05}},r)}return null},t.prototype._getRecordCount=function(t){var i,n=this._getSortAttribute(t),e=this._context.factory.createElement("MICROSOFTICON",{key:"HeaderSortArrow",id:"HeaderSortArrow",type:1===n.sortAttribute.sortDirection?59:58}),r=this._context.factory.createElement("CONTAINER",{key:"HeaderSortChevronWrapper_RecordCount",id:"HeaderSortChevronWrapper_RecordCount",style:{fontSize:"16px",color:this._context.theming.colors.grays.gray07,marginLeft:this._context.theming.measures.measure050,marginRight:this._context.theming.measures.measure075}},e),s="";if(s=1===n.sortAttribute.sortDirection?On.streamSortDescending:On.streamSortAscending,0<=this._context.parameters.Grid.paging.totalResultCount)i=this._context.parameters.Grid.paging.totalResultCount;else{var o=this._context.orgSettings.gridTotalRecordCountLimit||5e3;i=MscrmCommon.ControlUtils.String.Format(On.gridTotalCountApproximate,o)}return s=i+" "+s,this._context.factory.createElement("BUTTON",{key:"HeaderRecordCount",id:"HeaderRecordCount",title:s,accessibilityLabel:s,describedByElementId:this._context.accessibility.getUniqueId("HeaderTitleText"),style:{background:"transparent",border:"0px none",marginLeft:this._context.theming.measures.measure075,fontSize:this._context.theming.fontsizes.font100,color:this._context.theming.colors.grays.gray07,alignItems:"center"},onClick:function(){n.isDefault&&t.sortingService.applySorting(n.sortAttribute.name),t.sortingService.applySorting(n.sortAttribute.name),t.sortingService.dataSet.refresh()}},[i,r])},t.prototype._getSortDropdown=function(t){var i=this._getSortAttribute(t),n=this._context.factory.createElement("MICROSOFTICON",{key:"HeaderSortChevron",id:"HeaderSortChevron",type:72}),e=this._context.factory.createElement("CONTAINER",{key:"HeaderSortChevronWrapper_SortDropdown",id:"HeaderSortChevronWrapper_SortDropdown",accessibilityHidden:!0,style:{fontSize:"16px",color:this._context.theming.colors.grays.gray07,marginLeft:this._context.theming.measures.measure050,marginRight:this._context.theming.measures.measure075}},n),r=this._context.factory.createElement("TEXT",{key:"HeaderSortAttribute",id:"HeaderSortAttribute",role:"presentation",style:{fontSize:this._context.theming.fontsizes.font100,color:this._context.theming.colors.grays.gray07,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},i.displayName),s=this._context.factory.createElement("CONTAINER",{key:"HeaderSortAttributeContainer",id:"HeaderSortAttributeConatiner",accessibilityHidden:!0,style:{minWidth:0}},r);return this._context.factory.createElement("BUTTON",{key:t.getListSortingPopup().getSortButtonId(),id:t.getListSortingPopup().getSortButtonId(),title:i.displayName,accessibilityLabel:On.sortRecordsBy+" "+i.displayName,accessibilityHasPopup:!0,accessibilityExpanded:t.getListSortingPopup().getSortPopupPopped(),describedByElementId:this._context.accessibility.getUniqueId("HeaderTitleText"),style:{background:"transparent",border:"0px none",paddingRight:0,paddingLeft:0,minWidth:0},onClick:t.getListSortingPopup().renderSortingPopup.bind(t.getListSortingPopup())},[s,e])},t.prototype._getSortAttribute=function(t){for(var i=null,n=null,e=t.getSortColumns(),r=t.sortingService.dataSet.sorting&&t.sortingService.dataSet.sorting[0],s=0,o=e;s<o.length;s++){var h=o[s];if(r&&r.name==h.alias)return{isDefault:!1,displayName:h.displayName,sortAttribute:r};if(!i&&(i=h.displayName,n=h.alias,!r))break}return{isDefault:!0,displayName:i,sortAttribute:{name:n,sortDirection:0}}},t.prototype._getCommandBar=function(t){var i,n,e,r=t.IsSelectionMode;if(!this._hasCommandBar){if(!r)return[this._getMultiSelectCommandBarButton(t)];this._hasCommandBar=!0}for(var s=[],o=0,h=t.selectedRecordIds;o<h.length;o++){var c=h[o],a=this._context.parameters.Grid.records[c];a&&s.push(a.getNamedReference())}var u=document.getElementById(this._context.accessibility.getUniqueId(Hn));if(u){var l=parseInt(window.getComputedStyle(u).width);l!=this.streamHeaderCommandBarWidth+28&&l&&(this.streamHeaderCommandBarWidth=l,this.streamHeaderCommandBarWidth-=28)}var A=this._context.factory.createElement("COMMANDBAR",{key:"HeaderCommandBar",id:"HeaderCommandBar",iconPosition:1,mainMenuLength:r?void 0:1,width:this.streamHeaderCommandBarWidth,ribbonId:"HomePageGrid:"+this._context.parameters.Grid.getTargetEntityType(),selectedRecords:s,isHidden:!r,customCommandManagerStyle:{margin:"0px",border:"0px none"},commandBarStyle:{container:{margin:"0px",border:"0px none"},list:{margin:"0px"},listItem:(i={margin:"0px",display:"flex",alignItems:"center"},i[this._context.client.isRTL?"paddingLeft":"paddingRight"]=this._context.theming.measures.measure100,i),listItemBody:{button:{display:"flex",alignItems:"center",fontSize:"16px",color:this._context.theming.colors.base.white,background:"transparent",border:"0px none",padding:"0px"},iconWrapperStyles:{display:"flex",alignItems:"center",marginLeft:this._context.theming.measures.measure100,marginRight:this._context.theming.measures.measure100,color:this._context.theming.colors.base.white},text:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"110px",color:this._context.theming.colors.base.white},icon:{color:this._context.theming.colors.base.white}},primaryOfSplitButton:(n={},n[this._context.client.isRTL?"marginLeft":"marginRight"]=this._context.theming.measures.measure100,n),moreIcon:{margin:r?void 0:"0px",marginLeft:r?this._context.theming.measures.measure100:void 0,marginRight:r?this._context.theming.measures.measure100:void 0,color:this._context.theming.colors.base.white},splitbuttonicon:{color:this._context.theming.colors.base.white},splitbuttonOverflowButton:(e={display:"flex",alignItems:"center"},e[this._context.client.isRTL?"paddingRight":"paddingLeft"]=this._context.theming.measures.measure050,e)}});return r?[A]:[A,this._getMultiSelectCommandBarButton(t)]},t.prototype._getCloseCommandBarIcon=function(t){var i=this,n=this._context.factory.createElement("MICROSOFTICON",{key:"HeaderCommandBarCloseIcon",id:"HeaderCommandBarCloseIcon",type:38});return this._context.factory.createElement("BUTTON",{key:zn,id:zn,title:On.closeButton,accessibilityLabel:On.closeButton,style:{fontSize:"16px",color:this._context.theming.colors.base.white,background:this._context.theming.colors.grays.gray07,border:"0px none",alignSelf:"center"},onClick:function(){t.OnSelectionModeChanged(),i._setFocus("button")}},n)},t.prototype._getMultiSelectCommandBarButton=function(t){var i=this,n=Rn.TwoOptions,e=this._context.factory.createElement("CRMICON",{key:"HeaderCommandBarCloseIcon",id:"HeaderCommandBarCloseIcon",type:n});return this._context.factory.createElement("BUTTON",{key:"HeaderCommandBarMultiSelectIcon",id:"HeaderCommandBarMultiSelectIcon",title:On.streamBulkOperations,accessibilityLabel:On.streamBulkOperations,accessibilityHasPopup:!0,style:{fontSize:"16px",color:this._context.theming.colors.grays.gray07,background:this._context.theming.colors.base.white,border:"0px none"},onClick:function(){t.OnSelectionModeChanged(),i._setFocus("ul > li")}},e)},t.prototype._setFocus=function(n){var e=this;window.setTimeout(function(){var t=e._context.accessibility.getUniqueId("ListHeaderRight"),i=document.getElementById(t).querySelector(n);i?i.focus():e._setFocus(n)},100)},t}(),Gn=function(){function t(){}return t.eventMouseDown="mousedown",t.eventMouseClick="click",t.eventKeyDown="keydown",t.eventFocus="focus",t.doubleTapThreshold=500,t.controlDivPostfix="_control",t.componentDivPostfix="_component",t.groupBySelectPostfix="_groupBySelect",t.genericErrorPostfix="_genericError",t.searchPlaceholderPostfix="_searchPlaceholder",t.updateErrorPostfix="_updateError",t.pagerPostfix="_pager",t.firstPagePostfix="_firstPage",t.previousPagePostfix="_previousPage",t.nextPagePostfix="_nextPage",t.noRecordsPostfix="_noRecords",t.ariaPoliteLiveRegionPostfix="_ariaPoliteLiveRegion",t.ariaAssertiveLiveRegionPostfix="_ariaAssertiveLiveRegion",t.statusAreaPostfix="_statusArea",t.labelPostfix="_label",t.valuePostfix="_value",t.instructionPostfix="_instruction",t.cellErrorMessagePostfix="_error_message",t.progressIndicatorPostfix="_progressIndicator",t.tabIndex="tabindex",t.dataId="data-id",t.cellId="id",t.role="role",t.dataRowCount="data-row-count",t.dataColumnCount="data-col-count",t.rowHeaderRowNumber="header-row-number",t.dataType="data-type",t.ariaDescribedBy="aria-describedby",t.ariaRequired="aria-required",t.ariaReadOnly="aria-readonly",t.ariaInvalid="aria-invalid",t.ariaLabel="aria-label",t.ariaLabelledBy="aria-labelledby",t.ariaSort="aria-sort",t.stateGridLayout="gridColumnLayout",t.nonBreakingSpace=String.fromCharCode(160),t.OptionSetValue="Value",t.OptionSetLabel="Label",t.appBarClass="data-selectable",t.rowSelectedClass="cc-grid-selectedRow",t.noRecordsLabelClass="cc-grid-noRecordslabel",t.noRecordsContainerClass="cc-grid-noRecords-Container",t.navigableCell="cc-gridcell-navigable",t.rollupIconClass="cc-gridcell-rollup-icon",t.rollupDateClass="cc-gridcell-rollup-date",t.rowNavigatorClass="row-navigator",t.lookupNavigationButtonClass="cc-lookup-nav-button",t.headerCellHoverClass="cc-grid-rowHover",t.groupHeaderCellClass="data-group-selectable",t.gridProgressIndicatorClass="cc-grid-progressIndicator",t.headerButtonsClass="cc-ds-header-buttons",t.headerButtonsLeftClass="cc-ds-header-buttons-left",t.headerBtnClass="cc-ds-headerbtn",t.headerBtnRefreshClass="cc-ds-header-refresh-btn",t.headerBtnSelectClass="cc-ds-header-select-all-btn",t.headerBtnSaveClass="cc-ds-header-save-btn",t.rowBtnClass="cc-ds-rowbtn",t.rowBtnNavClass="cc-ds-rowbtn-nav",t.rowBtnDeleteClass="cc-ds-rowbtn-delete",t.calendarIconGlyph="cc-grid-calendar-icon",t.nestedGridDetailClass="cc-grid-detail",t.nestedGridCellClass="cc-grid-nested-cell",t.nestedGridExpanderClass="cc-grid-nested-expander",t.nestedGridExpanderEditClass="cc-grid-nested-expander-edit",t.nestedGridExpanderExpandClass="cc-grid-nested-expander-expand",t.nestedGridExpanderCollapseClass="cc-grid-nested-expander-collapse",t.wijmoNestedGridExpanderCellClass="wj-elem-detail",t.parentRecordIdAttributeName="cc-parent-record-id",t.cellsDataIdAttributeName="grid-cell-container",t.ccRowHeaderIconContainerCSSClass="cc-row-header-icon-container",t.ccHierarchyIconCSSClass="cc-hierarchy-icon",t.ccHierarchyIconEmptyDiv="cc-hierarchy-icon-empty-div",t.ccConditionalImageEmptyDiv="cc-conditional-image-empty-div",t.gridRowHoverColor="#d8d8d8",t.treeIndent=37,t.customDropDownMaxHeight=150,t.firstRowHeight=52,t.controlName="GridControl",t.maxNumberOfLookupColumns=1,t.maxNumberOfColumnsOnSmallScreen=3,t.btnHeaderColumnName="btnheadercolumn",t.btnHeaderSelectColumnName="btnheaderselectcolumn",t.summaryHeaderColumnName="summaryheadercolumn",t.htmlTitleAttributeName="title",t.rowNavigatorButtonTolerance=2,t.kbTabCode=9,t.kbEnterCode=13,t.kbSpaceCode=32,t.kbPageUpCode=33,t.kbPageDownCode=34,t.kbArrowLeftCode=37,t.kbArrowUpCode=38,t.kbArrowRightCode=39,t.kbArrowDownCode=40,t.kbF4Code=115,t.lpGridContainerId="cc-grid",t.lpGridId="cc-grid|grid",t.lpGridFooterPagerId=(t.lpGridFooterId="cc-grid|cc-grid-footer")+"|cc-grid-pager",t.lpGridHeaderId="cc-grid|cc-grid-header",t.lpGridCellContainerId="cc-grid|grid-cell-container",t.lpGridCellPrefixId="cc-grid|cc-grid-cell|",t.lpGridColumnPrefixId="cc-grid|cc-grid-column|",t.kbSCode=83,t.kbEscapeCode=27,t.componentName="SharedGrid",t.gridDataType="datatype",t.loadEvent="Load",t.eventDescription="event_description",t.gridRenderingMessage="grid control is rendering as :",t.gridLoadType="grid_load_type",t.editableGrid="editable grid",t.readonlyGrid="readonly grid",t.gridViewId="grid_viewId",t.propertyKeyGrid="Grid",t.progressIndicatorSize=40,t.propertyKeySubGrid="SubGrid",t.stateCodeColumn="statecode",t.statusCodeColumn="statuscode",t.glyphsOffset=40,t.glyphsFullOffset=60,t.connectionReadOnlyColumnName="record2id",t.connectionEntityName="connection",t.divNodeTagName="DIV",t.borderBottomStyle="1px Solid #EAEAEA",t.HeaderBorderBottomStyle="2px Solid #E1DFDD",t.HighDensityFontColor="#6E6F77",t.entityLogicalNameProperty="logicalName",t.ChildCountAliasName="ChildCount",t.HierarchyControlName="MscrmControls.HierarchyControl.HierarchyControl",t}(),Vn=function(){function t(){}return t.compare=function(t,i){return t.constructor.__typeName===i},t.guid="Microsoft.Crm.Client.Core.Framework.Guid",t.optionSetObject="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata",t.entityReference="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference",t.xrmEntityReference="Xrm.Objects.EntityReference",t.entityCollection="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection",t.aliasedValue="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue",t.twoOptions="boolean",t.dateAndTime="datetime",t.decimal="decimal",t.fp="float",t.double="double",t.whole="integer",t.currency="money",t.optionset="picklist",t.multiSelectOptionset="multiselectpicklist",t.lookup="lookup",t.singleLine="string",t.multiple="memo",t.state="state",t.status="status",t.entityName="entityname",t.customer="customer",t.owner="owner",t.partyList="partylist",t.multiselectoptionset="multiselectpicklist",t.uniqueIdentifier="uniqueidentifier",t.formatDateOnly="date",t.formatDateAndTime="dateandtime",t.formatNone="none",t.formatDuration="duration",t.formatTimeZone="timezone",t.formatLanguage="language",t.formatSimple="simple",t.formatCustomer="customer",t.formatOwner="owner",t.formatPartyList="partylist",t.formatRegarding="regarding",t.formatText="text",t.formatTextArea="textarea",t.formatEmail="email",t.formatURL="url",t.formatTicker="ticker",t.formatPhone="phone",t.dataTypeLookupSimple="Lookup.Simple",t.dataTypeLookupPartyList="Lookup.PartyList",t.dataTypeLookupCustomer="Lookup.Customer",t.dataTypeLookupOwner="Lookup.Owner",t.dataTypeLookupRegarding="Lookup.Regarding",t.dataTypeWholeTimezone="Whole.TimeZone",t.dataTypeWholeLanguage="Whole.Language",t.dataTypeWholeDuration="Whole.Duration",t.dataTypeSingleLineTextArea="SingleLine.TextArea",t.dataTypeSingleLineEmail="SingleLine.Email",t.dataTypeSingleLinePhone="SingleLine.Phone",t.dataTypeSingleLineTicker="SingleLine.Ticker",t.dataTypeSingleLineURL="SingleLine.URL",t.dataTypeDateAndTimeDateOnly="DateAndTime.DateOnly",t.dataTypeDateAndTimeDateAndTime="DateAndTime.DateAndTime",t.dataTypeMultiple="Multiple",t.dataTypeCurrency="Currency",t.dataTypeOptionSet="OptionSet",t.dataTypeTwoOptions="TwoOptions",t}();(Nn=Un||(Un={}))[Nn.Expanded=0]="Expanded",Nn[Nn.UpArrowHead=1]="UpArrowHead",Nn[Nn.LeftArrowHead=2]="LeftArrowHead",Nn[Nn.Collapsed=3]="Collapsed",Nn[Nn.Edit=4]="Edit",Nn[Nn.Save=5]="Save",Nn[Nn.Delete=6]="Delete",Nn[Nn.Remove=7]="Remove",Nn[Nn.Add=8]="Add",Nn[Nn.Cancel=9]="Cancel",Nn[Nn.HandClick=10]="HandClick",Nn[Nn.Accept=11]="Accept",Nn[Nn.More=12]="More",Nn[Nn.Forward=13]="Forward",Nn[Nn.Favorite=14]="Favorite",Nn[Nn.Placeholder=15]="Placeholder",Nn[Nn.RatingFull=16]="RatingFull",Nn[Nn.RatingEmpty=17]="RatingEmpty",Nn[Nn.Options=18]="Options",Nn[Nn.Manage=19]="Manage",Nn[Nn.Settings=20]="Settings",Nn[Nn.Find=21]="Find",Nn[Nn.Help=22]="Help",Nn[Nn.ViewNotifications=23]="ViewNotifications",Nn[Nn.StageAdvance=24]="StageAdvance",Nn[Nn.CheckMark=25]="CheckMark",Nn[Nn.Locked=26]="Locked",Nn[Nn.Lock=27]="Lock",Nn[Nn.MoreOptions=28]="MoreOptions",Nn[Nn.ContactInfo=29]="ContactInfo",Nn[Nn.Pin=30]="Pin",Nn[Nn.Unpin=31]="Unpin",Nn[Nn.Refresh=32]="Refresh",Nn[Nn.Details=33]="Details",Nn[Nn.VisualFilter=34]="VisualFilter",Nn[Nn.GlobalFilter=35]="GlobalFilter",Nn[Nn.Diamond=36]="Diamond",Nn[Nn.ApplyFilter=37]="ApplyFilter",Nn[Nn.CancelFilter=38]="CancelFilter",Nn[Nn.StreamView=39]="StreamView",Nn[Nn.TileView=40]="TileView",Nn[Nn.Import=41]="Import",Nn[Nn.Tools=42]="Tools",Nn[Nn.Attach=43]="Attach",Nn[Nn.Filter=44]="Filter",Nn[Nn.Copy=45]="Copy",Nn[Nn.HighPriority=46]="HighPriority",Nn[Nn.ReduceTile=47]="ReduceTile",Nn[Nn.ExpandTile=48]="ExpandTile",Nn[Nn.GlobalFilterExpand=49]="GlobalFilterExpand",Nn[Nn.GlobalFilterCollapse=50]="GlobalFilterCollapse",Nn[Nn.Clear=51]="Clear",Nn[Nn.Post=52]="Post",Nn[Nn.OneNote=53]="OneNote",Nn[Nn.Home=54]="Home",Nn[Nn.SetAsHome=55]="SetAsHome",Nn[Nn.BackButton=56]="BackButton",Nn[Nn.BackButtonWithoutBorder=57]="BackButtonWithoutBorder",Nn[Nn.UpArrow=58]="UpArrow",Nn[Nn.DownArrow=59]="DownArrow",Nn[Nn.SetActiveButton=60]="SetActiveButton",Nn[Nn.SearchButton=61]="SearchButton",Nn[Nn.ForwardButton=62]="ForwardButton",Nn[Nn.Mail=63]="Mail",Nn[Nn.CheckedMail=64]="CheckedMail",Nn[Nn.FailedMail=65]="FailedMail",Nn[Nn.Phone=66]="Phone",Nn[Nn.Chat=67]="Chat",Nn[Nn.OpenPane=68]="OpenPane",Nn[Nn.ClosePane=69]="ClosePane",Nn[Nn.AddFriend=70]="AddFriend",Nn[Nn.Arrow=71]="Arrow",Nn[Nn.DropdownArrow=72]="DropdownArrow",Nn[Nn.FlsLocked=73]="FlsLocked",Nn[Nn.LinkArticle=74]="LinkArticle",Nn[Nn.UnlinkArticle=75]="UnlinkArticle",Nn[Nn.CopyLink=76]="CopyLink",Nn[Nn.EmailLink=77]="EmailLink",Nn[Nn.Share=78]="Share",Nn[Nn.Assign=79]="Assign",Nn[Nn.Connect=80]="Connect",Nn[Nn.Opportunity=81]="Opportunity",Nn[Nn.Appointment=82]="Appointment",Nn[Nn.Task=83]="Task",Nn[Nn.Case=84]="Case",Nn[Nn.PhoneCallIncoming=85]="PhoneCallIncoming",Nn[Nn.PhoneCallOutgoing=86]="PhoneCallOutgoing",Nn[Nn.EmailIncoming=87]="EmailIncoming",Nn[Nn.EmailOutgoing=88]="EmailOutgoing",Nn[Nn.SendEmail=89]="SendEmail",Nn[Nn.ApplyTemplate=90]="ApplyTemplate",Nn[Nn.InsertKbArticle=91]="InsertKbArticle",Nn[Nn.SendSelected=92]="SendSelected",Nn[Nn.SaveAndClose=93]="SaveAndClose",Nn[Nn.ReplyEmail=94]="ReplyEmail",Nn[Nn.ReplyAllEmail=95]="ReplyAllEmail",Nn[Nn.ForwardEmail=96]="ForwardEmail",Nn[Nn.Close=97]="Close",Nn[Nn.Activate=98]="Activate",Nn[Nn.DeActivate=99]="DeActivate",Nn[Nn.DeleteBulk=100]="DeleteBulk",Nn[Nn.SocialActivityIncoming=101]="SocialActivityIncoming",Nn[Nn.SocialActivityOutgoing=102]="SocialActivityOutgoing",Nn[Nn.CustomActivity=103]="CustomActivity",Nn[Nn.SystemPost=104]="SystemPost",Nn[Nn.Convert=105]="Convert",Nn[Nn.MarkAsWon=106]="MarkAsWon",Nn[Nn.MarkAsLost=107]="MarkAsLost",Nn[Nn.SetRegarding=108]="SetRegarding",Nn[Nn.SaveAsComplete=109]="SaveAsComplete",Nn[Nn.SwitchProcess=110]="SwitchProcess",Nn[Nn.Recalculate=111]="Recalculate",Nn[Nn.SendDirectEmail=112]="SendDirectEmail",Nn[Nn.OpenMailbox=113]="OpenMailbox",Nn[Nn.ReOpenOpportunity=114]="ReOpenOpportunity",Nn[Nn.ReactivateLead=115]="ReactivateLead",Nn[Nn.Disqualify=116]="Disqualify",Nn[Nn.Qualify=117]="Qualify",Nn[Nn.SelectView=118]="SelectView",Nn[Nn.SelectChart=119]="SelectChart",Nn[Nn.OpenInBrowser=120]="OpenInBrowser",Nn[Nn.NewAppointment=121]="NewAppointment",Nn[Nn.NewRecurringAppointment=122]="NewRecurringAppointment",Nn[Nn.NewPhoneCall=123]="NewPhoneCall",Nn[Nn.NewTask=124]="NewTask",Nn[Nn.NewEmail=125]="NewEmail",Nn[Nn.AddExisting=126]="AddExisting",Nn[Nn.SaveAndEdit=127]="SaveAndEdit",Nn[Nn.Default=128]="Default",Nn[Nn.ScrollRight=129]="ScrollRight",Nn[Nn.ScrollLeft=130]="ScrollLeft",Nn[Nn.SaveAndRunRoutingRule=131]="SaveAndRunRoutingRule",Nn[Nn.RunRoutingRule=132]="RunRoutingRule",Nn[Nn.ResolveCase=133]="ResolveCase",Nn[Nn.CancelCase=134]="CancelCase",Nn[Nn.ReactivateCase=135]="ReactivateCase",Nn[Nn.AddToQueue=136]="AddToQueue",Nn[Nn.CreateChildCase=137]="CreateChildCase",Nn[Nn.QueueItemRoute=138]="QueueItemRoute",Nn[Nn.QueueItemRelease=139]="QueueItemRelease",Nn[Nn.QueueItemRemove=140]="QueueItemRemove",Nn[Nn.QueueItemPick=141]="QueueItemPick",Nn[Nn.Drilldown=142]="Drilldown",Nn[Nn.PopOverButton=143]="PopOverButton",Nn[Nn.ExitButton=144]="ExitButton",Nn[Nn.ExportToExcel=145]="ExportToExcel",Nn[Nn.WordTemplates=146]="WordTemplates",Nn[Nn.DocumentTemplates=147]="DocumentTemplates",Nn[Nn.OpenInPowerBI=148]="OpenInPowerBI",Nn[Nn.OpenPowerBIReport=149]="OpenPowerBIReport",Nn[Nn.OpenDelve=150]="OpenDelve",Nn[Nn.ArticleLink=151]="ArticleLink",Nn[Nn.ArchiveArticle=152]="ArchiveArticle",Nn[Nn.ApproveArticle=153]="ApproveArticle",Nn[Nn.DiscardArticle=154]="DiscardArticle",Nn[Nn.Minor=155]="Minor",Nn[Nn.Major=156]="Major",Nn[Nn.PublishKnowledgeArticle=157]="PublishKnowledgeArticle",Nn[Nn.RelateArticle=158]="RelateArticle",Nn[Nn.RelateProduct=159]="RelateProduct",Nn[Nn.RestoreArticle=160]="RestoreArticle",Nn[Nn.RevertToDraftArticle=161]="RevertToDraftArticle",Nn[Nn.Translate=162]="Translate",Nn[Nn.UpdateArticle=163]="UpdateArticle",Nn[Nn.RemoveFilter=164]="RemoveFilter",Nn[Nn.Article=165]="Article",Nn[Nn.Graph=166]="Graph",Nn[Nn.CSR=167]="CSR",Nn[Nn.MembersIcon=168]="MembersIcon",Nn[Nn.QueueIcon=169]="QueueIcon",Nn[Nn.SiteMap=170]="SiteMap",Nn[Nn.NormalPriority=171]="NormalPriority",Nn[Nn.LowPriority=172]="LowPriority",Nn[Nn.ViewIcon=173]="ViewIcon",Nn[Nn.RecentCases=174]="RecentCases",Nn[Nn.KBRecords=175]="KBRecords",Nn[Nn.NumberOfViews=176]="NumberOfViews",Nn[Nn.ResizeHandle=177]="ResizeHandle",Nn[Nn.TaskBasedFlow=178]="TaskBasedFlow",Nn[Nn.InformationIcon=179]="InformationIcon",Nn[Nn.PencilIcon=180]="PencilIcon",Nn[Nn.ErrorIcon=181]="ErrorIcon",Nn[Nn.SuccessIcon=182]="SuccessIcon",Nn[Nn.OptionsetIcon=183]="OptionsetIcon",Nn[Nn.NotificationIcon=184]="NotificationIcon",Nn[Nn.PanelHeaderImportDataIcon=185]="PanelHeaderImportDataIcon",Nn[Nn.SidePanelUpload=186]="SidePanelUpload",Nn[Nn.New=187]="New",Nn[Nn.DetailsPageClose=188]="DetailsPageClose",Nn[Nn.SettingsListIcon=189]="SettingsListIcon",Nn[Nn.ListIcon=190]="ListIcon",Nn[Nn.ForwardDisable=191]="ForwardDisable",Nn[Nn.PdfIconFile=192]="PdfIconFile",Nn[Nn.PresentationFile=193]="PresentationFile",Nn[Nn.OneNoteFile=194]="OneNoteFile",Nn[Nn.AccessFile=195]="AccessFile",Nn[Nn.VisioFile=196]="VisioFile",Nn[Nn.ProjectFile=197]="ProjectFile",Nn[Nn.Plus=198]="Plus",Nn[Nn.ChevronUp=199]="ChevronUp",Nn[Nn.ChevronDown=200]="ChevronDown",Nn[Nn.HappySmiley=201]="HappySmiley",Nn[Nn.SadSmiley=202]="SadSmiley",Nn[Nn.CaseResolution=203]="CaseResolution",Nn[Nn.CampaignResolution=204]="CampaignResolution",Nn[Nn.ServiceActivity=205]="ServiceActivity",Nn[Nn.Notes=206]="Notes",Nn[Nn.Audio=207]="Audio",Nn[Nn.Camera=208]="Camera",Nn[Nn.Video=209]="Video",Nn[Nn.Image=210]="Image",Nn[Nn.Html=211]="Html",Nn[Nn.SharePointEditDocument=212]="SharePointEditDocument",Nn[Nn.SharePointDeleteDocument=213]="SharePointDeleteDocument",Nn[Nn.SharePointCheckoutDocument=214]="SharePointCheckoutDocument",Nn[Nn.SharePointCheckinDocument=215]="SharePointCheckinDocument",Nn[Nn.SharePointEditDocumentProperties=216]="SharePointEditDocumentProperties",Nn[Nn.SharePointDiscardCheckoutDocument=217]="SharePointDiscardCheckoutDocument",Nn[Nn.SharePointNewDocument=218]="SharePointNewDocument",Nn[Nn.SharePointNewWordDocument=219]="SharePointNewWordDocument",Nn[Nn.SharePointNewExcelDocument=220]="SharePointNewExcelDocument",Nn[Nn.SharePointNewPowerPointDocument=221]="SharePointNewPowerPointDocument",Nn[Nn.SharePointNewOneNoteDocument=222]="SharePointNewOneNoteDocument",Nn[Nn.SharePointUploadDocument=223]="SharePointUploadDocument",Nn[Nn.SharePointChangeLocation=224]="SharePointChangeLocation",Nn[Nn.SharePointAddDocumentLocation=225]="SharePointAddDocumentLocation",Nn[Nn.SharePointEditLocation=226]="SharePointEditLocation",Nn[Nn.SharePointOpenLocation=227]="SharePointOpenLocation",Nn[Nn.SharePointOpenDocument=228]="SharePointOpenDocument",Nn[Nn.SendByEmail=229]="SendByEmail",Nn[Nn.CreateQuote=230]="CreateQuote",Nn[Nn.Reply=231]="Reply",Nn[Nn.Warning=232]="Warning",Nn[Nn.Play=233]="Play",Nn[Nn.ExpandButton=234]="ExpandButton",Nn[Nn.AssociatedArticle=235]="AssociatedArticle",Nn[Nn.DisassociatedArticle=236]="DisassociatedArticle",Nn[Nn.FormDesign=237]="FormDesign",Nn[Nn.GlobalFilterClearAll=238]="GlobalFilterClearAll",Nn[Nn.GlobalFilterExpandedRow=239]="GlobalFilterExpandedRow",Nn[Nn.GlobalFilterCollapsedRow=240]="GlobalFilterCollapsedRow",Nn[Nn.RelationshipAssistant=241]="RelationshipAssistant",Nn[Nn.AutomaticSuggestions=242]="AutomaticSuggestions",Nn[Nn.SemanticZoom=243]="SemanticZoom",Nn[Nn.SemanticZoomMirrored=244]="SemanticZoomMirrored",Nn[Nn.BackwardButton=245]="BackwardButton",Nn[Nn.MultiSelect=246]="MultiSelect",Nn[Nn.MultiSelectMirrored=247]="MultiSelectMirrored",Nn[Nn.Spinning=248]="Spinning",Nn[Nn.RetireProduct=249]="RetireProduct",Nn[Nn.AddProduct=250]="AddProduct",Nn[Nn.OfflineStatus=251]="OfflineStatus",Nn[Nn.Abandon=252]="Abandon",Nn[Nn.Reactivate=253]="Reactivate",Nn[Nn.FinishStage=254]="FinishStage",Nn[Nn.SortButton=255]="SortButton",Nn[Nn.Flows=256]="Flows",Nn[Nn.OpenEntityRecord=257]="OpenEntityRecord",Nn[Nn.View=258]="View",Nn[Nn.CreateView=259]="CreateView",Nn[Nn.EditView=260]="EditView",Nn[Nn.GuestUser=261]="GuestUser",Nn[Nn.History=262]="History",Nn[Nn.ReassignRecords=263]="ReassignRecords",Nn[Nn.ManageRoles=264]="ManageRoles",Nn[Nn.JoinTeams=265]="JoinTeams",Nn[Nn.ChangeManager=266]="ChangeManager",Nn[Nn.AddMembers=267]="AddMembers",Nn[Nn.RemoveMembers=268]="RemoveMembers",Nn[Nn.Download=269]="Download",Nn[Nn.SetAsDefaultView=270]="SetAsDefaultView",Nn[Nn.Pinned=271]="Pinned",Nn[Nn.DistributionList=272]="DistributionList",Nn[Nn.MergeRecords=273]="MergeRecords",Nn[Nn.AssociateChildCase=274]="AssociateChildCase",Nn[Nn.SetAsDefault=275]="SetAsDefault",Nn[Nn.ConvertKnowledgeArticle=276]="ConvertKnowledgeArticle",Nn[Nn.Messenger=277]="Messenger",Nn[Nn.AssociateCategory=278]="AssociateCategory",Nn[Nn.OfficeWaffle=279]="OfficeWaffle",Nn[Nn.TripleColumn=280]="TripleColumn",Nn[Nn.Tiles=281]="Tiles",Nn[Nn.HideVisualFilter=282]="HideVisualFilter",Nn[Nn.InteractiveDashboard=283]="InteractiveDashboard",Nn[Nn.Dynamics365=284]="Dynamics365",Nn[Nn.SalesLiterature=285]="SalesLiterature",Nn[Nn.SelectButton=286]="SelectButton",Nn[Nn.SelectButtonRTL=287]="SelectButtonRTL",Nn[Nn.LockPricing=288]="LockPricing",Nn[Nn.CreateInvoice=289]="CreateInvoice",Nn[Nn.FulfillOrder=290]="FulfillOrder",Nn[Nn.CancelInvoice=291]="CancelInvoice",Nn[Nn.ActivateQuote=292]="ActivateQuote",Nn[Nn.InvoicePaid=293]="InvoicePaid",Nn[Nn.GetProducts=294]="GetProducts",Nn[Nn.UnlockPricing=295]="UnlockPricing",Nn[Nn.Checkbox=296]="Checkbox",Nn[Nn.CheckboxComposite=297]="CheckboxComposite",Nn[Nn.RightChevron=298]="RightChevron",Nn[Nn.LeftChevron=299]="LeftChevron",Nn[Nn.UntrackedEmail=300]="UntrackedEmail",Nn[Nn.OpenEmail=301]="OpenEmail",Nn[Nn.GlobalFilterCollapsedRowRTL=302]="GlobalFilterCollapsedRowRTL",Nn[Nn.CancelOrder=303]="CancelOrder",Nn[Nn.URL=304]="URL",Nn[Nn.Ticker=305]="Ticker",Nn[Nn.UseCurrentPricing=306]="UseCurrentPricing",Nn[Nn.Process=307]="Process",Nn[Nn.FirstPageButton=308]="FirstPageButton",Nn[Nn.LinkedInLogo=309]="LinkedInLogo",Nn[Nn.Health=310]="Health",Nn[Nn.Family=311]="Family",Nn[Nn.Sports=312]="Sports",Nn[Nn.Entertainment=313]="Entertainment",Nn[Nn.OOF=314]="OOF",Nn[Nn.CarouselView=315]="CarouselView",Nn[Nn.HeartEmpty=316]="HeartEmpty",Nn[Nn.HeartFilled=317]="HeartFilled",Nn[Nn.Follow=318]="Follow",Nn[Nn.RunQuery=319]="RunQuery",Nn[Nn.GroupAnd=320]="GroupAnd",Nn[Nn.GroupOr=321]="GroupOr",Nn[Nn.Ungroup=322]="Ungroup",Nn[Nn.HideInSimpleMode=323]="HideInSimpleMode",Nn[Nn.ShowInSimpleMode=324]="ShowInSimpleMode",Nn[Nn.PinnedSolid=325]="PinnedSolid",Nn[Nn.FilterSolid=326]="FilterSolid",Nn[Nn.Bot=327]="Bot",Nn[Nn.SystemDocumentTemplates=328]="SystemDocumentTemplates",Nn[Nn.MyDocumentTemplates=329]="MyDocumentTemplates",Nn[Nn.ViewAllMyDocumentTemplates=330]="ViewAllMyDocumentTemplates",Nn[Nn.EnableSecurityRoles=331]="EnableSecurityRoles",Nn[Nn.DocumentTemplateUpload=332]="DocumentTemplateUpload",Nn[Nn.DocumentTemplateEdit=333]="DocumentTemplateEdit",Nn[Nn.DocumentTemplateActivate=334]="DocumentTemplateActivate",Nn[Nn.DocumentTemplateDeactivate=335]="DocumentTemplateDeactivate",Nn[Nn.YammerIcon=336]="YammerIcon",Nn[Nn.StopIcon=337]="StopIcon",Nn[Nn.ReplaceContentIcon=338]="ReplaceContentIcon",Nn[Nn.CloseDateComingSoon=339]="CloseDateComingSoon",Nn[Nn.NearbyCustomers=340]="NearbyCustomers",Nn[Nn.RelevantNews=341]="RelevantNews",Nn[Nn.UpcomingMeeting=342]="UpcomingMeeting",Nn[Nn.RecentMeeting=343]="RecentMeeting",Nn[Nn.ReminderWithCall=344]="ReminderWithCall",Nn[Nn.CardsTask=345]="CardsTask",Nn[Nn.CardsQuote=346]="CardsQuote",Nn[Nn.CardsOpportunity=347]="CardsOpportunity",Nn[Nn.CardsInvoice=348]="CardsInvoice",Nn[Nn.CardsDashboard=349]="CardsDashboard",Nn[Nn.CardsLeads=350]="CardsLeads",Nn[Nn.OpportunityNoActivity=351]="OpportunityNoActivity",Nn[Nn.CaseNoActivity=352]="CaseNoActivity",Nn[Nn.CompetitorMentioned=353]="CompetitorMentioned",Nn[Nn.MeetingRequest=354]="MeetingRequest",Nn[Nn.MissedCloseDate=355]="MissedCloseDate",Nn[Nn.IssueDetection=356]="IssueDetection",Nn[Nn.NoActivityWithAccount=357]="NoActivityWithAccount",Nn[Nn.YesNo=358]="YesNo",Nn[Nn.AgendaActivityServiceAppointment=359]="AgendaActivityServiceAppointment",Nn[Nn.AgendaActivityFax=360]="AgendaActivityFax",Nn[Nn.UpcomingFlight=361]="UpcomingFlight",Nn[Nn.OpportunityAtRiskSentiment=362]="OpportunityAtRiskSentiment",Nn[Nn.IconDue=363]="IconDue",Nn[Nn.AddProductFamily=364]="AddProductFamily",Nn[Nn.AddProductBundle=365]="AddProductBundle",Nn[Nn.ProductPublish=366]="ProductPublish",Nn[Nn.CloneProduct=367]="CloneProduct",Nn[Nn.CloseGoal=368]="CloseGoal",Nn[Nn.AlignWithFiscalPeriod=369]="AlignWithFiscalPeriod",Nn[Nn.Connection=370]="Connection",Nn[Nn.ConnectionToMe=371]="ConnectionToMe",Nn[Nn.ConnectionToOther=372]="ConnectionToOther",Nn[Nn.ProductUpsell=373]="ProductUpsell",Nn[Nn.SubscriptionAdd=374]="SubscriptionAdd",Nn[Nn.RefreshDevice=375]="RefreshDevice",Nn[Nn.BulletListRemove=376]="BulletListRemove",Nn[Nn.BulletListAdd=377]="BulletListAdd",Nn[Nn.ScatterChart=378]="ScatterChart",Nn[Nn.BarChartHorizontal=379]="BarChartHorizontal",Nn[Nn.BarChartVertical=380]="BarChartVertical",Nn[Nn.FunnelChart=381]="FunnelChart",Nn[Nn.PieDouble=382]="PieDouble",Nn[Nn.AALinkedInLogo=383]="AALinkedInLogo",Nn[Nn.SendAndClose=384]="SendAndClose",Nn[Nn.AdvFind=385]="AdvFind",Nn[Nn.DoubleChevronLeft=386]="DoubleChevronLeft",Nn[Nn.DoubleChevronRight=387]="DoubleChevronRight",Nn[Nn.AreaChart=388]="AreaChart",Nn[Nn.DonutChart=389]="DonutChart",Nn[Nn.TagChart=390]="TagChart",Nn[Nn.Teaser=391]="Teaser",Nn[Nn.Clone=392]="Clone",Nn[Nn.AreaChartMirrored=393]="AreaChartMirrored",Nn[Nn.BarChartHorizontalMirrored=394]="BarChartHorizontalMirrored",Nn[Nn.BarChartVerticalMirrored=395]="BarChartVerticalMirrored",Nn[Nn.People=396]="People",Nn[Nn.PeopleBlock=397]="PeopleBlock",Nn[Nn.BulletListDownArrow=398]="BulletListDownArrow",Nn[Nn.Recent=399]="Recent",Nn[Nn.SharePointIcon=400]="SharePointIcon",Nn[Nn.OneDriveIcon=401]="OneDriveIcon",Nn[Nn.FolderSharedIcon=402]="FolderSharedIcon",Nn[Nn.MSTeamsIcon=403]="MSTeamsIcon",Nn[Nn.ScrollUpDown=404]="ScrollUpDown",Nn[Nn.SendToCTI=405]="SendToCTI",Nn[Nn.CreateQuickCampaign=406]="CreateQuickCampaign",Nn[Nn.PageSolid=407]="PageSolid",Nn[Nn.Page=408]="Page",Nn[Nn.OpportunitiesList=409]="OpportunitiesList",Nn[Nn.BrowseCards=410]="BrowseCards",Nn[Nn.Letter=411]="Letter",Nn[Nn.Fax=412]="Fax",Nn[Nn.NewLetter=413]="NewLetter",Nn[Nn.NewFax=414]="NewFax",Nn[Nn.LetterIncoming=415]="LetterIncoming",Nn[Nn.LetterOutgoing=416]="LetterOutgoing",Nn[Nn.FaxIncoming=417]="FaxIncoming",Nn[Nn.FaxOutgoing=418]="FaxOutgoing",Nn[Nn.CreatePersonalView=419]="CreatePersonalView",Nn[Nn.ViewHierarchy=420]="ViewHierarchy",Nn[Nn.ProductPreview=421]="ProductPreview",Nn[Nn.AddTerritoryMember=422]="AddTerritoryMember",Nn[Nn.RemoveTerritoryMember=423]="RemoveTerritoryMember",Nn[Nn.Report=424]="Report",Nn[Nn.NewServiceActivity=425]="NewServiceActivity",Nn[Nn.Recurrence=426]="Recurrence",Nn[Nn.EditSeries=427]="EditSeries",Nn[Nn.EndSeries=428]="EndSeries",Nn[Nn.EditDefaultFilter=429]="EditDefaultFilter",Nn[Nn.QueueItemDetail=430]="QueueItemDetail",Nn[Nn.ThumbsUp=431]="ThumbsUp",Nn[Nn.ThumbsDown=432]="ThumbsDown",Nn[Nn.Lead=433]="Lead",Nn[Nn.TableLink=434]="TableLink",Nn[Nn.TableGroup=435]="TableGroup",Nn[Nn.ClearDefault=436]="ClearDefault",Nn[Nn.SetDefault=437]="SetDefault",Nn[Nn.SaveFilterToNewPersonalView=438]="SaveFilterToNewPersonalView",Nn[Nn.SaveFilterToCurrentPersonalView=439]="SaveFilterToCurrentPersonalView",Nn[Nn.Expand=440]="Expand",Nn[Nn.ChromeMinimize=441]="ChromeMinimize",Nn[Nn.ChromeMaximize=442]="ChromeMaximize",Nn[Nn.ConnectionRoleManageRecordType=443]="ConnectionRoleManageRecordType";var Pn,Wn=function(){function t(){}return Object.defineProperty(t.prototype,"EventName",{set:function(t){this.eventName=Gn.componentName+t},enumerable:!0,configurable:!0}),t}(),Ln=function(){function t(t){this.defaultProperties=["EnableEditing","EnableGroupBy","EnableFiltering","ReflowBehavior","useSkypeProtocol"],this.reporting=t,this.defaultParams=new Array}return t.prototype.setDefaultEventParams=function(t){try{for(var i=0,n=this.defaultProperties;i<n.length;i++){var e=n[i];if(t.hasOwnProperty(e)){var r=t[e];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r.raw)){var s={name:e,value:r.raw};this.defaultParams.push(s)}}}this.defaultParams.push({name:"EntityName",value:t.Grid.getTargetEntityType()})}catch(t){}},t.prototype.reportFailure=function(t,i,n,e){try{if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.reporting)){var r=Gn.componentName+"."+t,s=MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)?this.defaultParams:this.defaultParams.concat(e);this.reporting.reportFailure(r,i,n,s)}}catch(t){}},t.prototype.reportSuccess=function(t,i){try{if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.reporting)){var n=Gn.componentName+"."+t,e=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?this.defaultParams:this.defaultParams.concat(i);this.reporting.reportSuccess(n,e)}}catch(t){}},t.prototype.reportEvent=function(t,i){try{if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.reporting))return;var n=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?this.defaultParams:this.defaultParams.concat(i),e=new Wn;e.EventName=t,e.eventParameters=n,this.reporting.reportEvent(e)}catch(t){}},t.prototype.dispose=function(){this.reporting=null,this.defaultParams=null},t}(),Xn=function(){function t(){}return t.eventDoubleClick="dblclick",t.eventSingleClick="click",t.eventTouchStart="touchstart",t.eventTouchEnd="touchend",t.eventTouchMove="touchmove",t.eventKeyDown="keydown",t.eventMouseMove="mousemove",t.eventMouseLeave="mouseleave",t.eventMouseScroll="scroll",t.eventWindowResize="resize",t.tapHoldThreshold=800,t.virtualizationThreshold=750,t.defaultListViewMinWidth=309,t.listViewModeThreshold=480,t.defaultMinWidth=20,t.specialColumnsWidth=70,t.specialColumnWithConditionalImageWidth=105,t.specialColumnWithConditionalImageWidthHighDensity=85,t.navigateButtonMinimumWidth=45,t.selectButtonMinimumWidth=45,t.selectButtonWithIconOrConditionalImageMinimumWidth=80,t.columnSeparatorWidth=1,t.defaultMinRowHeight=52,t.defaultMinRowHeightWeb=40,t.defaultMinRowHeightUCIHighDensity=40,t.pagerHeight=40,t.maxColumnForDynamicSizing=12,t.scrollBarWidth=17,t.tableBodyPadding=10,t.inputDateRatio="53%",t.inputTimeRatio="47%",t.expandFactor=5,t.maxRowHeight=200,t.maxSubGridHeight=400,t.undefinedString="---",t.notReadableString="*******",t.headerCSSClass="wj-header",t.cellsCSSClass="wj-cells",t.cellCSSClass="wj-cell",t.errorIndicatorCSSClass="errorIndicator cc-grid-errorIndicator",t.treeArrowRightCSSClass="wj-glyph-right",t.treeArrowDownRightCSSClass="wj-glyph-down-right",t.rowHeadersCSSClass="wj-rowheaders",t.detailCellCSSClass="wj-detail",t.inputGroupButtonCSSClass="wj-input-group-btn",t.buttonDefaultCSSClass="wj-btn-default",t.buttonCSSClass="wj-btn",t.wordWrapCSSClass="wj-wrap",t.groupClass="wj-group",t.filterOffCSSClass="wj-filter-off",t.filterOnCSSClass="wj-filter-on",t.altCSSClass="wj-alt",t.firstColumnStyle="data-selectable",t.cellIndexKey="wj-cell-index",t.durationMaxDay=31,t.durationMaxHour=23,t.durationMaxMinute=59,t.minutesInOneDay=1440,t.minutesInOneHour=60,t.durationInputRatio="30%",t.durationEditorMinWidth=190,t.durationEditorCssClass="duration-editor",t.maxDropDownHeight=250,t.msosId="gridMSOSCustomEditor",t.currentSelectionContainerRowHeight=26,t.moreLessTextHeight=15,t.normalFontSize="13px",t.themingMeasure300="3.00rem",t}(),Kn=function(){function t(){}return Object.defineProperty(t.prototype,"isTreeView",{get:function(){return this._isTreeView},set:function(t){this._isTreeView=t,this._isGroupByEnabled=!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGroupByEnabled",{get:function(){return this._isGroupByEnabled},set:function(t){this._isGroupByEnabled=t,this._isTreeView=!t},enumerable:!0,configurable:!0}),t}(),Zn=function(){function t(){}return Object.defineProperty(t,"SubGridParentIdName",{get:function(){return"SubGridParentId"},enumerable:!0,configurable:!0}),t}(),_n=function(){function t(){}return Object.defineProperty(t,"ParentIdName",{get:function(){return"ParentId"},enumerable:!0,configurable:!0}),t}(),qn=function(){function a(){}return Object.defineProperty(a,"gridVirtualizationFCB",{get:function(){return a.gridVirtualization},enumerable:!0,configurable:!0}),Object.defineProperty(a,"firstInformativeColumnIndex",{get:function(){return a.firstInformativeColumnIdx},set:function(t){a.firstInformativeColumnIdx=t},enumerable:!0,configurable:!0}),a.getSaveEditableGridPreNavFCB=function(){return a.saveEditableGridPreNavFCB},a.getReadOnlyGridColumnFilteringFCB=function(){return a.readOnlyGridColumnFilteringFCB},a.getGridPaginationStateFCB=function(){return this.gridPaginationStateFCB},a.getGridHierarchyIconFCB=function(){return this.gridHierarchyIconFCB},a.getGridHighDensityFCBName=function(){return this.gridHighDensityFCBName},a.getGridColumnFilterParityPhase1FCB=function(){return this.gridColumnFilterParityPhase1FCB},a.getJumpBarShouldHonorSortingFCB=function(){return this.jumpBarShouldHonorSortingFCB},a.getContextMenuLookupFCB=function(){return this.contextMenuLookupFCB},Object.defineProperty(a,"isForcedUpdate",{get:function(){return a._isForceUpdate},set:function(t){a._isForceUpdate=t},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isDetail",{get:function(){return a._isDetail},set:function(t){a._isDetail=t},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isNestedGridConfigured",{get:function(){return a._isNestedGridConfigured},set:function(t){a._isNestedGridConfigured=t},enumerable:!0,configurable:!0}),Object.defineProperty(a,"contextUtils",{get:function(){return a._contextUtils},set:function(t){a._contextUtils=t},enumerable:!0,configurable:!0}),Object.defineProperty(a,"userSettings",{get:function(){return a._userSettings},set:function(t){a._userSettings=t},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isHierarchyIconEnabled",{get:function(){return a._isHierarchyIconEnabled},set:function(t){a._isHierarchyIconEnabled=t},enumerable:!0,configurable:!0}),a.isTreeView=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columns))for(var i=t.columns,n=0;n<i.length;n++)if(i[n].alias==_n.ParentIdName)return!0;return!1},a.getGridState=function(t){var i=new Kn;return i.isTreeView=a.isTreeView(t),i},a.isLinkedEntityColumn=function(t){return-1!==t.indexOf(".")},a.isTouchScreenDevice=function(t){return t.userAgent.isIos||t.userAgent.isAndroid||t.userAgent.isAndroidModern},a.isBtnHeaderColumn=function(t){return t===Gn.btnHeaderColumnName},a.isSelectAllBtnHeaderColumn=function(t){return t===Gn.btnHeaderSelectColumnName},a.isSummaryColumn=function(t){return t===Gn.summaryHeaderColumnName},a.debounce=function(n,e){void 0===e&&(e=100);var r=null;return function(){var t=this,i=arguments;clearTimeout(r),r=setTimeout(function(){n.apply(t,i)},e)}.bind(this)},a.hasSubGridParentId=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[Zn.SubGridParentIdName])},a.getSubGridFilterValue=function(t){var i=t.filtering.getFilter(),n=a.findSubGridFilter(i);return n?n.value:null},a.findSubGridFilter=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions)&&0<t.conditions.length)for(var i=0;i<t.conditions.length;i++)if(t.conditions[i].attributeName===Zn.SubGridParentIdName)return t.conditions[i];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.filters)&&0<t.filters.length)for(var n=0;n<t.filters.length;n++){var e=a.findSubGridFilter(t.filters[n]);if(null!=e)return e}return null},a.replaceSubGridFilterValue=function(t,i){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){var n=t.filtering,e={filterOperator:0,conditions:null,filters:[{filterOperator:0,conditions:[{attributeName:Zn.SubGridParentIdName,conditionOperator:0,value:i}]}]};n.setFilter(e)}},a.getDatasetColumnByName=function(t,i){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))for(var n=0;n<t.length;n++)if(t[n].name===i)return t[n];return null},a.getDatasetColumnByAlias=function(t,i){return new MscrmCommon.ArrayQuery(t).firstOrDefault(function(t){return t.alias==i})},a.getOptionsFromAttributes=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){var i=[];if(t.attributes.type===Vn.twoOptions||t.attributes.type===Vn.optionset||a.isStatusOptionSet(t)||t.attributes.type===Vn.multiSelectOptionset||t.attributes.type===Vn.entityName&&a.isDisruptiveFeatureEnabledOnAllClients(a.getGridColumnFilterParityPhase1FCB())){t.attributes.type===Vn.optionset&&-1===t.attributes.defaultValue&&i.push({Value:-1,Label:Gn.nonBreakingSpace,Color:""});var n=t.attributes.options;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))for(var e=0,r=n;e<r.length;e++){var s=r[e];i.push({Value:s.Value.toString(),Label:s.Label,Color:s.Color})}return i}if(a.isWholeOptionSet(t)){for(var s in n=void 0,t.dataType==Vn.dataTypeWholeTimezone?n=null==t.attributes.timezonebycode?t.attributes.TimeZoneByCode:t.attributes.timezonebycode:t.dataType==Vn.dataTypeWholeLanguage&&(n=null==t.attributes.languagebycode?t.attributes.LanguageByCode:t.attributes.languagebycode),i.push({Value:-1,Label:Gn.nonBreakingSpace,Color:""}),n)i.push({Value:parseInt(s),Label:n[s],Color:""});return i}}return null},a.columnRequired=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes.requiredLevel)){var i=t.attributes.requiredLevel;return 1==i||2==i}return!1},a.columnHasDefaultValue=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)&&"defaultValue"in t.attributes},a.shouldRender=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&(Mscrm.UpdateEvents.hasEvent(t,Mscrm.UpdateEventType.DataSet)||Mscrm.UpdateEvents.hasEvent(t,Mscrm.UpdateEventType.Activation))},a.isPopUpRootNodeEvent=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&new MscrmCommon.ArrayQuery(t).contains(function(t){return"popupRootNodes"===t})},a.containsKey=function(t,i){return 0<=t.findIndex(function(t){return t===i})},a.isWholeOptionSet=function(t){return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||t.dataType!==Vn.dataTypeWholeTimezone&&t.dataType!==Vn.dataTypeWholeLanguage)},a.isStatusOptionSet=function(t){return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)||t.attributes.type!==Vn.state&&t.attributes.type!==Vn.status)},a.isWholeDuration=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&t.dataType===Vn.dataTypeWholeDuration},a.formatEntityRecords=function(t){var i="";if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))for(var n=0;n<t.length;++n){var e=t[n].fields;MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.partyid)||(i=0==n?e.partyid.name:MscrmCommon.ControlUtils.String.Format("{0}; {1}",i,e.partyid.name))}return i},a.isDesktop=function(t){return t===(a.isUci()?1:3)},a.isPhone=function(t){return t===(a.isUci()?3:2)},a.supportMultiSelection=function(t){return!0},a.buildLayoutDictionary=function(t){var i={},n=JSON.parse(t);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.columns))for(var e=n.columns,r=0;r<e.length;++r){var s=e[r];i[s.binding]=s}return i},a.buildProcessedDescriptions=function(t,i){var n=[];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))for(var e=0;e<i.length;++e){var r=i[e];MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[r.propertyName])||n.push(r)}return n},a.isLookupType=function(t){if(MscrmCommon.ControlUtils.String.EqualsIgnoreCase(t,Vn.dataTypeLookupSimple)||MscrmCommon.ControlUtils.String.EqualsIgnoreCase(t,Vn.lookup))return!0;var i="lookup.";return!(i.length>t.length)&&0!=i.length&&0!=t.length&&(t=t.toLowerCase(),i=i.toLowerCase(),t.substr(0,i.length)==i)},a.click=function(t){var i=$(t),n=i.offset(),e=n.left+i.width()/2,r=n.top+i.height()/2;t.dispatchEvent(this.generateMouseEvent("mousedown",e,r)),t.dispatchEvent(this.generateMouseEvent("mouseup",e,r))},a.isRestorableFilterType=function(t,i){return"condition"===i||"value"===i&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.dataMap)},a.determineViewType=function(t,i,n){var e=Mn.Grid;return t||(i===In.ListOnly?e=Mn.List:i===In.Reflow&&(e=a.viewTypeByReflowCriteria(n))),e},a.getValueOrNull=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||""===t?null:t},a.getValueOrDefault=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||""===t?Xn.undefinedString:t},a.viewTypeByReflowCriteria=function(t){return a.isReflowByWidth(t)?Mn.List:Mn.Grid},a.isReflowByWidth=function(t){return t<Xn.listViewModeThreshold&&0<t},a.generateMouseEvent=function(t,i,n){var e=document.createEvent("MouseEvent");return e.initMouseEvent(t,!0,!0,window,null,0,0,i,n,!1,!1,!1,!1,0,null),e},a.parsePropertyOrDefault=function(t,i,n){var e;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.raw)||(e=i(t.raw)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&(e=n),e},a.isUci=function(){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.memoizedIsUci)){var t=window;MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Internal)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Internal.isUci)||(a.memoizedIsUci=t.Xrm.Internal.isUci())}return a.memoizedIsUci},a.isEditableGridOnLegacyClient=function(t){return t&&!a.isUci()},a.isDeleteButtonEnabled=function(){if(a.isUci())return!1;var t=window;return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Page)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Page.ui)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Xrm.Page.ui.getFormType)||0==t.Xrm.Page.ui.getFormType())},a.createCellAccessibilityMessage=function(t,i,n){var e=document.createElement("span");return e.tabIndex=-1,e.id=n,e.innerText=t,e.style.position="absolute",e.style.top="-5000",e.style.left="-5000",e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",i.appendChild(e),a.setOrAppendAttributeValue(i,Gn.ariaDescribedBy,n),e},a.setOrAppendAttributeValue=function(t,i,n,e){if(void 0===e&&(e=!1),t.hasAttribute(i)){var r=t.getAttribute(i);!e&&0<=r.indexOf(n)||(n=n+" "+t.getAttribute(i),t.setAttribute(i,n))}else t.setAttribute(i,n)},a.getFetchAttributes=function(t,i){var n=t,e=null;if(t&&0<t.indexOf(".")){var r=t.split("."),s=r[0];n=r[1],e=s}return i===vn.DataType.Object&&(n+="name"),{attributeName:n,entityAliasName:e}},a.calculateColumnWidth=function(t,i,n,e,r,s){var o=(i-n-(t.columns.find(function(t){return t.imageProviderFunctionName&&t.imageProviderWebresource&&t.isPrimary})||a.isHierarchyIconEnabled?Xn.selectButtonWithIconOrConditionalImageMinimumWidth:Xn.selectButtonMinimumWidth)-(s?0:Xn.scrollBarWidth))/e;o<0&&(o=0);var h={};for(var c in r)h[c]=r[c]-Xn.columnSeparatorWidth+o;return h},a.calculateConfiguredGridColumnWidth=function(t){for(var i=0,n=0,e={},r=0;r<t.length;r++){var s=t[r];s.isHidden||-1===s.visualSizeFactor||(i+=s.visualSizeFactor,e[s.name]=s.visualSizeFactor,n++)}return a.isUCIDisruptiveFeatureEnabled(a.getGridHighDensityFCBName())&&(i+=20),{totalWidth:i,columnCount:n,columnWidths:e}},a.getSelectColumnWidthIncrement=function(){return parseFloat(Xn.normalFontSize)*parseFloat(Xn.themingMeasure300)},a.getHeaderSelectColumnWidth=function(t){return a.isNestedGridConfigured&&t.name==Gn.btnHeaderSelectColumnName&&(t.width=t.width+a.getSelectColumnWidthIncrement(),t.width=a.isDetail?t.width:t.width+10),t.width},a.getHeaderColumnWidth=function(t){return a.isNestedGridConfigured&&t.name==Gn.btnHeaderColumnName&&(t.minWidth=t.minWidth-a.getSelectColumnWidthIncrement(),a.isDetail||(t.minWidth=t.minWidth-10)),t.minWidth},a.isUCIDisruptiveFeatureEnabled=function(t){return this.isUci()&&this.contextUtils.isDisruptiveFeatureEnabled(t)},a.isDisruptiveFeatureEnabledOnAllClients=function(t){return!!this.contextUtils.isFeatureEnabled("October2019Update")&&this.contextUtils.isFeatureEnabled(t)},a.memoizedIsUci=null,a.firstInformativeColumnIdx=2,a.saveEditableGridPreNavFCB="SaveEditableGridPreNav",a.gridVirtualization="GridVirtualization",a.readOnlyGridColumnFilteringFCB="ReadOnlyGridColumnFiltering",a.gridColumnFilterParityPhase1FCB="GridColumnFilterParityPhase1",a.contextMenuLookupFCB="ContextMenuLookup",a.gridPaginationStateFCB="FCB.GridPaginationState",a.jumpBarShouldHonorSortingFCB="FCB.JumpBarShouldHonorSorting",a.gridHierarchyIconFCB="FCB.GridHierarchyIcon",a.gridHighDensityFCBName="FCB.UCIGridDensity",a._isForceUpdate=!1,a._isDetail=!1,a._isNestedGridConfigured=!1,a._isHierarchyIconEnabled=!1,a.UPDATE_DATASETHOST_LOADING_STATE="updatedatasethostloadingstate",a}();function $n(t){return Pn||(Pn=parseFloat(window.getComputedStyle(document.documentElement).fontSize)),Pn*parseFloat(t)}var te="CardCommandBar",ie=te+"Button",ne=function(){function t(t,i){this._state={isSelectionMode:!1,isItemSelected:!1,isCommandBarFlyoutOpened:!1,isCommandBarFlyoutMode:!1},this._context=t,this._props=i,this._gridTelemetry=new Ln(t.reporting),this._gridTelemetry.setDefaultEventParams(t.parameters)}return Object.defineProperty(t.prototype,"state",{set:function(t){Object.assign(this._state,t)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var i=this,t=this._getAccessibilityFullDescription(),n=Object.assign({role:"gridcell"},t&&{accessibilityLabel:t},this._state.isSelectionMode&&{isSelected:this._state.isItemSelected}),e=this._props.dataSetRecord.getRecordId(),r=[this.renderEntityImage(),this._renderListItemContent()];return r.push(this._state.isSelectionMode?this.renderSelectionCheck():this.renderCommandBar(!0)),this._context.factory.createElement("CONTAINER",Object.assign(n,{key:"ListItemContainer_"+e,id:"ListItemContainer_"+e,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between","font-size":this._context.theming.fontsizes.font100,"line-height":this._context.theming.measures.measure150,"font-family":this._context.theming.fontfamilies.regular,padding:qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName())?"5px "+this._context.theming.measures.measure100+" 5px "+this._context.theming.measures.measure100:this._context.theming.measures.measure100,height:ee(this._context),"-webkit-transform":"translate3d(0, 0, 0)"},onClick:function(t){return i._props.onClickItem(t,i._props.dataSetRecord)}}),r)},t.prototype.getAccessibilityLabel=function(){var e=this;return this._getSectionColumns().filter(function(t){return t.isPrimary}).map(function(t){var i=t.name,n=(t.displayName,t.dataType);return""+e._getFormattedValue(i,n)}).join(" ")},t.prototype.getDescribedByElementId=function(){return"ListItemAriaDescribedBy_"+this._props.dataSetRecord.getRecordId()},t.prototype._getAccessibilityFullDescription=function(){var e=this;return this._getSectionColumns().map(function(t){var i=t.name,n=(t.displayName,t.dataType);return""+e._getFormattedValue(i,n)}).join(" ")},t.prototype.renderEntityImage=function(){var t,i,n=this._props.entityImageUrl?((t={display:"block",justifyContent:"center",alignItems:"center",borderRadius:"50%",width:this._context.theming.measures.measure250,height:this._context.theming.measures.measure250,lineHeight:this._context.theming.measures.measure250,color:this._context.theming.colors.basecolor.white,fontSize:"16px",textAlign:"center"})["margin"+(this._context.client.isRTL?"Left":"Right")]=this._context.theming.measures.measure100,t.overflow="hidden",t.maxWidth=this._context.theming.measures.measure250,t.maxHeight=this._context.theming.measures.measure250,t.backgroundColor="transparent",t):((i={borderRadius:"50%",display:"block",justifyContent:"center",alignItems:"center",width:this._context.theming.measures.measure250,height:this._context.theming.measures.measure250,lineHeight:this._context.theming.measures.measure250,color:this._context.theming.colors.basecolor.white,fontSize:"16px",textAlign:"center"})["margin"+(this._context.client.isRTL?"Left":"Right")]=this._context.theming.measures.measure100,i.overflow="hidden",i),e=this._props.entityPrimaryColumn?this._getFormattedValue(this._props.entityPrimaryColumn.name,this._props.entityPrimaryColumn.dataType):MscrmCommon.ControlUtils.String.Empty;return this._context.factory.createElement("ENTITYIMAGE",{key:"ListCardEntityImage",hasPrimaryImageField:!0,style:n,imageSrc:this._props.entityImageUrl,entityPrimaryField:e,alt:e,accessibilityLabel:e})},t.prototype.renderCommandBar=function(t){var i,n=this;void 0===t&&(t=!1);var e=this._props.dataSetRecord.getRecordId();if(!this._context.parameters.EnableItemContextualActions||!1!==this._context.parameters.EnableItemContextualActions.raw){var r=ie+"_"+e,s=te+"List_"+e,o=this._context.factory.createElement("MICROSOFTICON",{id:ie+"Icon_"+e,key:ie+"Icon_"+e,type:12,accessibilityHidden:!0}),h="ListItem_"+e,c=this._context.factory.createElement("BUTTON",((i={id:r,key:r,title:On.commandBarFlyoutOpenButton,accessibilityLabel:On.commandBarFlyoutOpenButton,describedByElementId:this._context.accessibility.getUniqueId(h),accessibilityHasPopup:!0,accessibilityExpanded:this._state.isCommandBarFlyoutOpened})[this._state.isCommandBarFlyoutOpened?"ownsElementId":void 0]=this._context.accessibility.getUniqueId(s),i.role="button",i.tabIndex=0,i.onClick=function(t){t.preventDefault(),t.stopPropagation(),n._props.onToggleCommandBarFlyout(e)},i.style={backgroundColor:this._state.isCommandBarFlyoutOpened?this._context.theming.colors.grays.gray03:"transparent",borderStyle:this._context.theming.noneborderstyle,"line-height":"32px",width:"32px",padding:"0px","font-size":"16px",cursor:"pointer",color:this._context.theming.colors.grays.gray07,display:"block","text-align":"center"},i),[o]),a=null;this._state.isCommandBarFlyoutOpened&&(this._commands?a=this._renderCommandBarFlyout(r):this._context.parameters.Grid.retrieveRecordCommand([e],null,void 0,!0).then(function(t){void 0===t&&(t=[]);var i=t.filter(function(t){return t.shouldBeVisible&&("Button"===t.controlType||"SplitButton"===t.controlType)});n._commands=i||[],qn.isForcedUpdate=!0,n._context.utils.requestRender()},function(t){n._gridTelemetry.reportFailure("renderCommandBar",t)}));var u=[c,a],l={display:"block",flex:"0 0 auto",alignSelf:"flex-start","margin-left":this._context.theming.measures.measure050};return t&&(Object.assign(l,{display:"flex","flex-direction":"column","justify-content":"space-between"}),u.push(this.renderConditionalImage())),this._context.factory.createElement("CONTAINER",{key:"CardCommandContainer_"+e,id:"CardCommandContainer_"+e,style:l},u)}return null},t.prototype._shouldDisplayColumn=function(t){return t&&!t.isHidden&&-1!==t.order},t.prototype._getSectionColumns=function(t){void 0===t&&(t=3);var i=this._context.parameters.Grid.columns,n=i.length,e=[];this._shouldDisplayColumn(this._props.entityPrimaryColumn)&&e.push(this._props.entityPrimaryColumn);for(var r=0;r<n&&e.length<t;r++){var s=i[r];s.alias!==Re&&!s.isPrimary&&this._shouldDisplayColumn(s)&&e.push(s)}return e},t.prototype._renderCommandBarFlyout=function(t){var s=this,o=this._props.dataSetRecord.getRecordId(),i=this._commands.length?"CardCommandItem_"+this._commands[0].commandId+o:null,n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=this._commands.map(function(i){var t,n=i.icon?Un[i.icon]:Un.Default,e=n?s._context.factory.createElement("MICROSOFTICON",{key:"CardCommandItemIcon_"+i.commandId,id:"CardCommandItemIcon_"+i.commandId,type:n,style:(t={},t["padding"+(s._context.client.isRTL?"Left":"Right")]=s._context.theming.measures.measure075,t),accessibilityHidden:!0}):null,r=s._context.factory.createElement("CONTAINER",{key:"CardCommandItemLabel_"+i.commandId,id:"CardCommandItemLabel_"+i.commandId,style:{display:"inline-block"}},i.label);return s._context.factory.createElement("LISTITEM",{key:"CardCommandItem_"+i.commandId+o,id:"CardCommandItem_"+i.commandId+o,tabIndex:0,role:"menuitem",style:{display:"block","line-height":s._context.theming.measures.measure250,"padding-left":s._context.theming.measures.measure150,"padding-right":s._context.theming.measures.measure150,"margin-top":s._context.theming.measures.measure075,"margin-bottom":s._context.theming.measures.measure075,"white-space":"nowrap",color:s._context.theming.colors.grays.gray07,"font-size":s._context.theming.fontsizes.font100,"font-family":s._context.theming.fontfamilies.regular,cursor:"pointer",backgroundColor:s._context.theming.colors.whitebackground,":hover":{backgroundColor:s._context.theming.colors.grays.gray03},":first-child":{"margin-top":s._context.theming.measures.measure150},":last-child":{"margin-bottom":s._context.theming.measures.measure150}},onClick:function(t){i.canExecute&&(i.execute(),t.preventDefault(),t.stopPropagation(),s._props.onToggleCommandBarFlyout())},onKeyDown:function(t){t&&t.keyCode&&t.keyCode===Gn.kbEnterCode&&i.canExecute&&(i.execute(),t.preventDefault(),t.stopPropagation(),s._props.onToggleCommandBarFlyout())}},[e,r])}),r=this._context.factory.createElement("LIST",{id:te+"List_"+o,key:te+"List_"+o,role:"menu",onKeyDown:function(t){return t.keyCode===Gn.kbEscapeCode?s._props.onToggleCommandBarFlyout():t.keyCode===Gn.kbTabCode?t.preventDefault():Dn.keyboardNavigation(t)}},e),h=this._context.factory.createElement("SCROLLCONTAINER",{id:te+"ListContainer_"+o,key:te+"ListContainer_"+o,style:{overflowY:"auto",width:"100%"}},r);return this._context.factory.createElement("FLYOUT",{id:te+"ListFlyout_"+o,key:te+"ListFlyout_"+o,focusElementId:i,flyoutDirection:7,flyoutStyle:Object.assign({boxShadow:this._context.theming.shadows.shadow01,borderStyle:"none",background:this._context.theming.colors.base.white},n<=parseInt(this._context.theming.breakpoints.dimensionxs)&&{width:"95%",margin:"0 2.5%"}),positionType:"relative",relativeToElementId:t,onOutsideClick:function(t){t.preventDefault(),t.stopPropagation();var i=t.target;i.id.includes(ie)&&i.id.includes(o)||s._props.onToggleCommandBarFlyout()}},[h])},t.prototype._renderListItemContent=function(){var t,o=this,i=this._getSectionColumns().reduce(function(t,i){var n=i.name,e=i.dataType,r=i.isPrimary,s=o._getFormattedValue(n,e);return s&&t.push({name:n,fieldValue:s,isPrimary:r}),t},[]),n=((t={display:"block",flex:"1",overflow:"hidden","white-space":"nowrap"})["margin"+(this._context.client.isRTL?"Left":"Right")]=this._context.theming.measures.measure025,t);if(1===i.length){var e=i[0],r=e.name,s=e.fieldValue,h=e.isPrimary;return this._renderLabel(s,r,h,n)}var c=i.map(function(t){var i=t.name,n=t.fieldValue,e=t.isPrimary;return o.renderField(n,i,e)});return this._context.factory.createElement("CONTAINER",{key:"ListItemContent_"+this._props.dataSetRecord.getRecordId(),id:"ListItemContent_"+this._props.dataSetRecord.getRecordId(),style:n},c)},t.prototype.renderField=function(t,i,n){return this._renderLabel(t,i,n)},t.prototype._getFormattedValue=function(t,i){var n=this._props.dataSetRecord;return i==Vn.dataTypeWholeDuration?n.reformatValue(t):n.getFormattedValue(t)},t.prototype._renderLabel=function(t,i,n,e){void 0===n&&(n=!1);var r="ListItemLabel_"+i+"_"+this._props.dataSetRecord.getRecordId();return this._context.factory.createElement("LABEL",{key:r,id:r,style:Object.assign({},e,{display:"block","text-decoration":"none",overflow:"hidden","text-overflow":"ellipsis",cursor:"pointer",color:n?this._context.theming.colors.grays.gray07:this._context.theming.colors.grays.gray06})},t)},t.prototype.renderConditionalImage=function(){if(this._props.conditionalImageUrl){var t=this._context.factory.createElement("IMG",{key:"conditionalImage",source:this._props.conditionalImageUrl,altText:this._props.conditionalImageAltText,style:{maxHeight:"32px",maxWidth:"32px",borderRadius:"50%",display:"block"}});return this._context.factory.createElement("CONTAINER",{key:"ListConditionalImage_"+this._props.dataSetRecord.getRecordId(),id:"ListConditionalImage_"+this._props.dataSetRecord.getRecordId(),style:{display:"flex",justifyContent:"center",alignItems:"center",flex:"0 0 32px",borderRadius:"50%",width:"32px",height:"32px",lineHeight:this._context.theming.measures.measure175,backgroundColor:this._context.theming.colors.grays.gray01,color:this._context.theming.colors.grays.gray07,fontSize:"16px",textAlign:"center"}},t)}return null},t.prototype.renderSelectionCheck=function(){var t,i=this._context.factory.createElement("MICROSOFTICON",{id:"selectionCheckBox_"+this._props.dataSetRecord.getRecordId(),key:"selectionCheckBox_"+this._props.dataSetRecord.getRecordId(),style:{cursor:"pointer"},type:this._state.isItemSelected?297:296},[]);return this._context.factory.createElement("CONTAINER",{key:"checkBoxContainer",style:(t={display:"flex",flexDirection:"column",justifyContent:"center",flex:"0 0 "+this._context.theming.measures.measure250,width:this._context.theming.measures.measure250,height:this._context.theming.measures.measure250,"align-items":"center","text-align":"center",color:this._context.theming.colors.grays.gray07},t["margin"+(this._context.client.isRTL?"Right":"Left")]=this._context.theming.measures.measure050,t.alignSelf="flex-start",t)},[i])},t}();function ee(t){return t.theming.measures.measure450}var re,se,oe,he,ce=function(t,i){this.Id=t,this.LogicalName=i},ae=(Cn=window&&window.__extends||(re=function(t,i){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}re(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(r){function w(t,i,n){var e=r.call(this,t,n)||this;return e._parent=i,e._cardExpanded=e._context&&e._context.orgSettings&&e._context.orgSettings.boundDashboardDefaultCardExpanded,e._cardEverExpanded=e._cardExpanded,e._isGridHighDensityEnabled=qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName()),e}return Cn(w,r),w.prototype.render=function(){var i=this,t=this._props.dataSetRecord.getRecordId()?this._props.dataSetRecord.getRecordId():"",n=this._getContent(t);return this._context.factory.createElement("CONTAINER",{key:"ListCard"+t,id:"ListCard"+t,role:"gridcell",onKeyDown:function(t){t.ctrlKey&&t.altKey&&81===t.keyCode&&i._parent.streamQuickActionShortCut(t)},onClick:function(t){return i._props.onClickItem(t,i._props.dataSetRecord)},style:this._getCardContainerStyle()},n)},w.prototype.getAccessibilityLabel=function(){return this._cardTitle?this._cardTitle:null},w.prototype.getDescribedByElementId=function(){return null},w.prototype._getFieldType=function(i){var t=this._context.parameters.Grid.columns;if(t){var n=t.find(function(t){return t.name===i});return n&&n.dataType}},w.prototype.renderField=function(t,e,n){var i,r=this,s=this._props.dataSetRecord;switch(n?Vn.dataTypeLookupSimple:this._getFieldType(e)){case Vn.dataTypeLookupPartyList:for(var o=new Array,h=s.getValue(e),c=0;c<h.length;c++)if("unresolvedaddress"==h[c]._etn)o.push(t);else{var a=c==h.length-1?h[c].name:h[c].name+", ";i=this._context.factory.createElement("HYPERLINK",{key:"HyperLink_"+h[c].id,id:"HyperLink_"+h[c].id,tabIndex:c,style:{display:"inline",color:this._context.theming.colors.basecolor.blue.blue3,textDecoration:"none"},onClick:function(t){t.preventDefault(),t.stopPropagation();var i=t.target.tabIndex,n=s.getValue(e)[i];r._context.parameters.Grid.openDatasetItem(n)}},a),o.push(i)}i=this._context.factory.createElement("LIST",{key:"ListItemLookup_"+e+"_"+s.getRecordId(),id:"ListItemLookup_"+e+"_"+s.getRecordId(),style:{display:"inline",color:this._context.theming.colors.basecolor.blue.blue3,textDecoration:"none"}},o);break;case Vn.dataTypeLookupCustomer:case Vn.dataTypeLookupOwner:case Vn.dataTypeLookupRegarding:case Vn.dataTypeLookupSimple:i=this._context.factory.createElement("HYPERLINK",{key:"ListItemLookup",id:"ListItemLookup",style:{display:"block",color:this._context.theming.colors.basecolor.blue.blue3,textDecoration:"none"},onClick:function(t){t.preventDefault(),t.stopPropagation();var i=s.getValue(e);n&&(i=new ce(s.getRecordId(),r._props.entityName)),r._context.parameters.Grid.openDatasetItem(i)}},t);break;case Vn.dataTypeSingleLineEmail:i=this._renderLink(t,"mailto:"+t);break;case Vn.dataTypeSingleLinePhone:i=this._renderLink(t,"tel:"+t);break;case Vn.dataTypeSingleLineURL:i=this._renderLink(t,t);break;case Vn.dataTypeWholeDuration:i=s.reformatValue(e);break;case Vn.dataTypeSingleLineTextArea:case Vn.dataTypeSingleLineTicker:case Vn.dataTypeTwoOptions:default:i=t}return i},w.prototype._renderLink=function(t,i){return this._context.factory.createElement("HYPERLINK",{key:"ListItemLink",href:i,style:{display:"block","text-decoration":"none",overflow:"hidden","text-overflow":"ellipsis",color:this._context.theming.colors.basecolor.blue.blue3}},t)},w.prototype._getStripColor=function(){var t=this._parent.getCardFormColorStripDataFieldname(),i=this._props.dataSetRecord.getFormattedValue(t);if(i){var n=this._parent.getAttributeDescriptorsByName(),e=n&&n[t];if(e&&e.OptionSet&&0<e.OptionSet.length)for(var r in e.OptionSet){var s=e.OptionSet[r];if(s.Label===i&&s.Color)return s.Color}}var o=this._props.entityName;return o&&!MscrmCommon.ControlUtils.String.isNullOrEmpty(this._context.theming.getEntityColor(o))?this._context.theming.getEntityColor(o):this._context.theming.colors.defaultentity},w.prototype._getContent=function(t){var i=this._state.isSelectionMode?this.renderSelectionCheck():this.renderCommandBar(),n=this._renderSection(De.CardHeader,this._getHeaderSectionStyle(),this._getHeaderSectionFieldStyle(),[i],null,t),e=this._renderSection(De.CardDetails,this._getDetailsSectionStyle(),this._getDetailsSectionFieldStyle(),null,null,t),r=this._getContainerStyle();r.alignItems="flex-start",r["margin-top"]=this._context.theming.measures.measure100,r["margin-bottom"]=this._context.theming.measures.measure100,this._cardExpanded||(r["white-space"]="nowrap");var s,o=this._context.factory.createElement("CONTAINER",{key:"CardDetails_"+t,id:"CardDetails_"+t,style:r},[this.renderEntityImage(),e]);if(0<this._getSectionFields(De.CardFooter,this._getFooterSectionFieldStyle(),null,t).length){var h=this._renderButton(0,this.toggleButtonClickHandler.bind(this),this.toggleButtonKeyHandler.bind(this),this._cardExpanded,t),c=this._renderButton(1,this.toggleButtonClickHandler.bind(this),this.toggleButtonKeyHandler.bind(this),!this._cardExpanded,t);s=this._renderSection(De.ColorStrip,this._getStatusSectionStyle(),this._getStatusSectionFieldStyle(),[h,c],null,t)}else s=this._renderSection(De.ColorStrip,this._getStatusSectionStyle(),this._getStatusSectionFieldStyle(),null,null,t);var a=[n,o,s];if(this._cardEverExpanded){var u=this._renderSection(De.CardFooter,this._getFooterSectionStyle(),this._getFooterSectionFieldStyle(),null,this._getFooterSectionLabelStyle(),t);a.push(u)}return a},w.prototype._toggleButtonFocus=function(t){var i,n=t.currentTarget.id,e=n.substring(n.lastIndexOf("_")+1);i=1==e?t.currentTarget.parentElement.previousElementSibling.children[0]:t.currentTarget.parentElement.nextElementSibling.children[0];var r=this;window.setTimeout(function(){i?i.focus():r._toggleButtonFocus(t)},100)},w.prototype.toggleButtonClickHandler=function(t){t.preventDefault(),t.stopPropagation(),this._toggleButtonFocus(t),this._toggleListCard()},w.prototype.toggleButtonKeyHandler=function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),t.stopPropagation(),this._toggleButtonFocus(t),this._toggleListCard())},w.prototype._toggleListCard=function(){this._cardExpanded=!this._cardExpanded,this._cardEverExpanded=!0,qn.isForcedUpdate=!0,this._context.utils.requestRender()},w.prototype._renderButton=function(t,i,n,e,r){var s=this._context.factory.createElement("MICROSOFTICON",{id:"ListCardButtonIcon_"+t+r,key:"ListCardButtonIcon_"+t+r,type:t}),o=this._context.factory.createElement("BUTTON",{id:"ListCardButton_"+t+r,key:"ListCardButton_"+t+r,title:1===t?On.listCardCollapseText:On.listCardExpandText,accessibilityLabel:1===t?On.listCardCollapseText:On.listCardExpandText,tabIndex:0,onClick:i.bind(this),onKeyDown:n.bind(this),style:{backgroundColor:"transparent",borderStyle:this._context.theming.noneborderstyle,lineHeight:this._context.theming.fontsizes.font150,fontSize:this._context.theming.fontsizes.font100,color:this._context.theming.colors.grays.gray07,cursor:"pointer"}},[s]);return this._context.factory.createElement("CONTAINER",{key:"CardButtonContainer_"+t+r,id:"CardButtonContainer_"+t+r,style:{display:e?"none":"block"}},o)},w.prototype._renderSection=function(t,i,n,e,r,s){var o=this._createSection(t,i,n,r,s);if(e){var h=e;return o&&h.unshift(o),this._context.factory.createElement("CONTAINER",{key:"CardSectionWithControls_"+t+s,id:"CardSectionWithControls_"+t+s,style:this._getContainerStyle()},h)}return o},w.prototype._createSection=function(t,i,n,e,r){var s=this._getSectionFields(t,n,e,r);return this._context.factory.createElement("CONTAINER",{key:"CardSection_"+t+r,id:"CardSection_"+t+r,style:i||{}},s)},w.prototype._getSectionFields=function(t,i,n,e){var r,s=[],o=this._parent.getFromDescriptorSectionControls(t);if(o)for(var h in o){var c=o[h];if(c.ClassId.guid!==w.subGridClassId){var a=c.DataFieldName,u=this._props.dataSetRecord.getFormattedValue(a);if(u){var l=this.renderField(u,a,!1),A=i||{};0==s.length&&(A=Object.assign({"font-family":this._context.theming.fontfamilies.semibold,cursor:"pointer"},i)),t===De.ColorStrip&&(A=Object.assign({color:this._getStripColor(),textDecoration:"none"},i)),t===De.CardDetails&&(r=r?r+" "+u:u);var f=this._context.factory.createElement(t===De.ColorStrip?"HYPERLINK":"CONTAINER",{key:"FieldValue_"+a+e,id:"FieldValue_"+a+e,style:A},l);if(n){var d=this._context.factory.createElement("LABEL",{key:"FieldLabel_"+a+e,id:"FieldLabel_"+a+e,title:c.Label,accessibilityLabel:c.Label,style:n},c.Label),g=this._context.factory.createElement("CONTAINER",{key:"FieldContainer_"+a+e,id:"FieldContainer_"+a+e,style:this._getContainerStyle()},[f,d]);s.push(g)}else s.push(f)}}}return t===De.CardDetails&&(this._cardTitle=r),s},w.prototype._getContainerStyle=function(){return{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},w.prototype._getCardContainerStyle=function(){var t,i=this._getStripColor()||this._context.theming.colors.defaultentity;return(t={display:"block",marginTop:this._isGridHighDensityEnabled?"0px":this._context.theming.measures.measure100,marginBottom:this._isGridHighDensityEnabled?"0px":this._context.theming.measures.measure100,":hover":{margin:0,paddingTop:this._isGridHighDensityEnabled?"0px":this._context.theming.measures.measure100,paddingBottom:this._isGridHighDensityEnabled?"0px":this._context.theming.measures.measure100}})["padding"+(this._context.client.isRTL?"Right":"Left")]=this._context.theming.measures.measure100,t["border"+(this._context.client.isRTL?"Right":"Left")]=this._context.theming.measures.measure025+" "+this._context.theming.solidborderstyle+" "+i,t["font-size"]=this._context.theming.fontsizes.font100,t.color=this._context.theming.colors.grays.gray07,t["font-family"]=this._context.theming.fontfamilies.regular,t.height="100%",t},w.prototype._getHeaderSectionStyle=function(){return{display:"flex",flexDirection:"row",flexWrap:"wrap"}},w.prototype._getHeaderSectionFieldStyle=function(){return{display:"block",color:this._context.theming.colors.grays.gray05,"font-size":this._context.theming.fontsizes.font085,"margin-right":this._context.theming.measures.measure100,"font-family":this._context.theming.fontfamilies.regular,textOverflow:"ellipsis",overflow:"hidden","white-space":"nowrap","max-width":"20ch"}},w.prototype._getDetailsSectionStyle=function(){return{display:"block",flex:"1",overflow:"hidden","white-space":this._cardExpanded?"normal":"nowrap","max-height":this._cardExpanded?"":this._context.theming.measures.measure400}},w.prototype._getDetailsSectionFieldStyle=function(){return this._cardExpanded?{display:"block"}:{display:"block","text-overflow":"ellipsis",overflow:"hidden"}},w.prototype._getStatusSectionStyle=function(){return{display:"block","padding-left":this._context.client.isRTL?void 0:this._context.theming.measures.measure250,"margin-left":this._context.client.isRTL?void 0:this._context.theming.measures.measure100,"padding-right":this._context.client.isRTL?this._context.theming.measures.measure250:void 0,"margin-right":this._context.client.isRTL?this._context.theming.measures.measure100:void 0,"line-height":this._context.theming.measures.measure150,color:this._getStripColor()}},w.prototype._getStatusSectionFieldStyle=function(){return{display:"block","font-family":this._context.theming.fontfamilies.regular}},w.prototype._getFooterSectionStyle=function(){return{display:this._cardExpanded?"block":"none",overflow:"hidden","white-space":"normal","padding-bottom":this._context.theming.measures.measure100,"padding-left":this._context.theming.measures.measure100,"padding-right":this._context.theming.measures.measure100,"background-color":this._context.theming.colors.grays.gray01,"margin-top":this._context.theming.measures.measure050}},w.prototype._getFooterSectionFieldStyle=function(){return{display:"block","font-family":this._context.theming.fontfamilies.regular}},w.prototype._getFooterSectionLabelStyle=function(){return{"font-size":this._context.theming.fontsizes.font085,color:this._context.theming.colors.grays.gray05,alignSelf:"flex-end","white-space":"nowrap","margin-left":this._context.client.isRTL?void 0:this._context.theming.measures.measure100,"margin-right":this._context.client.isRTL?this._context.theming.measures.measure100:void 0}},w.subGridClassId="e7a81278-8635-4d9e-8d4d-59480b391c5b",w}(ne)),ue=function(){function t(t,i,n,e,r,s,o,h){this._context=t,this._props={dataSetRecord:i,entityImageUrl:e,conditionalImageUrl:r,conditionalImageAltText:s,onClickItem:o,onToggleCommandBarFlyout:h,entityName:i.getPrimaryEntityLogicalName(),entityPrimaryColumn:t.parameters.Grid.columns.find(function(t){return t.isPrimary})};var c=n.getFormDesctriptorControlDataSet();this._cardComponent=c&&Object.keys(c).length?this._createCardTemplate(n):this._createDefaultTemplate()}return Object.defineProperty(t.prototype,"dataSetRecord",{set:function(t){this._props.dataSetRecord!==t&&Object.assign(this._props,{dataSetRecord:t,entityName:t.getPrimaryEntityLogicalName()})},enumerable:!0,configurable:!0}),t.prototype.render=function(t,i,n,e){return this._cardComponent.state={isSelectionMode:t,isItemSelected:i,isCommandBarFlyoutOpened:n,isCommandBarFlyoutMode:e},this._cardComponent.render()},t.prototype.getAccessibilityLabel=function(){return this._cardComponent.getAccessibilityLabel()},t.prototype.getConditionalImageUrl=function(){return this._props.conditionalImageUrl},t.prototype.getDescribedByElementId=function(){var t=this._cardComponent.getDescribedByElementId();return this._context.accessibility.getUniqueId(t)},t.prototype._createDefaultTemplate=function(){return new ne(this._context,this._props)},t.prototype._createCardTemplate=function(t){return new ae(this._context,t,this._props)},t}(),le=function(){function t(){}return t.serverLayout="serverLayout",t.clientLayout="clientLayout",t.groupby="groupDescriptions",t.sort="sorting",t.filter="filtering",t}();(oe=se||(se={}))[oe.AdditionalAttributes=0]="AdditionalAttributes",oe[oe.PagingLoad=1]="PagingLoad",oe[oe.DataSetUpdate=2]="DataSetUpdate",oe[oe.FieldAccess=3]="FieldAccess",oe[oe.RetrieveLookup=4]="RetrieveLookup",oe[oe.InitGrid=5]="InitGrid",oe[oe.Filtering=6]="Filtering",oe[oe.Sorting=7]="Sorting",oe[oe.ProcessDataSetRecords=8]="ProcessDataSetRecords",oe[oe.InitToRendered=9]="InitToRendered",(he=se||(se={})).generateId=function(t){var i="CustomControl.Grid.";switch(t){case he.AdditionalAttributes:return i+"AdditionalAttributes";case he.PagingLoad:return i+"PagingLoad";case he.DataSetUpdate:return i+"DataSetUpdate";case he.FieldAccess:return i+"FieldAccess";case he.RetrieveLookup:return i+"RetrieveLookup";case he.InitGrid:return i+"InitGrid";case he.Filtering:return i+"Filtering";case he.Sorting:return i+"Sorting";case he.ProcessDataSetRecords:return i+"ProcessDataSetRecords";case he.InitToRendered:return i+"InitToRendered";default:return i+"Unknown"}};var Ae,fe,de=function(){function t(){this.clientMetricsReported=!1}return t.prototype.initialize=function(t){this.createPerformanceStopwatch=t,this.stopwatches={}},t.prototype.getStopwatch=function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.createPerformanceStopwatch))throw new Error("Error: createPerformanceStopwatch function is not defined correctly. Please call GridPerformance.getInstance().initialize() first.");var i=se.generateId(t);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.stopwatches[i])&&(this.stopwatches[i]=new ge(this.createPerformanceStopwatch(i))),this.stopwatches[i]},t.prototype.tryStart=function(t){try{var i=this.getStopwatch(t);i.isRunning||i.start()}catch(t){}},t.prototype.tryStop=function(t){try{var i=this.getStopwatch(t);i.isRunning&&i.stop()}catch(t){}},t.prototype.collectAndReportClientMetrics=function(){this.clientMetricsReported||MscrmCommon.ControlUtils.Object.isNullOrUndefined(Mscrm.MetricsCollector)||(Mscrm.MetricsCollector.collectAndReportClientMetrics(1),this.clientMetricsReported=!0)},t.prototype.dispose=function(){this.createPerformanceStopwatch=null,this.stopwatches=null},t}(),ge=function(){function t(t){this.perfStopWatch=t,this.isRunning=!1}return t.prototype.start=function(){this.perfStopWatch.start(),this.isRunning=!0},t.prototype.stop=function(){this.perfStopWatch.stop(),this.isRunning=!1},t.prototype.dispose=function(){this.perfStopWatch=null},t}(),we=function(){function l(t,i,n,e){this.utils=n,this.perfTool=e,this._dataSet=t,this.utils=n,this.groupingService=i,this.sortingChangedEvent=new vn.Event}return Object.defineProperty(l.prototype,"sortingChanged",{get:function(){return this.sortingChangedEvent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataSet",{get:function(){return this._dataSet},enumerable:!0,configurable:!0}),l.prototype.applySorting=function(t,i){return void 0===i&&(i=!1),this.applyServerSorting(t,i)},l.prototype.applyState=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[le.sort])){var i=t[le.sort];if(0<i.length){if(this.sortingAlreadyApplied(i,this._dataSet.sorting))return!1;for(var n=this._dataSet.sorting,e=n.length=0;e<i.length;++e){var r=new MscrmCommon.DataSetColumnSortStatus;r.name=i[e].propertyName,r.sortDirection=i[e].sortDirection,n.push(r)}return!0}}return!1},l.prototype.saveState=function(t){for(var i=[],n=this._dataSet.sorting,e=0;e<n.length;++e){var r=n[e];i.push({propertyName:r.name,sortDirection:r.sortDirection})}t[le.sort]=i},Object.defineProperty(l.prototype,"isServerGrouped",{get:function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.groupingService)&&this.groupingService.isServerGrouped},enumerable:!0,configurable:!0}),l.prototype.sortingAlreadyApplied=function(t,n){return t.length===n.length&&t.every(function(i){var t=n.find(function(t){return t.name===i.propertyName&&t.sortDirection===i.sortDirection});return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)})},l.prototype.applyServerSorting=function(t,i){qn.isUci()&&this.utils.fireEvent(qn.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(se.Sorting);var n=new MscrmCommon.DataSetColumnSortStatus;n.name=t;var e=this._dataSet.sorting,r=0;if(this.isServerGrouped&&0<e.length&&e[0].name!==n.name&&(r=1),i){for(var s=-1,o=0;o<e.length;o++)if(e[o].name===n.name){e[o].sortDirection=0===e[o].sortDirection?1:0,s=o;break}-1===s&&(n.sortDirection=0,e.push(n))}else{if(e.length>r&&e[r].name===n.name?n.sortDirection=0===e[r].sortDirection?1:0:n.sortDirection=0,e.length>r&&e[r].name===n.name&&e[r].sortDirection===n.sortDirection)return!1;e.length=r,e.push(n)}if(qn.isUCIDisruptiveFeatureEnabled(qn.getJumpBarShouldHonorSortingFCB())){var h=this.dataSet.columns.find(function(t){return t.isPrimary}),c=e.findIndex(function(t){var i=t.name;return!qn.isLinkedEntityColumn(i)}),a=h;if(0<=c){var u=e[c].name;a=this.dataSet.columns.find(function(t){return t.name===u})}h&&a&&this.utils.fireEvent(l.ON_SELECTED_ORDER_COLUMN_CHANGE,{columnSortingName:a.name,columnSortingType:a.attributes.type,primaryNameAttribute:h.name})}return this.sortingChangedEvent.raise(this,vn.EventArgs.empty),!0},l.prototype.dispose=function(){this._dataSet=null},l.ON_SELECTED_ORDER_COLUMN_CHANGE="onselectedordercolumnchange",l}(),me=function(){function t(t,i,n,e){this.sortPopupPopped=!1,this.sortPopupKey="sortPopup",this._context=t,this._dataSet=t.parameters.Grid,this._container=n,this._sortingService=new we(this._dataSet,null,t.utils,i),this._isRenderedInStream=this._context.parameters.UseDefaultCardFormForList&&this._context.parameters.UseDefaultCardFormForList.raw,this._parent=e}return Object.defineProperty(t.prototype,"sortingService",{get:function(){return this._sortingService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSet",{get:function(){return this._dataSet},enumerable:!0,configurable:!0}),t.prototype.getSortButtonId=function(){return"listSortButton"},t.prototype.getSortPopupListHeaderId=function(){return"SortPopupListHeader"},t.prototype.getSortPopupListFooterId=function(){return"SortPopupListFooter"},t.prototype.getSortPopupPopped=function(){return this.sortPopupPopped},t.prototype.renderSortingPopup=function(){var n=this;if(!this.sortPopupPopped){var t=this._context.utils.getPopupService(),i=document.createElement("div"),e=$(this._container).offset().top,r=$(this._container).offset().left,s=this._container.offsetWidth,o=void 0,h=void 0,c=this._container.offsetHeight,a=void 0;if(this._isRenderedInStream){var u=document.getElementById(this.getSortButtonId());u||(u=document.getElementById(this._context.accessibility.getUniqueId(this.getSortButtonId())));var l=$(u).offset().left;if(e=$(u).offset().top,s=void 0,h=u.offsetWidth+2*$n(this._context.theming.measures.measure150)+"px",c=$(document.documentElement).outerHeight()-e-2,this._context.client.isRTL){var A=l+$(u).outerWidth();a=$(document.documentElement).outerWidth()-A,o=A-r+"px",r=void 0}else o=r+$(this._container).outerWidth()-(r=l)+"px"}this.popupDiv=i;var f={name:this.sortPopupKey,popupToOpen:this.sortPopupKey,closeOnOutsideClick:!0,popupStyle:{width:s?s+"px":void 0,maxWidth:o,minWidth:h,borderStyle:"solid",borderColor:"black",borderWidth:"1px",flex:"",overflow:this._isRenderedInStream?"hidden":null,whiteSpace:this._isRenderedInStream?"nowrap":null,textOverflow:this._isRenderedInStream?"ellipsis":null,top:e+"px",left:r||0===r?r+"px":void 0,right:a?a+"px":void 0,flexDirection:"column",position:"absolute"},shadowStyle:{position:"absolute",width:"100%",height:"100%"},type:1,content:i};t.createPopup(f),this.removePopup=function(t){var i=document.getElementById(n.getSortPopupListHeaderId());i||(i=document.getElementById(n._context.accessibility.getUniqueId(n.getSortPopupListHeaderId()))),n.sortPopupPopped&&(n._isRenderedInStream||i.id!==t.target.id)&&(n._deletePopup(),n._focusOnSortButton())},document.addEventListener("click",this.removePopup),this._context.utils.bindDOMElement(this.renderSortPopupDataSet(s,c),this.popupDiv),this.sortPopupPopped=!0}},t.prototype.renderSortPopupDataSet=function(t,i){var n=this,e=[],r=this._context.factory.createElement("MICROSOFTICON",{id:"SortPopupCloseIcon",key:"SortPopupCloseIcon",type:97}),s=this._context.factory.createElement("TEXT",{id:"SortTitleText",key:"SortTitleText",style:{fontSize:this._context.theming.fontsizes.font100,color:this._context.theming.colors.base.white}},On.commandBarSortIconText),o=this._context.factory.createElement("BUTTON",{id:"ListCardButton",key:"ListCardButton",title:On.closeSortPopupButtonText,accessibilityLabel:On.closeSortPopupButtonText,role:"button",tabIndex:0,onClick:this._removePopup.bind(this),style:{backgroundColor:"transparent",borderStyle:this._context.theming.noneborderstyle,marginLeft:"auto",lineHeight:this._context.theming.fontsizes.font150,cursor:"pointer"}},[r]),h=this._context.factory.createElement("LISTITEM",{id:this.getSortPopupListHeaderId(),key:this.getSortPopupListHeaderId(),style:{fontWeight:this._context.theming.fontfamilies.bold,paddingLeft:this._context.theming.measures.measure150,width:t+"px",boxSizing:"border-box",display:"flex",lineHeight:this._context.theming.measures.measure250,cursor:"pointer",fontSize:this._context.theming.fontsizes.font100,fontColor:this._context.theming.colors.basecolor.white,backgroundColor:this._context.theming.colors.basecolor.blue.blue3}},[s,o]),c=this._context.factory.createElement("LISTITEM",{id:this.getSortPopupListFooterId(),key:this.getSortPopupListFooterId(),tabIndex:0,style:{display:"flex",height:this._context.theming.measures.measure100,fontSize:this._context.theming.fontsizes.font100,cursor:"pointer",fontColor:this._context.theming.colors.base.white,backgroundColor:this._context.theming.colors.whitebackground},accessibilityHidden:!0},[" "]);return this._isRenderedInStream||e.push(h),e.push(this._renderSortPopupList(t)),e.push(c),this._context.factory.createElement("SCROLLCONTAINER",{id:"SortPopupScrollContainer",key:"SortPopupScrollContainer",tabIndex:0,onKeyDown:function(t){n._keyDownHandler.call(n,t)},style:Object.assign({overflowY:"auto",maxHeight:i+"px"},this._isRenderedInStream&&{overflow:"hidden",textOverflow:"ellipsis"})},e)},t.prototype._renderSortPopupList=function(o){var h=this,c=[];if(this._isRenderedInStream){var t=this._parent.getAttributeDescriptorsByName();for(var i in t){var n=t[i];(n.IsSortableEnabled||"modifiedon"===n.LogicalName)&&c.push(this.renderSortPopupListItem({alias:i,displayName:n.DisplayName},!1,o,!1))}}else this.dataSet.columns.forEach(function(t,i){for(var n=0===t.order,e=!1,r=0,s=h._dataSet.sorting;r<s.length;r++)s[r].name===t.alias&&(e=!0);c.push(h.renderSortPopupListItem(t,e,o,n))});return this._context.factory.createElement("LIST",{id:"SortPopupColumnsList",key:"SortPopupColumnsList",refCallback:this._setFocusOnFirstListItem.bind(this)},c)},t.prototype.renderSortPopupListItem=function(t,i,n,e){var r,s=this,o=t.alias,h=MscrmCommon.ControlUtils.String.Format(On.sortByColumnName,t.displayName);if(t.disableSorting||t.isHidden||"entityimage_url"===o)return null;var c=[],a={fontWeight:this._context.theming.fontfamilies.regular,paddingLeft:this._context.theming.measures.measure150,paddingRight:this._context.theming.measures.measure150,display:this._isRenderedInStream?"block":"flex",textOverflow:this._isRenderedInStream?"ellipsis":null,overflow:this._isRenderedInStream?"hidden":null,lineHeight:this._context.theming.measures.measure250,cursor:"pointer",fontSize:this._context.theming.fontsizes.font100,fontColor:this._context.theming.colors.grays.gray07,backgroundColor:this._context.theming.colors.whitebackground,whiteSpace:"nowrap",":hover":{backgroundColor:this._context.theming.colors.grays.gray01},":focus":{backgroundColor:this._context.theming.colors.grays.gray03}};if(c.push(t.displayName),i){var u=this._dataSet.sorting[0].sortDirection,l=this._context.factory.createElement("MICROSOFTICON",{id:"sortDirectionIcon"+u,key:"sortDirectionIcon"+u,type:0===u?58:59,style:{marginLeft:"auto"}});h=MscrmCommon.ControlUtils.String.Format(On.sortedByColumnName,t.displayName,0===u?On.sortedByAscending:On.sortedByDescending),c.push(l)}return this._context.factory.createElement("LISTITEM",((r={id:"SortFlyoutColumnsListItem_"+o+i,key:"SortFlyoutColumnsListItem_"+o+i,tabIndex:0,style:a,accessibilityLabel:h})[i?"isSelected":void 0]=!0,r.onClick=function(){s.sortingService.applySorting(o),s._dataSet.refresh(),s._parent.isSortLiveRegionHidden=!1},r),c)},t.prototype._setFocusOnFirstListItem=function(t){if(t){var i=t.firstChild;i&&setTimeout(function(){i.focus()},0)}},t.prototype._removePopup=function(){this._deletePopup(),this._focusOnSortButton()},t.prototype._deletePopup=function(){this._context.utils.getPopupService().deletePopup(this.sortPopupKey),this.sortPopupPopped=!1,document.removeEventListener("click",this.removePopup)},t.prototype._focusOnSortButton=function(){var t=document.getElementById(this.getSortButtonId());t||(t=document.getElementById(this._context.accessibility.getUniqueId(this.getSortButtonId()))),t&&(t.tabIndex=0,t.focus())},t.prototype._handleKeyboardEventsForPopup=function(t,i){if(-1!==[40,38].indexOf(t.keyCode)){var n=t.target,e=this._context.accessibility.getUniqueId("ListCardButton"),r=document.getElementById(e),s=null;switch(t.keyCode){case 38:n!==r&&n===n.parentElement.firstElementChild?r&&r.focus():s=n.previousElementSibling;break;case 40:if(n===r){var o=document.getElementById(this._context.accessibility.getUniqueId("SortPopupColumnsList"));s=o?o.firstElementChild:null}else s=n.nextElementSibling}s&&s.focus()}},t.prototype._keyDownHandler=function(t){switch(t.keyCode){case 27:this._removePopup.call(this);break;case 13:t.target.click(),t.preventDefault();break;default:this._handleKeyboardEventsForPopup(t,"SortPopupScrollContainer")}},t}();(fe=Ae||(Ae={}))[fe.None=0]="None",fe[fe.Top=1]="Top",fe[fe.Bottom=2]="Bottom";var be=function(){function t(){}return t.render=function(t,i,n){void 0===n&&(n=!0);var e=Gn.progressIndicatorSize+"px",r={width:e,height:e,margin:"0 auto"};return t.createElement("PROGRESSINDICATOR",{key:i,id:i,style:r,progressType:"ring",testhooks:{id:i+"_progressIndicator"},active:n},[])},t}(),ve=-1,pe={};function Ee(t,i,n,e){var r=pe[t];(!r||!r.height||e<r.height||i!==r.version)&&(pe[t]={version:i,height:e},e&&localStorage&&localStorage.setItem(Be(t,n),i+":"+e))}function Be(t,i){return"defaultCardFormHeight:"+i+":"+t}var je,Ce,Ie="GridListContainer",Qe="ListSortingLiveRegion",Me="ListItem_Void",Fe="modifiedon",ye="GridList",Re="entityimage_url";(Ce=je||(je={}))[Ce.Off=0]="Off",Ce[Ce.Error=1]="Error",Ce[Ce.Warning=2]="Warning",Ce[Ce.Perf=3]="Perf",Ce[Ce.Info=4]="Info",Ce[Ce.Verbose=5]="Verbose";var xe,ke,Se,Ye,De=function(){function u(t,i,n){var e=this;this._cardStates={},this._cardFormState=0,this._formDescriptorControlDataSet={},this._hasEntityImage=!1,this._selectedItems=[],this._selectionMode=!1,this._hasFocusWhenSelected=void 0,this._itemsToRender=ve,this._memoizedItemsToRender=ve,this._wasItemHeightEstimateAccurate=!0,this.isSortLiveRegionHidden=!0,this.resetTapHold=function(t){-1!==e._tapHoldTimer&&e.clearTimer()},this.onPointerDown=function(t,i){e._tapHoldTimer=setTimeout(function(){return e.tapHold(t,i)},Xn.tapHoldThreshold)},this.clearTimer=function(){e._tapHoldTimer&&(clearTimeout(e._tapHoldTimer),e._tapHoldTimer=null)},this.tapHold=function(t,i){e._tapHoldTimer=-1,e.OnSelectionModeChanged(),e._selectionMode&&e._onSelectionChanged(i),t.preventDefault()},this.setContext(t),this._container=i,this._listSortingPopup=new me(t,n,i,this),this._sortingService=new we(this.dataSet,null,this._context.utils,n),this._areCardsExpandedByDefault=this._context&&this._context.orgSettings&&this._context.orgSettings.boundDashboardDefaultCardExpanded}return u.prototype.getFormDesctriptorControlDataSet=function(){return this._formDescriptorControlDataSet},Object.defineProperty(u.prototype,"selectedRecordIds",{get:function(){return this._selectedItems},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"IsSelectionMode",{get:function(){return this._selectionMode},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemHeightEstimate",{get:function(){if(this._canDetermineDefaultCardFormHeight()){var t=this._isDefaultCardForm()&&this.dataSet.getTargetEntityType(),i=t&&function(t,i,n){var e=pe[t];if(!e||i&&e.version!==i){var r=localStorage&&localStorage.getItem(Be(t,n));if(r){var s=r.split(":"),o=s[0],h=s[1],c=+o;e&&i!==c||(e={version:c,height:+h})}e||(e={version:i,height:0}),pe[t]=e}return e.height}(t,this._getFormDescriptorVersion(),this._areCardsExpandedByDefault);if(i)return i}if(!xe){var n=ee(this._context);xe=$n(n)}return xe},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"wasItemHeightEstimateAccurate",{get:function(){return this._wasItemHeightEstimateAccurate},enumerable:!0,configurable:!0}),u.prototype.setItemsToRender=function(t){this._itemsToRender=t},u.prototype.getScrollableElement=function(){return this._scrollableElement},u.prototype.getListSortingPopup=function(){return this._listSortingPopup},u.prototype.getRenderedCellHeight=function(){return $(this.getScrollableElement()).children().first().outerHeight()},u.prototype.setProgressIndicator=function(t){if(t){switch(t){case Ae.Top:var i=Gn.progressIndicatorSize;this._progressIndicatorDiv.style.top=i+"px",this._progressIndicatorDiv.style.bottom="auto";break;case Ae.Bottom:this._progressIndicatorDiv.style.top="auto",this._progressIndicatorDiv.style.bottom="0"}this._progressIndicatorDiv.style.display="block"}else this._progressIndicatorDiv.style.display="none",this._progressIndicatorDiv.style.top=null,this._progressIndicatorDiv.style.bottom=null},Object.defineProperty(u.prototype,"onRecordsDataInit",{set:function(i){var n=this;this._recordsDataInit=function(t){i(t),n._recordsDataInit=null}},enumerable:!0,configurable:!0}),u.prototype.updateSourceCollection=function(t){this._recordIds=t,this._resetEntityAndConditionalImages(),this.render()},Object.defineProperty(u.prototype,"sortingService",{get:function(){return this._sortingService},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataSet",{get:function(){return this._context.parameters.Grid},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cardForm",{get:function(){return this._context.parameters.CardForm},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"componentContainerId",{get:function(){return this._isDefaultCardForm()?Ie+"AndHeader":Ie},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isCommandBarFlyoutMode",{get:function(){return!!this._activeCommandBarFlyoutId},enumerable:!0,configurable:!0}),u.prototype._isNonDefaultCardForm=function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.cardForm)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.cardForm.formDescriptor)},u.prototype._isNonDefaultCardFormInitialized=function(){return this._isNonDefaultCardForm()&&2===this.cardForm.formDescriptor.initialized},u.prototype._isDefaultCardForm=function(){var t=this._context.parameters.UseDefaultCardFormForList;return t&&t.raw},u.prototype.needsReRender=function(){return!this._hasRendered||this._memoizedAllocatedHeight&&this._memoizedAllocatedWidth&&this._context.client&&this._context.client.allocatedHeight&&-1!==this._context.client.allocatedHeight&&this._context.client.allocatedWidth&&-1!==this._context.client.allocatedWidth&&(this._memoizedAllocatedHeight!==this._context.client.allocatedHeight||this._memoizedAllocatedWidth!==this._context.client.allocatedWidth||this._memoizedItemsToRender!==this._itemsToRender)},u.prototype.streamQuickActionShortCut=function(t){var i=t.target,n=$(i).closest("li")[0],e=$(n).closest("div[id*=GridListContainerAndHeader]").find("button")[0];e&&(e.focus(),t.preventDefault(),t.stopPropagation())},u.prototype.initialize=function(){var e=this,t=this.dataSet.getTargetEntityType();if(this._isNonDefaultCardForm()||this._isDefaultCardForm()){if(this._isNonDefaultCardForm()&&!this._isNonDefaultCardFormInitialized())return;if(0===this._cardFormState){if(this._cardFormState=1,this.cardForm&&this.cardForm.formDescriptor)this._runPostCardFormRetrievalJobs();else if(this._isDefaultCardForm()){var i=this._context.utils.retrieveFormWithAttributes(t,null,"Card"),n=this._context.utils.getEntityMetadata(t);return this._initializePromise=Promise.all([i,n]).then(function(t){var i=t[0],n=t[1];n&&n.PrimaryImageAttribute&&(e._hasEntityImage=!0),i?(e._formDescriptorWithAttributes=i,e._runPostCardFormRetrievalJobs()):(e._cardFormState=2,e._initializePromise=null)}),!1}}else if(1===this._cardFormState)return!1}return!0},u.prototype.render=function(){var t=this;this.initialize()?(this._hasRendered=!0,this._createList()):!this._renderPendingInit&&this._initializePromise&&(this._renderPendingInit=!0,this._initializePromise.then(function(){return t._context.utils.requestRender()}))},u.prototype._runPostCardFormRetrievalJobs=function(){this._generateFormDescriptorInfo(),this._addColumnsToDataSet()&&this.dataSet&&this.dataSet.refresh(),this._cardFormState=2,this._initializePromise=null},u.prototype._addColumnsToDataSet=function(){var t=[],i=this.dataSet.columns.map(function(t){return t.name});if(this._formDescriptorControlDataSet)for(var n in this._formDescriptorControlDataSet){var e=this._formDescriptorControlDataSet[n];if(e)for(var r in e)e[r].DataFieldName&&-1===i.indexOf(e[r].DataFieldName)&&(t.push(e[r].DataFieldName),this.dataSet.addColumn(e[r].DataFieldName))}var s=this.getAttributeDescriptorsByName();if(s)for(var o in s)-1===t.indexOf(o)&&-1===i.indexOf(o)&&(t.push(o),this.dataSet.addColumn(o));return this._isDefaultCardForm()&&(-1===t.indexOf(Fe)&&-1===i.indexOf(Fe)&&(t.push(Fe),this.dataSet.addColumn(Fe)),this._hasEntityImage&&-1===t.indexOf(Re)&&-1===i.indexOf(Re)&&(t.push(Re),this.dataSet.addColumn(Re))),!!t.length},u.prototype._generateFormDescriptorInfo=function(){var t=this.getFormDescriptor(),i=this.dataSet.getTargetEntityType();if(t)for(var n in u.CardFormSectionArray){var e=u.CardFormSectionArray[n];this._formDescriptorControlDataSet[e]=this._buildSectionControlInfo(e,t)}else"activitypointer"===i&&Yn.generateFormDescriptorInfoForActivityPointer(this._formDescriptorWithAttributes,this._formDescriptorControlDataSet)},u.prototype._buildSectionControlInfo=function(t,i){var n=[],e=i.Sections&&i.Sections[t];if(e||t!==u.ColorStrip||(e=i.Sections&&i.Sections[u.ColorStripDelimited]),e)if(e.Visible){var r=e.Rows;if(r)for(var s in r){var o=r[s];if(o.Visible)for(var h in o.Cells.length||this._context.utils.log("GridListComponent","Row '"+s+"' has no cells. Section: '"+t+"'. Form: '"+i.Id.guid+"'",je.Verbose),o.Cells){var c=o.Cells[h],a=i.Controls[c.ControlName];a?a.ClassId&&a.ClassId.guid?"6F3FB987-393B-4D2D-859F-9D0F0349B6AD"!==a.ClassId.guid.toUpperCase()&&(a.DataFieldName?n.push(a):this._context.utils.log("GridListComponent","Control '"+c.ControlName+"' is missing DataFieldName. Section: '"+t+"'. Form: '"+i.Id.guid+"'",je.Error)):this._context.utils.log("GridListComponent","Control '"+c.ControlName+"' is missing ClassId. Section: '"+t+"'. Form: '"+i.Id.guid+"'",je.Error):this._context.utils.log("GridListComponent","No control with name '"+c.ControlName+"'. Section: '"+t+"'. Form: '"+i.Id.guid+"'",je.Error)}else this._context.utils.log("GridListComponent","Row '"+s+"' is not visible, row.Visible="+o.Visible+". Section: '"+t+"'. Form: '"+i.Id.guid+"'",je.Verbose)}else this._context.utils.log("GridListComponent","Section: '"+t+"' has no rows. Form: '"+i.Id.guid+"'",je.Verbose)}else this._context.utils.log("GridListComponent","Section: '"+t+"' is not visible, section.Visible="+e.Visible+". Form: '"+i.Id.guid+"'",je.Verbose);else this._context.utils.log("GridListComponent","Form '"+i.Id.guid+"' is missing section '"+t+"'",je.Warning);return n},u.prototype.getFormDescriptor=function(){return this.cardForm&&this.cardForm.formDescriptor?this.cardForm.formDescriptor:this._formDescriptorWithAttributes?this._formDescriptorWithAttributes.formDescriptor:null},u.prototype._getFormDescriptorVersion=function(){var t=this.getFormDescriptor();return t&&t.VersionNumber||0},u.prototype.getFromDescriptorSectionControls=function(t){return this._formDescriptorControlDataSet?this._formDescriptorControlDataSet[t]:null},u.prototype.getAttributeDescriptorsByName=function(){return this._formDescriptorWithAttributes?this._formDescriptorWithAttributes.attributeDescriptors:null},u.prototype.getCardFormColorStripDataFieldname=function(){var t=this.getFromDescriptorSectionControls(u.ColorStrip);return t&&t[0]?t[0].DataFieldName:null},u.prototype.attachScrollHandler=function(i){var n=this;this._scrollHandler=function(t){n.clearTimer(),i(t)}},u.prototype._createList=function(){var u=this;!this.dataSet.working&&this.loadConditionalImages().then(function(){u._conditionalImageLoadPromise=null;var t=u.dataSet.sortedRecordIds.length&&!u.dataSet.hasError,i=t?void 0:u._context.factory.createElement("PLACEHOLDER",u.dataSet.hasError?{text:u.dataSet.errorMessage,icon:188,iconStyle:{"font-size":"2em","font-weight":"normal",color:"red"}}:{text:On.noRecordsText,icon:91,accessibilityHidden:!0}),n=t?void 0:u._context.factory.createElement("LISTITEM",{},[i]),e=t?u._getListItems(u):n,r={display:"block",overflowY:"auto",overflowX:"hidden",height:"auto","& *:focus":{outlineOffset:"-1px"}};u._isDefaultCardForm()||(r=Object.assign({},r,{width:"100%"}),t||(r=Object.assign({},r,{height:"100%"})));var s=u._context.factory.createElement("SCROLLCONTAINER",{key:ye,id:ye,role:t?"grid":void 0,accessibilityLabel:u.dataSet.getTitle(),describedByElementId:u._context.accessibility.getUniqueId(Qe),semanticTag:"ul",style:r,className:u._context.decorators&&u._context.decorators.ClassName?""+u._context.decorators.ClassName:void 0,onScroll:u._scrollHandler,onKeyDown:function(t){var i=t.target.firstElementChild;u.IsSelectionMode&&t.keyCode===Gn.kbSpaceCode?(t.preventDefault(),i.click()):Dn.keyboardNavigation(t,i)}},e),o=[s];if(u._isDefaultCardForm()){u._listHeader||(u._listHeader=new Jn(u._context,u._requestRender.bind(u)));var h=u._listHeader.render(u);o.unshift(h)}var c=s;if(t||u._listHeader){var a={display:"flex",flexDirection:"column",height:"auto",backgroundColor:u._context.theming.colors.whitebackground,overflow:"hidden",width:"100%",position:"relative"};u._context.client&&u._context.client.allocatedHeight&&-1!==u._context.client.allocatedHeight&&(a=Object.assign(a,{maxHeight:u._context.client.allocatedHeight}),u._memoizedAllocatedHeight=u._context.client.allocatedHeight),u._context.client&&u._context.client.allocatedWidth&&-1!==u._context.client.allocatedWidth&&(u._memoizedAllocatedWidth=u._context.client.allocatedWidth),t&&o.push(u._getProgressIndicator(),u._renderSortLiveRegion()),c=u._context.factory.createElement("CONTAINER",{key:u.componentContainerId,id:u.componentContainerId,role:"presentation",style:a},o)}Object.assign(u._container.style,{display:"flex",flex:1}),u._context.utils.bindDOMElement(c,u._container),u._scrollableElement=u._container.querySelector("[id$='"+ye+"']"),t&&(u._isDefaultCardForm()&&u._determineDefaultCardFormHeight(),u._setProgressIndicatorsDiv(u._container),u._setFocusToFirstListItem(e))})},u.prototype._canDetermineDefaultCardFormHeight=function(){return void 0===ke&&(ke="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype&&"isIntersecting"in IntersectionObserverEntry.prototype),ke},u.prototype._determineDefaultCardFormHeight=function(){var t=this._itemsToRender!==ve;if(!this._isDeterminingDefaultCardFormHeight&&this._canDetermineDefaultCardFormHeight()&&this._scrollableElement){this._isDeterminingDefaultCardFormHeight=!0;for(var i={root:this._scrollableElement,rootMargin:"0px",threshold:0},n=this._context.accessibility.getUniqueId(Me),e=this._makeDefaultCardFormHeightObserverCallback(t,n),r=new IntersectionObserver(e,i),s=0,o=this._getListItemIds();s<o.length;s++){var h=o[s],c=this._context.accessibility.getUniqueId(h),a=document.getElementById(c);r.observe(a)}if(t){var u=document.getElementById(n);r.observe(u)}}else this._listItemSpacerIntersectionObserver&&!t&&(this._listItemSpacerIntersectionObserver.disconnect(),this._listItemSpacerIntersectionObserver=null)},u.prototype._makeDefaultCardFormHeightObserverCallback=function(a,u){var l=this,A=this.dataSet.getTargetEntityType();return function(t,i){for(var n=-1,e=0,r=t;e<r.length;e++)if(0<(c=r[e]).intersectionRatio&&c.isIntersecting){var s=c.boundingClientRect.height;if(n=-1===n?s:Math.min(n,s),a&&c.target.id===u)return void l._resetDefaultCardFormHeightObserver(A,i)}if(!l._listItemSpacerIntersectionObserver&&-1!==n){if(a){for(var o=0,h=t;o<h.length;o++){var c;(c=h[o]).target.id!==u&&i.unobserve(c.target)}l._listItemSpacerIntersectionObserver=i}else i.disconnect();Ee(A,l._getFormDescriptorVersion(),l._areCardsExpandedByDefault,n)}}},u.prototype._resetDefaultCardFormHeightObserver=function(t,i){this._wasItemHeightEstimateAccurate=!1,this._itemsToRender=ve,this._isDeterminingDefaultCardFormHeight=!1,this._listItemSpacerIntersectionObserver=null,Ee(t,0,this._areCardsExpandedByDefault,0),i.disconnect(),this._requestRender()},u.prototype._setFocusToFirstListItem=function(t){if(!1===this._hasFocusWhenSelected){var i=this;if(t&&t.length){var n=t,e=this._context.accessibility.getUniqueId(n[0].getComponentId());setTimeout(function(){var t=document.getElementById(e);t&&(t.focus(),i._hasFocusWhenSelected=!0)},0)}}},u.prototype._renderSortLiveRegion=function(){var t=this,i=this.dataSet.sorting[0],n=i&&this.dataSet.columns.find(function(t){return t.name==i.name}),e=n?n.displayName:"",r=i&&u.getSortingNameByDirection(i.sortDirection),s=this._context.parameters.Grid.paging.totalResultCount+" "+MscrmCommon.ControlUtils.String.Format(On.sortedByColumnName,e,r);return this.isSortLiveRegionHidden||setTimeout(function(){try{t.isSortLiveRegionHidden=!0,t._requestRender()}catch(t){}},2e3),this._context.factory.createElement("TEXT",{key:Qe,id:Qe,accessibilityLive:"assertive",accessibilityHidden:this.isSortLiveRegionHidden,accessibilityLabel:s,role:"alert",style:{height:"0px",width:"0px",outlineOffset:"-5px",opacity:0}},s)},u.getSortingNameByDirection=function(t){switch(t){case 0:return On.sortedByAscending;case 1:return On.sortedByDescending;case-1:return On.sortedByNone}},u.prototype.loadConditionalImages=function(){var r=this;if(this._conditionalImageLoadPromise)return this._conditionalImageLoadPromise;if(this._recordIds&&this._recordIds.length&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._entityImages)){this._entityImages={},this._conditionalImages={},this._conditionalImagesAltText={};var i=[];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.getCellImageInfo)){var s=this.dataSet.columns.find(function(t){return t.isPrimary&&!!t.imageProviderWebresource&&!!t.imageProviderFunctionName}),o=this.dataSet.columns.find(function(t){return!t.isPrimary&&!!t.imageProviderWebresource&&!!t.imageProviderFunctionName}),h=Xrm.Utility.getGlobalContext().getUserLcid();this._recordIds.forEach(function(e){var n=r._getEntityImageUrl(e);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(s))r._entityImages[e]=n;else{var t=r.dataSet.getCellImageInfo(s.name,e,h).then(function(t){if(t){var i=t.Url;r._entityImages[e]=i||n}else r._entityImages[e]=n});i.push(t)}MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)||(t=r.dataSet.getCellImageInfo(o.name,e,h).then(function(t){if(t){var i=t.Url,n=t.Tooltip;r._conditionalImages[e]=i,r._conditionalImagesAltText[e]=n}}),i.push(t))})}return this._conditionalImageLoadPromise=Promise.all(i),this._conditionalImageLoadPromise}return this._entityImages&&this._recordIds.forEach(function(t){if(null==r._entityImages[t]){var i=r._getEntityImageUrl(t);(r._entityImages[t]=i)&&(r._cardStates[t]=null)}}),Promise.resolve()},u.prototype._resetEntityAndConditionalImages=function(){this._entityImages=null,this._conditionalImages=null,this._conditionalImagesAltText=null,this._conditionalImageLoadPromise=null},u.prototype._getEntityImageUrl=function(t){var i=this.dataSet.records[t];return i&&i.getValue(Re)},u.prototype.setContext=function(t){this._context=t,this._recordsDataInit&&!this.dataSet.working&&this._recordsDataInit(this.dataSet),this._recordIds=this.dataSet.sortedRecordIds,this._resetEntityAndConditionalImages()},u.prototype.getSourceCollectionIds=function(){return this._recordIds},u.prototype._getProgressIndicator=function(){return be.render(this._context.factory,"progressIndicatorDiv",!1)},u.prototype._setProgressIndicatorsDiv=function(t){this._progressIndicatorDiv=t.getElementsByClassName("indeterminateProgressRing").item(0)},u.prototype._getListItems=function(l){for(var A=this,f=[],d=this._getListItemIds(),g=-1,t=function(i){if(g++,w._itemsToRender!==ve&&g>=w._itemsToRender)return"break";var n=w.dataSet.records[i],t=w._cardStates[i]&&w._cardStates[i].getConditionalImageUrl()===w._conditionalImages[i]?w._cardStates[i]:w._cardStates[i]=new ue(w._context,n,l,w._entityImages[i],w._conditionalImages[i],w._conditionalImagesAltText[i],w._onListItemClick.bind(w),w._toggleCommandBarFlyout.bind(w));t.dataSetRecord=n;var e=w._activeCommandBarFlyoutId===i,r=w.IsSelectedItem(i),s=r?w._context.theming.colors.maintheme.maincolor2.fill:void 0,o=r||w.isCommandBarFlyoutMode?null:{backgroundColor:w._context.theming.colors.grays.gray03},h={listStyleType:"none",cursor:"pointer",borderTop:g?"1px "+w._context.theming.solidborderstyle+" "+w._context.theming.colors.grays.gray03:void 0,backgroundColor:s,":hover":o},c=t.render(w.IsSelectionMode,r,e,w.isCommandBarFlyoutMode),a=On.gridDataRowText+" "+t.getAccessibilityLabel(),u=Object.assign({role:"row"},a&&{accessibilityLabel:a},w.IsSelectionMode&&{isSelected:r});f.push(w._context.factory.createElement("LISTITEM",Object.assign(u,{id:d[g],key:d[g],tabIndex:0,style:h,onKeyDown:function(t){t.ctrlKey&&t.altKey&&81===t.keyCode&&A.streamQuickActionShortCut(t)},onClick:function(t){return A._onListItemClick(t,n)},onClickCapture:w.resetTapHold,onPointerMove:w.resetTapHold,onTouchMove:w.resetTapHold,onPointerDown:w.isCommandBarFlyoutMode?null:function(t){return A.onPointerDown(t,i)}}),c))},w=this,i=0,n=this._recordIds;i<n.length&&"break"!==t(n[i]);i++);var e=this._recordIds.length-(g+1);if(0<e){var r=this._context.factory.createElement("LISTITEM",{id:Me,key:Me,style:{height:e*this.itemHeightEstimate+"px"}});f.push(r)}else this._itemsToRender=ve;return this._memoizedItemsToRender=this._itemsToRender,f},u.prototype._getListItemIds=function(){for(var t=[],i=-1,n=0,e=this._recordIds;n<e.length;n++){var r=e[n];if(i++,this._itemsToRender!==ve&&i>=this._itemsToRender)break;t.push("ListItem_"+r)}return t},u.prototype.IsSelectedItem=function(t){return-1<this._selectedItems.indexOf(t)},u.prototype._onSelectionChanged=function(t){var i=this._selectedItems.indexOf(t);-1<i?this._selectedItems.splice(i,1):this._selectedItems.push(t),this.dataSet.setSelectedRecords(this._selectedItems),this._requestRender()},u.prototype._onListItemClick=function(t,i){var n=this;if(this.isCommandBarFlyoutMode||-1===this._tapHoldTimer)this.isCommandBarFlyoutMode&&this._toggleCommandBarFlyout();else{var e=i.getRecordId();if(this._selectionMode)this._onSelectionChanged(e);else{var r=i.getPrimaryEntityLogicalName(),s=new ce(e,r);null==s||MscrmCommon.ControlUtils.String.isNullOrEmpty(s.LogicalName)||this._context.utils.getEntityMetadata(s.LogicalName).then(function(t){if(t&&t.IsBPFEntity){var i={CommandButtonId:"Mscrm.HomepageGrid."+s.LogicalName+".OpenActiveStage"};n._context.parameters.Grid.openDatasetItem(s,i)}else n._context.parameters.Grid.openDatasetItem(s,null)},function(t){n._context.parameters.Grid.openDatasetItem(s,null)})}}this.clearTimer(),t.preventDefault(),t.stopPropagation()},u.prototype._toggleCommandBarFlyout=function(t){this._activeCommandBarFlyoutId=t&&t!==this._activeCommandBarFlyoutId?t:null,this._requestRender()},u.prototype.OnSelectionModeChanged=function(){this._selectionMode=!this._selectionMode,this._selectedItems=[],this.dataSet.clearSelectedRecord(),this._hasFocusWhenSelected=!1,this._requestRender()},u.prototype._requestRender=function(){qn.isForcedUpdate=!0,this._context.utils.requestRender()},u.prototype.getSortColumns=function(){var t=this.getAttributeDescriptorsByName(),i=[],n=[];for(var e in this._isDefaultCardForm()||(n=(i=this.dataSet.columns.slice()).map(function(t){return t.alias})),t){var r=t[e];!r.IsSortableEnabled&&r.LogicalName!==Fe||-1!==n.indexOf(e)||(i.push({alias:e,displayName:r.DisplayName}),n.push(e))}return i},u.prototype.destroy=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._context.utils.unbindDOMComponent)||this._context.utils.unbindDOMComponent(this.componentContainerId)},u.CardHeader="CardHeader",u.CardDetails="CardDetails",u.ColorStrip="ColorStrip",u.ColorStripDelimited="Color Strip",u.CardFormSectionArray=[u.CardHeader,u.CardDetails,u.ColorStrip,u.CardFooter="CardFooter"],u}();(Ye=Se||(Se={}))[Ye.Yes=0]="Yes",Ye[Ye.No=1]="No";var Ue,Ne,Te=function(){function i(){}return Object.defineProperty(i,"YesString",{get:function(){return"yes"},enumerable:!0,configurable:!0}),Object.defineProperty(i,"NoString",{get:function(){return"no"},enumerable:!0,configurable:!0}),i.parseValue=function(t){switch(t=t.toLowerCase()){case i.YesString:return Se.Yes;case i.NoString:return Se.No;default:return null}},i}();(Ne=Ue||(Ue={}))[Ne.Yes=0]="Yes",Ne[Ne.No=1]="No";var Oe,He,ze=function(){function i(){}return Object.defineProperty(i,"YesString",{get:function(){return"yes"},enumerable:!0,configurable:!0}),Object.defineProperty(i,"NoString",{get:function(){return"no"},enumerable:!0,configurable:!0}),i.parseValue=function(t){switch(t.toLowerCase()){case i.YesString:return Ue.Yes;case i.NoString:return Ue.No;default:return null}},i}();(He=Oe||(Oe={}))[He.Yes=0]="Yes",He[He.No=1]="No";var Je,Ge,Ve,Pe,We=function(){function i(){}return Object.defineProperty(i,"YesString",{get:function(){return"yes"},enumerable:!0,configurable:!0}),Object.defineProperty(i,"NoString",{get:function(){return"no"},enumerable:!0,configurable:!0}),i.parseValue=function(t){switch(t.toLowerCase()){case i.YesString:return Oe.Yes;case i.NoString:return Oe.No;default:return null}},i}();(Ge=Je||(Je={}))[Ge.timeZoneService=0]="timeZoneService",Ge[Ge.containerService=1]="containerService",Ge[Ge.gridComponent=2]="gridComponent",Ge[Ge.listComponent=3]="listComponent",Ge[Ge.typeProcessorService=4]="typeProcessorService",Ge[Ge.fieldAccessComponent=5]="fieldAccessComponent",Ge[Ge.fieldAccessService=6]="fieldAccessService",Ge[Ge.selectionService=7]="selectionService",Ge[Ge.stateService=8]="stateService",Ge[Ge.errorHandlingService=9]="errorHandlingService",Ge[Ge.dataAdapter=10]="dataAdapter",Ge[Ge.dataSetService=11]="dataSetService",Ge[Ge.filteringContext=12]="filteringContext",Ge[Ge.filteringService=13]="filteringService",Ge[Ge.paginationComponent=14]="paginationComponent",Ge[Ge.paginationService=15]="paginationService",Ge[Ge.enhancedPaginationComponent=16]="enhancedPaginationComponent",Ge[Ge.enhancedPaginationService=17]="enhancedPaginationService",Ge[Ge.groupingComponent=18]="groupingComponent",Ge[Ge.groupingService=19]="groupingService",Ge[Ge.sortingService=20]="sortingService",Ge[Ge.gridFeatures=21]="gridFeatures",Ge[Ge.loggingService=22]="loggingService",Ge[Ge.navigationService=23]="navigationService",Ge[Ge.ariaLiveRegionComponent=24]="ariaLiveRegionComponent",Ge[Ge.ariaLiveRegionService=25]="ariaLiveRegionService",(Pe=Ve||(Ve={}))[Pe.Refresh=0]="Refresh",Pe[Pe.LoadNextPage=1]="LoadNextPage",Pe[Pe.LoadPreviousPage=2]="LoadPreviousPage",Pe[Pe.LoadFirstPage=3]="LoadFirstPage",Cn=window&&window.__extends||(Le=function(t,i){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Le(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});var Le,Xe,Ke,Ze,_e=function(s){function n(t,i,n,e){void 0===n&&(n=!1),void 0===e&&(e=Ve.Refresh);var r=s.call(this)||this;return r.dataSet=t,r.handlerObject=i,r.dsOperation=e,r.restoreState=n,r}return Cn(n,s),Object.defineProperty(n.prototype,"gridDataSet",{get:function(){return this.dataSet},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handler",{get:function(){return this.handlerObject},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"operation",{get:function(){return this.dsOperation},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasDedicatedHandler",{get:function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.handler)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasDataSet",{get:function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shouldRestoreState",{get:function(){return this.restoreState},enumerable:!0,configurable:!0}),n.getRefreshCurrentDataSetArgs=function(t,i){return void 0===t&&(t=!1),void 0===i&&(i=Ve.Refresh),new n(null,null,t,i)},n}(vn.EventArgs),qe=function(){function t(t){this.criticalRegionService=t,this.refreshRequestedEvent=new vn.Event,this.stateChangedEvent=new vn.Event,this.isOffline=!1}return t.prototype.initialize=function(t){},Object.defineProperty(t.prototype,"isOfflineMode",{get:function(){return this.isOffline},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInCriticalRegion",{get:function(){return this.criticalRegionService&&this.criticalRegionService.isInCriticalRegion},enumerable:!0,configurable:!0}),t.prototype.networkStatusChanged=function(t){this.isOffline=t},t.prototype.rendering=function(t){},t.prototype.stateRestored=function(t){},t.prototype.sizeChange=function(t){},t.prototype.rendered=function(t){},t.prototype.enteringCriticalRegion=function(){},t.prototype.saving=function(t){this.isSaveInProgress=!0},t.prototype.saved=function(t){this.isSaveInProgress=t.moreItemsInQueue},t.prototype.leftCriticalRegion=function(){},t.prototype.onError=function(t){this.hasError=t.gridHasError},Object.defineProperty(t.prototype,"refreshRequested",{get:function(){return this.refreshRequestedEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateChanged",{get:function(){return this.stateChangedEvent},enumerable:!0,configurable:!0}),t.prototype.getCurrentRecord=function(){return null},t.prototype.hasState=function(){return!1},t.prototype.requestRefresh=function(t){if(void 0===t&&(t=null),this.refreshRequestedEvent.hasHandlers){var i=null===t?_e.getRefreshCurrentDataSetArgs():t;this.refreshRequestedEvent.raise(this,i)}},t.prototype.raiseStateChanged=function(){this.refreshRequestedEvent.hasHandlers&&this.stateChangedEvent.raise(this,vn.EventArgs.empty)},t.prototype.dispose=function(){},t}(),$e=(Cn=window&&window.__extends||(Xe=function(t,i){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Xe(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),function(n){function t(t,i){var r=n.call(this,null)||this;return r._isInitialized=!1,r._itemsToRenderOnFirstPage=ve,r._isScrolledAfterBump=!1,r.addScrollListener=function(){r.paginationComponent.addGridScrolledListener(r.gridScrollHandler)},r.gridScrollHandler=function(){setTimeout(function(){var t=r.paginationComponent.getClientHeight(),i=r.paginationComponent.getScrollTop(),n=r.paginationComponent.getScrollHeight();if(r.paginationService.notifyPagingInfoChanged(),r._itemsToRenderOnFirstPage!==ve)if(r.paginationComponent.wasItemHeightEstimateAccurate){var e=r._initialItemsToRenderOnFirstPage+Math.ceil(i/r.paginationComponent.itemHeightEstimate);e>r._itemsToRenderOnFirstPage&&(r._itemsToRenderOnFirstPage=e),(r._itemsToRenderOnFirstPage>=r.paginationService.pageSize||r._itemsToRenderOnFirstPage>=r.paginationService.totalResultCount)&&(r._itemsToRenderOnFirstPage=ve),r.paginationService.notifyItemsOnFirstPageChanged(r._itemsToRenderOnFirstPage)}else r._itemsToRenderOnFirstPage=ve;if(r._itemsToRenderOnFirstPage===ve){if(Math.round(n-i)<=Math.round(t)+1&&r._isScrolledAfterBump){if(r.paginationService.bumpNext())return r.requestRefresh(_e.getRefreshCurrentDataSetArgs(!1,Ve.LoadNextPage)),void(r._isScrolledAfterBump=!1)}else if(0===i&&r._isScrolledAfterBump&&r.paginationService.bumpPrevious())return r.requestRefresh(_e.getRefreshCurrentDataSetArgs(!1,Ve.LoadPreviousPage)),void(r._isScrolledAfterBump=!1);r._isScrolledAfterBump=!0}},0)},r.paginationService=t,r.paginationComponent=i,r}return Cn(t,n),t.prototype.initialize=function(t){if(!this._isInitialized){this.addScrollListener();var i=t.client&&t.client.allocatedHeight;i&&-1!==i&&this.paginationComponent.itemHeightEstimate&&(this._itemsToRenderOnFirstPage=Math.ceil(i/this.paginationComponent.itemHeightEstimate),this._initialItemsToRenderOnFirstPage=this._itemsToRenderOnFirstPage,this.paginationComponent.setItemsToRender(this._itemsToRenderOnFirstPage)),this._isInitialized=!0}},t.prototype.removeScrollListener=function(){this.paginationComponent.removeGridScrolledListener(this.gridScrollHandler)},t.prototype.networkStatusChanged=function(t){n.prototype.networkStatusChanged.call(this,t)},t.prototype.enteringCriticalRegion=function(){n.prototype.enteringCriticalRegion.call(this)},t.prototype.leftCriticalRegion=function(){n.prototype.leftCriticalRegion.call(this)},t.prototype.dispose=function(){this.paginationService.dispose(),this.removeScrollListener(),this.paginationComponent.dispose()},t}(qe));(Ze=Ke||(Ke={}))[Ze.Clear=0]="Clear",Ze[Ze.Unsaved=1]="Unsaved",Ze[Ze.Saving=2]="Saving",Ze[Ze.Saved=3]="Saved",Ze[Ze.Refresh=4]="Refresh",Cn=window&&window.__extends||(tr=function(t,i){return(tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}tr(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});var tr,ir,nr,er,rr,sr,or,hr,cr,ar=function(e){function t(t,i){var n=e.call(this)||this;return n.dataSet=t,n.view=i,n}return Cn(t,e),Object.defineProperty(t.prototype,"gridDataSet",{get:function(){return this.dataSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridView",{get:function(){return this.view},enumerable:!0,configurable:!0}),t}(vn.EventArgs),ur=function(){function t(t,i,n,e,r,s,o,h){var c=this;this.refreshDataSet=function(t,i){c.refreshDataSetHandler(t,i)},this.onCollectionOrLayoutChangedEventHandler=function(t,i){c.stateService.saveState(c.gridComponent)},this.onEnteringCriticalRegion=function(t,i){for(var n=0,e=c.features;n<e.length;n++)e[n].enteringCriticalRegion()},this.onSavingEventHandler=function(t,i){c.gridComponent.updateStatusArea(Ke.Saving);for(var n=0,e=c.features;n<e.length;n++)e[n].saving(i)},this.onSavedEventHandler=function(t,i){i.isRecordSavedSuccessfully&&!i.moreItemsInQueue&&c.gridComponent.updateStatusArea(Ke.Saved);for(var n=0,e=c.features;n<e.length;n++)e[n].saved(i)},this.onErrorEventHandler=function(t,i){i.gridHasDirtyRecord&&c.gridComponent.updateStatusArea(Ke.Unsaved);for(var n=0,e=c.features;n<e.length;n++)e[n].onError(i)},this.onLeftCriticalRegion=function(t,i){for(var n=0,e=c.features;n<e.length;n++)e[n].leftCriticalRegion()},this.features=t,this.gridComponent=i,this.dataAdapter=n,this.stateService=e,this.dataSetService=r,this.criticalRegion=s,this.errorHandlingService=o,this.perfTool=h}return t.prototype.initialize=function(t){this.isStateRestored=!1,this.subscribeForGridEvents(),this.initializeFeatures(t),this.registerToCriticalRegion(),this.stateService.setServerLayout(this.gridComponent.columnLayout)},t.prototype.notifyAboutOfflineMode=function(t){void 0===t&&(t=!1);for(var i=0,n=this.features;i<n.length;i++)n[i].networkStatusChanged(t)},t.prototype.handleDataSetUpdate=function(t,i,n,e){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.currentDataSetUpdateHandler))return!!this.currentDataSetUpdateHandler.handleDataSetUpdate(t,i)&&!(this.currentDataSetUpdateHandler=null);if(!t)return!1;if(i.Grid.working)return!1;var r=this.getDataSet(i);if(this.dataSetService.dataSet=r,e){e.setDataSet(r),e.resetPreviousRecords();var s=i.isNewPageRequested&&i.isNewPageRequested.raw&&!e.didPerformBumpNext()&&!e.didPerformBumpPrevious()?i.gridPageNumber.raw:null;e.setNextPage(s)}if(e&&(e.didPerformBumpPrevious()||e.didPerformBumpNext()||e.isPageNumberChanged())){var o=this.dataAdapter.getGridRecordItems(r).sourceCollection;return e.appendNewRecords(r.paging,o.map(function(t){return t.recId})),!1}if(e){var h=!1;-1===(i.PageNumberToRestore&&i.PageNumberToRestore.raw?i.PageNumberToRestore.raw:null)&&(h=!0),e.reset(h)}this.errorHandlingService.clearTroubledRecords(),r.hasError?(n=!0,this.errorHandlingService.showUpdateError(r.errorMessage)):this.errorHandlingService.clearUpdateError(),this.perfTool.tryStart(se.ProcessDataSetRecords);var c=this.dataAdapter.getGridRecordItems(r);this.perfTool.tryStop(se.ProcessDataSetRecords);var a=new ar(r,c);return this.onRendering(a),!this.stateService.restoreState(this.gridComponent)&&!this.stateService.isStateEmpty()||this.isStateRestored||n?(this.onStateRestored(a),this.criticalRegion.onDataSetRefresh(),this.gridComponent.updateStatusArea(Ke.Clear),this.gridComponent.render(c),this.onRendered(a),r.clearSelectedRecord(),this.gridComponent.selectedRows=[],this.gridComponent.cancelSelection(),this.perfTool.tryStop(se.InitToRendered),!0):(this.refreshDataSetHandler(this,_e.getRefreshCurrentDataSetArgs()),!(this.isStateRestored=!0))},t.prototype.handleSizeChange=function(t){var i=this.getDataSet(t),n=new ar(i,this.dataAdapter.getGridRecordItems(i));this.onSizeChange(n)},t.prototype.registerToCriticalRegion=function(){this.coordinatorId=MscrmCommon.ControlUtils.ControlGuidGenerator.newGuid("GridCoordinator"),this.criticalRegion.register(this.coordinatorId,this.dataSetService,this.errorHandlingService,this.gridComponent),this.criticalRegion.enteringCriticalRegion.addHandler(this.onEnteringCriticalRegion),this.criticalRegion.leftCriticalRegion.addHandler(this.onLeftCriticalRegion)},t.prototype.unregisterFromCriticalRegion=function(){this.criticalRegion.unregister(this.coordinatorId),this.criticalRegion.enteringCriticalRegion.removeHandler(this.onEnteringCriticalRegion),this.criticalRegion.leftCriticalRegion.removeHandler(this.onLeftCriticalRegion)},t.prototype.subscribeForGridEvents=function(){this.gridComponent.collectionChanged.addHandler(this.onCollectionOrLayoutChangedEventHandler),this.gridComponent.columnResized.addHandler(this.onCollectionOrLayoutChangedEventHandler),this.dataSetService.saving.addHandler(this.onSavingEventHandler),this.dataSetService.saved.addHandler(this.onSavedEventHandler),this.dataSetService.gridError.addHandler(this.onErrorEventHandler)},t.prototype.initializeFeatures=function(t){for(var i=0,n=this.features;i<n.length;i++){var e=n[i];e.refreshRequested.addHandler(this.refreshDataSet),e.initialize(t),e.hasState()&&this.stateService.register(e)}},t.prototype.refreshDataSetHandler=function(t,i){i.hasDedicatedHandler&&(this.currentDataSetUpdateHandler=i.handler),this.executeDataSetOperation(i.hasDataSet?i.gridDataSet:this.dataSetService.dataSet,i.operation)},t.prototype.getDataSet=function(t){return t.Grid},t.prototype.onRendering=function(t){for(var i=0,n=this.features;i<n.length;i++)n[i].rendering(t)},t.prototype.onStateRestored=function(t){for(var i=0,n=this.features;i<n.length;i++)n[i].stateRestored(t)},t.prototype.onSizeChange=function(t){for(var i=0,n=this.features;i<n.length;i++)n[i].sizeChange(t)},t.prototype.onRendered=function(t){for(var i=0,n=this.features;i<n.length;i++)n[i].rendered(t)},t.prototype.executeDataSetOperation=function(t,i){switch(this.dataSetService.beginRecordSave(),i){case Ve.Refresh:this.gridComponent.updateStatusArea(Ke.Refresh),t.refresh();break;case Ve.LoadPreviousPage:t.paging.loadPreviousPage();break;case Ve.LoadNextPage:t.paging.loadNextPage();break;case Ve.LoadFirstPage:t.paging.hasPreviousPage&&t.paging.reset()}},t.prototype.unsubscribeFromGridEvents=function(){this.gridComponent.collectionChanged.removeHandler(this.onCollectionOrLayoutChangedEventHandler),this.gridComponent.columnResized.removeHandler(this.onCollectionOrLayoutChangedEventHandler),this.dataSetService.saving.removeHandler(this.onSavingEventHandler),this.dataSetService.saved.removeHandler(this.onSavedEventHandler),this.dataSetService.gridError.removeHandler(this.onErrorEventHandler)},t.prototype.dispose=function(){this.unsubscribeFromGridEvents(),this.unregisterFromCriticalRegion(),this.gridComponent=null,this.dataAdapter=null,this.currentDataSetUpdateHandler=null,this.removeFeatureHandlers(),this.features=null,this.stateService=null,this.criticalRegion=null,this.coordinatorId=null,this.perfTool=null},t.prototype.removeFeatureHandlers=function(){for(var t=0,i=this.features;t<i.length;t++)i[t].refreshRequested.removeHandler(this.refreshDataSet)},t}(),lr=function(){function t(){this.dependencyObject={}}return t.prototype.add=function(t,i){this.dependencyObject[t]=i},t.prototype.getService=function(t){return this.dependencyObject[t]},Object.defineProperty(t.prototype,"listFeatures",{get:function(){return this.getService(Je.gridFeatures)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listComponent",{get:function(){return this.getService(Je.listComponent)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this.listFeatures;if(t)for(var i=0,n=t;i<n.length;i++)n[i].dispose();for(var e in this.dependencyObject)this.dependencyObject.hasOwnProperty(e)&&"dispose"in this.dependencyObject[e]&&this.dependencyObject[e].dispose();this.dependencyObject=null},t}(),Ar=function(){function t(t,i){var n=this;this.refreshDataSet=function(t,i){n.refreshDataSetHandler(t,i)},this.features=t,this.listComponent=i}return t.prototype.initialize=function(t){this.context=t,this.dataSet=this.getDataSet(t.parameters),this.initializeFeatures(t)},t.prototype.handleDataSetUpdate=function(t,i){var n=t.parameters.Grid;if(i){var e=t.parameters.isNewPageRequested&&t.parameters.isNewPageRequested.raw;i.setDataSet(n),i.resetPreviousRecords();var r=!e||i.didPerformBumpNext()||i.didPerformBumpPrevious()?null:t.parameters.gridPageNumber.raw;i.setNextPage(r)}if(i&&(i.didPerformBumpPrevious()||i.didPerformBumpNext()||i.isPageNumberChanged())){var s=[];for(var o in n.records)s.push(o);return i.appendNewRecords(n.paging,s),i.clearBumpScrollFlag(),!1}return this.listComponent.setContext(t),i&&i.reset(),this.listComponent.render(),!0},t.prototype.initializeFeatures=function(t){for(var i=0,n=this.features;i<n.length;i++){var e=n[i];e.refreshRequested.addHandler(this.refreshDataSet),e.initialize(t)}},t.prototype.refreshDataSetHandler=function(t,i){i.hasDedicatedHandler&&(this.currentDataSetUpdateHandler=i.handler),this.executeDataSetOperation(i.hasDataSet?i.gridDataSet:this.dataSet,i.operation)},t.prototype.getDataSet=function(t){return t.Grid},t.prototype.onRendering=function(t){for(var i=0,n=this.features;i<n.length;i++)n[i].rendering(t)},t.prototype.onStateRestored=function(t){for(var i=0,n=this.features;i<n.length;i++)n[i].stateRestored(t)},t.prototype.onRendered=function(t){for(var i=0,n=this.features;i<n.length;i++)n[i].rendered(t)},t.prototype.executeDataSetOperation=function(t,i){switch(i){case Ve.Refresh:t.refresh();break;case Ve.LoadPreviousPage:t.paging.loadPreviousPage();break;case Ve.LoadNextPage:t.paging.loadNextPage();break;case Ve.LoadFirstPage:t.paging.hasPreviousPage&&t.paging.reset()}},t.prototype.dispose=function(){this.dataSet=null,this.currentDataSetUpdateHandler=null,this.removeFeatureHandlers(),this.features=null},t.prototype.removeFeatureHandlers=function(){for(var t=0,i=this.features;t<i.length;t++)i[t].refreshRequested.removeHandler(this.refreshDataSet)},t}(),fr=function(){function t(t,i,n,e,r,s){this.MAX_PAGES=3,this.SEND_PAGING_INFO_TO_PAGING_CONTROL="sendpaginginfotopagingcontrol",this._scrollHitTop=!1,this._scrollHitBottom=!1,this._firstPageInRange=1,this._lastPageInRange=1,this._currentPageNumber=1,this._newPageNumber=null,this._notDisplayedPageCount=0,this._isGridScrolledToBottom=!1,this._pageShift=0,this._isFullPageLoaded=!1,this._shouldRestoreScrollPosition=!1,this._pageNumberToRestore=1,this._scrollHitTopWithPageNumberToRestore=!1,this.perfTool=s,this.gridComponent=t,this.componentDataSet=i,this.pagingComponent=e,this._utils=n,this._pageNumberToRestore=r;var o=null;qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)&&1<this._pageNumberToRestore&&(o=this._pageNumberToRestore,this._currentPageNumber=this._pageNumberToRestore,this._firstPageInRange=this._pageNumberToRestore,this._lastPageInRange=this._pageNumberToRestore),this.sendPagingInfo(o)}return t.prototype.resetPreviousRecords=function(){this.previousRecords=null},t.prototype.setDataSet=function(t){this.componentDataSet=t,this.previousRecords=t.selectedRecordIds},Object.defineProperty(t.prototype,"pageSize",{get:function(){return this.componentDataSet.paging.pageSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalResultCount",{get:function(){return this.componentDataSet.paging.totalResultCount},enumerable:!0,configurable:!0}),t.prototype.bumpNext=function(){if(!this._scrollHitBottom){if(this._scrollHitBottom=!0,this.appendNewRecords(this.componentDataSet.paging,this.previousRecords))return this._scrollHitBottom=!1;if(this.componentDataSet.paging.hasNextPage)return this.gridComponent.setProgressIndicator(Ae.Bottom),!0;this._scrollHitBottom=!1}return!1},t.prototype.bumpPrevious=function(){if(!this._scrollHitTop){if(this._scrollHitTop=!0,this.appendNewRecords(this.componentDataSet.paging,this.previousRecords))return this._scrollHitTop=!1;if(this.componentDataSet.paging.hasPreviousPage)return this.perfTool.tryStart(se.PagingLoad),this.gridComponent.setProgressIndicator(Ae.Top),!0;this._scrollHitTop=!1}return!1},t.prototype.didPerformBumpNext=function(){return this._scrollHitBottom},t.prototype.didPerformBumpPrevious=function(){return this._scrollHitTop},t.prototype.clearBumpScrollFlag=function(){this._scrollHitBottom=!1,this._scrollHitTop=!1},t.prototype.notifyItemsOnFirstPageChanged=function(t){this._itemsOnFirstPage!==t&&(this._itemsOnFirstPage=t,this.gridComponent.setItemsToRender(t),this._utils.requestRender())},t.prototype.notifyPagingInfoChanged=function(){var t=this.calculateCurrentPage();this._isGridScrolledToBottom=this.isScrolledToBottom(),this._currentPageNumber!==t&&(this._currentPageNumber=t,this.sendPagingInfo())},t.prototype.sendPagingInfo=function(t){t||(t=0<this._newPageNumber?this._newPageNumber:this._currentPageNumber),this._utils.fireEvent(this.SEND_PAGING_INFO_TO_PAGING_CONTROL,{currentPageNumber:t,firstPageNumber:this._firstPageInRange,lastPageNumber:this._lastPageInRange,pageShift:this._pageShift,isGridScrolledToBottom:this._isGridScrolledToBottom})},t.prototype.calculateCurrentPage=function(){var t=this.pagingComponent.getScrollTop(),i=this.pagingComponent.getRowHeight(),n=this._pageShift*i,e=Math.max(Math.floor((t+n)/i/this.componentDataSet.paging.pageSize)+1+this._notDisplayedPageCount,1);return qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)&&1<this._pageNumberToRestore&&(e+=this._pageNumberToRestore-1),e},t.prototype.setNextPage=function(t){this._newPageNumber=t},t.prototype.isPageNumberChanged=function(){return this._newPageNumber&&this._newPageNumber!==this._currentPageNumber},t.prototype.isNextPageRequested=function(){return!!this._newPageNumber&&this._newPageNumber>this._currentPageNumber},t.prototype.isScrollDown=function(){return this._scrollHitBottom||this.isNextPageRequested()},t.prototype.forcePageNumberUpdate=function(){var t=this.calculateCurrentPage();this.sendPagingInfo(t)},t.prototype.isPageDataSame=function(t,i){return t&&i&&!this.isPageNumberChanged()},t.prototype.isFirstPageTop=function(){return this._scrollHitTop&&1===this._currentPageNumber&&0===this._pageShift},t.prototype.isLastPageBottom=function(t){return this._scrollHitBottom&&this._currentPageNumber===this._lastPageInRange&&t},t.prototype.isFirstPageTopWithPageNumberToRestore=function(t){return this._scrollHitTop&&1<this._pageNumberToRestore&&this._currentPageNumber===this._firstPageInRange&&t&&0===this._pageShift},t.prototype.appendNewRecords=function(t,i){this.previousRecords=i;var n=t.pageSize,e=n*this.MAX_PAGES;if(this._shouldRestoreScrollPosition=!1,!i||!i.length)return qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&(this._scrollHitTopWithPageNumberToRestore=!!(1<this._pageNumberToRestore&&this._scrollHitTop)),!1;var r=this.gridComponent.getSourceCollectionIds(),s=r.length,o=!1,h=!1;if(r.length&&(o=i.length>e&&this._scrollHitBottom?i[i.length-e]===r[0]:i[0]===r[0],h=i[i.length-1]===r[r.length-1]),this.isPageDataSame(o,h)||this.isFirstPageTop()||this.isLastPageBottom(h)||this.isFirstPageTopWithPageNumberToRestore(o))return qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&(this._scrollHitTopWithPageNumberToRestore=this.isFirstPageTopWithPageNumberToRestore(o)),!1;if(this._currentPageNumber===Math.floor(t.totalResultCount/this.pageSize)&&this.isScrolledToBottom()&&this.isNextPageRequested())return this.forcePageNumberUpdate(),!1;var c=this.isPageAlreadyLoaded(r,i),a=!1;if(c?this._shouldRestoreScrollPosition=!0:this._scrollHitBottom||this._newPageNumber>this._currentPageNumber?(this.appendRecordsToCollectionView(r,i,e,n),this.isPageNumberChanged()&&(this.gridComponent instanceof De&&s<e?this.restoreScrollPosition():this._shouldRestoreScrollPosition=!0)):(qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&(a=1<this._pageNumberToRestore),this.prependRecordsToCollectionView(r,i,e,n)),e<=s){var u=!this._isFullPageLoaded&&!c||h&&this.isScrollDown();this.setScrollPosition(u?this.forcePageNumberUpdate.bind(this):null),this.gridComponent instanceof De||this.notifyPagingInfoChanged(),u&&this.forcePageNumberUpdate(),0!==this._pageShift&&!this._isFullPageLoaded&&this._scrollHitTop&&(this._pageShift=0,this._lastPageInRange=this.MAX_PAGES,this.sendPagingInfo()),this.gridComponent instanceof De&&this._newPageNumber&&this.resetNewPage(),this._shouldRestoreScrollPosition=!0}else qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&a?this.setScrollPosition():this.gridComponent instanceof De&&this._newPageNumber&&c&&this.setScrollPosition(),this.clearBumpScrollFlag();return this.gridComponent.setProgressIndicator(Ae.None),!0},t.prototype.isPageAlreadyLoaded=function(t,i){var n=t[0],e=i.indexOf(n);if(-1===e)return!1;var r=Math.floor(e/this.pageSize)+1,s=t.length/this.pageSize;return r<=this._newPageNumber&&this._newPageNumber<r+s},Object.defineProperty(t.prototype,"shouldRestoreScrollPosition",{get:function(){return this._shouldRestoreScrollPosition},enumerable:!0,configurable:!0}),t.prototype.scrollUpFromBottom=function(t,i,n,e){t.scrollTop(i-n-e)},t.prototype.setScrollPosition=function(t){var i=this,n=this._isFullPageLoaded?0:this._pageShift,e=$(this.gridComponent.getScrollableElement()),r=e.prop("offsetHeight"),s=e.prop("scrollHeight"),o=this.pagingComponent.getRowHeight(),h=this.pageSize*o;if(this.gridComponent instanceof De)return this._scrollHitBottom&&setTimeout(function(){0<n?i.scrollUpFromBottom(e,s,n*o,r):(i.scrollUpFromBottom(e,s,h/2,r),setTimeout(function(){i.scrollUpFromBottom(e,s,h,r)},0))},0),void(this._scrollHitTop&&setTimeout(function(){i._isFullPageLoaded?(e.scrollTop(h/2),setTimeout(function(){e.scrollTop(h)},0)):e.scrollTop(o*n)},0));if(this.isScrollDown())if(this._scrollHitBottom)0<n?this.scrollUpFromBottom(e,s,n*o,r):this.scrollUpFromBottom(e,s,h,r);else if(this.gridComponent instanceof De){var c=this._newPageNumber,a=this._notDisplayedPageCount;setTimeout(function(){e.scrollTop(h*(c-a-1)),i.notifyPagingInfoChanged(),t&&t()},0)}else e.scrollTop(h*(this._newPageNumber-this._notDisplayedPageCount-1));else this._scrollHitTop?0<n?e.scrollTop(n*o):e.scrollTop(this.gridComponent instanceof De?1:h):e.scrollTop(h*(this._newPageNumber-this._notDisplayedPageCount-1))},t.prototype.restoreScrollPosition=function(){this.setScrollPosition(),this.clearBumpScrollFlag(),this._shouldRestoreScrollPosition=!1,this._newPageNumber&&this.resetNewPage()},t.prototype.resetNewPage=function(){this._newPageNumber&&(this._currentPageNumber=this._newPageNumber),this._newPageNumber=null},t.prototype.appendRecordsToCollectionView=function(t,i,n,e){var r=t.length;if(0<r&&i[r]&&i[r]!==t[r-1]){r=-1;for(var s=0;s<i.length;s++)if(i[s]===t[t.length-1]){r=s;break}}else r=-1;for(var o=!1,h=r+1,c=0;h<i.length&&c<e;h++,c++)o=!0,t.push(i[h]),t.length>n&&t.shift();o&&(this._isFullPageLoaded=i.length-r-1>=e,this._lastPageInRange++,this._lastPageInRange-this._firstPageInRange===this.MAX_PAGES&&(this._isFullPageLoaded?(this._firstPageInRange++,this._notDisplayedPageCount++):this._pageShift=i.length-r-1),this.sendPagingInfo()),this.gridComponent.updateSourceCollection(t)},t.prototype.prependRecordsToCollectionView=function(t,i,n,e){var r=e;r=i.length;for(var s=0;s<i.length;s++)if(i[s]===t[0]){r=s;break}var o=!1,h=0,c=1===this._newPageNumber&&1<this._currentPageNumber-this._newPageNumber;for(s=r-1;0<=s&&(h<e||c);s--,h++)o=!0,t.unshift(i[s]),t.length>n&&t.pop();this._isFullPageLoaded=e<=h,c?(this._notDisplayedPageCount=0,this._pageShift=0,this._firstPageInRange=1,this._lastPageInRange>this.MAX_PAGES&&(this._lastPageInRange=this.MAX_PAGES),this.sendPagingInfo()):o&&1<this._firstPageInRange&&(this._firstPageInRange--,0<this._pageShift&&this._lastPageInRange===Math.floor(i.length/e+1)&&this._lastPageInRange--,this._lastPageInRange-this._firstPageInRange==this.MAX_PAGES&&((!qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)||0===this._notDisplayedPageCount||this._scrollHitTopWithPageNumberToRestore)&&qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())||this._notDisplayedPageCount--,this._lastPageInRange--),qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)&&1<this._pageNumberToRestore&&this._scrollHitTopWithPageNumberToRestore&&(this._pageNumberToRestore--,this._scrollHitTopWithPageNumberToRestore=!1),this.sendPagingInfo()),this.gridComponent.updateSourceCollection(t)},t.prototype.isScrolledToBottom=function(){var t=this.pagingComponent.getClientHeight(),i=this.pagingComponent.getScrollTop(),n=this.pagingComponent.getScrollHeight();return Math.round(n-i)===Math.round(t)},Object.defineProperty(t.prototype,"isPagingInfoDirty",{get:function(){return 0!==this._pageShift||1!==this._firstPageInRange||1!==this._lastPageInRange||0!==this._notDisplayedPageCount},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.gridComponent=null,this.componentDataSet=null,this.pagingComponent=null},t.prototype.reset=function(t){void 0===t&&(t=!1);var i=!0;!qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this._pageNumberToRestore)||1===this._pageNumberToRestore||t||(i=!1),this.isPagingInfoDirty&&i&&(this._pageShift=0,this._currentPageNumber=1,this._firstPageInRange=1,this._lastPageInRange=1,this._notDisplayedPageCount=0,this._pageNumberToRestore=1,this.sendPagingInfo(),$(this.gridComponent.getScrollableElement()).scrollTop(0))},t}(),dr=function(){function i(){}return i.initialize=function(t){i.filterAscendingLabel=t(Tn.gridFilteringAscending),i.filterDescendingLabel=t(Tn.gridFilteringDescending),i.filterApplyLabel=t(Tn.gridFilteringApply),i.filterCancelLabel=t(Tn.gridFilteringCancel),i.filterClearLabel=t(Tn.gridFilteringClear),i.filterByConditionLabel=t(Tn.gridFilteringCondition),i.filterByValueLabel=t(Tn.gridFilteringValue),i.valueFilterSearchLabel=t(Tn.gridFilteringValueFilterSearch),i.valueFilterSelectAllLabel=t(Tn.gridFilteringValueFilterSelectAll),i.valueFilterNullLabel=t(Tn.gridFilteringValueFilterNull),i.conditionFilterHeaderLabel=t(Tn.gridFilteringConditionFilterHeader),i.conditionFilterAndLabel=t(Tn.gridFilteringConditionFilterAnd),i.conditionFilterOrLabel=t(Tn.gridFilteringConditionFilterOr),i.conditionFilterOperatorNotSetLabel=t(Tn.gridFilteringConditionFilterOperatorNotSet),i.conditionFilterOperatorEqualsLabel=t(Tn.gridFilteringConditionFilterOperatorEquals),i.conditionFilterOperatorDoesNotEqualLabel=t(Tn.gridFilteringConditionFilterOperatorDoesNotEqual),i.conditionFilterOperatorBeginsWithLabel=t(Tn.gridFilteringConditionFilterOperatorBeginsWith),i.conditionFilterOperatorEndsWithLabel=t(Tn.gridFilteringConditionFilterOperatorEndsWith),i.conditionFilterOperatorContainsLabel=t(Tn.gridFilteringConditionFilterOperatorContains),i.conditionFilterOperatorDoesNotContainLabel=t(Tn.gridFilteringConditionFilterOperatorDoesNotContain),i.conditionFilterOperatorGreaterLabel=t(Tn.gridFilteringConditionFilterOperatorGreater),i.conditionFilterOperatorGreaterOrEqualLabel=t(Tn.gridFilteringConditionFilterOperatorGreaterOrEqual),i.conditionFilterOperatorLessLabel=t(Tn.gridFilteringConditionFilterOperatorLess),i.conditionFilterOperatorLessOrEqualLabel=t(Tn.gridFilteringConditionFilterOperatorLessOrEqual),i.conditionFilterOperatorIsBeforeLabel=t(Tn.gridFilteringConditionFilterOperatorIsBefore),i.conditionFilterOperatorIsAfterLabel=t(Tn.gridFilteringConditionFilterOperatorIsAfter),i.conditionFilterOperatorOnLabel=t(Tn.gridFilteringConditionFilterOperatorOn),i.conditionFilterOperatorOnOrBeforeLabel=t(Tn.gridFilteringConditionFilterOperatorOnOrBefore),i.conditionFilterOperatorOnOrAfterLabel=t(Tn.gridFilteringConditionFilterOperatorOnOrAfter)},i}(),gr=function(){function t(t){this.politeLiveRegionId=t+Gn.ariaPoliteLiveRegionPostfix,this.assertiveLiveRegionId=t+Gn.ariaAssertiveLiveRegionPostfix}return t.prototype.sendPoliteMessage=function(t){var i=document.getElementById(this.politeLiveRegionId);i&&(i.setAttribute("aria-hidden","false"),i.textContent=t),setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},2e3)},t.prototype.sendAssertiveMessage=function(t){var i=document.getElementById(this.assertiveLiveRegionId);i&&(i.setAttribute("aria-hidden","false"),i.textContent=t),setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},800)},t.prototype.dispose=function(){this.politeLiveRegionId=null,this.assertiveLiveRegionId=null},t}(),wr=function(){function i(){}return i.isDate=function(t){return Object.prototype.toString.call(t).match(/\[object (.*)\]/)[1]===i.DateConstructorFunctionName},i.isString=function(t){return typeof t===i.StringTypeName},i.isOptionMetadata=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&t.get_ValueString&&t.getValue&&t.get_Label},i.stopEventPropagation=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.stopPropagation)?t.cancelBubble=!0:t.stopPropagation()},i.preventDefault=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.preventDefault)?t.returnValue=!1:t.preventDefault()},i.isKeyCode=function(t,i){return t.keyCode===i||t.which===i},i.removeEmptyElements=function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))return[];for(var i=0;i<t.length;i++)MscrmCommon.ControlUtils.String.isNullOrWhitespace(t[i])&&(t.splice(i,1),i--);return t},i.DateConstructorFunctionName="Date",i.StringTypeName="string",i}(),mr=function(){function t(t,i,n,e){this.fieldContainer=t,this.value=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?"":i,this.useSkypeProtocol=e,this.theming=n,this.initComponent()}return t.prototype.initComponent=function(){var i=this,t=document.createElement("a");t.textContent=this.value,t.title=this.value,t.href=this.value,t.tabIndex=-1,t.open=function(t){i.open(t)},t.style.fontSize=this.theming.fontsizes.font100,t.style.fontFamily=this.theming.fontfamilies.regular,t.style.color=this.theming.colors.basecolor.blue.blue4,t.style.display="inline-block",this.rootElement=t,this.fieldContainer.appendChild(this.rootElement)},t.prototype.dispose=function(){this.fieldContainer.removeChild(this.rootElement)},t.prototype.open=function(t){wr.stopEventPropagation(t),wr.preventDefault(t),this.rootElement.href&&window.open(this.rootElement.href,"_self")},t}(),br=window&&window.__extends||(ir=function(t,i){return(ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}ir(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),vr=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return br(t,e),t.prototype.initComponent=function(){e.prototype.initComponent.call(this),this.rootElement.href="mailto:"+this.value},t}(mr),pr=function(){function t(t,i){void 0===i&&(i=""),this.fieldContainer=t,this.value=i,this.initComponent()}return t.prototype.initComponent=function(){this.rootElement=document.createElement("div"),this.rootElement.textContent=this.value,this.fieldContainer.appendChild(this.rootElement)},t.prototype.dispose=function(){this.fieldContainer.removeChild(this.rootElement)},t}(),Er=window&&window.__extends||(nr=function(t,i){return(nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}nr(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Br=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.htmlToPlainTextDocument=null,n.span=null,n}return Er(t,e),t.prototype.initComponent=function(){this.rootElement=document.createElement("label"),this.rootElement.setAttribute("role","presentation"),this.value=this.htmlToPlainText(this.value),this.rootElement.textContent=this.value;var t=null==this.fieldContainer.getElementsByTagName("label")?null:this.fieldContainer.getElementsByTagName("label")[0];t&&t.parentNode?t.parentNode.replaceChild(this.rootElement,t):this.fieldContainer.appendChild(this.rootElement),this.fieldContainer.setAttribute(Gn.htmlTitleAttributeName,this.value)},t.prototype.htmlToPlainText=function(t){return null==this.htmlToPlainTextDocument||null==this.span?(this.htmlToPlainTextDocument=document.implementation.createHTMLDocument("htmlToPlainTextDocument"),this.span=this.htmlToPlainTextDocument.createElement("span")):this.span.innerHTML="",t=t.replace(/<style.*?>[\s\S]*?<\/style>/g,""),this.span.innerHTML=t,this.span.innerText.replace(/\n/g," ").replace(/<!--[\s\S]*?(?:-->)/g,"")},t.prototype.destroy=function(){this.span.remove(),this.span=null,this.htmlToPlainTextDocument=null},t}(pr),jr=window&&window.__extends||(er=function(t,i){return(er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}er(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Cr=function(n){function t(t,i){return n.call(this,t,i)||this}return jr(t,n),t.prototype.initComponent=function(){this.rootElement=document.createElement("label"),this.rootElement.setAttribute("role","presentation"),this.rootElement.textContent=this.value;var t=this.fieldContainer.getElementsByTagName("label")[0];t&&t.parentNode?t.parentNode.replaceChild(this.rootElement,t):this.fieldContainer.appendChild(this.rootElement)},t}(pr),Ir=window&&window.__extends||(rr=function(t,i){return(rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}rr(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Qr=function(h){function t(t,i,n,e,r,s){var o=h.call(this,t,i,n)||this;return o.entityReference=e,o.navigationService=r,qn.isUci()&&s.utils.isFeatureEnabled(qn.getContextMenuLookupFCB())?o._updateLookupFieldHref(s):o.rootElement.href="#",o}return Ir(t,h),t.prototype._updateLookupFieldHref=function(t){if(t&&t.page&&t.page.appId&&this.entityReference&&this.entityReference.LogicalName&&this.entityReference.Id){var i=t.page.getClientUrl()+"/main.aspx?appid="+t.page.appId+"&pagetype=entityrecord&etn="+this.entityReference.LogicalName+"&id="+this.entityReference.Id;this.rootElement.href=i}else this.rootElement.href="#"},t.prototype.initComponent=function(){var i=this;h.prototype.initComponent.call(this),this.rootElement.open=function(t){t.preventDefault(),t.stopPropagation(),i.open(t)}},t.prototype.open=function(t){var i=this;wr.stopEventPropagation(t),wr.preventDefault(t),this.isNavigating||(setTimeout(function(){return i.isNavigating=!1},Gn.doubleTapThreshold),this.isNavigating=!0,this.navigationService.navigateToEntityForm(this.entityReference))},t}(mr),Mr=function(){function t(t,i,n,e){var s=this;this.linkElementCollection=new Array,this.openHandler=function(t){var i=s.getSelectedItemIndex();if(-1<i){var n=s.entityRecords[i].fields.partyid,e=n.reference&&n.reference.id&&n.reference.id.guid&&n.reference.id.guid.toString(),r=n.reference&&n.reference.etn;wr.stopEventPropagation(t),wr.preventDefault(t),s.dataSetService.dataSet.openDatasetItem(new ce(e,r))}},this.getSelectedItemIndex=function(){for(var t=0;t<s.linkElementCollection.length;t++)if(s.linkElementCollection[t]==document.activeElement)return t;return-1},this.selectNextItem=function(t){var i=s.getSelectedItemIndex();i<s.linkElementCollection.length-1&&(wr.stopEventPropagation(t),wr.preventDefault(t),s.linkElementCollection[++i].focus())},this.selectPrevItem=function(t){var i=s.getSelectedItemIndex();-1==i&&(i=s.linkElementCollection.length),0<i&&(wr.stopEventPropagation(t),wr.preventDefault(t),s.linkElementCollection[--i].focus())},this.isFirstItemSelected=function(){return 0===s.getSelectedItemIndex()},this.isLastItemSelected=function(){return s.getSelectedItemIndex()===s.linkElementCollection.length-1},this.fieldContainer=t,this.entityRecords=i,this.dataSetService=n,this.theming=e,this.initComponent()}return t.prototype.initComponent=function(){var s=this,o=this.entityRecords.length-1;this.entityRecords.forEach(function(t,i){var n=t.fields.partyid,e=n.reference&&n.reference.name,r=s.createLinkElement(e);r.textContent=i<o?MscrmCommon.ControlUtils.String.Format("{0}; ",e):e,s.linkElementCollection.push(r),s.fieldContainer.appendChild(r)}),this.fieldContainer.selectNextItem=this.selectNextItem,this.fieldContainer.selectPrevItem=this.selectPrevItem,this.fieldContainer.isFirsItemSelected=this.isFirstItemSelected,this.fieldContainer.isLastItemSelected=this.isLastItemSelected},t.prototype.createLinkElement=function(t){var i=document.createElement("a");return i.title=t,i.href=t,i.tabIndex=-1,i.style.fontSize=this.theming.fontsizes.font100,i.style.setProperty(":hover",this.theming.colors.linkcolor.hover.text),i.style.setProperty(":visited",this.theming.colors.linkcolor.visited.text),i.style.setProperty(":link",this.theming.colors.linkcolor.normal.text),i.style.color=this.theming.colors.basecolor.blue.blue3,i.style.display="inline-block",i.open=this.openHandler,i},t.prototype.dispose=function(){this.fieldContainer.removeChild(this.rootElement)},t}(),Fr=window&&window.__extends||(sr=function(t,i){return(sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}sr(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),yr=function(r){function t(t,i,n,e){return r.call(this,t,i,n,e)||this}return Fr(t,r),t.prototype.initComponent=function(){var t;r.prototype.initComponent.call(this);var i="";switch(this.useSkypeProtocol){case!0:t="skype",i="?call";break;default:t="tel"}this.rootElement.href=t+":"+this.value+i},t}(mr),Rr=window&&window.__extends||(or=function(t,i){return(or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}or(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),xr=function(s){function t(t,i,n,e){var r=s.call(this,t,i,n)||this;return r._navigationService=e,r}return Rr(t,s),t.prototype.initComponent=function(){s.prototype.initComponent.call(this)},t.prototype.open=function(t){wr.stopEventPropagation(t),wr.preventDefault(t),this.rootElement.href&&this._navigationService.openUrl(this.rootElement.href)},t}(mr);(cr=hr||(hr={}))[cr.None=0]="None",cr[cr.Lookup=1]="Lookup",cr[cr.Grid=2]="Grid";var kr,Sr,Yr,Dr,Ur,Nr,Tr=function(){function t(t,i,n){this.factory=t,this.utils=i,this.client=n}return t.prototype.addPresence=function(t,i,n,e){var r=t.textContent;e=(t.textContent=null)==e||"null"==e||null==e||"undefined"==e?"":e;var s;s=qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName())?{margin:"11px 5px 5px 5px",position:"relative",float:this.client.isRTL?"right":"left"}:{margin:"5px",position:"relative",float:this.client.isRTL?"right":"left"};var o=this.factory.createElement("PRESENCEINDICATOR",{sipUrl:i,entityReference:n,key:t.id+"_key",displaySize:0,style:s,parentControlId:t.id,absoluteId:t.id,accessibilityLabel:e,presenceTarget:hr.Grid}),h=this.factory.createElement("CONTAINER",{id:t.id},[o,this.factory.createElement("LABEL",{},r)]),c=document.createElement("div");t.appendChild(c),this.utils.bindDOMElement(h,c)},t}(),Or=function(){function t(t,i,n,e,r,s,o){this.theming=n,this.dataSetService=t,this.navigationService=i,this.useDefaultField=!1,this.communicationChannel=r,this.useSkypeProtocolProperty=e,this.isAppointmentRteEnabled=s,this.context=o}return Object.defineProperty(t.prototype,"useSkypeProtocol",{get:function(){return this.useSkypeProtocolProperty?this.useSkypeProtocolProperty.raw:null},enumerable:!0,configurable:!0}),t.prototype.withDefaultField=function(){return this.useDefaultField=!0,this},t.prototype.updateCellView=function(t,i,n,e,r,s,o,h,c){void 0===r&&(r=null),void 0===s&&(s=null);if(!i.isPrimary&&i.imageProviderWebresource&&i.imageProviderFunctionName){var a=t.querySelector("[id$='datasetImageProvider-image-container']");if(a&&1===a.children.length&&"IMG"===a.children[0].tagName){var u=a.children[0];r?(u.src!==r&&(u.src=r),u.alt!==s&&(u.alt=s,u.title=s)):a.parentNode.removeChild(a)}else if(r){var l=document.createElement("img");l.src=r,l.alt=s,l.title=s;var A=document.createElement("div");A.className="image-container",A.id="datasetImageProvider-image-container",A.appendChild(l),t.appendChild(A)}}if(this.useDefaultField||n===Xn.undefinedString)return this.ShowGridPresence(t,i,e,o,h,c,n),void new Cr(t,n);switch(i.isPrimary?Vn.dataTypeLookupSimple:i.dataType){case Vn.dataTypeLookupCustomer:case Vn.dataTypeLookupOwner:case Vn.dataTypeLookupRegarding:case Vn.dataTypeLookupSimple:var f=this.ShowGridPresence(t,i,e,o,h,c,n);new Qr(t,n,this.theming,f,this.navigationService,this.context);break;case Vn.dataTypeLookupPartyList:var d=!0,g=this.dataSetService.records[e]&&this.dataSetService.records[e].getValue(i.name);if(g)for(var w in g)if(!g[w].fields||!g[w].fields.partyid){d=!1;break}if(d)new Mr(t,g,this.dataSetService,this.theming);else{var m=this.dataSetService.records[e]&&this.dataSetService.records[e].getFormattedValue(i.name);new Cr(t,m)}break;case Vn.dataTypeSingleLineEmail:new vr(t,n,this.theming);break;case Vn.dataTypeSingleLinePhone:new yr(t,n,this.theming,this.useSkypeProtocol);break;case Vn.dataTypeSingleLineURL:new xr(t,n,this.theming,this.navigationService);break;case Vn.dataTypeSingleLineTextArea:case Vn.dataTypeSingleLineTicker:case Vn.dataTypeTwoOptions:default:this.isHtmlContentField(i,e)?new Br(t,n):new Cr(t,n)}},t.prototype.isHtmlContentField=function(t,i){var n="appointment",e="recurringappointmentmaster",r=this.dataSetService.records[i].getPrimaryEntityLogicalName(),s=t.attributes.LogicalName;if("email"!=r&&r!=n&&r!=e)return!1;var o=t.attributes.format;return!!(r!==n&&r!==e||this.isAppointmentRteEnabled)&&("email"===r&&"description"===s&&"0"===o||"memo"===t.attributes.type&&"1"===o)},t.prototype.getEntityReferenceForElement=function(t,i,n){if(!i||!t)return null;var e=this.dataSetService.records[t];return n?new ce(t,e.getPrimaryEntityLogicalName()):e.getValue(i)},t.prototype.ShowGridPresence=function(t,i,n,e,r,s,o){var h=null;return(h=this.getEntityReferenceForElement(n,i.name,i.isPrimary))&&this.communicationChannel&&this.communicationChannel.isPresenceEnabled(h.LogicalName)&&new Tr(e,r,s).addPresence(t,null,{entityName:h.LogicalName,Id:h.Id.toString()},o),h},t}(),Hr=window&&window.__extends||(kr=function(t,i){return(kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}kr(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),zr=function(e){function t(t,i){var n=e.call(this)||this;return n.groupByName=t,n.collectionView=i,n}return Hr(t,e),t}(vn.EventArgs),Jr=function(){function t(t,i,n,e){var s=this;this.raiseKeyDownEvent=function(t){return s.keyDownEvent.raise(s,t)},this.itemClickedHandler=function(t,i){if(!s.isDroppedDown){var n=t.selectedValue;s.selectedValue=n;var e=s.gridComponent.getGroupDescriptions();(0===e.length&&n||0<e.length&&e[0].propertyName!==n)&&s.groupingRequestedEvent.hasHandlers&&s.groupingRequestedEvent.raise(s,new zr(n,null))}},this.onIndexChanged=function(t,i){s.ariaLiveRegionService.sendAssertiveMessage(s.menuGroupBy.getDisplayText());var n=s.menuGroupBy.dropDown.children.item(s.selectedIndex);n&&n.focus()},this.onDropDown=function(t,i){if(s.isDroppedDown){for(var n=s.menuGroupBy.dropDown.children,e=0;e<n.length;e++)n.item(e).tabIndex=0;var r=s.gridComponent.getGroupDescriptions();0<r.length?s.selectedIndex=s.findIndex(r[0].propertyName):s.selectedIndex=0}},this.gridComponent=i,this.dataSetColumns=n,this.containerId=t,this.groupingRequestedEvent=new vn.Event,this.ariaLiveRegionService=e}return t.prototype.initialize=function(){this.divIdGroupBy="#"+this.containerId+Gn.groupBySelectPostfix,this.gridComponent.setGroupHeaderFormat("<b>{value}</b>"),this.gridComponent.setShowGroups(!0),$(this.divIdGroupBy).append($("<option>",{value:"",text:On.noGroupingOptionLabel}));for(var t=0,i=this.dataSetColumns;t<i.length;t++){var n=i[t];n.isHidden||n.attributes.type===Vn.multiSelectOptionset||$(this.divIdGroupBy).append($("<option>",{value:n.name,text:n.displayName}))}this.menuGroupBy=new vn.input.Menu(this.divIdGroupBy);var e=On.noGroupingOptionLabel;this.setGroupbyHeader(e);var r=this.containerId+Gn.groupBySelectPostfix+Gn.valuePostfix;$(this.divIdGroupBy).find("[wj-part='header']").attr("id",r),this.menuGroupBy.hostElement.setAttribute(Gn.ariaLabel,On.groupByMenuHeaderLabel),this.menuGroupBy.hostElement.setAttribute(Gn.ariaDescribedBy,[this.containerId+Gn.groupBySelectPostfix+Gn.labelPostfix,r].join(" ")),this.menuGroupBy.hostElement.setAttribute(Gn.role,"combobox"),this.menuGroupBy.itemClicked.addHandler(qn.debounce.call(this,this.itemClickedHandler)),this.menuGroupBy.selectedIndexChanged.addHandler(this.onIndexChanged),this.menuGroupBy.isDroppedDownChanged.addHandler(qn.debounce.call(this,this.onDropDown))},Object.defineProperty(t.prototype,"disableGroupMenu",{set:function(t){this.menuGroupBy.isDisabled=t,this.menuGroupBy.hostElement.tabIndex=t?-1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupingRequested",{get:function(){return this.groupingRequestedEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyDown",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.keyDownEvent)&&(this.keyDownEvent=new vn.Event,this.menuGroupBy.hostElement.addEventListener(Xn.eventKeyDown,this.raiseKeyDownEvent)),this.keyDownEvent},enumerable:!0,configurable:!0}),t.prototype.applyGroupBy=function(t){var i=On.noGroupingOptionLabel;if(t){var n=this.gridComponent.getColumnByName(t);MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(i=n.header)}this.setGroupbyHeader(i)},t.prototype.findIndex=function(t){for(var i=0,n=0;n<this.getItemCount();n++)if(this.getValue(n)===t){i=n;break}return i},Object.defineProperty(t.prototype,"itemClicked",{get:function(){return this.menuGroupBy.itemClicked},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){return this.menuGroupBy.itemsSource[t].val},t.prototype.getItemCount=function(){return this.menuGroupBy.itemsSource.length},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.menuGroupBy.selectedIndex},set:function(t){this.menuGroupBy.selectedIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){return this.menuGroupBy.isDroppedDown},set:function(t){this.menuGroupBy.isDroppedDown=t},enumerable:!0,configurable:!0}),t.prototype.setGroupbyHeader=function(t){this.menuGroupBy.header=t},t.prototype.dispose=function(){this.gridComponent=null,this.dataSetColumns=null,this.ariaLiveRegionService=null,this.menuGroupBy=null},t}(),Gr=function(){function t(t,i,n,e,r){this.grid=r,this.previous=i,this.next=e,this.first=t,this.current=n,this.loadingFirstPageOnServer=!1,this.loadingPreviousPageOnServer=!1,this.loadingNextPageOnServer=!1,this.hasPreviousPage=!1,this.hasNextPage=!1}return t.prototype.canGoBack=function(){return 0<this.grid.getPageIndex()||this.hasPreviousPage},t.prototype.getPreviousButtonElement=function(){return this.previous},t.prototype.getNextButtonElement=function(){return this.next},Object.defineProperty(t.prototype,"disablePagination",{set:function(t){this.previous.disabled=t||!this.canGoBack(),this.next.disabled=t||!this.hasNextPage,this.first.disabled=t||!this.canGoBack()},enumerable:!0,configurable:!0}),t.prototype.clickFirstPage=function(){this.first.click()},t.prototype.clickPreviousPage=function(){this.previous.click()},t.prototype.clickNextPage=function(){this.next.click()},t.prototype.addPreviousPageClicked=function(t){this.previous.addEventListener("click",t)},t.prototype.addNextPageClicked=function(t){this.next.addEventListener("click",t)},t.prototype.addFirstPageClicked=function(t){this.first.addEventListener("click",t)},t.prototype.removePreviousPageClicked=function(t){this.previous.removeEventListener("click",t)},t.prototype.removeNextPageClicked=function(t){this.next.removeEventListener("click",t)},t.prototype.removeFirstPageClicked=function(t){this.first.removeEventListener("click",t)},t.prototype.setPaginationButtonsState=function(t){var i=this.grid.getPageIndex(),n=this.grid.getPageCount();this.hasNextPage=t.paging.hasNextPage,this.hasPreviousPage=t.paging.hasPreviousPage,this.previous.disabled=!this.canGoBack(),this.next.disabled=(0===n||i===n-1)&&!this.hasNextPage,this.first.disabled=this.previous.disabled,this.current.innerText=MscrmCommon.ControlUtils.String.Format(On.currentPagingMask,qn.isUci()?this.grid.getPageIndex()+1:"function"==typeof t.paging.get_currentPageNumber?t.paging.get_currentPageNumber():1)},t.prototype.markAsLoadingNextPage=function(){this.loadingNextPageOnServer=!0},t.prototype.markAsLoadingPreviousPage=function(){this.loadingPreviousPageOnServer=!0},t.prototype.markAsLoadingFirstPage=function(){this.loadingFirstPageOnServer=!0},t.prototype.ensureCorrectPage=function(t){var i=t;this.loadingFirstPageOnServer&&(i.moveToFirstPage(),i.currentItem=null,this.loadingFirstPageOnServer=!1),this.loadingPreviousPageOnServer&&(i.moveToPreviousPage(),i.currentItem=null,this.loadingPreviousPageOnServer=!1),this.loadingNextPageOnServer&&(i.moveToNextPage(),i.currentItem=null,this.loadingNextPageOnServer=!1)},t.prototype.getCurrentPageNumber=function(){return this.grid.getCollectionDataView().pageIndex},t.prototype.dispose=function(){this.grid=null},t}(),Vr=function(){function t(t,i,n){var e=this;this.onRowButtonClick=function(t){e.runButtonAction(t)},this.onRowButtonKeyDown=function(t){wr.isKeyCode(t,Gn.kbEnterCode)?e.runButtonAction(t):(wr.isKeyCode(t,Gn.kbArrowLeftCode)||wr.isKeyCode(t,Gn.kbArrowRightCode)||wr.isKeyCode(t,Gn.kbArrowUpCode)||wr.isKeyCode(t,Gn.kbArrowDownCode))&&e.rowButtonManager.handleKeyNavigation(t)},this.runButtonAction=function(t){null!=e.entityReference&&(wr.stopEventPropagation(t),e.run())},this.gridComponent=t,this.isRTL=i,this.buttonRow=-1,this.rowButtonManager=n,this.create()}return t.prototype.handleFormatItem=function(t){qn.isBtnHeaderColumn(t.columnName)&&(t.row===this.buttonRow?this.append(t.cell):this.remove(t.cell))},t.prototype.handleScrollPositionChanged=function(){this.buttonRow=-1},t.prototype.isSameButtonElement=function(t){return this.button.isSameNode(t)},t.prototype.focus=function(){this.button.focus()},t.prototype.append=function(t){this.container.parentElement!==t&&t.appendChild(this.container)},t.prototype.remove=function(t){this.container.parentElement===t&&this.container.parentElement.removeChild(this.container)},t.prototype.reformatBtnHeaderCell=function(t){var i=this.gridComponent.getColumnIndex(Gn.btnHeaderColumnName),n=this.gridComponent.findCellHtml(t,i),e=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n),r=!!e&&(n.parentElement.parentElement!==this.gridComponent.cells.hostElement||n.classList.contains(Xn.detailCellCSSClass));if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&e&&!r){var s=new vn.grid.CellRange(t,i,t,i);this.gridComponent.onFormatItem(new vn.grid.FormatItemEventArgs(this.gridComponent.cells,s,n))}},t.prototype.removeButton=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.container)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.container.parentElement)||this.container.parentElement.removeChild(this.container)},t.prototype.click=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.button)||this.button.click()},t.prototype.create=function(){this.container=document.createElement("div"),this.container.classList.add(Xn.inputGroupButtonCSSClass),this.container.style.cssFloat=this.isRTL?"left":"right",this.button=document.createElement("button"),this.button.tabIndex=-1,this.button.classList.add(Gn.rowBtnClass),this.button.classList.add(Gn.navigableCell),this.button.classList.add(Xn.buttonCSSClass),this.button.classList.add(Xn.buttonDefaultCSSClass),this.button.style.textDecoration="none",this.button.style.border="0px",this.button.addEventListener(Gn.eventMouseDown,this.onRowButtonClick),this.button.addEventListener(Gn.eventKeyDown,this.onRowButtonKeyDown),this.customize(),this.container.appendChild(this.button)},t.prototype.customize=function(){},t.prototype.run=function(){},t.prototype.dispose=function(){this.button.removeEventListener(Gn.eventMouseDown,this.onRowButtonClick),this.button.removeEventListener(Gn.eventKeyDown,this.onRowButtonKeyDown),this.entityReference=null,this.container=null,this.button=null},t}(),Pr=window&&window.__extends||(Sr=function(t,i){return(Sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Sr(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Wr=function(s){function t(t,i,n,e){var r=s.call(this,t,i,e)||this;return r.dataSetService=n,r}return Pr(t,s),t.prototype.customize=function(){this.button.classList.add(Gn.rowBtnDeleteClass),this.button.title=On.rowDeleteButtonTooltip},t.prototype.run=function(){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.entityReference))if(qn.isUci()){var t=[this.entityReference.Id.toString()],i=["Mscrm.DeleteSelectedRecord","Mscrm.HomepageGrid.[entityName].DeleteMenu".replace("[entityName]",this.entityReference.LogicalName)];this.dataSetService.dataSet.retrieveRecordCommand(t,i).done(function(t){!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&1==t.length&&t[0].canExecute&&t[0].execute()}).fail(function(t){})}else this.dataSetService.dataSet.deleteEntityAndRefresh(this.entityReference.Id.toString(),this.entityReference.LogicalName)},t}(Vr),Lr=window&&window.__extends||(Yr=function(t,i){return(Yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Yr(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Xr=function(o){function t(t,i,n,e,r){var s=o.call(this,t,n,e)||this;return s.navigationService=i,s.button.title=r||On.rowNavigationButtonTooltip,s}return Lr(t,o),t.prototype.customize=function(){this.button.classList.add(Gn.rowBtnNavClass)},t.prototype.run=function(){this.navigationService.navigateToEntityForm(this.entityReference)},t}(Vr),Kr=function(){function h(t,i,n,e,r){this.gridComponent=t,this.dataSetService=i,this.navigationService=n,this.isRTL=e}return h.prototype.createActiveRowButtons=function(t){var i=[],n=this.gridComponent.selectedRowsNumbers();if(this.gridComponent.selection.isSingleCell&&1==n.length){var e=n[0];this.createRowButtons(t,i,e)}return i},h.prototype.createRowButtons=function(t,i,n){var e=t.resolveEntityReference(n),r=null;if(e&&e.Id&&this.dataSetService){var s=this.dataSetService.getRecordById(e.Id);if(s){var o=s.getNamedReference();o&&o.Name&&(r=MscrmCommon.ControlUtils.String.Format(On.rowNavigationButtonTooltipSpecific,o.Name))}}i.push(h.createNavigationButton(this.gridComponent,this.navigationService,this.isRTL,t,n,e,r)),qn.isDeleteButtonEnabled()&&i.push(h.createDeleteButton(this.gridComponent,this.isRTL,this.dataSetService,t,n,e))},h.prototype.createRowHoverButtons=function(t){var i=[];return this.createRowButtons(t,i,null),i},h.createNavigationButton=function(t,i,n,e,r,s,o){var h=new Xr(t,i,n,e,o);return h.buttonRow=r,h.entityReference=s,h},h.createDeleteButton=function(t,i,n,e,r,s){var o=new Wr(t,i,n,e);return o.buttonRow=r,o.entityReference=s,o},h}(),Zr=function(){function t(t,i,n,e,r,s,o,h){var c=this;this.selectionChangedHandler=function(t,i){for(var n=0,e=c.activeRowButtons;n<e.length;n++){var r=e[n];r.removeButton(),r.dispose()}if(c.activeRowButtons.length=0,c.activeRowButtons=c.rowButtonFactory.createActiveRowButtons(c),0<c.activeRowButtons.length){if(c.gridComponent.selection.col===c.gridComponent.selection.col2&&c.gridComponent.selection.col===c.gridComponent.getColumnsCount()-1){var s=c.activeRowButtons[c.activeRowButtons.length-1];window.setTimeout(function(){s.focus()},200)}c.gridComponent.refresh()}},this.handleMouseMoveForRow=function(t,i){var n=c.gridComponent.hitTest(i),e=c.hoverRow;MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.panel)||n.panel.cellType!==vn.grid.CellType.Cell?c.hoverRow=-1:c.hoverRow=n.row,c.onHoverRowUpdate(e)},this.handleMouseLeaveForRow=function(t,i){c.hoverRow=-1},this.gridComponent=t,this.dataSetService=i,this.hoverRow=-1,this.hoverRowButtons=[],this.activeRowButtons=[],this.rowButtonFactory=new Kr(t,i,e,s,h),t.mouseMove.addHandler(this.handleMouseMoveForRow),t.mouseLeave.addHandler(this.handleMouseLeaveForRow),t.selectionChanged.addHandler(this.selectionChangedHandler),this.hoverRowButtons=this.rowButtonFactory.createRowHoverButtons(this)}return Object.defineProperty(t.prototype,"selectedRowsButtons",{get:function(){return this.activeRowButtons},enumerable:!0,configurable:!0}),t.prototype.onHoverRowUpdate=function(t){if(!(t===this.hoverRow||t>=this.gridComponent.totalRowsCount)){for(var i=0,n=this.hoverRowButtons;i<n.length;i++)n[i].buttonRow=this.hoverRow;this.refreshEntityReference(this.hoverRow),0<=t&&this.reformatBtnHeaderCell(t),0<=this.hoverRow&&this.reformatBtnHeaderCell(this.hoverRow)}},t.prototype.reformatBtnHeaderCell=function(t){for(var i=0,n=this.hoverRowButtons;i<n.length;i++)n[i].reformatBtnHeaderCell(t)},t.prototype.refreshEntityReference=function(t){for(var i=this.resolveEntityReference(t),n=0,e=this.hoverRowButtons;n<e.length;n++)e[n].entityReference=i},t.prototype.handleKeyNavigation=function(t){for(var i=0;i<this.activeRowButtons.length;i++)if(this.activeRowButtons[i].isSameButtonElement(t.srcElement)){var n=wr.isKeyCode(t,Gn.kbArrowRightCode)?--i:++i;if(0<=n&&n<this.activeRowButtons.length&&!wr.isKeyCode(t,Gn.kbArrowUpCode)&&!wr.isKeyCode(t,Gn.kbArrowDownCode))wr.preventDefault(t),this.activeRowButtons[n].focus();else{var e=this.gridComponent.selection;wr.isKeyCode(t,Gn.kbArrowLeftCode)?e.col=e.col2=--e.col:wr.isKeyCode(t,Gn.kbArrowUpCode)?e.row=e.row2=--e.row:wr.isKeyCode(t,Gn.kbArrowDownCode)&&(e.row=e.row2=++e.row),0<=e.row&&e.row<this.gridComponent.totalRowsCount&&this.gridComponent.select(e)}return}},t.prototype.resolveEntityReference=function(t){var i=null,n=null,e=null;return 0<=t&&(i=this.gridComponent.getCellData(t,0,!1)),MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(i)||(n=this.dataSetService.records[i]),MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(e=new ce(n.getRecordId(),n.getPrimaryEntityLogicalName())),e},t.prototype.handleScrollPositionChanged=function(){this.hoverRow=-1;for(var t=0,i=this.hoverRowButtons;t<i.length;t++)i[t].handleScrollPositionChanged()},t.prototype.handleFormatItem=function(t){for(var i=!1,n=0,e=this.activeRowButtons;n<e.length;n++)(o=e[n]).handleFormatItem(t),o.buttonRow==t.row&&(i=!0);for(var r=0,s=this.hoverRowButtons;r<s.length;r++){var o=s[r];i||o.handleFormatItem(t)}},t.prototype.dispose=function(){for(var t=0,i=this.hoverRowButtons;t<i.length;t++)i[t].dispose();for(var n=0,e=this.activeRowButtons;n<e.length;n++)e[n].dispose();this.gridComponent.selectionChanged.removeHandler(this.selectionChangedHandler)},t}(),_r=function(){function t(){}return t.notReadableCSSClass="cc-gridcell-not-readable",t.securedCSSClass="cc-gridcell-secured",t.requiredCSSClass="cc-gridcell-required",t.recommendedCSSClass="cc-gridcell-recommended",t.notEditableCSSClass="cc-gridcell-not-editable",t}(),qr=function(){function t(t){this.gridComponent=t}return Object.defineProperty(t.prototype,"selectedRowId",{get:function(){return null==this.selectedRow?null:this.gridComponent.getCellData(this.selectedRow,0,!1)},enumerable:!0,configurable:!0}),t.prototype.clearSelectedRowFieldAccess=function(t){if(!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.selectedRow)||this.selectedRow<0)){for(var i=0;i<t.length;i++){var n=this.gridComponent.getColumnIndex(t[i].name),e=this.gridComponent.isColumnVisible(t[i].name);if(!(n<0)&&e){var r=this.gridComponent.findCellHtml(this.selectedRow,n);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||this.removeStyles(r,n)}}this.selectedRow=null}},t.prototype.applyStyles=function(r,s,t){var o=this;t.then(function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.gridComponent)){var i=o.gridComponent.findCellHtml(r,s);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)){if(!t.isReadable){var n=o.gridComponent.getColumnType(s);o.gridComponent.formatDisplay(Xn.notReadableString,i,n),vn.toggleClass(i,_r.notReadableCSSClass,!0)}if(o.gridComponent.isEditable){t.isEditable?(vn.toggleClass(i,_r.requiredCSSClass,t.isRequired()),vn.setAttribute(i,Gn.ariaRequired,t.isRequired()),o.createAcessibilityInstruction(i)):(vn.toggleClass(i,_r.notEditableCSSClass,!0),vn.setAttribute(i,Gn.ariaReadOnly,!0)),vn.toggleClass(i,_r.recommendedCSSClass,t.isRecommended());var e=t.isSecured;MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.gridComponent.selection)||(e=(o.gridComponent.selection.row2!==r||o.gridComponent.selection.col2!==s||!o.gridComponent.activeEditor)&&e),vn.toggleClass(i,_r.securedCSSClass,e)}}}})},t.prototype.getColumnIndex=function(t){return this.gridComponent.getColumnIndex(t)},t.prototype.isColumnVisible=function(t){return this.gridComponent.isColumnVisible(t)},t.prototype.isRecordSelected=function(t){return-1!==this.gridComponent.selectedRows.indexOf(t)},t.prototype.createAcessibilityInstruction=function(t){var i=t.id+Gn.instructionPostfix;MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.getElementById(i))&&qn.createCellAccessibilityMessage(On.accessibilityStartEditingInstruction,t,i)},t.prototype.removeStyles=function(t,i){if(t.classList.contains(_r.notReadableCSSClass)){var n=this.gridComponent.getColumnType(i);this.gridComponent.formatDisplay(Xn.undefinedString,t,n)}vn.removeClass(t,_r.notReadableCSSClass),vn.removeClass(t,_r.securedCSSClass),vn.removeClass(t,_r.requiredCSSClass),vn.removeClass(t,_r.recommendedCSSClass),vn.removeClass(t,_r.notEditableCSSClass)},t.prototype.dispose=function(){this.gridComponent=null,this.selectedRow=null},t}(),$r=function(){function t(t,i,n,e){var r=this;this.textPropertyName="text",this.valuePropertyName="value",this.selectedIndexChangedEventHandler=function(){r.ariaLiveRegionService.sendAssertiveCellValueMessage(r.input.text,r.datasetColumn.displayName)},this.itemClickedEventHandler=function(){r.gridControl.finishEditing()},this.editEndingEventHandler=function(t,i){if(r.dispose(),!i.cancel){i.cancel=!0;var n=r.input.selectedItem[r.textPropertyName];r.gridControl.setCellData(i.row,i.col,n,!0,!1),r.gridControl.focus()}},this.keyDownHandler=function(t){var i=r.input.itemsSource.length;wr.isKeyCode(t,Gn.kbArrowUpCode)&&r.input.isDroppedDown&&(r.input.selectedIndex=(r.input.selectedIndex-1+i)%i,wr.stopEventPropagation(t)),wr.isKeyCode(t,Gn.kbArrowDownCode)&&(r.input.isDroppedDown?(r.input.selectedIndex=(r.input.selectedIndex+1)%i,wr.stopEventPropagation(t)):t.altKey&&(r.input.isDroppedDown=!0)),wr.isKeyCode(t,Gn.kbSpaceCode)&&r.spaceKeyAction(t)},this.gridControl=t,this.eventArgs=i,this.showEmptyOption=!(qn.columnRequired(n)||qn.columnHasDefaultValue(n)),this.datasetColumn=n,this.ariaLiveRegionService=e}return t.prototype.createDropdownEditor=function(){this.editorRoot=document.createElement("div"),this.input=new vn.input.Menu(this.editorRoot),this.input.maxDropDownHeight=Gn.customDropDownMaxHeight,this.cleanupLayout(this.input),this.fillDropdown(),this.setSelectedValue(),this.input.selectedIndexChanged.addHandler(this.selectedIndexChangedEventHandler),this.input.addEventListener(this.editorRoot,Xn.eventKeyDown,this.keyDownHandler),this.input.itemClicked.addHandler(this.itemClickedEventHandler),this.eventArgs.cell.appendChild(this.editorRoot),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),this.input.focus()},t.prototype.cleanupLayout=function(t){this.cleanupNode(t.hostElement)},t.prototype.cleanupNode=function(t){if(t.nodeType===Node.ELEMENT_NODE&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.childNodes))for(var i=0;i<t.childNodes.length;i++)this.cleanupNode(t.childNodes.item(i));("BUTTON"===t.nodeName||"wj-part"in t.attributes&&"btn"===t.attributes.getNamedItem("wj-part").nodeValue)&&"tabindex"in t.attributes&&t.attributes.removeNamedItem("tabindex")}},t.prototype.spaceKeyAction=function(t){this.input.isDroppedDown=!this.input.isDroppedDown,this.setSelectedValue(),wr.stopEventPropagation(t)},t.prototype.fillDropdown=function(){this.input.displayMemberPath=this.textPropertyName,this.input.selectedValuePath=this.valuePropertyName;for(var t=[],i=0,n=this.getOptions();i<n.length;i++){var e=n[i];(-1!==e.Value||this.showEmptyOption)&&t.push({text:e.Label,value:e.Value})}this.input.itemsSource=t},t.prototype.setSelectedValue=function(){for(var t=this.getCurrentValue(),i=0,n=this.input.itemsSource;i<n.length;i++){var e=n[i];if(e[this.valuePropertyName]==t||null==e[this.valuePropertyName]&&null==t){this.input.selectedValue=e[this.valuePropertyName],this.input.header=e[this.textPropertyName];break}}},t.prototype.getOptions=function(){return[]},t.prototype.getCurrentValue=function(){return 0},t.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.editorRoot),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.input.selectedIndexChanged.removeHandler(this.selectedIndexChangedEventHandler),this.input.itemClicked.removeHandler(this.itemClickedEventHandler),this.input.dispose()},t}(),ts=window&&window.__extends||(Dr=function(t,i){return(Dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Dr(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),is=function(o){function t(t,i,n,e,r){var s=o.call(this,t,i,e,r)||this;return s.value=n,s.createBooleanEditor(),s}return ts(t,o),t.prototype.createBooleanEditor=function(){this.createDropdownEditor()},t.prototype.getOptions=function(){return qn.getOptionsFromAttributes(this.datasetColumn)},t.prototype.getCurrentValue=function(){var t=this.datasetColumn.attributes.defaultValue?1:0;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.value)?t:this.value},t.prototype.spaceKeyAction=function(t){var i=this.input.itemsSource.length;wr.isKeyCode(t,Gn.kbSpaceCode)&&(this.input.selectedIndex=(this.input.selectedIndex+1)%i,this.gridControl.finishEditing(),wr.stopEventPropagation(t))},t}($r),ns=function(){function t(t,i,n,e,r,s,o){var h=this;this.dateChanged=function(t,i){if(null===t.value)return h.gridControl.activeEditor.value=null,void(h.theDateTime=null);h.theDateTime=t.value,h.inputDate.value=h.theDateTime,2===h.dateTimeBehavior?h.gridControl.activeEditor.value=h.formatDateShort(h.theDateTime,!1):3===h.dateTimeBehavior?h.gridControl.activeEditor.value=h.formatTime(h.timeZoneService.browserTimeZoneToUtc(h.theDateTime),h.dateTimeBehavior):h.gridControl.activeEditor.value=h.formatTime(h.timeZoneService.userLocalToUtc(h.theDateTime),h.dateTimeBehavior)},this.dateOrTimeChanged=function(t,i){if(null===t.value)return h.gridControl.activeEditor.value=null,void(h.theDateTime=null);h.theDateTime=vn.DateTime.fromDateTime(t.value,h.inputTime.value),h.inputDate.value=h.theDateTime,h.inputTime.value=h.theDateTime,3===h.dateTimeBehavior?h.gridControl.activeEditor.value=h.formatTime(h.timeZoneService.browserTimeZoneToUtc(h.theDateTime),h.dateTimeBehavior):h.gridControl.activeEditor.value=h.formatTime(h.timeZoneService.userLocalToUtc(h.theDateTime),h.dateTimeBehavior)},this.setDefaultDateTimeIfEmpty=function(){if(!h.inputDate.isDroppedDown&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(h.theDateTime)){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),h.inputDate.value=t}},this.editEndingEventHandler=function(t,i){h.dispose(),i.cancel||(i.cancel=!0,h.gridControl.setCellData(i.row,i.col,h.theDateTime,!0,!1))},this.gridControl=t,this.eventArgs=i,this.columnFormat=e,this.theDateTime=MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)?null:this.parseDateTime(n),this.timeZoneService=s,this.dateTimeBehavior=r,this.formatTime=function(t,i){return h.timeZoneService.formatTime(t,i)},this.formatDateShort=function(t,i){return h.timeZoneService.formatDateShort(t,i)},this.dateFormattingInfo=o,this.createDateTimeEditor()}return t.prototype.createDateTimeEditor=function(){this.enableTimeEditor=MscrmCommon.ControlUtils.String.EqualsIgnoreCase(this.columnFormat,Vn.formatDateAndTime)||MscrmCommon.ControlUtils.String.EqualsIgnoreCase(this.columnFormat,Vn.dateAndTime),this.editorRoot=document.createElement("div");var t=document.createElement("div");if(this.editorRoot.appendChild(t),this.inputDate=new vn.input.InputDate(t),this.inputDate.format=this.dateFormattingInfo.ShortDatePattern.replace(/\//g,this.dateFormattingInfo.DateSeparator),this.inputDate.calendar.firstDayOfWeek=this.dateFormattingInfo.FirstDayOfWeek,this.inputDate.isRequired=!1,this.inputDate.value=this.theDateTime,this.inputDate.inputElement.classList.add(Gn.calendarIconGlyph),this.inputDate.isDroppedDownChanging.addHandler(this.setDefaultDateTimeIfEmpty),this.enableTimeEditor){var i=document.createElement("div");t.setAttribute("style",MscrmCommon.ControlUtils.String.Format("width: {0}",Xn.inputDateRatio)),i.setAttribute("style",MscrmCommon.ControlUtils.String.Format("width: {0}",Xn.inputTimeRatio)),this.editorRoot.appendChild(i),this.inputTime=new vn.input.InputTime(i),this.inputTime.inputType="text",this.inputTime.step=1,this.inputTime.format=this.dateFormattingInfo.ShortTimePattern.replace(/:/g,this.dateFormattingInfo.TimeSeparator),this.inputTime.isRequired=!1,this.inputTime.value=this.theDateTime,this.inputDate.valueChanged.addHandler(this.dateOrTimeChanged),this.inputDate.addEventListener(this.editorRoot,Xn.eventKeyDown,this.handleDateKeyPressed),this.inputTime.valueChanged.addHandler(this.dateOrTimeChanged),this.inputTime.isDroppedDownChanging.addHandler(this.setDefaultDateTimeIfEmpty)}else this.inputDate.valueChanged.addHandler(this.dateChanged);this.editorRoot.setAttribute("style","height: 100%"),this.eventArgs.cell.appendChild(this.editorRoot),this.inputDate.focus(),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler)},t.prototype.parseDateTime=function(t){var i=null;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.getMonth)?"string"==typeof t&&NaN!==Date.parse(t)&&(i=new Date(t)):i=t,null!==i?i:null},t.prototype.handleDateKeyPressed=function(t){if(wr.isKeyCode(t,Gn.kbTabCode)){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.activeElement))return;var i=$(this).find("input");if(2===i.length){var n=i[0],e=i[1];document.activeElement.isSameNode(n)&&!t.shiftKey?(wr.stopEventPropagation(t),window.setTimeout(function(){e.focus()},50)):document.activeElement.isSameNode(e)&&t.shiftKey&&(wr.stopEventPropagation(t),window.setTimeout(function(){n.focus()},50))}}},t.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.editorRoot),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.enableTimeEditor?(this.inputDate.valueChanged.removeHandler(this.dateOrTimeChanged),this.inputTime.valueChanged.removeHandler(this.dateOrTimeChanged),this.inputTime.dispose()):this.inputDate.valueChanged.removeHandler(this.dateChanged),this.inputDate.dispose()},t}(),es=function(){function t(t,i,n,e){var r=this;this.valueChangedEvent=new vn.Event,this.disposed=!1,this.handleValueChanged=function(t,i){r.updateLabelText(),r.valueChangedEvent.raise(r,i)},this.pluralLabel=n,this.singularLabel=i,this.rootElement=document.createElement("div"),this.input=this.createInput(this.rootElement,e),this.label=this.createLabel(this.rootElement),this.attachEventHandlers();var s=MscrmCommon.ControlUtils.String.Format("width: {0}",Xn.durationInputRatio);this.rootElement.setAttribute("style",s),this.rootElement.classList.add("input-control"),t.appendChild(this.rootElement),this.updateLabelText()}return Object.defineProperty(t.prototype,"valueChanged",{get:function(){return this.valueChangedEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.value},set:function(t){this.input.value=t},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.addEventListener=function(t,i,n,e){this.input.addEventListener(t,i,n,e)},t.prototype.removeEventListener=function(t,i,n){this.input.removeEventListener(t,i,n)},t.prototype.attachEventHandlers=function(){this.input.valueChanged.addHandler(this.handleValueChanged),this.addEventListener(this.rootElement,Xn.eventDoubleClick,function(t){return wr.stopEventPropagation(t)})},t.prototype.dettachEventHandlers=function(){this.input.valueChanged.removeHandler(this.handleValueChanged),this.removeEventListener(this.rootElement,Xn.eventDoubleClick)},t.prototype.createInput=function(t,i){var n=new vn.input.InputNumber(t);return n.max=i,n.min=0,n.step=1,n.showSpinner=!1,n.isRequired=!1,n},t.prototype.createLabel=function(t){var i=document.createElement("div");return i.classList.add("label"),t.appendChild(i),i},t.prototype.updateLabelText=function(){this.label.innerText=1==this.value?this.singularLabel:this.pluralLabel},t.prototype.dispose=function(){this.disposed||(this.dettachEventHandlers(),this.valueChangedEvent.removeAllHandlers(),this.valueChangedEvent=null,this.input.dispose(),this.label=null,this.disposed=!0)},t}(),rs=function(){function t(t,i,n,e){var s=this;this.valueChanged=function(t,i){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.inputDay.value)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.inputHour.value)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.inputMinute.value))s.theDuration=null;else{var n=s.getValueOrZero(s.inputDay.value),e=s.getValueOrZero(s.inputHour.value),r=s.getValueOrZero(s.inputMinute.value);s.theDuration=n*Xn.minutesInOneDay+e*Xn.minutesInOneHour+r}s.updateDisplayValue()},this.keyDownHandler=function(t){if(wr.isKeyCode(t,Gn.kbTabCode)){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.activeElement))return;var i=$(s.editorRoot).find("input");if(3===i.length){var n=i[0],e=i[1],r=i[2];document.activeElement.isSameNode(r)&&t.shiftKey||document.activeElement.isSameNode(n)&&!t.shiftKey?(wr.stopEventPropagation(t),window.setTimeout(function(){s.inputHour.focus()},50)):document.activeElement.isSameNode(e)&&(t.shiftKey?(wr.stopEventPropagation(t),window.setTimeout(function(){s.inputDay.focus()},50)):(wr.stopEventPropagation(t),window.setTimeout(function(){s.inputMinute.focus()},50)))}}wr.isKeyCode(t,Gn.kbArrowUpCode)&&wr.stopEventPropagation(t)},this.editEndingEventHandler=function(t,i){s.dispose(),i.cancel||(i.cancel=!0,s.gridControl.setCellData(i.row,i.col,s.theDuration,!0,!1),s.updateDisplayValue())},this.gridControl=t,this.eventArgs=i,this.theDuration=MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)?null:n,this.createDurationEditor()}return t.prototype.createDurationEditor=function(){this.editorRoot=document.createElement("div"),this.editorRoot.classList.add(Xn.durationEditorCssClass),this.editorRoot.style.minWidth=MscrmCommon.ControlUtils.String.Format("{0}px",Xn.durationEditorMinWidth),this.inputDay=new es(this.editorRoot,On.durationDayLabel,On.durationDaysLabel,Xn.durationMaxDay),this.inputHour=new es(this.editorRoot,On.durationHourLabel,On.durationHoursLabel,Xn.durationMaxHour),this.inputMinute=new es(this.editorRoot,On.durationMinuteLabel,On.durationMinutesLabel,Xn.durationMaxMinute),this.eventArgs.cell.appendChild(this.editorRoot),this.updateInputs(),this.updateDisplayValue(),this.inputDay.addEventListener(this.editorRoot,Xn.eventKeyDown,this.keyDownHandler),this.inputDay.valueChanged.addHandler(this.valueChanged),this.inputHour.valueChanged.addHandler(this.valueChanged),this.inputMinute.valueChanged.addHandler(this.valueChanged),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),this.inputMinute.focus()},t.prototype.getValueOrZero=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?0:t},t.prototype.updateInputs=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.theDuration)||(this.inputDay.value=Math.floor(this.theDuration/Xn.minutesInOneDay),this.inputHour.value=Math.floor(this.theDuration%Xn.minutesInOneDay/Xn.minutesInOneHour),this.inputMinute.value=this.theDuration%Xn.minutesInOneHour)},t.prototype.updateDisplayValue=function(){var t;t=MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.theDuration)?MscrmCommon.CommonControl.DefaultValueLabel:this.theDuration>=Xn.minutesInOneDay?MscrmCommon.ControlUtils.String.Format("{0} {1}",(this.theDuration/Xn.minutesInOneDay).toFixed(2),this.theDuration>Xn.minutesInOneDay?On.durationDaysLabel:On.durationDayLabel):this.theDuration>=Xn.minutesInOneHour?MscrmCommon.ControlUtils.String.Format("{0} {1}",(this.theDuration/Xn.minutesInOneHour).toFixed(2),this.theDuration>Xn.minutesInOneHour?On.durationHoursLabel:On.durationHourLabel):MscrmCommon.ControlUtils.String.Format("{0} {1}",this.theDuration,1<this.theDuration?On.durationMinutesLabel:On.durationMinuteLabel),this.gridControl.activeEditor.value=t},t.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.editorRoot),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.inputDay.valueChanged.removeHandler(this.valueChanged),this.inputHour.valueChanged.removeHandler(this.valueChanged),this.inputMinute.valueChanged.removeHandler(this.valueChanged),this.inputDay.dispose(),this.inputHour.dispose(),this.inputMinute.dispose()},t}(),ss=function(){function r(t,i){this.htmlEncode=t,this.columns=i}return r.prototype.withAllowFilterOff=function(t){return this.allowFilterOff=t,this},r.prototype.withIsFilterEnabled=function(t){return this.isFilterEnabled=t,this},r.prototype.withRecords=function(t,i){return this.sortedRecordIds=t,this.records=i,this},r.prototype.build=function(){var n=this,t=this.buildPrefixOptions(),e=[];return this.validateInputData(),new MscrmCommon.ArrayQuery(this.sortedRecordIds).each(function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.records[t]))throw r.ErrorInvalidRecordId;var i=As.buildRegularOption(n.records[t],n.columns,n.htmlEncode);e.push(i)}),t.concat(e)},r.prototype.buildPrefixOptions=function(){var t,i=[];return this.allowFilterOff&&(t=this.isFilterEnabled?Ur.DisableFilter:Ur.EnableFilter,i.push(As.buildSpecialOption(t))),i},r.prototype.validateInputData=function(){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.records))throw MscrmCommon.ControlUtils.String.Format(r.ErrorInvalidParameter,"records");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.sortedRecordIds))throw MscrmCommon.ControlUtils.String.Format(r.ErrorInvalidParameter,"sortedRecordIds");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.columns))throw MscrmCommon.ControlUtils.String.Format(r.ErrorInvalidParameter,"columns")},r.ErrorInvalidParameter="Invalid input parameter building the itemsSource collection: {0}",r.ErrorInvalidRecordId="Invalid record ID was found while building the itemsSource collection.",r}();(Nr=Ur||(Ur={}))[Nr.EnableFilter=0]="EnableFilter",Nr[Nr.DisableFilter=1]="DisableFilter",Nr[Nr.RegularSelection=2]="RegularSelection";var os,hs,cs,as,us,ls,As=function(){function r(){}return r.buildRegularOption=function(t,i,n){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))throw MscrmCommon.ControlUtils.String.Format(ss.ErrorInvalidParameter,"record");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))throw MscrmCommon.ControlUtils.String.Format(ss.ErrorInvalidParameter,"columns");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))throw MscrmCommon.ControlUtils.String.Format(ss.ErrorInvalidParameter,"htmlEncode");var e=new r;return e.Id=t.getRecordId(),e.DisplayValue=r.getRegularDisplayValue(t,i,n),e.Type=Ur.RegularSelection,e},r.getRegularDisplayValue=function(t,i,n){for(var e="",r=0;r<i.length;r++)e+=MscrmCommon.ControlUtils.String.Format('<div class="cc-grid-lookupitem-field-{0}">{1}</div>',r,n(t.getFormattedValue(i[r].name)));return MscrmCommon.ControlUtils.String.Format('<div class="cc-grid-lookupitem">{0}</div>',e)},r.buildSpecialOption=function(t){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))throw MscrmCommon.ControlUtils.String.Format(ss.ErrorInvalidParameter,"optionType");if(t===Ur.RegularSelection)throw"This method should only be used for special lookup options.";var i=new r;return i.Id=r.getSpecialId(t),i.DisplayValue=r.getSpecialDisplayValue(t),i.Type=t,i},r.getSpecialDisplayValue=function(t){switch(t){case Ur.EnableFilter:return On.enableLookupFilter;case Ur.DisableFilter:return On.disableLookupFilter;default:throw Error("Unknown special lookup option")}},r.getSpecialId=function(t){switch(t){case Ur.EnableFilter:return r.enableFilterId;case Ur.DisableFilter:return r.disableFilterId;default:throw Error("Unknown special lookup option")}},r.enableFilterId="ENABLE_FILTER",r.disableFilterId="DISABLE_FILTER",r}(),fs=window&&window.__extends||(os=function(t,i){return(os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}os(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),ds=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return fs(t,i),t.prototype._setText=function(t){this.selectedItem instanceof As?this.selectedItem.Type==Ur.RegularSelection&&i.prototype._setText.call(this,t):i.prototype._setText.call(this,t)},t}(vn.input.AutoComplete),gs=function(){function t(t,i,n){var e=this;this.clickHandler=function(t){e.entityReference&&null!=e.entityReference&&e.navigationService.navigateToEntityForm(e.entityReference)},this.parentContainer=t,this.navigationService=n,this.entityReference=i,this.control=this.createControl(),this.injectControl()}return t.prototype.injectControl=function(){this.control.classList.add("wj-input-group-btn"),this.control.classList.add("cc-lookup-nav-button"),this.parentContainer.appendChild(this.control),this.parentContainer.style.paddingRight=this.control.clientWidth+"px"},t.prototype.createControl=function(){var t=document.createElement("div");return this.actionButton=document.createElement("button"),t.appendChild(this.actionButton),this.actionButton.classList.add("wj-btn-default"),this.actionButton.classList.add("wj-btn"),this.actionButton.classList.add(Gn.navigableCell),this.actionButton.addEventListener("click",this.clickHandler),t},t.prototype.setEntityReference=function(t){this.entityReference=t},t.prototype.focus=function(){this.actionButton.focus()},t.prototype.dispose=function(){this.parentContainer.removeChild(this.control),this.parentContainer=null,this.control=null,this.actionButton=null,this.navigationService=null,this.entityReference=null},t}(),ws=function(){function t(t,i,n,e,r,s,o,h,c){var a=this;this.getLookupData=function(){a.perfTool.tryStart(se.RetrieveLookup),a.dataSet.getLookupDataSet(a.column.binding).then(function(t){a.perfTool.tryStop(se.RetrieveLookup),a.isDisposed||(a.dataAdapter.initialize(t,a.dataSet,a.htmlEncode),a.autoCompleteControl.selectedValuePath=a.dataAdapter.selectedValuePath,a.autoCompleteControl.displayMemberPath=a.dataAdapter.displayMemberPath,a.autoCompleteControl.itemsSourceFunction=a.dataAdapter.itemsSourceFunction,a.dataAdapter.setRefreshEnabled(),a.enableEventHandlers(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.selectedRecord)?a.dataAdapter.clearUserTypedFilter():a.autoCompleteControl.text=a.selectedRecord.Name,a.autoCompleteControl.focus())},function(t){a.perfTool.tryStop(se.RetrieveLookup),a.autoCompleteControl.isDisabled=!0})},this.selectionChangedHandler=function(){if(!a.autoCompleteControl.isDisabled){var t=a.autoCompleteControl.selectedItem,i=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t);(!i&&a.autoCompleteControl.text===MscrmCommon.ControlUtils.String.Empty||i)&&(i&&t.Type!==Ur.RegularSelection&&event.type===Xn.eventKeyDown&&!wr.isKeyCode(event,Gn.kbEnterCode)||(a.selectedRecord=a.dataAdapter.processSelection(t,a.selectedRecord)),a.ariaLiveRegionService.sendAssertiveCellValueMessage(a.autoCompleteControl.text,a.column.header),i&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.selectedRecord)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(a.selectedRecord.Name)&&(a.selectedRecord.Name=a.autoCompleteControl.text),a.column.grid.activeEditor.value=a.selectedName,a.navigationControl&&a.navigationControl.setEntityReference(a.selectedRecord))}},this.handleKeyPressed=function(t){if(wr.isKeyCode(t,Gn.kbTabCode)){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.activeElement))return;a.navigationControl&&(wr.stopEventPropagation(t),window.setTimeout(function(){a.navigationControl.focus()},50))}wr.isKeyCode(t,Gn.kbArrowUpCode)&&wr.stopEventPropagation(t),wr.isKeyCode(t,Gn.kbEnterCode)&&a.autoCompleteControl.selectedIndexChanged.raise(a)},this.textChangedHandler=function(){a.autoCompleteControl.text===MscrmCommon.ControlUtils.String.Empty&&(a.dataAdapter.clearUserTypedFilter(),a.cancelCloseDropDown=!0)},this.isDroppedDownChangingHandler=function(t,i){1==a.autoCompleteControl.isDroppedDown&&a.cancelCloseDropDown&&(i.cancel=!0,a.cancelCloseDropDown=!1)},this.updatedLookupDataSetHandler=function(){a.autoCompleteControl._itemSourceFunctionCallback(a.dataAdapter.itemsSource)},this.editEndingEventHandler=function(t,i){a.dispose(),i.cancel||(i.cancel=!0,a.selectedRecord!=a.initialSelection&&a.column.grid.setCellData(i.row,i.col,a.selectedRecord,!1,!1))},this.navigationService=o,this.ariaLiveRegionService=h,this.column=n,this.dataAdapter=e,this.dataSet=r,this.htmlEncode=s,this.eventArgs=t,this.selectedRecord=i,this.initialSelection=i,this.perfTool=c,this.createEditor()}return t.prototype.createEditor=function(){this.editorRoot=document.createElement("div"),this.eventArgs.cell.appendChild(this.editorRoot),this.autoCompleteControl=this.createControlOnDOM(),this.autoCompleteControl.addEventListener(this.editorRoot,Xn.eventKeyDown,this.handleKeyPressed),this.column.grid.cellEditEnding.addHandler(this.editEndingEventHandler),this.navigationControl=new gs(this.eventArgs.cell,this.selectedRecord,this.navigationService),this.getLookupData()},t.prototype.createControlOnDOM=function(){return new ds(this.editorRoot,{isRequired:!1,isContentHtml:!0,maxDropDownHeight:Xn.maxDropDownHeight})},Object.defineProperty(t.prototype,"selectedName",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.selectedRecord)?Xn.undefinedString:this.selectedRecord.Name},enumerable:!0,configurable:!0}),t.prototype.enableEventHandlers=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.autoCompleteControl)||(this.autoCompleteControl.selectedIndexChanged.addHandler(this.selectionChangedHandler),this.autoCompleteControl.textChanged.addHandler(this.textChangedHandler),this.autoCompleteControl.isDroppedDownChanging.addHandler(this.isDroppedDownChangingHandler)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter.updatedDataSetEvent)||this.dataAdapter.updatedDataSetEvent.addHandler(this.updatedLookupDataSetHandler)},t.prototype.disableEventHandlers=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.autoCompleteControl)||(this.autoCompleteControl.selectedIndexChanged.removeHandler(this.selectionChangedHandler),this.autoCompleteControl.textChanged.removeHandler(this.textChangedHandler),this.autoCompleteControl.isDroppedDownChanging.removeHandler(this.isDroppedDownChangingHandler)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter.updatedDataSetEvent)||this.dataAdapter.updatedDataSetEvent.removeHandler(this.updatedLookupDataSetHandler)},t.prototype.dispose=function(){this.column.grid.cellEditEnding.removeHandler(this.editEndingEventHandler),this.eventArgs.cell.removeChild(this.editorRoot),this.disableEventHandlers(),this.autoCompleteControl.dispose(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataAdapter)||this.dataAdapter.dispose(),this.editorRoot=null,this.autoCompleteControl=null,this.dataAdapter=null,this.navigationControl.dispose()},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return null==this.autoCompleteControl},enumerable:!0,configurable:!0}),t}(),ms=function(){function n(t,i,n,e,r){var o=this;this.editEndingEventHandler=function(t,i){if(o.dispose(),!i.cancel){i.cancel=!0;var n=Array();if(o.multiSelectPicklistItems)for(var e=0;e<o.multiSelectPicklistItems.length;++e)o.multiSelectPicklistItems[e].selected&&n.push(o.multiSelectPicklistItems[e].value);var r=o.gridControl.columns;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r[i.col])){var s=r[i.col].dataMap;r[i.col].dataMap=null,o.gridControl.setCellData(i.row,i.col,n,!0,!1),r[i.col].dataMap=s}}},this.gridMultiSelectOptionsetEditorKeyboardHandler=function(t,i,n){wr.stopEventPropagation(i);var e=t?vn.grid.SelMove.NextCell:vn.grid.SelMove.None;n.gridControl._selHdl.moveSelection(vn.grid.SelMove.None,e,!0),e!=vn.grid.SelMove.None&&n.gridControl._selHdl.moveSelection(vn.grid.SelMove.None,vn.grid.SelMove.PrevCell,!0),n.gridControl.containsFocus()||window.setTimeout(function(){n.gridControl.focus()},0)},this.keyDownHandler=function(t){switch(t.keyCode){case Gn.kbTabCode:o.gridControl.finishEditing(!1),o.gridMultiSelectOptionsetEditorKeyboardHandler(!0,t,o);break;case Gn.kbEscapeCode:o.gridControl.finishEditing(!0),o.gridMultiSelectOptionsetEditorKeyboardHandler(!1,t,o)}},this.handleMouseDown=function(t){$.contains(o.editorSol,t.target)||o.eventArgs.cell==t.target||o.gridControl.finishEditing(!1)},this.handleScroll=function(t){var i=o;o.onScrollMethod=setTimeout(function(){"none"===i.editorSol.style.display&&i.gridControl.finishEditing(!1)})},this.onWindowResize=function(t){o.gridSol.positionSOL(o.eventArgs.cell.getBoundingClientRect().top,o.eventArgs.cell.getBoundingClientRect().bottom,!1)},this.gridControl=t,this.eventArgs=i,this.multiSelectPicklistItems=n,this.wijmo=vn,this.isWebClient=e,this.isControlDisabled=r,this.createMultiSelectOptionSetEditor()}return n.prototype.getSolOnInitialized=function(){var r=this.isControlDisabled,t=this.eventArgs.cell.getBoundingClientRect(),s=t.top,o=t.bottom;return qn.isUci()?function(t,i){this.gridMSOSEditor=$("#"+Xn.msosId),this.positionSOL=function(t,i,n){if(this.displayBelowInput=!1,this.frameHeight=document.documentElement.clientHeight,t>this.frameHeight)this.gridMSOSEditor.hide();else{this.gridMSOSEditor.show();var e=this.gridMSOSEditor.offset().top,r=this.gridMSOSEditor.offset().top+this.gridMSOSEditor.outerHeight(!0);if(t!=e&&i!=r||n){var s=this.$container.offset().top+this.currentSelectionContainerExpandedMaxHeight+this.$input.outerHeight(),o=3*Xn.currentSelectionContainerRowHeight+(this.$currentSelectionContainer.css("padding-top")?parseFloat(this.$currentSelectionContainer.css("padding-top").split("px")[0]):0)+(this.$currentSelectionContainer.css("padding-bottom")?parseFloat(this.$currentSelectionContainer.css("padding-bottom").split("px")[0]):0)+this.$input.outerHeight();if($(document.documentElement).css("clear","both"),s>this.frameHeight||!n)if(t<this.frameHeight-i)document.documentElement.clientHeight-t<o?this.$container.css("min-height",o):this.$container.css("max-height",document.documentElement.clientHeight-t),n||(this.gridMSOSEditor.css("top",t),this.gridMSOSEditor.css("bottom",""));else{var h=document.documentElement.clientHeight-i;this.gridMSOSEditor.css("top","inherit"),this.gridMSOSEditor.css("bottom",h),i<o?this.$container.css("min-height",o):this.$container.css("max-height",i)}}}},this.positionSOL(s,o,!0),this.updateSelectionContainer=function(){this.displayBelowInput=!1,this.inputBoxTop=this.$input.offset().top,this.inputBoxBottom=this.inputBoxTop+this.$input.outerHeight(),this.selectionContainerHeight=this.$selectionContainer.outerHeight(),this.frameHeight-this.inputBoxBottom>this.selectionContainerHeight?this.displayBelowInput=!0:this.inputBoxBottom>this.selectionContainerHeight?this.displayBelowInput=!1:(this.$container.addClass("msos-compact"),this.selectionContainerHeight=this.containerHeight=this.$selectionContainer.outerHeight(!1),this.frameHeight-this.inputBoxBottom>this.containerHeight?this.displayBelowInput=!0:this.inputBoxBottom>this.containerHeight&&(this.displayBelowInput=!1));var t=this.$selectionContainer.css("border-left-width")?parseFloat(this.$selectionContainer.css("border-left-width").split("px")[0]):0;this.$selectionContainer.css("left",0-t).css("width",this.$innerContainer.outerWidth(!1));var i=this.$innerContainer.outerHeight();this.displayBelowInput?(this.$selectionContainer.css("top",i),this.$selectionContainer.css("bottom","inherit")):(this.$selectionContainer.css("bottom",i),this.$selectionContainer.css("top","inherit"))}}:function(t,i){this.$container.addClass("msos-grid-container"),this.$innerContainer.addClass("msos-grid-inner-container"),this.$selectionContainer.addClass("msos-grid-selection-container"),this.$moreLessContainer.add("msos-grid-moreless-link"),this.$currentSelectionContainer.find(".sol-selected-display-item").add("msos-grid-selected-display-item");var n=this.$currentSelectionContainer.find(".sol-selected-display-item");if(n.add("msos-grid-selected-display-item-text"),n&&0==n.length&&this.$currentSelectionContainer&&(qn.isUci()?(this.$currentSelectionContainer.addClass("uci-msos-grid-current-selection-normal"),this.$currentSelectionContainer.addClass("uci-msos-grid-current-selection-expanded")):(this.$currentSelectionContainer.addClass("msos-grid-current-selection-normal"),this.$currentSelectionContainer.addClass("msos-grid-current-selection-expanded"))),this.gridMSOSEditor=$("#"+Xn.msosId),this.positionSOL=function(t,i,n){if(this.displayBelowInput=!1,this.frameHeight=document.documentElement.clientHeight,t>this.frameHeight)this.gridMSOSEditor.hide();else{this.gridMSOSEditor.show();var e=this.gridMSOSEditor.offset().top,r=this.gridMSOSEditor.offset().top+this.gridMSOSEditor.outerHeight(!0);if(t!=e&&i!=r||n){var s=this.$container.offset().top,o="none"===this.$moreLessContainer.css("display")?this.$moreLessContainer.outerHeight()+Xn.moreLessTextHeight:this.$moreLessContainer.outerHeight(),h=s+this.currentSelectionContainerExpandedMaxHeight+this.$input.outerHeight()+o,c=3*Xn.currentSelectionContainerRowHeight+(this.$currentSelectionContainer.css("padding-top")?parseFloat(this.$currentSelectionContainer.css("padding-top").split("px")[0]):0)+(this.$currentSelectionContainer.css("padding-bottom")?parseFloat(this.$currentSelectionContainer.css("padding-bottom").split("px")[0]):0)+this.$input.outerHeight()+o;if($(document.documentElement).css("clear","both"),h>this.frameHeight||!n)if(t<this.frameHeight-i)document.documentElement.clientHeight-t<c?this.$container.css("min-height",c):this.$container.css("max-height",document.documentElement.clientHeight-t),n||(this.gridMSOSEditor.css("top",t),this.gridMSOSEditor.css("bottom",""));else{var a=document.documentElement.clientHeight-i;this.gridMSOSEditor.css("top","inherit"),this.gridMSOSEditor.css("bottom",a),i<c?this.$container.css("min-height",c):this.$container.css("max-height",i)}}}},this.positionSOL(s,o,!0),r&&(this.toggleControlState(r),this.$container.addClass("msos-sol-container-Disabled"),this.$moreLessContainer.addClass("msos-sol-moreless-container-Disabled"),null!=this.$currentSelectionContainer)){var e=this.$currentSelectionContainer.find(".sol-selected-display-item");e&&0<e.length&&(this.$currentSelectionContainer.find(".sol-selected-display-item").first().focus(),this.$currentSelectionContainer.find(".sol-selected-display-item").first().addClass("keyboard-selection"))}this.updateSelectionContainer=function(){this.displayBelowInput=!1,this.inputBoxTop=this.$input.offset().top,this.inputBoxBottom=this.inputBoxTop+this.$input.outerHeight(),this.selectionContainerHeight=this.$selectionContainer.outerHeight(),this.frameHeight-this.inputBoxBottom>this.selectionContainerHeight?this.displayBelowInput=!0:this.inputBoxBottom>this.selectionContainerHeight?this.displayBelowInput=!1:(this.$selectionContainer.addClass("sol-selection-container-reduced-height"),this.$selection.addClass("sol-selection-reduced-height"),this.selectionContainerHeight=this.containerHeight=this.$selectionContainer.outerHeight(!1),this.frameHeight-this.inputBoxBottom>this.containerHeight?this.displayBelowInput=!0:this.inputBoxBottom>this.containerHeight&&(this.displayBelowInput=!1)),this.$innerContainer.addClass("sol-inner-container-transform"),"block"==this.$innerContainer.css("display")&&(this.$selectionContainer.css("border-top-right-radius","initial"),this.$actionButtons&&this.$actionButtons.css("border-top-right-radius","initial"));var t=this.$selectionContainer.css("border-left-width")?parseFloat(this.$selectionContainer.css("border-left-width").split("px")[0]):0;this.$selectionContainer.css("left",0-t).css("width",this.$innerContainer.outerWidth(!1));var i=this.$innerContainer.outerHeight();this.displayBelowInput?(this.$selectionContainer.css("top",i+t),this.$selectionContainer.css("bottom","inherit")):(this.$selectionContainer.css("bottom",i+t),this.$selectionContainer.css("top","inherit"))}}},n.prototype.getSolResourceStrings=function(){return qn.isUci()?{}:{noItemsAvailable:On.multiPicklistNoItemsLabel,selectAll:On.multiPicklistSelectAllLabel,searchplaceholder:On.multiPicklistTypeAheadLabel,expand:On.multiPicklistMoreLabel,collapse:On.multiPicklistLessLabel,optionSetItemAriaLabel:On.multiPicklistItemsLabel,typeSomethingInputAriaLabel:On.multiPicklistInputLabel,selectedListNavigation:On.multiPicklistListNavigationLabel,displayItemsRemoved:On.multiPicklistItemsRemovedLabel,moreLinkTitle:On.multiPicklistMoreLinkTitle,lessLinkTitle:On.multiPicklistLessLinkTitle,selectAllFocusTitle:On.multiPicklistSelectAllFocusTitle,selectAllDeselect:On.multiPicklistSelectAllDeselect,selectAllSelect:On.multiPicklistSelectAllSelect,totalItems:On.multiPicklistTotalItems,deleteItemTitle:On.multiPicklistDeleteTitle}},n.prototype.getSolOptions=function(){var t=qn.isUci(),i="GridMSOSField_"+n.uniqueId;return{showSelectAll:!0,shouldDefaultFocusonInput:!0,defaultMaxRowsInCurrentSelections:2,isControlDisabled:!1,data:this.multiSelectPicklistItems,key:i,alwaysActive:!!t||null,autoExpandDropdown:!t&&null,texts:this.getSolResourceStrings(),events:{onInitialized:this.getSolOnInitialized(),onChange:function(t,i){for(var n=0;n<t.items.length;++n)if(t.items[n].value==i[0].value){t.items[n].selected=i[0].checked;break}this.multiSelectPicklistItems=t.items},onOpen:function(){this.updateSelectionContainer()},onScroll:function(){this.updateSelectionContainer()}}}},n.prototype.createMultiSelectOptionSetEditor=function(){this.editorRoot=document.createElement("div"),this.editorRoot.classList.add("custom-editor-div");var t="gridSelectElement_"+n.uniqueId++;this.editorSol=document.createElement("div"),this.editorSol.id=Xn.msosId,this.editorSol.setAttribute("name","solEditorParent"),this.editorSol.classList.add("custom-editor-div"),this.isWebClient&&this.editorSol.classList.add("focused-input"),this.editorSol.innerHTML=MscrmCommon.ControlUtils.String.Format("<select id='{0}' name='{0}' multiple='multiple'></select>",t),this.editorSol.classList.add("wj-control"),this.editorSol.classList.add("wj-popup"),this.eventArgs.cell.appendChild(this.editorRoot),this.editorSol.style.width=this.eventArgs.cell.getBoundingClientRect().width+"px",this.editorSol.style.maxWidth="33%",this.wijmo.showPopup(this.editorSol,this.editorRoot,!1),MscrmCommon.ControlUtils.Object.isNullOrUndefined($.fn.searchableOptionList)&&e(jQuery,window,document),0<$(".stage").length&&$(".stage").css("clear","both"),qn.isUci()?this.gridSol=$("#"+t).multiSelectOptionSet(this.getSolOptions()):this.gridSol=$("#"+t).searchableOptionList(this.getSolOptions()),this.editorSol.addEventListener(Xn.eventKeyDown,this.keyDownHandler),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),document.addEventListener(Xn.eventSingleClick,this.handleMouseDown,!0),parent.document.addEventListener(Xn.eventSingleClick,this.handleMouseDown,!0),window.addEventListener(Xn.eventWindowResize,this.onWindowResize,!0),document.addEventListener(Xn.eventMouseScroll,this.handleScroll,!0)},n.prototype.dispose=function(){this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),clearTimeout(this.onScrollMethod),this.editorSol.removeEventListener(Xn.eventKeyDown,this.keyDownHandler),document.removeEventListener(Xn.eventSingleClick,this.handleMouseDown,!0),document.removeEventListener(Xn.eventMouseScroll,this.handleScroll,!0),parent.document.removeEventListener(Xn.eventSingleClick,this.handleMouseDown,!0),window.removeEventListener(Xn.eventWindowResize,this.onWindowResize,!0),this.wijmo.hidePopup(this.editorSol,!0),$.contains(this.eventArgs.cell,this.editorRoot)&&this.eventArgs.cell.removeChild(this.editorRoot)},n.uniqueId=0,n}(),bs=function(){function t(t,i,n,e,r,s){var o=this;this.valueChanged=function(t,i){o.gridControl.activeEditor.value=t.value},this.dblClickEventListener=function(t){wr.stopEventPropagation(t)},this.editEndingEventHandler=function(t,i){o.dispose(),i.cancel||(i.cancel=!0,o.gridControl.setCellData(i.row,i.col,o.input.value,!0,!1))},this.gridControl=t,this.editColumn=e,this.eventArgs=i,this.validation=r,this.precision=s,this.value=n,this.createNumberEditor()}return t.prototype.createNumberEditor=function(){this.editorRoot=document.createElement("div"),this.input=new vn.input.InputNumber(this.editorRoot),this.input.format=this.format,this.input.max=this.validation.max,this.input.min=this.validation.min,this.eventArgs.cell.appendChild(this.editorRoot),this.input.isRequired=!1,this.input.inputType="text",this.input.value=MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.value)?null:this.value,this.gridControl.activeEditor.value=String(this.input.value),this.input.valueChanged.addHandler(this.valueChanged),this.input.addEventListener(this.editorRoot,Xn.eventDoubleClick,this.dblClickEventListener),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),this.input.focus()},Object.defineProperty(t.prototype,"format",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.precision)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.editColumn.format)?this.editColumn.format:MscrmCommon.ControlUtils.String.Format("{0}{1}",this.editColumn.format[0],this.precision)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.editorRoot),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.input.valueChanged.removeHandler(this.valueChanged),this.input.removeEventListener(this.editorRoot,Xn.eventDoubleClick),this.input.dispose()},t}(),vs=function(){function t(t,i,n,e,r,s){var o=this;this.inputHandler=function(){o.gridControl.activeEditor.value=o.input.value},this.keydownHandler=function(t){wr.isKeyCode(t,Gn.kbEnterCode)&&(t.preventDefault(),o.input.value=o.input.value.substring(0,o.input.selectionStart)+"\n"+o.input.value.substring(o.input.selectionEnd,o.input.value.length),o.gridControl.activeEditor.value=o.input.value)},this.editEndingEventHandler=function(t,i){o.dispose(),i.cancel||(i.cancel=!0,o.gridControl.setCellData(i.row,i.col,o.input.value,!0,!1))},this.gridControl=t,this.eventArgs=i,this.value=MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)?"":n,this.createTextAreaEditor(s)}return t.prototype.createTextAreaEditor=function(i){var n=this;this.input=document.createElement("textarea"),this.input.setAttribute("style",MscrmCommon.ControlUtils.String.Format("width: 100%; height: {0}px; resize: none",this.eventArgs.panel.rows[this.eventArgs.row].height)),this.eventArgs.cell.appendChild(this.input),this.input.value=this.value,this.input.addEventListener&&(this.input.addEventListener("input",this.inputHandler,!1),this.input.addEventListener("keydown",this.keydownHandler,!1)),Object.keys(i).forEach(function(t){n.input.setAttribute(t,i[t])}),this.gridControl.cellEditEnding.addHandler(this.editEndingEventHandler),this.input.focus()},t.prototype.dispose=function(){this.eventArgs.cell.removeChild(this.input),this.gridControl.cellEditEnding.removeHandler(this.editEndingEventHandler),this.input.removeEventListener("input",this.inputHandler,!1),this.input.removeEventListener("keydown",this.keydownHandler,!1)},t}(),ps=window&&window.__extends||(hs=function(t,i){return(hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}hs(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Es=function(o){function t(t,i,n,e,r){var s=o.call(this,t,i,n,r)||this;return s.value=e,s.createDropdownEditor(),s}return ps(t,o),t.prototype.getOptions=function(){return qn.getOptionsFromAttributes(this.datasetColumn)},t.prototype.getCurrentValue=function(){var t=this.datasetColumn.attributes.defaultValue?this.datasetColumn.attributes.defaultValue:-1;return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.value)?t:this.value},t}($r),Bs=function(){function t(t,i){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))throw new Error("Missing argument : dataSet");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))throw new Error("Missing argument : columns");this.dataSet=t,this.columns=i,this.setSorting()}return t.prototype.setSorting=function(){this.dataSet.sorting.splice(0);for(var t=0;t<this.columns.length;t++)this.dataSet.sorting.push({name:this.columns[t].name,sortDirection:0})},t.prototype.setFilter=function(t){t=t.replace(/\\/g,"");var i=this.dataSet.filtering.getFilter();if(!qn.isUci()||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||!this.isSystemConditionPresent(i)){for(var n=[],e=0;e<this.columns.length;e++){var r={attributeName:this.columns[e].name,conditionOperator:6,value:MscrmCommon.ControlUtils.String.Format("%{0}%",t)};n.push(r)}var s={conditions:n,filterOperator:1};this.dataSet.filtering.clearFilter(),this.dataSet.filtering.setFilter(s)}},t.prototype.clearFilter=function(){var t=this.dataSet.filtering.getFilter();qn.isUci()&&this.isSystemConditionPresent(t)||this.dataSet.filtering.clearFilter()},t.prototype.isSystemConditionPresent=function(t){var n=!1;return null!=t&&t.conditions.forEach(function(i){var t=this.columns.find(function(t){return t.name===i.attributeName});n=MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)}.bind(this)),n},t}(),js=function(){function t(t){var i=this;this.updatedDataSet=new vn.Event,this.isFilterEnabled=!0,this.isInitialized=!1,this.shouldRefresh=!1,this.updatedLookupDataSetHandler=function(t){i.isDisposed()||(t&&(i.dataSet.records=t.records,i.dataSet.sortedRecordIds=t.sortedRecordIds),i.perfTool.tryStop(se.RetrieveLookup),i.update(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.refreshedItemsCallback)?i.updatedDataSet.raise(i):(i.refreshedItemsCallback(i.itemsSource),i.refreshedItemsCallback=null))},this.perfTool=t}return t.prototype.initialize=function(t,i,n){this.isInitialized=!0,this.dataSet=t,this.parentDataSet=i,this.validateInputData();var e=t.columns.slice(0,Gn.maxNumberOfLookupColumns);this.filterManager=new Bs(this.dataSet,e),this.itemsCollectionBuilder=new ss(n,e),this.update(),this.dataSet.addOnDataSetUpdated(this.updatedLookupDataSetHandler)},t.prototype.update=function(){this.itemsCollection=this.itemsCollectionBuilder.withAllowFilterOff(this.dataSet.filtering.canDisableRelationshipFilter()).withIsFilterEnabled(this.isFilterEnabled).withRecords(this.dataSet.sortedRecordIds,this.dataSet.records).build()},t.prototype.processSelection=function(t,i){switch(this.validateIsInitialized(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?null:t.Type){case Ur.DisableFilter:this.toggleRelationshipFilter(!1);break;case Ur.EnableFilter:this.toggleRelationshipFilter(!0);break;case Ur.RegularSelection:i=MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.Id)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.records[t.Id])?null:this.dataSet.records[t.Id].getNamedReference();break;default:i=null}return i},t.prototype.clearUserTypedFilter=function(){this.validateIsInitialized(),this.filterManager.clearFilter(),this.perfTool.tryStart(se.RetrieveLookup),this.dataSet.refresh()},t.prototype.toggleRelationshipFilter=function(t){this.isFilterEnabled!=t&&this.dataSet.filtering.canDisableRelationshipFilter()&&(this.refreshedItemsCallback=null,(this.isFilterEnabled=t)?this.dataSet.filtering.enableRelationshipFilter(this.parentDataSet.getSelectedRecord()):this.dataSet.filtering.disableRelationshipFilter(),this.perfTool.tryStart(se.RetrieveLookup),this.dataSet.refresh())},Object.defineProperty(t.prototype,"updatedDataSetEvent",{get:function(){return this.updatedDataSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return"Id"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return"DisplayValue"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this.itemsCollection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){var e=this;return function(t,i,n){!e.isDisposed()&&e.shouldRefresh&&(e.filterManager.setFilter(t),e.refreshedItemsCallback=n,e.perfTool.tryStart(se.RetrieveLookup),e.dataSet.refresh())}},enumerable:!0,configurable:!0}),t.prototype.setRefreshEnabled=function(){this.shouldRefresh=!0},t.prototype.dispose=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.itemsCollection)||(this.itemsCollection.splice(0),this.itemsCollection=null),this.dataSet&&this.dataSet.removeOnDataSetUpdated&&this.dataSet.removeOnDataSetUpdated(this.updatedLookupDataSetHandler),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.updatedDataSetEvent)||this.updatedDataSetEvent.removeAllHandlers(),this.dataSet=null,this.filterManager=null,this.itemsCollectionBuilder=null},t.prototype.isDisposed=function(){return null==this.dataSet},t.prototype.validateInputData=function(){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.filtering))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.filtering");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.columns))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.columns");if(0==this.dataSet.columns.length)throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.columns[0]");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.records))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.records");if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet.sortedRecordIds))throw MscrmCommon.ControlUtils.String.Format(MscrmCommon.CommonControl.InvalidInputParam,"dataSet.sortedRecordIds")},t.prototype.validateIsInitialized=function(){if(!this.isInitialized)throw new Error("This instance is not initialized yet.")},t}(),Cs=window&&window.__extends||(cs=function(t,i){return(cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}cs(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Is=function(n){function t(t){var i=n.call(this,t)||this;return t.formatItem.addHandler(i.formatItemExpCollapse,i),i}return Cs(t,n),t.prototype._hdrClick=function(t){},t.prototype.expanderMouseDown=function(t){n.prototype._hdrClick.call(this,t),t.stopPropagation()},t.prototype.expanderKeyDown=function(t){if(t.keyCode===Gn.kbEnterCode){var i=new MouseEvent(Gn.eventMouseDown,{view:window,cancelable:!0,button:0,buttons:1});t.target&&t.target.firstElementChild&&t.target.firstElementChild.dispatchEvent(i)}},t.prototype.formatItemExpCollapse=function(t,i){var n=this._g;if((this._mode==vn.grid.detail.DetailVisibilityMode.ExpandMulti||this._mode==vn.grid.detail.DetailVisibilityMode.ExpandSingle)&&i.panel!=n.columnHeaders&&1==i.col&&this._hasDetail(i.row)){var e=i.row<n.rows.length-1&&n.rows[i.row+1]instanceof vn.grid.detail.DetailRow,r=i.cell.querySelector(Gn.nestedGridExpanderClass);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&((r=document.createElement("span")).classList.add(Gn.nestedGridExpanderClass),r.addEventListener(Gn.eventMouseDown,this.expanderMouseDown.bind(this)),i.cell.getAttribute("IsListenerAttached")||(i.cell.setAttribute("IsListenerAttached","true"),i.cell.addEventListener(Gn.eventKeyDown,this.expanderKeyDown.bind(this))),i.cell.insertBefore(r,i.cell.firstChild),i.cell.classList.add(Gn.nestedGridCellClass),i.cell.classList.add(Gn.wijmoNestedGridExpanderCellClass)),r.classList.remove(e?Gn.nestedGridExpanderExpandClass:Gn.nestedGridExpanderCollapseClass),r.classList.add(e?Gn.nestedGridExpanderCollapseClass:Gn.nestedGridExpanderExpandClass),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.grid.activeEditor)||this.grid.selection.row!=i.row?r.classList.remove(Gn.nestedGridExpanderEditClass):r.classList.add(Gn.nestedGridExpanderEditClass)}},t}(vn.grid.detail.FlexGridDetailProvider),Qs=window&&window.__extends||(as=function(t,i){return(as=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}as(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Ms=function(a){function t(t,i,n){var e=a.call(this)||this;return e.factory=t,e.utils=i,e.client=n,e}return Qs(t,a),t.prototype.updateCell=function(t,i,n,e,r,s){a.prototype.updateCell.call(this,t,i,n,e,r,s);var o=e.hasAttribute(Gn.rowHeaderRowNumber)&&!e.classList.contains(Xn.groupClass),h=t.columns[n].binding;if(t.cellType==vn.grid.CellType.Cell&&"fullname"===h&&t.rows[i].dataItem){var c=t.rows[i].dataItem.sipValue;c&&new Tr(this.factory,this.utils,this.client).addPresence(e,c)}t.columns[n].name===Gn.btnHeaderColumnName&&e.setAttribute("aria-label",On.rowNavigationButtonTooltip),o&&this.resetPadding(t,i,n,e),this.applyFilterTooltip(t,n,e),qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName())&&this.applyHighDensityStyle(t,e)},t.prototype.applyHighDensityStyle=function(t,i){if(i.classList.contains(Xn.headerCSSClass))i.id===Gn.btnHeaderSelectColumnName?(i.style.setProperty(t.grid.rightToLeft?"padding-right":"padding-left","27px","important"),i.style.setProperty(t.grid.rightToLeft?"padding-left":"padding-right","0px","important")):(i.style.setProperty(t.grid.rightToLeft?"padding-left":"padding-right","0px","important"),i.style.setProperty(t.grid.rightToLeft?"padding-right":"padding-left","7px","important")),i.style.borderBottom=Gn.HeaderBorderBottomStyle;else if(i.classList.contains(Xn.detailCellCSSClass))i.style.setProperty(t.grid.rightToLeft?"margin-right":"margin-left","0px","important");else{var n=i.classList.contains(Xn.firstColumnStyle);t.grid.rightToLeft?(n?(i.style.setProperty("margin-right","20px","important"),i.style.setProperty("padding-right","10px","important"),i.style.setProperty("font-size","12px")):i.style.setProperty("padding-right","7px","important"),i.style.setProperty("padding-left","10px")):(n?(i.style.setProperty("margin-left","20px","important"),i.style.setProperty("padding-left","7px","important"),i.style.setProperty("font-size","12px")):i.style.setProperty("padding-left","7px","important"),i.classList.contains(Gn.nestedGridCellClass)?i.style.setProperty("padding-right","25px"):i.style.setProperty("padding-right","10px"))}i.style.paddingBottom="2px",i.style.paddingTop="2px",i.style.lineHeight="35px"},t.prototype.resetPadding=function(t,i,n,e){t.grid.rightToLeft?e.style.removeProperty("padding-right"):e.style.removeProperty("padding-left")},t.prototype.applyFilterTooltip=function(t,i,n){if(t.cellType==vn.grid.CellType.ColumnHeader&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columns[i].header)){var e=n.querySelector(".wj-elem-filter[role='button']");if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.classList)){var r=void 0;n.classList.contains(Xn.filterOffCSSClass)?r=On.columnUnfiltered:n.classList.contains(Xn.filterOnCSSClass)&&(r=On.columnFiltered),MscrmCommon.ControlUtils.String.isNullOrEmpty(r)||(e.title=MscrmCommon.ControlUtils.String.Format(r,t.columns[i].header))}}},t.prototype._getTreeIcon=function(t){var i=" wj-glyph-"+(t.isCollapsed?"":"down-")+(t.grid.rightToLeft?"left":"right");return'<span role="button" class="'+vn.grid.CellFactory._WJC_COLLAPSE+i+'" aria-expanded="'+!t.isCollapsed+'" aria-label="'+On.gridGroupRowText+'"></span>'},t}(vn.grid.CellFactory);(ls=us||(us={}))[ls.No=0]="No",ls[ls.Yes=1]="Yes";var Fs,ys=function(){function i(){}return Object.defineProperty(i,"YesString",{get:function(){return"yes"},enumerable:!0,configurable:!0}),Object.defineProperty(i,"NoString",{get:function(){return"no"},enumerable:!0,configurable:!0}),i.parseValue=function(t){switch(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?i.NoString:t.toLowerCase()){case i.YesString:return us.Yes;case i.NoString:return us.No;default:return null}},i}(),Rs=function(){function t(t){this.filter=t}return t.prototype.getOriginalGridFilter=function(){return this.filter},t.prototype.setFilterType=function(t){this.filter.filterType=t},t.prototype.setValueFilter=function(t){this.filter.valueFilter.uniqueValues=t},Object.defineProperty(t.prototype,"dataMap",{get:function(){return this.filter.column.dataMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this.filter.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isConditionFilter",{get:function(){return this.filter.conditionFilter.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValueFilter",{get:function(){return this.filter.valueFilter.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this.filter.column.dataType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this.filter.column.binding},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditionFilter",{get:function(){return this.filter.conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueFilter",{get:function(){return this.filter.valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterType",{get:function(){return this.filter.filterType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMultiSelectOptionSetFilter",{get:function(){return this.isMultiSelectOptionSetTypeFilter},set:function(t){this.isMultiSelectOptionSetTypeFilter=t},enumerable:!0,configurable:!0}),t}(),xs=function(){function n(){}return n.isCustomDropDownEditorColumn=function(t,i){return n.isWholeDropDownEditorColumn(t,i)||n.isBooleanDropDownEditorColumn(t,i)},n.isWholeDropDownEditorColumn=function(t,i){return t.dataType===vn.DataType.Number&&qn.isWholeOptionSet(i)},n.isBooleanDropDownEditorColumn=function(t,i){return t.dataType===vn.DataType.String&&i.attributes.type===Vn.twoOptions},n.isOptionSetDropDownEditorColumn=function(t,i){return t.dataType===vn.DataType.String&&i.attributes.type===Vn.optionset},n.hideOriginalEditor=function(t){var i=n.getOriginalEditor(t);i&&i.style&&(i.style.display="none"),n.removeOptionsetDropDown(t)},n.removeOptionsetDropDown=function(t){for(var i=0;i<t.children.length;i++){var n=t.children[i];if(MscrmCommon.ControlUtils.String.EqualsIgnoreCase(n.nodeName,"div")&&"wj-dropdown"in n.attributes){n.style.display="none";break}}},n.getOriginalEditor=function(t){for(var i=t.childNodes,n=0;n<i.length;n++)if(MscrmCommon.ControlUtils.String.EqualsIgnoreCase(i[n].nodeName,"input"))return i[n];return null},n}(),ks=function(t,i,n,e,r){this.type=t,this.label=i,this.value=n,this.tooltip=e,this.selected=r},Ss=["offsetWidth","offsetHeight"],Ys=["clientWidth","clientHeight","scrollTop","scrollLeft"],Ds=Ss.concat(Ys),Us="_propCache:",Ns=Us+"_cache",Ts=Us+"_updatedProps",Os=Us+"_canUse";function Hs(t){return t.hostElement[Os]}function zs(t,i,c,n){void 0===c&&(c=0);var e=!1;try{return e=function(s,t,o){if(s[Ns])return!1;if(!Fs){Fs={};for(var i=0,n=Ss;i<n.length;i++){var e=n[i];Fs[e]=Object.getOwnPropertyDescriptor(HTMLElement.prototype,e)}for(var r=0,h=Ys;r<h.length;r++){var c=h[r];Fs[c]=Object.getOwnPropertyDescriptor(Element.prototype,c)}}for(var a=Js(t),u=function(i){var r=Us+i;return{configurable:!0,get:function(){if(!s.hasOwnProperty(r))for(var t=0,i=a;t<i.length;t++){var n=i[t],e=Us+n;s[e]=o?o(s,n):Fs[n].get.apply(s),s[Ts]&&s[Ts].hasOwnProperty(n)&&(s[Ts][n]===s[e]?delete s[Ts][n]:s[e]=s[Ts][n])}return s[r]},set:function(t){t!==s[r]&&(s[r]=t,s[Ts]||(s[Ts]={}),s[Ts][i]=t)}}},l={},A=0,f=a;A<f.length;A++){var d=f[A];l[d]=u(d)}return Object.defineProperties(s,l),s[Ns]=!0}(t,c,n),i()}finally{e&&function(t,i){for(var n=0,e=Js(c);n<e.length;n++){delete t[h=e[n]],delete t[Us+h]}var r=t[Ts];if(r){for(var s=0,o=Object.keys(r);s<o.length;s++){var h;t[h=o[s]]=r[h]}delete t[Ts]}t[Ns]=!1}(t)}}function Js(t){switch(t){case 1:return Ss;case 2:return Ys}return Ds}var Gs,Vs,Ps="DependentOptionSetSgFCB",Ws=function(){function s(){}return s.getFilteredChildrenOptionValues=function(t,i,n){var e=[];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes.Options)){var r=t.attributes.ParentPicklistLogicalName,s=t.attributes.Options,o=n.records[i];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)){var h=o.getValue(r);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(h))for(var c=0;c<s.length;c++)s[c].ParentValues&&-1<s[c].ParentValues.indexOf(h)&&e.push(s[c].Value)}}return e},s.getFilteredChildrenOptionLabels=function(t,i,n,e){var r=[],s=this.getFilteredChildrenOptionValues(t,i,n);if(s){var o=e.dataMap;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.collectionView)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.collectionView.items)){r.push(o.collectionView.items[0].Label);for(var h=1;h<o.collectionView.items.length;h++)if(o.collectionView.items[h].Value&&!isNaN(o.collectionView.items[h].Value))for(var c=0;c<s.length;c++)o.collectionView.items[h].Value==s[c]&&r.push(o.collectionView.items[h].Label)}}return r},s.getToolTipString=function(t,i,n){var e=null;if(!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.dataSet)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.dataSet.dependentOptionSetColumnStatus)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.dataSet.dependentOptionSetColumnStatus[i.name])))if(0===n.dataSet.dependentOptionSetColumnStatus[i.name])e=On.dependentOptionSetIncompleteChain;else if(null!==i.attributes.ParentPicklistLogicalName&&1===n.dataSet.dependentOptionSetColumnStatus[i.name]){var r=t.getValue(i.attributes.ParentPicklistLogicalName),s=qn.getDatasetColumnByName(n.columns,i.attributes.ParentPicklistLogicalName);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)){var o=s.displayName;e=MscrmCommon.ControlUtils.String.Format(On.dependentOptionSetSelectParent,o)}}return e},s.isDependentOptionSet=function(t){return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes)||t.attributes.type!==Vn.optionset&&t.attributes.type!==Vn.multiSelectOptionset||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes.childPicklistLogicalNames)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.attributes.parentPicklistLogicalName))},s.isUCIWithDependentOptionSetFeatureEnabledColumn=function(t){return qn.contextUtils.isFeatureEnabled(Ps)&&qn.isUci()&&this.isDependentOptionSet(t)},s.isValidChildOption=function(t,i,n,e){for(var r=!1,s=0;s<n.length;s++)t.collectionView.items[e].Value==n[s]&&(r=!0);return r},s.getToolTipForDependentOptionSetColumns=function(t,i,n,e){var r=null;return!qn.isUci()&&n?r=On.dependentOptionSetIncompleteChain:qn.isUci()&&n&&(r=s.getToolTipString(t,i,e)),r},s}(),Ls=function(){function s(t,i,n,e,r,s,o,h,c,a,u,l,A,f,d,g,w,m,b,v,p,E){var B=this;this.isControlDisabled=!1,this.hideNestedGridColumnHeader=us.No,this.raiseClickEvent=function(t){return B.clickEvent.raise(B,t)},this.raiseDblClickEvent=function(t){return B.dblClickEvent.raise(B,t)},this.raiseMouseDownEvent=function(t){return B.mouseDownEvent.raise(B,t)},this.raiseMouseMoveEvent=function(t){return B.mouseMoveEvent.raise(B,t)},this.raiseMouseLeaveEvent=function(t){return B.mouseLeaveEvent.raise(B,t)},this.raiseKeyDownEvent=function(t){return B.keyDownEvent.raise(B,t)},this.raiseTouchStartEvent=function(t){return B.touchStartEvent.raise(B,t)},this.raiseTouchEndEvent=function(t){return B.touchEndEvent.raise(B,t)},this.raiseTouchMoveEvent=function(t){return B.touchMoveEvent.raise(B,t)},this.highlightedRow=-1,this.hasKeyboardSupport=!1,this.noRecordsDebounce=0,this.filterDisabledColumns=[Gn.btnHeaderColumnName,Gn.btnHeaderSelectColumnName],this.telemetrySubComponentName="WijmoGridComponent",this.handleHighlightRecordMouseMove=function(t,i){var n=B.hitTest(i),e=n.cellType===vn.grid.CellType.Cell,r=n.cellType===vn.grid.CellType.RowHeader&&0==n.col;if(e||r){if(B.highlightedRow!==n.row&&B.hideHighlightedRow(),!qn.isUci()||!B.isRowSelected(n.row)){B.highlightedRow=n.row;var s=qn.isUci()?B.theming.colors.basecolor.grey.grey3:Gn.gridRowHoverColor;B.setRowBackground(B.highlightedRow,s)}}else B.hideHighlightedRow()},this.handleHighlightRecordMouseLeave=function(t,i){B.hideHighlightedRow()},this.onCollectionChangedEventHandler=function(t,i){B.collectionChangedEvent.hasHandlers&&B.collectionChangedEvent.raise(B,vn.EventArgs.empty)},this.defaultDropDownSelectedIndexChangeHandler=function(){var t=B.gridControl.activeEditor;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){t.value=B.gridControl._edtHdl._lbx.selectedValue;var i=B.gridControl.columns[B.selection.col],n=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?MscrmCommon.ControlUtils.String.Empty:i.header;B.ariaLiveRegionService.sendPoliteCellValueMessage(B.activeListBox.getDisplayText(B.activeListBox.selectedIndex),n)}},this.defaultDropDownKeydownHandler=function(t){var i;wr.isKeyCode(t,Gn.kbArrowUpCode)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeEditor)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeListBox)||(i=B.activeListBox.itemsSource.length,B.activeListBox.selectedIndex=(B.activeListBox.selectedIndex-1+i)%i,wr.stopEventPropagation(t))),wr.isKeyCode(t,Gn.kbArrowDownCode)&&(t.altKey?MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeListBox)&&B.toggleDropDown(B.selection):MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeEditor)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.activeListBox)||(i=B.activeListBox.itemsSource.length,B.activeListBox.selectedIndex=(B.activeListBox.selectedIndex+1)%i),wr.stopEventPropagation(t))},this.displayCellEditErrorHandler=function(t,i){if(t.panel.cellType===vn.grid.CellType.Cell){var n=t.panel.grid.getCellData(t.row,0,!1),e=t.col===qn.firstInformativeColumnIndex,r=B.errorHandlingService.getCellEncodedErrorMessage(n,i.binding,e);if(!MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(r)){vn.setAttribute(t.cell,Gn.ariaInvalid,!0);var s=document.createElement("div");t.cell.insertBefore(s,t.cell.firstChild),vn.toggleClass(s,Xn.errorIndicatorCSSClass,!0);var o=t.cell.id+Gn.cellErrorMessagePostfix;MscrmCommon.ControlUtils.Object.isNullOrUndefined(document.getElementById(o))&&qn.createCellAccessibilityMessage(r,t.cell,o).setAttribute(Gn.role,"alert"),s.addEventListener(Gn.eventMouseDown,function(t){var i=new vn.Tooltip;i.isContentHtml=!0,wr.stopEventPropagation(t),i.popup.addHandler(function(){B.ariaLiveRegionService.sendAssertiveMessage(r)}),i.show(s,r)})}}},this.cellEditorHandler=function(t,i,n,e){var r=B.gridControl.editRange,s=B.validations[i.binding];if(!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.attributes)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||t.panel.cellType!==vn.grid.CellType.Cell||r.row!==t.row||r.col!==t.col)){if(!0===Ws.isUCIWithDependentOptionSetFeatureEnabledColumn(n)&&null!==n.attributes.parentPicklistLogicalName){var o=t.panel.grid.getCellData(t.row,0,!1);i.dataMap.getDisplayValues=function(t){return Ws.getFilteredChildrenOptionLabels(n,o,B.dataSetService,i)}}if(B.typeProcessorService.useOriginalEditor(n)){var h=xs.getOriginalEditor(t.cell);Object.keys(s).forEach(function(t){h.setAttribute(t.toString(),s[t])}),B.hasKeyboardSupport&&!xs.isCustomDropDownEditorColumn(i,n)&&h.addEventListener(Xn.eventKeyDown,B.defaultDropDownKeydownHandler)}else{xs.hideOriginalEditor(t.cell);var c=t.panel.grid.getCellData(t.row,t.col,!1),a=i.dataType,u=n.attributes.format,l=n.attributes.type,A=n.dataType;switch(a){case vn.DataType.Date:new ns(B.gridControl,t,c,u,n.attributes.behavior,B.timeZoneService,e.dateFormattingInfo);break;case vn.DataType.Number:if(l===Vn.whole&&MscrmCommon.ControlUtils.String.EqualsIgnoreCase(u,Vn.formatDuration))new rs(B.gridControl,t,c,B.client);else if(qn.isWholeOptionSet(n))new Es(B.gridControl,t,n,c,B.ariaLiveRegionService);else{var f=null,d=B.dataSetService.dataSet.getSelectedRecord();l!==Vn.currency||MscrmCommon.ControlUtils.Object.isNullOrUndefined(d)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(d.getCurrencyDecimalPrecision)||(f=d.getCurrencyDecimalPrecision(n)),new bs(B.gridControl,t,B.numberEditorKeyboardValue||c,i,s,f)}break;case vn.DataType.String:switch(l){case Vn.twoOptions:new is(B.gridControl,t,c,n,B.ariaLiveRegionService);break;case Vn.multiple:new vs(B.gridControl,t,c,i,u,s);break;case Vn.singleLine:MscrmCommon.ControlUtils.String.EqualsIgnoreCase(u,Vn.formatTextArea)&&new vs(B.gridControl,t,c,i,u,s)}break;case vn.DataType.Array:switch(l){case Vn.multiSelectOptionset:var g=t.panel.grid.getCellData(t.row,0,!1),w=B.getDataForMultiSelectPickListEditor(i,g),m=qn.isDesktop(B.client.formFactor);new ms(B.gridControl,t,w,m,B.isControlDisabled)}break;case vn.DataType.Object:MscrmCommon.ControlUtils.String.EqualsIgnoreCase(A,Vn.dataTypeLookupSimple)&&new ws(t,c,i,new js(B.perfTool),B.dataSetService.dataSet,B.htmlEncode,B.navigationService,B.ariaLiveRegionService,B.perfTool)}}}},this.openFilterEditorHandler=function(t,i){var n=new vn.grid.HitTestInfo(i.target,null),e=B.isEditable?2:1;-1===n.row&&1<n.col&&n.col<=B.columns.length-e&&!i.shiftKey&&!i.altKey&&!i.metaKey&&i.keyCode===Gn.kbSpaceCode&&(i.preventDefault(),i.stopImmediatePropagation(),B.openFilterEditor(n.col))},this.focusColumnHeaderHandler=function(t){var i=new vn.grid.HitTestInfo(t.target,null),n=B.gridColumnHeaders.getCellElement(0,i.col);B.client&&B.client.userAgent&&B.client.userAgent.isBrowserIE?vn.setCss(n,{border:"dotted 1px"}):vn.setCss(n,{outline:"dotted 1px",outlineOffset:"-1px"})},this.blurColumnHeaderHandler=function(t){var i=new vn.grid.HitTestInfo(t.target,null),n=B.gridColumnHeaders.getCellElement(0,i.col);B.client&&B.client.userAgent&&B.client.userAgent.isBrowserIE?vn.setCss(n,{border:"none"}):vn.setCss(n,{outline:"none"})},this.applyAriaLabelsToRows=function(){var t=B.cells.hostElement.querySelectorAll("[role=row]");if(t&&t.length)for(var i=0;i<t.length;i++){var n=t[i];n&&!n.hasAttribute("aria-label")&&n.setAttribute("aria-label",0===i?On.gridHeaderRowText:On.gridDataRowText)}},this.updatedViewHandler=function(){var t=B.cells.hostElement.querySelectorAll("[role=columnheader]"),i=Hs(B.gridControl)?Xn.defaultMinRowHeight:B.gridControl.columnHeaders.hostElement.parentElement.offsetHeight,n=B.gridControl.scrollPosition.y,e=B.gridColumnHeaders,r=B.gridColumnHeaders.hostElement;B.isGridHighDensityEnabled?r&&qn.userSettings.isHighContrastEnabled&&vn.setCss(r,{border:"1px solid transparent"}):r&&vn.setCss(r,{border:"1px solid transparent"});var s=e.hostElement.parentElement;s&&(s.hasAttribute(Gn.role)||s.setAttribute(Gn.role,"presentation")),t.length&&(t[0].setAttribute(Gn.ariaLabel,On.selectAllButtonAccessibilityLabel),t[0].setAttribute("title",On.selectAllButtonAccessibilityLabel));for(var o=0;o<t.length;o++){vn.setCss(t[o],{position:"",top:-(n+i),height:i,opacity:0,pointerEvents:"auto"});var h=t[o];h.setAttribute("tabIndex","0"),h.addEventListener("focus",B.focusColumnHeaderHandler),h.addEventListener("blur",B.blurColumnHeaderHandler),B.isEditable&&o==t.length-1&&h.setAttribute("tabIndex","-1")}B.applyAriaLabelsToRows()},this.formatCellDisplayValue=function(t,i){if(i.isVisible&&t.panel.cellType===vn.grid.CellType.Cell&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.gridControl.activeEditor)||t.cell!==B.gridControl.activeEditor.parentElement)){var n=B.gridControl.getCellData(t.row,0,!1);MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||B.formatDisplayValue(B.dataSetService.records[n],n,t,i)}},this.applyCellStyleFormat=function(t,i){if(0<=i.row&&1===i.col&&B.gridControl.columnHeaders!=i.panel){var n=B.gridControl.rows[i.row];i.cell.setAttribute(Gn.rowHeaderRowNumber,i.row.toString()),n instanceof vn.grid.GroupRow?(n.isSelected=!1,i.cell.classList.add(Gn.groupHeaderCellClass)):i.cell.classList.add(Gn.appBarClass),B.applyCellSelectionStyle(n,i.cell),i.cell.removeAttribute("aria-readonly"),i.cell.removeAttribute("aria-required")}i.cell.classList.contains(Xn.headerCSSClass)||(i.cell.setAttribute(Gn.dataId,"cell-"+i.row+"-"+i.col),i.cell.setAttribute(Gn.cellId,B.containerService.getContainerId()+"-id-cell-"+i.row+"-"+i.col),qn.isSelectAllBtnHeaderColumn(B.getColumnName(i.col))&&B.cells&&B.cells.hostElement&&B.cells.hostElement.firstElementChild&&B.cells.hostElement.firstElementChild.firstChild&&B.cells.hostElement.firstElementChild.firstChild.removeAttribute("aria-required"))},this.applyNonSelectableCellStyleFormat=function(t,i){i.cell.setAttribute(Gn.tabIndex,"-1")},this.applyColumnHeaderFormat=function(r,s){var t=s.panel;if(t.cellType===vn.grid.CellType.ColumnHeader){var o=s.col,i=B.getColumnName(o),n=r.getColumn(i).allowSorting;if(s.cell.id=i,s.cell.title=s.cell.textContent,s.cell.id!==Gn.btnHeaderSelectColumnName)if(qn.isUci()){var e=B.theming.colors.basecolor.blue.blue4,h="",c="",a="";B.isGridHighDensityEnabled&&(e=Gn.HighDensityFontColor,h=";font-size:12px",c=t&&t.grid&&t.grid.rightToLeft?";padding:0px;top:1px;float:left;margin-left:10px;":";padding:0px;top:1px;float:right;margin-right:14px;",a=";width: calc(100% - 36px);");var u=s.cell.textContent;B.isEditable&&B.columnHasFilter(t.columns[s.col])?(s.cell.innerHTML='<div class="grid-filter-button-container" style="color:'+e+h+c+'; opacity: 1">',s.cell.innerHTML+='<div class="headerCaption" style= "color:'+e+h+a+'; opacity: 1;">'+u+"</div>"):s.cell.innerHTML='<div class="headerCaption" style= "color:'+e+h+a+'; opacity: 1">'+u+"</div>",!B.isEditable&&n&&(s.cell.innerHTML='<div class="grid-filter-button-container" style="color:'+e+h+c+'"></div><div class="grid-header-text" style="color:'+e+h+a+'">'+s.cell.textContent+"</div>",B.isGridHighDensityEnabled||(s.cell.innerHTML+='<div class="columnSeparator">&nbsp;</div>'))}else s.cell.innerHTML='<div class="headerCaption">'+s.cell.textContent+"</div>";else s.cell.addEventListener(Gn.eventMouseDown,B.selectAllButtonMouseHandler);B.hasKeyboardSupport&&s.cell.addEventListener(Xn.eventKeyDown,function(t){if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))if(wr.isKeyCode(t,Gn.kbTabCode));else if((wr.isKeyCode(t,Gn.kbSpaceCode)||wr.isKeyCode(t,Gn.kbEnterCode))&&s.cell.id!==Gn.btnHeaderSelectColumnName){var i=new vn.grid.CellRangeEventArgs(s.panel,new vn.grid.CellRange(s.row,o));B.sortingColumn.raise(r,i)}else if(wr.isKeyCode(t,Gn.kbArrowDownCode)){var n=B.gridControl.cells.getCellElement(0,o);B.focusElement(n),B.gridControl.select(0,o),t.preventDefault()}else if(wr.isKeyCode(t,Gn.kbArrowLeftCode)){var e=B.gridColumnHeaders.getCellElement(B.gridColumnHeaders.rows.length-1,o-1);MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||(B.focusElement(e),t.preventDefault())}else wr.isKeyCode(t,Gn.kbArrowRightCode)&&(e=B.gridColumnHeaders.getCellElement(B.gridColumnHeaders.rows.length-1,o+1),MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||(B.focusElement(e),t.preventDefault()))});var l=document.createElement("div");l.className="columnSeparator",B.isGridHighDensityEnabled&&(l.style.setProperty("border-right","1px solid #C4C4C4","important"),l.style.height="20px",l.style.opacity="1",l.innerHTML="&nbsp;"),s.cell.appendChild(l)}},this.applyEditableGridButtonsAreaHeader=function(t){var i=$(B.gridControl.hostElement).find('div[wj-part="ch"]');if(0!==i.length&&0===i.children(MscrmCommon.ControlUtils.String.Format(".{0}",Gn.headerButtonsClass)).length){var n=document.createElement("div");n.classList.add(Gn.headerButtonsClass),MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.saveBtn)||(n.appendChild(B.saveBtn),i[0].removeAttribute("aria-hidden")),!qn.isUci()&&qn.isDesktop(t)&&n.appendChild(B.refreshBtn),B.isGridHighDensityEnabled&&(n.style.height="35px"),i.append(n)}},this.applySelectAllButtonAreaHeader=function(t,i){if(i.cellType===vn.grid.CellType.ColumnHeader&&0==i.cell.children.length){if(i.cell.title=MscrmCommon.ControlUtils.String.Empty,i.cell.innerText=MscrmCommon.ControlUtils.String.Empty,0!==$(i.cell).children(MscrmCommon.ControlUtils.String.Format(".{0}",Gn.headerButtonsLeftClass)).length)return;var n=document.createElement("div");n.classList.add(Gn.headerButtonsLeftClass),MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.selectAllBtn)||(B.selectAllBtn.tabIndex=-1,n.appendChild(B.selectAllBtn)),$(i.cell).append(n)}},this.fixWordWrapColumnHeaderStyle=function(t){t.panel.cellType===vn.grid.CellType.ColumnHeader&&vn.toggleClass(t.cell,Xn.wordWrapCSSClass,!1)},this.applyColumnHeaderSortingStyle=function(t){var i=t.panel;if(i.cellType===vn.grid.CellType.ColumnHeader){var n=i.columns[t.col],e=B.sortingInfo(i,n);if(e){var r="",s=B.hiddenGridColumnHeaders&&B.hiddenGridColumnHeaders[t.col-1];0==e.sortDirection?(vn.toggleClass(t.cell,"wj-sort-asc",!0),r="wj-glyph-up",s&&s.setAttribute(Gn.ariaSort,"ascending")):1==e.sortDirection&&(vn.toggleClass(t.cell,"wj-sort-desc",!0),r="wj-glyph-down",s&&s.setAttribute(Gn.ariaSort,"descending"));var o=B.htmlEncode(n.header),h="",c=qn.isUci()?"color:"+B.theming.colors.basecolor.blue.blue4+"; opacity: 1;":"",a=c,u="",l="";B.isGridHighDensityEnabled&&(c="color:"+Gn.HighDensityFontColor+"; opacity: 1;font-size:12px",i.grid.rightToLeft?(a="color:black;left:32px;opacity: 1;font-size:12px",l=";float:left",u=";padding:0px;top:1px;float:left;margin-left:14px;"):(a="color:black;right:7px;opacity: 1;font-size:12px",u=";padding:0px;top:1px;float:right;margin-right:14px;"));var A=B.columnHasFilter(n.binding);B.gridFilter&&A&&(h+='<div class="grid-filter-button-container" style="'+c+u+'"></div>'),h+='<div class="grid-header-text" style="'+c+l+'">'+o+"</div>",h+='<div class="'+r+'" style="'+a+'"></div>',h+=B.getColumnSeparator(),t.cell.innerHTML=h}}},this.applyRollupColumnsFormat=function(t,i){if(i.panel.cellType===vn.grid.CellType.Cell){var n=i.panel.columns[i.col];if(0<=B.dataSetService.rollupColumns.indexOf(n.binding)){var e=i.cell;if(0===e.getElementsByTagName("div").length){var r=i.panel.rows[i.row],s=new MscrmCommon.ArrayQuery(B.dataSetService.columns).firstOrDefault(function(t){return t.name===n.binding}),o=B.typeProcessorService.getValue(B.dataSetService.records[r.dataItem.recId],s,n.binding+"_date",!0);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)){var h,c=MscrmCommon.ControlUtils.String.Format("{0} {1}",On.rollupLastUpdatedLabel,o);!qn.isUci()&&qn.isDesktop(B.client.formFactor)?((h=document.createElement("span")).title=c,h.className=Gn.rollupIconClass,e.insertBefore(h,e.firstChild)):((h=document.createElement("div")).textContent=c,h.className=Gn.rollupDateClass,e.appendChild(h))}}}}},this.applyFilterButtonStyles=function(){for(var t=B.gridColumnFilterButtons,i=0;i<t.length;i++)t[i].style.position="relative",t[i].style.cssFloat=B.client.isRTL?"left":"right",B.isGridHighDensityEnabled&&(t[i].style.fontSize="12px",t[i].style.height="35px")},this.beginningEditHandler=function(t,i){if(!i.cancel){MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.saveBtn)||(B.saveBtn.disabled=!1);var n=i.data;if(B.numberEditorKeyboardValue=null,n&&n instanceof KeyboardEvent&&n.charCode&&!n.ctrlKey&&!n.metaKey){var e=String.fromCharCode(n.charCode);B.numberEditorKeyboardValue="0"<=e&&e<="9"?+e:e}}},this.prepareCellForEditHandler=function(t,i){var n=B.gridControl.cells.getCellElement(i.row,i.col);n.style.paddingTop="0px",n.style.paddingBottom="0px";var e=n.lastChild;B.client.isRTL?(e.style.paddingRight="10px !important",e.style.paddingLeft="3px"):e.style.paddingRight="3px",e.style.background="white";var r=n.getElementsByClassName(Xn.errorIndicatorCSSClass);r&&1==r.length&&(r[0].style.display="none")},this.cellEditEndingHandler=function(t,i){var h=B.getCellData(i.row,i.col,!1),c=i.panel.grid.getCellData(i.row,0,!1),a=i.panel.columns[i.col].binding,u=i.panel.columns[i.col].dataType,l=function(t,i){B.cellEditEnded.removeHandler(l);var n=i.panel.grid.getCellData(i.row,i.col,!1);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.dataSetService.records[c]))B.onCellEditProcessed(i);else{var e=h===n,r=null==h&&null==n;if(u==vn.DataType.Array&&(e=B.compareArrayValues(n,h)),e||r)B.onCellEditProcessed(i);else{var s=new MscrmCommon.ArrayQuery(B.dataSetService.columns).firstOrDefault(function(t){return t.name===a}),o=B.typeProcessorService.buildDatasetValue(s.attributes.type,s,n);B.dataSetService.submitValue(c,a,o),B.onCellEditProcessed(i)}}},n=function(t,i){B.cellEditEnded.removeHandler(n),B.onCellEditProcessed(i)};B.cellEditEnded.addHandler(i.cancel?n:l)},this.focusElement=function(t){if(t){var i=t.tabIndex;t.tabIndex=0,t.focus(),t.tabIndex=i}},this.saveButtonMouseHandler=function(t){B.saveButtonAction()},this.saveButtonKeyboardHandler=function(t){(wr.isKeyCode(t,Gn.kbEnterCode)||wr.isKeyCode(t,Gn.kbSpaceCode))&&(B.saveButtonAction(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.refreshBtn)?B.selectLastColumnHeader():B.refreshBtn.focus()),wr.isKeyCode(t,Gn.kbArrowDownCode)&&B.selectFirstRowLastDataColumn(),wr.isKeyCode(t,Gn.kbArrowRightCode)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.refreshBtn)||B.refreshBtn.focus()),wr.isKeyCode(t,Gn.kbArrowLeftCode)&&B.selectLastColumnHeader()},this.selectAllButtonMouseHandler=function(t){B.selectAllButtonAction()},this.refreshButtonMouseHandler=function(t){B.refreshButtonAction()},this.refreshButtonKeyboardHandler=function(t){(wr.isKeyCode(t,Gn.kbEnterCode)||wr.isKeyCode(t,Gn.kbSpaceCode))&&B.refreshButtonAction(),wr.isKeyCode(t,Gn.kbArrowDownCode)&&B.selectFirstRowLastDataColumn(),wr.isKeyCode(t,Gn.kbArrowLeftCode)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(B.saveBtn)||B.saveBtn.disabled?B.selectLastColumnHeader():B.saveBtn.focus())},this.cleanupAttributes=function(t){var i=B.gridControl.cells.getCellElement(0,qn.firstInformativeColumnIndex);B.gridControl.selection&&B.gridControl.selection.isValid&&(i=B.gridControl.cells.getCellElement(B.gridControl.selection.row,B.gridControl.selection.col)),i&&(i.tabIndex=0);var n=t.hostElement.querySelector("[wj-part=focus]");n&&n.removeAttribute("tabindex")},this.sortingInfo=function(t,i){for(var n=B.dataSetService.dataSet.sorting,e=0;e<n.length;++e)if(n[e].name===i.binding)return n[e];return null},this.gridControl=t,this.utils=i,this.client=n,this.offline=e,this.mode=r,this.containerService=s,this.typeProcessorService=o,this.timeZoneService=h,this.errorHandlingService=c,this.dataSetService=a,this.dataAdapterService=u,this.htmlEncode=l,this.navigationService=A,this.ariaLiveRegionService=d,this.learningPathService=g,this.fieldFactory=w,this.factory=v,this.utils=i,this.validations={},this.collectionChangedEvent=new vn.Event,this.cellEditProcessedEvent=new vn.Event,this.theming=f,this.msosDataMaps={},this.perfTool=m,this.gridTelemetry=b,this.nativeFilterExpressionToRestore=p,this.lookupAttributeNameForHierarchicalRelationship=E}return s.prototype.init=function(){var t=this;this.gridControl.autoGenerateColumns=!1,this.isGridHighDensityEnabled=qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName()),this.getIndexedValue(this.gridControl.columnHeaders.rows,0).height=Xn.defaultMinRowHeight,this.gridControl.rows.defaultSize=Xn.defaultMinRowHeight,this.gridControl.treeIndent=Gn.treeIndent,this.gridControl.cellFactory=new Ms(this.factory,this.utils,this.client),this.updatedView.addHandler(this.updatedViewHandler),this.keyDown.addHandler(this.openFilterEditorHandler),this.cleanupAttributes(this.gridControl),this.gridControl.updatedLayout.addHandler(function(){t.cleanupAttributes(t.gridControl)}),this.gridControl.lostFocus.addHandler(function(){t.cleanupAttributes(t.gridControl)}),Hs(this.gridControl)?this.gridControl.selection.setRange():this.gridControl.selection=new vn.grid.CellRange,this.initAccessibilityExtender(),this.subscribeMouseEvents(),this.noRecordsDiv=this.containerService.noRecordsDiv,this.initCalendarCulture(),this.initHeaderButtons(),this.msosDataMaps={}},s.prototype.disableDefaultEnterHandler=function(){this.gridControl.hostElement.parentElement.addEventListener("keydown",function(t){t.keyCode==Gn.kbEnterCode&&t.preventDefault()},!0)},s.prototype.enableTreeView=function(){this.gridControl.childItemsPath="children"},s.prototype.enableTreeViewEditing=function(){for(var t=0;t<this.gridControl.rows.length;t++)this.gridControl.rows[t].isReadOnly=!1},s.prototype.toggleDropDown=function(t){if(!(this.selection.col<=0||this.selection.col>this.dataSetService.columns.length)){var i=this.getColumnByName(this.getColumnName(this.selection.col)),n=qn.getDatasetColumnByName(this.dataSetService.dataSet.columns,i.binding);if(xs.isOptionSetDropDownEditorColumn(i,n)&&(this.gridControl._edtHdl._toggleListBox(t),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.activeListBox)||(this.activeListBox.selectedIndexChanged.removeAllHandlers(),this.activeListBox.selectedIndexChanged.addHandler(this.defaultDropDownSelectedIndexChangeHandler))),xs.isCustomDropDownEditorColumn(i,n)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.activeEditor)){this.startEditing();var e=vn.input.Menu.getControl(document.activeElement);MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||(e.isDroppedDown=!0)}}},Object.defineProperty(s.prototype,"activeListBox",{get:function(){return this.gridControl._edtHdl._lbx},enumerable:!0,configurable:!0}),s.prototype.setRecordReadOnly=function(t,i){var n=MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.collectionView)?void 0:this.gridControl.collectionView.items;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&0!==n.length)for(var e=0;e<n.length;e++)if(n[e].recId===t){this.gridControl.rows[e].isReadOnly=i;break}},s.prototype.setRefreshBtnDisabled=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.refreshBtn)||(this.refreshBtn.disabled=t)},s.prototype.enableMultiSelection=function(){this.gridControl.selectionMode=vn.grid.SelectionMode.ListBox},s.prototype.disableMultiSelection=function(){this.gridControl.selectionMode=vn.grid.SelectionMode.Row},s.prototype.initializeColumns=function(t){var i=this;t.forEach(function(t){qn.isUci()&&i.isEditable&&(t.name==Gn.btnHeaderSelectColumnName?t.width=qn.getHeaderSelectColumnWidth(t):t.name==Gn.btnHeaderColumnName&&(t.minWidth=qn.getHeaderColumnWidth(t))),i.gridControl.columns.push(t),qn.isBtnHeaderColumn(t.name)&&i.applyEditableGridButtonsAreaHeader(i.client.formFactor)})},s.prototype.setWijmoColumnWidth=function(t){var i=this.gridControl.columns;for(var n in t){var e=this.getColumnIndex(n);if(-1!==e){var r=i[e],s=t[n];r.width=s,r.size=s}}},s.prototype.initializeFiltering=function(){var n=this;this.gridFilter=new vn.grid.filter.FlexGridFilter(this.gridControl),this.gridFilter.showSortButtons=!1,this.gridFilter.filterColumns=[],this.gridControl.columns.forEach(function(t){var i=t.binding;n.columnHasFilter(i)&&n.gridFilter.filterColumns.push(i)}),qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&!MscrmCommon.ControlUtils.String.isNullOrEmpty(this.nativeFilterExpressionToRestore)&&(this.gridFilter.filterDefinition=this.nativeFilterExpressionToRestore),this.initializeLocale(),this.saveCurrentFilter()},s.prototype.columnHasFilter=function(t){return-1==this.filterDisabledColumns.indexOf(t)},s.prototype.initializeLocale=function(){vn.culture.FlexGridFilter.ascending=dr.filterAscendingLabel,vn.culture.FlexGridFilter.descending=dr.filterDescendingLabel,vn.culture.FlexGridFilter.apply=dr.filterApplyLabel,vn.culture.FlexGridFilter.cancel=dr.filterCancelLabel,vn.culture.FlexGridFilter.clear=dr.filterClearLabel,vn.culture.FlexGridFilter.conditions=dr.filterByConditionLabel,vn.culture.FlexGridFilter.values=dr.filterByValueLabel,vn.culture.FlexGridFilter.search=dr.valueFilterSearchLabel,vn.culture.FlexGridFilter.selectAll=dr.valueFilterSelectAllLabel,vn.culture.FlexGridFilter.null=dr.valueFilterNullLabel,vn.culture.FlexGridFilter.header=dr.conditionFilterHeaderLabel,vn.culture.FlexGridFilter.and=dr.conditionFilterAndLabel,vn.culture.FlexGridFilter.or=dr.conditionFilterOrLabel,vn.culture.FlexGridFilter.stringOperators=[{name:dr.conditionFilterOperatorNotSetLabel,op:null},{name:dr.conditionFilterOperatorEqualsLabel,op:vn.grid.filter.Operator.EQ},{name:dr.conditionFilterOperatorDoesNotEqualLabel,op:vn.grid.filter.Operator.NE},{name:dr.conditionFilterOperatorBeginsWithLabel,op:vn.grid.filter.Operator.BW},{name:dr.conditionFilterOperatorEndsWithLabel,op:vn.grid.filter.Operator.EW},{name:dr.conditionFilterOperatorContainsLabel,op:vn.grid.filter.Operator.CT}],vn.culture.FlexGridFilter.numberOperators=[{name:dr.conditionFilterOperatorNotSetLabel,op:null},{name:dr.conditionFilterOperatorEqualsLabel,op:vn.grid.filter.Operator.EQ},{name:dr.conditionFilterOperatorDoesNotEqualLabel,op:vn.grid.filter.Operator.NE},{name:dr.conditionFilterOperatorGreaterLabel,op:vn.grid.filter.Operator.GT},{name:dr.conditionFilterOperatorGreaterOrEqualLabel,op:vn.grid.filter.Operator.GE},{name:dr.conditionFilterOperatorLessLabel,op:vn.grid.filter.Operator.LT},{name:dr.conditionFilterOperatorLessOrEqualLabel,op:vn.grid.filter.Operator.LE}],qn.isDisruptiveFeatureEnabledOnAllClients(qn.getGridColumnFilterParityPhase1FCB())?vn.culture.FlexGridFilter.dateOperators=[{name:dr.conditionFilterOperatorNotSetLabel,op:null},{name:dr.conditionFilterOperatorOnLabel,op:vn.grid.filter.Operator.EQ},{name:dr.conditionFilterOperatorOnOrBeforeLabel,op:vn.grid.filter.Operator.LE},{name:dr.conditionFilterOperatorOnOrAfterLabel,op:vn.grid.filter.Operator.GE}]:vn.culture.FlexGridFilter.dateOperators=[{name:dr.conditionFilterOperatorNotSetLabel,op:null},{name:dr.conditionFilterOperatorEqualsLabel,op:vn.grid.filter.Operator.EQ},{name:dr.conditionFilterOperatorIsBeforeLabel,op:vn.grid.filter.Operator.LT},{name:dr.conditionFilterOperatorIsAfterLabel,op:vn.grid.filter.Operator.GT}],vn.culture.FlexGridFilter.booleanOperators=[{name:dr.conditionFilterOperatorNotSetLabel,op:null},{name:dr.conditionFilterOperatorEqualsLabel,op:vn.grid.filter.Operator.EQ},{name:dr.conditionFilterOperatorDoesNotEqualLabel,op:vn.grid.filter.Operator.NE}]},s.prototype.updateColumns=function(i){var n=this;Object.keys(i).forEach(function(t){n.updateColumn(t,i[t])})},s.prototype.createGridDetail=function(t,i,n){this.detailProvider=new Is(this.gridControl),this.detailProvider.maxHeight=400,this.detailProvider.createDetailCell=t,this.detailProvider.rowHasDetail=i,this.detailProvider.disposeDetailCell=n},s.prototype.showDetailGrid=function(t){this.detailProvider&&this.detailProvider.showDetail(t,!0)},s.prototype.hideDetailGrid=function(t){this.detailProvider.hideDetail(t)},s.prototype.render=function(t){this.setItemsSource(t),this.switchNoRecordsLabelVisibility()},s.prototype.initCalendarCulture=function(){vn.culture.Globalize.calendar.months=this.client.dateFormattingInfo.MonthNames,vn.culture.Globalize.calendar.monthsAbbr=this.client.dateFormattingInfo.AbbreviatedMonthNames,vn.culture.Globalize.calendar.days=this.client.dateFormattingInfo.DayNames,vn.culture.Globalize.calendar.daysAbbr=this.client.dateFormattingInfo.AbbreviatedDayNames,vn.culture.Globalize.calendar.am=[this.client.dateFormattingInfo.AMDesignator,this.client.dateFormattingInfo.AMDesignator],vn.culture.Globalize.calendar.pm=[this.client.dateFormattingInfo.PMDesignator,this.client.dateFormattingInfo.PMDesignator]},s.prototype.initHeaderButtons=function(){this.isEditable?MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)&&(this.saveBtn=this.createHeaderButton(On.saveButtonLabel,Gn.headerBtnSaveClass,this.saveButtonMouseHandler,this.saveButtonKeyboardHandler,!0)):MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.removeEventListener(Gn.eventMouseDown,this.saveButtonMouseHandler),this.saveBtn.removeEventListener(Xn.eventKeyDown,this.saveButtonKeyboardHandler),this.saveBtn=null),!qn.isUci()&&qn.isDesktop(this.client.formFactor)&&(this.refreshBtn=this.createHeaderButton(On.refreshButtonLabel,Gn.headerBtnRefreshClass,this.refreshButtonMouseHandler,this.refreshButtonKeyboardHandler)),this.selectAllBtn=this.createHeaderButton(On.selectAllButtonLabel,Gn.headerBtnSelectClass,null,null)},s.prototype.refresh=function(){this.gridControl.refresh()},Object.defineProperty(s.prototype,"msosDataMap",{get:function(){return this.msosDataMaps},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isEditable",{get:function(){return!this.gridControl.isReadOnly},set:function(t){this.gridControl.isReadOnly=!t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isMultiSelectionEnabled",{get:function(){return s.isMultiSelectionEnabled(this.gridControl)},enumerable:!0,configurable:!0}),s.prototype.containsFocus=function(){return this.gridControl.containsFocus()},s.prototype.getCellBoundingRect=function(t,i){return t<0||t>this.totalRowsCount-1||i<0||i>this.totalColumnsCount-1?null:this.gridControl.getCellBoundingRect(t,i)},s.prototype.getColumnIndex=function(t){var i=this.gridControl.columns.getColumn(t);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?-1:i.index},s.prototype.isColumnVisible=function(t){var i=this.gridControl.columns.getColumn(t);return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&i.isVisible},s.prototype.startEditing=function(t,i,n){return this.gridControl.startEditing(t,i,n)},s.prototype.getSelectedState=function(t,i){return this.gridControl.getSelectedState(t,i)},s.prototype.getColumnFilter=function(t){return new Rs(this.gridFilter.getColumnFilter(t))},s.prototype.saveCurrentFilter=function(){this.filterDefinition=this.gridFilter.filterDefinition},s.prototype.getFilterDefinition=function(){return this.filterDefinition},s.prototype.openFilterEditor=function(t,i){var n=-1<t?this.columns[t]:null;n&&this.gridFilter&&this.gridFilter.getColumnFilter(n,!1)&&this.gridFilter.editColumnFilter(n,i)},s.prototype.closeFilterEditor=function(){this.gridFilter.closeEditor()},s.prototype.restoreFilters=function(t,i){void 0===i&&(i=null);var n=MscrmCommon.ControlUtils.String.isNullOrEmpty(i)?this.filterDefinition:i;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))return null;var e=JSON.parse(n),r=[];if(e&&e.filters&&0<e.filters.length)for(var s=0;s<e.filters.length;s++){var o=this.gridControl.columns.getColumn(e.filters[s].binding),h=this.getColumnFilter(o.binding),c=h.getOriginalGridFilter();t(h,e.filters[s].type)&&(this.applyColumnFilterDefinition(c,e.filters[s]),r.push(h))}return this.saveCurrentFilter(),r},s.prototype.restoreAllFilters=function(){return this.restoreFilters(function(t){return!0})},s.prototype.applyColumnFilterDefinition=function(t,i){if(t)switch(i.type){case"condition":t.filterType=vn.grid.filter.FilterType.Condition,t.conditionFilter.condition1.operator=i.condition1.operator,t.conditionFilter.condition1.value=t.column.dataType===vn.DataType.Date?this.convertStringToDate(i.condition1.value):i.condition1.value,t.conditionFilter.and=i.and,t.conditionFilter.condition2.operator=i.condition2.operator,t.conditionFilter.condition2.value=t.column.dataType===vn.DataType.Date?this.convertStringToDate(i.condition2.value):i.condition2.value;break;case"value":t.filterType=vn.grid.filter.FilterType.Value,t.valueFilter.filterText=i.filterText,t.valueFilter.showValues=i.showValues}},s.prototype.convertStringToDate=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?null:new Date(t)},Object.defineProperty(s.prototype,"columnLayout",{get:function(){return this.gridControl.columnLayout},set:function(t){this.gridControl.columnLayout=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnResized",{get:function(){return this.gridControl.resizedColumn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"formatItem",{get:function(){return this.gridControl.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"updatedView",{get:function(){return this.gridControl.updatedView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectionChanging",{get:function(){return this.gridControl.selectionChanging},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectionChanged",{get:function(){return this.gridControl.selectionChanged},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"beginningEdit",{get:function(){return this.gridControl.beginningEdit},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellEditEnding",{get:function(){return this.gridControl.cellEditEnding},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellEditEnded",{get:function(){return this.gridControl.cellEditEnded},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellEditProcessed",{get:function(){return this.cellEditProcessedEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sortingColumn",{get:function(){return this.gridControl.sortingColumn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lostFocus",{get:function(){return this.gridControl.lostFocus},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scrollPositionChanged",{get:function(){return this.gridControl.scrollPositionChanged},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnsCollectionChanged",{get:function(){return this.gridControl.columns.collectionChanged},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selection",{get:function(){return this.gridControl.selection},enumerable:!0,configurable:!0}),s.prototype.select=function(t,i){this.gridControl.select(t,i)},Object.defineProperty(s.prototype,"prepareCellForEdit",{get:function(){return this.gridControl.prepareCellForEdit},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"loadedRows",{get:function(){return this.gridControl.loadedRows},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"activeEditor",{get:function(){return this.gridControl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isEditing",{get:function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.getGridEditRange())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cells",{get:function(){return this.gridControl.cells},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columns",{get:function(){return this.gridControl.columns},enumerable:!0,configurable:!0}),s.prototype.onCellEditProcessed=function(t){this.cellEditProcessed.raise(this,t)},s.prototype.onFormatItem=function(t){this.gridControl.onFormatItem(t)},s.prototype.onUpdatedView=function(t){this.gridControl.onUpdatedView(t)},s.prototype.onSortedColumn=function(t){this.gridControl.sortedColumn.raise(this,t)},s.prototype.hitTest=function(t){return this.gridControl.hitTest(t)},s.prototype.getCellData=function(t,i,n){return 0===this.gridControl.rows.length?null:this.gridControl.getCellData(t,i,n)},s.prototype.getRenderedCellHeight=function(){var t=this.row(0);return t?t.renderHeight:0},s.prototype.findRecord=function(t,i){for(var n=0;n<t.length;n++)if(t[n].recId===i)return t[n]},s.prototype.updateSourceCollection=function(t){var i,n=this,e=this.getCollectionDataView();e.beginUpdate(),e.sourceCollection.length=0;var r=this.dataAdapterService.getGridRecordItems(this.dataSetService.dataSet);(i=e.sourceCollection).splice.apply(i,[0,0].concat(t.map(function(t){return n.findRecord(r.sourceCollection,t)}))),e.pageSize=e.sourceCollection.length,e.refresh(),e.endUpdate()},s.prototype.setProgressIndicator=function(t){if(!this.progressIndicatorDiv){var i=this.containerService.getContainerId()+"_progressIndicatorDiv",n=be.render(this.factory,i),e=this.containerService.progressIndicatorDiv;this.progressIndicatorDiv=e,this.utils.bindDOMElement(n,e);var r=this.getCollectionDataView();this.render(r)}if(t)switch(this.progressIndicatorDiv.style.display="block",t){case Ae.Top:var s=Gn.progressIndicatorSize/2+Gn.firstRowHeight;this.progressIndicatorDiv.style.top=s+"px",this.progressIndicatorDiv.style.bottom="auto";break;case Ae.Bottom:this.progressIndicatorDiv.style.top="auto",this.progressIndicatorDiv.style.bottom=Gn.progressIndicatorSize/2+"px"}else this.progressIndicatorDiv.style.display="none",this.progressIndicatorDiv.style.top=null,this.progressIndicatorDiv.style.bottom=null},s.prototype.getSourceCollectionIds=function(){return this.getCollectionDataView().sourceCollection.map(function(t){return t.recId})},s.prototype.findCellHtml=function(t,i){var n=this.getCellBoundingRect(t,i);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))return null;var e=document.elementFromPoint(n.left+n.width/2,n.top+n.height/2);for(vn.hasClass(e,Xn.headerCSSClass)&&(e=null);e&&!vn.hasClass(e,Xn.cellCSSClass);)e=e.parentElement;return e},s.prototype.getColumnName=function(t){if(-1===t)return MscrmCommon.ControlUtils.String.Empty;var i=this.gridControl.columns;return t==i.length&&(t-=1),i[t].binding},Object.defineProperty(s.prototype,"selectedRows",{get:function(){return s.selectedRows(this.gridControl)},set:function(t){this.gridControl.selectedRows=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"totalRowsCount",{get:function(){return this.gridControl.rows.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"totalColumnsCount",{get:function(){return this.gridControl.columns.length},enumerable:!0,configurable:!0}),s.prototype.row=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.rows)?null:this.gridControl.rows[t]},s.prototype.selectedRowsNumbers=function(){return s.isMultiSelectionEnabled(this.gridControl)?new MscrmCommon.ArrayQuery(this.gridControl.rows).where(function(t){return t.isSelected}).select(function(t){return t.index}).items():[this.gridControl.selection.row]},s.prototype.isRowSelected=function(t){return 0<=this.selectedRowsNumbers().indexOf(t)},s.selectedRows=function(t){if(s.isMultiSelectionEnabled(t))return new MscrmCommon.ArrayQuery(t.rows).where(function(t){return t.isSelected}).select(function(t){return t&&t.dataItem?t.dataItem.recId:null}).items();if(0<=t.selection.row){var i=t.rows[t.selection.row];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.dataItem))return[i.dataItem.recId]}return[]},s.isMultiSelectionEnabled=function(t){return t.selectionMode===vn.grid.SelectionMode.ListBox},s.selectAllOrNothing=function(t){var i=t instanceof s?t.gridControl:t,n=i.selection,e=!1;0==n.row&&0==n.col&&n.row2==i.rows.length-1&&n.col2==i.columns.length-1?i.select(-1,-1):(i.rows.length&&i.select(new vn.grid.CellRange(0,0,i.rows.length-1,i.columns.length-1)),e=!0);var r=i&&i.cells&&i.cells.hostElement&&i.cells.hostElement.querySelectorAll("[role=columnheader]");r&&0<r.length&&r[0].setAttribute("aria-selected",e.toString())},Object.defineProperty(s.prototype,"click",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.clickEvent)&&(this.clickEvent=new vn.Event,this.gridControl.hostElement.addEventListener(Xn.eventSingleClick,this.raiseClickEvent)),this.clickEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"touchStart",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.touchStartEvent)&&(this.touchStartEvent=new vn.Event,this.gridControl.hostElement.addEventListener(Xn.eventTouchStart,this.raiseTouchStartEvent)),this.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"touchEnd",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.touchEndEvent)&&(this.touchEndEvent=new vn.Event,this.gridControl.hostElement.addEventListener(Xn.eventTouchEnd,this.raiseTouchEndEvent)),this.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"touchMove",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.touchMoveEvent)&&(this.touchMoveEvent=new vn.Event,this.gridControl.hostElement.addEventListener(Xn.eventTouchMove,this.raiseTouchMoveEvent)),this.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dblClick",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dblClickEvent)&&(this.dblClickEvent=new vn.Event,this.gridControl.hostElement.addEventListener(Xn.eventDoubleClick,this.raiseDblClickEvent)),this.dblClickEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mouseDown",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.mouseDownEvent)&&(this.mouseDownEvent=new vn.Event,this.gridControl.hostElement.addEventListener(Gn.eventMouseDown,this.raiseMouseDownEvent)),this.mouseDownEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mouseMove",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.mouseMoveEvent)&&(this.mouseMoveEvent=new vn.Event,qn.isTouchScreenDevice(this.client)||this.gridControl.hostElement.addEventListener(Xn.eventMouseMove,this.raiseMouseMoveEvent)),this.mouseMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mouseLeave",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.mouseLeaveEvent)&&(this.mouseLeaveEvent=new vn.Event,this.gridControl.hostElement.addEventListener(Xn.eventMouseLeave,this.raiseMouseLeaveEvent)),this.mouseLeaveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"keyDown",{get:function(){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.keyDownEvent)&&(this.keyDownEvent=new vn.Event,this.gridControl.hostElement.addEventListener(Xn.eventKeyDown,this.raiseKeyDownEvent)),this.keyDownEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filterChanging",{get:function(){return this.gridFilter.filterChanging},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filterChanged",{get:function(){return this.gridFilter.filterChanged},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gridHostingElement",{get:function(){return this.gridControl.hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gridRoot",{get:function(){return $(this.gridControl.hostElement).find('div[wj-part="root"]')[0]},enumerable:!0,configurable:!0}),s.prototype.getScrollableElement=function(){return this.gridRoot},s.prototype.attachScrollHandler=function(t){var i=this.getScrollableElement();i&&i.addEventListener("scroll",t)},Object.defineProperty(s.prototype,"gridRowHeaderHostingElement",{get:function(){return this.gridControl.rowHeaders.hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gridColumnHeaders",{get:function(){return this.gridControl.columnHeaders},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hiddenGridColumnHeaders",{get:function(){return this.gridControl.cells.hostElement.querySelectorAll("[role=columnheader]")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gridColumnFilterButtons",{get:function(){return this.gridColumnHeaders.hostElement.querySelectorAll(".wj-btn-glyph")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"saveButton",{get:function(){return this.saveBtn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectAllButton",{get:function(){return this.selectAllBtn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"refreshButton",{get:function(){return this.refreshBtn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collectionChanged",{get:function(){return this.collectionChangedEvent},enumerable:!0,configurable:!0}),s.prototype.dispose=function(){if(this.updatedView.removeHandler(this.updatedViewHandler),this.keyDown.removeHandler(this.openFilterEditorHandler),this.unsubscribeCollectionChanged(),this.unsubscribeMouseEvents(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.hostElement)||this.gridControl.hostElement.removeEventListener(Xn.eventSingleClick,this.raiseClickEvent),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.removeEventListener(Gn.eventMouseDown,this.saveButtonMouseHandler),this.saveBtn.removeEventListener(Xn.eventKeyDown,this.saveButtonKeyboardHandler)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.refreshBtn)||(this.refreshBtn.removeEventListener(Gn.eventMouseDown,this.refreshButtonMouseHandler),this.refreshBtn.removeEventListener(Xn.eventKeyDown,this.refreshButtonKeyboardHandler)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.hiddenGridColumnHeaders))for(var t=this.hiddenGridColumnHeaders,i=0;i<t.length;i++)t[i].removeEventListener("focus",this.focusColumnHeaderHandler),t[i].removeEventListener("blur",this.blurColumnHeaderHandler);this.gridControl.dispose(),this.gridFilter=null,this.gridControl=null,this.validations=null,this.clickEvent.removeAllHandlers(),this.clickEvent=null,this.touchStartEvent.removeAllHandlers(),this.touchStartEvent=null,this.touchEndEvent.removeAllHandlers(),this.touchEndEvent=null,this.touchMoveEvent.removeAllHandlers(),this.touchMoveEvent=null,this.dblClickEvent.removeAllHandlers(),this.dblClickEvent=null,this.typeProcessorService=null,this.timeZoneService=null,this.errorHandlingService=null,this.dataSetService=null,this.dataAdapterService=null,this.navigationService=null},s.prototype.getPageIndex=function(){return this.gridControl.itemsSource?this.gridControl.itemsSource.pageIndex:0},s.prototype.getPageCount=function(){return this.gridControl.itemsSource.pageCount},s.prototype.getCollectionDataView=function(){return this.gridControl.itemsSource},s.prototype.getColumnByName=function(t){return this.gridControl.columns.getColumn(t)},s.prototype.getGroupDescriptions=function(){return this.gridControl.itemsSource.groupDescriptions},s.prototype.setGroupHeaderFormat=function(t){this.gridControl.groupHeaderFormat=t},s.prototype.setShowGroups=function(t){this.gridControl.showGroups=t},s.prototype.finishEdit=function(){this.gridControl.finishEditing(!1)},s.prototype.hideHighlightedRow=function(){0<=this.highlightedRow&&this.gridControl.rows.length>this.highlightedRow&&(qn.isUci()&&this.isRowSelected(this.highlightedRow)||(this.setRowBackground(this.highlightedRow),this.highlightedRow=-1))},s.prototype.cancelSelection=function(){Hs(this.gridControl)&&!this.gridControl.selection.isValid||(this.gridControl.selection=new vn.grid.CellRange)},s.prototype.blurCellSelection=function(t){t.tabIndex=-1,vn.toggleClass(t,"wj-state-selected",!1)},s.prototype.focusFirstCellOrLastSelectedCell=function(){if(!this.totalRowsCount||this.gridControl.selectedRows.length||vn.hasClass(vn.getActiveElement(),Xn.headerCSSClass)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.collectionView)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.collectionView.groupDescriptions))if(e=this.gridControl.cells.getCellElement(this.gridControl.selection.row,this.gridControl.selection.col))this.focusElement(e);else{var t=this.gridControl.cells.viewRange,i=t?t.row:0,n=this.gridControl.cells.getCellElement(i,1);this.focusElement(n)}else{this.gridControl.selection=new vn.grid.CellRange(this.gridControl.collectionView.groupDescriptions.length,qn.firstInformativeColumnIndex);var e=this.gridControl.cells.getCellElement(0,qn.firstInformativeColumnIndex);this.focusElement(e)}},s.prototype.subscribeMouseEvents=function(){this.mouseMove.addHandler(this.handleHighlightRecordMouseMove),this.mouseLeave.addHandler(this.handleHighlightRecordMouseLeave)},s.prototype.unsubscribeMouseEvents=function(){this.mouseMove.removeHandler(this.handleHighlightRecordMouseMove),this.mouseLeave.removeHandler(this.handleHighlightRecordMouseLeave)},s.prototype.getCellDefaultBackground=function(t){return this.isGridHighDensityEnabled?this.theming.colors.base.white:qn.isUci()?t.classList.contains(Xn.altCSSClass)?this.theming.colors.base.white:this.theming.colors.basecolor.grey.grey1:""},s.prototype.hexToRgb=function(t){if(!t||7!==t.length||"#"!==t[0])return"";var i=[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)];return"rgb("+i[0]+", "+i[1]+", "+i[2]+")"},s.prototype.areColorsDifferent=function(t,i){return t!==this.hexToRgb(i)},s.prototype.setRowBackground=function(c,a){var u=this;void 0===a&&(a="");var t=this.row(c);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){t instanceof vn.grid.GroupRow&&(t.isSelected=!1);var l=!!a,i=this.containerService.getHostId(),n=MscrmCommon.ControlUtils.String.Format("#{0} div[{1}='{2}']",i,Gn.rowHeaderRowNumber,c),e=$(n).get(0);MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||e.classList.contains(Xn.detailCellCSSClass)||(e.style.background=a||this.getCellDefaultBackground(e),l?e.classList.add(Gn.headerCellHoverClass):e.classList.remove(Gn.headerCellHoverClass)),this.gridControl.columns.forEach(function(t,i){var n=u.gridControl.cells.getCellElement(c,i);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&!n.classList.contains(Xn.detailCellCSSClass)){var e=a||u.getCellDefaultBackground(n);if(u.areColorsDifferent(n.style.background,e)&&(n.style.background=e),qn.isUci()){var r=n.firstElementChild;if(r){var s="A"===r.tagName,o=l?s?u.theming.colors.basecolor.blue.blue5:u.theming.colors.basecolor.black:s?u.theming.colors.basecolor.blue.blue4:u.theming.colors.basecolor.grey.grey7;if(u.areColorsDifferent(r.style.color,o)&&(r.style.color=o),!u.isGridHighDensityEnabled){var h=l?u.theming.fontfamilies.semibold:u.theming.fontfamilies.regular;r.style.fontFamily!==h&&(r.style.fontFamily=h)}}}}})}},s.prototype.updateColumn=function(t,i){var n=this.gridControl.columns.getColumn(t);null!=n&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.dataMap)||(this.getColumnTypeByName(t)===Vn.multiSelectOptionset&&(this.msosDataMaps[t]=i.dataMap),n.showDropDown=this.getColumnTypeByName(t)===Vn.optionset,n.dataMap=i.dataMap),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.format)||(n.format=i.format),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.inputType)||(n.inputType=i.inputType),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.validations)||(this.validations[t]=i.validations),n.isRequired=!1)},s.prototype.getIndexedValue=function(t,i){return t[i]},s.prototype.setItemsSource=function(t){var i=this,n=this.selectedRows;this.unsubscribeCollectionChanged(),Hs(this.gridControl)?zs(this.gridControl._root,function(){return i.gridControl.itemsSource=t}):this.gridControl.itemsSource=t,this.subscribeCollectionChanged(t),this.collectionChangedEvent.hasHandlers&&this.collectionChanged.raise(this,vn.EventArgs.empty),this.setSelectedRecords(n)},s.prototype.setSelectedRecords=function(n){for(var t=function(t){var i=e.gridControl.rows[t];n.find(function(t){return t==i.dataItem.recId})&&(i.isSelected=!0)},e=this,i=0;i<this.gridControl.rows.length;i++)t(i)},s.prototype.subscribeCollectionChanged=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.itemsSource)||t.groupDescriptions.collectionChanged.addHandler(this.onCollectionChangedEventHandler),this.columnsCollectionChanged.addHandler(this.onCollectionChangedEventHandler)},s.prototype.unsubscribeCollectionChanged=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.itemsSource)||this.gridControl.itemsSource.groupDescriptions.collectionChanged.removeHandler(this.onCollectionChangedEventHandler),this.columnsCollectionChanged.removeHandler(this.onCollectionChangedEventHandler)},s.prototype.getGridEditRange=function(){return this.gridControl.editRange},s.prototype.getRowHeaderWidth=function(){return this.gridControl&&this.gridControl.rowHeaders?this.gridControl.rowHeaders.hostElement.clientWidth:0},s.prototype.handleKeyboardNavigation=function(t){var i=new vn.grid.HitTestInfo(t.target,null),n=-1===i.row;if((wr.isKeyCode(t,Gn.kbSpaceCode)||wr.isKeyCode(t,Gn.kbEnterCode))&&n&&1==i.col&&this.selectAllButtonAction(),wr.isKeyCode(t,Gn.kbTabCode)){var e=this.isEditable?2:1,r=0<this.totalRowsCount,s=n&&i.col===this.columns.length-e;t.shiftKey&&-1<i.row?this.blurCellSelection(t.target):!t.shiftKey&&s&&r?(t.preventDefault(),this.focusFirstCellOrLastSelectedCell()):!t.shiftKey&&-1<i.row&&this.blurCellSelection(t.target)}},s.prototype.getDataForMultiSelectPickListEditor=function(t,i){var n=[],e=this.dataSetService.records[i].getValue(t.binding),r=this.msosDataMaps[t.binding],s=qn.getDatasetColumnByName(this.dataSetService.dataSet.columns,t.binding),o=[];if(!0===Ws.isUCIWithDependentOptionSetFeatureEnabledColumn(s)&&(o=Ws.getFilteredChildrenOptionValues(s,i,this.dataSetService)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r.collectionView)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r.collectionView.items))for(var h=0;h<r.collectionView.items.length;h++)if(r.collectionView.items[h].Value&&!isNaN(r.collectionView.items[h].Value)){var c=parseInt(r.collectionView.items[h].Value),a=!1,u=!0;if(e)for(var l=0;l<e.length;l++)if(e[l]===c){a=!0;break}if(Ws.isUCIWithDependentOptionSetFeatureEnabledColumn(s)&&(u=Ws.isValidChildOption(r,s,o,h)),u){var A=new ks("option",r.collectionView.items[h].Label,c,r.collectionView.items[h].Label,a);n.push(A)}}return n},s.prototype.addLearningPathIDs=function(t){if(t.panel.cellType===vn.grid.CellType.ColumnHeader)0<$(t.cell).parents('div[wj-part="ch"]').length&&this.learningPathService.addLearningPathIdToHtmlElement(t.cell,Gn.lpGridHeaderId),this.learningPathService.addLearningPathIdToHtmlElement(t.cell,Gn.lpGridColumnPrefixId+this.getColumnName(t.col));else if(0<=t.row&&0<=t.col){var i=t.cell.parentElement;this.learningPathService.addLearningPathIdToHtmlElement(i,Gn.lpGridCellContainerId),this.learningPathService.addLearningPathIdToHtmlElement(t.cell,Gn.lpGridCellPrefixId+t.cell.getAttribute(Gn.dataId))}},s.prototype.applyCellsSelectionStyle=function(){for(var t=this.gridControl.rows.length,i=0;i<t;i++){var n=this.gridControl.cells.getCellElement(i,1),e=this.row(i);e instanceof vn.grid.GroupRow&&e.isCollapsed||n&&!n.classList.contains(Xn.detailCellCSSClass)&&this.applyCellSelectionStyle(e,n)}},s.prototype.getColumnSeparator=function(){return this.isGridHighDensityEnabled?'<div class="columnSeparator" style="border-right: 1px solid #C4C4C4 !important;height:20px;opacity:1">&nbsp;</div>':'<div class="columnSeparator">&nbsp;</div>'},s.prototype.renderUpdatedRecord=function(t,i,n){var e=this.dataAdapterService.updateGridRecordItem(i,n);if(this.refresh(),qn.isTreeView(this.dataSetService.dataSet)){var r=this.dataAdapterService.getGridRecordItemsOnRecordUpdate(this.dataSetService.dataSet,i,this.gridFilter,e);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||this.render(r)}!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&0<n.length&&this.updateStatusArea(Ke.Unsaved)},s.prototype.updateStatusArea=function(t){var i=MscrmCommon.ControlUtils.String.Empty;switch(t){case Ke.Unsaved:i=On.unsavedStatusLabel,MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.disabled=!1);break;case Ke.Saving:i=On.savingStatusLabel;break;case Ke.Saved:MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.disabled=!0);break;case Ke.Refresh:i=On.refreshStatusLabel,MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.saveBtn)||(this.saveBtn.disabled=!0)}if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.statusAreaDiv)){var n=this.containerService.getContainerId();MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.parentComponent)||(n=this.parentComponent.containerService.getContainerId()),this.statusAreaDiv=$("#"+n+Gn.statusAreaPostfix)}!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.statusAreaDiv)&&0<this.statusAreaDiv.length&&(this.statusAreaDiv.text(i),MscrmCommon.ControlUtils.String.isNullOrEmpty(i)||this.ariaLiveRegionService.sendAssertiveMessage(i))},s.prototype.compareArrayValues=function(t,i){if(null==t&&null==i)return!0;if(null==t||null==i)return!1;if(t.length!==i.length)return!1;for(var n=t.sort(),e=i.sort(),r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0},s.prototype.getColumnType=function(t){var i=this.gridControl.columns[t];return qn.getDatasetColumnByName(this.dataSetService.columns,i.binding).attributes.type},s.prototype.getColumnsCount=function(){return this.gridControl.columns.length},s.prototype.getColumnTypeByName=function(t){return qn.getDatasetColumnByName(this.dataSetService.columns,t).attributes.type},s.prototype.formatDisplayValue=function(r,s,o,t){var h=this;if(o.cell.innerHTML="",!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r))if(qn.isSelectAllBtnHeaderColumn(t.name))this.applyRowHeaderImage(this.gridControl.rows[o.row],o.cell);else{var c=qn.getDatasetColumnByName(this.dataSetService.columns,t.binding);if(c&&c.attributes){var a=null;if(!c||c.isPrimary||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet.getCellImageInfo)){var i=qn.getValueOrDefault(this.typeProcessorService.getValue(r,c,null,!0));qn.contextUtils.isFeatureEnabled(Ps)&&Ws.isDependentOptionSet(c)&&(a=Ws.getToolTipForDependentOptionSetColumns(r,c,this.isEditable,this.dataSetService)),MscrmCommon.ControlUtils.String.isNullOrEmpty(a)?MscrmCommon.ControlUtils.String.isNullOrEmpty(i)||o.cell.setAttribute(Gn.htmlTitleAttributeName,i):o.cell.setAttribute(Gn.htmlTitleAttributeName,a),this.fieldFactory.updateCellView(o.cell,c,i,r.getRecordId(),null,null,this.factory,this.utils,this.client)}else{var u=o.row,n=Xrm.Utility.getGlobalContext().getUserLcid();this.dataSetService.dataSet.getCellImageInfo(c.name,s,n).then(function(t){var i=null,n=null;if(t&&(i=t.Url,n=t.Tooltip),h.row(u)&&h.gridControl.getCellData(u,0,!1)===s){var e=qn.getValueOrDefault(h.typeProcessorService.getValue(r,c,null,!0));qn.contextUtils.isFeatureEnabled(Ps)&&Ws.isDependentOptionSet(c)&&(a=Ws.getToolTipForDependentOptionSetColumns(r,c,h.isEditable,h.dataSetService)),MscrmCommon.ControlUtils.String.isNullOrEmpty(a)?MscrmCommon.ControlUtils.String.isNullOrEmpty(e)||o.cell.setAttribute(Gn.htmlTitleAttributeName,e):o.cell.setAttribute(Gn.htmlTitleAttributeName,a),h.fieldFactory.updateCellView(o.cell,c,e,r.getRecordId(),i,n,h.factory,h.utils,h.client)}})}}}},s.prototype.formatDisplay=function(t,i,n){switch(n){case Vn.twoOptions:i.textContent=t;break;case Vn.lookup:i.textContent="";var e=document.createElement("span");e.classList.add(Gn.navigableCell),e.textContent=t,i.appendChild(e);break;case Vn.optionset:default:var r=!1;if($(i).contents().filter(function(){return this.nodeType===Node.TEXT_NODE&&(r=!0)}).each(function(){this.textContent=this.textContent.split(/\S/)[0]+t}),!r){var s=document.createTextNode(t);$(i).prepend(s)}}},s.prototype.initAccessibilityExtender=function(){var s=this;if(vn.grid.accessibility){var o=new vn.grid.accessibility.AccessibilityExtender(this.gridControl);this.gridControl.sortedColumn.addHandler(function(t,i){var n=i.panel,e=t.columns[i.col],r=s.sortingInfo(n,e);o.alert("column "+e.header+" sorted in "+(0===r.sortDirection?"ascending":"descending")+" order")})}},s.prototype.applyCellSelectionStyle=function(t,i){var n=this,e=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t),r=!i.classList.contains(Xn.groupClass)&&t.isSelected||!this.isMultiSelectionEnabled&&this.gridControl.selection.row==t.index;if(e){var s=i.classList.contains(Gn.rowSelectedClass);if(r&&!s?i.classList.add(Gn.rowSelectedClass):!r&&s&&i.classList.remove(Gn.rowSelectedClass),qn.isUci()){var o=r?this.theming.colors.maintheme.maincolor2.fill:"";this.applyAriaCheckBoxToTheCell(t,i,r),setTimeout(function(){n.setRowBackground(t.index,o)},10)}this.applyRowHeaderImage(t,i),qn.isUci()&&(this.applyAriaSelectedToSelectedRow(t,r),this.applyAriaSelectedToAllSelectedCells(t,r))}},s.prototype.applyAriaSelectedToSelectedRow=function(t,i){var n=this;i||(this._applyAriaSelectedToSelectedRow(t,i),setTimeout(function(){n._applyAriaSelectedToSelectedRow(t,i)},0))},s.prototype._applyAriaSelectedToSelectedRow=function(t,i){var n=this.gridControl&&this.gridControl.cells&&this.gridControl.cells.hostElement&&this.gridControl.cells.hostElement.children&&this.gridControl.cells.hostElement.children[t.index+1];if(n)if(n.hasAttribute("aria-selected")){var e=n.getAttribute("aria-selected");i||"true"!==e?i&&"false"===e&&n.setAttribute("aria-selected","true"):n.setAttribute("aria-selected","false")}else n.setAttribute("aria-selected",i?"true":"false")},s.prototype.applyAriaSelectedToAllSelectedCells=function(t,i){for(var n=this.gridControl.columns.length,e=1;e<n;++e){var r=this.gridControl.cells.getCellElement(t.index,e);if(r)if(r.hasAttribute("aria-selected")){var s=r.getAttribute("aria-selected");i||"true"!==s?i&&"false"===s&&r.setAttribute("aria-selected","true"):r.setAttribute("aria-selected","false")}else i?r.setAttribute("aria-selected","true"):r.setAttribute("aria-selected","false")}},s.prototype.applyAriaCheckBoxToTheCell=function(t,i,n){var e=this.containerService.getContainerId()+"row-aria-checkbox-"+t.index,r=i.hasAttribute("aria-selected"),s=i.getAttribute("aria-selected");r?"true"!==s||n?"false"===s&&n&&i.setAttribute("aria-selected","true"):i.setAttribute("aria-selected","false"):n?i.setAttribute("aria-selected","true"):i.setAttribute("aria-selected","false");var o=document.getElementById(e);if(i.children.length&&o)r?"true"!==s||n?"false"===s&&n&&o.setAttribute("aria-checked","true"):o.setAttribute("aria-checked","false"):n?o.setAttribute("aria-checked","true"):o.setAttribute("aria-checked","false");else{(o=document.createElement("div")).id=e,o.setAttribute(Gn.role,"checkbox"),n?o.setAttribute("aria-checked","true"):o.setAttribute("aria-checked","false");var h=On.gridRowText+" "+o.getAttribute(Gn.role);o.setAttribute("aria-label",h),i.appendChild(o)}},s.prototype.onHierarchyIconClick=function(t,i,n){var e=this,r={etn:t,id:i},s={pageType:"control",controlName:Gn.HierarchyControlName,data:r},o=[{name:"entityLogicalName",value:t},{name:"recordId",value:i}];this.navigationService.navigateTo(s).then(function(t){e.gridTelemetry.reportSuccess(e.telemetrySubComponentName+".onHierarchyIconClick",o)}).catch(function(t){e.gridTelemetry.reportFailure(e.telemetrySubComponentName+".onHierarchyIconClick",t,null,o)})},s.prototype.applyHierarchyIcon=function(t,i,n){if(t&&t.dataItem&&(0<t.dataItem[Gn.ChildCountAliasName]||this.lookupAttributeNameForHierarchicalRelationship&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.dataItem[this.lookupAttributeNameForHierarchicalRelationship]))){var e=document.createElement("button");e.className=Gn.ccHierarchyIconCSSClass,e.setAttribute(Gn.tabIndex,"-1"),e.setAttribute(Gn.ariaLabel,On.hierarchyButtonLabel);var r=this.gridControl.getCellData(t.index,0,!1);e.onmousedown=this.onHierarchyIconClick.bind(this,t.dataItem[Gn.entityLogicalNameProperty],r),n.appendChild(e)}else{var s=document.createElement("div");s.className=Gn.ccHierarchyIconEmptyDiv,s.setAttribute(Gn.role,"presentation"),n.appendChild(s)}},s.prototype.applyRowHeaderIconsAndImages=function(s,t){var o=this,h=document.createElement("div");h.className=Gn.ccRowHeaderIconContainerCSSClass,h.style.cssFloat=this.client.isRTL?"left":"right",h.setAttribute(Gn.role,"presentation"),h.style.marginRight=this.client.isRTL?void 0:"20px",h.style.marginLeft=this.client.isRTL?"20px":void 0;var i=!this.isEditable&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.lookupAttributeNameForHierarchicalRelationship);i&&this.applyHierarchyIcon(s,t,h);var n=!1;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet.getCellImageInfo)){var c=this.gridControl.getCellData(s.index,0,!1),e=this.dataSetService.columns.find(function(t){return t.isPrimary&&!!t.imageProviderWebresource&&!!t.imageProviderFunctionName});if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(c)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)){n=!0;var r=Xrm.Utility.getGlobalContext().getUserLcid();this.dataSetService.dataSet.getCellImageInfo(e.name,c,r).then(function(t){var i=null,n=null;if(t&&(i=t.Url,n=t.Tooltip),i&&o.gridControl.getCellData(s.index,0,!1)===c){var e=document.createElement("img");e.src=i,n&&(e.alt=n),e.style.width="16px",e.style.height="16px",e.style.marginLeft=o.client.isRTL?void 0:"14px",e.style.marginRight=o.client.isRTL?"14px":void 0,h.appendChild(e)}else{var r=document.createElement("div");r.className=Gn.ccConditionalImageEmptyDiv,r.style.marginLeft=o.client.isRTL?void 0:"14px",r.style.marginRight=o.client.isRTL?"14px":void 0,r.setAttribute(Gn.role,"presentation"),h.appendChild(r)}})}}if(i||n){t.style.textAlign=this.client.isRTL?"right":"left",t.innerHTML="",t.appendChild(h);var a=this.gridControl.columns;i!==n?MscrmCommon.ControlUtils.Object.isNullOrUndefined(a[1])||(a[1].width=80):MscrmCommon.ControlUtils.Object.isNullOrUndefined(a[1])||(a[1].width=108)}},s.prototype.applyRowHeaderImage=function(r,s){var o=this;if(this.isEditable||!qn.isUCIDisruptiveFeatureEnabled(qn.getGridHierarchyIconFCB())){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet.getCellImageInfo)){var h=this.gridControl.getCellData(r.index,0,!1),t=this.dataSetService.columns.find(function(t){return t.isPrimary&&!!t.imageProviderWebresource&&!!t.imageProviderFunctionName});if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){s.style.textAlign=this.client.isRTL?"right":"left";var i=this.gridControl.columns;MscrmCommon.ControlUtils.Object.isNullOrUndefined(i[1])||(i[1].width=80,i[1].align="");var n=Xrm.Utility.getGlobalContext().getUserLcid();this.dataSetService.dataSet.getCellImageInfo(t.name,h,n).then(function(t){var i=null,n=null;if(t&&(i=t.Url,n=t.Tooltip),s.innerHTML="",i&&o.gridControl.getCellData(r.index,0,!1)===h){var e=document.createElement("img");e.src=i,n&&(e.alt=n),e.style.marginTop="2px",e.style.width="16px",e.style.height="16px",e.style.cssFloat=o.client.isRTL?"left":"right",o.isGridHighDensityEnabled&&(o.client.isRTL?e.style.marginLeft="20px":e.style.marginRight="20px",e.style.marginTop="10px"),s.appendChild(e)}})}}}else this.applyRowHeaderIconsAndImages(r,s)},s.prototype.switchNoRecordsLabelVisibility=function(){var r=this;!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.itemsSource)&&0<this.gridControl.itemsSource.itemCount&&!this.dataSetService.dataSet.hasError?(this.noRecordsDiv.style.display="none",this.noRecordsDiv.parentElement.style.overflow="hidden"):MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.noRecordsDiv)||(qn.isUci()?(this.noRecordsDiv.style.display="block",this.noRecordsDiv.parentElement.style.overflow="auto",this.gridColumnHeaders&&this.gridColumnHeaders.hostElement&&this.gridColumnHeaders.hostElement.parentElement&&(this.gridColumnHeaders.hostElement.parentElement.style.overflow="visible"),this.gridRoot&&this.gridRoot.parentElement&&(this.gridRoot.parentElement.style.overflow="visible"),this.gridControl&&this.gridControl.hostElement&&(this.gridControl.hostElement.style.overflow="visible"),0!==this.noRecordsDebounce&&window.cancelAnimationFrame(this.noRecordsDebounce),this.noRecordsDebounce=window.requestAnimationFrame(function(){var t=function(){r.noRecordsDebounce=0;var t={fontSize:(r.noRecordsDiv.clientHeight<240?2:4.5)+"em",lineHeight:"100%",paddingBottom:"10px"},i={top:r.hideNestedGridColumnHeader==us.Yes?0:Gn.firstRowHeight+"px",bottom:0,left:0,width:"100%",height:"auto",position:"absolute",verticalAlign:"middle",textAlign:"center",color:r.theming.colors.basecolor.grey.grey5,fontSize:r.theming.fontsizes.sfontsize,fontFamily:r.theming.fontfamilies.regular},n=r.dataSetService.dataSet.hasError?{text:r.dataSetService.dataSet.errorMessage,icon:188,containerStyle:i,iconStyle:Object.assign(t,{color:"red"})}:{text:On.noRecordsText,icon:91,accessibilityHidden:!0,containerStyle:i,iconStyle:t},e=r.factory.createElement("PLACEHOLDER",n);r.utils.bindDOMElement(e,r.noRecordsDiv)};Hs(r.gridControl)?r.noRecordsDebounce=window.requestAnimationFrame(t):t()})):this.noRecordsDiv.style.display="block")},s.prototype.saveButtonAction=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService)||this.dataSetService.beginRecordSave()},s.prototype.selectAllButtonAction=function(){s.selectAllOrNothing(this)},s.prototype.refreshButtonAction=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet)||(this.updateStatusArea(Ke.Refresh),this.dataSetService.dataSet.refresh())},s.prototype.selectLastColumnHeader=function(){var t=this.getColumnIndex(Gn.btnHeaderColumnName),i=this.gridColumnHeaders.getCellElement(this.gridColumnHeaders.rows.length-1,t-1);MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(this.focusElement(i),event.preventDefault())},s.prototype.selectFirstRowLastDataColumn=function(){var t=this.dataSetService.columns.length,i=this.gridControl.cells.getCellElement(0,t);this.gridControl.hostElement.focus(),this.focusElement(i),this.gridControl.select(0,t),event.preventDefault()},s.prototype.createHeaderButton=function(t,i,n,e,r){void 0===r&&(r=!1);var s=document.createElement("button");return s.title=t,s.classList.add(Gn.headerBtnClass),s.classList.add(i),s.addEventListener(Gn.eventMouseDown,n),s.addEventListener(Xn.eventKeyDown,e),s.disabled=r,this.isGridHighDensityEnabled&&(s.style.fontSize="12px"),s},s.prototype.enableKeyboardSupport=function(){this.hasKeyboardSupport=!0},s.prototype.hideColumns=function(t,i){var n=this;MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridControl.columns)||t.forEach(function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.gridControl.columns.getColumn(t))||(n.gridControl.columns.getColumn(t).visible=!i)})},s.prototype.isOfflineFeatureAvailable=function(){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.client.isOffline)&&this.client.isOffline()&&this.offline&&this.offline.isOfflineEnabled(this.mode.contextInfo.entityTypeName)},s}();(Vs=Gs||(Gs={}))[Vs.No=0]="No",Vs[Vs.Yes=1]="Yes",Vs[Vs.Unknown=2]="Unknown";var Xs,Ks,Zs,_s,qs,$s,to,io,no,eo,ro,so,oo,ho,co,ao,uo=function(){function t(){this.dependencyObject={}}return t.prototype.add=function(t,i){this.dependencyObject[t]=i},t.prototype.getService=function(t){return this.dependencyObject[t]},t.prototype.getAllCurrentRecords=function(){for(var t={},i=0,n=this.gridFeatures;i<n.length;i++){var e=n[i].getCurrentRecord();null!==e&&(t[e.name]=e.value)}return t},Object.defineProperty(t.prototype,"gridFeatures",{get:function(){return this.getService(Je.gridFeatures)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridComponent",{get:function(){return this.getService(Je.gridComponent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridState",{get:function(){return this.getService(Je.stateService)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){for(var t=0,i=this.gridFeatures;t<i.length;t++)i[t].dispose();for(var n in this.dependencyObject)this.dependencyObject.hasOwnProperty(n)&&"dispose"in this.dependencyObject[n]&&this.dependencyObject[n].dispose();this.dependencyObject=null},t}(),lo=function(){},Ao=function(){function r(t,i,n,e,r){this._rowId=t,this._columnName=i,this._row=n,this._column=e,this._cellType=r}return Object.defineProperty(r.prototype,"rowId",{get:function(){return this._rowId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columnName",{get:function(){return this._columnName},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellType",{get:function(){return this._cellType},enumerable:!0,configurable:!0}),r.buildFromEventArgs=function(t){var i=t.panel.cellType,n=0<=t.row&&i===vn.grid.CellType.Cell?t.panel.grid.getCellData(t.row,0,!1):null,e=t.panel.columns;return new r(n,0<=t.col&&i===vn.grid.CellType.Cell&&t.col<e.length?e[t.col].binding:null,t.row,t.col,i)},r}(),fo=window&&window.__extends||(Xs=function(t,i){return(Xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Xs(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),go=function(h){function e(t,i,n,e,r,s){var o=h.call(this,t,i,n,e,r)||this;return o._cell=s,o}return fo(e,h),Object.defineProperty(e.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),e.buildFromEventArgs=function(t){var i=Ao.buildFromEventArgs(t),n=t.cell;return new e(i.rowId,i.columnName,i.row,i.column,i.cellType,n)},e}(Ao),wo=window&&window.__extends||(Ks=function(t,i){return(Ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Ks(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),mo=function(l){function A(t,i,n,e,r,s,o,h,c,a){void 0===a&&(a=!1);var u=l.call(this,t,i,n,e,r)||this;return u._selectedRows=s,u._isRangeSelection=o,u._isValidEvent=h,u._isKeyboardNavigation=a,u._selectionEvent=c,u}return wo(A,l),A.prototype.isRangeSelect=function(){return this._isRangeSelection},Object.defineProperty(A.prototype,"isMultiSelection",{get:function(){return this.isRangeSelect()||this._selectedRows.length>(this.hasSelectionChanged?1:0)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"hasSelectionChanged",{get:function(){return 0<=this._selectedRows.indexOf(this.rowId)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isValidEvent",{get:function(){return this._isValidEvent},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isKeyboardNavigation",{get:function(){return this._isKeyboardNavigation},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isRecordRowSelection",{get:function(){return 0<=this.row},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isRecordColumnSelection",{get:function(){return 0<=this.column},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isClearSelection",{get:function(){return this.row<0&&this.column<0},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"selectionEvent",{get:function(){return this._selectionEvent},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isCellSelection",{get:function(){return 0<this.column&&0<=this.row},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isRowHeaderSelected",{get:function(){return 0===this.column||this.cellType===vn.grid.CellType.RowHeader},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isCurrentRowSelected",{get:function(){var i=this;return new MscrmCommon.ArrayQuery(this.selectedRows).contains(function(t){return t===i.rowId})},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"selectedRows",{get:function(){return this._selectedRows},enumerable:!0,configurable:!0}),A.buildFromEventArgs=function(t,i){var n="undefined"!=typeof event?event:null,e=t.panel.grid._mouseHdl;!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e._htDown)&&(n=e._eMouse);var r=n&&n.target?n.target[Xn.cellIndexKey]:null,s=r?new vn.grid.CellRangeEventArgs(t.panel.grid.cells,new vn.grid.CellRange(t.row,r.col)):t,o=Ao.buildFromEventArgs(s),h=MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||this.isKeyboardEvent(n),c=this.isValidCellType(o.cellType,i),a=t.range.row!==t.range.row2,u=Ls.selectedRows(t.panel.grid);return new A(o.rowId,o.columnName,o.row,o.column,o.cellType,u,a,c,n,h)},A.buildFromEvent=function(t,i,n){var e=i.hitTest(t),r=0<=e.row?i.getCellData(e.row,0,!1):null,s=i.selection.row!==i.selection.row2,o=this.isValidEvent(t,e,n),h=i.selectedRows;return new A(r,i.getColumnName(e.col),e.row,e.col,e.cellType,h,s,o,t)},A.isValidEvent=function(t,i,n){return this.isValidEventType(t)&&this.isValidCellType(i.cellType,n)},A.isValidCellType=function(t,i){return t===vn.grid.CellType.Cell||t===vn.grid.CellType.RowHeader||i&&t===vn.grid.CellType.TopLeft},A.isValidEventType=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&(this.isMouseEvent(t)||this.isKeyboardEvent(t)||"undefined"!=typeof TouchEvent&&t instanceof TouchEvent)},A.isMouseEvent=function(t){return t instanceof MouseEvent||"undefined"!=typeof MSEventObj&&t instanceof MSEventObj&&-1!==t.type.indexOf("mouse")},A.isKeyboardEvent=function(t){return t instanceof KeyboardEvent||"undefined"!=typeof MSEventObj&&t instanceof MSEventObj&&-1!==t.type.indexOf("key")},A}(Ao),bo=window&&window.__extends||(Zs=function(t,i){return(Zs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Zs(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),vo=function(w){function t(t,i,n,e,r,s,o,h,c,a,u,l,A,f,d){var g=w.call(this,A)||this;return g.datasetUpdateHandler=function(i){g.perfTool.tryStop(se.DataSetUpdate),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.record)||(g.dataSetService.records[i.recordId]=i.record);var t=g.dataSetService.getRecordById(i.recordId);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)){var n=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.affectedColumns)?[]:g.dataSetService.columns.filter(function(t){return-1!==i.affectedColumns.indexOf(t.name)});switch(i.resultType){case 1:g.gridComponent.renderUpdatedRecord(i,t,n);break;case 3:case 2:g.parentFieldAccessService.updateRow(i.recordId,n);break;case 10:g.dataSetService.endRecordSave(i),i.isRecordSavedSuccessfully&&!t.isRecordValid()&&t.validateAllColumns();case 4:g.errorHandlingService.update(t),g.gridComponent.refresh()}}},g.loadedRowsHandler=function(t,i){g.gridComponent.enableTreeViewEditing()},g.dblClickHandler=function(t,i){var n=mo.buildFromEvent(i,g.gridComponent,!1);if(-1===n.column){var e=g.dataSetService.dataSet.sortedRecordIds[0],r=g.dataSetService.dataSet.records[e];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)){var s=g.navigationService.createEntityReferenceModel(r);return void g.navigationService.navigateToEntityForm(s)}}n.isRecordRowSelection&&n.isValidEvent&&(r=g.dataSetService.dataSet.records[n.rowId],MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||(s=g.navigationService.createEntityReferenceModel(r),g.navigationService.navigateToEntityForm(s)))},g.formatItemHandler=function(t,i){var n=go.buildFromEventArgs(i),e=i.panel.columns[i.col],r=qn.getDatasetColumnByName(g.dataSetService.dataSet.columns,e.binding);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&qn.isBtnHeaderColumn(e.name))return g.gridComponent.applyNonSelectableCellStyleFormat(t,i),void g.rowButtonManager.handleFormatItem(n);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&qn.isSelectAllBtnHeaderColumn(e.name)&&i.panel.cellType===vn.grid.CellType.ColumnHeader&&(g.gridComponent.applySelectAllButtonAreaHeader(t,n),g.gridComponent.applyNonSelectableCellStyleFormat(t,i)),r&&e&&xs.isCustomDropDownEditorColumn(e,r)&&xs.removeOptionsetDropDown(i.cell),g.gridComponent.formatCellDisplayValue(i,e),g.gridComponent.applyCellStyleFormat(t,i),g.gridComponent.applyColumnHeaderFormat(t,i),g.gridComponent.applyColumnHeaderSortingStyle(i),g.gridComponent.applyFilterButtonStyles(),g.gridComponent.fixWordWrapColumnHeaderStyle(i),0<g.dataSetService.rollupColumns.length&&g.gridComponent.applyRollupColumnsFormat(t,i),g.gridComponent.cellEditorHandler(i,e,r,g.client),g.gridComponent.displayCellEditErrorHandler(i,e),t.selection.isValid||i.panel.cellType===vn.grid.CellType.ColumnHeader||0!==i.row||i.col!==qn.firstInformativeColumnIndex||(i.cell.tabIndex=0)},g.selectionChangingHandler=function(t,i){var n=g.gridComponent.selection;i.range.row==n.row&&i.range.row2==n.row2||g.parentFieldAccessService.clearSelectedRow()},g.scrollPositionChangedHandler=function(){var t=g.gridComponent;t.finishEdit(),t.hideHighlightedRow(),g.rowButtonManager.handleScrollPositionChanged()},g.lostFocusHandler=function(){setTimeout(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(g.selectionService)||g.selectionService.IsMultiSelectionSupported||g.gridComponent.containsFocus()||g.gridComponent.cancelSelection()},100)},g.clickHandler=function(t,i,n){if(void 0===n&&(n=!1),!g.selectionService.IsMultiSelectionSupported||n){var e=mo.buildFromEvent(i,g.gridComponent);if(!e.isRecordRowSelection)return void g.gridComponent.cancelSelection();e.isRowHeaderSelected&&g.dataSetService.beginRecordSave(),g.selectionService.setSelectedRecords(e),g.parentFieldAccessService.redraw(e)}},g.clearTimer=function(){g.timer&&(clearTimeout(g.timer),g.timer=null)},g.tapHold=function(t,i,n){switch(g.clearTimer(),n.cellType){case vn.grid.CellType.RowHeader:case vn.grid.CellType.TopLeft:qn.click(i.target)}g.gridComponent.showDetailGrid(g.gridComponent.row(n.row)),g.clickHandler(t,i,!0),i.preventDefault()},g.tap=function(t,i){g.clearTimer(),g.dblClickHandler(t,i),i.preventDefault()},g.touchStartHandler=function(t,i){var n=mo.buildFromEvent(i,g.gridComponent);n.isRowHeaderSelected&&(g.timer=setTimeout(function(){return g.tapHold(t,i,n)},Xn.tapHoldThreshold))},g.touchEndHandler=function(t,i){g.timer&&g.tap(t,i)},g.touchMoveHandler=function(t,i){g.clearTimer()},g.keyDownHandler=function(t,i){i.ctrlKey&&i.keyCode==Gn.kbSCode&&(wr.stopEventPropagation(i),MscrmCommon.ControlUtils.Object.isNullOrUndefined(g.dataSetService)||(g.gridComponent.isEditing&&g.gridComponent.finishEdit(),g.dataSetService.beginRecordSave()))},g.selectionChangedHandler=function(t,i){var n=mo.buildFromEventArgs(i,g.selectionService.IsMultiSelectionSupported),e=g.dataSetService.dataSet.getSelectedRecord(),r=!1;MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||e.getRecordId()===n.rowId&&n.isCurrentRowSelected||(r=g.dataSetService.beginRecordSave()),g.parentFieldAccessService.setSelectedRowNumber(g.gridComponent.selection.row),g.selectionService.setSelectedRecords(n),g.parentFieldAccessService.redrawSelectedRow(),g.gridComponent.applyCellsSelectionStyle();var s=n.isRecordRowSelection&&n.isValidEvent&&n.isCellSelection&&!n.isMultiSelection&&n.isCurrentRowSelected,o=g.gridComponent.selectedRows.length,h=g.gridComponent.totalRowsCount;if(setTimeout(function(){var t=$(".wj-topleft > div");o===h?t.addClass(Gn.rowSelectedClass):t.removeClass(Gn.rowSelectedClass)},300),s)MscrmCommon.ControlUtils.Object.isNullOrUndefined(n.selectionEvent)||n.isRecordRowSelection&&n.isValidEvent&&(!n.isCellSelection||n.isMultiSelection||n.isKeyboardNavigation||g.deferStartEditing(n),wr.stopEventPropagation(n.selectionEvent));else if(!r){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)&&e.getRecordId()===n.rowId)return;g.dataSetService.beginRecordSave()}},g.beginningEditHandler=function(t,i){g.parentFieldAccessService.redrawSelectedRow();var n=Ao.buildFromEventArgs(i);1===g.gridComponent.selectedRows.length&&g.gridComponent.selectedRows[0]===n.rowId||(g.gridComponent.cancelSelection(),g.gridComponent.select(i.range));var e=g.parentFieldAccessService.isEditable(n);e===Gs.Unknown&&g.parentFieldAccessService.deferStartEditing(n,g.gridComponent),g.gridComponent.isControlDisabled=!1;var r=g.gridComponent.getCellData(i.row,i.col,!1);e==Gs.No&&g.gridComponent.getColumnByName(n.columnName).dataType==vn.DataType.Array&&r&&0<r.length?g.gridComponent.isControlDisabled=!0:e!==Gs.Yes&&(i.cancel=!0),g.gridComponent.beginningEditHandler(t,i)},g.prepareCellForEditHandler=function(t,i){g.gridComponent.prepareCellForEditHandler(t,i)},g.cellEditEndingHandler=function(t,i){g.gridComponent.cellEditEndingHandler(t,i)},g.cellEditEndedHandler=function(t,i){},g.perfTool=d,g.gridComponent=t,g.typeProcessorService=i,g.parentFieldAccessService=n,g.selectionService=e,g.dataSetService=r,g.errorHandlingService=s,g.navigationService=o,g.containerService=h,g.client=c,g.dataAdapterService=u,g.rowButtonManager=f,g.shouldRefreshGridRecords=!1,g}return bo(t,w),t.prototype.initialize=function(t){var i=t.parameters;qn.isNestedGridConfigured=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.SubGrid),qn.firstInformativeColumnIndex=this.gridComponent.isEditable&&qn.isTouchScreenDevice(t.client)&&qn.isReflowByWidth(this.containerService.maxWidth)?3:2,this.gridComponent.init(),this.gridComponent.initializeColumns(this.typeProcessorService.generateColumnConfiguration(i.Grid.columns,!1,this.gridComponent.isEditable,null,this.containerService.maxWidth)),this.gridComponent.formatItem.addHandler(this.formatItemHandler),this.gridComponent.click.addHandler(this.clickHandler),this.gridComponent.beginningEdit.addHandler(this.beginningEditHandler),this.gridComponent.prepareCellForEdit.addHandler(this.prepareCellForEditHandler),this.gridComponent.cellEditEnding.addHandler(this.cellEditEndingHandler),this.gridComponent.cellEditEnded.addHandler(this.cellEditEndedHandler),this.gridComponent.selectionChanged.addHandler(this.selectionChangedHandler),this.gridComponent.keyDown.addHandler(this.keyDownHandler),this.dataSetService.add_OnDataSetRecordChange(this.datasetUpdateHandler),this.gridComponent.touchStart.addHandler(this.touchStartHandler),this.gridComponent.touchEnd.addHandler(this.touchEndHandler),this.gridComponent.touchMove.addHandler(this.touchMoveHandler),this.gridComponent.dblClick.addHandler(this.dblClickHandler),this.gridComponent.scrollPositionChanged.addHandler(this.scrollPositionChangedHandler),this.gridComponent.selectionChanging.addHandler(this.selectionChangingHandler),this.gridComponent.lostFocus.addHandler(this.lostFocusHandler),qn.isTreeView(i.Grid)&&(this.gridComponent.enableTreeView(),this.gridComponent.loadedRows.addHandler(this.loadedRowsHandler)),this.selectionService.IsMultiSelectionSupported?this.gridComponent.enableMultiSelection():this.gridComponent.disableMultiSelection()},t.prototype.rendering=function(t){this.parentFieldAccessService.refreshDataSet(t.gridDataSet)},t.prototype.stateRestored=function(t){var i=this;this.perfTool.tryStart(se.AdditionalAttributes),t.gridDataSet.generateAdditionalAttributes().done(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent)||(i.perfTool.tryStop(se.AdditionalAttributes),i.gridComponent.updateColumns(i.typeProcessorService.generateColumnUpdate(t.gridDataSet.columns)),i.sizeChange(t),i.shouldRefreshGridRecords||(i.dataAdapterService.refreshRecordItems(t.gridDataSet),i.gridComponent.refresh(),i.shouldRefreshGridRecords=!0))}).fail(function(){i.perfTool.tryStop(se.AdditionalAttributes)})},t.prototype.sizeChange=function(t){if(qn.isUci()){var i=qn.calculateConfiguredGridColumnWidth(this.dataSetService.columns),n=i.totalWidth,e=i.columnCount,r=i.columnWidths,s=qn.isTouchScreenDevice(this.client),o=this.containerService.maxWidth;s&&qn.isReflowByWidth(this.containerService.maxWidth)?o-=Xn.navigateButtonMinimumWidth:qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName())?o-=Xn.specialColumnWithConditionalImageWidthHighDensity:o-=Xn.specialColumnWithConditionalImageWidth;var h=qn.calculateColumnWidth(this.dataSetService,Math.floor(o),n,e,r,s);this.gridComponent.setWijmoColumnWidth(h)}},t.prototype.rendered=function(t){},t.prototype.saving=function(t){w.prototype.saving.call(this,t),this.handleSave(t)},t.prototype.saved=function(t){w.prototype.saved.call(this,t),this.handleSave(t)},t.prototype.getCurrentRecord=function(){var t=this.dataSetService.getCurrentRecord();if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||!t.isDirty())return null;var i=new lo;return i.name="Grid",i.value=t,i},Object.defineProperty(t.prototype,"isEditable",{set:function(t){this.gridComponent.isEditable=t},enumerable:!0,configurable:!0}),t.prototype.handleSave=function(t){this.gridComponent.setRefreshBtnDisabled(this.isSaveInProgress)},t.prototype.deferStartEditing=function(t){var i=this;setTimeout(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent.selection)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent.selection.col)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.gridComponent.selection.row)||i.gridComponent.selection.row!==t.row||i.gridComponent.selection.col!==t.column||i.gridComponent.startEditing(!0,t.row,t.column)},25)},t.prototype.dispose=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridComponent)||(this.gridComponent.formatItem.removeHandler(this.formatItemHandler),this.gridComponent.loadedRows.removeHandler(this.loadedRowsHandler),this.gridComponent.beginningEdit.removeHandler(this.beginningEditHandler),this.gridComponent.cellEditEnding.removeHandler(this.cellEditEndingHandler),this.gridComponent.cellEditEnded.removeHandler(this.cellEditEndedHandler),this.gridComponent.selectionChanged.removeHandler(this.selectionChangedHandler),this.gridComponent.lostFocus.removeHandler(this.lostFocusHandler),this.gridComponent.click.removeHandler(this.clickHandler),this.gridComponent.touchStart.removeHandler(this.touchStartHandler),this.gridComponent.touchEnd.removeHandler(this.touchEndHandler),this.gridComponent.touchMove.removeHandler(this.touchMoveHandler),this.gridComponent.dblClick.removeHandler(this.dblClickHandler),this.gridComponent.scrollPositionChanged.removeHandler(this.scrollPositionChangedHandler),this.gridComponent.selectionChanging.removeHandler(this.selectionChangingHandler),this.gridComponent.keyDown.removeHandler(this.keyDownHandler)),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService)||this.dataSetService.remove_OnDataSetRecordChange(this.datasetUpdateHandler),this.gridComponent=null,this.typeProcessorService=null,this.parentFieldAccessService=null,this.selectionService=null,this.dataSetService=null,this.errorHandlingService=null,this.navigationService=null,this.containerService=null,this.rowButtonManager=null},t}(qe),po=window&&window.__extends||(_s=function(t,i){return(_s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}_s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Eo=function(e){function t(t,i,n){var r=e.call(this,n)||this;return r.filterChangingHandler=function(t,i){r.criticalRegionService.prepareForRiskyOperation()&&!r.isOfflineMode?r.filteringService.configureFilter(i.col):i.cancel=!0},r.filterChangedHandler=function(t,i){if(r.criticalRegionService.prepareForRiskyOperation()&&!r.isOfflineMode){var n=r.filteringService.applyFilter(i.col);i.cancel=n.cancel;var e=_e.getRefreshCurrentDataSetArgs(!0);r.raiseStateChanged(),n.refreshRequired&&r.requestRefresh(e),r.gridComponent.closeFilterEditor()}else i.cancel=!0},r.gridComponent=t,r.filteringService=i,r}return po(t,e),t.prototype.initialize=function(t){this.gridComponent.initializeFiltering(),this.gridComponent.filterChanging.addHandler(this.filterChangingHandler),this.gridComponent.filterChanged.addHandler(this.filterChangedHandler),this.filteringService.buildGridFilterStateCache()},Object.defineProperty(t.prototype,"stateKey",{get:function(){return le.filter},enumerable:!0,configurable:!0}),t.prototype.saveState=function(t){this.filteringService.saveState(t)},t.prototype.applyState=function(t){return this.filteringService.applyState(t)},t.prototype.hasState=function(){return!0},t.prototype.rendered=function(t){this.filteringService.restoreGridFilterStateCache(),this.gridComponent.restoreAllFilters()},t.prototype.dispose=function(){this.gridComponent.filterChanging.removeHandler(this.filterChangingHandler),this.gridComponent.filterChanged.removeHandler(this.filterChangedHandler),this.gridComponent=null,this.filteringService=null},t}(qe),Bo=window&&window.__extends||(qs=function(t,i){return(qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}qs(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),jo=function(r){function t(t,i,n){var e=r.call(this,n)||this;return e.groupingRequestedHandler=function(t,i){e.criticalRegionService.prepareForRiskyOperation()&&(e.groupingComponent.applyGroupBy(i.groupByName),e.groupingService.applyGroupBy(i.groupByName,i.collectionView)&&e.requestRefresh())},e.groupingService=t,e.groupingComponent=i,e}return Bo(t,r),t.prototype.initialize=function(t){this.groupingComponent.initialize(),this.groupingComponent.groupingRequested.addHandler(this.groupingRequestedHandler),this.groupingService.groupingRequested.addHandler(this.groupingRequestedHandler)},Object.defineProperty(t.prototype,"stateKey",{get:function(){return le.groupby},enumerable:!0,configurable:!0}),t.prototype.networkStatusChanged=function(t){r.prototype.networkStatusChanged.call(this,t),this.groupingComponent.disableGroupMenu=this.shouldDisableGrouping},t.prototype.rendering=function(t){this.groupingService.updateView(t.gridView),this.groupingService.applyColumnState(t.gridView)},t.prototype.rendered=function(t){},t.prototype.saveState=function(t){this.groupingService.saveState(t)},t.prototype.applyState=function(t){return this.groupingService.applyState(t)},t.prototype.enteringCriticalRegion=function(){r.prototype.enteringCriticalRegion.call(this),this.groupingComponent.disableGroupMenu=this.shouldDisableGrouping},t.prototype.leftCriticalRegion=function(){r.prototype.leftCriticalRegion.call(this),this.groupingComponent.disableGroupMenu=this.shouldDisableGrouping},t.prototype.hasState=function(){return!0},Object.defineProperty(t.prototype,"shouldDisableGrouping",{get:function(){return this.isOfflineMode||this.isInCriticalRegion},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.groupingComponent.groupingRequested.removeHandler(this.groupingRequestedHandler),this.groupingService.groupingRequested.removeHandler(this.groupingRequestedHandler)},t}(qe),Co=window&&window.__extends||($s=function(t,i){return($s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}$s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Io=function(c){function t(t,i,n,e,r,s,o){var h=c.call(this,s)||this;return h.hasPaging=!1,h.keyboardNavigationHandler=function(t,i){var n=!1;!wr.isKeyCode(i,Gn.kbTabCode)||document.activeElement.id!==h.containerService.getHostId()||i.ctrlKey||i.shiftKey||i.altKey||i.metaKey||-1!==h.gridComponent.selection.col||-1!==h.gridComponent.selection.col2||-1!==h.gridComponent.selection.row||-1!==h.gridComponent.selection.row2||(h.gridComponent.select(0,1),window.setTimeout(function(){var t=document.getElementById(h.containerService.getHostId());MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||t.focus()},0),n=!0),wr.isKeyCode(i,Gn.kbPageUpCode)&&h.hasPaging&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(h.gridComponent.activeEditor)&&(h.pagingComponent.clickPreviousPage(),n=!0),wr.isKeyCode(i,Gn.kbPageDownCode)&&h.hasPaging&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(h.gridComponent.activeEditor)&&(h.pagingComponent.clickNextPage(),n=!0),i.ctrlKey&&i.keyCode===Gn.kbSCode&&(wr.preventDefault(i),n=!0),wr.isKeyCode(i,Gn.kbSpaceCode)&&i.target.tagName===Gn.divNodeTagName&&wr.preventDefault(i),h.gridComponent.handleKeyboardNavigation(i),n&&h.fieldAccessService.redrawSelectedRow()},h.setupEscapeFromCellHandler=function(t,i){h.gridComponent.keyDown.removeHandler(h.escapeFromCellHandler),1===i.range.col&&0===i.range.row&&window.setTimeout(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(h.gridComponent)||h.gridComponent.keyDown.addHandler(h.escapeFromCellHandler)},50)},h.escapeFromCellHandler=function(t,i){!wr.isKeyCode(i,Gn.kbTabCode)||i.ctrlKey||!i.shiftKey||i.altKey||i.metaKey||1!==h.gridComponent.selection.col||1!==h.gridComponent.selection.col2||0!==h.gridComponent.selection.row||0!==h.gridComponent.selection.row2||(h.gridComponent.cancelSelection(),h.selectionService.clearSelectedRecord(),h.gridComponent.keyDown.removeHandler(h.escapeFromCellHandler))},h.groupbyKeyboardHandler=function(t,i){var n=h.groupingComponent.getItemCount();wr.isKeyCode(i,Gn.kbArrowDownCode)&&(h.groupingComponent.selectedIndex=(h.groupingComponent.selectedIndex+1)%n),wr.isKeyCode(i,Gn.kbArrowUpCode)&&(h.groupingComponent.selectedIndex=(h.groupingComponent.selectedIndex-1+n)%n),wr.isKeyCode(i,Gn.kbSpaceCode)&&(h.groupingComponent.isDroppedDown=!h.groupingComponent.isDroppedDown),wr.isKeyCode(i,Gn.kbEnterCode)&&(h.groupingComponent.selectedValue=h.groupingComponent.getValue(h.groupingComponent.selectedIndex),h.groupingComponent.itemClicked.raise(h.groupingComponent,null))},h.gridComponent=t,h.groupingComponent=i,h.pagingComponent=n,h.hasPaging=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(h.pagingComponent),h.containerService=e,h.selectionService=r,h.fieldAccessService=o,h}return Co(t,c),t.prototype.initialize=function(){this.gridComponent.keyDown.addHandler(this.keyboardNavigationHandler),this.gridComponent.selectionChanged.addHandler(this.setupEscapeFromCellHandler),this.gridComponent.enableKeyboardSupport(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.groupingComponent)||this.groupingComponent.keyDown.addHandler(this.groupbyKeyboardHandler)},t.prototype.dispose=function(){this.gridComponent.keyDown.removeHandler(this.keyboardNavigationHandler),this.gridComponent.keyDown.removeHandler(this.escapeFromCellHandler),this.gridComponent.selectionChanged.removeHandler(this.setupEscapeFromCellHandler),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.groupingComponent)||this.groupingComponent.keyDown.removeHandler(this.groupbyKeyboardHandler),this.gridComponent=null,this.groupingComponent=null,this.containerService=null,this.selectionService=null,this.fieldAccessService=null,c.prototype.dispose.call(this)},t}(qe),Qo=window&&window.__extends||(to=function(t,i){return(to=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}to(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Mo=function(r){function t(t,i,n){var e=r.call(this,n)||this;return e.currentPageNumber=0,e.firstPageClickHandler=function(){e.setCurrentPageNumber(),e.criticalRegionService.prepareForRiskyOperation()&&e.paginationService.moveFirstPage()&&e.requestRefresh(_e.getRefreshCurrentDataSetArgs(!1,Ve.LoadFirstPage))},e.previousPageClickHandler=function(){e.setCurrentPageNumber(),e.criticalRegionService.prepareForRiskyOperation()&&e.paginationService.movePreviousPage()&&e.requestRefresh(_e.getRefreshCurrentDataSetArgs(!1,Ve.LoadPreviousPage))},e.nextPageClickHandler=function(){e.setCurrentPageNumber(),e.criticalRegionService.prepareForRiskyOperation()&&e.paginationService.moveNextPage()&&e.requestRefresh(_e.getRefreshCurrentDataSetArgs(!1,Ve.LoadNextPage))},e.paginationService=t,e.paginationComponent=i,e}return Qo(t,r),t.prototype.initialize=function(t){this.paginationComponent.addPreviousPageClicked(this.previousPageClickHandler),this.paginationComponent.addNextPageClicked(this.nextPageClickHandler),this.paginationComponent.addFirstPageClicked(this.firstPageClickHandler)},t.prototype.networkStatusChanged=function(t){r.prototype.networkStatusChanged.call(this,t),this.paginationComponent.disablePagination=this.shouldDisablePagination},t.prototype.rendered=function(t){this.paginationComponent.ensureCorrectPage(t.gridView),this.paginationComponent.setPaginationButtonsState(t.gridDataSet)},t.prototype.stateRestored=function(t){var i=t.gridView;i.pageCount>=this.currentPageNumber&&i.moveToPage(this.currentPageNumber)},t.prototype.enteringCriticalRegion=function(){r.prototype.enteringCriticalRegion.call(this),this.paginationComponent.disablePagination=this.shouldDisablePagination},t.prototype.leftCriticalRegion=function(){r.prototype.leftCriticalRegion.call(this),this.paginationComponent.disablePagination=this.shouldDisablePagination},Object.defineProperty(t.prototype,"shouldDisablePagination",{get:function(){return this.isOfflineMode||this.isInCriticalRegion},enumerable:!0,configurable:!0}),t.prototype.setCurrentPageNumber=function(){this.currentPageNumber=this.paginationComponent.getCurrentPageNumber()},t.prototype.dispose=function(){this.paginationComponent.removePreviousPageClicked(this.previousPageClickHandler),this.paginationComponent.removeNextPageClicked(this.nextPageClickHandler),this.paginationComponent.removeFirstPageClicked(this.firstPageClickHandler)},t}(qe),Fo=window&&window.__extends||(io=function(t,i){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}io(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),yo=function(d){function t(t,i,n,e,r,s,o,h,c,a,u,l,A){var f=d.call(this,l)||this;return f.doubleTap=!1,f.columnWidthByConfiguration={},f.dblClickHandler=function(t,i){if(!(i.target&&i.target instanceof HTMLAnchorElement)){var n=mo.buildFromEvent(i,f.gridComponent,!1);if(-1===n.column){var e=f.dataSetService.dataSet.sortedRecordIds[0],r=f.dataSetService.dataSet.records[e];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)){var s=f.navigationService.createEntityReferenceModel(r);return void f.navigationService.navigateToEntityForm(s)}}n.isRecordRowSelection&&n.isValidEvent&&(r=f.dataSetService.dataSet.records[n.rowId],MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||(s=f.navigationService.createEntityReferenceModel(r),f.navigationService.navigateToEntityForm(s)))}},f.formatItemHandler=function(t,i){var n=go.buildFromEventArgs(i),e=i.panel.columns[i.col],r=qn.getDatasetColumnByName(f.dataSetService.dataSet.columns,e.binding);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&qn.isSelectAllBtnHeaderColumn(e.name)&&i.panel.cellType===vn.grid.CellType.ColumnHeader&&(f.gridComponent.applySelectAllButtonAreaHeader(t,n),f.gridComponent.applyNonSelectableCellStyleFormat(t,i)),f.gridComponent.formatCellDisplayValue(i,e),f.gridComponent.applyCellStyleFormat(t,i),f.gridComponent.applyColumnHeaderFormat(t,i),f.gridComponent.applyColumnHeaderSortingStyle(i),f.gridComponent.fixWordWrapColumnHeaderStyle(i),f.gridComponent.addLearningPathIDs(i),qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName())&&f.gridComponent.applyFilterButtonStyles(),0<f.dataSetService.rollupColumns.length&&f.gridComponent.applyRollupColumnsFormat(t,i),t.selection.isValid||i.panel.cellType===vn.grid.CellType.ColumnHeader||0!==i.row||i.col!==qn.firstInformativeColumnIndex||(i.cell.tabIndex=0)},f.loadedRowsHandler=function(t){var i=t.cells.hostElement,n=f.dataSetService.records?""+Object.keys(f.dataSetService.records).length:"0",e=f.dataSetService.columns?""+f.dataSetService.dataSet.columns.filter(function(t){return!1===t.isHidden}).length:"0";i.hasAttribute(Gn.dataId)||i.setAttribute(Gn.dataId,Gn.cellsDataIdAttributeName),i.setAttribute(Gn.ariaLabel,f.dataSetService.dataSet.getTitle()),i.setAttribute(Gn.dataRowCount,n),i.setAttribute(Gn.dataColumnCount,e)},f.scrollPositionChangedHandler=function(){f.gridComponent.hideHighlightedRow()},f.lostFocusHandler=function(){setTimeout(function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(f.selectionService)||f.selectionService.IsMultiSelectionSupported||f.gridComponent.containsFocus()||f.gridComponent.cancelSelection()},100)},f.clickHandler=function(t,i,n){void 0===n&&(n=!1);var e=i.target;if(e&&e instanceof HTMLAnchorElement)e.open&&e.open(i);else if(e&&e.firstChild){var r=e.firstChild;if(r instanceof HTMLAnchorElement&&r.open)for(var s=mo.buildFromEvent(i,t),o=t.dataSetService.columns,h=0;h<o.length;h++)if(o[h].isPrimary){o[h].name===s.columnName&&r.open(i);break}}},f.focusEventTarget=function(t){t.target.parentElement.focus(),t.stopPropagation(),t.preventDefault()},f.keyDownHandler=function(t,i){var n=f.gridComponent.selection,e=i.keyCode;if(-1<n.row&&-1<n.col){var r=f.gridComponent.findCellHtml(n.row,n.col);if(r&&r.selectPrevItem&&(e==Gn.kbArrowLeftCode?r.isFirsItemSelected()?f.focusEventTarget(i):r.selectPrevItem(i):e==Gn.kbArrowRightCode&&(r.isLastItemSelected()?f.focusEventTarget(i):r.selectNextItem(i))),r&&e==Gn.kbEnterCode){var s=r.firstChild;if(s&&s.open)s.open(i);else{var o=f.gridComponent.row(n.row).dataItem.recId,h=f.dataSetService.dataSet.records[o];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)){var c=f.navigationService.createEntityReferenceModel(h);f.dataSetService.dataSet.openDatasetItem(c)}}}}},f.clearTimer=function(){f.timer&&(clearTimeout(f.timer),f.timer=null)},f.tapHold=function(t,i,n){switch(f.clearTimer(),n.cellType){case vn.grid.CellType.RowHeader:case vn.grid.CellType.TopLeft:qn.click(i.target)}f.gridComponent.showDetailGrid(f.gridComponent.row(n.row)),f.clickHandler(t,i,!0),i.preventDefault()},f.tap=function(t,i){f.clearTimer(),f.dblClickHandler(t,i),i.preventDefault()},f.touchStartHandler=function(t,i){var n=mo.buildFromEvent(i,f.gridComponent);n.isRowHeaderSelected?f.timer=setTimeout(function(){return f.tapHold(t,i,n)},Xn.tapHoldThreshold):f.client&&f.client.userAgent&&f.client.userAgent.isIos&&(f.doubleTap?f.tap(t,i):(f.doubleTap=!0,setTimeout(function(){return f.doubleTap=!1},Gn.doubleTapThreshold)))},f.touchEndHandler=function(t,i){f.timer&&f.tap(t,i)},f.touchMoveHandler=function(t,i){f.clearTimer()},f.selectionChangedHandler=function(t,i){var n=mo.buildFromEventArgs(i,f.selectionService.IsMultiSelectionSupported),e=n.selectionEvent?n.selectionEvent.target:null;e&&e instanceof HTMLAnchorElement?i.cancel=!0:(f.selectionService.setSelectedRecords(n),f.gridComponent.applyCellsSelectionStyle())},f.gridComponent=t,f.typeProcessorService=i,f.selectionService=e,f.dataSetService=r,f.navigationService=s,f.containerService=o,f.client=h,f}return Fo(t,d),t.prototype.initialize=function(t){var i=t.parameters;this.gridComponent.isEditable=!1,qn.firstInformativeColumnIndex=2,this.gridComponent.init(),this.gridComponent.disableDefaultEnterHandler(),this.gridComponent.formatItem.addHandler(this.formatItemHandler),this.gridComponent.loadedRows.addHandler(this.loadedRowsHandler),this.gridComponent.click.addHandler(this.clickHandler),this.gridComponent.touchStart.addHandler(this.touchStartHandler),this.gridComponent.touchEnd.addHandler(this.touchEndHandler),this.gridComponent.touchMove.addHandler(this.touchMoveHandler),this.gridComponent.dblClick.addHandler(this.dblClickHandler),this.gridComponent.scrollPositionChanged.addHandler(this.scrollPositionChangedHandler),this.gridComponent.lostFocus.addHandler(this.lostFocusHandler),this.gridComponent.selectionChanged.addHandler(this.selectionChangedHandler),this.gridComponent.keyDown.addHandler(this.keyDownHandler),qn.isTreeView(i.Grid)&&(this.gridComponent.enableTreeView(),this.gridComponent.loadedRows.addHandler(this.loadedRowsHandler)),this.selectionService.IsMultiSelectionSupported?this.gridComponent.enableMultiSelection():this.gridComponent.disableMultiSelection(),this.initializeColumns()},t.prototype.initializeColumns=function(){var t=this.containerService.maxWidth;this.maxWidth=Math.floor(t),this.cacheConfiguredGridColumnWidth(this.dataSetService.columns);var i=qn.calculateColumnWidth(this.dataSetService,this.maxWidth,this.totalConfiguredWidth,this.visibleColumnCount,this.columnWidthByConfiguration,qn.isTouchScreenDevice(this.client)),n=this.typeProcessorService.generateColumnConfiguration(this.dataSetService.columns,!1,this.gridComponent.isEditable,i);this.gridComponent.initializeColumns(n)},t.prototype.getCurrentRecord=function(){var t=this.dataSetService.getCurrentRecord();if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||!t.isDirty())return null;var i=new lo;return i.name="Grid",i.value=t,i},t.prototype.cacheConfiguredGridColumnWidth=function(t){var i=qn.calculateConfiguredGridColumnWidth(t),n=i.totalWidth,e=i.columnCount,r=i.columnWidths;this.totalConfiguredWidth=n,this.visibleColumnCount=e,this.columnWidthByConfiguration=r},t.prototype.stateRestored=function(t){var i=this.containerService.maxWidth;if(this.maxWidth!==i){this.maxWidth=Math.floor(i);var n=qn.calculateColumnWidth(this.dataSetService,this.maxWidth,this.totalConfiguredWidth,this.visibleColumnCount,this.columnWidthByConfiguration,qn.isTouchScreenDevice(this.client));this.gridComponent.setWijmoColumnWidth(n)}this.gridComponent.updateColumns(this.typeProcessorService.generateColumnUpdate(t.gridDataSet.columns))},t.prototype.dispose=function(){this.gridComponent.formatItem.removeHandler(this.formatItemHandler),this.gridComponent.loadedRows.removeHandler(this.loadedRowsHandler),this.gridComponent.click.removeHandler(this.clickHandler),this.gridComponent.touchStart.removeHandler(this.touchStartHandler),this.gridComponent.touchEnd.removeHandler(this.touchEndHandler),this.gridComponent.touchMove.removeHandler(this.touchMoveHandler),this.gridComponent.dblClick.removeHandler(this.dblClickHandler),this.gridComponent.scrollPositionChanged.removeHandler(this.scrollPositionChangedHandler),this.gridComponent.lostFocus.removeHandler(this.lostFocusHandler),this.gridComponent.selectionChanged.removeHandler(this.selectionChangedHandler),this.gridComponent.keyDown.removeHandler(this.keyDownHandler),this.gridComponent=null,this.typeProcessorService=null,this.selectionService=null,this.dataSetService=null,this.navigationService=null},t}(qe),Ro=window&&window.__extends||(no=function(t,i){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}no(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),xo=function(e){function t(t,i,n){var o=e.call(this,n)||this;return o.multiColumnKey="shiftKey",o.sortingHandler=function(t,i){i.cancel=!0;var n=o;if(n.criticalRegionService.prepareForRiskyOperation()&&!n.shouldDisableSorting){var e=t.columns[i.col].binding;if(t.columns[i.col].allowSorting){var r=MscrmCommon.ControlUtils.Object.isNullOrUndefined(t._mouseHdl._eMouse)?null:t._mouseHdl._eMouse[n.multiColumnKey];n.sortingService.applySorting(e,r)&&n.requestRefresh()}n.gridComponent.onSortedColumn(i);var s=new MutationObserver(function(t){s.disconnect(),window.setTimeout(function(){var t=n.gridComponent.cells.hostElement.querySelectorAll("[role=columnheader]");t&&t[i.col-1]&&t[i.col-1].focus()},100)});s.observe(n.gridComponent.cells.hostElement,{childList:!0})}},o.sortingChangedHandler=function(t,i){o.criticalRegionService.prepareForRiskyOperation()&&!o.shouldDisableSorting&&o.raiseStateChanged()},o.gridComponent=t,o.sortingService=i,o}return Ro(t,e),t.prototype.initialize=function(t){this.gridComponent.sortingColumn.addHandler(this.sortingHandler),this.sortingService.sortingChanged.addHandler(this.sortingChangedHandler)},Object.defineProperty(t.prototype,"stateKey",{get:function(){return le.sort},enumerable:!0,configurable:!0}),t.prototype.saveState=function(t){this.sortingService.saveState(t)},t.prototype.applyState=function(t){return this.sortingService.applyState(t)},t.prototype.hasState=function(){return!0},Object.defineProperty(t.prototype,"shouldDisableSorting",{get:function(){return this.isOfflineMode&&!this.gridComponent.isOfflineFeatureAvailable()||this.isInCriticalRegion},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.gridComponent.sortingColumn.removeHandler(this.sortingHandler),this.sortingService.sortingChanged.removeHandler(this.sortingChangedHandler),this.gridComponent=null,this.sortingService=null},t}(qe),So=function(){},Yo=window&&window.__extends||(eo=function(t,i){return(eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}eo(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Do=function(l){function t(t,i,n,e,r,s,o,h,c,a){var u=l.call(this,i,n,e,r,s,o,h,a)||this;return u.parentGridComponent=t,u.refreshDataSetCallback=c,u}return Yo(t,l),t.prototype.initialize=function(t){this.inputBag=t.parameters,l.prototype.initialize.call(this,t)},t.prototype.showSubGrid=function(t){var i=t.dataItem.recId.toLowerCase();return i!==qn.getSubGridFilterValue(this.dataSetService.dataSet)?(this.currentRow=t,qn.replaceSubGridFilterValue(this.dataSetService.dataSet,i),void this.refreshCurrentDataSet()):(l.prototype.handleDataSetUpdate.call(this,!0,this.getSubGridBag(),!0),this.gridComponent.gridHostingElement)},t.prototype.handleDataSetUpdate=function(t,i){var n=this.getDataSet(i);return!(this.dataSetService.dataSet=n).working&&(l.prototype.handleDataSetUpdate.call(this,t,i,!0),this.gridComponent.refresh(),null!=this.currentRow&&this.parentGridComponent.showDetailGrid(this.currentRow),!0)},t.prototype.refreshDataSetHandler=function(t,i){this.refreshDataSetCallback(new _e(this.dataSetService.dataSet,this,!1,i.operation))},t.prototype.refreshCurrentDataSet=function(){this.refreshDataSetCallback(new _e(this.dataSetService.dataSet,this))},t.prototype.getDataSet=function(t){return t.SubGrid},t.prototype.getSubGridBag=function(){return{EnableGroupBy:this.inputBag.EnableGroupBy,EnableEditing:this.inputBag.EnableEditing,EnableFiltering:this.inputBag.EnableFiltering,ReflowBehavior:this.inputBag.ReflowBehavior,Grid:this.inputBag.SubGrid,SubGrid:this.inputBag.SubGrid,HideNestedGridColumnHeader:this.inputBag.HideNestedGridColumnHeader}},t.prototype.disposeGrid=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.currentGrid)||(null!==this.features&&this.removeFeatureHandlers(),this.currentGrid.dispose(),this.gridComponent=null,this.dataAdapter=null,this.features=null,this.currentGrid=null)},t.prototype.dispose=function(){this.disposeGrid(),l.prototype.dispose.call(this)},t}(ur),Uo=window&&window.__extends||(ro=function(t,i){return(ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}ro(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),No=function(s){function t(t,i,n,e){var r=s.call(this,n)||this;return r.parentGridComponent=t,r.gridBuilder=i,r.details=[],r.perfTool=e,r}return Uo(t,s),t.prototype.initialize=function(t){var i=(this.context=t).parameters;if(this.inputBag=i,!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.SubGrid)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(qn.getDatasetColumnByAlias(i.SubGrid.columns,Zn.SubGridParentIdName))){if(this.dataSet=i.SubGrid,!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet)&&!this.dataSet.hasError){var n=this.dataSet.filtering,e={filterOperator:0,conditions:null,filters:[{filterOperator:0,conditions:[{attributeName:Zn.SubGridParentIdName,conditionOperator:0,value:"00000000-0000-0000-0000-000000000000"}]}]};n.setFilter(e)}this.parentGridComponent.createGridDetail(this.createDetailGrid.bind(this),this.isRowHasDetail.bind(this),this.disposeDetailGrid.bind(this))}},t.prototype.getCurrentRecord=function(){if(0===this.details.length)return null;var t=this.details[this.details.length-1].root.getService(Je.dataSetService).getCurrentRecord();if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||!t.isDirty())return null;var i=new lo;return i.name="SubGrid",i.value=t,i},t.prototype.createDetailGrid=function(t){var i,n=t.dataItem.recId.toLowerCase(),e=!1;for(i=0;i<this.details.length;i++)if(n===this.details[i].recId){e=!0;break}if(!e){var r=document.createElement("div");if(this.dataSet.hasError)return r.innerText=this.dataSet.errorMessage,r;r.setAttribute(Gn.parentRecordIdAttributeName,n);var s=us.No;s=qn.parsePropertyOrDefault(this.inputBag.HideNestedGridColumnHeader,ys.parseValue,us.No);var o=this.gridBuilder.build(r,this.dataSet,!0,this.criticalRegionService,this.perfTool,s);qn.isDetail=!0;var h=o.gridFeatures,c=o.gridComponent;c.parentComponent=this.parentGridComponent;var a=o.getService(Je.dataAdapter),u=o.getService(Je.stateService),l=o.getService(Je.dataSetService),A=o.getService(Je.errorHandlingService);c.hideNestedGridColumnHeader=s;var f=new Do(this.parentGridComponent,h,c,a,u,l,this.criticalRegionService,A,this.requestRefresh.bind(this),this.perfTool);this.context.parameters.Grid=this.context.parameters.SubGrid,f.initialize(this.context);var d=new So;d.coordinator=f,d.root=o,d.recId=n,d.rootElement=r,this.details.push(d),i=this.details.length-1;var g=d.coordinator.showSubGrid(t);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(g))return}return this.details.length>i?this.details[i].rootElement:null},t.prototype.isRowHasDetail=function(t){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.dataItem.recId)||this.dataSet.hasError},t.prototype.disposeDetailGrid=function(t){var i,n=t;if(n.detail.hasAttribute(Gn.parentRecordIdAttributeName)&&(i=n.detail.getAttribute(Gn.parentRecordIdAttributeName)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.details)){var e=null,r=void 0;for(r=0;r<this.details.length;r++)if(i===this.details[r].recId){e=this.details[r];break}e&&(this.details.splice(r,1),e.coordinator.dispose(),e.root.dispose())}},t.prototype.disposeRowDetail=function(t){for(var i=0,n=t;i<n.length;i++){var e=n[i];MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||(e.coordinator.dispose(),e.root.dispose())}},t.prototype.dispose=function(){this.disposeRowDetail(this.details),this.details=null},t}(qe),To=function(){function A(){}return A.apply=function(t){if(!A.applied){A.userAgent=t;var i=vn;i.grid.filter.ValueFilter.prototype.apply=A.applyValueFilter,i.grid.filter.ConditionFilter.prototype.apply=A.applyConditionFilter,i.input.DropDown.prototype._handleResize=A._handleResize,i.grid._MouseHandler.prototype._mousedown=A._mousedown,i.grid._MouseHandler.prototype._click=A._click,i.grid._MouseHandler.prototype._mousemove=A._mousemove,i.grid._EditHandler.prototype.getClipString=A.getClipString,i.mouseToPage=A.mouseToPage,i.input.AutoComplete.prototype._setText=A._autocompleteSetText;var n=i.grid._KeyboardHandler.prototype._keydown;i.grid._KeyboardHandler.prototype._keydown=A._keyDown(n),i.input.InputNumber.prototype.onGotFocus=A.inputNumberOnGotFocus,i.input.InputNumber.prototype._updateSymbols=A._updateSymbols,i.hidePopup=A.hidePopup,i.grid.filter.ColumnFilterEditor.prototype._handleResize=A.filterHandleResize,i.grid.filter.FlexGridFilter.prototype.editColumnFilter=A.editColumnFilter,i.grid.FlexGrid.prototype._setFocus=A._setFocus,i.grid.FlexGrid.prototype._setFocusNoScroll=A._setFocusNoScroll,i.grid.FlexGrid.controlTemplate=A.controlTemplate,i.grid.filter.FlexGridFilter.prototype.closeEditor=A._closeEditor,i.Control.prototype.focus=A._setControlFocus,A._patchGetDefaultRowHeight(i),A._patchGetDefaultCellPadding(i),A._patchRefresh(i),A.applied=!0}},A.mouseToPage=function(t){if(t instanceof vn.Point)return t;if(t.touches&&0<t.touches.length?t=t.touches[0]:t.changedTouches&&0<t.changedTouches.length&&(t=t.changedTouches[0]),vn.isNumber(t.clientX)&&vn.isNumber(t.clientY))return new vn.Point(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."},A._keyboardSort=function(i,n,t){if(n.range&&n.panel){var e=n.panel.columns[n.col],r=i._getBindingColumn(n.panel,n.row,e),s=r?r._getBindingSort():null;if(r.allowSorting&&s){for(var o=n.grid.collectionView.sortDescriptions,h=null,c=0;c<o.length;c++)if(o[c].property==s){h=!o[c].ascending;break}if(null==h){if(t)return;h=!0}var a=new vn.grid.CellRangeEventArgs(n.panel,n.range);i.onSortingColumn(a)&&(i._edtHdl._commitRowEdits(),t?o.clear():o.splice(0,o.length,new vn.collections.SortDescription(s,h)),i.onSortedColumn(a));var u=new MutationObserver(function(t){u.disconnect(),window.setTimeout(function(){var t=i.cells.hostElement.querySelectorAll("[role=columnheader]");t&&t[n.col-1]&&t[n.col-1].focus()},100)});u.observe(i.cells.hostElement,{childList:!0})}}},A._keyDown=function(l){return function(n){var e=this._g,r=new vn.grid.HitTestInfo(n.target,null);if(-1!==r.row&&1===r.col&&!n.ctrlKey&&!n.shiftKey&&!n.altKey&&!n.metaKey&&!vn.hasClass(n.target,Xn.headerCSSClass)&&(wr.isKeyCode(n,Gn.kbArrowUpCode)||wr.isKeyCode(n,Gn.kbArrowDownCode)||wr.isKeyCode(n,Gn.kbSpaceCode)||!e.rightToLeft&&wr.isKeyCode(n,Gn.kbArrowRightCode)||e.rightToLeft&&wr.isKeyCode(n,Gn.kbArrowLeftCode))){var t=Math.max(0,e._szClient.height-e.columnHeaders.height),i=r.row,s=r.col,o=e.cells.getCellElement(i,s);switch(n.keyCode){case Gn.kbArrowUpCode:i=e.rows.getNextCell(r.row,vn.grid.SelMove.Prev,t);break;case Gn.kbArrowDownCode:i=e.rows.getNextCell(r.row,vn.grid.SelMove.Next,t);break;case Gn.kbArrowLeftCode:case Gn.kbArrowRightCode:if(i=r.row,qn.isUCIDisruptiveFeatureEnabled(qn.getGridHierarchyIconFCB())&&(u=n.target.getElementsByClassName(Gn.ccHierarchyIconCSSClass))&&0<u.length)return u[0].focus(),void n.preventDefault();s=Math.min(r.col+1,e.columns.length-1),A._handleSelection(r,e,i,s,!0);break;case Gn.kbSpaceCode:A._handleSelection(r,e,r.row,r.col,!1)}return(a=e.cells.getCellElement(i,s))&&(vn.setAttribute(o,Gn.tabIndex,-1),vn.setAttribute(a,Gn.tabIndex,0),(e._activeCell=a).focus()),void n.preventDefault()}if(-1==r.row&&n.keyCode==Gn.kbTabCode&&!n.altKey&&!n.metaKey){var h=!1;if(n.shiftKey?1<r.col&&e.viewRange&&r.col==e.viewRange.col&&(h=!0):r.col<e.columns.length-1&&e.viewRange&&e.viewRange.col2==r.col?h=!0:r.col==e.columns.length-1&&e.scrollIntoView(0,0,!0),h){n.preventDefault(),n.stopImmediatePropagation();var c=new MutationObserver(function(t){c.disconnect(),window.setTimeout(function(){var t=e.cells.hostElement.querySelectorAll("[role=columnheader]"),i=n.shiftKey?-1:1;t&&t[r.col+i]&&t[r.col+i].focus()},100)});c.observe(e.columnHeaders.hostElement,{childList:!0}),n.shiftKey?e.scrollIntoView(0,e.viewRange.col-1):e.scrollIntoView(0,r.col+1)}}if(-1!==r.row||n.shiftKey||n.altKey||n.metaKey){if(qn.isUCIDisruptiveFeatureEnabled(qn.getGridHierarchyIconFCB())){if(-1!==r.row&&1==r.col&&!n.ctrlKey&&!n.shiftKey&&!n.altKey&&!n.metaKey&&n.target.classList.contains(Gn.ccHierarchyIconCSSClass)&&(wr.isKeyCode(n,Gn.kbEnterCode)||e.rightToLeft&&wr.isKeyCode(n,Gn.kbArrowRightCode)||!e.rightToLeft&&wr.isKeyCode(n,Gn.kbArrowLeftCode))){switch(i=r.row,s=r.col,o=e.cells.getCellElement(i,s),n.keyCode){case Gn.kbEnterCode:return n.target.dispatchEvent(new Event("mousedown")),n.preventDefault(),void n.stopImmediatePropagation();case Gn.kbArrowLeftCode:case Gn.kbArrowRightCode:i=r.row,s=r.col,A._handleSelection(r,e,i,s,!0)}return(a=e.cells.getCellElement(i,s))&&(vn.setAttribute(o,Gn.tabIndex,-1),vn.setAttribute(a,Gn.tabIndex,0),(e._activeCell=a).focus()),void n.preventDefault()}if(-1!==r.row&&2==r.col&&!n.ctrlKey&&!n.shiftKey&&!n.altKey&&!n.metaKey&&(e.rightToLeft&&wr.isKeyCode(n,Gn.kbArrowRightCode)||!e.rightToLeft&&wr.isKeyCode(n,Gn.kbArrowLeftCode)))switch(i=r.row,s=r.col,o=e.cells.getCellElement(i,s),n.keyCode){case Gn.kbArrowLeftCode:case Gn.kbArrowRightCode:var a,u;if(i=r.row,s=1,(a=e.cells.getCellElement(i,s))&&(u=a.getElementsByClassName(Gn.ccHierarchyIconCSSClass))&&0<u.length)return A._handleSelection(r,e,i,s,!0),vn.setAttribute(o,Gn.tabIndex,-1),vn.setAttribute(a,Gn.tabIndex,0),e._activeCell=a,u[0].focus(),void n.preventDefault()}}l.apply(this,arguments)}else{switch(h=!1,n.keyCode){case Gn.kbEnterCode:A._keyboardSort(e,r,!!n.ctrlKey&&n.ctrlKey),h=!0;break;case Gn.kbSpaceCode:return 1===r.col?void n.preventDefault():void 0;case Gn.kbArrowUpCode:case Gn.kbArrowDownCode:case Gn.kbArrowLeftCode:case Gn.kbArrowRightCode:h=!0}h&&(n.preventDefault(),n.stopImmediatePropagation())}}},A._handleSelection=function(t,i,n,e,r){if(-1<t.row&&-1<t.col){var s=i.rows,o=i._selHdl._sel,h=new vn.grid.CellRange(t.row,t.col);i._mouseHdl._startListBoxSelection(t.row);for(var c=!1,a=0;a<s.length;a++){var u=h.containsRow(a)?i._mouseHdl._lbSelState:null!=i._mouseHdl._lbSelRows[a];if(r&&(u=a===n),u!==s[a].isSelected){var l=new vn.grid.CellRangeEventArgs(i.cells,new vn.grid.CellRange(a,o.col,a,o.col2));i.onSelectionChanging(l)&&(s[a]._setFlag(vn.grid.RowColFlags.Selected,u,!0),c=!0,i.onSelectionChanged(l))}}(c||o&&o.row===n)&&(o.row=n,o.col=e,i.refreshCells(!1,!0,!0))}},A._patchGetDefaultRowHeight=function(t){this._overrideIfCanUseSizeCaching(t,"_getDefaultRowHeight",function(){return Xn.defaultMinRowHeight})},A._patchGetDefaultCellPadding=function(t){this._overrideIfCanUseSizeCaching(t,"_getDefaultCellPadding",function(){return Xn.tableBodyPadding})},A._patchRefresh=function(t){this._overrideIfCanUseSizeCaching(t,"refresh")},A._overrideIfCanUseSizeCaching=function(t,i,n){var e=t.grid.FlexGrid.prototype[i];t.grid.FlexGrid.prototype[i]=function(){var t=this;if(Hs(this)){if(n)return n();var i=arguments;return zs(this._root,function(){return e.apply(t,i)})}return e.apply(this,arguments)}},A.applied=!1,A._closeEditor=function(){var t=this._g,i=vn.Control.getControl(this._divEdt),n=this._edtCol,e=!1;if(i&&(e=!0,vn.hidePopup(this._divEdt,function(){i.dispose()})),n){var r=t.columnHeaders,s=r.rows.length?r.getCellElement(r.rows.length-1,n.index):null;this._setAriaExpanded(s,!1),s=t.cells.getCellElement(-1,n.index),this._setAriaExpanded(s,!1),s&&"columnheader"==s.getAttribute("role")&&s.focus()}!e&&this._divEdt&&vn.hidePopup(this._divEdt,function(){}),this._divEdt=null,this._edtCol=null},A._setControlFocus=function(){var t=this._e;t&&(vn.isIE()?t.focus():t.tabIndex<0?vn.moveFocus(t,0):t.focus())},A._setFocus=function(t){if(this.hostElement&&(t||!this.containsFocus())){var i=vn.getActiveElement(),n=this._eFocus;if(i&&i.getAttribute&&"columnheader"==i.getAttribute("role"))return;this.activeEditor?vn.contains(this.activeEditor,i)||(this._setFocusNoScroll(this.activeEditor),n.removeAttribute("tabindex")):this._activeCell?vn.contains(this._activeCell,i)||i!=this._root&&(this._setFocusNoScroll(this._activeCell),n.removeAttribute("tabindex")):vn.contains(n,i)||n.focus(),this.containsFocus()||n.focus()}},A._setFocusNoScroll=function(t){if("columnheader"!=t.getAttribute("role")){var i=this.scrollPosition;t!=this._eFocus&&(t.tabIndex=this._tabIndex,t.focus()),this.scrollPosition=i}},A.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;max-width:inherit;max-height:inherit;-webkit-overflow-scrolling:touch;"><div wj-part="cells" class="wj-cells" style="position:absolute"></div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none;"><div style="width:100%;height:100%"></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone" style="position:absolute;pointer-events:none;overflow:hidden"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell" style="position:fixed;'+("rtl"===window.document.body.dir?"right:-32000px":"left:-32000px")+'">0</div><div wj-part="sz" style="position:relative;visibility:hidden"></div></div>',A.filterHandleResize=function(){this._wasTouching||vn.grid.filter.ColumnFilterEditor.prototype.onButtonClicked()},A.editColumnFilter=function(t,i){var n=this;this.closeEditor(),t=this._asColumn(t);var e=new vn.grid.CellRangeEventArgs(this._g.cells,new vn.grid.CellRange(-1,t.index));if(this.onFilterChanging(e)){e.cancel=!0;var r=document.createElement("div"),s=this.getColumnFilter(t),o=new vn.grid.filter.ColumnFilterEditor(r,s,this.showSortButtons);vn.addClass(r,"wj-dropdown-panel"),this._divEdt=r,this._edtCol=t,this._g.rightToLeft&&(r.dir="rtl"),o.filterChanged.addHandler(function(){e.cancel=!1,setTimeout(function(){e.cancel||n.apply()})}),o.buttonClicked.addHandler(function(){n.closeEditor(),n._g.focus(),n.onFilterChanged(e)}),o.lostFocus.addHandler(function(){setTimeout(function(){var t=vn.Control.getControl(n._divEdt);t&&!t.containsFocus()&&n.closeEditor()},10)});var h=this._g;h._edtHdl._commitRowEdits(),h.scrollIntoView(-1,t.index,!0);var c=this._g.columnHeaders,a=i&&i.panel==c?i.row:c.rows.length-1,u=i?i.col:t.index,l=c.getCellBoundingRect(a,u),A=c.getCellElement(a,u);A?vn.showPopup(r,A,!1,!1,!1):vn.showPopup(r,l),this._setAriaExpanded(A,!0),this._setAriaExpanded(h.cells.getCellElement(-1,u),!0);for(var f=o.hostElement.querySelectorAll("input"),d=0;d<f.length;d++){var g=f[d];if(0<g.offsetHeight&&-1<g.tabIndex&&!g.disabled){g.focus();break}}o.containsFocus()||o.focus()}else this._divEdt=this._edtCol=null},A.applyValueFilter=function(i){var t=this.column;return!(this._bnd&&this._values&&Object.keys(this._values).length)||(t.dataType==vn.DataType.Array?(i=this.dataMap?this.dataMap.getDisplayValues(i):t.dataMap?t.dataMap.getDisplayValues(i):vn.Globalize.format(i,t.format),Object.keys(this._values).every(function(t){return 0<=i.indexOf(t)})):(i=this._bnd.getValue(i),i=this.dataMap?this.dataMap.getDisplayValue(i):t.dataMap?t.dataMap.getDisplayValue(i):vn.Globalize.format(i,t.format),null!=this._values[i]))},A.applyConditionFilter=function(t){var i=this._col,n=this._c1,e=this._c2;if(!this._bnd||!this.isActive)return!0;t=this._bnd.getValue(t),i.dataMap?t=i.dataMap.getDisplayValue(t):vn.isDate(t)?(vn.isString(n.value)||vn.isString(e.value))&&(t=vn.Globalize.format(t,i.format)):vn.isNumber(t)?t=vn.Globalize.parseFloat(vn.Globalize.format(t,i.format)):i.dataType===vn.DataType.Object&&t.Name&&(t=t.Name);var r=n.apply(t),s=e.apply(t);return n.isActive&&e.isActive?this._and?r&&s:r||s:n.isActive?r:!e.isActive||s},A.getClipString=function(t){var i=this._g,n="",e=!0;t||(t=i.selection);for(var r=(t=vn.asType(t,vn.grid.CellRange)).topRow;r<=t.bottomRow;r++)if(i.rows[r].isVisible){e||(n+="\n"),e=!1;for(var s=t.leftCol,o=!0;s<=t.rightCol;s++)if(i.columns[s].isVisible){o||(n+="\t"),o=!1;var h=i.cells.getCellData(r,s,!0).toString()?i.cells._activeCell.textContent:"";-1<(h=h.replace(/\t/g," ")).indexOf("\n")&&(h='"'+h.replace(/"/g,'""')+'"'),n+=h}}return n},A._handleResize=function(){this.isDroppedDown&&(this.refresh(),this.isDroppedDown=!0)},A._mousemove=function(t){if(null!=this._htDown){if(0==t.buttons&&this._eMouse&&600<t.timeStamp-this._eMouse.timeStamp)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else switch(this._htDown.cellType){case vn.grid.CellType.Cell:this._mouseSelect(t,t.shiftKey);break;case vn.grid.CellType.RowHeader:0==(this._g.allowDragging&vn.grid.AllowDragging.Rows)&&this._mouseSelect(t,!0)}}},A._mousedown=function(t){var i=this._g,n=i.hitTest(t),e=n.cellType,r=t.ctrlKey||t.metaKey;if(this._selDown=i.selection,n.panel==i.cells){if(vn.closestClass(t.target,vn.grid.CellFactory._WJC_DROPDOWN)){t.preventDefault();var s=function(){MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i._edtHdl)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i._edtHdl._toggleListBox)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||i._edtHdl._toggleListBox(t,n.range)};return void(A.userAgent&&A.userAgent.isIos?setTimeout(s,500):s())}if(i.editRange&&i.editRange.contains(n.range))return}var o=vn.getActiveElement();if(t.target!=o||!i._isInputElement(t.target))if(e!=vn.grid.CellType.None){if(this._htDown=n,this._eMouse=t,null!=this._szRowCol)return o!=i._eFocus&&(i._eFocus.tabIndex=0,i._eFocus.focus()),void this._handleResizing(t);switch(e){case vn.grid.CellType.Cell:1!=n.col?(r&&i.selectionMode==vn.grid.SelectionMode.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(t,t.shiftKey)):0==(this._g.allowDragging&vn.grid.AllowDragging.Rows)&&(i.selectionMode==vn.grid.SelectionMode.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(t,t.shiftKey));break;case vn.grid.CellType.RowHeader:0==(this._g.allowDragging&vn.grid.AllowDragging.Rows)&&(i.selectionMode==vn.grid.SelectionMode.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(t,t.shiftKey))}if(e==vn.grid.CellType.Cell&&-1<i.rows.maxGroupLevel&&vn.closestClass(t.target,vn.grid.CellFactory._WJC_COLLAPSE)){var h=vn.tryCast(i.rows[n.row],vn.grid.GroupRow);if(h)return r?i.collapseGroupsToLevel(h.isCollapsed?h.level+1:h.level):h.isCollapsed=!h.isCollapsed,void this.resetMouseState()}}else i._edtHdl._commitRowEdits()},A._click=function(t){if(50<Date.now()-this._tsLast&&!t.pointerType){var i=this._g,n=t.target,e=new vn.grid.HitTestInfo(n,null);if(!t.defaultPrevented&&e.grid==i&&!i._isInputElement(n))if(e.panel==i.topLeftCells)Ls.selectAllOrNothing(i);else if(e.panel==i.columnHeaders)this._eMouse=t,this._clickSort(t,e);else if(e.panel==i.rowHeaders||1==e.col)this._startListBoxSelection(e.row),this._mouseSelect(t,t.shiftKey);else if(e.panel==i.cells&&1!=e.col)if(e.row<0)this._clickSort(t,e);else if(vn.closestClass(n,vn.grid.CellFactory._WJC_COLLAPSE)){var r=i.rows[e.row];r instanceof vn.grid.GroupRow&&(t.ctrlKey?i.collapseGroupsToLevel(r.isCollapsed?r.level+1:r.level):r.isCollapsed=!r.isCollapsed)}else vn.closestClass(n,vn.grid.CellFactory._WJC_DROPDOWN)?i._edtHdl._toggleListBox(t,e.range):i.select(e.range)}},A._autocompleteSetText=function(t){var n=this;if(!this._inCallback){if(!t&&-1<this.selectedIndex&&(this.selectedIndex=-1),t!=this._oldText&&(this._tbx.value!=t&&(this._tbx.value=t),this._oldText=t,this.onTextChanged(),!t&&this.collectionView))return this._rxHighlight=null,this.collectionView.filter=this._query=null,void(this.isDroppedDown=!1);this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){n._toSearch=null;var t=n.text.trim().toLowerCase();if(t.length>=n._minLength&&t!=n._query){t=(n._query=t).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var i=vn.escapeHtml(t);n._rxMatch=new RegExp("(?=.*"+t.replace(/ /g,")(?=.*")+")","ig"),n._rxHighlight=n.isContentHtml?new RegExp("("+i.replace(/ /g,"|")+")(?![^<]*>|[^<>]* </)","ig"):new RegExp("("+i.replace(/ /g,"|")+")","ig"),n.itemsSourceFunction?n.itemsSourceFunction(t,n.maxItems,n._itemsSourceFnCallBackBnd):n._updateItems()}},this._delay))}},A.inputNumberOnGotFocus=function(t){if(!this.isTouching){this._tbx.focus();var i=this.text.indexOf(this._chrDec);i<0&&(i=this._getInputRange(!0)[1]),vn.setSelectionRange(this._tbx,i)}vn.Control.prototype.onGotFocus.call(this,t)},A._updateSymbols=function(){var t=vn.culture.Globalize.numberFormat,i=this.format?this.format.match(/([a-z])(\d*)(,*)(.*)/i):null;this._chrDec=t["."]||".",this._chrNeg=t["-"]||"-",this._chrCur=i&&i[4]?i[4]:t.currency.symbol||"$",this._fmtSpc=i&&i[1]?i[1].toLowerCase():"n",this._fmtPrc=i&&i[2]?parseInt(i[2]):null,this._rxSym=new RegExp("^[%+\\-() "+this._chrDec+this._chrCur+"]*$"),this._rxNeg=new RegExp("(\\-|\\()")},A.hidePopup=function(i,n,t){void 0===n&&(n=!0),void 0===t&&(t=!1),t?vn.animate(function(t){i.style.opacity=(1-t).toString(),1==t&&(A.internalHidePopup(i,n),i.style.opacity="")}):A.internalHidePopup(i,n)},A.internalHidePopup=function(t,i){t.style.display="none",i&&t.parentElement&&"none"==t.style.display&&vn.removeChild(t);var n=t[vn.Control._SCRL_KEY];n instanceof vn.Control&&n.dispose(),delete t[vn.Control._SCRL_KEY],delete t[vn.Control._OWNR_KEY]},A}(),Oo=function(){function t(){}return t.prototype.onSelectionChanged=function(t){},t.prototype.sendPoliteMessage=function(t){},t.prototype.sendAssertiveMessage=function(t){},t.prototype.sendPoliteCellValueMessage=function(t,i){},t.prototype.sendAssertiveCellValueMessage=function(t,i){},t.prototype.dispose=function(){},t}(),Ho=window&&window.__extends||(so=function(t,i){return(so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}so(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),zo=function(r){function t(t,i,n){var e=r.call(this)||this;return e.component=t,e.dataSetService=i,e.typeProcessorService=n,e}return Ho(t,r),t.prototype.sendPoliteMessage=function(t){this.component.sendPoliteMessage(t)},t.prototype.sendAssertiveMessage=function(t){this.component.sendAssertiveMessage(t)},t.prototype.sendPoliteCellValueMessage=function(t,i){var n=this.getCellValueMessage(t,i);this.component.sendPoliteMessage(n)},t.prototype.sendAssertiveCellValueMessage=function(t,i){var n=this.getCellValueMessage(t,i);this.component.sendAssertiveMessage(n)},t.prototype.onSelectionChanged=function(t){if(!t.isMultiSelection&&t.isCellSelection){var i=this.dataSetService.getRecordById(t.rowId),n=qn.getDatasetColumnByName(this.dataSetService.columns,t.columnName);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)){var e=n.displayName,r=this.getAriaFormattedValue(i,n);this.sendAssertiveCellValueMessage(r,e)}}},t.prototype.getAriaFormattedValue=function(t,i){var n=this.typeProcessorService.getValue(t,i,null,!0);return MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(n)?On.emptyCellAriaLabel:n},t.prototype.getCellValueMessage=function(t,i){return MscrmCommon.ControlUtils.String.Format(On.cellTemplateAriaLabel,t,i)},t.prototype.dispose=function(){this.component=null},t}(Oo),Jo=function(){function t(t,i,n,e,r,s,o,h){if(this.html="",this.learningPathService=null,this._maxHeight=-1,this._maxWidth=-1,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))throw new Error("Id for container not set.");this.containerId=t,this.gridControlState=i,this._maxWidth=n,this._maxHeight=e,this.hasGroupBy=r,this.container=s,this.client=o,this.learningPathService=h}return Object.defineProperty(t.prototype,"maxWidth",{get:function(){return-1===this._maxWidth&&(this._maxWidth=this.container.clientWidth),this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return-1===this._maxHeight&&(this._maxHeight=this.container.clientHeight),this._maxHeight},enumerable:!0,configurable:!0}),t.prototype.buildSearchPlaceholder=function(){this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}"></div>',this.containerId+Gn.searchPlaceholderPostfix)},t.prototype.buildErrorArea=function(t){void 0===t&&(t=""),this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}" {2}></div> <div id="{1}" {2}></div>',this.containerId+Gn.genericErrorPostfix+t,this.containerId+Gn.updateErrorPostfix+t,qn.isEditableGridOnLegacyClient(this.isEditable)?null:'style="display: flex;"')},t.prototype.getGridStyle=function(){if(qn.isEditableGridOnLegacyClient(this.isEditable)){var t=this.calcGridHeightFromControlHeight(this.maxHeight);return MscrmCommon.ControlUtils.String.Format('style = "width: {0}px; height: {1}px;"',this.maxWidth.toString(),t.toString())}return'style = "width:100%;display:flex;'+(this.client.userAgent.isBrowserIE?"flex-basis:100%;":"")+'"'},t.prototype.buildGrid=function(t){var i="";if(!t)if(i=this.getGridStyle(),qn.isEditableGridOnLegacyClient(this.isEditable)){var n=this.calcGridHeightFromControlHeight(this.maxHeight);this.html+=MscrmCommon.ControlUtils.String.Format('<div style="position:relative;height:{0}px;min-height:250px;">',n)}else this.html+='<div style="position:relative;display:flex;width:100%;flex:1 1 auto;">';var e='<div id="{0}" aria-label="{1}" class="editableGrid {2}" {3}></div>';e=this.learningPathService.addLearningPathId(e,Gn.lpGridId),this.html+=MscrmCommon.ControlUtils.String.Format(e,this.getHostId(),On.editableGridAriaLabel,t?Gn.nestedGridDetailClass:MscrmCommon.ControlUtils.String.Empty,i),this.html+=this.buildProgressIndicator(),this.html+=MscrmCommon.ControlUtils.String.Format('<div id="{0}{1}" class="{2}" style="display:none">{3}</div>',this.containerId,Gn.noRecordsPostfix,qn.isUci()?Gn.noRecordsContainerClass:Gn.noRecordsLabelClass,On.noRecordsText),t||(this.html+="</div>")},t.prototype.buildProgressIndicator=function(){return MscrmCommon.ControlUtils.String.Format('<div id="{0}{1}" class="{2}" style="width:100%;position:absolute;display:none;"></div>',this.containerId,Gn.progressIndicatorPostfix,Gn.gridProgressIndicatorClass)},t.prototype.buildFooter=function(t){void 0===t&&(t=!0);var i="",n="",e=qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName())?"style='font-size:12px'":"",r=qn.isUci()?'<span class="symbolFont FirstPageButton-symbol" '+e+"></span>":'<span class="symbolFont BackButton-symbol"></span><span class="symbolFont BackButton-symbol"></span>';n+='<div class="cc-grid-pager"><div class="wj-control wj-content wj-pager" id= "{1}"><div class="wj-input-group">',n+='<span class="wj-input-group-btn">     <button id={2} title={3} aria-label="{3}" type="button" class="wj-btn wj-btn-default" tabindex="0" '+e+" >    {4}    </button>    </span>",n+='<span class="wj-input-group-btn">    <button id="{5}" title="{6}" aria-label="{6}" type="button" class="wj-btn wj-btn-default" tabindex="0">    <span class="symbolFont BackButton-symbol" '+e+"></span>    </button>    </span>",n+='<span class="wj-input-group-btn">    <span class="cc-grid-paging-current" title="{7}"',n+=e+"></span>  </span>",n+='<span class="wj-input-group-btn">    <button id="{8}" title="{9}" aria-label="{9}" type="button" class="wj-btn wj-btn-default" tabindex="0" '+e+'>    <span class="symbolFont Forward-symbol"></span>   </button>    </span>',n+="</div></div></div>",i+=t?'<div class="cc-grid-footer"><div id={0} class="cc-grid-status-area"></div>':'<div class="cc-grid-footer" style="display:none;"><div id={0} class="cc-grid-status-area"></div>',i+=n=this.learningPathService.addLearningPathId(n,Gn.lpGridFooterPagerId),i+="</div>",i=this.learningPathService.addLearningPathId(i,Gn.lpGridFooterId),this.html+=MscrmCommon.ControlUtils.String.Format(i,this.containerId+Gn.statusAreaPostfix,this.containerId+Gn.pagerPostfix,this.containerId+Gn.firstPagePostfix,On.firstPageTooltipLabel,r,this.containerId+Gn.previousPagePostfix,On.previousPageTooltipLabel,On.currentPageTooltipLabel,this.containerId+Gn.nextPagePostfix,On.nextPageTooltipLabel)},t.prototype.buildGroupBy=function(){var t='<label class="label" role = "presentation" for="{0}" id="{1}">{2}</label>';t=this.learningPathService.addLearningPathId(t,"cc-grid-groupby|label");var i="";i=qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName())?'<div class="cc-grid-groupby" style="display:flex;min-height: 30px;padding:4px 20px 0px 20px;">'+t+'<select id="{0}" tabindex="0"></select></div>':'<div class="cc-grid-groupby" style="display:flex;min-height: 30px;">'+t+'<select id="{0}" tabindex="0"></select></div>',i=this.learningPathService.addLearningPathId(i,"cc-grid-groupby"),this.html+=i;var n=this.containerId+Gn.groupBySelectPostfix,e=n+Gn.labelPostfix;this.html=MscrmCommon.ControlUtils.String.Format(this.html,n,e,On.groupByMenuHeaderLabel)},t.prototype.buildAriaLiveNotificationArea=function(){this.html+='<span id="{0}" class="cc-grid-accessibility-cue" aria-hidden="true" aria-live="polite" role="status"></span>',this.html+='<span id="{1}" class="cc-grid-accessibility-cue" aria-hidden="true" aria-live="assertive" role="alert"></span>',this.html=MscrmCommon.ControlUtils.String.Format(this.html,this.containerId+Gn.ariaPoliteLiveRegionPostfix,this.containerId+Gn.ariaAssertiveLiveRegionPostfix)},t.prototype.build=function(t,i,n){void 0===n&&(n=!0),this.isEditable=i,this.hasGroupBy&&this.gridControlState.isGroupByEnabled&&this.buildGroupBy(),this.buildSearchPlaceholder(),this.buildErrorArea(),this.buildGrid(t),i&&(this.buildFooter(n),this.buildAriaLiveNotificationArea());var e=MscrmCommon.ControlUtils.String.Format('style="width: 100%; height: auto; display: flex;"');!t&&qn.isEditableGridOnLegacyClient(i)&&(e=MscrmCommon.ControlUtils.String.Format('style="width: {0}px; height: auto;"',this.maxWidth.toString()));var r="cc-grid";!qn.isUci()&&qn.isDesktop(this.client.formFactor)&&(r+=" cc-grid-desktop"),this.client.isRTL&&(r+=" cc-grid-rtl"),this.html=MscrmCommon.ControlUtils.String.Format('<div id="{0}" class="{1}" {2}>{3}</div>',this.containerId+Gn.controlDivPostfix,r,e,this.html),this.html=this.learningPathService.addLearningPathId(this.html,Gn.lpGridContainerId),Object.assign(this.container.style,{display:"flex"}),this.container.innerHTML=this.html,this.setNavigationButtons(this.container),this.setNoRecordsDiv(this.container),this.setScrollIndicatorsDiv(this.container)},t.prototype.resizeControl=function(t,i,n){return(t!==this.maxHeight||i!==this.maxWidth)&&(this._maxHeight=t,this._maxWidth=i,n&&(document.getElementById(this.containerId+Gn.controlDivPostfix).setAttribute("style",MscrmCommon.ControlUtils.String.Format("height: {0}px; width: {1}px",this.maxHeight,this.maxWidth)),this.adjustGridHeight(this.maxHeight)),!0)},t.prototype.adjustGridHeight=function(t){if(qn.isEditableGridOnLegacyClient(this.isEditable)){MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)&&(t=document.getElementById(this.containerId+Gn.controlDivPostfix).clientHeight);var i=this.calcGridHeightFromControlHeight(t),n=document.getElementById(this.getHostId()),e=n.parentElement;n.setAttribute("style",MscrmCommon.ControlUtils.String.Format("height: {0}px",i)),e.setAttribute("style",MscrmCommon.ControlUtils.String.Format("height: {0}px; position: relative;",i))}},t.prototype.getContainerId=function(){return this.containerId},t.prototype.getHostId=function(){return this.containerId+Gn.componentDivPostfix},Object.defineProperty(t.prototype,"previousPageButton",{get:function(){return this.prevPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextPageButton",{get:function(){return this.nextPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstPageButton",{get:function(){return this.firstPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPageElement",{get:function(){return this.currentPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noRecordsDiv",{get:function(){return this.noRecords},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progressIndicatorDiv",{get:function(){return this.progressIndicator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupByHeight",{get:function(){var t=document.getElementById(this.containerId+Gn.groupBySelectPostfix);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?0:t.parentElement.clientHeight},enumerable:!0,configurable:!0}),t.prototype.calcGridHeightFromControlHeight=function(t){var i=(this.hasGroupBy?this.groupByHeight:0)+Xn.pagerHeight+this.getErrorContainerHeight(Gn.updateErrorPostfix)+this.getErrorContainerHeight(Gn.genericErrorPostfix),n=t-i;return qn.isUci()||!qn.isDesktop(this.client.formFactor)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.client.adjustDataAreaHeight)||(n=this.client.adjustDataAreaHeight(this.container.id,n,Xn.defaultMinRowHeightWeb,i)),n},t.prototype.getErrorContainerHeight=function(t){var i=document.getElementById(this.getContainerId()+t);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(i.innerHTML)?0:i.clientHeight},t.prototype.setNavigationButtons=function(t){var i=t.getElementsByTagName("button");this.currentPage=t.querySelector(".cc-grid-paging-current"),this.firstPage=i.item(0),this.prevPage=i.item(1),this.nextPage=i.item(2)},t.prototype.setNoRecordsDiv=function(t){this.noRecords=t.getElementsByClassName(qn.isUci()?Gn.noRecordsContainerClass:Gn.noRecordsLabelClass).item(0)},t.prototype.setScrollIndicatorsDiv=function(t){this.progressIndicator=t.getElementsByClassName(Gn.gridProgressIndicatorClass).item(0)},t.prototype.dispose=function(){this.containerId=null,this._maxWidth=null,this._maxHeight=null,this.html=null,this.prevPage=null,this.nextPage=null,this.container=null,this.client=null},t}(),Go=function(){function t(){var r=this;this.evaluateState=function(t,i){var n=r.previousState,e=r.isInCriticalRegion;n!==e&&((r.previousState=e)?r.enteringCriticalRegionEvent.raise(r):r.leftCriticalRegionEvent.raise(r))},this.dataSetServices={},this.errorHandlingServices={},this.gridComponents={},this.previousState=!1,this.enteringCriticalRegionEvent=new vn.Event,this.leftCriticalRegionEvent=new vn.Event}return Object.defineProperty(t.prototype,"enteringCriticalRegion",{get:function(){return this.enteringCriticalRegionEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftCriticalRegion",{get:function(){return this.leftCriticalRegionEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInCriticalRegion",{get:function(){for(var t=!1,i=0,n=Object.keys(this.dataSetServices);i<n.length;i++){var e=n[i];t=t||this.dataSetServices[e].hasDirtyRecord}for(var r=0,s=Object.keys(this.errorHandlingServices);r<s.length;r++)e=s[r],t=t||this.errorHandlingServices[e].hasGridError;return t},enumerable:!0,configurable:!0}),t.prototype.onDataSetRefresh=function(){this.evaluateState(this,null)},t.prototype.prepareForRiskyOperation=function(){for(var t=!1,i=0,n=Object.keys(this.gridComponents);i<n.length;i++){var e=n[i];this.gridComponents[e].finishEdit(),this.gridComponents[e].cancelSelection(),t=t||!this.gridComponents[e].isEditable}return t||!this.isInCriticalRegion},t.prototype.register=function(t,i,n,e){this.dataSetServices[t]=i,this.errorHandlingServices[t]=n,(this.gridComponents[t]=e).cellEditProcessed.addHandler(this.evaluateState),i.saved.addHandler(this.evaluateState),i.gridError.addHandler(this.evaluateState)},t.prototype.unregister=function(t){var i=this.dataSetServices[t],n=this.gridComponents[t];try{n.cellEditProcessed.removeHandler(this.evaluateState),i.saved.removeHandler(this.evaluateState),i.gridError.removeHandler(this.evaluateState)}catch(t){}delete this.dataSetServices[t],delete this.gridComponents[t],delete this.errorHandlingServices[t],this.evaluateState(this,null)},t.prototype.dispose=function(){this.enteringCriticalRegionEvent.removeAllHandlers(),this.leftCriticalRegionEvent.removeAllHandlers(),this.enteringCriticalRegionEvent=null,this.leftCriticalRegionEvent=null,this.dataSetServices=null,this.gridComponents=null},t}(),Vo=window&&window.__extends||(oo=function(t,i){return(oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}oo(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Po=function(e){function t(t,i){var n=e.call(this)||this;return n.hasError=t,n.hasDirtyRecord=i,n}return Vo(t,e),Object.defineProperty(t.prototype,"gridHasError",{get:function(){return this.hasError},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridHasDirtyRecord",{get:function(){return this.hasDirtyRecord},enumerable:!0,configurable:!0}),t}(vn.EventArgs),Wo=window&&window.__extends||(ho=function(t,i){return(ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}ho(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Lo=function(r){function t(t,i,n){var e=r.call(this)||this;return e.id=t,e.moreInQueue=i,e.isSuccessfulSave=n,e}return Wo(t,r),Object.defineProperty(t.prototype,"recordId",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"moreItemsInQueue",{get:function(){return this.moreInQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRecordSavedSuccessfully",{get:function(){return this.isSuccessfulSave},enumerable:!0,configurable:!0}),t}(vn.EventArgs),Xo=function(){function t(t,i,n,e,r){this.rollupColumnsCollection=[],this.persistingRecords=[],this.multiSelectOptionSetColumns=[],this.onDataSetRecordChangeHandlers=[],this.onDataSetUpdatedHandlers=[],this.perfTool=e,this.gridTelemetry=r,this.rollupColumnsCollection=null,this.gridDataSet=i,this.notifyOutputChanged=n,this.loggingService=t,this.savingEvent=new vn.Event,this.savedEvent=new vn.Event,this.errorEvent=new vn.Event,this.getMultiSelectOptionSetColumns()}return t.prototype.getMultiSelectOptionSetColumns=function(){var i=this;this.dataSet.columns.forEach(function(t){(t.dataType?t.dataType.toLowerCase():null)===Vn.multiSelectOptionset&&i.multiSelectOptionSetColumns.push(t)})},t.prototype.getTargetEntityType=function(){return qn.isUci()?this.dataSet.getTargetEntityType():null},t.prototype.getCurrentRecord=function(){return this.dataSet.getSelectedRecord()},t.prototype.getRecordById=function(t){return this.gridDataSet.records[t]},Object.defineProperty(t.prototype,"records",{get:function(){return this.gridDataSet.records},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.gridDataSet.columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSet",{get:function(){return this.gridDataSet},set:function(t){this.removeDataSetEventHandlers(),this.gridDataSet=t,this.restoreDataSetEventHandlers()},enumerable:!0,configurable:!0}),t.prototype.add_OnDataSetRecordChange=function(t){this.onDataSetRecordChangeHandlers.push(t),this.dataSet.add_OnDataSetRecordChange(t)},t.prototype.remove_OnDataSetRecordChange=function(i){this.dataSet.remove_OnDataSetRecordChange(i),this.onDataSetRecordChangeHandlers.filter(function(t){return t!=i})},t.prototype.addOnDataSetUpdated=function(t){this.onDataSetUpdatedHandlers.push(t),this.dataSet.addOnDataSetUpdated(t)},t.prototype.removeOnDataSetUpdated=function(i){this.dataSet.removeOnDataSetUpdated(i),this.onDataSetUpdatedHandlers.filter(function(t){return t!=i})},Object.defineProperty(t.prototype,"rollupColumns",{get:function(){if(null==this.rollupColumnsCollection){this.rollupColumnsCollection=[];for(var t=0;t<this.columns.length;t++)MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.columns[t].attributes)||this.columns[t].attributes.sourcetype!==Mscrm.AttributeSourceType.Rollup||this.rollupColumnsCollection.push(this.columns[t].name)}return this.rollupColumnsCollection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDirtyRecord",{get:function(){for(var t=0,i=this.dataSet.sortedRecordIds;t<i.length;t++){var n=i[t];if(this.dataSet.records[n].isDirty())return!0}return!1},enumerable:!0,configurable:!0}),t.prototype.beginRecordSave=function(t){var i=this;void 0===t&&(t=!1);var n=this.dataSet.getSelectedRecord();return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||!n.isDirty()||!n.isRecordValid())&&(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridTelemetry)&&(this.addTelemetryMultiSelectOptionSetSelection(n),t)&&this.gridTelemetry.reportSuccess("DataSetSevice",[{name:"savedFromNavigation",value:!0}]),this.addToPersistingList(n.getRecordId()),n.save?n.save().then(function(){return i.endRecordSave({recordId:n.getRecordId(),affectedColumns:[],errorStatus:null,fieldErrorMessages:{},isRecordSavedSuccessfully:!0,isSuccessful:!0,resultType:10})}):this.notifyOutputChanged(!0),this.perfTool.tryStart(se.DataSetUpdate),!0)},t.prototype.addTelemetryMultiSelectOptionSetSelection=function(t){for(var i=0;i<this.multiSelectOptionSetColumns.length;i++){var n=0,e=0,r=this.multiSelectOptionSetColumns[i];MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.getValue(r.name))||(n=t.getValue(r.name).length),MscrmCommon.ControlUtils.Object.isNullOrUndefined(r.attributes.options)||(e=r.attributes.options.length);var s=[{name:"selectCount",value:n},{name:"availableCount",value:e},{name:"optionSetName",value:r.name}];this.gridTelemetry.reportEvent("editablegrid_multiselectoptionsetselection",s)}},t.prototype.endRecordSave=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.persistingRecords)){var i=this.persistingRecords.indexOf(t.recordId);-1!==i&&this.persistingRecords.splice(i,1),this.raiseSavedEvent(t.recordId,0!==this.persistingRecords.length,t.isRecordSavedSuccessfully),this.perfTool.tryStop(se.DataSetUpdate)}},t.prototype.submitValue=function(t,i,n){var e=this.gridDataSet.records[t];if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e))return this.records[t].setValue(i,n);this.loggingService.logError(MscrmCommon.ControlUtils.String.Format("Could not find record {0} inside dataset.",t))},t.prototype.notifyOnError=function(t){this.errorEvent.hasHandlers&&this.errorEvent.raise(this,new Po(t,this.hasDirtyRecord))},Object.defineProperty(t.prototype,"saving",{get:function(){return this.savingEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"saved",{get:function(){return this.savedEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridError",{get:function(){return this.errorEvent},enumerable:!0,configurable:!0}),t.prototype.removeDataSetEventHandlers=function(){var i=this;MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSet)||(0<this.onDataSetRecordChangeHandlers.length&&this.onDataSetRecordChangeHandlers.forEach(function(t){i.dataSet.remove_OnDataSetRecordChange(t)}),0<this.onDataSetUpdatedHandlers.length&&this.onDataSetUpdatedHandlers.forEach(function(t){i.dataSet.removeOnDataSetUpdated(t)}))},t.prototype.restoreDataSetEventHandlers=function(){var i=this;0<this.onDataSetRecordChangeHandlers.length&&this.onDataSetRecordChangeHandlers.forEach(function(t){i.dataSet.add_OnDataSetRecordChange(t)}),0<this.onDataSetUpdatedHandlers.length&&this.onDataSetUpdatedHandlers.forEach(function(t){i.dataSet.addOnDataSetUpdated(t)})},t.prototype.addToPersistingList=function(t){-1===this.persistingRecords.indexOf(t)&&(this.persistingRecords.push(t),this.raiseSavingEvent(t))},t.prototype.raiseSavingEvent=function(t){this.savingEvent.hasHandlers&&this.savingEvent.raise(this,new Lo(t,!0,!1))},t.prototype.raiseSavedEvent=function(t,i,n){this.savedEvent.hasHandlers&&this.savedEvent.raise(this,new Lo(t,i,n))},t.prototype.dispose=function(){this.removeDataSetEventHandlers(),this.loggingService=null,this.gridDataSet=null,this.notifyOutputChanged=null,this.rollupColumnsCollection=null,this.persistingRecords=null,this.perfTool=null,this.gridTelemetry=null},t}(),Ko=function(){function t(t,i,n,e,r){this.containerService=t,this.datasetService=i,this.ariaLiveRegionService=n,this.htmlEncode=e,this.troubledRecords=[],this.isEditable=r}return t.prototype.update=function(t){var i=this.troubledRecords.indexOf(t.getRecordId());-1<i&&t.isRecordValid()?(this.troubledRecords.splice(i,1),0===this.troubledRecords.length&&this.showUpdateError("")):-1!==i||t.isRecordValid()||(this.troubledRecords.push(t.getRecordId()),this.showUpdateError(On.genericUpdateError)),this.datasetService.notifyOnError(0!==this.troubledRecords.length)},t.prototype.clearTroubledRecords=function(){this.troubledRecords=[]},t.prototype.clearUpdateError=function(){this.showUpdateError("")},Object.defineProperty(t.prototype,"hasGridError",{get:function(){return 0!==this.troubledRecords.length},enumerable:!0,configurable:!0}),t.prototype.hasError=function(t,i){var n=this.datasetService.records[t];return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&!n.isValid(i)},t.prototype.hasRecordError=function(t){var i=this.datasetService.records[t];return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&!i.isRecordValid()},t.prototype.getError=function(t,i){return this.hasError(t,i)?this.datasetService.records[t].getNotification(i):null},t.prototype.getRecordError=function(t){return this.hasRecordError(t)?this.datasetService.records[t].getErrorMessage():null},t.prototype.getCellEncodedErrorMessage=function(t,i,n){var e=this.htmlEncode(this.getRecordError(t)),r=this.htmlEncode(this.getError(t,i)),s=this.hasRecordError(t)&&!MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(e)&&n&&e!=On.genericUpdateError,o=this.hasError(t,i)&&!MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(r);return s&&o?MscrmCommon.ControlUtils.String.Format("<p>{0}</p><p>{1}</p>",e,r):s?e:o?r:null},t.prototype.showUpdateError=function(t){this.isEditable&&(this.setErrorContainer(Gn.updateErrorPostfix,t),MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(t)||this.ariaLiveRegionService.sendPoliteMessage(t))},t.prototype.setErrorContainer=function(t,i){var n=document.getElementById(this.containerService.getContainerId()+t);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||(!MscrmCommon.ControlUtils.String.isNullOrEmpty(i)&&0<i.trim().length?n.innerHTML=MscrmCommon.ControlUtils.String.Format('<div class="cc-grid-errorIndicator"></div> {0}',this.htmlEncode(i)):(n.removeAttribute(Gn.tabIndex),n.innerHTML=""),this.containerService.adjustGridHeight()),n},t.prototype.dispose=function(){this.containerService=null},t}(),Zo=function(){function i(){}return i.prototype.isRequired=function(){return 2===this.requiredLevel||1===this.requiredLevel},i.prototype.isRecommended=function(){return 3===this.requiredLevel},i.getDefault=function(){var t=new i;return t.isEditable=!1,t.isSecured=!1,t.isReadable=!0,t.requiredLevel=0,t},i}(),_o=function(){function t(t,i){this.perfTool=i,this.fieldAccessComponent=t,this.fieldAccessCache={}}return t.prototype.isEditable=function(t){if(t.cellType==vn.grid.CellType.Cell&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.row)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.column)){var i=this.tryGetCachedFieldAccess(t.rowId,t.columnName);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?Gs.Unknown:i.isEditable?Gs.Yes:Gs.No}},t.prototype.deferStartEditing=function(r,s){var o=this;this.getFieldAccess(r.rowId,r.columnName).then(function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(s)){var i=t.isEditable,n=s.getSelectedState(r.row,r.column)==vn.grid.SelectedState.Cursor,e=o.hasCachedFieldAccess(r.rowId,r.columnName);(i&&n&&e||!i&&s.getColumnByName(r.columnName).dataType==vn.DataType.Array&&n&&e)&&s.startEditing(!1,r.row,r.column)}})},t.prototype.redrawCell=function(t){if(t.cellType==vn.grid.CellType.Cell&&t.row==this.fieldAccessComponent.selectedRow){var i=this.getFieldAccess(t.rowId,t.columnName);this.fieldAccessComponent.applyStyles(t.row,t.column,i)}},t.prototype.redraw=function(t,i){void 0===i&&(i=!1);var n=t.row==this.fieldAccessComponent.selectedRow&&t.isCurrentRowSelected;t.cellType!=vn.grid.CellType.Cell||n&&!i||(this.fieldAccessComponent.clearSelectedRowFieldAccess(this.columns),t.isRecordRowSelection&&t.isCurrentRowSelected&&(this.setSelectedRowNumber(t.row),this.redrawRow(t.rowId,this.columns)))},t.prototype.redrawSelectedRow=function(){var t=this.fieldAccessComponent.selectedRowId;MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||(this.fieldAccessComponent.isRecordSelected(t)?this.redrawRow(t,this.columns):this.clearSelectedRow())},t.prototype.setSelectedRowNumber=function(t){-1<t&&(this.fieldAccessComponent.selectedRow=t)},t.prototype.updateRow=function(t,i){this.fieldAccessCache[t]=null,this.redrawRow(t,i,!0)},t.prototype.clearSelectedRow=function(){this.fieldAccessComponent.clearSelectedRowFieldAccess(this.columns)},t.prototype.redrawRow=function(t,i,n){void 0===n&&(n=!1);for(var e=0;e<this.columns.length;e++){var r=this.columns[e].name,s=this.fieldAccessComponent.getColumnIndex(this.columns[e].name),o=this.fieldAccessComponent.isColumnVisible(this.columns[e].name);if(!(s<0)&&o){var h=this.getFieldAccess(t,r,n);this.fieldAccessComponent.applyStyles(this.fieldAccessComponent.selectedRow,s,h)}}},t.prototype.refreshDataSet=function(t){this.fieldAccessCache={},this.records=t.records,this.columns=t.columns},t.prototype.getFieldAccess=function(t,i,n){var e=this;if(void 0===n&&(n=!1),this.hasCachedFieldAccess(t,i))return Promise.resolve(this.fieldAccessCache[t][i]);var r=Zo.getDefault(),s=[this.getIsReadable(t,i,r),this.getIsEditable(t,i,r),this.getIsSecured(t,i,r),this.getRequiredLevel(t,i,r)];return this.perfTool.tryStart(se.FieldAccess),Promise.all(s).then(function(){return e.perfTool.tryStop(se.FieldAccess),n&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.fieldAccessCache)?(e.cacheFieldAccess(t,i,r),Promise.resolve(e.fieldAccessCache[t][i])):e.hasCachedFieldAccess(t,i)?Promise.resolve(e.fieldAccessCache[t][i]):(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.fieldAccessCache)||e.cacheFieldAccess(t,i,r),Promise.resolve(r))})},t.prototype.tryGetCachedFieldAccess=function(t,i){return this.hasCachedFieldAccess(t,i)?this.fieldAccessCache[t][i]:null},t.prototype.hasCachedFieldAccess=function(t,i){return!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.fieldAccessCache[t])&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.fieldAccessCache[t][i])},t.prototype.cacheFieldAccess=function(t,i,n){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.fieldAccessCache[t])&&(this.fieldAccessCache[t]={}),this.fieldAccessCache[t][i]=n},t.prototype.getIsEditable=function(e,r,s){var o=this;return new Promise(function(n,t){(MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.records)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.records[e]))&&t(new Error("No records found"));var i=[];i.push(o.getIsFieldEditable(e,r)),qn.isUci()&&i.push(o.getIsRecordEditable(e)),Promise.all(i).then(function(t){var i=!0;t.forEach(function(t){i=i&&t}),s.isEditable=i,n(i)})})},t.prototype.getIsRecordEditable=function(t){var e=this;return new Promise(function(i,n){e.records[t].isEditable(null).then(function(t){i(t)},function(t){n(t)})})},t.prototype.getIsFieldEditable=function(t,e){var r=this;return new Promise(function(i,n){r.records[t].isEditable(e).then(function(t){i(t)},function(t){n(t)})})},t.prototype.getIsSecured=function(t,e,r){var s=this;return new Promise(function(i,n){(MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records[t]))&&n(new Error("No records found")),s.records[t].isSecured(e).then(function(t){r.isSecured=t,i(t)},function(t){n(t)})})},t.prototype.getIsReadable=function(t,e,r){var s=this;return new Promise(function(i,n){(MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records[t]))&&n(new Error("No records found")),s.records[t].isReadable(e).then(function(t){r.isReadable=t,i(t)},function(t){n(t)})})},t.prototype.getRequiredLevel=function(t,e,r){var s=this;return new Promise(function(i,n){(MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(s.records[t]))&&n(new Error("No records found")),s.records[t].getFieldRequiredLevel(e).then(function(t){r.requiredLevel=t,i(t)},function(t){n(t)})})},t.prototype.dispose=function(){this.fieldAccessCache=null,this.records=null,this.columns=null,this.fieldAccessComponent=null},t}(),qo=function(){function t(){}return t.prototype.compose=function(t){return this.composeConditionFilterExpression(t)},t.prototype.composeExclude=function(t){throw new Error("'composeExclude' should invoke on value filter composer")},t.prototype.dispose=function(){},t.prototype.composeConditionFilterExpression=function(t){var i=t.conditionFilter,n=this.composeFilterCondition(t,i.condition1),e=this.composeFilterCondition(t,i.condition2);MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&(n=e,e=null);var r=new MscrmCommon.FilterExpression;if(r.filterOperator=i.and?0:1,!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)){var s=new MscrmCommon.FilterExpression;if(s.filterOperator=0,s.conditions=n,r.filters=[s],!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)){var o=new MscrmCommon.FilterExpression;o.filterOperator=0,o.conditions=e,r.filters.push(o)}return r}return null},t.prototype.composeFilterCondition=function(t,i){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.operator)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.value)){var n=new MscrmCommon.ConditionExpression,e=qn.getFetchAttributes(t.binding,t.dataType),r=e.attributeName,s=e.entityAliasName;if(n.attributeName=r,n.entityAliasName=s,n.conditionOperator=this.convertConditionOperator(i.operator),t.dataType===vn.DataType.Date){if(qn.isDisruptiveFeatureEnabledOnAllClients(qn.getGridColumnFilterParityPhase1FCB())){var o=i.value;n.value=o.getFullYear()+"-"+(o.getMonth()<9?"0":"")+(o.getMonth()+1)+"-"+(o.getDate()<10?"0":"")+o.getDate()}else n.value=i.value.toDateString();if(0===this.convertConditionOperator(i.operator)){n.conditionOperator=27;var h=new MscrmCommon.ConditionExpression;return h.attributeName=r,h.entityAliasName=s,h.conditionOperator=26,h.value=n.value,[n,h]}qn.isDisruptiveFeatureEnabledOnAllClients(qn.getGridColumnFilterParityPhase1FCB())&&(4==this.convertConditionOperator(i.operator)?n.conditionOperator=27:5==this.convertConditionOperator(i.operator)&&(n.conditionOperator=26))}else if(t.dataType===vn.DataType.String||t.dataType===vn.DataType.Object)switch(i.operator){case vn.grid.filter.Operator.BW:n.value=i.value+"%";break;case vn.grid.filter.Operator.EW:n.value="%"+i.value;break;case vn.grid.filter.Operator.CT:n.value="%"+i.value+"%";break;default:n.value=i.value}else n.value=i.value;return[n]}return null},t.prototype.convertConditionOperator=function(t){var i;switch(t){case vn.grid.filter.Operator.EQ:i=0;break;case vn.grid.filter.Operator.NE:i=1;break;case vn.grid.filter.Operator.GT:i=2;break;case vn.grid.filter.Operator.GE:i=4;break;case vn.grid.filter.Operator.LT:i=3;break;case vn.grid.filter.Operator.LE:i=5;break;case vn.grid.filter.Operator.CT:case vn.grid.filter.Operator.BW:case vn.grid.filter.Operator.EW:i=6;break;case vn.grid.filter.Operator.NC:i=1;break;default:i=-1}return i},t}(),$o=function(){function t(t){this.dataMap=t}return t.prototype.compose=function(t){return this.composeFilterExpression(t)},t.prototype.composeExclude=function(t){return this.composeExcludeFilterExpression(t)},t.prototype.dispose=function(){},t.prototype.composeExcludeFilterExpression=function(t){var i=new MscrmCommon.FilterExpression;i.filterOperator=0,i.conditions=[];var n=new MscrmCommon.ConditionExpression;return n.attributeName=t.binding,n.conditionOperator=12,i.conditions.push(n),i},t.prototype.composeFilterExpression=function(t){var i=qn.getFetchAttributes(t.binding,t.dataType),n=i.attributeName,e=i.entityAliasName;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataMap)){var r=new MscrmCommon.FilterExpression;r.filterOperator=0,r.conditions=[],r.filters=[];var s=new MscrmCommon.ConditionExpression;s.value=[],s.attributeName=n,s.entityAliasName=e,s.conditionOperator=87;var o=t.valueFilter.showValues;for(var h in o)if(o.hasOwnProperty(h)){var c=this.dataMap.getKeyValue(h);s.value.push(c)}return 0<s.value.length&&r.conditions.push(s),r}return null},t}(),th=function(){function t(){}return t.prototype.compose=function(t){return this.composeValueFilterExpression(t,1,0)},t.prototype.composeExclude=function(t){return this.composeValueFilterExpression(t,0,1)},t.prototype.dispose=function(){},t.prototype.composeValueFilterExpression=function(t,i,n){var e=t.dataMap,r=qn.getFetchAttributes(t.binding,t.dataType),s=r.attributeName,o=r.entityAliasName;if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)){var h=new MscrmCommon.FilterExpression;h.filterOperator=i,h.conditions=[],h.filters=[];var c=t.valueFilter.showValues;for(var a in c)if(c.hasOwnProperty(a)){var u=e.getKeyValue(a),l=new MscrmCommon.ConditionExpression;l.attributeName=s,l.entityAliasName=o,l.conditionOperator=n,l.value=u,h.conditions.push(l)}return h}return null},t}(),ih=function(){function t(t){this.gridComponent=t}return t.prototype.getComposer=function(t){return t.isConditionFilter?new qo:t.isValueFilter?t.isMultiSelectOptionSetFilter?new $o(this.gridComponent.msosDataMap[t.binding]):new th:null},t.prototype.compose=function(t){var i=this.getComposer(t);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))return null;var n=i.compose(t);return i.dispose(),n},t.prototype.composeExclude=function(t){var i=this.getComposer(t);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))return null;if(!(i instanceof th||i instanceof $o))return null;var n=i.composeExclude(t);return i.dispose(),n},t.prototype.combine=function(t,i){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))(i=new MscrmCommon.FilterExpression).conditions=null,i.filterOperator=0,i.filters=[],i.filters.push(t);else{i.filters=i.filters||[];var n=-1;MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions[0])||(n=this.getChildFilterIdx(i,t.conditions[0].attributeName,t.conditions[0].entityAliasName)),-1===n?MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||i.filters.push(t):i.filters[n]=t}return i},t.prototype.remove=function(t,i,n){t.filters=t.filters||[];var e=this.getChildFilterIdx(t,i,n);return-1!==e&&(t.filters.splice(e,1),!0)},t.prototype.getChildFilterIdx=function(t,i,n){for(var e=0;e<t.filters.length;e++){if(t.filters[e].filters.length)for(var r=0;r<t.filters[e].filters.length;r++)if(this.filterMatchName(t.filters[e].filters[r],i,n))return e;if(this.filterMatchName(t.filters[e],i,n))return e}return-1},t.prototype.filterMatchName=function(t,i,n){return!(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions)||!t.conditions.length||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.conditions[0]))&&t.conditions[0].attributeName===i&&t.conditions[0].entityAliasName===n},t.prototype.dispose=function(){},t}(),nh=function(){},eh=function(){},rh=function(){function t(t,i,n,e,r){this.SEND_NATIVE_FILTER_EXPRESSION_TO_DATA_SET_HOST="sendnativefilterexpressiontodatasethost",this.gridComponent=t,this.dataSetService=i,this.filteringContext=n,this.filterTypeCache={},this.utils=e,this.perfTool=r}return t.prototype.applyState=function(t){var i=this.dataSetService.dataSet.filtering.getFilter(),n=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.conditions)||!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.filters)&&0<i.filters.length);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[le.filter])&&!n){var e=t[le.filter],r=this.gridComponent.restoreFilters(qn.isRestorableFilterType,e.filterDefinition);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e.filterTypeCache)?this.buildGridFilterStateCache():this.filterTypeCache=e.filterTypeCache,this.restoreGridFilterStateCache(),i=this.dataSetService.dataSet.filtering.getFilter(),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)&&0<r.length){for(var s=0;s<r.length;s++){var o=this.filteringContext.compose(r[s]);i=this.filteringContext.combine(o,i)}return this.dataSetService.dataSet.filtering.setFilter(i),!0}}return!1},t.prototype.saveState=function(t){var i=new eh;i.filterDefinition=this.gridComponent.getFilterDefinition(),i.filterTypeCache=this.filterTypeCache,t[le.filter]=i},t.prototype.configureFilter=function(t){var i=this.gridComponent.getColumnFilter(t),n=qn.getDatasetColumnByName(this.dataSetService.dataSet.columns,i.binding),e=n.attributes.type;if((e===Vn.twoOptions||e===Vn.optionset||qn.isStatusOptionSet(n)||qn.isWholeOptionSet(n)||e===Vn.entityName&&qn.isDisruptiveFeatureEnabledOnAllClients(qn.getGridColumnFilterParityPhase1FCB()))&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.dataMap))i.setValueFilter(wr.removeEmptyElements(i.dataMap.getDisplayValues()));else if(e===Vn.multiSelectOptionset){var r=this.gridComponent.msosDataMap[i.binding];MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||i.setValueFilter(wr.removeEmptyElements(r.getDisplayValues()))}},t.prototype.buildGridFilterStateCache=function(){for(var t=this.dataSetService.dataSet.columns,i=0;i<t.length;++i){var n=t[i];if(-1!==n.order&&!n.isHidden){var e=this.gridComponent.getColumnFilter(n.name),r=n.attributes.type;switch(e.dataType){case vn.DataType.String:if(r===Vn.twoOptions||r===Vn.optionset||qn.isStatusOptionSet(n)||r===Vn.multiSelectOptionset||qn.isWholeOptionSet(n)){this.filterTypeCache[n.name]=vn.grid.filter.FilterType.Value;break}if(r===Vn.entityName){qn.isDisruptiveFeatureEnabledOnAllClients(qn.getGridColumnFilterParityPhase1FCB())?this.filterTypeCache[n.name]=vn.grid.filter.FilterType.Value:this.filterTypeCache[n.name]=vn.grid.filter.FilterType.None;break}case vn.DataType.Date:case vn.DataType.Number:this.filterTypeCache[n.name]=vn.grid.filter.FilterType.Condition;break;case vn.DataType.Array:r===Vn.multiSelectOptionset&&(this.filterTypeCache[n.name]=vn.grid.filter.FilterType.Value);break;case vn.DataType.Object:MscrmCommon.ControlUtils.String.EqualsIgnoreCase(n.dataType,Vn.dataTypeLookupPartyList)?this.filterTypeCache[n.name]=vn.grid.filter.FilterType.None:qn.isLookupType(n.dataType)&&(this.filterTypeCache[n.name]=vn.grid.filter.FilterType.Condition)}}}},t.prototype.restoreGridFilterStateCache=function(){this.gridComponent.isEditable&&(e=this.gridComponent.getColumnFilter(Gn.btnHeaderColumnName)).setFilterType(vn.grid.filter.FilterType.None),this.gridComponent.getColumnFilter(Gn.btnHeaderSelectColumnName).setFilterType(vn.grid.filter.FilterType.None);for(var t=this.dataSetService.dataSet.columns,i=0;i<t.length;++i){var n=t[i];if(-1!==n.order&&!n.isHidden){var e=this.gridComponent.getColumnFilter(n.name);if(this.filterTypeCache[n.name]===vn.grid.filter.FilterType.Value){var r=e.valueFilter.showValues;e.setFilterType(this.filterTypeCache[n.name]),this.excludeFilterApplied(e.binding,n)?e.valueFilter.showValues={showNoOptions:!0}:e.valueFilter.showValues=r}else e.setFilterType(this.filterTypeCache[n.name])}}},t.prototype.applyFilter=function(t){qn.isUci()&&this.utils.fireEvent(qn.UPDATE_DATASETHOST_LOADING_STATE,{value:1});var i=new nh;this.gridComponent.saveCurrentFilter(),qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&this.utils.fireEvent(this.SEND_NATIVE_FILTER_EXPRESSION_TO_DATA_SET_HOST,{nativeFilterExpression:this.gridComponent.getFilterDefinition()});var n=this.gridComponent.getColumnFilter(t),e=this.dataSetService.dataSet.filtering.getFilter(),r=qn.getFetchAttributes(n.binding,n.dataType),s=r.attributeName,o=r.entityAliasName;if(this.perfTool.tryStart(se.Filtering),n.isActive||MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)){i.cancel=!0,MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||this.filteringContext.remove(e,s,o),this.filterIsMultiSelectOptionset(s)&&(n.isMultiSelectOptionSetFilter=!0);var h=this.filteringContext.compose(n);if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)||!n.isMultiSelectOptionSetFilter&&!this.filterIsOptionset(t,s)||(h=this.verifyEmptyExpression(h,n)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)){var c=this.filteringContext.combine(h,e);this.dataSetService.dataSet.filtering.setFilter(c),i.refreshRequired=!0}}else this.filteringContext.remove(e,s,o)&&(this.dataSetService.dataSet.filtering.setFilter(e),i.refreshRequired=!0);return i},t.prototype.excludeFilterApplied=function(t,i){var n=this.dataSetService.dataSet.filtering.getFilter();if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))return!1;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.dataSetService.dataSet.filtering.getFilter()))return!1;var e=this.dataSetService.dataSet.filtering.getFilter().conditions;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||0==e.length)return!1;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes.options))return!1;if(i.attributes.options.length!==e.length)return!1;for(var r=0;r<e.length;r++)if(e[r].attributeName!==t||1!==e[r].conditionOperator)return!1;return!0},t.prototype.filterIsOptionset=function(t,i){for(var n=this.gridComponent.getColumnFilter(t),e=null,r=0;r<this.dataSetService.columns.length;r++)if(this.dataSetService.columns[r].name===i){e=this.dataSetService.columns[r];break}return null!==e&&n.dataType===vn.DataType.String&&!(e.attributes.type!==Vn.optionset&&!qn.isStatusOptionSet(e)&&e.attributes.type!==Vn.multiSelectOptionset&&e.attributes.type!==Vn.twoOptions&&!qn.isWholeOptionSet(e))},t.prototype.filterIsMultiSelectOptionset=function(t){for(var i=null,n=0;n<this.dataSetService.columns.length;n++)if(this.dataSetService.columns[n].name===t){i=this.dataSetService.columns[n];break}return null!==i&&i.attributes.type===Vn.multiSelectOptionset},t.prototype.verifyEmptyExpression=function(t,i){var n=!1;if(t.filters=t.filters||[],0===t.filters.length&&0===t.conditions.length&&(n=!0),1===t.filters.length&&0===t.filters[0].conditions.length&&(n=!0),n){i.valueFilter.showValues={};for(var e=0;e<i.valueFilter.uniqueValues.length;e++)i.valueFilter.showValues[i.valueFilter.uniqueValues[e]]=!0;t=this.filteringContext.composeExclude(i)}return t},t.prototype.dispose=function(){this.filteringContext.dispose(),this.gridComponent=null,this.dataSetService=null,this.filteringContext=null,this.filterTypeCache={}},t}(),sh=function(){function t(t,i,n,e){var r=this;this.getGroupHeaderName=function(t,i){var n=new MscrmCommon.ArrayQuery(r.dataSetService.dataSet.columns).firstOrDefault(function(t){return t.name===i}),e=r.typeProcessorService.getValue(r.dataSetService.dataSet.records[t.recId],n,i,!0);return MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||wr.isString(e)||(e=e.toString()),MscrmCommon.ControlUtils.String.isNullUndefinedOrWhitespace(e)&&(e=Xn.undefinedString),e},this.gridComponent=t,this.dataSetService=i,this.groupingRequestedEvent=new vn.Event,this.isServerGroupedBy=!1,this.typeProcessorService=n,this.utils=e}return Object.defineProperty(t.prototype,"groupingRequested",{get:function(){return this.groupingRequestedEvent},enumerable:!0,configurable:!0}),t.prototype.updateView=function(t){this.collectionView=t},t.prototype.applyState=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t[le.groupby])&&0<t[le.groupby].length)for(var i=t[le.groupby][0].propertyName,n=0,e=this.dataSetService.columns;n<e.length;n++)if(e[n].name===i)return this.groupingRequestedEvent.hasHandlers&&this.groupingRequestedEvent.raise(this,new zr(i,this.collectionView)),!0;return!1},t.prototype.saveState=function(t){var i=[],n=this.gridComponent.getCollectionDataView();if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))for(var e=0,r=n.groupDescriptions;e<r.length;e++){var s=r[e];i.push({propertyName:s.propertyName})}t[le.groupby]=i},t.prototype.applyColumnState=function(t){if(this.isServerGroupedBy&&0<this.dataSetService.dataSet.sorting.length){var i=this.dataSetService.dataSet.sorting[0].name;this.applyGrouping(i,t)}},Object.defineProperty(t.prototype,"isServerGrouped",{get:function(){return this.isServerGroupedBy},enumerable:!0,configurable:!0}),t.prototype.applyGroupBy=function(t,i){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&(i=this.gridComponent.getCollectionDataView()),!!this.isGroupingRequired(t,i)&&(this.applyServerGroupBy(t,i),!0)},t.prototype.applyServerGroupBy=function(t,i){if(qn.isUci()&&this.utils.fireEvent(qn.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.dataSetService.dataSet.sorting.length=0,t){this.isServerGroupedBy=!0;var n=new MscrmCommon.DataSetColumnSortStatus;n.name=t,n.sortDirection=0,this.dataSetService.dataSet.sorting.push(n)}else this.isServerGroupedBy=!1;this.applyGrouping(t,i)},t.prototype.applyGrouping=function(t,i){i.groupDescriptions.clear(),this.isEmpty(t)||i.groupDescriptions.push(new vn.collections.PropertyGroupDescription(t,this.getGroupHeaderName))},t.prototype.isGroupingRequired=function(t,i){return this.isEmpty(t)||this.isColumnExist(t)&&!this.isAlreadyGrouped(t,i)},t.prototype.isAlreadyGrouped=function(t,i){var n=i.groupDescriptions;return 0<n.length&&n[0].propertyName===t},t.prototype.isEmpty=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)||""===t},t.prototype.isColumnExist=function(t){for(var i=0,n=this.dataSetService.columns;i<n.length;i++)if(n[i].name===t)return!0;return!1},t.prototype.dispose=function(){this.gridComponent=null,this.dataSetService=null,this.collectionView=null},t}(),oh=function(){function t(t){this.learningPath=null,this.isDisabled=!1,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?this.isDisabled=!0:this.learningPath=t}return t.prototype.addLearningPathId=function(t,i){if(this.isDisabled)return t;var n=t,e=$.parseHTML(t),r=$(e);return r&&0<r.length&&(r.attr(this.learningPath.DOMAttributeName,this.learningPath.baseControlId+"|"+i),n=r.get(0).outerHTML),n},t.prototype.addLearningPathIdToHtmlElement=function(t,i){this.isDisabled||t.setAttribute(this.learningPath.DOMAttributeName,this.learningPath.baseControlId+"|"+i)},t.prototype.dispose=function(){this.learningPath=null},t}(),hh=function(){function t(t){this.log=t}return t.prototype.logError=function(t){this.log(Gn.controlName,t,Mscrm.TraceLevel.Error)},t.prototype.logInfo=function(t){this.log(Gn.controlName,t,Mscrm.TraceLevel.Info)},t.prototype.logWarning=function(t){this.log(Gn.controlName,t,Mscrm.TraceLevel.Warning)},t.prototype.dispose=function(){this.log=null},t}(),ch=function(){function t(t){this.dataSetService=t}return t.prototype.setSelectedRecords=function(t){},t.prototype.clearSelectedRecord=function(){return this.dataSetService.dataSet.clearSelectedRecord()},Object.defineProperty(t.prototype,"IsMultiSelectionSupported",{get:function(){return this.isMultiSelectionSupported},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.dataSetService=null},t}(),ah=window&&window.__extends||(co=function(t,i){return(co=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}co(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),uh=function(n){function t(t){var i=n.call(this,t)||this;return i.isMultiSelectionSupported=!0,i}return ah(t,n),t.prototype.setSelectedRecords=function(t){if(t.isValidEvent&&(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.rowId)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columnName)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.rowId)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columnName))&&(t.isRecordRowSelection||t.isClearSelection)){for(var i=[],n=0;n<t.selectedRows.length;n++){var e=this.dataSetService.dataSet.records[t.selectedRows[n]];MscrmCommon.ControlUtils.Object.isNullOrUndefined(e)||i.push(t.selectedRows[n])}0<i.length?this.dataSetService.dataSet.setSelectedRecords(i):this.clearSelectedRecord()}},t}(ch),lh=function(){function t(t,i,n,e,r,s,o,h){this.isOffline=!1,this.navigation=t,this.criticalRegionService=e,this.utils=r,this.dataSetService=s,this.formFactor=o,this.isOffline=h,this._context=i}return t.prototype.navigateToEntityForm=function(n){var e=this;if(this.criticalRegionService.prepareForRiskyOperation()&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.formFactor)||qn.isUci()||!qn.isDesktop(this.formFactor))this.utils.getEntityMetadata(n.LogicalName).then(function(t){if(t&&t.IsBPFEntity){if(!e.isOffline){var i={CommandButtonId:"Mscrm.HomepageGrid."+n.LogicalName+".OpenActiveStage"};e.dataSetService.dataSet.openDatasetItem(n,i)}}else e.dataSetService.dataSet.openDatasetItem(n,null)},function(t){e.dataSetService.dataSet.openDatasetItem(n,null)});else{var t={entityName:n.LogicalName,entityId:n.Id?n.Id.toString():n.id?n.id.toString():null};this.navigation.openForm(t)}},t.prototype.openUrl=function(t){t&&this._context.navigation.openUrl(t)},t.prototype.navigateTo=function(t){if(t)return this._context.navigation.navigateTo(t)},t.prototype.createEntityReferenceModel=function(t){return new ce(t.getRecordId(),t.getPrimaryEntityLogicalName())},t.prototype.dispose=function(){this.navigation=null,this.criticalRegionService=null,this.dataSetService=null},t}(),Ah=function(){function t(t,i,n,e,r){this.gridComponent=t,this.dataSetService=i,this.pagingComponent=n,this.utils=e,this.perfTool=r}return t.prototype.movePreviousPage=function(){var t=!1;this.gridComponent.finishEdit();var i=this.gridComponent.getCollectionDataView();MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(0<i.pageIndex?(i.moveToPreviousPage(),i.currentItem=null):this.dataSetService.dataSet.paging.hasPreviousPage&&(qn.isUci()&&this.utils.fireEvent(qn.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(se.PagingLoad),t=!0,this.pagingComponent.markAsLoadingPreviousPage())),this.pagingComponent.setPaginationButtonsState(this.dataSetService.dataSet);var n=this.pagingComponent.getPreviousButtonElement(),e=this.pagingComponent.getNextButtonElement();return null!==n&&null!==e&&(n.disabled?e.focus():n.focus()),t},t.prototype.moveNextPage=function(){var n=this,t=!1;this.gridComponent.finishEdit();var i=this.gridComponent.getCollectionDataView();return MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(i.pageIndex<i.pageCount-1?(i.moveToNextPage(),i.currentItem=null):this.dataSetService.dataSet.paging.hasNextPage&&(qn.isUci()&&this.utils.fireEvent(qn.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(se.PagingLoad),t=!0,this.pagingComponent.markAsLoadingNextPage())),this.pagingComponent.setPaginationButtonsState(this.dataSetService.dataSet),setTimeout(function(){var t=n.pagingComponent.getPreviousButtonElement(),i=n.pagingComponent.getNextButtonElement();null!==t&&null!==i&&(i.disabled?t.focus():i.focus())},500),t},t.prototype.moveFirstPage=function(){var t=!1;this.gridComponent.finishEdit();var i=this.gridComponent.getCollectionDataView();MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||(0<i.pageIndex?(i.moveToFirstPage(),i.currentItem=null):this.dataSetService.dataSet.paging.hasPreviousPage&&(qn.isUci()&&this.utils.fireEvent(qn.UPDATE_DATASETHOST_LOADING_STATE,{value:1}),this.perfTool.tryStart(se.PagingLoad),t=!0,this.pagingComponent.markAsLoadingFirstPage())),this.pagingComponent.setPaginationButtonsState(this.dataSetService.dataSet);var n=this.pagingComponent.getNextButtonElement();return null!==n&&n.focus(),t},t.prototype.dispose=function(){this.gridComponent=null,this.dataSetService=null,this.pagingComponent=null,this.perfTool=null},t}(),fh=window&&window.__extends||(ao=function(t,i){return(ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}ao(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),dh=function(n){function t(t){var i=n.call(this,t)||this;return i.isMultiSelectionSupported=!1,i}return fh(t,n),t.prototype.setSelectedRecords=function(t){if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.rowId)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columnName)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.rowId)&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columnName))if(t.isValidEvent&&t.isRecordRowSelection&&t.isRecordColumnSelection&&!t.isMultiSelection){var i=this.dataSetService.dataSet.records[t.rowId];MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)||this.dataSetService.dataSet.setSelectedRecordId(t.rowId,t.isRowHeaderSelected)}else t.isRecordRowSelection||this.clearSelectedRecord()},t}(ch),gh=function(){function t(t){this.getUserTimeZoneUtcOffset=t}return t.prototype.utcToBrowserTimeZone=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?t:new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())},t.prototype.browserTimeZoneToUtc=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?t:new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},t.prototype.utcToUserLocal=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?t:new Date(t.getTime()+6e4*(this.getUserTimeZoneUtcOffset(t)+t.getTimezoneOffset()))},t.prototype.userLocalToUtc=function(t){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(t)?t:new Date(t.getTime()-6e4*(this.getUserTimeZoneUtcOffset(t)+t.getTimezoneOffset()))},t.prototype.dispose=function(){delete this.getUserTimeZoneUtcOffset},t}(),wh=function(){function t(){}return t.filterRecordItem=function(t,i,n){for(var e=!1,r=0;r<i.length;++r){var s=i[r].name;try{var o=n.getColumnFilter(s);if(o&&!this.evaluateFlexColumnFilter(t,o)){e=!0;break}}catch(t){continue}}return e},t.evaluateFlexColumnFilter=function(t,i){var n=!0;return i.isActive&&(i.filterType==vn.grid.filter.FilterType.Condition?n=this.evaluateConditionFilter(t,i.conditionFilter):i.filterType==vn.grid.filter.FilterType.Value?n=this.evaluateValueFilter(t,i.valueFilter):i.filterType==vn.grid.filter.FilterType.Both&&(n=this.evaluateConditionFilter(t,i.conditionFilter)&&this.evaluateValueFilter(t,i.valueFilter))),n},t.evaluateConditionFilter=function(t,i){var n=i.and,e=!0;return i.isActive&&(e=n?this.evaluateCondition(t,i.condition1)&&this.evaluateCondition(t,i.condition2):this.evaluateCondition(t,i.condition1)||this.evaluateCondition(t,i.condition2)),e},t.evaluateValueFilter=function(t,i){var n=!0;return i.isActive&&(n=i.apply(t)),n},t.evaluateCondition=function(t,i){return i.apply(t)},t}(),mh=function(){function t(t,i,n,e){this.loggingService=t,this.typeProcessorService=i,this.communicationChannel=e}return t.prototype.getGridRecordItems=function(t){this.communicationChannel&&this.communicationChannel.isPresenceEnabled(t.getTargetEntityType())&&(t=this.updateDataSetForPresence(t));var i=this.getAllRecordItems(t);this.allRecordItemsFlatList=i,qn.isTreeView(t)&&(i=this.createTree(i));var n=new vn.collections.CollectionView(i);return n.pageSize=t.paging.pageSize,n.moveCurrentToPosition(-1),n},t.prototype.getGridRecordItemsOnRecordUpdate=function(t,i,n,e){var r=this.allRecordItemsFlatList,s=new MscrmCommon.ArrayQuery(this.allRecordItemsFlatList).firstOrDefault(function(t){return t.recId===i.getRecordId()}),o=wh.filterRecordItem(s,t.columns,n);if(o){var h=r.indexOf(s);r.splice(h,1)}var c=null;return(o||e)&&(r=this.createTree(r),(c=new vn.collections.CollectionView(r)).pageSize=t.paging.pageSize),c},t.prototype.refreshRecordItems=function(t){for(var i=t.columns,n=0,e=this.allRecordItemsFlatList;n<e.length;n++)for(var r=e[n],s=0,o=i;s<o.length;s++){var h=o[s];r[h.name]=this.typeProcessorService.getValue(t.records[r.recId],h,null,!1)}},t.prototype.createTree=function(o){for(var h=o.slice(0),t=function(s){o[s].children=new MscrmCommon.ArrayQuery(o).where(function(t){var i=t.parentID,n=o[s].parentID,e=o[s].recId.toLowerCase(),r=t.recId.toLowerCase();if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&MscrmCommon.ControlUtils.String.EqualsIgnoreCase(i.Id.toString(),e)&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)||!MscrmCommon.ControlUtils.String.EqualsIgnoreCase(n.Id.toString(),r)))return h.splice(h.indexOf(t),1),!0}).items()},i=0;i<o.length;i++)t(i);return h},t.prototype.getGridRecordItem=function(t,i,n,e){var r,s={};s.recId=t.getRecordId(),s.logicalName=t.getPrimaryEntityLogicalName(),s.isSelected=n,this.communicationChannel&&this.communicationChannel.getPresenceMappedField(s.logicalName)&&(r=this.communicationChannel.getPresenceMappedField(s.logicalName)),qn.hasSubGridParentId(t)&&(s[Zn.SubGridParentIdName]=t[Zn.SubGridParentIdName]);for(var o=0;o<i.length;o++){var h=i[o],c=h.name;s[c]=this.typeProcessorService.getValue(t,h,null,!1),r==h.name&&(s.sipValue=s[c])}return s.parentID=t.ParentId,s},t.prototype.getAllRecordItems=function(n){var e=[],r=n.sortedRecordIds,s=n.selectedRecordIds,o=n.records;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(o))return e;for(var t=function(i){var t=!!s&&0<=s.findIndex(function(t){return t==r[i]});e[i]=h.getGridRecordItem(o[r[i]],n.columns,t,!1)},h=this,i=0;i<r.length;i++)t(i);return e},t.prototype.updateGridRecordItem=function(i,t){var n=new MscrmCommon.ArrayQuery(this.allRecordItemsFlatList).firstOrDefault(function(t){return t.recId===i.getRecordId()});if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))return this.internalUpdateGridRecordItem(n,i,t);var e=this.allRecordItemsFlatList.map(function(t){return t.recId});this.loggingService.logError(MscrmCommon.ControlUtils.String.Format("Could not find record {0} inside this.flatRecordItemsList ({1})",i.getRecordId(),JSON.stringify(e)))},t.prototype.internalUpdateGridRecordItem=function(t,i,n){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i))throw new Error("Missing argument : gridDataSetRecord");t.recId=i.getRecordId();var e=t.parentID!==i.ParentId;t.parentID=i.ParentId,qn.hasSubGridParentId(i)&&(t[Zn.SubGridParentIdName]=i[Zn.SubGridParentIdName]);for(var r=0;r<n.length;r++){var s=n[r],o=s.name;this.areSame(t[o],i.getValue(o))||(t[o]=this.typeProcessorService.getValue(i,s,null,!1))}return e},t.prototype.updateDataSetForPresence=function(t){for(var i=!1,n={maxLength:100,format:"Email",type:"string"},e=this.communicationChannel.getPresenceMappedField(t.getTargetEntityType()),r=0;r<t.columns.length;r++)t.columns[r].alias==e&&(i=!0,MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.columns[r].attributes)&&(t.columns[r].attributes=n));return i||(t.addColumn(e),t.refresh()),t},t.prototype.areSame=function(t,i){return wr.isDate(t)&&wr.isDate(i)?t.getTime()===i.getTime():t===i},t.prototype.dispose=function(){this.typeProcessorService=null,this.loggingService=null},t}(),bh=function(){function t(t,i){var n=this;this.stateChangedHandler=function(t,i){t.saveState(n.state),n.saveCallback(n.state)},this.statefulControls=[],this.state=MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)?{}:i,this.saveCallback=t}return t.prototype.setServerLayout=function(t){this.currentServerLayout=t},t.prototype.register=function(t){-1===this.statefulControls.indexOf(t)&&(this.statefulControls.push(t),t.stateChanged.addHandler(this.stateChangedHandler))},t.prototype.isStateEmpty=function(){return this.state==={}||null===this.state},t.prototype.saveState=function(t){this.saveDataState(),this.saveLayout(t),this.saveCallback(this.state)},t.prototype.restoreState=function(t){this.hasServerLayoutChanged(t)&&this.tryRestoreState(t);var i=this.updateDataState();return this.restoreLayout(t),i},t.prototype.saveLayout=function(t){this.state[le.clientLayout]=t.columnLayout},t.prototype.saveDataState=function(){for(var t=0,i=this.statefulControls;t<i.length;t++)i[t].saveState(this.state)},t.prototype.updateDataState=function(){for(var t=!1,i=0,n=this.statefulControls;i<n.length;i++)t=n[i].applyState(this.state)||t;return t},t.prototype.restoreLayout=function(t){MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.state[le.clientLayout])||(t.columnLayout=this.state[le.clientLayout])},t.prototype.hasServerLayoutChanged=function(t){return this.state[le.serverLayout]!==this.currentServerLayout},t.prototype.tryRestoreState=function(t){for(var i=qn.buildLayoutDictionary(t.columnLayout),n={},e=0,r=this.statefulControls;e<r.length;e++)n[(h=r[e]).stateKey]=qn.buildProcessedDescriptions(i,this.state[h.stateKey]);this.state={};for(var s=0,o=this.statefulControls;s<o.length;s++){var h=o[s];this.state[h.stateKey]=n[h.stateKey]}this.state[le.serverLayout]=this.currentServerLayout},t.prototype.dispose=function(){for(var t=0;t<this.statefulControls.length;++t)this.statefulControls[t].stateChanged.removeHandler(this.stateChangedHandler);this.statefulControls=[]},t}(),vh=function(){function t(t,i,n,e,r){this.timeZoneConverter=t,this.client=i,this.gridTelemetry=n,this.allowMsosEditingInGrid=e,this.entityTypeName=r}return t.prototype.generateColumnConfiguration=function(t,i,n,e,r){var s=[];if(t){var o=new vn.grid.Column;o.binding="recId",o.name="recId",o.visible=!1,o.dataType=vn.DataType.Object,s.push(o);var h=0,c=this.client.allocatedWidth-Xn.specialColumnsWidth;if(qn.isPhone(this.client.formFactor))for(var a=0;a<t.length;a++)h+=t[a].visualSizeFactor;var u=h<=0?0:c/(h/100),l=0,A=!1;t.sort(function(t,i){return t.order-i.order});for(var f=0;f<t.length;f++){var d=t[f];if(d.isPrimary&&(A=d.imageProviderWebresource&&!!d.imageProviderFunctionName),-1!==d.order&&!d.isHidden){var g=new vn.grid.Column;if(g.header=d.displayName||d.name,g.binding=d.name,qn.isDesktop(this.client.formFactor))g.width=d.visualSizeFactor;else if(qn.isPhone(this.client.formFactor))g.minWidth=Xn.defaultMinWidth,g.width=u*this.getSizeFactor(d);else{var w=this.getSizeFactor(d);i?(g.minWidth=0<d.visualSizeFactor?d.visualSizeFactor/2:Xn.defaultMinWidth,g.width=t.length>Xn.maxColumnForDynamicSizing||0===w?d.visualSizeFactor:w.toString()+"*"):(g.minWidth=0<d.visualSizeFactor?d.visualSizeFactor:Xn.defaultMinWidth,g.width=d.visualSizeFactor)}if(g.visible=!d.isHidden,g.allowSorting=!d.disableSorting,g.allowDragging=n,d.attributes.type===Vn.multiSelectOptionset?(g.allowSorting=!1,l++):d.attributes.type===Vn.partyList&&(g.allowSorting=!1),e){var m=e[d.name];m&&(g.width=m,g.size=m)}this.buildWijmoColumn(d.attributes.type,d,g),s.push(g)}}if(0<l){var b=[{name:"editablegrid_multiSelectControlcount",value:l}];this.gridTelemetry.reportEvent("multiselectoptionsetcontrolusage",b)}this.generateAdditionalColumnConfiguration(s,n,A,r)}return s},t.prototype.buildWijmoColumn=function(t,i,n){switch(t){case Vn.twoOptions:n.dataType=vn.DataType.String;break;case Vn.dateAndTime:n.dataType=vn.DataType.Date,i.attributes.format.toLowerCase()===Vn.formatDateAndTime?n.format=this.client.dateFormattingInfo.FullDateTimePattern:n.format=this.client.dateFormattingInfo.ShortDatePattern.replace(/\//g,this.client.dateFormattingInfo.DateSeparator);break;case Vn.decimal:case Vn.fp:case Vn.double:case Vn.whole:n.dataType=vn.DataType.Number,qn.isWholeDuration(i)&&(n.minWidth=Xn.durationEditorMinWidth);break;case Vn.currency:n.dataType=vn.DataType.Number,MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes.format)||""===i.attributes.format?n.format="C4":n.format=i.attributes.format;break;case Vn.optionset:n.dataType=vn.DataType.String,qn.isWholeOptionSet(i)||(n.format="D");break;case Vn.multiSelectOptionset:this.allowMsosEditingInGrid||(n.isReadOnly=!0),n.dataType=vn.DataType.Array;break;case Vn.lookup:case Vn.owner:case Vn.customer:case Vn.partyList:n.dataType=vn.DataType.Object,(i.dataType.toLowerCase()!==Vn.dataTypeLookupSimple.toLowerCase()||this._shouldConnectionColumnReadOnly(this.entityTypeName,i))&&(n.isReadOnly=!0);break;case Vn.singleLine:switch(n.dataType=vn.DataType.String,i.attributes.format){case Vn.formatEmail:n.inputType="email";break;case Vn.formatURL:n.inputType="url"}break;case Vn.multiple:n.dataType=vn.DataType.String;break;case Vn.state:case Vn.status:case Vn.entityName:case Vn.uniqueIdentifier:n.isReadOnly=!0;default:n.dataType=vn.DataType.String,n.isReadOnly=!0}},t.prototype.generateColumnUpdate=function(t){for(var i={},n=0;n<t.length;n++){var e=t[n],r={validations:{},format:null,dataMap:null,inputType:null};this.buildAdditionalAttributes(e.attributes.type,e,r),i[e.name]=r}return i},t.prototype.buildAdditionalAttributes=function(t,i,n){switch(t){case Vn.decimal:case Vn.fp:case Vn.double:n.validations.max=i.attributes.maxValue,n.validations.min=i.attributes.minValue,n.format=MscrmCommon.ControlUtils.String.Format("N{0}",i.attributes.precision);break;case Vn.whole:qn.isWholeOptionSet(i)?this.buildAdditionalAttributes(Vn.optionset,i,n):(MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes.format)||i.attributes.format.toLowerCase()!==Vn.formatLanguage||i.attributes.format.toLowerCase()!==Vn.formatTimeZone)&&(n.validations.max=i.attributes.maxValue,n.validations.min=i.attributes.minValue,n.format="N0");break;case Vn.currency:n.validations.max=i.attributes.maxValue,n.validations.min=i.attributes.minValue,n.format=MscrmCommon.ControlUtils.String.Format("N{0}",i.attributes.precision);break;case Vn.twoOptions:case Vn.optionset:case Vn.state:case Vn.status:case Vn.multiSelectOptionset:case Vn.entityName:if(t==Vn.entityName&&!qn.isDisruptiveFeatureEnabledOnAllClients(qn.getGridColumnFilterParityPhase1FCB()))break;var e=qn.getOptionsFromAttributes(i),r=new vn.grid.DataMap(e,Gn.OptionSetValue,Gn.OptionSetLabel);MscrmCommon.ControlUtils.Object.isNullOrUndefined(r)||(n.dataMap=r),qn.contextUtils.isFeatureEnabled(Ps)&&!qn.isUci()&&Ws.isDependentOptionSet(i)&&(i.isHidden=!0);break;case Vn.singleLine:n.validations.maxLength=i.attributes.maxLength,i.attributes.format.toLowerCase()===Vn.formatTextArea&&(n.inputType="hidden");break;case Vn.multiple:n.inputType="hidden",n.validations.maxLength=i.attributes.maxLength}},t.prototype.useOriginalEditor=function(t){var i=!0;switch(t.attributes.type){case Vn.twoOptions:case Vn.dateAndTime:case Vn.decimal:case Vn.fp:case Vn.double:case Vn.currency:case Vn.multiple:case Vn.lookup:case Vn.whole:case Vn.multiSelectOptionset:i=!1;break;case Vn.singleLine:t.attributes.format.toLowerCase()===Vn.formatTextArea&&(i=!1)}return i&&!qn.isWholeOptionSet(t)},t.prototype.getValue=function(t,i,n,e){var r=n,s=null,o=Xn.undefinedString;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(t))return o;if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&(r=i.name),MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.attributes)||(s=i.attributes),qn.isWholeDuration(i)&&e)o=t.reformatValue(r);else if(qn.isWholeOptionSet(i)&&e){var h=void 0;i.dataType===Vn.dataTypeWholeLanguage?h=null==s.languagebycode?s.LanguageByCode:s.languagebycode:i.dataType===Vn.dataTypeWholeTimezone&&(h=null==s.timezonebycode?s.TimeZoneByCode:s.timezonebycode);var c=t.getValue(r);o=MscrmCommon.ControlUtils.Object.isNullOrUndefined(h)?c:h[c]}else if("MultiSelectOptionSet"===i.dataType||"MultiSelectPicklist"===i.dataType)e?(o=t.getFormattedValue(r),(MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)||0==o.length)&&(o=Xn.undefinedString)):(o=t.getValue(r),MscrmCommon.ControlUtils.Object.isNullOrUndefined(o)&&(o=[]));else{var a=t.getValue(r);if(i.dataType===Vn.dataTypeOptionSet&&wr.isOptionMetadata(a)&&(a=a.getValue("value")),(e||MscrmCommon.ControlUtils.Object.isNullOrUndefined(a))&&(a=t.getFormattedValue(r)),!MscrmCommon.ControlUtils.Object.isNullOrUndefined(a)&&Vn.compare(a,Vn.aliasedValue)&&(a=a.get_value()),MscrmCommon.ControlUtils.Object.isNullOrUndefined(a)||"object"!=typeof a)o=a;else if(wr.isDate(a)&&s){var u=parseInt(s.behavior);o=2===u||3===u?this.timeZoneConverter.utcToBrowserTimeZone(a):1==u?this.timeZoneConverter.utcToUserLocal(a):a}else if(Vn.compare(a,Vn.guid))o=a.toString();else if(Vn.compare(a,Vn.optionSetObject))o=a.get_ValueString();else if(Vn.compare(a,Vn.xrmEntityReference)||Vn.compare(a,Vn.entityReference))o=e?a.Name:a;else if(Vn.compare(a,Vn.entityCollection)){if(o="",!MscrmCommon.ControlUtils.Object.isNullOrUndefined(a)){var l=a.getObjectData().entities;o=qn.formatEntityRecords(l)}}else o="*unhandled*"}return qn.getValueOrNull(o)},t.prototype.buildDatasetValue=function(t,i,n){if(MscrmCommon.ControlUtils.Object.isNullOrUndefined(n))return null;switch(t){case Vn.twoOptions:return 1===parseInt(n);case Vn.optionset:return-1===(n=parseInt(n))?null:n;case Vn.dateAndTime:return 2===i.attributes.behavior||3===i.attributes.behavior?this.timeZoneConverter.browserTimeZoneToUtc(n):1===i.attributes.behavior?this.timeZoneConverter.userLocalToUtc(n):n;case Vn.whole:if(qn.isWholeOptionSet(i))return this.buildDatasetValue(Vn.optionset,i,n);default:return n}},t.prototype.createButtonColumn=function(t){var i=new vn.grid.Column;return i.binding=t,i.name=t,i.header=" ",i.allowSorting=!1,i.allowResizing=!1,i.isReadOnly=!0,i.allowDragging=!1,i.dataType=vn.DataType.Object,i.align=this.client.isRTL?"right":"left",i},t.prototype.generateAdditionalColumnConfiguration=function(t,i,n,e){var r=this.createButtonColumn(Gn.btnHeaderSelectColumnName);if(r.width=n||!i&&qn.isHierarchyIconEnabled?Xn.selectButtonWithIconOrConditionalImageMinimumWidth:Xn.selectButtonMinimumWidth,t.splice(1,0,r),i){var s=this.createButtonColumn(Gn.btnHeaderColumnName);qn.isTouchScreenDevice(this.client)&&qn.isReflowByWidth(e)?(s.width=Xn.navigateButtonMinimumWidth,t.splice(2,0,s)):(s.width="*",s.minWidth=2*Xn.navigateButtonMinimumWidth+15,t.push(s))}},t.prototype.getSizeFactor=function(t){return 0<t.visualSizeFactor?t.visualSizeFactor/100:t.visualSizeFactor},t.prototype._shouldConnectionColumnReadOnly=function(t,i){return this.entityTypeName===Gn.connectionEntityName&&i&&i.name===Gn.connectionReadOnlyColumnName},t.prototype.dispose=function(){this.gridTelemetry=null},t}(),ph=function(){function i(t,i,n,e){this.context=t,this.perfTool=i,this.gridTelemetry=n,this.userAgentInfo=e,this.pageNumberToRestore=null}return i.prototype.buildEnhancedPagingService=function(t,i,n){return new fr(t,i,this.utils,n,this.pageNumberToRestore,this.perfTool)},i.prototype.buildEnhancedPagingComponent=function(t){return new yn(t)},i.prototype.buildGridPagingService=function(t,i,n){return new Ah(t,i,n,this.utils,this.perfTool)},i.prototype.buildPagingComponent=function(t,i){var n=t.previousPageButton,e=t.nextPageButton,r=t.firstPageButton,s=t.currentPageElement;return new Gr(r,n,s,e,i)},i.prototype.buildGridGroupingService=function(t,i,n){return new sh(t,i,n,this.utils)},i.prototype.buildGroupingComponent=function(t,i,n,e){return new Jr(t,i,n.columns,e)},i.prototype.buildFieldFactory=function(t,i,n,e){var r=new Or(t,i,n,e,this.communicationChannel,this.isAppointmentRteEnabled,this.context);return this.hasFieldTypeColumns?r:r.withDefaultField()},i.prototype.buildFieldAccessComponent=function(t){return new qr(t)},i.prototype.buildTypeProcessorService=function(t,i,n){return new vh(t,this.client,this.gridTelemetry,i,n)},i.prototype.buildTimeZoneService=function(t){return new gh(t)},i.prototype.buildContainerService=function(t,i,n,e,r){var s=MscrmCommon.ControlUtils.ControlGuidGenerator.newGuid("Grid");return new Jo(s,t,i,n,this.hasGrouping,e,this.client,r)},i.prototype.buildWijmoGridComponent=function(t,i,n,e,r,s,o,h,c,a,u){return this.buildItemViewComponent(t,i,n,e,r,s,o,h,c,a,u)},i.prototype.buildErrorHandlingService=function(t,i,n){return new Ko(t,i,n,this.htmlEncode,this.isEditable)},i.prototype.buildLoggingService=function(){return new hh(this.log)},i.prototype.buildDataAdapterService=function(t,i,n){return new mh(t,i,n,this.communicationChannel)},i.prototype.buildNavigationService=function(t,i,n,e,r,s,o){return new lh(t,this.context,i,n,e,r,s,o)},i.prototype.buildFieldAccessService=function(t){return new _o(t,this.perfTool)},i.prototype.buildSelectionService=function(t){return qn.supportMultiSelection(this.client.formFactor)?new uh(t):new dh(t)},i.prototype.buildStateService=function(t,i){return new bh(t,i)},i.prototype.buildSortingService=function(t,i){return new we(t,i,this.context.utils,this.perfTool)},i.prototype.buildFilteringService=function(t,i,n,e){return new rh(t,i,e,n,this.perfTool)},i.prototype.buildDataSetService=function(t,i,n){return new Xo(t,i,n,this.perfTool,this.gridTelemetry)},i.prototype.buildFilteringContext=function(t){return new ih(t)},i.prototype.buildAriaLiveRegionComponent=function(t){return new gr(t)},i.prototype.buildAriaLiveRegionService=function(t,i,n){return MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)?new Oo:new zo(n,t,i)},i.prototype.buildCriticalRegionService=function(){return new Go},i.prototype.create=function(t,i,n){return this.resetIncludedFeatures(),this.saveStateCallback=t.utils.setState.bind(t.utils),this.notifyOutputChanged=n,this.log=t.utils.log.bind(t.utils),this.state=i,this.client=t.client,this.utils=t.utils,this.formatting=t.formatting,this.htmlEncode=t.utils.crmHtmlEncode.bind(t.utils),this.navigation=t.navigation,this.mode=t.mode,this.theming=t.theming,this.learningPathBag=t.learningPath,this.webAPI=t.webAPI,this.communicationChannel=t.communicationChannel,this.factory=t.factory,this.offline=t.offline,qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&(this.nativeFilterExpressionToRestore=t.parameters&&t.parameters.NativeFilterExpressionToRestore&&t.parameters.NativeFilterExpressionToRestore.raw?t.parameters.NativeFilterExpressionToRestore.raw:null,this.pageNumberToRestore=t.parameters&&t.parameters.PageNumberToRestore&&t.parameters.PageNumberToRestore.raw?t.parameters.PageNumberToRestore.raw:1),qn.isUCIDisruptiveFeatureEnabled(qn.getGridHierarchyIconFCB())&&(this.lookupAttributeNameForHierarchy=t.parameters&&t.parameters.LookupAttributeNameForHierarchy&&t.parameters.LookupAttributeNameForHierarchy.raw?t.parameters.LookupAttributeNameForHierarchy.raw:null,qn.isHierarchyIconEnabled=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.lookupAttributeNameForHierarchy)||!1),!qn.isUci()&&this.client&&qn.isDesktop(this.client.formFactor)?Xn.defaultMinRowHeight=Xn.defaultMinRowHeightWeb:qn.isUCIDisruptiveFeatureEnabled(qn.getGridHighDensityFCBName())&&(Xn.defaultMinRowHeight=Xn.defaultMinRowHeightUCIHighDensity),MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.orgSettings)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.orgSettings.appointmentRichEditorExperience)||(this.isAppointmentRteEnabled=t.orgSettings.appointmentRichEditorExperience),this},i.prototype.withFiltering=function(t){return this.hasFiltering=t==Ue.Yes,this},i.prototype.withSorting=function(){return this.hasSorting=!0,this},i.prototype.withPagination=function(t){return void 0===t&&(t=!0),this.hasPagination=t,this},i.prototype.withGrouping=function(t){return this.hasGrouping=t==Oe.Yes,this},i.prototype.withEditing=function(t){return this.isEditable=t==Se.Yes,this},i.prototype.withSubGrid=function(t){return this.subGridBuilder=t(new i(this.context,this.perfTool,this.gridTelemetry,this.userAgentInfo)),this.hasSubGrid=!0,this},i.prototype.withKeyboardNavigation=function(){return this.hasKeyboardNavigation=!0,this},i.prototype.withAriaLiveRegion=function(){return this.hasAriaLiveRegion=!0,this},i.prototype.withFieldTypeColumns=function(t){return this.useSkypeProtocol=t,this.hasFieldTypeColumns=!0,this},i.prototype.build=function(t,i,n,e,r,s){var o=this;void 0===r&&(r=null),void 0===s&&(s=us.No),To.apply(this.client.userAgent),qn.isDetail=n;var h=!0,c=[],a=new uo,u=this.buildTimeZoneService(this.client.getUserTimeZoneUtcOffset.bind(this.client));u.formatTime=function(t,i){return o.formatting.formatTime(t,i)},u.formatDateShort=function(t,i){return o.formatting.formatDateShort(t,i)};var l=new oh(this.learningPathBag),A=this.buildContainerService(qn.getGridState(i),this.client.allocatedWidth,this.client.allocatedHeight,t,l),f=this.buildLoggingService(),d=this.buildDataSetService(f,i,this.notifyOutputChanged),g=qn.isUci()?d.getTargetEntityType():null,w=this.buildTypeProcessorService(u,this.utils.isFeatureEnabled("AllowMsosEditingInGrid"),g),m=this.hasAriaLiveRegion?this.buildAriaLiveRegionComponent(A.getContainerId()):null,b=this.buildAriaLiveRegionService(d,w,m),v=this.buildErrorHandlingService(A,d,b),p=this.buildDataAdapterService(f,w,v);!qn.isUci()||!n||MscrmCommon.ControlUtils.Object.isNullOrUndefined(d)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(d.dataSet)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(d.dataSet.paging)||MscrmCommon.ControlUtils.Object.isNullOrUndefined(d.dataSet.paging.pageSize)||d.dataSet.paging.hasNextPage||d.dataSet.paging.hasPreviousPage||(h=!1),A.build(n,this.isEditable,h);var E=this.buildFlexGridControl(n,t,A.getHostId(),s),B=this.buildStateService(this.saveStateCallback,this.state),j=this.buildNavigationService(this.navigation,B,e,this.utils,d,this.client.formFactor,this.mode.isOffline),C=this.buildSelectionService(d),I=this.buildFieldFactory(d,j,this.theming,this.useSkypeProtocol),Q=this.buildWijmoGridComponent(E,A,w,u,v,d,p,j,b,l,I),M=this.buildFieldAccessComponent(Q),F=this.buildFieldAccessService(M);if(a.add(Je.timeZoneService,u),a.add(Je.containerService,A),a.add(Je.gridComponent,Q),a.add(Je.typeProcessorService,w),a.add(Je.fieldAccessComponent,M),a.add(Je.fieldAccessService,F),a.add(Je.selectionService,C),a.add(Je.stateService,B),a.add(Je.errorHandlingService,v),a.add(Je.dataAdapter,p),a.add(Je.dataSetService,d),a.add(Je.loggingService,f),a.add(Je.navigationService,j),a.add(Je.ariaLiveRegionComponent,m),a.add(Je.ariaLiveRegionService,b),this.isEditable){var y=this.buildRowButtonManager(Q,d,j),R=new vo(Q,w,F,C,d,v,j,A,this.client,this.mode,p,b,e,y,this.perfTool);this.CheckIfEditableOnMobile(R,d),c.push(R)}else{var x=new yo(Q,w,F,C,d,j,A,this.client,this.mode,p,b,e,I);c.push(x)}if(this.hasFiltering){var k=this.buildFilteringContext(Q),S=this.buildFilteringService(Q,d,this.utils,k),Y=new Eo(Q,S,e);c.push(Y),a.add(Je.filteringContext,k),a.add(Je.filteringService,S)}if(this.hasPagination)if(this.isEditable){var D=this.buildPagingComponent(A,Q),U=this.buildGridPagingService(Q,d,D),N=new Mo(U,D,e);c.push(N),a.add(Je.paginationComponent,D),a.add(Je.paginationService,U)}else D=this.buildEnhancedPagingComponent(Q),U=this.buildEnhancedPagingService(Q,i,D),N=new $e(U,D),c.push(N),a.add(Je.enhancedPaginationComponent,D),a.add(Je.enhancedPaginationService,U);if(this.hasGrouping&&qn.getGridState(i).isGroupByEnabled){var T=this.buildGroupingComponent(A.getContainerId(),Q,d,b),O=this.buildGridGroupingService(Q,d,w),H=new jo(O,T,e);c.push(H),a.add(Je.groupingComponent,T),a.add(Je.groupingService,O)}if(this.hasSorting){var z=this.buildSortingService(i,a.getService(Je.groupingService)),J=new xo(Q,z,e);c.push(J),a.add(Je.sortingService,z)}if(this.hasSubGrid){var G=new No(Q,this.subGridBuilder,e,this.perfTool);c.push(G)}if(this.hasKeyboardNavigation){var V=new Io(Q,a.getService(Je.groupingComponent),a.getService(Je.paginationComponent),A,C,e,F);c.push(V)}return a.add(Je.gridFeatures,c),a},i.prototype.buildFlexGridControl=function(t,i,n,e){void 0===e&&(e=us.No);try{var r={headersVisibility:t&&e==us.Yes?vn.grid.HeadersVisibility.None:vn.grid.HeadersVisibility.Column},s=t?i.getElementsByClassName("editableGrid").item(0):$(MscrmCommon.ControlUtils.String.Format("#{0}",n)).get(0);t&&e==us.Yes&&s.classList.add("hideNestedGridHeader");var o=!this.isEditable&&this.utils.isFeatureEnabled("WijmoSizeCache");o&&(s[Os]=!0);var h=o?zs(s,function(){return new vn.grid.FlexGrid(s,r)},1,function(){}):new vn.grid.FlexGrid(s,r);return(qn.isUci()&&!this.context.utils.isFeatureEnabled(qn.gridVirtualizationFCB)||!qn.isUci())&&(qn.isTouchScreenDevice(this.client)?h.virtualizationThreshold=Xn.virtualizationThreshold:h.virtualizationThreshold=[0,Xn.virtualizationThreshold]),this.adjustGridLayout(s),h}catch(t){}},i.prototype.adjustGridLayout=function(t){var i=t&&t.firstChild;!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&(this.client.userAgent.isBrowserSafari||qn.isTouchScreenDevice(this.client)&&!qn.isEditableGridOnLegacyClient(this.isEditable))&&(t.style.height="auto",i.style.height="auto")},i.prototype.buildItemViewComponent=function(t,i,n,e,r,s,o,h,c,a,u){return new Ls(t,this.utils,this.client,this.offline,this.mode,i,n,e,r,s,o,this.htmlEncode,h,this.theming,c,a,u,this.perfTool,this.gridTelemetry,this.factory,this.nativeFilterExpressionToRestore,this.lookupAttributeNameForHierarchy)},i.prototype.buildRowButtonManager=function(t,i,n){return new Zr(t,i,this.navigation,n,this.webAPI,this.client.isRTL,this.utils,this.isEditable)},i.prototype.CheckIfEditableOnMobile=function(i,t){var n=!this.mode.isControlDisabled&&!this.mode.isOffline;if(qn.isUci()){var e=t.getTargetEntityType();this.utils.getEntityMetadata(e).then(function(t){i.isEditable=n&&!t.IsReadOnlyInMobileClient})}else i.isEditable=n},i.prototype.resetIncludedFeatures=function(){this.isEditable=!1,this.hasFiltering=!1,this.hasSorting=!1,this.hasPagination=!1,this.hasGrouping=!1,this.hasSubGrid=!1},i}();function Eh(t,i){void 0===i&&(i={});var n=i.insertAt;if(t&&"undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}Eh('.wj-content{display:inline-block;border:1px solid rgba(0,0,0,.2);border-radius:4px;background:#fff;box-sizing:border-box}.wj-content.wj-calendar-outer,.wj-content.wj-dropdown,.wj-content.wj-inputmask,.wj-content.wj-inputnumber,.wj-content.wj-pager{display:inline-table}.wj-control{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.wj-control,.wj-control :focus,.wj-control a:focus{outline:0}.wj-control [contenteditable]{user-select:text;-moz-user-select:text;-webkit-user-select:text;-ms-user-select:text}.wj-header{background:#eaeaea;color:#444;font-weight:700}.wj-state-selected{background:#0085c7;color:#fff}.wj-state-multi-selected{background:#80adbf;color:#fff}.wj-state-disabled{opacity:.5;cursor:default;pointer-events:none}.wj-control[disabled]{opacity:.5;background:#eee;pointer-events:none}button,input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;overflow:visible;border-radius:inherit;cursor:pointer}.wj-btn{border:0;padding:0 10px;height:100%;vertical-align:top;text-align:center;white-space:nowrap;cursor:pointer}.wj-btn-default{border:1px solid rgba(0,0,0,.2);background:transparent;color:inherit}.wj-control a[wj-part^=btn-],.wj-control button[wj-part^=btn-]:not(.wj-btn-default){background:#e6e6e6;padding:6px 20px;color:#444;display:inline-block;margin-top:5px;text-decoration:none;font-size:12px;font-weight:700;border:0}.wj-btn:focus,.wj-btn:hover,.wj-control a[wj-part^=btn-]:focus,.wj-control a[wj-part^=btn-]:hover,.wj-control button[wj-part^=btn-]:focus,.wj-control button[wj-part^=btn-]:hover{background:rgba(0,0,0,.2)}.wj-btn.wj-btn-default:hover{background:rgba(0,0,0,.05)}.wj-btn-group,.wj-btn-group-vertical{position:relative;display:inline-block;border-radius:4px;vertical-align:top}.wj-btn-group>.wj-btn:not(:first-child):not(:last-child){border-radius:0}.wj-btn-group>.wj-btn:first-child{margin-left:0}.wj-btn-group>.wj-btn:first-child:not(:last-child){border-right:0;border-top-right-radius:0;border-bottom-right-radius:0}.wj-btn-group>.wj-btn:last-child:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.wj-btn-group .wj-btn+.wj-btn,.wj-btn-group .wj-btn+.wj-btn-group,.wj-btn-group .wj-btn-group+.wj-btn,.wj-btn-group .wj-btn-group+.wj-btn-group{margin-left:-1px}.wj-listbox{overflow:auto;cursor:default}.wj-listbox-item{box-sizing:border-box;padding:3px 10px}.wj-listbox-item.wj-separator{height:1px;margin:3px 0;padding:0;background:rgba(0,0,0,.1)}.wj-listbox-item:not(.wj-state-selected):not(.wj-state-disabled):not(.wj-separator):hover{background:rgba(0,0,0,.05)}.wj-listbox .wj-listbox-item label{font-weight:400;margin:0}.wj-dropdown .wj-listbox{padding:0;white-space:nowrap}.wj-listbox-item.wj-state-selected .wj-control{background:#fff;color:#444}.wj-dropdown{vertical-align:middle}.wj-dropdown .wj-dropdown-menu,.wj-dropdown .wj-template{border-radius:inherit}.wj-template{height:100%;display:table-cell;position:relative}.wj-dropdown-panel{box-shadow:0 6px 13px rgba(0,0,0,.2);z-index:6}.wj-autocomplete-match{font-weight:700}.wj-inputnumber input[type=number]::-webkit-inner-spin-button,.wj-inputnumber input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.wj-control input::-ms-clear{display:none}.wj-inputmask,.wj-inputnumber{vertical-align:middle}.wj-input-group-btn,.wj-input-group .wj-form-control{box-sizing:border-box;display:table-cell}.wj-input{height:100%;overflow:hidden}.wj-input-group{position:relative;display:table;overflow:hidden;width:100%;height:100%;border-collapse:separate;border-radius:4px;background:inherit}.wj-input-group .wj-form-control{position:relative;float:left;padding:0 8px;min-height:2em;vertical-align:middle;width:100%;height:100%;border:0;border-radius:0;background:transparent;color:inherit}.wj-input-group .wj-form-control.wj-numeric{text-align:right}.wj-input-group div[wj-part=header]{float:none;width:auto;vertical-align:middle}.wj-input-group-btn>.wj-btn{border-width:0;min-height:2em}.wj-input-group-btn:first-child>.wj-btn{border-right-width:1px;border-top-right-radius:0;border-bottom-right-radius:0}.wj-input-group-btn:last-child>.wj-btn,[dir=rtl] .wj-input-group-btn:first-child>.wj-btn{border-left-width:1px;border-top-left-radius:0;border-bottom-left-radius:0}[dir=rtl] .wj-input-group-btn:first-child>.wj-btn{border-right-width:0;border-top-right-radius:inherit;border-bottom-right-radius:inherit}[dir=rtl] .wj-input-group-btn:last-child>.wj-btn{border-right-width:1px;border-top-right-radius:0;border-bottom-right-radius:0;border-left-width:0;border-top-left-radius:inherit;border-bottom-left-radius:inherit}.wj-input-group-btn{position:relative;width:26px;height:100%;vertical-align:top;white-space:nowrap}.wj-pager{vertical-align:middle;margin-left:5px;margin-right:5px}.wj-pager .wj-input-group-btn>.wj-btn{min-width:40px}.wj-pager .wj-btn[disabled] span{opacity:.5;cursor:default}.wj-pager .wj-form-control{text-align:center;border-left:1px solid rgba(0,0,0,.2);border-right:1px solid rgba(0,0,0,.2)}.wj-calendar-outer{display:block;padding:10px;width:100%;height:auto;cursor:default;direction:ltr}.wj-calendar td{text-align:center}.wj-dropdown-panel.wj-calendar{width:20em}.wj-dropdown-panel .wj-calendar-outer{border:0;background:0}.wj-day-today{font-weight:700}.wj-day-othermonth{opacity:.5}.wj-calendar-header{display:block;padding:0 0 15px;width:100%}.wj-month-select{float:left;display:inline-block;cursor:pointer}.wj-calendar-header .wj-btn-group{float:right;display:inline-block;margin-bottom:7px}.wj-calendar-header .wj-btn-group .wj-btn{padding:0 8px 1px;min-height:25px}.wj-calendar-month{box-sizing:border-box;width:100%;border-collapse:collapse;font:inherit}.wj-calendar-month td{width:14.29%;padding:5px 0;border:0}.wj-calendar-month .wj-header{font-size:90%}.wj-calendar-year{box-sizing:border-box;width:100%;border-collapse:collapse;font:inherit}.wj-calendar-year td{width:25%;padding:8px;border:0}.wj-flexgrid{cursor:default;width:100%;overflow:hidden}.wj-flexgrid .wj-row{position:absolute;top:0}.wj-cell{position:absolute;box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:3px;border-right:1px solid #d4d4d4;border-bottom:1px solid #d4d4d4}.wj-cell.wj-state-multi-selected .wj-control,.wj-cell.wj-state-selected .wj-control{color:#444}.wj-header.wj-state-multi-selected{background:#e4e4e4;color:#444;font-weight:700}.wj-colheaders .wj-header.wj-state-multi-selected{border-bottom:2px solid #0085c7}.wj-rowheaders .wj-header.wj-state-multi-selected{border-right:2px solid #0085c7}.wj-state-sticky .wj-header{opacity:.75}.wj-flexgrid .wj-marquee{position:absolute;box-sizing:border-box;border:2px solid #0085c7}.wj-cell.wj-state-invalid{border:1.2px solid red}.wj-rowheaders .wj-cell.wj-state-invalid{background:#ffb4b4}.wj-cells .wj-cell.wj-state-invalid:after{position:absolute;content:"";width:0;right:0;top:-6px;border:6px solid transparent;border-right:6px solid red}.wj-cell.wj-wrap{white-space:normal;text-overflow:clip}.wj-cell.wj-multiline{white-space:pre;text-overflow:clip}.wj-cell.wj-wrap.wj-multiline{white-space:pre-wrap;text-overflow:clip}.wj-cell:not(.wj-header):not(.wj-group):not(.wj-alt):not(.wj-state-selected):not(.wj-state-multi-selected){background:#fff}.wj-alt:not(.wj-header):not(.wj-group):not(.wj-state-selected):not(.wj-state-multi-selected){background:#f9f9f9}.wj-group:not(.wj-state-selected):not(.wj-state-multi-selected){background:#ddd}.wj-cell.wj-frozen-row{border-bottom:1px solid #666}.wj-cell.wj-frozen-col{border-right:1px solid #666}.wj-frozen-clone .wj-cell a,.wj-frozen-clone .wj-cell button,.wj-frozen-clone .wj-cell input,.wj-frozen-clone .wj-cell textarea{pointer-events:auto}.wj-cell .wj-btn.wj-btn-glyph{padding:0 4px;height:auto;min-width:1.5em;color:inherit;background:transparent;opacity:.6}.wj-cell .wj-btn.wj-btn-glyph:hover{opacity:1}.wj-cell .wj-btn.wj-btn-glyph.wj-right{position:absolute;right:2px}.wj-rtl .wj-cell .wj-btn.wj-btn-glyph.wj-right{left:2px;right:auto}.wj-flexgrid .wj-grid-editor{box-sizing:border-box;width:100%;height:100%;margin:0;padding:0;border:0;overflow:hidden;resize:none;background:inherit;color:inherit}.wj-flexgrid .wj-marker{position:absolute;background:#0085c7;opacity:.5;pointer-events:none;z-index:4}.wj-flexgrid .wj-cell.wj-header.wj-state-dragsrc{opacity:.5}.wj-rtl .wj-cell{border-left:1px solid #c6c6c6;border-right:0}.wj-rtl .wj-frozen-col{border-left:1px solid #666;border-right:0}.wj-cell.wj-filter-off,.wj-cell.wj-filter-on{padding-right:1.6em}.wj-rtl .wj-cell.wj-filter-off,.wj-rtl .wj-cell.wj-filter-on{padding-left:1.6em;padding-right:2px}.wj-filter-on .wj-glyph-filter{opacity:.9}.wj-filter-off .wj-glyph-filter{opacity:.5}.wj-columnfiltereditor{padding:10px;min-width:230px;max-width:400px}.wj-columnfiltereditor .wj-filtertype{text-align:right;margin:14px 0;font-size:12px}.wj-columnfiltereditor a{color:inherit;font-size:inherit;font-weight:700}.wj-columnfiltereditor a.wj-state-disabled{text-decoration:none}.wj-columnfiltereditor .wj-control{margin-bottom:6px;width:100%}.wj-columnfiltereditor .wj-listbox{height:150px}.wj-columnfiltereditor .wj-listbox .wj-listbox-item{max-width:25em}.wj-columnfiltereditor .wj-listbox:not(.wj-state-focused) .wj-listbox-item.wj-state-selected{color:inherit;background:inherit;transition:all .3s}.wj-columnfiltereditor .wj-listbox .wj-listbox-item label{white-space:nowrap}.wj-grouppanel{display:block;background:#f4f4f4;padding:15px}.wj-grouppanel .wj-cell{margin-right:10px;padding:6px 16px;border:1px solid #e6e6e6;cursor:pointer}.wj-grouppanel .wj-cell:hover{background:#e0e0e0}.wj-multirow .wj-cell.wj-record-end:not(.wj-header){border-bottom-color:#787878}.wj-multirow .wj-cell.wj-group-end{border-right-color:#787878}.wj-multirow .wj-hdr-collapse{position:absolute;padding:6px;right:0;top:0;color:#0085c7;opacity:.5}.wj-multirow .wj-hdr-collapse:hover{opacity:1}.wj-flexsheet .wj-marquee{position:absolute;box-sizing:border-box;border:2px solid #0085c7}.wj-flexsheet .wj-state-multi-selected{background:#e6e6e6;color:#222}.wj-flexsheet .wj-cell.wj-state-multi-selected{border-right:1px solid #bbb;border-bottom:1px solid #bbb}.wj-tooltip{position:absolute;z-index:4;top:0;left:0;pointer-events:none;max-width:400px;padding:6px;background:#ffffe5;border:1px solid rgba(0,0,0,.1);border-radius:6px;box-shadow:0 6px 12px rgba(0,0,0,.175);box-sizing:border-box}.wj-flexchart{height:400px;padding:15px 10px;margin-bottom:12px;background:#fff;border:1px solid #e4e4e4;display:block}.wj-flexchart .wj-header .wj-title{font-size:16pt;fill:#666;font-weight:400}.wj-flexchart .wj-footer .wj-title{fill:#666;font-weight:400}.wj-flexchart .wj-data-label,.wj-flexchart .wj-legend .wj-label{fill:#666}.wj-flexchart .wj-data-label-border{stroke:hsla(0,0%,50%,.5)}.wj-flexchart .wj-data-label-line{stroke:gray}.wj-flexchart .wj-axis-x .wj-title,.wj-flexchart .wj-axis-y .wj-title,.wj-flexchart .wj-legend .wj-title{font-style:italic}.wj-flexchart .wj-state-selected{stroke-width:3px;stroke-dasharray:6;stroke-linecap:square}.wj-flexchart .fibonacci-arcs path.wj-state-selected{stroke-dasharray:5 10;stroke-linecap:butt}.wj-treemap .wj-data-label{fill:#fff}@media(max-width:1025px){.wj-flexchart .wj-state-selected{stroke-width:2px;stroke-dasharray:4}}@media(max-width:767px){wj-flexchart .wj-state-selected{stroke-width:1px;stroke-dasharray:3}}.wj-flexchart .wj-label{fill:#666}.wj-flexchart .wj-axis-x .wj-line,.wj-flexchart .wj-tick,.wj-flexchart .wj-tick-minor{stroke:#aaa;stroke-width:1px}.wj-flexchart .wj-gridline{stroke:#666;stroke-width:1px;opacity:.75}.wj-flexchart .wj-gridline-minor{stroke:#666;stroke-width:1px;opacity:.25}.wj-flexchart .wj-chart-rangeslider{position:absolute;touch-action:none}.wj-flexchart .wj-chart-rangeslider button{position:absolute;text-align:center;vertical-align:middle;padding:0;line-height:16px;border-radius:2px}.wj-flexchart .wj-chart-hrangeslider button{width:16px;height:100%}.wj-flexchart .wj-chart-vrangeslider button{height:16px;width:100%}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-content{background:#eaeaea;height:100%;position:relative}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-rangehandle{position:absolute;text-align:center;vertical-align:middle;background:#bdbdbd;height:100%;width:100%}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-minhandle{border:1px solid gray;display:block;position:absolute;border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-minhandle{background:#bdbdbd;cursor:ew-resize;height:22px;margin-top:-2px;width:14px}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-minhandle{background:#bdbdbd;cursor:ns-resize;width:22px;margin-left:-2px;height:14px}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-handle-active{z-index:2}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-decbtn{left:0}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-incbtn{right:0}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-decbtn{bottom:0}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-incbtn{top:0}.wj-flexchart .wj-chart-rangeslider .wj-glyph-left{border-top:5px solid transparent;border-right:4px solid;border-bottom:4px solid transparent;margin-right:2px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-right{border-bottom:5px solid transparent;border-left:4px solid;border-top:4px solid transparent;margin-left:2px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-down{border-top:5px solid;border-right:4px solid transparent;border-left:4px solid transparent;margin-bottom:3px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-up{border-right:4px solid transparent;border-bottom:5px solid;border-left:4px solid transparent;margin-bottom:4px}.wj-flexchart .wj-chart-rangeselector-container{position:relative}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider,.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-content{background:transparent;border-color:transparent}.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-rangehandle{opacity:.3}.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-minhandle{background:transparent;opacity:.6;border:2px solid gray;border-radius:.5em}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-minhandle{height:20px;width:20px;border-radius:50%;border:1px solid hsla(0,0%,50%,.75);top:0;bottom:0;margin:auto;color:gray;background:#d3d3d3;opacity:1}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-maxhandle:after,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-minhandle:after{content:"\\2551";text-align:center;width:100%;display:inline-block;position:absolute;margin:0;top:50%;transform:translateY(-55%);-webkit-transform:translateY(-55%);opacity:.75;font-size:10px}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-minhandle{height:20px;width:20px;left:50%;border-radius:50%;border:1px solid hsla(0,0%,50%,.75);top:0;bottom:0;color:gray;background:#d3d3d3;opacity:1}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-maxhandle:after,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-minhandle:after{content:"\\2550";text-align:center;height:100%;display:inline-block;position:absolute;margin:0;left:50%;transform:translate(-50%,15%);-webkit-transform:translate(-50%,15%);opacity:.75;font-size:12px}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider .wj-rangeslider-maxhandle.wj-rangeslider-handle-active,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider .wj-rangeslider-minhandle.wj-rangeslider-handle-active{background:rgba(136,189,230,.7)}.wj-flexchart .wj-rangeselector .wj-scroller-center{background:hsla(0,0%,50%,.1);position:absolute;display:block;touch-action:none}.wj-flexchart .wj-zoom{visibility:hidden;position:relative}.wj-flexchart .wj-zoom-overlay{background:hsla(0,0%,50%,.2);position:absolute;display:block;touch-action:none}.wj-flexchart.wj-panable{cursor:pointer}.wj-flexchart .wj-block-other-interaction{display:none}.wj-flexchart-touch-disabled{touch-action:none}.wj-flexchart .wj-chart-linemarker{background:hsla(0,0%,50%,.3);position:absolute;padding:2px}.wj-flexchart .wj-chart-linemarker-container{position:relative}.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-hline{height:2px;background:gray;touch-action:none;position:absolute}.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-vline{width:2px;background:gray;touch-action:none;position:absolute}.wj-flexchart.wj-chart-linemarker-draggable,.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-draggable{-khtml-user-drag:element;cursor:move}.wj-gauge{display:block;touch-action:none}.wj-gauge .wj-face path{fill:#f5f5f5;stroke:#cbcbcb;stroke-width:1px;stroke-linejoin:round}.wj-gauge .wj-pointer{fill:#0085c7}.wj-gauge .wj-ticks{stroke-width:2px;stroke:#fff}.wj-gauge .wj-max,.wj-gauge .wj-min{font-size:60%;opacity:.5}.wj-radialgauge .wj-value{font-size:150%}.wj-lineargauge{height:1.2em}.wj-colorpicker{width:420px;height:200px;padding:4px}.wj-colorbox{position:relative;width:100%;height:100%;cursor:pointer;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.wj-popup{background:#fff;box-shadow:0 3px 9px rgba(0,0,0,.5);z-index:6;margin:2px 0}.wj-popup-backdrop{background:#000;opacity:.5;position:fixed;left:0;right:0;top:0;bottom:0;z-index:6}.wj-glyph-asterisk,.wj-glyph-calendar,.wj-glyph-check,.wj-glyph-circle,.wj-glyph-clipboard,.wj-glyph-clock,.wj-glyph-diamond,.wj-glyph-dimension,.wj-glyph-down,.wj-glyph-down-left,.wj-glyph-down-right,.wj-glyph-file,.wj-glyph-filter,.wj-glyph-left,.wj-glyph-left-rtl,.wj-glyph-measure,.wj-glyph-minus,.wj-glyph-pencil,.wj-glyph-plus,.wj-glyph-right,.wj-glyph-right-rtl,.wj-glyph-square,.wj-glyph-step-backward,.wj-glyph-step-backward-rtl,.wj-glyph-step-forward,.wj-glyph-step-forward-rtl,.wj-glyph-up,.wj-glyph-up-left,.wj-glyph-up-right{position:relative;display:inline-block;box-sizing:border-box;text-align:center;opacity:.75;cursor:pointer}.wj-glyph-asterisk:after{content:"\\2731\\fe0e"}.wj-glyph-calendar{width:1em;height:1em;border:.1em solid;border-top:.3em solid;transform:translateY(.15em)}.wj-glyph-calendar:after{position:absolute;font-size:50%;left:.5em;content:"1"}.wj-glyph-check:after{content:"\\2714\\fe0e";font-weight:700}.wj-glyph-circle{border:.25em solid;border-radius:1em;transform:translateY(-.1em)}.wj-glyph-clipboard:after{content:"\\1f4cb\\fe0e"}.wj-glyph-clock{width:1em;height:1em;border:.1em solid;border-radius:50%;transform:translateY(.15em)}.wj-glyph-clock:after{position:absolute;border-left:.1em solid;border-bottom:.1em solid;width:.25em;height:.3em;top:.1em;left:.35em;content:""}.wj-glyph-diamond:after{content:"\\25c6\\fe0e"}.wj-glyph-dimension:after{content:"\\27c0\\fe0e"}.wj-glyph-down{border-top:.5em solid;border-right:.4em solid transparent;border-left:.4em solid transparent}.wj-glyph-down-left{border-top:.65em solid transparent;border-left:.65em solid;top:-2px}.wj-glyph-down-right{border-bottom:.65em solid;border-left:.65em solid transparent;top:-2px}.wj-glyph-file{border-left:.7em solid;height:.85em}.wj-glyph-file:after{position:absolute;transform:translateX(-100%);border-top:.3em solid transparent;border-left:.3em solid #fff;content:""}.wj-glyph-left,.wj-glyph-right-rtl{border-top:.4em solid transparent;border-right:.5em solid;border-bottom:.4em solid transparent}.wj-glyph-measure:after{content:"\\1f4ca\\fe0e"}.wj-glyph-minus,.wj-glyph-plus{border-top:.25em solid;width:.9em;top:-.2em}.wj-glyph-plus:after{position:absolute;box-sizing:border-box;border-left:.25em solid;width:.25em;height:.85em;left:.32em;top:-.55em;content:""}.wj-glyph-pencil:after{content:"\\270e\\fe0e"}.wj-glyph-left-rtl,.wj-glyph-right{border-top:.4em solid transparent;border-bottom:.4em solid transparent;border-left:.5em solid}.wj-glyph-square{border:.25em solid}.wj-glyph-step-backward,.wj-glyph-step-forward-rtl{border-top:.4em solid transparent;border-right:.5em solid;border-bottom:.4em solid transparent;transform:translateX(.12em)}.wj-glyph-step-backward:after,.wj-glyph-step-forward-rtl:after{position:absolute;border-left:.2em solid;height:.75em;transform:translate(-100%,-50%);content:""}.wj-glyph-step-forward-rtl:after,[dir=rtl] .wj-glyph-step-backward:after{transform:translateY(-50%)}.wj-glyph-step-backward-rtl,.wj-glyph-step-forward{border-top:.4em solid transparent;border-bottom:.4em solid transparent;border-left:.5em solid}.wj-glyph-step-backward-rtl:after,.wj-glyph-step-forward:after{position:absolute;border-left:.2em solid;height:.75em;transform:translateY(-50%);content:""}.wj-glyph-step-backward-rtl:after,[dir=rtl] .wj-glyph-step-forward:after{transform:translate(100%,-50%)}.wj-glyph-up{border-right:.4em solid transparent;border-bottom:.5em solid;border-left:.4em solid transparent}.wj-glyph-up-left{border-bottom:.65em solid transparent;border-left:.65em solid}.wj-glyph-up-right{border-top:.65em solid;border-left:.65em solid transparent}.wj-glyph-filter{top:-.1em;width:.5em;border-top:.5em solid;border-right:.4em solid transparent;border-left:.4em solid transparent}.wj-glyph-filter:after{position:absolute;border-left:.2em solid;height:.4em;transform:translateX(-50%);top:-.2em;content:""}[dir=rtl] .wj-glyph-filter:after{transform:translateX(50%)}.wj-flexsheet .wj-content{border-color:#ccc;border-radius:0}.wj-flexsheet-formula-list{margin:0;padding:0;background:#fff;border:1px solid rgba(0,0,0,.2);font-family:arial,sans-serif;font-size:12px;line-height:22px;position:absolute;width:300px;z-index:7;box-shadow:0 2px 4px rgba(0,0,0,.2)}.wj-flexsheet-formula-name{color:#222;font-size:13px;font-family:inconsolata,monospace,arial,sans,sans-serif;margin:-2px 0}.wj-flexsheet-formula-description{color:#666;display:block;font-size:11px;margin:-2px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wj-state-selected .wj-flexsheet-formula-description{color:#fff}.wj-flexsheet div[wj-filter]{display:none}div[wj-part=tab-holder]{background:#b8b8b8}span.wj-sheet-icon{margin:0 14px}div.wj-sheet-page{padding-top:1px}div.wj-sheet-page>button{padding:0;padding-top:1px;border-radius:0;border:0;background:#e4e5e8;color:#727275}div.wj-sheet-page>button:hover{background:#dee0e3}.wj-sheet-tab ul{display:inline-block;margin:0;padding:0;float:left}.wj-sheet-tab ul li{float:left;display:block;padding-right:20px;padding-left:20px;cursor:pointer;margin-top:1px;border-left:1px solid #b8b8b8;min-height:20px;background:#d2d3d8;text-align:center;padding-top:2px;font-size:11px;color:#727275}.wj-sheet-tab ul li.active{border-top-color:transparent;background:#fff;cursor:default;height:100%;margin-top:1px;border-left:1px solid #b8b8b8;font-weight:700}.wj-sheet-tab ul li.hidden{display:none}.wj-sheet-tab ul li:not(.active):hover,.wj-sheet-tab ul li:not(.hidden):hover{background:#aabcd6;color:#fff;cursor:pointer}.wj-sheet-tab ul li.wj-new-sheet:hover{background:#0085c7}.wj-new-sheet{padding:0;width:32px;height:20px;font-size:11px;text-align:center;background:#668eb9;color:#fff}.wj-new-sheet .wj-sheet-icon{color:#727275;margin-top:5px}div.wj-sheet>div{display:block;float:left}[dir=rtl] div.wj-sheet>div{display:block;float:right}.wj-flexsheet{background:#a9a9a9;width:100%;height:100%}.wj-context-menu{background:#fff;border:thin solid gray;cursor:default;padding:3px 0}.wj-context-menu-item{padding:3px 10px}.wj-context-menu-item:not(.wj-context-menu-item-selected):hover{background:rgba(0,0,0,.1)}.wj-context-menu-item-selected{background:#0085c7;color:#fff}.wj-header-row{background:#96abb4!important;color:#fff!important}.wj-pivotpanel{position:relative;padding:3px 6px;overflow:auto;min-height:25em;width:100%}.wj-pivotpanel a{float:right;margin:6px}.wj-pivotpanel table{table-layout:fixed;width:100%}.wj-pivotpanel div{width:100%}.wj-pivotpanel td,.wj-pivotpanel tr{border:1px none #e0e0e0;padding:3px}.wj-pivotpanel label{font-weight:700;margin:0}.wj-pivotpanel .wj-flexgrid{flex-grow:1;border:0;border-radius:0;min-height:8em;max-height:20em;margin-left:6px}.wj-pivotpanel table .wj-flexgrid{min-height:5em;height:5em}.wj-pivotpanel .wj-marker{position:absolute;background:#0085c7;opacity:.5;pointer-events:none}.wj-pivotpanel .wj-flexgrid .wj-cell{border:0;background:inherit!important;color:inherit!important}.wj-pivotpanel .wj-flexgrid .wj-cell:hover{background:rgba(0,0,0,.03)!important;border-radius:4px}.wj-pivotpanel .wj-flexgrid .wj-glyph-filter{cursor:default;opacity:.5}.wj-pivotpanel .wj-flexgrid .wj-glyph-dimension,.wj-pivotpanel .wj-flexgrid .wj-glyph-measure{cursor:default}.wj-pivotpanel .wj-flexgrid .wj-aggregate{font-size:80%;opacity:.5}.wj-pivotpanel .wj-flexgrid label{font-weight:400;margin:0}.context-menu{font-size:90%;padding:6px}.menu-icon{display:inline-block;width:1em;margin-right:6px;opacity:.75;color:#0000c0}.menu-icon.menu-icon-remove{color:maroon;font-weight:700}.wj-pivotfieldeditor{min-width:400px}.wj-pivotfieldeditor tr.wj-separator{border-top:10px solid transparent}.wj-pivotfieldeditor td:first-child{text-align:right}.wj-pivotfiltereditor{padding:10px;min-width:230px}.wj-pivotfiltereditor .wj-control{margin-bottom:6px;width:100%}.wj-pivotfiltereditor .wj-listbox{max-height:150px}.wj-pivotfiltereditor .wj-listbox .wj-listbox-item label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.wj-pivotgrid .wj-colheaders .wj-cell.wj-header{text-align:center}.wj-pivotgrid .wj-topleft .wj-cell.wj-col-field-hdr{text-align:right}.wj-pivotgrid .wj-cell.wj-aggregate{font-weight:700}.wj-pivotgrid .wj-aggregate.wj-cell:not(.wj-header):not(.wj-group):not(.wj-state-selected):not(.wj-state-multi-selected){background:rgba(0,133,199,.15)}.wj-pivotchart{position:relative}.wj-pivotchart .wj-dropdown{position:absolute;margin-right:15px;z-index:3}.wj-pivotchart .wj-flexchart{padding:35px 15px 10px}.wj-detaildialog .wj-flexgrid{width:60vw;height:40vh;box-sizing:border-box}.wj-dialog-header{width:100%;background:rgba(0,0,0,.05);font-weight:700;font-size:120%}.wj-dialog-body,.wj-dialog-footer,.wj-dialog-header{padding:1em;box-sizing:border-box}.wj-dialog-footer{text-align:right;margin-top:1em}.wj-control.wj-tabpanel{display:block}.wj-control.wj-tabpanel>div>.wj-tabpanes{overflow:auto;border-top:1px solid #ddd;user-select:text;-moz-user-select:text;-webkit-user-select:text;-ms-user-select:text}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader{position:relative;cursor:pointer;display:inline-block;text-align:center;padding:8px 12px;text-decoration:none;color:inherit;font-weight:700;text-transform:uppercase}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader.wj-state-active{color:#0085c7;background:#fff}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader:not(.wj-state-active):focus{background:rgba(0,0,0,.1)}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader:after{content:"";position:absolute;background:#0085c7;height:2.5px;left:45%;width:10%;bottom:0;visibility:hidden}.wj-control.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader.wj-state-active:after{left:0;width:100%;visibility:visible;transition-duration:.2s}.wj-control.wj-tabpanel>div>.wj-tabpanes>.wj-tabpane:not(.wj-state-active){display:none}.wj-treeview{width:100%;overflow:auto;background:transparent;border:0}.wj-treeview.wj-state-loading *{cursor:wait!important}.wj-treeview .wj-node{cursor:pointer;white-space:nowrap;box-sizing:border-box;padding:3px 10px}.wj-treeview .wj-node.wj-state-selected{color:inherit;background:rgba(0,0,0,.05)}.wj-treeview .wj-node img{padding-right:4px}.wj-treeview .wj-node .wj-node-check{margin-right:4px}.wj-treeview .wj-node:before{content:"";position:relative;display:inline-block;border-top:.5em solid;border-right:.45em solid transparent;border-left:.45em solid transparent;top:-1px;margin-right:4px;opacity:.75;transition:all .3s cubic-bezier(.4,0,.2,1)}.wj-treeview .wj-node.wj-state-collapsed:before,.wj-treeview .wj-node.wj-state-collapsing:before{transform:rotate(-90deg);transition:all .3s cubic-bezier(.4,0,.2,1)}.wj-treeview .wj-nodelist .wj-node.wj-state-empty:before{visibility:hidden}.wj-treeview .wj-nodelist{display:block;position:relative}.wj-treeview .wj-nodelist .wj-nodelist{padding-left:1em}.wj-treeview .wj-node.wj-state-collapsed+.wj-nodelist{display:none}.wj-treeview .wj-marker{position:absolute;background:#0085c7;opacity:.5;pointer-events:none}.wj-treeview .wj-node.wj-state-collapsed.wj-state-loading:before{animation-name:a;animation-duration:.6s;animation-direction:alternate;animation-iteration-count:infinite}@keyframes a{0%{opacity:1;transform:scale(1.1)}to{opacity:.5;transform:scale(.5)}}[dir=rtl] .wj-nodelist .wj-nodelist{padding-left:unset;padding-right:1em}[dir=rtl] .wj-node img{padding-right:unset;padding-left:4px}[dir=rtl] .wj-node .wj-node-check,[dir=rtl] .wj-nodelist .wj-node:before{margin-right:unset;margin-left:4px}[dir=rtl] .wj-nodelist .wj-node.wj-state-collapsed:before,[dir=rtl] .wj-nodelist .wj-node.wj-state-collapsing:before{transform:rotate(90deg)}.wj-multi-autocomplete{width:100%;height:auto;padding:5px;border:1px solid rgba(0,0,0,.1);border-radius:6px;margin-bottom:10px}.wj-multi-autocomplete .wj-input{float:left}.wj-multi-autocomplete .wj-form-control{padding:10px}.wj-multi-autocomplete .wj-token{box-sizing:border-box;border-radius:3px;display:inline-block;float:left;border:1px solid #d9d9d9;background:#ededed;white-space:nowrap;margin:5px;vertical-align:middle;cursor:default}.wj-multi-autocomplete .wj-token .wj-token-label{display:inline-block;overflow:hidden;text-overflow:ellipsis;padding:5px 5px 5px 10px;vertical-align:middle;max-width:500px}.wj-multi-autocomplete .wj-token:hover{border-color:#b9b9b9}.wj-multi-autocomplete .wj-token.wj-token-active{border-color:#febbbb}.wj-multi-autocomplete .wj-token-helper{position:absolute;left:-10000px}.wj-multi-autocomplete .wj-token .wj-token-close{font-family:Arial;display:inline-block;line-height:100%;font-size:1.1em;line-height:1.49em;margin-left:5px;float:none;height:100%;vertical-align:middle;padding-right:4px;cursor:pointer}.wj-multi-autocomplete .wj-token .wj-token-close:focus,.wj-multi-autocomplete .wj-token .wj-token-close:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.5}.wj-viewer-outer{width:100%;height:100%;display:block;position:relative;padding-top:50px}.wj-viewer-splitter{cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wj-viewer-outer.mobile.with-footer,.wj-viewer-outer.mobile.with-searchbar{padding-bottom:50px}.wj-viewer-outer.mobile.with-footer.with-searchbar{padding-bottom:100px}.wj-viewer-outer .mobile{visibility:hidden}.wj-viewer-outer.mobile .wj-toolbar,.wj-viewer-outer.mobile .wj-viewer-splitter{visibility:hidden;display:none}.wj-viewer-outer.mobile .mobile{visibility:visible}.wj-viewer-outer.mobile .wj-toolbar.mobile{display:block}.wj-viewer-outer.mobile .wj-toolbar.mobile.hidden{display:none}.wj-viewer{height:750px;width:1100px;background:#fff;margin-left:auto;margin-right:auto}.wj-viewer.full-screen{left:0;top:0;width:100%;height:100%;display:block;position:fixed!important;z-index:5}.wj-viewer.full-screen .wj-viewer-outer{width:100%;height:100%;display:block;position:absolute;padding-top:0}.wj-viewer.full-screen .wj-viewer-outer.mobile{padding-top:50px}body.full-screen{overflow:hidden}.wj-viewer.wj-control{-webkit-user-select:inherit;-ms-user-select:inherit;-moz-user-select:inherit}.wj-toolbarcontainer{float:left;height:100%;overflow:hidden}.wj-toolbarwrapper{padding-top:5px;height:100%}.wj-toolbar{height:50px;width:100%;border-bottom:1px solid #c8c8c8;box-sizing:border-box;position:absolute;margin-top:-50px}.wj-viewer .wj-toolbarwrapper.wj-btn-group>.wj-btn{padding-left:0;padding-right:0;height:40px;box-sizing:border-box;position:relative;float:left}.wj-viewer.full-screen .wj-toolbar,.wj-viewer .wj-toolbar .hidden{display:none}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-toolbar{display:block}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-searchbar.hidden{display:none}.wj-toolbar a:focus,.wj-toolbar a:hover{background:#eee}.wj-toolbar a:focus.checked,.wj-toolbar a:focus.disabled,.wj-toolbar a:hover.checked,.wj-toolbar a:hover.disabled{background:transparent;cursor:default}.wj-toolbar .wj-separator{height:33px;width:10px;float:left;border-right:2px solid #000;margin:3px 10px 0 0;opacity:.25}.wj-toolbar .wj-pagenumber{margin:4px 10px;height:30px;width:80px;float:left}.mobile .wj-toolbar .wj-pagenumber{width:50px}.wj-toolbar .wj-pagecount{margin:5px 10px;height:30px;line-height:30px;float:left}.mobile .wj-toolbar .wj-pagecount{margin:5px 7px}.wj-toolbar .wj-input-zoom{margin:4px 10px;height:30px;width:100px;float:left}.wj-toolbar .slash{float:left;height:40px;width:10px;line-height:40px}.wj-toolbar-move{width:12px;height:100%;cursor:pointer;visibility:hidden}.wj-viewer-outer.mobile .wj-toolbar .wj-toolbar-move{visibility:hidden;display:none}@media print{.wj-toolbar-move{visibility:hidden;display:none}}.wj-toolbar-move.left{float:left}.wj-toolbar-move.right{float:right}.wj-toolbar-move .wj-glyph-left,.wj-toolbar-move .wj-glyph-right{margin-top:23px;margin-left:2px}.wj-toolbar:hover .wj-toolbar-move.enabled{opacity:1}.wj-toolbar-move:hover.enabled{background:#f0f0f0;opacity:1}.wj-toolbar-move{opacity:.2}.wj-mini-toolbar{position:absolute;vertical-align:bottom;border:0;bottom:50px;width:460px;background:#303030;visibility:hidden;opacity:.8}.wj-viewer.full-screen .wj-mini-toolbar{visibility:visible;display:inline-block}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-mini-toolbar{visibility:hidden;display:none}.wj-mini-toolbar a:focus{background:transparent}.wj-mini-toolbar .slash,.wj-mini-toolbar .wj-pagecount{color:#e0e0e0}.wj-mini-toolbar .wj-pagenumber{color:#e0e0e0;background:#202020}.wj-mini-toolbar .wj-toolbar-move{visibility:hidden}.wj-mini-toolbar .wj-svg-btn{fill:#fff;opacity:1}.wj-mini-toolbar .wj-btn:hover{background:#606060!important}.wj-viewer-container{height:100%;width:100%;table-layout:fixed;box-sizing:border-box}@media print{.wj-viewer-container{white-space:nowrap}}.wj-viewer.full-screen .wj-viewer-splitter{display:none}.wj-viewer.narrow .wj-viewer-splitter{display:none;visibility:hidden}.wj-viewer-container .wj-viewer-splitter{float:left;height:100%;cursor:pointer}.wj-viewer-container .wj-viewer-splitter button{padding:0 2px;background:#fafafa;border-left:1px solid #c8c8c8;border-right:1px solid #c8c8c8;border-top:0;border-bottom:0}.wj-viewer-container .wj-viewer-splitter button:hover{background:#dadada}.wj-viewer-container .wj-viewer-splitter span{text-align:center}.wj-viewer-leftpanel{float:left;height:100%}.mobile .wj-viewer-leftpanel{width:0}.wj-viewer.full-screen .wj-viewer-leftpanel{display:none}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-viewer-leftpanel{display:block}.wj-viewer.narrow .wj-viewer-leftpanel{display:none;visibility:hidden}.wj-nav{padding-left:0;list-style:none;float:left;border-bottom:0;margin-bottom:-1px;box-sizing:border-box}.wj-nav>li{position:relative;display:block;float:none;margin:0}.wj-nav>li.hidden{display:none}.wj-nav>li>a{position:relative;display:block;margin-right:0;border:0;border-right:1px solid #c8c8c8;background-repeat:no-repeat;background-position:50%;width:48px;height:48px;line-height:1.42857143;border-radius:0;border-width:0;border-color:transparent;padding-top:12px;box-sizing:border-box}.wj-nav>li>a:focus,.wj-nav>li>a:hover{text-decoration:none;background:#eee}.wj-nav>li>a .wj-arrow{display:none}.wj-nav>li>a .wj-arrow .wj-insidearrow{position:absolute;top:17px;z-index:4;right:-1px;height:0;width:0;border:7px solid transparent;border-right-color:#fafafa}.wj-nav>li>a .wj-arrow .wj-outsidearrow{position:absolute;top:16px;right:-1px;height:0;width:0;border:8px solid transparent;border-right-color:#c8c8c8}.wj-nav>li.active>a,.wj-nav>li.active>a:focus,.wj-nav>li.active>a:hover{border:0}.mobile .wj-nav{display:none;visibility:hidden}.wj-viewer-tabsleft{height:100%;position:relative}.wj-viewer-outer.mobile .wj-viewer-tabsleft{width:100%;position:absolute;top:0;z-index:4}.wj-viewer-outer.mobile .wj-viewer-tabsleft.collapsed{width:0}.wj-viewer-outer.mobile .wj-tabcontent{width:100%}.wj-viewer-tabsleft.collapsed .wj-tabcontent{width:0;visibility:collapse}.wj-tabcontent{float:right;height:100%;width:auto}.wj-tabcontent h3{margin-top:0;font-family:-apple-system-font,Segoe UI Light,Segoe UI,Roboto,sans-serif}.wj-tabcontent .wj-tabpane{position:relative;left:-9999px;background:#fafafa;width:0;height:0;display:none}.wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper{position:absolute;width:299px;padding:10px 20px 20px;box-sizing:border-box}.wj-viewer-outer.mobile .wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper{position:absolute;width:100%;padding:10px 20px 20px;box-sizing:border-box}.wj-tabcontent .wj-tabpane .wj-tabtitle{color:#000;float:left}.wj-tabcontent .wj-tabpane .wj-tabcontent-wrapper{height:100%;padding-top:48px;box-sizing:border-box}.wj-tabcontent .wj-tabpane .wj-tabcontent-wrapper.search-wrapper{padding-top:202px}.wj-tabcontent .wj-tabpane .wj-tabcontent-wrapper.wj-exportformats-wrapper{padding-top:120px}.wj-tabcontent .wj-tabpane .wj-tabcontent-inner{overflow:auto;height:100%;border-top:1px solid #c8c8c8}.wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper .wj-close{font-size:30pt;line-height:20px;float:right;font-weight:700;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;cursor:pointer}.wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper .wj-exportcontainer{margin-top:50px}.wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper .wj-exportcontainer label{margin-right:8px}.wj-tabcontent .wj-tabpane .wj-outlines-tree{border-radius:0;background:#fafafa;padding-top:20px;padding-left:4px}.wj-tabcontent .wj-listbox-item.wj-thumbnail-item.wj-state-selected,.wj-tabcontent .wj-listbox-item.wj-thumbnail-item:not(.wj-state-selected):not(.wj-state-disabled):not(.wj-separator):hover{background:transparent;color:inherit}.wj-tabcontent .wj-thumbnaillist{width:100%;border-radius:0;border:0;display:block}.wj-tabcontent .wj-tabpane .wj-thumbnaillist .wj-thumbnail-item{height:auto;text-align:center;padding-top:35px}.wj-tabcontent .wj-tabpane .wj-thumbnaillist .wj-thumbnail-item .wj-pagethumbnail{background:#fff;border:1px solid #c8c8c8;cursor:pointer;margin:0 auto 10px}.wj-tabcontent .wj-tabpane .wj-thumbnaillist .wj-listbox-item.wj-thumbnail-item.wj-state-selected .wj-pagethumbnail{border-color:#0085c7}.wj-tabcontent .active{left:0;width:300px;height:100%;border-left:1px solid #c8c8c8;display:block}.wj-viewer-outer.mobile .wj-tabcontent .active{left:0;width:100%;height:100%;border:1px solid #c8c8c8;display:block}.wj-viewpanel-container{float:right;overflow:hidden}.wj-pageview,.wj-viewpanel-container{position:relative;background:#e5e5e5;height:100%;width:100%;text-align:center}.wj-pageview{-webkit-overflow-scrolling:touch}.wj-pageview-continuous{overflow:auto}.wj-pageview.hidden{display:none;visibility:hidden}.wj-pageview-pagescontainer{position:relative;height:100%;width:100%;display:inline-block;overflow-x:auto;overflow-y:scroll;text-align:center}.wj-pageview-single:not(.virtual) .wj-pageview-pagescontainer{overflow-y:auto}.wj-pageview-vscroller{display:inline-block;position:absolute;right:0;top:0;height:100%;width:18px;float:right;overflow-x:hidden;overflow-y:scroll}.wj-pageview-single:not(.virtual) .wj-pageview-vscroller{visibility:hidden}.wj-vscroller-wrapper{width:1px}@media print{.wj-viewpanel-container{display:inline-block;float:none}}.wj-viewpanel-container .wj-view-page{width:1px;height:1px;margin:0 auto 30px;background:#fff;border:1px solid rgba(0,0,0,.3);box-shadow:0 2px 8px rgba(0,0,0,.15)}.wj-viewpanel-container.move .wj-view-page{cursor:move;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wj-viewpanel-container .wj-view-page:last-child{margin-bottom:0}.wj-viewer-loading{background:hsla(0,0%,80%,.8);position:absolute;left:0;top:0;width:100%;height:100%;text-align:center;font-size:20pt}.wj-viewer-loading .verticalalign{vertical-align:middle;display:inline-block;width:1px;height:100%;margin-left:-1px}.wj-viewer-loading .textspan{vertical-align:middle;display:inline-block;padding:20px}.wj-viewer-loading.errormessage{font-size:inherit}.wj-parameterscontainer{float:left;width:100%;padding-left:10px;padding-right:10px;box-sizing:border-box}.wj-parametercontainer{float:left;width:100%;margin-top:20px}.wj-parametercontainer .wj-parameterhead{float:left;padding-top:4px}.wj-parametercontainer .wj-parametercontrol{float:right;width:100%}.wj-parametercontainer .error{color:red;float:right}.wj-parametererrors-hidden .wj-parametercontainer .error{display:none}.wj-parametercontainer textarea{float:right;resize:none;height:100px;width:140px}.wj-tabpane .wj-applybutton{float:right;margin-top:20px}.wj-outlines-tree{border:0;width:100%;display:block}.wj-outlines-tree .wj-cell{border:0}.wj-outlines-tree .wj-cell span{margin-right:5px}.wj-outlines-tree .wj-cell a:hover,.wj-outlines-tree .wj-cell a:link,.wj-outlines-tree .wj-cell a:visited{color:#000;text-decoration:none}.wj-outlines-tree .wj-header.wj-cell{color:#fff;background:#000;border:0;font-weight:700}.wj-outlines-tree .wj-cell{cursor:pointer}.wj-outlines-tree .wj-alt:not(.wj-state-selected):not(.wj-state-multi-selected),.wj-outlines-tree .wj-cell,.wj-outlines-tree .wj-group:not(.wj-state-selected):not(.wj-state-multi-selected){background:#fafafa;color:#000}.wj-outlines-tree .wj-state-selected{background:#eee;color:#000}.wj-outlines-tree .wj-state-multi-selected{background:#fafafa;color:#000}.wj-tabcontent .wj-tabpane .wj-searchbox{width:100%;height:30px;float:left;border-radius:4px;border:1px solid rgba(0,0,0,.2);padding:4px 60px 4px 8px;margin-right:5px;box-sizing:border-box}.wj-tabcontent .wj-tabpane .wj-searchcontainer{position:relative;float:left}.wj-tabcontent .wj-tabpane .wj-searchcontainer .wj-btn-group{position:absolute;top:0;right:0}.wj-tabcontent .wj-tabpane .wj-searchcontainer .wj-btn-group button{background:transparent;background-position:50%;background-repeat:no-repeat;height:30px;width:30px;border:0;padding:1px}.wj-tabcontent .wj-tabpane .wj-searchoption{margin-top:10px;float:left;width:100%}.wj-tabcontent .wj-tabpane .wj-searchoption input{height:16px;float:left;width:16px;margin:2px 0 0}.wj-tabcontent .wj-tabpane .wj-searchoption label{margin-top:2px;float:left;font-weight:400}.wj-tabcontent .wj-tabpane .wj-searchresult{color:#000;padding-top:15px;float:left}.wj-tabcontent .wj-searchresultlist{float:left;width:100%;padding:10px;background:transparent;border:0;border-radius:0}.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-item{cursor:pointer}.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-item.selected,.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-item:hover{background:#eee}.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-text{font-size:18px;font-weight:500}.wj-tabcontent .wj-tabpane .wj-searchresultlist .wj-search-page{font-weight:300}.wj-viewer-outer.mobile .wj-tabcontent .wj-tabpane .wj-pagesetupcontainer{width:100%}.wj-view-page .wj-loading{background:hsla(0,0%,80%,.8);width:100%;height:100%}.wj-view-page .highlight{fill:red;fill-opacity:.5}.wj-view-page rect{pointer-events:none}.wj-view-page a rect,.wj-view-page rect[arsvg\\:data-action-type]{pointer-events:inherit}.wj-pages-wrapper{display:inline-block;margin:30px}.wj-svg-btn{opacity:.5;width:22px;height:22px;enable-background:new 0 0 22 22;stroke-width:0;stroke:#000}.wj-viewer .wj-btn-group>.wj-btn{padding-top:8px;padding-left:8px;padding-right:8px;height:36px;width:34px}.wj-viewer .mobile .wj-btn-group>.wj-btn{padding-top:9px}.wj-content:not(.customEdit) .wj-btn-group .wj-btn:hover{background:#eee}.wj-content:not(.customEdit) .wj-btn-group .wj-btn.wj-state-active .wj-svg-btn{fill:#3986c7;opacity:1;stroke:#3986c7}.wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-btn .wj-svg-btn{fill:#3986c7;opacity:1}.wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-btn .wj-svg-btn .wj-hollow-svg{fill:none;stroke:#3986c7}.wj-viewer-menu>.wj-listbox-item{white-space:nowrap}.wj-viewer-footer{height:50px;width:100%;border-top:1px solid #c8c8c8;box-sizing:border-box;position:relative;display:none}.wj-viewer-outer.mobile .wj-viewer-footer{display:block}.wj-viewer-outer.mobile .wj-viewer-footer.hidden{display:none}.wj-viewer-footer .wj-toolbar{margin:0 auto;left:0;right:0}.wj-viewer-footer .wj-close{font-size:30pt;line-height:20px;float:right;font-weight:700;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;cursor:pointer;margin-top:12px}.wj-control :invalid{box-shadow:none;outline:0}.wj-export-editor{width:100%}.wj-export-editor td{font-size:8pt}.wj-exportformats-wrapper .wj-export-editor td:first-child{width:200px}.wj-exportformats-wrapper .wj-export-editor td:last-child{width:150px}.wj-exportformats-group{margin:8px}.wj-exportformats-footer,.wj-pagesetup-footer{padding:8px}.wj-searchbar{height:50px;width:100%;border-top:1px solid #c8c8c8;box-sizing:border-box;position:relative;margin:0 auto}.wj-searchbar.hidden{visibility:hidden;display:none}.wj-searchbar .wj-searchcontainer{left:40px;right:80px;float:left;width:auto;position:absolute;padding-top:4px;display:inline-block}.wj-searchbar .wj-searchbox{width:100%;height:30px;float:left;border-radius:4px;border:1px solid rgba(0,0,0,.2);padding:4px 60px 4px 8px;margin-right:5px;box-sizing:border-box}.wj-searchbar .wj-searchcontainer .wj-btn-group{position:absolute;top:5px;right:0}.wj-searchbar .wj-searchcontainer .wj-btn-group>.wj-btn-search{padding-top:4px}.wj-searchbar .wj-searchcontainer .wj-btn-group button{background:transparent;background-position:50%;background-repeat:no-repeat;height:30px;width:30px;border:0;padding:1px}.wj-searchbar .wj-toolbarcontainer,.wj-searchbar .wj-toolbarcontainer .wj-toolbarwrapper{width:100%}.wj-searchbar .wj-toolbarcontainer .wj-toolbarwrapper>.wj-btn{display:inline-block}.wj-searchbar .wj-toolbarcontainer .wj-toolbarwrapper .wj-searchbtn-groups{float:right;width:auto;padding-top:0}.wj-listbox-item .checkIcon{width:20px;margin-right:5px;visibility:hidden}.wj-listbox-item.checked .checkIcon{visibility:visible}.wj-listbox-item.hidden{display:none;visibility:hidden}.wj-zoombar{width:220px}.wj-rubberband{border:solid;border-color:red;border-width:2px;width:0;height:0;z-index:1;position:absolute;display:none}.wj-viewpanel-container.magnifier-actived .wj-view-page,.wj-viewpanel-container.rubberband-actived .wj-view-page{cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wj-magnifier,.wj-viewpanel-container.magnifier-actived .wj-view-page svg,.wj-viewpanel-container.rubberband-actived .wj-view-page svg{pointer-events:none}.wj-magnifier{border:solid;border-color:#000;border-width:1px;width:242px;height:150px;z-index:1;position:absolute;display:none;overflow:hidden;cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wj-viewpanel-container.magnifier-actived .wj-magnifier.show,.wj-viewpanel-container.rubberband-actived .wj-rubberband.show{display:block}.wj-magnifier .wj-view-page{position:absolute}'),Eh('.editModeSectionControlIcon{position:absolute;top:0;right:100%;margin-top:6px;margin-bottom:0;margin-left:0}.text-ellipsis{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.TabularView{background-color:transparent;border:0;table-layout:fixed;border-collapse:separate}.listAsTable-HeaderRow{color:#fff;height:23px;border:0;background-color:#999;vertical-align:bottom;text-align:left;padding:0;margin-bottom:0;border-spacing:0;-webkit-transform:none!important}.listAsTable-HeaderRow,.listAsTable-HeaderRow th{font:normal normal normal 13px/20px SegoeUI-Semibold,Segoe UI SemiBold}.listAsTable-HeaderRow th{border-spacing:0;min-width:40px;border:1px solid #f4f4f4}.listAsTable-HeaderRow span{display:inline-block;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:36px;max-width:100%;vertical-align:top}.listAsTable-HeaderRow th.headerRow-sortAscending span,.listAsTable-HeaderRow th.headerRow-sortDescending span{max-width:-webkit-calc(100% - 14px);max-width:calc(100% - 14px)}.TabularView td{vertical-align:middle}.TabularView>tbody:last-child>tr{margin-top:8px;margin-bottom:8px;height:53px;padding:0}.TabularView>tbody>tr:first-child{margin-top:0}.listAsTable-HeaderRow>th{text-align:left;vertical-align:middle;white-space:nowrap}.headerRow-sortArrow{height:10px;width:7px;margin-left:7px;display:inline-block}.headerRow-sortAscending,.headerRow-sortDescending{background-color:#717171;overflow:inherit}.headerRow-sortDescending .headerRow-sortArrow{background-image:url(/nga/resources/images/sort_arrow_down.png)}.headerRow-sortAscending .headerRow-sortArrow{background-image:url(/nga/resources/images/sort_arrow_up.png)}.handleRow span{float:right;width:31px;left:23px;top:25px;touch-action:none}.listAsTable-HeaderRow th,.TabularView tbody tr td,.widthReserver td{padding-left:10px;min-width:40px}.listAsTable-HeaderRow th{padding-right:10px}.TabularView tbody tr td,.widthReserver td{padding-right:11px}.widthReserver td div{min-width:50px}.listAsTable-HeaderRow th:first-child,.TabularView tbody tr:not(hover) td:first-child,.widthReserver td:first-child{min-width:40px}.listItem.listAsTable-Row{outline:none}.listItem.listAsTable-Row td:first-child{border-left:2px solid transparent;padding-right:9px}.listItem.listAsTable-Row td:last-child{border-right:2px solid transparent;padding-right:9px;position:relative}.listItem.listAsTable-Row[aria-selected=true]{background:#fff}.listItem.listAsTable-Row[aria-selected=true] td{border-top:2px solid #f7661f;border-bottom:2px solid #f7661f}.listItem.listAsTable-Row[aria-selected=true] td:first-child{border-left:2px solid #f7661f}.listItem.listAsTable-Row[aria-selected=true] td:last-child{padding-right:0;border-right:2px solid #f7661f}.TabularView .item_Checked{right:0;position:absolute;top:0}.listRoot.panoramaItem-control.gridRoot{overflow:hidden}.gridComponentContainer.panoramaItem-control{height:100%}.phone .gridPane .listRoot.panoramaItem-control .scrollingElement{height:calc(100% - 40px)}.gridPane.panoramaItem{-ms-flex:1 0 auto;flex:1 0 auto}.gridPane .listRoot.panoramaItem-control .scrollingElement{padding-right:6px;width:auto}.listRoot:not(.containerDisabled) .TabularView tbody .field:focus:not([readonly]){background-color:#fff}.TabularView.hasHyperLinkNavigation>tbody>tr>td:first-child,.TabularView.hasHyperLinkNavigation>tbody>tr>td:first-child input{cursor:pointer;color:#24a0da}.table_header{border-spacing:0;margin-right:17px}.listHeader.hideExtraPadding{margin-bottom:0;padding-bottom:0}.widthReserver{height:0;visibility:hidden;border-spacing:0}.widthReserver td{height:0;border-top:0;border-bottom:0;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0}.listAsTable-Row{background-color:transparent}.hoverable .listAsTable-Row:hover{cursor:pointer}.listAsTable-Row td>:not(.item_Checked){font:normal normal normal 14px/20px SegoeUI,Segoe UI;background-color:transparent;display:inline-block;min-width:40px;width:inherit;color:#666;text-align:left;overflow-x:hidden}.listAsTable-Row td>:not(.item_Checked).crmSymbolFont{font-family:Dyn CRM Symbol;text-align:center;font-size:16.2px}.listAsTable-Row td span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tablet.ios .listAsTable-Row td span{overflow-x:auto}.listAsTable-Row button{border:none;margin:0}.listAsTable-Row .listItem_primary_field{text-decoration:underline;color:#000}.TabularView tr:nth-child(odd){background-color:#f1f1f1}.TabularView tr:nth-child(2n){background-color:#fbfbfb}.TabularView .placeHolderImage{height:auto}.tablet .gridPane .listRoot.panoramaItem-control .scrollingElement{height:calc(100% - 105px);background-color:transparent}.tablet .TabularView tr{background-color:#fff}.tablet .TabularView>tbody:last-child>tr{height:52px}.tablet .listAsTable-HeaderRow{background-color:hsla(0,0%,100%,.5);color:#000;height:50px}.tablet .listAsTable-HeaderRow th{border-color:transparent;border-bottom:2px solid #f4f4f4}.tablet .listAsTable-HeaderRow span{font:normal normal normal 12px/20px SegoeUI-Semibold,Segoe UI SemiBold;color:#000;text-transform:uppercase}.tablet .headerRow-sortAscending,.tablet .headerRow-sortDescending{background-color:#fff}.tablet .headerRow-sortArrow{height:auto;width:auto;background-image:none;font-size:13px}.tablet .headerRow-sortDescending .headerRow-sortArrow{transform:rotate(90deg)}.tablet .headerRow-sortAscending .headerRow-sortArrow{transform:rotate(-90deg)}.tablet .headerRow-sortAscending .headerRow-sortArrow:before,.tablet .headerRow-sortDescending .headerRow-sortArrow:before{font-family:Dyn CRM Symbol;content:"\\E111"}.tablet .listItem.listAsTable-Row td{border-bottom:2px solid #f4f4f4}.tablet .listItem.listAsTable-Row[aria-selected=true] td{border-bottom:2px solid #f7661f}.tablet .listAsTable-Row td>:not(.item_Checked):not(.crmSymbolFont){font:normal normal normal 15px/20px SegoeUI,Segoe UI}.tablet .TabularView .listItem:first-child:last-child{background-color:#fff}@font-face{font-family:Dyn CRM Symbol Grid;src:url("data:font/truetype;charset=utf-8;base64,AAEAAAAMAIAAAwBAT1MvMknUe20AAADMAAAAYFZETVhuw3ZbAAABLAAABeBjbWFw4BF5igAABwwAAAfUZ2FzcAAIABsAAA7gAAAADGdseWY+5MEZAAAO7AABK8xoZWFkCl68yAABOrgAAAA2aGhlYRJq/r0AATrwAAAAJGhtdHiYcrwOAAE7FAAABcpsb2NhAL5ejAABQOAAAAX4bWF4cAHbAZsAAUbYAAAAIG5hbWW40i/MAAFG+AAABiJwb3N0AI9xZQABTRwAABJ7AAMJsgGQAAUAAAWaBTMAAAEbBZoFMwAAA9EAZgISCAUCCwUCBAIEAgIDAAAAARAAAAAAAAAAAAAAAE1TICAAQAAN7I0F0/5RAQ0IogICAAAAAQAAAAAEAAWaAAAAIAAAAAEAAQABAQEBAQAMAPgI/wAIAAj//gAJAAr//QAKAAr//QALAAv//QAMAAz//QANAAz//QAOAA3//AAPAA7//AAQAA///AARABD//AASABH/+wATABL/+wAUABP/+wAVABT/+wAWABX/+gAXABb/+gAYABf/+gAZABj/+gAaABn/+QAbABr/+QAcABv/+QAdABz/+QAeAB3/+AAfAB3/+AAgAB7/+AAhAB//+AAiACD/9wAjACH/9wAkACL/9wAlACP/9wAmACT/9gAnACX/9gAoACb/9gApACf/9gAqACj/9QArACn/9QAsACr/9QAtACv/9QAuACz/9AAvAC3/9AAwAC7/9AAxAC//9AAyADD/8wAzADH/8wA0ADH/8wA1ADL/8wA2ADP/8gA3ADT/8gA4ADX/8gA5ADb/8gA6ADf/8QA7ADj/8QA8ADn/8QA9ADr/8QA+ADv/8AA/ADz/8ABAAD3/8ABBAD7/8ABCAD//7wBDAED/7wBEAEH/7wBFAEL/7wBGAEP/7gBHAET/7gBIAET/7gBJAEX/7gBKAEb/7QBLAEf/7QBMAEj/7QBNAEn/7QBOAEr/7ABPAEv/7ABQAEz/7ABRAE3/7ABSAE7/6wBTAE//6wBUAFD/6wBVAFH/6wBWAFL/6gBXAFP/6gBYAFT/6gBZAFX/6gBaAFb/6QBbAFf/6QBcAFj/6QBdAFj/6QBeAFn/6ABfAFr/6ABgAFv/6ABhAFz/6ABiAF3/5wBjAF7/5wBkAF//5wBlAGD/5wBmAGH/5gBnAGL/5gBoAGP/5gBpAGT/5gBqAGX/5QBrAGb/5QBsAGf/5QBtAGj/5QBuAGn/5ABvAGr/5ABwAGv/5ABxAGv/5AByAGz/4wBzAG3/4wB0AG7/4wB1AG//4wB2AHD/4gB3AHH/4gB4AHL/4gB5AHP/4gB6AHT/4QB7AHX/4QB8AHb/4QB9AHf/4QB+AHj/4AB/AHn/4ACAAHr/4ACBAHv/4ACCAHz/3wCDAH3/3wCEAH7/3wCFAH//3wCGAH//3gCHAID/3gCIAIH/3gCJAIL/3gCKAIP/3QCLAIT/3QCMAIX/3QCNAIb/3QCOAIf/3ACPAIj/3ACQAIn/3ACRAIr/3ACSAIv/2wCTAIz/2wCUAI3/2wCVAI7/2wCWAI//2gCXAJD/2gCYAJH/2gCZAJL/2gCaAJL/2QCbAJP/2QCcAJT/2QCdAJX/2QCeAJb/2ACfAJf/2ACgAJj/2AChAJn/2ACiAJr/1wCjAJv/1wCkAJz/1wClAJ3/1wCmAJ7/1gCnAJ//1gCoAKD/1gCpAKH/1gCqAKL/1QCrAKP/1QCsAKT/1QCtAKX/1QCuAKb/1ACvAKb/1ACwAKf/1ACxAKj/1ACyAKn/0wCzAKr/0wC0AKv/0wC1AKz/0wC2AK3/0gC3AK7/0gC4AK//0gC5ALD/0gC6ALH/0QC7ALL/0QC8ALP/0QC9ALT/0QC+ALX/0AC/ALb/0ADAALf/0ADBALj/0ADCALn/zwDDALn/zwDEALr/zwDFALv/zwDGALz/zgDHAL3/zgDIAL7/zgDJAL//zgDKAMD/zQDLAMH/zQDMAML/zQDNAMP/zQDOAMT/zADPAMX/zADQAMb/zADRAMf/zADSAMj/ywDTAMn/ywDUAMr/ywDVAMv/ywDWAMz/ygDXAM3/ygDYAM3/ygDZAM7/ygDaAM//yQDbAND/yQDcANH/yQDdANL/yQDeANP/yADfANT/yADgANX/yADhANb/yADiANf/xwDjANj/xwDkANn/xwDlANr/xwDmANv/xgDnANz/xgDoAN3/xgDpAN7/xgDqAN//xQDrAOD/xQDsAOD/xQDtAOH/xQDuAOL/xADvAOP/xADwAOT/xADxAOX/xADyAOb/wwDzAOf/wwD0AOj/wwD1AOn/wwD2AOr/wgD3AOv/wgD4AOz/wgD5AO3/wQD6AO7/wQD7AO//wQD8APD/wQD9APH/wAD+APL/wAD/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FSI0DQdKED8mGRf9aCIoC1EJASMcA6T9+gKyArL9+wAAA//V/jAJ7whKABgAJAAwAAABESEGABURIRE0NjchESEmAjURIREUFhYzEzQANyERIQYGFREhAREhIiYnESERFBYXCe/9Tun+5P6nU0X7XgKcRFMBWI74gKwBHekCBf37Vlf+pwQL+0mdtAgBWVdVBD/+qA3+9u/9TwKxqP5gAVhfAQCnAgX9+6zpcfv27wEJDf6nA1hR/fsIFf6nvJ0CBf6nUVgDAAb/1f4wCe8ISgAMABYAHQAqAC4AMgAAAQYGIyImJxE2MzIWFwERIyYkJREkJDcBESImNTQ2ASEVIREhAREjNSERIQEhNSEBIRUhBegGWE5SWQYhIkKQRAQLrKP9d/50AUcCh+r6nI3MzP0oA2X79gYPAVKs/q77QgQR/KIDXvyiA178ov65PktNPAIoBSoxBQ36naCxCAKxCLSd/qf9T8qPj8n7Sq0Jbv6n/qetAVj+qKz+p6wACAAr/twJmQeeAAMABwALAA8AEwAXABsAHwAAEyERIRERIREBIREhEREhEQEhESE3ITUhASERITchNSErBAr79gQKAVkEC/v1BAv2kgQK+/asArH9TwS3BAv79awCsv1OBED9+vyiAgX9+wjC/fr5RAIF/fsIwv36raz9T/36rawAAAMChv3aBz0IoAADAAcADwAAASERIREhESEFMxEhASMBIQKGBLf7SQS3+0kCBa0BWf6nrf6nAVkBOPyiCsb8oqz+p/6nAVkAAAwBLf6GCJYH9AADAAcACwAPABMAGQAiACgALgAyADYAOgAAASMRMxERIxETESMRAREzEQMRMxEBESEVIxUBAREjESERITUBFTMVIREFNTMRITUFNSEVATUhFRM1IRUB06ampqamBsSlpaX4lwFZrAVjAVms/qf+p/yirP6nBr2s/qf79QFZ/qcBWa0BWQSWAVn9+v6nAVn9+/6nAVn+pwFZ/qcCBQFZ/qcECwFZrawBWf6n/fsBWQFYrffrrK0BWays/qetra2tCMGtrfc/ra0AAA3/fv3ZCkUIoAADAAcACwAPABMAFwAbAB8AMwBHAFsAbgByAAABIREhASERIQEhESEBIREhASERIQEhESEBIREhASERIQEWFRQGBwcGIyImNTQ3NzY2MzIXARUUDgIjIicnJjU0PgIzMxYW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Za2tra3+p62trf6nra2tra0AAAv/fv3aCkUIogADAAcACwAPABMAFwAbAB8AIwAnACsAAAMhESERESERAREhEQERIREFIREhASM1MwUhNSEBIzUzBSE1IQEjNTMFITUhggNe/KIDXgQL/KIGvPlEBhD6nAVk+/WsrANe/U4CsvyirKwDXv1OArL8oqysA179TgKyCKL8ovv2A178ogdo/KIDXvv0+UQGvK36nQQLrKys/fusrKz9+6ysrAAACQDM/jAI9whKABgAHAAgACQAMQA1ADkAPQBAAAABASY1NTQ3NzYzMhcBATYzMhYXFxYXFRQHARUhNRE1IR0CITUBIRUhESEBESMRIREhEzMVIxMjNTM1IzUzBSEBBcj9xxIVgRQYHBUBRAJDFCELFQiKFgMN+8j+ywE1/sv99AIM/U8FYwIGrf37++60rKysrKysrANeARL+7v4wAmUTGQMbE3cSFf6jAuoZBghrERsIFRMEuqys/fusrKytrftJrQlu/fv9TgIFAgX8o60BWaytrKwBEQAACQDX/jAI7AhKAAsADwATABcAJAAoACwAMAAzAAAlAQcBAScBATcBARcBFSE1ETUhHQIhNQEhFSERIQERIxEhESETMxUjEyM1MzUjNTMFIQEHfwFt8/6S/pL0AW7+kvQBbgFu8/vS/ssBNf7L/fQCDP1OBWQCBa39+/vvs6ysrKysrKwDXwER/u+R/pP0AW7+kvQBbQFu9P6SAW70BPKsrP37rKysra37Sa0Jbv37/U4CBQIF/KOtAVmsraysAREABACJ/pkJOgfhAAMABwALAA8AAAkDFwkDEQEREwERAQKf/iwEFwHVgwG/++n+QP1nBBOLBBP77QQuASUCjv7bUv7p/XEBGP1JA7P9dPxNA7MCjPxN/XQAAAkBLf6GCJYH9AADAA8AHAAgACQAKAAsADAAMwAAASM1MwERIREhESERIREhEQERIxEhESERIRUhESEBIRUhJTMVIwEhFSEjIzUzJSE1IQUBEQMyrKwECwFZ/qf+p/6nAVkCsqz9+vvvArj8ogVk/U4BNf7L/qesrAFZATX+y62srAHi/ssBNQKO/u8F76z8ov6n/qf+pwFZAVkBWQKy/U4CBQIF9+usCW779aysrAIFrKytrKwBEf7vAAT/fv3aCkUIoAALAA8AEwAXAAAlAQcBAScBATcB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Cc0BLQnN/9UJzQArCc3/1QnN/5UJzf+sCc3/fgnN/48JzQCBCc3/fgnNAMwJzQDXCc0AiQnNAS0Jzf9+Cc3/yQnN/9UJzf9+Cc3/qQnNARwJzQArCc0BgwnN/34Jzf/VCc3/1QnNACoJzf9+Cc0A1wnNACsJzQIwCc0A1wnNACsJzQArCc0AKgnNACsJzQAtCc0ALQnN/34JzQEtCc0A1wnNAKAJzf9+Cc3/fgnNACsJzQDXCc3/qgnNANcJzQGECc0A1wnNANcJzQCBCc0AVgnN/9IJzQArCc3/fgnNANcJzf9+Cc0ABAnN/5kJzQArCc3/hgnN/34Jzf9+Cc3/fAnN/34JzQDWCc3/cwnNAIEJzQArCc3/gAnN/34Jzf9+Cc3/fgnNAIkJzQArCc3/1QnN/34JzQArCc3/fgnN/34Jzf+gCc0AKwnN/+EJzQArCc3/fgnNAS0Jzf+PCc0BhAnNAYQJzQArCc0AEwnNACwJzQDXCc0A1wnNANcJzQDXCc0BhAnNANcJzf9+Cc3/fgnN/+wJzQGECc3/qQnN/9UJzf9+Cc3/fgnN/34Jzf9+Cc3/fgnN/9UJzQArCc3/fgnN/38Jzf9+Cc0A1wnNAoYJzf96Cc0AKwnN/44Jzf+BCc0AKwnN/34JzQCXCc3/fgnN/9UJzf+CCc0AKwnN/34Jzf9+Cc3/fgnN/9UJzf9+Cc3/fgnNAYgJzf9+Cc3/fgnNAjAJzf9+Cc3/fgnN/34Jzf9+Cc0A1wnN/9EJzQCECc3/fgnN/9UJzf9+Cc3/fgnN/34Jzf+vCc3/sAgAARkIvAAABRQApQUUAAoKkADXDJwDTgnNAOYJzQDhCc0DMAnNAXkJzQF5Cc0AcwnNARcJzQDWCc0ApgnNAFMJzQEXCc0AtQnNAp0JzQEXCc0EJAnNAOUJzQFDCc0BFgnN/sEJzQCQCc0AAAnN/3UJzQElCc3/fgnNAdgJzf+5Cc0B2gnNAF4JzQDhCc0ADQnN/8EJzQCkCc0ADQnNAAkJzQAICc0AWAnNAFwJzQA7Cc0APwnNADsJzQBKCc0AAAnNAWcJzQFiCc0BZwnNAWcJzQBqCc0BZwnNAWcJzQFnCc0A2AnNAWcJzQFnCc0AWAnNAFwJzQA7Cc0APwnNADsJzQBKCc0AAAnNAWcJzQFiCc0BZwnNAWcJzQBqCc0BZwnNAWcJzQFnCc0A2AnNAWcJzQFnCc0AWAnNAFwJzQA7Cc0APwnNADsJzQBKCc0AAAnNAWcJzQFiCc0BZwnNAWcJzQBqCc0BZwnNAWcJzQFnCc0A2AnNAWcJzQFnCc0AWAnNABgJzQA4Cc0AWwnNAFsJzQBbCc0AngnNAGQJzQFbCc3/5wnNABoJzQCUCAABZAgAAKMLRAEaBuQApQbkAKUJzQEVCc0BeQnNAXkJzQC1CAACRAnNAdUJzQHVCc0BFwnNARcJKgAKC1QAVAnNABwAHAEMANwAbQFEAUABCAFfAF4AhgCUA2sB2gCbAmAA0wB5AjUArgBkAKYAAAAAAAAAAAAoAAAAKAAAACgAAAAoAAAAugAAASoAAAG4AAACfgAAArIAAAL2AAADTAAAA8QAAAQ4AAAEjAAABMYAAAVmAAAF1AAABjQAAAb8AAAImAAACMAAAApEAAAK4gAAC14AAAveAAAMUAAADLQAAA08AAAN7AAADoIAAA9aAAAQRgAAEHoAABDMAAARqgAAEg4AABLEAAATVAAAFEQAABR8AAAUygAAFbQAABY0AAAWhgAAFuAAABdcAAAX9gAAGGAAABiuAAAY+AAAGUYAABnKAAAaQgAAGpgAABucAAAcBAAAHIAAABz2AAAdrAAAHhQAAB9IAAAftAAAIFoAACC+AAAhEAAAIZwAACJsAAAjEgAAI8gAACRKAAAkkgAAJWQAACbiAAAn4AAAKI4AACjoAAAp7AAAKqYAACsyAAArtgAALEIAACyYAAAs8AAALUgAAC2gAAAuFgAALqwAAC8QAAAvqgAAMDIAADEWAAAyJgAAMwYAADPyAAA0nAAANXQAADY0AAA2jAAAN0YAADe+AAA4TAAAOLYAADkmAAA6RgAAOvYAADt+AAA8LAAAPS4AAD2UAAA9+AAAPjAAAD6WAAA+0AAAPxoAAD+kAABALAAAQJ4AAEDkAABBHAAAQWYAAEGgAABCEAAAQ5AAAEPSAABEfgAARUYAAEXaAABG9gAAR2QAAEh8AABJwgAASpoAAEsYAABLYAAAS9YAAExOAABMwAAATaAAAE5sAABO5gAAT4YAAFCiAABRjAAAUtgAAFN8AABUEAAAVSQAAFYCAABW+AAAV7QAAFjcAABZ9AAAWmwAAFsiAABcRgAAXHoAAF0QAABdsAAAXggAAF6aAABffAAAYJoAAGGYAABiFAAAY0AAAGRgAABk9gAAZiAAAGcIAABoWgAAaOAAAGmqAABp9AAAamAAAGqiAABrLAAAa6QAAGweAABs2AAAbSwAAG18AABuKgAAb14AAG/wAABwgAAAcTwAAHGGAABypAAAc8gAAHRyAAB1JAAAdmAAAHd+AAB4EgAAeHYAAHmUAAB6OAAAetIAAHtwAAB8SAAAfJAAAH2CAAB+BAAAfxwAAIBcAACAlgAAgZwAAIH4AACCZgAAgvgAAIOWAACEIgAAhHAAAITaAACFlgAAhngAAIeOAACIHgAAiOwAAImCAACKigAAi0YAAIukAACMyAAAjSYAAI6mAACPfgAAj8wAAJBSAACQzgAAkjIAAJLCAACTfAAAk/AAAJUUAACWEAAAlvQAAJf4AACYIAAAmEgAAJlMAACaUgAAmvwAAJsuAACcJgAAnHgAAJzKAACeBAAAnvoAAJ/QAACgSAAAoPYAAKGIAACjBAAApBIAAKQ+AACkhgAApXwAAKXuAACmDgAAptoAAKguAACo7AAAqYQAAKnaAACqXgAAq3wAAKx4AACsqgAArQIAAK02AACuXgAAsMgAALGYAACykgAAtEAAALWgAAC3GAAAuIIAALnaAAC7cAAAvKwAAL28AADAiAAAwcYAAMMaAADEAgAAxEQAAMSyAADFEAAAxiAAAMaAAADHqAAAycYAAMo0AADLzAAAzVgAAM7cAADQhgAA0e4AANMoAADVxgAA1zwAANiUAADZtAAA2i4AANrQAADbYAAA3KQAAN08AADelgAA4O4AAOGMAADjfAAA5WAAAOc8AADpPgAA6wAAAOySAADvigAA8VgAAPMKAAD0hAAA9VYAAPZSAAD3PAAA+NoAAPnKAAD7fAAA/iwAAP8iAAEAqAABAXgAAQJUAAEDDAABBD4AAQUYAAEGigABB1gAAQhMAAEKxgABC5YAAQy8AAENRgABDXAAAQ7oAAEPFAABDy4AAQ/2AAERLAABEaYAARH6AAESIgABElQAARKIAAETCgABFAAAARSYAAEWjgABF3YAARfUAAEYeAABGfAAARpqAAEavgABGxwAARzqAAEfMAABIDIAASB2AAEiYgABIrYAASLoAAEkDAABJEQAASWkAAEmUAABJvAAASimAAEqFgABK8wAAQAAAX0A+wAUAAAAAAACABAALwABAAAAOABvAAAAAAAAACMBqgADAAEEAwACAAwAAAADAAEEBQACABAADAADAAEEBgACAAwAHAADAAEEBwACABAAKAADAAEECAACABAAOAADAAEECQAAAGQASAADAAEECQABABwArAADAAEECQACAA4AyAADAAEECQADABwArAADAAEECQAEABwArAADAAEECQAFABgA1gADAAEECQAGABgA7gADAAEECQAIACoAVgADAAEECQALAFQBBgADAAEECQANApgBWgADAAEECQAOAFQBBgADAAEECgACAAwAAAADAAEECwACABAD8gADAAEEDAACAAwAAAADAAEEDgACAAwEAgADAAEEEAACAA4EDgADAAEEEwACABIEHAADAAEEFAACAAwAAAADAAEEFQACABAELgADAAEEFgACAAwAAAADAAEEGQACAA4EPgADAAEEGwACABAETAADAAEEHQACAAwAAAADAAEEHwACAAwAAAADAAEEJAACAA4EXAADAAEELQACAA4EagADAAEICgACAAwAAAADAAEIFgACAAwAAAADAAEMCgACAAwAAAADAAEMDAACAAwAAABOAG8AcgBtAGEAbABvAGIAeQENAGUAagBuAOkAbgBvAHIAbQBhAGwAUwB0AGEAbgBkAGEAcgBkA5oDsQO9A78DvQO5A7oDrACpACAAMgAwADEANQAgAE0AaQBjAHIAbwBzAG8AZgB0ACAAQwBvAHIAcABvAHIAYQB0AGkAbwBuAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAC4ARAB5AG4AIABDAFIATQAgAFMAeQBtAGIAbwBsAFIAZQBnAHUAbABhAHIAVgBlAHIAcwBpAG8AbgAgADEALgAxADYARAB5AG4AQwBSAE0AUwB5AG0AYgBvAGwAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwB0AHkAcABvAGcAcgBhAHAAaAB5AC8AZgBvAG4AdABzAC8AWQBvAHUAIABtAGEAeQAgAHUAcwBlACAAdABoAGkAcwAgAGYAbwBuAHQAIABhAHMAIABwAGUAcgBtAGkAdAB0AGUAZAAgAGIAeQAgAHQAaABlACAARQBVAEwAQQAgAGYAbwByACAAdABoAGUAIABwAHIAbwBkAHUAYwB0ACAAaQBuACAAdwBoAGkAYwBoACAAdABoAGkAcwAgAGYAbwBuAHQAIABpAHMAIABpAG4AYwBsAHUAZABlAGQAIAB0AG8AIABkAGkAcwBwAGwAYQB5ACAAYQBuAGQAIABwAHIAaQBuAHQAIABjAG8AbgB0AGUAbgB0AC4AIABZAG8AdQAgAG0AYQB5ACAAbwBuAGwAeQAgACgAaQApACAAZQBtAGIAZQBkACAAdABoAGkAcwAgAGYAbwBuAHQAIABpAG4AIABjAG8AbgB0AGUAbgB0ACAAYQBzACAAcABlAHIAbQBpAHQAdABlAGQAIABiAHkAIAB0AGgAZQAgAGUAbQBiAGUAZABkAGkAbgBnACAAcgBlAHMAdAByAGkAYwB0AGkAbwBuAHMAIABpAG4AYwBsAHUAZABlAGQAIABpAG4AIAB0AGgAaQBzACAAZgBvAG4AdAA7ACAAYQBuAGQAIAAoAGkAaQApACAAdABlAG0AcABvAHIAYQByAGkAbAB5ACAAZABvAHcAbgBsAG8AYQBkACAAdABoAGkAcwAgAGYAbwBuAHQAIAB0AG8AIABhACAAcAByAGkAbgB0AGUAcgAgAG8AcgAgAG8AdABoAGUAcgAgAG8AdQB0AHAAdQB0ACAAZABlAHYAaQBjAGUAIAB0AG8AIABoAGUAbABwACAAcAByAGkAbgB0ACAAYwBvAG4AdABlAG4AdAAuAE4AbwByAG0AYQBhAGwAaQBOAG8AcgBtAOEAbABOAG8AcgBtAGEAbABlAFMAdABhAG4AZABhAGEAcgBkAE4AbwByAG0AYQBsAG4AeQQeBDEESwRHBD0ESwQ5AE4AbwByAG0A4QBsAG4AZQBOAGEAdgBhAGQAbgBvAEEAcgByAHUAbgB0AGEAAAACAAAAAAAA/04AdwAAAAAAAAAAAAAAAAAAAAAAAAAAAX0AAAECAAIAAwEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8BIAEhASIBIwEkASUBJgEnASgBKQEqASsBLAEtAS4BLwEwATEBMgEzATQBNQE2ATcBOAE5AToBOwE8AT0BPgE/AUABQQFCAUMBRAFFAUYBRwFIAUkBSgFLAUwBTQFOAU8BUAFRAVIBUwFUAVUBVgFXAVgBWQFaAVsBXAFdAV4BXwFgAWEBYgFjAWQBZQFmAWcBaAFpAWoBawFsAW0BbgFvAXABcQFyAXMBdAF1AXYBdwF4AXkBegF7AXwBfQF+AX8BgAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcoBywHMAc0BzgHPAdAB0QHSAdMB1AHVAdYB1wHYAdkB2gHbAdwB3QHeAd8B4AHhAeIB4wHkAeUB5gHnAegB6QHqAesB7AHtAe4B7wHwAfEB8gHzAfQB9QH2AfcB+AH5AfoB+wH8Af0B/gH/AgACAQICAgMCBAIFAgYCBwIIAgkCCgILAgwCDQIOAg8CEAIRAhICEwIUAhUCFgIXAhgCGQIaAhsCHAIdAh4CHwIgAiECIgIjAiQCJQImAicCKAIpAioCKwIsAi0CLgIvAjACMQIyAjMCNAI1AjYCNwI4AjkCOgI7AjwCPQI+Aj8CQAJBAkICQwJEAkUCRgJHAkgCSQJKAksCTAJNAk4CTwJQAlECUgJTAlQCVQJWAlcCWAJZAloCWwJcAl0CXgJfAmACYQJiAmMCZAJlAmYCZwJoAmkCagJrAmwCbQJuAm8CcAJxAnICcwJ0AnUCdgJ3AngCeQJ6AnsHdW5pMDAwRAd1bmlFMTdFB3VuaUUxMDQHdW5pRTEwNQd1bmlFMTA3B3VuaUUxMDkHdW5pRTEwQQd1bmlFMTBCB3VuaUUxMEQHdW5pRTEwRQd1bmlFMTBGB3VuaUUxMTMHdW5pRTExNQd1bmlFMTE5B3VuaUUxMUMHdW5pRTEyNQd1bmlFMTI4B3VuaUUxMjkHdW5pRTEyQgd1bmlFMTNBB3VuaUUxM0QHdW5pRTE0OQd1bmlFMTRDB3VuaUUxNkYHdW5pRTE5Mgd1bmlFMUQwDUV4cG9ydFRvRXhjZWwWU2V0U2NoZWR1bGVTZXRDYWxlbmRhchNSZWN1cmluZ0FwcG9pbnRtZW50B1JvdXRpbmcJUnVuUmVwb3J0C0VkaXRQcm9jZXNzCFVuZm9sbG93GERlYWN0aXZhdGVDYW5jZWxDb250cmFjdAhBY3RpdmF0ZQVTaGFyZQlDaGFydFBhbmUOU2VuZERpcmVjdE1haWwKRm9ybUVkaXRvcgZBc3NpZ24GUmVtb3ZlFVN3aXRjaEJ1c2luZXNzUHJvY2VzcwpDbG9zZUFzV29uC0Nsb3NlQXNMb3N0HFJlYWN0aXZhdGVDYXNlQWN0aXZhdGVRdXVvdGUMU2V0UmVnYXJkaW5nBmlGcmFtZQpEaXN0cmlidXRlEVJlb3Blbk9wcG9ydHVuaXR5EFF1ZXVlSXRlbURldGFpbHMHUmVsZWFzZQZXb3JrT24TRXhwb3J0Q29udHJhY3RMaW5lcwpEZWxldGVCdWxrEkRlbGV0ZUNvbnRyYWN0TGluZRJDYW5jZWxDb250cmFjdExpbmUPQWRkQ29udHJhY3RMaW5lD0ludm9pY2VDb250cmFjdA9SZWxlYXNlQ29udHJhY3QNUmVuZXdDb250cmFjdApJbXBvcnREYXRhDEhvbGRDb250cmFjdAxDb3B5Q29udHJhY3QOUmVhY3RpdmF0ZUxlYWQFTWVyZ2USQWRkdG9NYXJrZXRpbmdMaXN0DUR1cGVEZXRlY3Rpb24HQ29udmVydA5Db3B5YXNUZW1wbGF0ZQpFZGl0U2VyaWVzCUVuZFNlcmllcwRDYXNlC09wcG9ydHVuaXR5BExlYWQVT3BlbnNDYW1wYWlnblJlc3BvbnNlB0FkZEZyb20GQWRkQmNjDUxvb2t1cEFkZHJlc3MNSW5jcmVhc2VXaWR0aA1EZWNyZWFzZVdpZHRoDkluY3JlYXNlSGVpZ2h0DkRlY3JlYXNlSGVpZ2h0CkFkZFN1YmdyaWQNQWRkdG9DYW1wYWlnbgxOZXdEYXNoYm9hcmQJRW1haWxMaW5rE1NldERhc2hib2FyZERlZmF1bHQNRWRpdENvbXBvbmVudBNEYXNoYm9hcmRQcm9wZXJ0aWVzB0Nvbm5lY3QQQ29weXRvU3RhdGljTGlzdA1EYXNoYm9hcmRMaXN0C0ludm9pY2VQYWlkDUNhbmNlbEludm9pY2URUHJvZHVjdFJlY2xhc3NpZnkNQ3JlYXRlSW52b2ljZQtDYW5jZWxPcmRlcgxGdWxmaWxsT3JkZXILQ3JlYXRlT3JkZXIOQ29weWFzQ2FtcGFpZ24TQWRkQ2FtcGFpZ25BY3Rpdml0eQtSZXZpc2VRdW90ZQVQcmludBBQaG9uZUNhbGxTdXBwb3J0CFNhdmVPcGVuDVByZXZpb3VzU3RhZ2UMQWR2YW5jZVN0YWdlCUNoYXJ0VHlwZQ1SZXNpemVDb2x1bW5zBE1lbnUMVmlld1NlbGVjdG9yBkxvY2tlZAhVbmxvY2tlZA1DaGFydFNlbGVjdG9yCVNhbGVGdW5uZQhCYXJDaGFydAlBcmVhQ2hhcnQHdW5pRUE3MghQaWVDaGFydAxTY2F0dGVyQ2hhcnQMUG9wb3V0RXhwYW5kBlNhdmVBcwRFZGl0EVBvc3RDb25maWd1cmF0aW9uCVBvc3RSdWxlcwhBY2NvdW50cwpBY3Rpdml0aWVzDkFkbWluaXN0cmF0aW9uC0FwcG9pbnRtZW50CEFydGljbGVzCkRhc2hib2FyZHMIQXVkaXRpbmcIQ2FtcGFpZ24FQ2FzZXMKQ29tcGV0aXRvcgdDb250YWN0CENvbnRyYWN0CEN1cnJlbmN5DEN1c3RvbUVudGl0eQ1DdXN0b21pemF0aW9uEkRhdGFiYXNlTWFuYWdlbWVudAlEZWJ1Z0luZm8IRGlzY291bnQSRG9jdW1lbnRNYW5hZ2VtZW50E0R5bmFtaWNzTWFya2V0cGxhY2UDRmF4BEdvYWwISW52b2ljZXMHdW5pRUE5MwlNYXJrZXRpbmcNTWFya2V0aW5nTGlzdAd1bmlFQTk3CVByb2Nlc3Nlcw5Qcm9kdWN0Q2F0YWxvZwtQcm9kdWN0TGlzdAhQcm9kdWN0cwZRdWV1ZXMNUXVjaWtDYW1wYWlnbgVRdW90ZRRSZWN1cnJpbmdBcHBvaW50bWVudAZSZXBvcnQNUm9sbHVwUXVlcmllcwVTYWxlcw9TYWxlc0xpdGVyYXR1cmUHU2VydmljZQ9TZXJ2aWNlQ2FsZW5kYXIKU3lzdGVtSm9icwRUYXNrBFRlYW0JVGVtcGxhdGVzBFVzZXIIV2hhdHNOZXcLR29hbE1ldHJpY3MHdW5pRUIwRgZMZXR0ZXIGT3JkZXJzDUluY29taW5nRW1haWwNT3V0Z29pbmdFbWFpbAd1bmlFQjE1DkN1c3RvbUFjdGl2aXR5F0luY29taW5nRW1haWxBdHRhY2htZW50F091dGdvaW5nRW1haWxBdHRhY2htZW50EENhbXBhaWduUmVzcG9uc2UNQnVsa09wZXJhdGlvbhBDYW1wYWlnbkFjdGl2aXR5DkNhc2VSZXNvbHV0aW9uEE9wcG9ydHVuaXR5Q2xvc2UKT3JkZXJDbG9zZQlRdW90ZUNsb3MSUG9zdHNDb25maWd1cmF0aW9uFVBvc3RSdWxlc0NvbmZpZ3VyYXRpbwhTb2x1dGlvbhdBbHRlcm5hdGVmb3JBcHBvaW50bWVudBJCdXNpbmVzc01hbmFnZW1lbnQHdW5pRUIzMwpBZGRUb1F1ZXVlD0FwcG9pbnRtZW50LjAwMQlDb252ZXJ0VG8HdW5pRUMwMwRGb3JtDU5ld1N5c3RlbVZpZXcPU2VydmljZUFjdGl2aXR5C1N0YXJ0RGlhbG9nBFZpZXcHQXBwcm92ZQZTdWJtaXQJVW5wdWJsaXNoB3VuaUVDMEMMUmVsYXRpb25zaGlwDEFkdmFuY2VkRmluZAVDaGFydAxTZXRBc0RlZmF1bHQNUXVpY2tDYW1wYWlnbhNDcmVhdGVRdWlja0NhbXBhaWduCU1haWxNZXJnZQtSZWNhbGN1bGF0ZQxDb252ZXJ0VG9LaXQOU2NoZWR1bGVSZXBvcnQRQWRkU2FsZXNBdHRjaG1lbnQKU2VuZEFzTWFpbAxDaGFuZ2VTdGF0dXMJQ29uZmxpY3RzClJlc2NoZWR1bGUIU2NoZWR1bGUSU2VuZERpcmVjdE1haWwuMDAxB01haWxib3gSRW1haWxTZXJ2ZXJQcm9maWxlGVRlc3RFbWFpbEFuZEVuYWJsZU1haWxib3gWTWlncmF0ZUVtYWlsUm91dGVyRGF0YRNTZXRBc0RlZmF1bHRQcm9maWxlC09wZW5NYWlsYm94B3VuaUVDMjgHdW5pRUMyOQd1bmlFMDk0B3VuaUUwOTUHdW5pRTA5Rgd1bmlFMEExB3VuaUUwQkEHdW5pRTBEOQd1bmlFMTBDB3VuaUUxMTEHdW5pRTExQgd1bmlFMTI2B3VuaUUxMjcHdW5pRTEzMwd1bmlFMTM0B3VuaUUxMzYHdW5pRTEzRgd1bmlFMTQwB3VuaUUxNDEHdW5pRTE1Rgd1bmlFMTZDB3VuaUUxNkUHdW5pRTE3MQd1bmlFMTc4B3VuaUUxODIHdW5pRTE4QQd1bmlFMTk2B3VuaUVDMkEHdW5pRUMyQgd1bmlFQzJDB3VuaUVDMkQHdW5pRUMyRQd1bmlFQzJGB3VuaUVDMzAHdW5pRTE0Mwd1bmlFQzMxB3VuaUUxMTIHdW5pRUMzMgd1bmlFQzMzB3VuaUVDMzQHdW5pRUMzNQd1bmlFQzM2B3VuaUVDMzcHdW5pRUMzOAd1bmlFQzM5B3VuaUVDM0EHdW5pRUMzQgd1bmlFQzNDB3VuaUVDM0QHdW5pRUMzRQd1bmlFQzNGB3VuaUVDNDAHdW5pRUM0MQd1bmlFQzQyB3VuaUVDNDMHdW5pRUM0NAd1bmlFQzQ1B3VuaUVDNDYHdW5pRUM0Nwd1bmlFQzQ4B3VuaUVDNDkHdW5pRUM0QQd1bmlFQzRCB3VuaUVDNEMHdW5pRUM0RAd1bmlFQzRFB3VuaUVDNEYHdW5pRUM1MAd1bmlFQzUxB3VuaUVDNTIHdW5pRUM1Mwd1bmlFQzU0B3VuaUVDNTUHdW5pRUM1Ngd1bmlFQzU3B3VuaUVDNTgHdW5pRUM1OQd1bmlFQzVBB3VuaUVDNUIHdW5pRUM1Qwd1bmlFQzVEB3VuaUVDNUUHdW5pRUM1Rgd1bmlFQzYwB3VuaUVDNjEHdW5pRUM2Mgd1bmlFQzYzB3VuaUVDNjQHdW5pRUM2NQd1bmlFQzY2B3VuaUVDNjcHdW5pRUM2OAd1bmlFQzY5B3VuaUVDNkEHdW5pRUM2Qgd1bmlFQzZDB3VuaUVDNkQHdW5pRUM2RQd1bmlFQzZGB3VuaUVDNzAHdW5pRUM3MQd1bmlFQzcyB3VuaUVDNzMHdW5pRUM3NAd1bmlFQzc1B3VuaUVDNzYHdW5pRUM3Nwd1bmlFQzc4B3VuaUVDNzkGdTFGNTI1BnUxRjVGMgd1bmlFMjg0B3VuaTI1QjcHdW5pMjVFMgd1bmlFMTVFB3VuaUUxNjMHdW5pRTE2MQd1bmlFMTQ1B3VuaUUwODUHdW5pRTExMAd1bmlFMUZEB3VuaUUxNjYHdW5pRUM3QQd1bmlFMDUyB3VuaUUwNkYHdW5pRTA0Mgd1bmlFMDQwB3VuaUVDN0IHdW5pRUM3Qwd1bmlFQzdEB3VuaUVDN0UHdW5pRUM3Rgd1bmlFQzgwB3VuaUVDODEHdW5pRUM4Mgd1bmlFQzgzB3VuaUVDODQHdW5pRTIxNAd1bmlFQzg1B3VuaUVDODYHdW5pRUM4Nwd1bmlFQzg4B3VuaUVDODkHdW5pRUM4QQd1bmlFQzhCB3VuaUVDOEMHdW5pRUM4RAA=")}.focused-input input:focus{border:2px dashed!important}.cc-grid{flex-direction:column}.cc-grid :focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.cc-grid .cc-gridcell-rollup-date{color:#999}.cc-grid .cc-gridcell-required{padding-left:0!important;padding-right:14px!important}.cc-grid .cc-gridcell-required:after{content:"*";color:red;padding:3px}.cc-grid .cc-gridcell-recommended:after,.cc-grid .cc-gridcell-required:after{font-weight:800;position:absolute;right:1px;top:1px;bottom:2px;background-color:inherit}.cc-grid .cc-gridcell-recommended:after{content:"+";color:blue;padding-left:4px}.cc-grid .cc-gridcell-not-editable:before{content:"\\EA6B";font-family:Dyn CRM Symbol Grid}.cc-grid .cc-gridcell-secured:before{content:"\\E192";font-family:Dyn CRM Symbol Grid}.cc-grid .cc-gridcell-secured.cc-gridcell-not-editable:before{content:"\\EA6B\\E192";font-family:Dyn CRM Symbol Grid}.cc-grid .cc-gridcell-secured input.wj-form-control{width:calc(100% - 20px)}.cc-grid .BackButton-symbol:before,.cc-grid .Forward-symbol:before{content:"\\E72A";display:inline-block}.cc-grid .FirstPageButton-symbol:before{content:"\\F438";display:inline-block}.cc-grid .cc-grid-paging-left:before,.cc-grid .cc-grid-paging-right:before{content:"\\E09F";display:inline-block;font-family:Dyn CRM Symbol Grid}.cc-grid .BackButton-symbol:before,.cc-grid .cc-grid-paging-first:before,.cc-grid .cc-grid-paging-left:before{transform:scaleX(-1);filter:FlipH;-ms-filter:"FlipH"}.cc-grid .cc-grid-paging-first:before,.cc-grid .cc-grid-paging-last:before{content:"\\E09F\\E09F";display:inline-block;font-family:Dyn CRM Symbol Grid}.cc-grid .cc-grid-paging-current{display:flex;width:100%;text-align:center;padding:10px}.cc-grid .cc-grid-groupby{padding-top:15px;padding-bottom:15px;padding-left:10px}.cc-grid .cc-grid-groupby .label{display:inline;padding-right:10px;font-weight:700;font-size:14px;align-self:center}.cc-grid .cc-grid-groupby .label:after{content:":"}.cc-grid .cc-grid-groupby .label .wj-control{align-self:center}.cc-grid .cc-grid-errorIndicator{display:inline-block;margin-right:10px;cursor:pointer;width:16px;min-width:16px;height:16px;border-radius:10px;border:none;outline:none;background-color:#c0172b;padding:0;font:normal normal normal 14px/20px SegoeUI,Segoe UI;line-height:normal;margin-top:4px;margin-bottom:4px}.cc-grid .cc-grid-errorIndicator:before{font-family:Dyn CRM Symbol Grid,Segoe MDL2 Assets;display:block;width:100%;text-align:center;color:#fff;font-weight:400;font-size:10px;content:"\\E10A";height:16px;line-height:normal;padding-top:1px}.cc-grid .cc-grid-noRecordslabel{top:52px;bottom:0;left:0;position:absolute;vertical-align:middle;font:normal normal normal 14px/20px SegoeUI,Segoe UI;color:#666;width:100%;text-align:center;overflow:auto}.cc-grid .cc-grid-noRecords-Container{min-height:158px}.cc-grid .cc-lookup-nav-button{float:right;width:30px;position:absolute;right:0;top:0}.cc-grid .cc-lookup-nav-button button{padding-right:4px;padding-left:4px}.cc-grid .cc-lookup-nav-button button:after{color:#0070df;font-family:Dyn CRM Symbol Grid;text-decoration:none;font-weight:lighter;content:"\\E111"}.cc-grid .cc-lookup-nav-button button:focus{background-color:#e2f4fd}.cc-grid .cc-lookup-nav-button.wj-input-group-btn{position:static}.cc-grid .cc-ds-rowbtn{border:none;background:transparent;width:16px;font-family:Dyn CRM Symbol Grid;font-weight:lighter;font-size:16px}.cc-grid .cc-ds-rowbtn.cc-ds-rowbtn-nav:after{content:"\\E111"}.cc-grid .cc-ds-rowbtn.cc-ds-rowbtn-delete:after{content:"\\E107"}.cc-grid .cc-ds-rowbtn:focus{background-color:#e2f4fd}.cc-grid .wj-group>.wj-input-group-btn{visibility:hidden}.cc-grid .cc-grid-accessibility-cue{height:1px;left:-10000px;overflow:hidden;position:fixed;top:0;width:1px}.cc-grid .cc-grid-pager{text-align:right}.cc-grid .headerCaption{text-overflow:ellipsis;overflow:hidden;font-size:1em;font-family:Segoe UI;cursor:pointer}.cc-grid .wj-cell.wj-header{text-align:justify!important}.cc-grid .wj-control:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.cc-grid .wj-control.wj-menu:focus{border:2px dashed!important}.cc-grid .wj-btn-default{background-color:transparent;background-image:none;width:100%;height:100%}.cc-grid .wj-dropdown .wj-btn{vertical-align:middle;text-align:right}.cc-grid .wj-content{border-radius:0}.cc-grid .wj-header .grid-filter-button-container{float:right;padding-left:5px}.cc-grid .wj-input-group-btn:last-child>.wj-btn{border-left-width:0}.cc-grid .wj-pager{width:auto!important}.cc-grid .wj-input-group-btn:first-child>.wj-btn{border-right-width:0;border-left-width:0}.cc-grid .wj-flexgrid.wj-content,.cc-grid .wj-pager{background-color:transparent;border:0}.cc-grid .wj-flexgrid .wj-content{border:0}.cc-grid .wj-flexgrid .grid-line{height:38px;line-height:38px}.cc-grid .wj-flexgrid .grid-header-text{text-overflow:ellipsis;overflow:hidden;float:left;width:calc(100% - 20px);cursor:pointer}.cc-grid .wj-flexgrid .wj-filter-off .grid-header-text,.cc-grid .wj-flexgrid .wj-filter-on .grid-header-text,.cc-grid .wj-flexgrid .wj-sort-asc.wj-filter-off .grid-header-text,.cc-grid .wj-flexgrid .wj-sort-asc.wj-filter-on .grid-header-text,.cc-grid .wj-flexgrid .wj-sort-desc.wj-filter-off .grid-header-text,.cc-grid .wj-flexgrid .wj-sort-desc.wj-filter-on .grid-header-text{width:calc(100% - 40px)}.cc-grid .wj-flexgrid div[wj-part=ch]{border-spacing:0;margin-right:17px}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn,.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn{border:none;background:transparent;font-family:Dyn CRM Symbol Grid;font-size:16px;width:100%;height:100%}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons{bottom:1px;position:absolute;line-height:38px;margin:auto 0;height:50px;background-color:#fff;right:0}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn.cc-ds-header-save-btn:after{content:"\\E105"}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn.cc-ds-header-refresh-btn:after{content:"\\E149"}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn:active{color:#00869c}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn{padding:0;width:100%;text-align:left}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn:focus{outline:none}.cc-grid .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn:after{content:"\\E10B"}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header{background-color:#f2f6f2;color:#fff;font:normal normal normal 12px/20px SegoeUI-Semibold,Segoe UI SemiBold;text-transform:uppercase;padding-left:10px;line-height:38px}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header:before{border-right-width:0;content:" ";position:absolute;left:0;height:60%;top:15%}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-down,.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-up{border-right-color:transparent;border-left-color:transparent;opacity:1;width:20px;border-width:0}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-down:before,.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-up:before{font-family:Dyn CRM Symbol Grid;content:"\\E111"}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-up{transform:rotate(-90deg);border-bottom:0 solid}.cc-grid .wj-flexgrid .wj-colheaders>.wj-header .wj-glyph-down{transform:rotate(90deg);border-top:0 solid}.cc-grid .wj-flexgrid .wj-alt:not(.wj-header):not(.wj-group):not(.wj-state-selected):not(.wj-state-multi-selected):not(.cc-grid-selectedRow),.cc-grid .wj-flexgrid .wj-cell:not(.wj-state-multi-selected):not(.cc-grid-selectedRow),.cc-grid .wj-flexgrid .wj-rowheader>.wj-cell,.cc-grid .wj-flexgrid .wj-topleft .wj-cell.wj-header{background-color:#fff;color:#000}.cc-grid .wj-flexgrid.wj-state-readonly .wj-cell:not(.wj-header):not(.wj-alt):not(.wj-state-multi-selected):not(.cc-grid-selectedRow),.cc-grid .wj-flexgrid.wj-state-readonly .wj-rowheaders .wj-header:not(.wj-header-alt):not(.cc-grid-selectedRow){background-color:#f4f4f4}.cc-grid .wj-flexgrid .wj-cell.wj-header.data-selectable.cc-grid-selectedRow,.cc-grid .wj-flexgrid .wj-topleft .wj-cell.wj-header{text-overflow:clip}.cc-grid .wj-flexgrid .wj-cell.wj-header.data-selectable.cc-grid-selectedRow:before,.cc-grid .wj-flexgrid .wj-topleft .wj-cell.wj-header:after{font-family:Dyn CRM Symbol Grid;content:"\\E10B";float:left}.cc-grid .wj-flexgrid .wj-cell:not(.cc-gridcell-required) .wj-cell[style*="padding-bottom: 0px;"]{padding-left:0!important;padding-right:0!important}.cc-grid .wj-flexgrid .wj-cell[style*="padding-bottom: 0px;"]>input{padding-left:10px!important}.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected[aria-selected=true]{background:#c0d4e8}.cc-grid .wj-flexgrid .wj-cell[role=gridcell][aria-selected=true]{outline:2px dotted transparent!important}.cc-grid .wj-flexgrid .wj-cell{height:52px;border-bottom:2px solid #f4f4f4;border-right:0;padding:12.5px 10px;vertical-align:middle;font:normal normal normal 15px/20px SegoeUI,Segoe UI;color:#666;white-space:pre}.cc-grid .wj-flexgrid .wj-cell a:link,.cc-grid .wj-flexgrid .wj-cell a:visited{text-decoration:none}.cc-grid .wj-flexgrid .wj-cell a:hover{text-decoration:underline;cursor:pointer}.cc-grid .wj-flexgrid .wj-cell a:active{text-decoration:underline}.cc-grid .wj-flexgrid .wj-cell.wj-header{white-space:nowrap}.cc-grid .wj-flexgrid .wj-cell.cc-grid-nested-cell{display:flex;align-items:baseline}.cc-grid .wj-flexgrid .wj-cell.cc-grid-nested-cell label{text-overflow:ellipsis;overflow:hidden}.cc-grid .wj-flexgrid .wj-cell.cc-grid-selectedRow,.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected,.cc-grid .wj-flexgrid .wj-cell.wj-state-selected{color:#000}.cc-grid .wj-flexgrid .wj-cell.cc-grid-selectedRow .cc-gridcell-rollup-icon:before,.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected .cc-gridcell-rollup-icon:before,.cc-grid .wj-flexgrid .wj-cell.wj-state-selected .cc-gridcell-rollup-icon:before{content:"\\E1D0";font-family:Dyn CRM Symbol Grid;padding-right:4px}.cc-grid .wj-flexgrid .wj-cell.cc-grid-selectedRow,.cc-grid .wj-flexgrid .wj-cell.wj-state-multi-selected{background-color:#e2f4fd}.cc-grid .wj-flexgrid .wj-cell.cc-grid-selectedRow:first-child:before{content:"\\E10b";font-family:Dyn CRM Symbol Grid}.cc-grid .wj-flexgrid .wj-cell>div[wj-dropdown]{opacity:1!important;top:calc((80% - 20px) / 2)!important;right:1px!important;background-color:inherit;line-height:19px;padding-bottom:2px!important;padding-right:5px!important}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-right{border-color:transparent;border-right:.65em solid transparent;width:20px;height:100%;text-align:center}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-right:before{font-family:Dyn CRM Symbol Grid;content:"\\E09F"}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-down-right{border-color:transparent;border-right:.65em solid transparent;width:20px;height:100%;text-align:center}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-down-right:before{font-family:Dyn CRM Symbol Grid;content:"\\E0A1"}.cc-grid .wj-flexgrid .wj-cell .wj-glyph-minus,.cc-grid .wj-flexgrid .wj-cell .wj-glyph-plus{display:none}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander{border-color:transparent;margin-right:10px;margin-left:auto;width:2.25rem;height:2.25rem}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander:hover{cursor:pointer}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-edit{margin-left:10px}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-collapse:after{border-color:transparent;font-family:Dyn CRM Symbol Grid;content:"\\E0A1";display:flex;flex-direction:column;align-items:center}.cc-grid .wj-flexgrid .wj-cell .cc-grid-nested-expander-expand:after{top:-1em;border-color:transparent;font-family:Dyn CRM Symbol Grid;content:"\\E09F";display:flex;flex-direction:column;align-items:center}.cc-grid .wj-flexgrid .wj-cell input:not(.cc-grid-calendar-icon)+.wj-input-group-btn .wj-glyph-down:before{content:"\\E0A1"}.cc-grid .wj-flexgrid .wj-cell input{font-size:14px}.cc-grid .wj-flexgrid .wj-cell .image-container{display:inline-block;width:2rem;height:1rem}.cc-grid .wj-flexgrid .wj-cell .image-container>img{height:100%}.cc-grid .wj-flexgrid .wj-cell .wj-elem-dropdown{top:10px;right:10px}.cc-grid .wj-flexgrid .wj-cell.wj-state-selected,.cc-grid .wj-flexgrid .wj-control:not(.wj-flexgrid):not(.wj-pager):not(.wj-listbox):not(.wj-calendar),.cc-grid .wj-flexgrid .wj-grid-editor{box-sizing:border-box;border:1px solid #8f8f8f;height:calc(100% - 2px);width:100%}.cc-grid .wj-flexgrid .wj-cell.wj-state-selected.wj-autocomplete,.cc-grid .wj-flexgrid .wj-control:not(.wj-flexgrid):not(.wj-pager):not(.wj-listbox):not(.wj-calendar).wj-autocomplete,.cc-grid .wj-flexgrid .wj-grid-editor.wj-autocomplete{width:calc(100% - 30px)}.cc-grid .wj-flexgrid .cc-grid-errorIndicator+.wj-grid-editor{width:calc(100% - 26px - 10px)}.cc-grid.cc-grid-rtl .wj-flexgrid .wj-cell.wj-header.data-selectable.cc-grid-selectedRow:before,.cc-grid.cc-grid-rtl .wj-flexgrid .wj-topleft .wj-cell.wj-header:after{float:right}.cc-grid.cc-grid-rtl div[wj-part=ch]{margin-right:0}.cc-grid.cc-grid-rtl div[wj-part=ch] .cc-ds-header-buttons{right:auto;left:0}.cc-grid.cc-grid-rtl div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn{text-align:right}.cc-grid.cc-grid-rtl .cc-ds-rowbtn.cc-ds-rowbtn-nav:after{content:"\\E112"}.cc-grid.cc-grid-rtl .cc-lookup-nav-button.wj-input-group-btn{float:right}.cc-grid.cc-grid-rtl .cc-lookup-nav-button.wj-input-group-btn button:after{content:"\\E112"}.cc-grid .wj-cell .wj-glyph-down,.cc-grid .wj-input-group-btn .wj-glyph-down{border-color:transparent;border-top-width:0;border-left-width:0;border-right-width:0}.cc-grid .wj-cell .wj-glyph-down:before,.cc-grid .wj-input-group-btn .wj-glyph-down:before{font-family:Dyn CRM Symbol Grid;content:"\\E0A1"}.cc-grid .wj-cell .wj-glyph-up,.cc-grid .wj-input-group-btn .wj-glyph-up{border-color:transparent;border-top-width:0;border-left-width:0;border-right-width:0}.cc-grid .wj-cell .wj-glyph-up:before,.cc-grid .wj-input-group-btn .wj-glyph-up:before{font-family:Dyn CRM Symbol Grid;content:"\\E74A"}.cc-grid .duration-editor{display:flex;flex-direction:row;flex-wrap:nowrap;height:100%}.cc-grid .duration-editor .input-control{margin:1px;overflow:hidden;display:flex;flex-wrap:nowrap;height:100%;flex-direction:column}.cc-grid .duration-editor .input-control .label{font-size:75%;order:2;padding:0 3px}.cc-grid .columnSeparator{position:absolute;top:0;right:0}.cc-grid .columnSeparator:last-child,.cc-grid .wj-topleft .wj-cell.wj-header:last-child:after{border-right:2px solid #000!important;opacity:.2;height:30px;vertical-align:top;width:0}.cc-grid .columnSeparator:last-child{margin-top:10px}.cc-grid div.wj-colheaders .wj-glyph-down,.cc-grid div.wj-colheaders .wj-glyph-sortable,.cc-grid div.wj-colheaders .wj-glyph-up{color:#666;border-bottom:0 solid;border-left:0;border-right:0;width:14px;display:inline-block;font-size:16px}.cc-grid div.wj-colheaders .wj-glyph-down:before,.cc-grid div.wj-colheaders .wj-glyph-sortable:before,.cc-grid div.wj-colheaders .wj-glyph-up:before{overflow:hidden;content:"\\00a0";display:inline-block;width:14px}@media screen and (-ms-high-contrast:active){.cc-grid div.wj-colheaders .wj-glyph-down,.cc-grid div.wj-colheaders .wj-glyph-sortable,.cc-grid div.wj-colheaders .wj-glyph-up{opacity:1}}.cc-grid div.wj-colheaders div.wj-glyph-up:before{background:none;font-family:Dyn CRM Symbol;content:"\\EE68"}.cc-grid div.wj-colheaders div.wj-glyph-down:before{background:none;font-family:Dyn CRM Symbol;content:"\\EE69"}.cc-grid div.wj-colheaders div.wj-glyph-sortable:before{background:none;font-family:Dyn CRM Symbol;content:"\\E8CB"}.cc-grid div.wj-colheaders .wj-glyph-filter{border-color:transparent;opacity:.6;border-top:0}.cc-grid div.wj-colheaders .wj-glyph-filter:after{font-family:Dyn CRM Symbol;content:"\\E71C";border-color:transparent;top:-.75em;width:2em;height:2em;text-align:center;border-left:0;border-right:0}.cc-grid div.wj-colheaders .wj-filter-on .wj-glyph-filter:after{top:-1.05em;content:"\\E16E";font-family:Dyn CRM Symbol Grid;opacity:.6}.cc-grid.cc-grid-rtl .wj-cell{border-left:none}.cc-grid.cc-grid-rtl .wj-btn-default{border-right:none}.cc-grid.cc-grid-rtl .cc-grid-pager{text-align:left}.cc-grid.cc-grid-rtl .BackButton-symbol:before,.cc-grid.cc-grid-rtl .cc-grid-paging-first:before,.cc-grid.cc-grid-rtl .cc-grid-paging-left:before{transform:scaleX(1);filter:FlipH;-ms-filter:"FlipH"}.cc-grid.cc-grid-rtl .cc-grid-paging-right:before,.cc-grid.cc-grid-rtl .FirstPageButton-symbol:before,.cc-grid.cc-grid-rtl .Forward-symbol:before{transform:scaleX(-1);filter:FlipH;-ms-filter:"FlipH"}.cc-grid .cc-row-header-icon-container{margin-top:2px}.cc-grid button.cc-hierarchy-icon{border:none;background:none;padding:0;width:14px;height:14px;cursor:pointer}.cc-grid button.cc-hierarchy-icon:after{font-family:Dyn CRM Symbol;content:"\\ECA6";top:-.75em;width:14px;height:14px;text-align:center;border-left:0;border-right:0}.cc-grid .cc-hierarchy-icon-empty-div{display:inline-block;width:14px;height:14px}.cc-grid .cc-hierarchy-icon-empty-div:after{content:" "}.cc-grid .cc-conditional-image-empty-div{display:inline-block;width:16px;height:16px}.cc-grid .cc-conditional-image-empty-div:after{content:" "}.cc-grid div[wj-part=cells]{overflow:hidden}.cc-grid .cc-grid-detail{-webkit-overflow-scrolling:touch!important}.cc-grid .cc-grid-detail.hideNestedGridHeader div[wj-part=root]{overflow:visible!important}.cc-grid.cc-grid-desktop .symbolFont{font-family:Dyn CRM Symbol Grid}.cc-grid.cc-grid-desktop .BackButton-symbol:before,.cc-grid.cc-grid-desktop .Forward-symbol:before{content:"\\E09F";display:inline-block}.cc-grid.cc-grid-desktop .wj-control{font-size:14px}.cc-grid.cc-grid-desktop .wj-cell input:focus{border:2px dashed!important}.cc-grid.cc-grid-desktop .wj-cell .wj-elem-dropdown{margin-left:25px;margin-right:10px;width:20px}.cc-grid.cc-grid-desktop .wj-header .wj-elem-filter{width:24px;top:12px;right:5px}.cc-grid.cc-grid-desktop .cc-grid-groupby{padding-top:11px;padding-bottom:11px;padding-left:0}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-down,.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-up{vertical-align:middle;opacity:.5}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-down:before,.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-up:before{content:"\\00A0";width:12px;height:16px}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-up:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=-336961384) no-repeat scroll -142px -67px}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-down:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=-336961384) no-repeat scroll -138px -106px}@media screen and (-ms-high-contrast:active){.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-up:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=-336961384) no-repeat scroll -142px -67px}.cc-grid.cc-grid-desktop div.wj-colheaders div.wj-glyph-down:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=-336961384) no-repeat scroll -138px -106px}}.cc-grid.cc-grid-desktop .columnSeparator:last-child,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:last-child:after{height:18px}.cc-grid.cc-grid-desktop .cc-ds-header-buttons{width:60px;height:37px!important}.cc-grid.cc-grid-desktop div[wj-part=ch] .cc-ds-header-buttons-left .cc-ds-headerbtn.cc-ds-header-select-all-btn:after{content:"\\00A0";width:16px;height:16px;display:block}.cc-grid.cc-grid-desktop .wj-cell.cc-grid-selectedRow:first-child:before,.cc-grid.cc-grid-desktop .wj-cell.wj-state-multi-selected:first-child:before{content:"\\00A0"}.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:last-child:after{content:"\\00A0";position:absolute;right:0}.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:last-child:before{content:"\\00A0";background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -217px -90px;width:18px;height:20px;position:absolute;left:6px;top:10px}.cc-grid.cc-grid-desktop .wj-cell.wj-header.data-selectable:before,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:after{background:transparent;width:16px;height:16px;font-size:16px;overflow:hidden;display:block;margin-top:10px;content:"\\0020"!important}.cc-grid.cc-grid-desktop .wj-cell.data-selectable.cc-grid-selectedRow:before,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header.cc-grid-selectedRow:after{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -152px -151px;width:19px;display:block;margin-top:10px}.cc-grid.cc-grid-desktop .wj-cell.data-selectable.cc-grid-rowHover:not(.cc-grid-selectedRow):before,.cc-grid.cc-grid-desktop .wj-cell.wj-header .cc-ds-header-select-all-btn:after,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header.cc-grid-rowHover:not(.cc-grid-selectedRow):after,.cc-grid.cc-grid-desktop div.wj-cell.data-selectable:not(.cc-grid-selectedRow):hover:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -217px -90px}.cc-grid.cc-grid-desktop .wj-cell.data-group-selectable.cc-grid-rowHover:not(.cc-grid-selectedRow):before,.cc-grid.cc-grid-desktop .wj-cell.data-group-selectable.cc-grid-selectedRow:before{background:none}@media screen and (-ms-high-contrast:active){.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header:last-child:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -217px -90px}.cc-grid.cc-grid-desktop .wj-cell.data-selectable.cc-grid-selectedRow:before,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header.cc-grid-selectedRow:after{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -152px -151px}.cc-grid.cc-grid-desktop .wj-cell.data-selectable.cc-grid-rowHover:not(.cc-grid-selectedRow):before,.cc-grid.cc-grid-desktop .wj-cell.wj-header .cc-ds-header-select-all-btn:after,.cc-grid.cc-grid-desktop .wj-topleft .wj-cell.wj-header.cc-grid-rowHover:not(.cc-grid-selectedRow):after,.cc-grid.cc-grid-desktop div.wj-cell.data-selectable:not(.cc-grid-selectedRow):hover:before{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png) no-repeat scroll -217px -90px}}.cc-grid.cc-grid-desktop span.wj-glyph-down{border-color:transparent;border-top-width:0}.cc-grid.cc-grid-desktop span.wj-glyph-down:before{font-family:Dyn CRM Symbol Grid;content:"\\E0A1"}.cc-grid.cc-grid-desktop input{width:inherit;height:36px}.cc-grid.cc-grid-desktop .cc-grid-noRecordslabel{top:0;margin-top:38px;padding-top:5px;padding-left:10px;padding-right:0;font-size:14px;height:38px}.cc-grid.cc-grid-desktop .wj-pager{height:40px}.cc-grid.cc-grid-desktop .cc-grid-paging-left,.cc-grid.cc-grid-desktop .cc-grid-paging-right{font-size:16px}.cc-grid.cc-grid-desktop .wj-flexgrid.wj-content{border-right-width:1px;border-right-style:solid;border-left-width:1px;border-left-style:solid;border-bottom-width:1px;border-bottom-style:solid}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-sort-asc.wj-filter-off .grid-header-text,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-sort-asc.wj-filter-on .grid-header-text,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-sort-desc.wj-filter-off .grid-header-text,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-sort-desc.wj-filter-on .grid-header-text{width:calc(100% - 45px)}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell{padding:2px 5px 2px 15px;font-size:14px;line-height:38px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell.wj-filter-off .wj-glyph-filter{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=2014956145) no-repeat scroll -138px -90px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell.wj-filter-on .wj-glyph-filter{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=2014956145) no-repeat scroll -37px -176px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell .wj-glyph-filter{line-height:20px;border:0;width:16px;height:16px;overflow:hidden;border:1px solid #fff;opacity:.7;vertical-align:middle}@media screen and (-ms-high-contrast:active){.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell.wj-filter-off .wj-glyph-filter{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=2014956145) no-repeat scroll -138px -90px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell.wj-filter-on .wj-glyph-filter{background:transparent url(/_imgs/imagestrips/grid_ctrl_imgs.png?ver=2014956145) no-repeat scroll -37px -176px}}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell .wj-glyph-filter:after{border:0;content:normal}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-rowheaders .wj-cell.wj-header,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-topleft .wj-cell.wj-header{padding:5px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-cell:not(.wj-state-selected):not(.wj-header),.cc-grid.cc-grid-desktop .wj-flexgrid [wj-part=rh] .wj-header{border-bottom-width:1px;border-bottom-color:#d6d6d6}.cc-grid.cc-grid-desktop .wj-flexgrid>div[wj-dropdown]{top:1px!important;right:11px!important}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-header:before{border:0;font-size:14px;height:17px;width:2px;background-color:#4a4a4a;cursor:col-resize;opacity:.5;margin-top:5px}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-header:focus{border:1px solid #0070df!important;outline:none}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-row>.wj-header,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-topleft .wj-cell.wj-header{border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;text-transform:none;white-space:nowrap;background:#f3f3f3;border-bottom-color:#d6d6d6;border-top-color:#d6d6d6;font-weight:600}.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-row>.wj-header .cc-ds-headerbtn:active,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-colheaders>.wj-row>.wj-header .cc-ds-headerbtn:hover:not(:disabled),.cc-grid.cc-grid-desktop .wj-flexgrid .wj-topleft .wj-cell.wj-header .cc-ds-headerbtn:active,.cc-grid.cc-grid-desktop .wj-flexgrid .wj-topleft .wj-cell.wj-header .cc-ds-headerbtn:hover:not(:disabled){color:#00869c}.cc-grid.cc-grid-desktop .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons .cc-ds-headerbtn{width:50%}.cc-grid.cc-grid-desktop .input-control{height:inherit;flex-direction:row;align-items:center}.cc-grid.cc-grid-desktop .input-control input{width:25px;padding:4px;text-align:center!important}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-flexgrid div[wj-part=ch]{margin-right:0;margin-left:17px}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-flexgrid div[wj-part=ch] .cc-ds-header-buttons{left:0;right:auto}.cc-grid.cc-grid-desktop.cc-grid-rtl .BackButton-symbol:before,.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-paging-left:before{content:"\\E09F"}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-pager{text-align:left}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-pager .wj-input-group-btn:first-child>.wj-btn{border-right-width:0;border-left-width:0}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-status-area{float:right}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-groupby .label{padding-right:0;padding-left:10px}.cc-grid.cc-grid-desktop.cc-grid-rtl .row-navigator.wj-input-group-btn.cc-lookup-nav-button{left:0!important;right:auto}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-lookup-nav-button button:after{content:"\\E112"}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-gridcell-required{padding-right:0!important;padding-left:14px!important}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-gridcell-required:after{left:1px;right:auto}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-gridcell-not-editable:before,.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-gridcell-secured:before{float:left}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-flexgrid .wj-cell{padding-right:15px;padding-left:5px}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-flexgrid .wj-cell>div[wj-dropdown]{right:auto!important}.cc-grid.cc-grid-desktop.cc-grid-rtl .wj-glyph-filter:after{left:0}.cc-grid.cc-grid-desktop.cc-grid-rtl .cc-grid-noRecordslabel{padding-right:10px;padding-left:0}.cc-grid .cc-grid-footer{width:100%;min-height:40px;background-color:#f3f3f3;display:flex;flex-wrap:wrap;justify-content:space-between}@media only screen and (min-device-width:320px) and (max-device-width:480px){.cc-grid .cc-grid-footer{justify-content:center}}.cc-grid .cc-grid-status-area{vertical-align:middle;line-height:25px}.wj-rtl .wj-colheaders .wj-glyph-down,.wj-rtl .wj-colheaders .wj-glyph-sortable,.wj-rtl .wj-colheaders .wj-glyph-up{position:absolute;left:24px}.wj-dropdown-panel{border-radius:0;font-size:14px}.wj-dropdown-panel [wj-part=input]{font-size:14px}.wj-dropdown-panel.wj-listbox{-webkit-overflow-scrolling:touch!important}.wj-columnfiltereditor{border-radius:0}.wj-columnfiltereditor input{width:inherit}.wj-columnfiltereditor .wj-control{border-radius:0}.wj-columnfiltereditor .wj-control:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.wj-columnfiltereditor .wj-btn-default{background-color:transparent;background-image:none;width:100%}.wj-columnfiltereditor .wj-glyph-down{border-color:transparent;border-top-width:0;border-left-width:0;border-right-width:0}.wj-columnfiltereditor .wj-glyph-down:before{font-family:Dyn CRM Symbol Grid;content:"\\E0A1"}.wj-columnfiltereditor .wj-control a[wj-part^=btn-]{background-color:none;text-transform:uppercase}.duration-editor{display:flex;flex-direction:row;flex-wrap:nowrap}.wj-tooltip{background-color:#666;color:#fff;border-radius:0}.wj-tooltip p{margin:0}.wj-calendar-header .wj-btn-group .wj-btn{border-radius:0;background-color:#fff;background-image:none;width:auto}'),Eh(".sol-selection-container.msos-grid-selection-container{outline:none;box-shadow:0 6px 13px rgba(0,0,0,.2);position:absolute}.sol-container.msos-grid-container{outline:none}.sol-moreless-container.msos-grid-moreless-link{line-height:normal}.sol-inner-container.msos-grid-inner-container{transform:scale(1)}.sol-selected-display-item.msos-grid-selected-display-item{line-height:normal}.sol-selected-display-item-text.msos-grid-selected-display-item-text{display:table-cell}.sol-current-selection-expanded.msos-grid-current-selection-expanded,.sol-current-selection-normal.msos-grid-current-selection-normal{padding:3px 0}.sol-current-selection-expanded.uci-msos-grid-current-selection-expanded,.sol-current-selection-normal.uci-msos-grid-current-selection-normal{padding:8.5px 0}.sol-container-Disabled.msos-sol-container-Disabled{background-color:#d8d8d8;color:#333}.sol-moreless-container-Disabled.msos-sol-moreless-container-Disabled{background-color:#d8d8d8}.custom-editor-div{position:absolute;z-index:1;width:auto;min-width:252px;width:252px;color:#000;background-color:#fff;box-shadow:0 6px 13px rgba(0,0,0,.2)!important;margin:0!important}");var Bh,jh=window&&window.__extends||(Bh=function(t,i){return(Bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}Bh(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),Ch="ToggleSelectionMode",Ih=function(i){function t(){var t=i.call(this)||this;return t.updateEvents.shouldIgnoreEvent(Mscrm.UpdateEventType.Activation,!1),t.shouldPreventMultipleEventTypes=!1,t}return jh(t,i),t.prototype.initCore=function(t,i){MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.client.trackContainerResize)||t.client.trackContainerResize(!0),this.initCoreInternal(t,i)},t.prototype.initializeListView=function(t){this.currentList=new lr,this.listComponent=new De(t,this.container,this.perfTool),this.addListCommandListeners(t),this.listComponent.setContext(t),this.initializeEnhancedPagination(t),this.listCoordinator=new Ar(this.enhancedPagination?[this.enhancedPagination]:[],this.listComponent),this.listCoordinator.initialize(t),this.listComponent.initialize(),this.updateAndReportRenderedType(t)},t.prototype.updateListView=function(t,i){if(this.listCoordinator&&i){var n=this.currentList.getService(Je.enhancedPaginationService);n||(n=this.initializeEnhancedPagination(t),this.listCoordinator=new Ar(this.enhancedPagination?[this.enhancedPagination]:[],this.listComponent),this.listCoordinator.initialize(t)),this.listComponent.onRecordsDataInit||this.addListCommandListeners(t),this.isRendered=this.listCoordinator.handleDataSetUpdate(t,n)}else this.listComponent.needsReRender()&&this.listComponent.render();this.hostCommands.fireListEvents(t)},t.prototype.initializeEnhancedPagination=function(t){var i=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(t.parameters.enhancedPagingDisabled);if(i&&!t.parameters.enhancedPagingDisabled.raw||!i||t.parameters.UseDefaultCardFormForList&&t.parameters.UseDefaultCardFormForList.raw){var n=null;qn.isUCIDisruptiveFeatureEnabled(qn.getGridPaginationStateFCB())&&(n=t&&t.parameters&&t.parameters.PageNumberToRestore&&t.parameters.PageNumberToRestore.raw?t.parameters.PageNumberToRestore.raw:1);var e=new fr(this.listComponent,t.parameters.Grid,t.utils,new yn(this.listComponent),n,this.perfTool);this.currentList.add(Je.enhancedPaginationService,e);var r=new $e(e,new yn(this.listComponent));return r.initialize(t),this.enhancedPagination=r,e}return null},t.prototype.updateCore=function(i){try{this.perfTool.tryStop(se.PagingLoad),this.perfTool.tryStop(se.Sorting),this.perfTool.tryStop(se.Filtering);var t=Mscrm.UpdateEvents.hasEvent(i.updatedProperties,Mscrm.UpdateEventType.Layout),n=!1,e=void 0,r=void 0;if(t){if(e=i.client.allocatedWidth,r=i.client.allocatedHeight,0===e&&0===r)return;this.getViewType(i,e)!=this.currentViewType&&(this.destroyCore(),this.initCoreInternal(i),n=!0)}this.currentViewType===Mn.List?this.updateCoreList(i,n):this.currentViewType==Mn.Grid&&this.updateCoreGrid(i,t,n,e,r)}catch(t){var s=new Array;throw s.push({name:"updatedProperties",value:i.updatedProperties.join(",")}),this.gridTelemetry.reportFailure("updateCore",t,null,s),t}},t.prototype.onPreNavigation=function(t){void 0===t&&(t=!1),this.currentGrid.gridComponent.finishEdit();var i=this.currentGrid.getService(Je.dataSetService);if(!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i)&&!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.dataSet)){var n=i.dataSet.getSelectedRecord();!MscrmCommon.ControlUtils.Object.isNullOrUndefined(n)&&n.isRecordValid()&&i.beginRecordSave(t)}},t.prototype.onPreNavigationWithPromise=function(){return this.onPreNavigation.bind(this)(!0),Promise.resolve(!0)},t.prototype.getOutputsCore=function(){return this.currentGrid.getAllCurrentRecords()},t.prototype.destroyCore=function(){try{this.isControlInitialized&&(MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridCoordinator)||(this.gridCoordinator.dispose(),this.gridCoordinator=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.currentGrid)||(this.currentGrid.dispose(),this.currentGrid=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.criticalRegionService)||(this.criticalRegionService.dispose(),this.criticalRegionService=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.listCoordinator)||(this.listCoordinator.dispose(),this.listCoordinator=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.currentList)||(this.currentList.dispose(),this.currentList=null),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.listComponent)||this.listComponent.destroy(),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.perfTool)||(this.perfTool.dispose(),this.perfTool=null))}catch(t){throw this.gridTelemetry.reportFailure("destroyCore",t),t}finally{MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.gridTelemetry)||(this.gridTelemetry.dispose(),this.gridTelemetry=null)}},t.prototype.initCoreInternal=function(i,n){var e=this;try{qn.contextUtils=i.utils,qn.userSettings=i.userSettings,this.gridTelemetry=new Ln(i.reporting),this.gridTelemetry.setDefaultEventParams(i.parameters),this.perfTool=new de,this.perfTool.initialize(function(t){return i.utils.createPerformanceStopwatch(t)}),this.perfTool.tryStart(se.InitToRendered),qn.contextUtils=i.utils;var t=i.client.allocatedWidth;if(this.currentViewType=this.getViewType(i,t),this.perfTool.tryStart(se.InitGrid),MscrmCommon.ControlUtils.Object.isNullOrUndefined(this.hostCommands)&&(this.hostCommands=new Sn),On.initialize(function(t){return i.resources.getString(t)}),this.currentViewType!=Mn.List){dr.initialize(function(t){return i.resources.getString(t)}),MscrmCommon.ControlUtils.WijmoGlobalization.setCrmNumberFormatting(i.formatting),MscrmCommon.ControlUtils.WijmoGlobalization.setWijmoNumberFormatStructure(i.client.numberFormattingInfo,MscrmCommon.Globalization.CrmNumberType.CrmDecimalTypeName,!1,null);var r=new ph(i,this.perfTool,this.gridTelemetry,i.client.userAgent);this.criticalRegionService=r.buildCriticalRegionService();var s=i.parameters,o=s.Grid,h=s.useSkypeProtocol,c=i.mode.isOffline?Se.No:qn.parsePropertyOrDefault(i.parameters.EnableEditing,Te.parseValue,Se.Yes),a=c==Se.Yes,u=a?qn.parsePropertyOrDefault(i.parameters.EnableGroupBy,We.parseValue,Oe.Yes):Oe.No,l=qn.parsePropertyOrDefault(i.parameters.EnableFiltering,ze.parseValue,Ue.Yes);a||i.utils.isFeatureEnabled(qn.getReadOnlyGridColumnFilteringFCB())||(l=Ue.No);var A=!MscrmCommon.ControlUtils.Object.isNullOrUndefined(i.parameters.enhancedPagingDisabled)&&!i.parameters.enhancedPagingDisabled.raw,f=r.create(i,n,this.notifyOutputChanged).withPagination(A||a).withKeyboardNavigation().withAriaLiveRegion().withSorting().withEditing(c).withFiltering(l).withGrouping(u).withSubGrid(function(t){return t.create(i,n,e.notifyOutputChanged).withEditing(c).withFiltering(l).withSorting().withPagination(A||a).withKeyboardNavigation().withAriaLiveRegion()});c!==Se.Yes&&f.withFieldTypeColumns(h);var d=f.build(this.container,o,!1,this.criticalRegionService,this.perfTool),g=(this.currentGrid=d).getService(Je.dataAdapter),w=d.getService(Je.stateService),m=d.getService(Je.dataSetService),b=d.getService(Je.errorHandlingService);this.gridCoordinator=new ur(d.gridFeatures,d.gridComponent,g,w,m,this.criticalRegionService,b,this.perfTool),this.gridCoordinator.initialize(i),this.updateAndReportRenderedType(i)}else this.initializeListView(i);this.container.setAttribute(Gn.role,"presentation"),this.perfTool.tryStop(se.InitGrid)}catch(t){throw this.gridTelemetry.reportFailure("initCoreInternal",t),t}},t.prototype.updateCoreList=function(t,i){if(!t.parameters.Grid.working){this.currentList||this.initializeListView(t);var n=t.parameters.isNewPageRequested&&t.parameters.isNewPageRequested.raw,e=i||qn.shouldRender(t.updatedProperties)||n||t.parameters.Grid.hasError;if(qn.isPopUpRootNodeEvent(t.updatedProperties)||qn.isForcedUpdate)return qn.isForcedUpdate=!1,void this.listComponent.render();this.updateListView(t,e)}},t.prototype.updateCoreGrid=function(t,i,n,e,r){this.currentGrid||this.initCore(t),this.hostCommands.fireGridEvents(t);var s=t.mode.isOffline,o=this.currentGrid.gridComponent;o.isEditable=o.isEditable&&!s,qn.isUci()&&o.isEditable&&t.utils.isFeatureEnabled(qn.getSaveEditableGridPreNavFCB())&&this.attachPreNavigateEvent(t),this.gridCoordinator.notifyAboutOfflineMode(s);var h=this.currentGrid.getService(Je.containerService),c=this.currentGrid&&this.currentGrid.getService(Je.enhancedPaginationService),a=i&&MscrmCommon.ControlUtils.Object.isNullOrUndefined(o.activeEditor);a&&(a=h.resizeControl(r,e,qn.isEditableGridOnLegacyClient(o.isEditable)));var u=!o.isEditable&&a,l=this.currentGrid.getService(Je.dataSetService);l&&qn.containsKey(t.updatedProperties,Gn.propertyKeyGrid)&&(l.dataSet=t.parameters.Grid);var A=t.parameters.isNewPageRequested&&t.parameters.isNewPageRequested.raw;(u||n||qn.shouldRender(t.updatedProperties)||A||!this.isRendered&&!t.parameters.Grid.working||l.dataSet.hasError)&&(this.isRendered=this.gridCoordinator.handleDataSetUpdate(t.mode.isVisible||t.mode.isActive,t.parameters,!1,c)),c&&c.shouldRestoreScrollPosition&&(o.refresh(),c.restoreScrollPosition());var f=o.isEditable&&qn.isPhone(t.client.getFormFactor());(a||f)&&(o.isEditable&&(this.gridCoordinator.handleSizeChange(t.parameters),this.reflowEditableGridColumns(t,f)),o.refresh()),t.decorators&&t.decorators.ClassName&&(o.gridRoot.className&&-1!==o.gridRoot.className.indexOf(t.decorators.ClassName)||(o.gridRoot.className||(o.gridRoot.className=""),o.gridRoot.className+=" "+t.decorators.ClassName))},t.prototype.getViewType=function(t,i){var n=t.mode.isOffline?Se.No:qn.parsePropertyOrDefault(t.parameters.EnableEditing,Te.parseValue,Se.Yes),e=qn.parsePropertyOrDefault(t.parameters.ReflowBehavior,kn.parseValue,n===Se.Yes?In.GridOnly:In.Reflow);return qn.determineViewType(n===Se.Yes,e,i)},t.prototype.reflowEditableGridColumns=function(t,i){if(t.parameters.Grid.columns.length>Gn.maxNumberOfColumnsOnSmallScreen){var n=t.parameters.Grid.columns.slice(Gn.maxNumberOfColumnsOnSmallScreen).map(function(t){return t.name});this.currentGrid.gridComponent.hideColumns(n,i)}},t.prototype.attachPreNavigateEvent=function(t){t.utils.fireEvent("parentPagePreNavigation",[this.onPreNavigationWithPromise.bind(this)])},t.prototype.updateAndReportRenderedType=function(t){this.container.setAttribute(Gn.dataType,Mn[this.currentViewType]);var i=t.mode.isOffline?Se.No:qn.parsePropertyOrDefault(t.parameters.EnableEditing,Te.parseValue,Se.Yes),n=[{name:Gn.gridDataType,value:Mn[this.currentViewType]},{name:Gn.eventDescription,value:Gn.gridRenderingMessage+Mn[this.currentViewType]},{name:Gn.gridViewId,value:t.parameters.Grid.getViewId()},{name:Gn.gridLoadType,value:i===Se.Yes?Gn.editableGrid:Gn.readonlyGrid}];this.gridTelemetry.reportEvent(Gn.loadEvent,n)},t.prototype.addListCommandListeners=function(i){var n=this,e=this.listComponent.getListSortingPopup();this.listComponent.onRecordsDataInit=function(t){n.hostCommands.disposeCommands(Mn.List),t.sortedRecordIds.length&&(n.hostCommands.addCommandListener(Mn.List,On.commandBarSelectIconText,Ch,n.listComponent.OnSelectionModeChanged.bind(n.listComponent),i.client.isRTL?"SelectButtonRTL":"SelectButton",On.commandBarSelectToolTipText),n.hostCommands.addCommandListener(Mn.List,On.commandBarSortIconText,e.getSortButtonId(),e.renderSortingPopup.bind(e),"SortButton",On.commandBarSortToolTipText))}},t}(MscrmCommon.CommonControl);return i.SELECT_COMMAND_ID=Ch,i.SharedGrid=Ih,i}(this.MscrmControls.Grid||{});
